!function(){function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t){var i="function"==typeof Map?new Map:void 0;return(e=function(t){if(null===t||(e=t,-1===Function.toString.call(e).indexOf("[native code]")))return t;var e;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(t))return i.get(t);i.set(t,r)}function r(){return n(t,arguments,h(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a(r,t)})(t)}function n(t,e,i){return(n=c()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&a(r,n.prototype),r}).apply(null,arguments)}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(o.push(i.value),!e||o.length!==e);a=!0);}catch(u){s=!0,r=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}(t,e)||d(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=c();return function(){var n,i=h(t);if(e){var r=h(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?l(t):e}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||d(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=d(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function d(t,e){if(t){if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function y(t,e,n){return e&&_(t.prototype,e),n&&_(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+eSx":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(n("2o5z")),r=s(n("QTq/")),o=s(n("jDUc")),a=s(n("6D9Q"));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){var n=(0,i.default)(e),s=(0,r.default)(e),u=(0,i.default)(t),l=(0,r.default)(t);return((0,a.default)(Math.atan2(Math.sin((0,o.default)(s)-(0,o.default)(l))*Math.cos((0,o.default)(n)),Math.cos((0,o.default)(u))*Math.sin((0,o.default)(n))-Math.sin((0,o.default)(u))*Math.cos((0,o.default)(n))*Math.cos((0,o.default)(s)-(0,o.default)(l))))+360)%360}},"+gfn":function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n){var i=t.call(this)||this;return i.id=e,i.type=n,i}return r(e,t),Object.defineProperty(e.prototype,"source",{get:function(){return{type:this.type}},enumerable:!1,configurable:!0}),e}(n("MMNp").Eventable);e.default=o},"+qE3":function(t,e,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise(function(n,i){function r(n){t.removeListener(e,o),i(n)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",r),n([].slice.call(arguments))}_(t,e,o,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&_(t,"error",e,{once:!0})}(t,r)})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function l(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function h(t,e,n,i){var r,o,a;if(l(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if("function"==typeof a?a=o[e]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),(r=c(t))>0&&a.length>r&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=a.length,console&&console.warn&&console.warn(s)}return t}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=p.bind(i);return r.listener=n,i.wrapFn=r,r}function d(t,e,n){var i=t._events;if(void 0===i)return[];var r=i[e];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(r):m(r,r.length)}function g(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}function _(t,e,n,i){if("function"==typeof t.on)i.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,function r(o){i.once&&t.removeEventListener(e,r),n(o)})}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=r[t];if(void 0===u)return!1;if("function"==typeof u)o(u,this,e);else{var l=u.length,c=m(u,l);for(n=0;n<l;++n)o(c[n],this,e)}return!0},s.prototype.on=s.prototype.addListener=function(t,e){return h(this,t,e,!1)},s.prototype.prependListener=function(t,e){return h(this,t,e,!0)},s.prototype.once=function(t,e){return l(e),this.on(t,f(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return l(e),this.prependListener(t,f(this,t,e)),this},s.prototype.off=s.prototype.removeListener=function(t,e){var n,i,r,o,a;if(l(e),void 0===(i=this._events))return this;if(void 0===(n=i[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,r),1===n.length&&(i[t]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.removeAllListeners=function(t){var e,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},s.prototype.listeners=function(t){return d(this,t,!0)},s.prototype.rawListeners=function(t){return d(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):g.call(t,e)},s.prototype.listenerCount=g,s.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},"/5w7":function(t,e,n){"use strict";t.exports={placeholder:{de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"\u05dc\u05d7\u05e4\u05e9",ja:"\u30b5\u30fc\u30c1",lv:"Mekl\u0113t",pt:"Procurar",sr:"\u041f\u0440\u0435\u0442\u0440\u0430\u0433\u0430",zh:"\u641c\u7d22",cs:"Vyhled\xe1v\xe1n\xed",hu:"Keres\xe9s",ka:"\u10eb\u10d8\u10d4\u10d1\u10d0",nb:"S\xf8ke",sk:"Vyh\u013ead\xe1vanie",th:"\u0e04\u0e49\u0e19\u0e2b\u0e32",fi:"Hae",is:"Leita",ko:"\uc218\uc0c9",pl:"Szukaj",sl:"Iskanje",fa:"\u062c\u0633\u062a\u062c\u0648",ru:"\u041f\u043e\u0438\u0441\u043a"}}},"/R7+":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Serializable=void 0;var i=n("Ijak"),r=function(){function t(){}return Object.defineProperty(t.prototype,"json",{get:function(){return i.kebabize(this)},enumerable:!1,configurable:!0}),t}();e.Serializable=r;var o=function(){function t(t){this.id=t.id,this.type=t.type,this.source=t.source,this.sourceLayer=t["source-layer"],this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,this.filter=t.filter,this.metadata=t.metadata}return Object.defineProperty(t.prototype,"json",{get:function(){var t=this,e=t.source,n=t.sourceLayer,i=t.minzoom,r=t.maxzoom,o=t.filter,a=t.metadata,s={id:t.id,type:t.type};return e&&(s.source=e),n&&(s["source-layer"]=n),i&&(s.minzoom=i),r&&(s.maxzoom=r),o&&(s.filter=o),this.metadata&&(s.metadata=a),this.paint&&(s.paint=this.paint.json),this.layout&&(s.layout=this.layout.json),s},enumerable:!1,configurable:!0}),t.prototype.setFilterLevel=function(t){var e=this;this.filter.forEach(function(n,i){if("proximiio-levelchangers"===e.id){var r="__level_"+t;3===i&&(n[1]=r),4===i&&(n[1][1]=r)}if(Array.isArray(n)){var o,a=!1;"=="===n[0]&&("to-number"===(o=n[1])[0]&&"get"===o[1][0]&&"level"===o[1][1]&&(n[2]=t,a=!0),"get"===o[0]&&"level"===o[1]&&(n[2]=t,a=!0)),"<="===n[0]&&("to-number"===(o=n[1])[0]&&"get"===o[1][0]&&"level_min"===o[1][1]&&(n[2]=t,a=!0),"get"===o[0]&&"level_min"===o[1]&&(n[2]=t,a=!0)),">="===n[0]&&("to-number"===(o=n[1])[0]&&"get"===o[1][0]&&"level_max"===o[1][1]&&(n[2]=t,a=!0),"get"===o[0]&&"level_max"===o[1]&&(n[2]=t,a=!0)),a&&(e.filter[i]=n)}})},t}();e.default=o},0:function(t,e,n){t.exports=n("zUnb")},"0FX9":function(t,e,n){var i=n("Z92M"),r=n("qmMu"),o=n("QUaw"),a=n("QAZZ");function s(t,e,n,o,a){var s=[].slice.call(arguments,1),u=s.length,l="function"==typeof s[u-1];if(!l&&!i())throw new Error("Callback required as last argument");if(!l){if(u<1)throw new Error("Too few arguments provided");return 1===u?(n=e,e=o=void 0):2!==u||e.getContext||(o=n,n=e,e=void 0),new Promise(function(i,a){try{var s=r.create(n,o);i(t(s,e,o))}catch(u){a(u)}})}if(u<2)throw new Error("Too few arguments provided");2===u?(a=n,n=e,e=o=void 0):3===u&&(e.getContext&&void 0===a?(a=o,o=void 0):(a=o,o=n,n=e,e=void 0));try{var c=r.create(n,o);a(null,t(c,e,o))}catch(h){a(h)}}e.create=r.create,e.toCanvas=s.bind(null,o.render),e.toDataURL=s.bind(null,o.renderToDataURL),e.toString=s.bind(null,function(t,e,n){return a.render(t,n)})},"0KjW":function(t,e,n){"use strict";var i=n("KXza");t.exports=i},"0WuP":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={"proximiio:languages":{en:{title:"English",level:{zero:"levels",one:"level",two:"levels",few:"levels",many:"levels",other:"levels"},meter:{zero:"meters",one:"meter",two:"meters",few:"meters",many:"meters",other:"meters"},turn_before:"In %d %s %s.",turn_prepare:"Prepare to %s in %d %s.",turn_now:"%s.",continue:"Continue %d %s.",levelchange:"Use %s to get to %d %s.",turn_left_hard:"turn hard left",turn_left:"turn left",turn_left_slight:"turn slight left",turn_straight:"continue straight",turn_right_slight:"turn slight right",turn_right:"turn right",turn_right_hard:"turn right",turn_around:"turn around",destination_nearing:"In %d %s you will arrive at your destination.",destination_reached:"You have reached your destination",canceled:"Navigation was canceled.",calculating:"Calculating route...",recalculating:"Recalculating route...",path_not_found:"Unable to find path.",level_change_down:"go %d %s up to %s %d.",level_change_up:"go %d %s up to %s %d.",passing_poi:"Passing %s on your %s",left:"left",right:"right"},fi:{title:"English",level:{zero:"levels",one:"level",two:"levels",few:"levels",many:"levels",other:"levels"},meter:{zero:"meters",one:"meter",two:"meters",few:"meters",many:"meters",other:"meters"},turn_before:"In %d %s %s.",turn_prepare:"Prepare to %s in %d %s.",turn_now:"%s.",continue:"Continue %d %s.",levelchange:"Use %s to get to %d %s.",turn_left_hard:"turn hard left",turn_left:"turn left",turn_left_slight:"turn slight left",turn_straight:"continue straight",turn_right_slight:"turn slight right",turn_right:"turn right",turn_right_hard:"turn right",turn_around:"turn around",destination_nearing:"In %d %s you will arrive at your destination.",destination_reached:"You have reached your destination",canceled:"Navigation was canceled.",calculating:"Calculating route...",recalculating:"Recalculating route...",path_not_found:"Unable to find path.",level_change_down:"go %d %s up to %s %d.",level_change_up:"go %d %s up to %s %d.",passing_poi:"Passing %s on your %s",left:"left",right:"right"}},en:{title:"English",level:{zero:"levels",one:"level",two:"levels",few:"levels",many:"levels",other:"levels"},meter:{zero:"meters",one:"meter",two:"meters",few:"meters",many:"meters",other:"meters"},turn_before:"In %d %s %s.",turn_prepare:"Prepare to %s in %d %s.",turn_now:"%s.",continue:"Continue %d %s.",levelchange:"Use %s to get to %d %s.",turn_left_hard:"turn hard left",turn_left:"turn left",turn_left_slight:"turn slight left",turn_straight:"continue straight",turn_right_slight:"turn slight right",turn_right:"turn right",turn_right_hard:"turn right",turn_around:"turn around",destination_nearing:"In %d %s you will arrive at your destination.",destination_reached:"You have reached your destination",canceled:"Navigation was canceled.",calculating:"Calculating route...",recalculating:"Recalculating route...",path_not_found:"Unable to find path.",level_change_down:"go %d %s up to %s %d.",level_change_up:"go %d %s up to %s %d.",passing_poi:"Passing %s on your %s",left:"left",right:"right"}}},"0wsv":function(t,e,n){"use strict";n.r(e),n.d(e,"earthRadius",function(){return i}),n.d(e,"factors",function(){return r}),n.d(e,"unitsFactors",function(){return o}),n.d(e,"areaFactors",function(){return a}),n.d(e,"feature",function(){return s}),n.d(e,"geometry",function(){return u}),n.d(e,"point",function(){return l}),n.d(e,"points",function(){return c}),n.d(e,"polygon",function(){return h}),n.d(e,"polygons",function(){return p}),n.d(e,"lineString",function(){return f}),n.d(e,"lineStrings",function(){return d}),n.d(e,"featureCollection",function(){return g}),n.d(e,"multiLineString",function(){return m}),n.d(e,"multiPoint",function(){return _}),n.d(e,"multiPolygon",function(){return y}),n.d(e,"geometryCollection",function(){return v}),n.d(e,"round",function(){return b}),n.d(e,"radiansToLength",function(){return w}),n.d(e,"lengthToRadians",function(){return x}),n.d(e,"lengthToDegrees",function(){return k}),n.d(e,"bearingToAzimuth",function(){return E}),n.d(e,"radiansToDegrees",function(){return S}),n.d(e,"degreesToRadians",function(){return C}),n.d(e,"convertLength",function(){return I}),n.d(e,"convertArea",function(){return A}),n.d(e,"isNumber",function(){return P}),n.d(e,"isObject",function(){return T}),n.d(e,"validateBBox",function(){return O}),n.d(e,"validateId",function(){return L});var i=6371008.8,r={centimeters:100*i,centimetres:100*i,degrees:i/111325,feet:3.28084*i,inches:39.37*i,kilometers:i/1e3,kilometres:i/1e3,meters:i,metres:i,miles:i/1609.344,millimeters:1e3*i,millimetres:1e3*i,nauticalmiles:i/1852,radians:1,yards:1.0936*i},o={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/i,yards:1.0936133},a={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function s(t,e,n){void 0===n&&(n={});var i={type:"Feature"};return(0===n.id||n.id)&&(i.id=n.id),n.bbox&&(i.bbox=n.bbox),i.properties=e||{},i.geometry=t,i}function u(t,e,n){switch(void 0===n&&(n={}),t){case"Point":return l(e).geometry;case"LineString":return f(e).geometry;case"Polygon":return h(e).geometry;case"MultiPoint":return _(e).geometry;case"MultiLineString":return m(e).geometry;case"MultiPolygon":return y(e).geometry;default:throw new Error(t+" is invalid")}}function l(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!P(t[0])||!P(t[1]))throw new Error("coordinates must contain numbers");return s({type:"Point",coordinates:t},e,n)}function c(t,e,n){return void 0===n&&(n={}),g(t.map(function(t){return l(t,e)}),n)}function h(t,e,n){void 0===n&&(n={});for(var i=0,r=t;i<r.length;i++){var o=r[i];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<o[o.length-1].length;a++)if(o[o.length-1][a]!==o[0][a])throw new Error("First and last Position are not equivalent.")}return s({type:"Polygon",coordinates:t},e,n)}function p(t,e,n){return void 0===n&&(n={}),g(t.map(function(t){return h(t,e)}),n)}function f(t,e,n){if(void 0===n&&(n={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return s({type:"LineString",coordinates:t},e,n)}function d(t,e,n){return void 0===n&&(n={}),g(t.map(function(t){return f(t,e)}),n)}function g(t,e){void 0===e&&(e={});var n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function m(t,e,n){return void 0===n&&(n={}),s({type:"MultiLineString",coordinates:t},e,n)}function _(t,e,n){return void 0===n&&(n={}),s({type:"MultiPoint",coordinates:t},e,n)}function y(t,e,n){return void 0===n&&(n={}),s({type:"MultiPolygon",coordinates:t},e,n)}function v(t,e,n){return void 0===n&&(n={}),s({type:"GeometryCollection",geometries:t},e,n)}function b(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n}function w(t,e){void 0===e&&(e="kilometers");var n=r[e];if(!n)throw new Error(e+" units is invalid");return t*n}function x(t,e){void 0===e&&(e="kilometers");var n=r[e];if(!n)throw new Error(e+" units is invalid");return t/n}function k(t,e){return S(x(t,e))}function E(t){var e=t%360;return e<0&&(e+=360),e}function S(t){return t%(2*Math.PI)*180/Math.PI}function C(t){return t%360*Math.PI/180}function I(t,e,n){if(void 0===e&&(e="kilometers"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("length must be a positive number");return w(x(t,e),n)}function A(t,e,n){if(void 0===e&&(e="meters"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("area must be a positive number");var i=a[e];if(!i)throw new Error("invalid original units");var r=a[n];if(!r)throw new Error("invalid final units");return t/i*r}function P(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function T(t){return!!t&&t.constructor===Object}function O(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!P(t))throw new Error("bbox must only contain numbers")})}function L(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}},"1sBl":function(t,e,n){var i=n("e/Dd").getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];for(var e=Math.floor(t/7)+2,n=i(t),r=145===n?26:2*Math.ceil((n-13)/(2*e-2)),o=[n-7],a=1;a<e-1;a++)o[a]=o[a-1]-r;return o.push(6),o.reverse()},e.getPositions=function(t){for(var n=[],i=e.getRowColCoords(t),r=i.length,o=0;o<r;o++)for(var a=0;a<r;a++)0===o&&0===a||0===o&&a===r-1||o===r-1&&0===a||n.push([i[o],i[a]]);return n}},"2+Hy":function(t,e,n){"use strict";var i=n("YI60"),r=n("U6jy"),o=n("piyq"),a=n("d0rS"),s=n("jLWS"),u=1;function l(t,e){if(!t)throw new Error("MapiRequest requires a client");if(!e||!e.path||!e.method)throw new Error("MapiRequest requires an options object with path and method properties");var n={};e.body&&(n["content-type"]="application/json");var i=r(n,e.headers),a=Object.keys(i).reduce(function(t,e){return t[e.toLowerCase()]=i[e],t},{});this.id=u++,this._options=e,this.emitter=new o,this.client=t,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=e.path,this.method=e.method,this.origin=e.origin||t.origin,this.query=e.query||{},this.params=e.params||{},this.body=e.body||null,this.file=e.file||null,this.encoding=e.encoding||"utf8",this.sendFileAs=e.sendFileAs||null,this.headers=a}l.prototype.url=function(t){var e=a.prependOrigin(this.path,this.origin);e=a.appendQueryObject(e,this.query);var n=this.params,o=null==t?this.client.accessToken:t;if(o){e=a.appendQueryParam(e,"access_token",o);var s=i(o).user;n=r({ownerId:s},n)}return a.interpolateRouteParams(e,n)},l.prototype.send=function(){var t=this;if(t.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return t.sent=!0,t.client.sendRequest(t).then(function(e){return t.response=e,t.emitter.emit(s.EVENT_RESPONSE,e),e},function(e){throw t.error=e,t.emitter.emit(s.EVENT_ERROR,e),e})},l.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),this.response||this.error||this.aborted||(this.aborted=!0,this.client.abortRequest(this))},l.prototype.eachPage=function(t){var e=this;function n(n){t(null,n,function(){delete e._nextPageRequest;var t=n.nextPage();t&&(e._nextPageRequest=t,r(t))})}function i(e){t(e,null,function(){})}function r(t){t.send().then(n,i)}r(this)},l.prototype.clone=function(){return this._extend()},l.prototype._extend=function(t){var e=r(this._options,t);return new l(this.client,e)},t.exports=l},"26tU":function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutProperties=e.PaintProperties=void 0;var o=n("/R7+"),a=function(t){function e(e){var n=t.call(this)||this;return n.hillshadeIlluminationDirection=e["hillshade-illumination-direction"]||335,n.hillshadeIlluminationAnchor=e["hillshade-illumination-anchor"]||"viewport",n.hillshadeExaggeration=e["hillshade-exaggeration"]||.5,n.hillshadeShadowColor=e["hillshade-shadow-color"]||'#000000"',n.hillshadeHighlightColor=e["hillshade-highlight-color"]||"#ffffff",n.hillshadeAccentColor=e["hillshade-accent-color"]||"#000000",n}return r(e,t),e}(o.Serializable);e.PaintProperties=a;var s=function(t){function e(e){var n=t.call(this)||this;return n.visibility=e.visibility||"visible",n}return r(e,t),e}(o.Serializable);e.LayoutProperties=s;var u=function(t){function e(e){var n=t.call(this,e)||this;return n.paint=new a(e.paint||{}),n.layout=new s(e.layout||{}),n}return r(e,t),e}(o.default);e.default=u},"2CXu":function(t,e){var n={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\u1ea4":"A","\u1eae":"A","\u1eb2":"A","\u1eb4":"A","\u1eb6":"A","\xc6":"AE","\u1ea6":"A","\u1eb0":"A","\u0202":"A","\xc7":"C","\u1e08":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\u1ebe":"E","\u1e16":"E","\u1ec0":"E","\u1e14":"E","\u1e1c":"E","\u0206":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\u1e2e":"I","\u020a":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\u1ed0":"O","\u1e4c":"O","\u1e52":"O","\u020e":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\u1ea5":"a","\u1eaf":"a","\u1eb3":"a","\u1eb5":"a","\u1eb7":"a","\xe6":"ae","\u1ea7":"a","\u1eb1":"a","\u0203":"a","\xe7":"c","\u1e09":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\u1ebf":"e","\u1e17":"e","\u1ec1":"e","\u1e15":"e","\u1e1d":"e","\u0207":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\u1e2f":"i","\u020b":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\u1ed1":"o","\u1e4d":"o","\u1e53":"o","\u020f":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u0108":"C","\u0109":"c","\u010a":"C","\u010b":"c","\u010c":"C","\u010d":"c","C\u0306":"C","c\u0306":"c","\u010e":"D","\u010f":"d","\u0110":"D","\u0111":"d","\u0112":"E","\u0113":"e","\u0114":"E","\u0115":"e","\u0116":"E","\u0117":"e","\u0118":"E","\u0119":"e","\u011a":"E","\u011b":"e","\u011c":"G","\u01f4":"G","\u011d":"g","\u01f5":"g","\u011e":"G","\u011f":"g","\u0120":"G","\u0121":"g","\u0122":"G","\u0123":"g","\u0124":"H","\u0125":"h","\u0126":"H","\u0127":"h","\u1e2a":"H","\u1e2b":"h","\u0128":"I","\u0129":"i","\u012a":"I","\u012b":"i","\u012c":"I","\u012d":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0132":"IJ","\u0133":"ij","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u1e30":"K","\u1e31":"k","K\u0306":"K","k\u0306":"k","\u0139":"L","\u013a":"l","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u013f":"L","\u0140":"l","\u0141":"l","\u0142":"l","\u1e3e":"M","\u1e3f":"m","M\u0306":"M","m\u0306":"m","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u0149":"n","N\u0306":"N","n\u0306":"n","\u014c":"O","\u014d":"o","\u014e":"O","\u014f":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","P\u0306":"P","p\u0306":"p","\u0154":"R","\u0155":"r","\u0156":"R","\u0157":"r","\u0158":"R","\u0159":"r","R\u0306":"R","r\u0306":"r","\u0212":"R","\u0213":"r","\u015a":"S","\u015b":"s","\u015c":"S","\u015d":"s","\u015e":"S","\u0218":"S","\u0219":"s","\u015f":"s","\u0160":"S","\u0161":"s","\xdf":"ss","\u0162":"T","\u0163":"t","\u021b":"t","\u021a":"T","\u0164":"T","\u0165":"t","\u0166":"T","\u0167":"t","T\u0306":"T","t\u0306":"t","\u0168":"U","\u0169":"u","\u016a":"U","\u016b":"u","\u016c":"U","\u016d":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0216":"U","\u0217":"u","V\u0306":"V","v\u0306":"v","\u0174":"W","\u0175":"w","\u1e82":"W","\u1e83":"w","X\u0306":"X","x\u0306":"x","\u0176":"Y","\u0177":"y","\u0178":"Y","Y\u0306":"Y","y\u0306":"y","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u017f":"s","\u0192":"f","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01cd":"A","\u01ce":"a","\u01cf":"I","\u01d0":"i","\u01d1":"O","\u01d2":"o","\u01d3":"U","\u01d4":"u","\u01d5":"U","\u01d6":"u","\u01d7":"U","\u01d8":"u","\u01d9":"U","\u01da":"u","\u01db":"U","\u01dc":"u","\u1ee8":"U","\u1ee9":"u","\u1e78":"U","\u1e79":"u","\u01fa":"A","\u01fb":"a","\u01fc":"AE","\u01fd":"ae","\u01fe":"O","\u01ff":"o","\xde":"TH","\xfe":"th","\u1e54":"P","\u1e55":"p","\u1e64":"S","\u1e65":"s","X\u0301":"X","x\u0301":"x","\u0403":"\u0413","\u0453":"\u0433","\u040c":"\u041a","\u045c":"\u043a","A\u030b":"A","a\u030b":"a","E\u030b":"E","e\u030b":"e","I\u030b":"I","i\u030b":"i","\u01f8":"N","\u01f9":"n","\u1ed2":"O","\u1ed3":"o","\u1e50":"O","\u1e51":"o","\u1eea":"U","\u1eeb":"u","\u1e80":"W","\u1e81":"w","\u1ef2":"Y","\u1ef3":"y","\u0200":"A","\u0201":"a","\u0204":"E","\u0205":"e","\u0208":"I","\u0209":"i","\u020c":"O","\u020d":"o","\u0210":"R","\u0211":"r","\u0214":"U","\u0215":"u","B\u030c":"B","b\u030c":"b","\u010c\u0323":"C","\u010d\u0323":"c","\xca\u030c":"E","\xea\u030c":"e","F\u030c":"F","f\u030c":"f","\u01e6":"G","\u01e7":"g","\u021e":"H","\u021f":"h","J\u030c":"J","\u01f0":"j","\u01e8":"K","\u01e9":"k","M\u030c":"M","m\u030c":"m","P\u030c":"P","p\u030c":"p","Q\u030c":"Q","q\u030c":"q","\u0158\u0329":"R","\u0159\u0329":"r","\u1e66":"S","\u1e67":"s","V\u030c":"V","v\u030c":"v","W\u030c":"W","w\u030c":"w","X\u030c":"X","x\u030c":"x","Y\u030c":"Y","y\u030c":"y","A\u0327":"A","a\u0327":"a","B\u0327":"B","b\u0327":"b","\u1e10":"D","\u1e11":"d","\u0228":"E","\u0229":"e","\u0190\u0327":"E","\u025b\u0327":"e","\u1e28":"H","\u1e29":"h","I\u0327":"I","i\u0327":"i","\u0197\u0327":"I","\u0268\u0327":"i","M\u0327":"M","m\u0327":"m","O\u0327":"O","o\u0327":"o","Q\u0327":"Q","q\u0327":"q","U\u0327":"U","u\u0327":"u","X\u0327":"X","x\u0327":"x","Z\u0327":"Z","z\u0327":"z","\u0439":"\u0438","\u0419":"\u0418","\u0451":"\u0435","\u0401":"\u0415"},i=Object.keys(n).join("|"),r=new RegExp(i,"g"),o=new RegExp(i,"");function a(t){return n[t]}var s=function(t){return t.replace(r,a)};t.exports=s,t.exports.has=function(t){return!!t.match(o)},t.exports.remove=s},"2SVd":function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},"2o5z":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("jH9d"),r=a(n("M7lk")),o=a(n("KcL1"));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){var n=(0,r.default)(t,i.latitudeKeys);if(null!=n){var a=t[n];return!0===e?a:(0,o.default)(a)}}},"3Q5m":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("jH9d");e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",n=i.distanceConversion[e];if(n)return t*n;throw new Error("Invalid unit used for distance conversion.")}},"3X7Y":function(t,e,n){var i=n("u/Db");function r(t){this.mode=i.NUMERIC,this.data=t.toString()}r.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){var e,n,i;for(e=0;e+3<=this.data.length;e+=3)n=this.data.substr(e,3),i=parseInt(n,10),t.put(i,10);var r=this.data.length-e;r>0&&(n=this.data.substr(e),i=parseInt(n,10),t.put(i,3*r+1))},t.exports=r},"3het":function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n("y8E0"),a=n("kw4C"),s=function(t){function e(e){var n=t.call(this,"main")||this;return n.language="en",n}return r(e,t),e.prototype.fetch=function(t){this.data=new a.FeatureCollection(t),this.mapLanguage()},e.prototype.create=function(t){this.data.features.push(t)},e.prototype.update=function(t){var e=this.data.features.findIndex(function(e){return e.id===t.id||e.properties.id===t.id});this.data.features[e]=t},e.prototype.delete=function(t){var e=this.data.features.findIndex(function(e){return e.id===t||e.properties.id===t});this.data.features.splice(e,1)},e.prototype.mapLanguage=function(){var t=this;this.data.features.filter(function(t){return"object"==typeof t.properties.title_i18n}).forEach(function(e){return t.mapFeatureLanguage(e,t.language)})},e.prototype.mapFeatureLanguage=function(t,e){"string"==typeof t.properties.title_i18n&&(t.properties.title_i18n=JSON.parse(t.properties.title_i18n)),"object"==typeof t.properties.title_i18n&&(t.properties.title=t.properties.title_i18n[e]?t.properties.title_i18n[e]:t.properties.title)},e.prototype.query=function(t,e){return void 0===e&&(e=0),this.data.features.filter(function(e){return e.properties.title&&e.properties.title.toLowerCase().match(t.toLowerCase())})},e.prototype.get=function(t){return this.data.features.find(function(e){return e.id===t})},e.prototype.getInternal=function(t){return this.data.features.find(function(e){return e.properties.id===t})},Object.defineProperty(e.prototype,"collection",{get:function(){return{type:"FeatureCollection",features:this.data.features.map(function(t){return t.json})}},enumerable:!1,configurable:!0}),e}(o.default);e.default=s},"45h8":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("wI44")),r=o(n("me/f"));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e,n){var o=(0,i.default)(e,t),a=(0,i.default)(t,n),s=(0,i.default)(e,n),u=Math.acos((0,r.default)((o*o+s*s-a*a)/(2*o*s))),l=Math.acos((0,r.default)((a*a+s*s-o*o)/(2*a*s)));return u>Math.PI/2?o:l>Math.PI/2?a:Math.sin(u)*o}},"4FaI":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("J1on"),r=n("kw4C"),o=n("0wsv"),a=function(){function t(){this.data=new r.FeatureCollection({})}return t.prototype.setData=function(t){this.data=t,this.wayfinding=new i.Wayfinding(this.data),this.wayfinding.preprocess()},t.prototype.toggleOnlyAccessible=function(t){this.wayfinding.setConfiguration(t?{avoidEscalators:!0,avoidStaircases:!0,avoidBarriers:!0,avoidNarrowPaths:!0,avoidRevolvingDoors:!0,avoidTicketGates:!0}:{avoidElevators:!1,avoidEscalators:!1,avoidStaircases:!1,avoidRamps:!1,avoidNarrowPaths:!1,avoidRevolvingDoors:!1,avoidTicketGates:!1,avoidBarriers:!1,avoidHills:!1})},t.prototype.route=function(t,e){var n=this,i=null,a=null;if(this.routeWithDetails){var s=this.wayfinding.runAStarWithDetails(t,e);i=s.path,a={distance:s.distance,duration:s.duration}}else i=this.wayfinding.runAStar(t,e);if(!i)return null;i=i.map(function(t){return new r.default(t)});var u={},l=0;i.forEach(function(t,e){null!=n.forceFloorLevel?(void 0===u["path-part-".concat(l)]&&(u["path-part-".concat(l)]=[]),u["path-part-".concat(l)].push(t),t.isLevelChanger&&i[e+1].isLevelChanger&&t.level!==i[e+1].level&&l++):(void 0===u["path-part-"+l]&&(u["path-part-"+l]=[]),u["path-part-"+l].push(t),t.isLevelChanger&&i[e+1].isLevelChanger&&l++)});for(var c={},h=0,p=Object.entries(u);h<p.length;h++){var f=p[h],d=f[1];c[v=f[0]]=new r.default(null!=this.forceFloorLevel?d.length>1?(0,o.lineString)(d.map(function(t){return t.geometry.coordinates})):(0,o.point)(d.map(function(t){return t.geometry.coordinates})):d.length>1?o.lineString(d.map(function(t){return t.geometry.coordinates})):o.point(d.map(function(t){return t.geometry.coordinates}))),c[v].id=v,c[v].properties={level:d[d.length-1].properties.level,amenity:"chevron_right"}}for(var g={},m=0,_=Object.entries(c);m<_.length;m++){var y=_[m],v=y[0],b=y[1];void 0===g[b.properties.level]?g[b.properties.level]={level:b.properties.level,paths:[b]}:g[b.properties.level].paths.push(b)}var w={};return i.forEach(function(t){void 0===w[t.properties.level]&&(w[t.properties.level]=[]),w[t.properties.level].push(t)}),{paths:c,points:i,levelPaths:g,levelPoints:w,details:a}},t}();e.default=a},"4USb":function(t,e,n){"use strict";var i;n.r(e),n.d(e,"v1",function(){return g}),n.d(e,"v3",function(){return S}),n.d(e,"v4",function(){return C}),n.d(e,"v5",function(){return P}),n.d(e,"NIL",function(){return T}),n.d(e,"version",function(){return O}),n.d(e,"validate",function(){return s}),n.d(e,"stringify",function(){return p}),n.d(e,"parse",function(){return m});var r=new Uint8Array(16);function o(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(r)}for(var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,s=function(t){return"string"==typeof t&&a.test(t)},u=[],l=0;l<256;++l)u.push((l+256).toString(16).substr(1));var c,h,p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(u[t[e+0]]+u[t[e+1]]+u[t[e+2]]+u[t[e+3]]+"-"+u[t[e+4]]+u[t[e+5]]+"-"+u[t[e+6]]+u[t[e+7]]+"-"+u[t[e+8]]+u[t[e+9]]+"-"+u[t[e+10]]+u[t[e+11]]+u[t[e+12]]+u[t[e+13]]+u[t[e+14]]+u[t[e+15]]).toLowerCase();if(!s(n))throw TypeError("Stringified UUID is invalid");return n},f=0,d=0,g=function(t,e,n){var i=e&&n||0,r=e||new Array(16),a=(t=t||{}).node||c,s=void 0!==t.clockseq?t.clockseq:h;if(null==a||null==s){var u=t.random||(t.rng||o)();null==a&&(a=c=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),null==s&&(s=h=16383&(u[6]<<8|u[7]))}var l=void 0!==t.msecs?t.msecs:Date.now(),g=void 0!==t.nsecs?t.nsecs:d+1,m=l-f+(g-d)/1e4;if(m<0&&void 0===t.clockseq&&(s=s+1&16383),(m<0||l>f)&&void 0===t.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=l,d=g,h=s;var _=(1e4*(268435455&(l+=122192928e5))+g)%4294967296;r[i++]=_>>>24&255,r[i++]=_>>>16&255,r[i++]=_>>>8&255,r[i++]=255&_;var y=l/4294967296*1e4&268435455;r[i++]=y>>>8&255,r[i++]=255&y,r[i++]=y>>>24&15|16,r[i++]=y>>>16&255,r[i++]=s>>>8|128,r[i++]=255&s;for(var v=0;v<6;++v)r[i+v]=a[v];return e||p(r)},m=function(t){if(!s(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=255&e,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=255&e,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=255&e,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=255&e,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=255&e,n},_=function(t,e,n){function i(t,i,r,o){if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}(t)),"string"==typeof i&&(i=m(i)),16!==i.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+t.length);if(a.set(i),a.set(t,i.length),(a=n(a))[6]=15&a[6]|e,a[8]=63&a[8]|128,r){o=o||0;for(var s=0;s<16;++s)r[o+s]=a[s];return r}return p(a)}try{i.name=t}catch(r){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i};function y(t){return 14+(t+64>>>9<<4)+1}function v(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function b(t,e,n,i,r,o){return v((a=v(v(e,t),v(i,o)))<<(s=r)|a>>>32-s,n);var a,s}function w(t,e,n,i,r,o,a){return b(e&n|~e&i,t,e,r,o,a)}function x(t,e,n,i,r,o,a){return b(e&i|n&~i,t,e,r,o,a)}function k(t,e,n,i,r,o,a){return b(e^n^i,t,e,r,o,a)}function E(t,e,n,i,r,o,a){return b(n^(e|~i),t,e,r,o,a)}var S=_("v3",48,function(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return function(t){for(var e=[],n=32*t.length,i=0;i<n;i+=8){var r=t[i>>5]>>>i%32&255,o=parseInt("0123456789abcdef".charAt(r>>>4&15)+"0123456789abcdef".charAt(15&r),16);e.push(o)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[y(e)-1]=e;for(var n=1732584193,i=-271733879,r=-1732584194,o=271733878,a=0;a<t.length;a+=16){var s=n,u=i,l=r,c=o;n=w(n,i,r,o,t[a],7,-680876936),o=w(o,n,i,r,t[a+1],12,-389564586),r=w(r,o,n,i,t[a+2],17,606105819),i=w(i,r,o,n,t[a+3],22,-1044525330),n=w(n,i,r,o,t[a+4],7,-176418897),o=w(o,n,i,r,t[a+5],12,1200080426),r=w(r,o,n,i,t[a+6],17,-1473231341),i=w(i,r,o,n,t[a+7],22,-45705983),n=w(n,i,r,o,t[a+8],7,1770035416),o=w(o,n,i,r,t[a+9],12,-1958414417),r=w(r,o,n,i,t[a+10],17,-42063),i=w(i,r,o,n,t[a+11],22,-1990404162),n=w(n,i,r,o,t[a+12],7,1804603682),o=w(o,n,i,r,t[a+13],12,-40341101),r=w(r,o,n,i,t[a+14],17,-1502002290),n=x(n,i=w(i,r,o,n,t[a+15],22,1236535329),r,o,t[a+1],5,-165796510),o=x(o,n,i,r,t[a+6],9,-1069501632),r=x(r,o,n,i,t[a+11],14,643717713),i=x(i,r,o,n,t[a],20,-373897302),n=x(n,i,r,o,t[a+5],5,-701558691),o=x(o,n,i,r,t[a+10],9,38016083),r=x(r,o,n,i,t[a+15],14,-660478335),i=x(i,r,o,n,t[a+4],20,-405537848),n=x(n,i,r,o,t[a+9],5,568446438),o=x(o,n,i,r,t[a+14],9,-1019803690),r=x(r,o,n,i,t[a+3],14,-187363961),i=x(i,r,o,n,t[a+8],20,1163531501),n=x(n,i,r,o,t[a+13],5,-1444681467),o=x(o,n,i,r,t[a+2],9,-51403784),r=x(r,o,n,i,t[a+7],14,1735328473),n=k(n,i=x(i,r,o,n,t[a+12],20,-1926607734),r,o,t[a+5],4,-378558),o=k(o,n,i,r,t[a+8],11,-2022574463),r=k(r,o,n,i,t[a+11],16,1839030562),i=k(i,r,o,n,t[a+14],23,-35309556),n=k(n,i,r,o,t[a+1],4,-1530992060),o=k(o,n,i,r,t[a+4],11,1272893353),r=k(r,o,n,i,t[a+7],16,-155497632),i=k(i,r,o,n,t[a+10],23,-1094730640),n=k(n,i,r,o,t[a+13],4,681279174),o=k(o,n,i,r,t[a],11,-358537222),r=k(r,o,n,i,t[a+3],16,-722521979),i=k(i,r,o,n,t[a+6],23,76029189),n=k(n,i,r,o,t[a+9],4,-640364487),o=k(o,n,i,r,t[a+12],11,-421815835),r=k(r,o,n,i,t[a+15],16,530742520),n=E(n,i=k(i,r,o,n,t[a+2],23,-995338651),r,o,t[a],6,-198630844),o=E(o,n,i,r,t[a+7],10,1126891415),r=E(r,o,n,i,t[a+14],15,-1416354905),i=E(i,r,o,n,t[a+5],21,-57434055),n=E(n,i,r,o,t[a+12],6,1700485571),o=E(o,n,i,r,t[a+3],10,-1894986606),r=E(r,o,n,i,t[a+10],15,-1051523),i=E(i,r,o,n,t[a+1],21,-2054922799),n=E(n,i,r,o,t[a+8],6,1873313359),o=E(o,n,i,r,t[a+15],10,-30611744),r=E(r,o,n,i,t[a+6],15,-1560198380),i=E(i,r,o,n,t[a+13],21,1309151649),n=E(n,i,r,o,t[a+4],6,-145523070),o=E(o,n,i,r,t[a+11],10,-1120210379),r=E(r,o,n,i,t[a+2],15,718787259),i=E(i,r,o,n,t[a+9],21,-343485551),n=v(n,s),i=v(i,u),r=v(r,l),o=v(o,c)}return[n,i,r,o]}(function(t){if(0===t.length)return[];for(var e=8*t.length,n=new Uint32Array(y(e)),i=0;i<e;i+=8)n[i>>5]|=(255&t[i/8])<<i%32;return n}(t),8*t.length))}),C=function(t,e,n){var i=(t=t||{}).random||(t.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=i[r];return e}return p(i)};function I(t,e,n,i){switch(t){case 0:return e&n^~e&i;case 1:return e^n^i;case 2:return e&n^e&i^n&i;case 3:return e^n^i}}function A(t,e){return t<<e|t>>>32-e}var P=_("v5",80,function(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var i=unescape(encodeURIComponent(t));t=[];for(var r=0;r<i.length;++r)t.push(i.charCodeAt(r))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var o=Math.ceil((t.length/4+2)/16),a=new Array(o),s=0;s<o;++s){for(var u=new Uint32Array(16),l=0;l<16;++l)u[l]=t[64*s+4*l]<<24|t[64*s+4*l+1]<<16|t[64*s+4*l+2]<<8|t[64*s+4*l+3];a[s]=u}a[o-1][14]=8*(t.length-1)/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=8*(t.length-1)&4294967295;for(var c=0;c<o;++c){for(var h=new Uint32Array(80),p=0;p<16;++p)h[p]=a[c][p];for(var f=16;f<80;++f)h[f]=A(h[f-3]^h[f-8]^h[f-14]^h[f-16],1);for(var d=n[0],g=n[1],m=n[2],_=n[3],y=n[4],v=0;v<80;++v){var b=Math.floor(v/20),w=A(d,5)+I(b,g,m,_)+y+e[b]+h[v]>>>0;y=_,_=m,m=A(g,30)>>>0,g=d,d=w}n[0]=n[0]+d>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+m>>>0,n[3]=n[3]+_>>>0,n[4]=n[4]+y>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}),T="00000000-0000-0000-0000-000000000000",O=function(t){if(!s(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}},"4ZJM":function(t,e,n){t.exports=function(){"use strict";var t,e,n;function i(i,r){if(t)if(e){var o="var sharedChunk = {}; ("+t+")(sharedChunk); ("+e+")(sharedChunk);",a={};t(a),n=r(a),"undefined"!=typeof window&&(n.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}else e=r;else t=r}return i(0,function(t){function e(t,e){return t(e={exports:{}},e.exports),e.exports}var n=i;function i(t,e,n,i){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(i-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=i,this.p2x=n,this.p2y=i}i.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},i.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},i.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},i.prototype.solveCurveX=function(t,e){var n,i,r,o,a;for(void 0===e&&(e=1e-6),r=t,a=0;a<8;a++){if(o=this.sampleCurveX(r)-t,Math.abs(o)<e)return r;var s=this.sampleCurveDerivativeX(r);if(Math.abs(s)<1e-6)break;r-=o/s}if((r=t)<(n=0))return n;if(r>(i=1))return i;for(;n<i;){if(o=this.sampleCurveX(r),Math.abs(o-t)<e)return r;t>o?n=r:i=r,r=.5*(i-n)+n}return r},i.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var r=o;function o(t,e){this.x=t,this.y=e}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),i=n*this.x+e*this.y;return this.x=e*this.x-n*this.y,this.y=i,this},_rotateAround:function(t,e){var n=Math.cos(t),i=Math.sin(t),r=e.y+i*(this.x-e.x)+n*(this.y-e.y);return this.x=e.x+n*(this.x-e.x)-i*(this.y-e.y),this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.convert=function(t){return t instanceof o?t:Array.isArray(t)?new o(t[0],t[1]):t};var a="undefined"!=typeof self?self:{},s=Math.pow(2,53)-1;function u(t,e,i,r){var o=new n(t,e,i,r);return function(t){return o.solve(t)}}var l=u(.25,.1,.25,1);function c(t,e,n){return Math.min(n,Math.max(e,t))}function h(t,e,n){var i=n-e,r=((t-e)%i+i)%i+e;return r===e?n:r}function p(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var i=0,r=e;i<r.length;i+=1){var o=r[i];for(var a in o)t[a]=o[a]}return t}var f=1;function d(){return f++}function g(){return function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function m(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function _(t,e){t.forEach(function(t){e[t]&&(e[t]=e[t].bind(e))})}function y(t,e){return-1!==t.indexOf(e,t.length-e.length)}function v(t,e,n){var i={};for(var r in t)i[r]=e.call(n||this,t[r],r,t);return i}function b(t,e,n){var i={};for(var r in t)e.call(n||this,t[r],r,t)&&(i[r]=t[r]);return i}function w(t){return Array.isArray(t)?t.map(w):"object"==typeof t&&t?v(t,w):t}var x={};function k(t){x[t]||("undefined"!=typeof console&&console.warn(t),x[t]=!0)}function E(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}function S(t){for(var e=0,n=0,i=t.length,r=i-1,o=void 0,a=void 0;n<i;r=n++)e+=((a=t[r]).x-(o=t[n]).x)*(o.y+a.y);return e}function C(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function I(t){var e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(t,n,i,r){var o=i||r;return e[n]=!o||o.toLowerCase(),""}),e["max-age"]){var n=parseInt(e["max-age"],10);isNaN(n)?delete e["max-age"]:e["max-age"]=n}return e}var A=null;function P(t){if(null==A){var e=t.navigator?t.navigator.userAgent:null;A=!!t.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return A}function T(t){try{var e=a[t];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch(t){return!1}}var O,L,M,N,R=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now.bind(Date),D=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame,z=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame||a.msCancelAnimationFrame,F={now:R,frame:function(t){var e=D(t);return{cancel:function(){return z(e)}}},getImageData:function(t,e){void 0===e&&(e=0);var n=a.document.createElement("canvas"),i=n.getContext("2d");if(!i)throw new Error("failed to create canvas 2d context");return n.width=t.width,n.height=t.height,i.drawImage(t,0,0,t.width,t.height),i.getImageData(-e,-e,t.width+2*e,t.height+2*e)},resolveURL:function(t){return O||(O=a.document.createElement("a")),O.href=t,O.href},hardwareConcurrency:a.navigator&&a.navigator.hardwareConcurrency||4,get devicePixelRatio(){return a.devicePixelRatio},get prefersReducedMotion(){return!!a.matchMedia&&(null==L&&(L=a.matchMedia("(prefers-reduced-motion: reduce)")),L.matches)}},B={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},j={supported:!1,testSupport:function(t){!V&&N&&(U?q(t):M=t)}},V=!1,U=!1;function q(t){var e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,N),t.isContextLost())return;j.supported=!0}catch(t){}t.deleteTexture(e),V=!0}a.document&&((N=a.document.createElement("img")).onload=function(){M&&q(M),M=null,U=!0},N.onerror=function(){V=!0,M=null},N.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var G="01",H=function(t,e){this._transformRequestFn=t,this._customAccessToken=e,this._createSkuToken()};function W(t){return 0===t.indexOf("mapbox:")}H.prototype._createSkuToken=function(){var t=function(){for(var t="",e=0;e<10;e++)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",G,t].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt},H.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},H.prototype.transformRequest=function(t,e){return this._transformRequestFn&&this._transformRequestFn(t,e)||{url:t}},H.prototype.normalizeStyleURL=function(t,e){if(!W(t))return t;var n=K(t);return n.path="/styles/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||e)},H.prototype.normalizeGlyphsURL=function(t,e){if(!W(t))return t;var n=K(t);return n.path="/fonts/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||e)},H.prototype.normalizeSourceURL=function(t,e){if(!W(t))return t;var n=K(t);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),this._makeAPIURL(n,this._customAccessToken||e)},H.prototype.normalizeSpriteURL=function(t,e,n,i){var r=K(t);return W(t)?(r.path="/styles/v1"+r.path+"/sprite"+e+n,this._makeAPIURL(r,this._customAccessToken||i)):(r.path+=""+e+n,$(r))},H.prototype.normalizeTileURL=function(t,e){if(this._isSkuTokenExpired()&&this._createSkuToken(),t&&!W(t))return t;var n=K(t);n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,(F.devicePixelRatio>=2||512===e?"@2x":"")+(j.supported?".webp":"$1")),n.path=n.path.replace(/^.+\/v4\//,"/"),n.path="/v4"+n.path;var i=this._customAccessToken||function(t){for(var e=0,n=t;e<n.length;e+=1){var i=n[e].match(/^access_token=(.*)$/);if(i)return i[1]}return null}(n.params)||B.ACCESS_TOKEN;return B.REQUIRE_ACCESS_TOKEN&&i&&this._skuToken&&n.params.push("sku="+this._skuToken),this._makeAPIURL(n,i)},H.prototype.canonicalizeTileURL=function(t,e){var n=K(t);if(!n.path.match(/(^\/v4\/)/)||!n.path.match(/\.[\w]+$/))return t;var i="mapbox://tiles/";i+=n.path.replace("/v4/","");var r=n.params;return e&&(r=r.filter(function(t){return!t.match(/^access_token=/)})),r.length&&(i+="?"+r.join("&")),i},H.prototype.canonicalizeTileset=function(t,e){for(var n=!!e&&W(e),i=[],r=0,o=t.tiles||[];r<o.length;r+=1){var a=o[r];Z(a)?i.push(this.canonicalizeTileURL(a,n)):i.push(a)}return i},H.prototype._makeAPIURL=function(t,e){var n="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",i=K(B.API_URL);if(t.protocol=i.protocol,t.authority=i.authority,"http"===t.protocol){var r=t.params.indexOf("secure");r>=0&&t.params.splice(r,1)}if("/"!==i.path&&(t.path=""+i.path+t.path),!B.REQUIRE_ACCESS_TOKEN)return $(t);if(!(e=e||B.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+n);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+n);return t.params=t.params.filter(function(t){return-1===t.indexOf("access_token")}),t.params.push("access_token="+e),$(t)};var Y=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Z(t){return Y.test(t)}var X=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function K(t){var e=t.match(X);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function $(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}function J(t){if(!t)return null;var e=t.split(".");if(!e||3!==e.length)return null;try{return JSON.parse(decodeURIComponent(a.atob(e[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch(t){return null}}var Q=function(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};Q.prototype.getStorageKey=function(t){var e,n=J(B.ACCESS_TOKEN);return e=n&&n.u?a.btoa(encodeURIComponent(n.u).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode(Number("0x"+e))})):B.ACCESS_TOKEN||"",t?"mapbox.eventData."+t+":"+e:"mapbox.eventData:"+e},Q.prototype.fetchEventData=function(){var t=T("localStorage"),e=this.getStorageKey(),n=this.getStorageKey("uuid");if(t)try{var i=a.localStorage.getItem(e);i&&(this.eventData=JSON.parse(i));var r=a.localStorage.getItem(n);r&&(this.anonId=r)}catch(t){k("Unable to read from LocalStorage")}},Q.prototype.saveEventData=function(){var t=T("localStorage"),e=this.getStorageKey(),n=this.getStorageKey("uuid");if(t)try{a.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&a.localStorage.setItem(e,JSON.stringify(this.eventData))}catch(t){k("Unable to write to LocalStorage")}},Q.prototype.processRequests=function(t){},Q.prototype.postEvent=function(t,e,n,i){var r=this;if(B.EVENTS_URL){var o=K(B.EVENTS_URL);o.params.push("access_token="+(i||B.ACCESS_TOKEN||""));var a={event:this.type,created:new Date(t).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.1",skuId:G,userId:this.anonId},s=e?p(a,e):a,u={url:$(o),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=wt(u,function(t){r.pendingRequest=null,n(t),r.saveEventData(),r.processRequests(i)})}},Q.prototype.queueRequest=function(t,e){this.queue.push(t),this.processRequests(e)};var tt,et,nt=function(t){function e(){t.call(this,"map.load"),this.success={},this.skuToken=""}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.postMapLoadEvent=function(t,e,n,i){this.skuToken=n,(B.EVENTS_URL&&i||B.ACCESS_TOKEN&&Array.isArray(t)&&t.some(function(t){return W(t)||Z(t)}))&&this.queueRequest({id:e,timestamp:Date.now()},i)},e.prototype.processRequests=function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){var n=this.queue.shift(),i=n.id,r=n.timestamp;i&&this.success[i]||(this.anonId||this.fetchEventData(),m(this.anonId)||(this.anonId=g()),this.postEvent(r,{skuToken:this.skuToken},function(t){t||i&&(e.success[i]=!0)},t))}},e}(Q),it=new(function(t){function e(e){t.call(this,"appUserTurnstile"),this._customAccessToken=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.postTurnstileEvent=function(t,e){B.EVENTS_URL&&B.ACCESS_TOKEN&&Array.isArray(t)&&t.some(function(t){return W(t)||Z(t)})&&this.queueRequest(Date.now(),e)},e.prototype.processRequests=function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var n=J(B.ACCESS_TOKEN),i=n?n.u:B.ACCESS_TOKEN,r=i!==this.eventData.tokenU;m(this.anonId)||(this.anonId=g(),r=!0);var o=this.queue.shift();if(this.eventData.lastSuccess){var a=new Date(this.eventData.lastSuccess),s=new Date(o),u=(o-this.eventData.lastSuccess)/864e5;r=r||u>=1||u<-1||a.getDate()!==s.getDate()}else r=!0;if(!r)return this.processRequests();this.postEvent(o,{"enabled.telemetry":!1},function(t){t||(e.eventData.lastSuccess=o,e.eventData.tokenU=i)},t)}},e}(Q)),rt=it.postTurnstileEvent.bind(it),ot=new nt,at=ot.postMapLoadEvent.bind(ot),st=500,ut=50;function lt(){a.caches&&!tt&&(tt=a.caches.open("mapbox-tiles"))}function ct(t){var e=t.indexOf("?");return e<0?t:t.slice(0,e)}var ht,pt=1/0;function ft(){return null==ht&&(ht=a.OffscreenCanvas&&new a.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof a.createImageBitmap),ht}var dt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(dt);var gt,mt,_t=function(t){function e(e,n,i){401===n&&Z(i)&&(e+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),t.call(this,e),this.status=n,this.url=i,this.name=this.constructor.name,this.message=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},e}(Error),yt=C()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===a.location.protocol?a.parent:a).location.href},vt=function(t,e){if(!(/^file:/.test(n=t.url)||/^file:/.test(yt())&&!/^\w+:/.test(n))){if(a.fetch&&a.Request&&a.AbortController&&a.Request.prototype.hasOwnProperty("signal"))return function(t,e){var n,i=new a.AbortController,r=new a.Request(t.url,{method:t.method||"GET",body:t.body,credentials:t.credentials,headers:t.headers,referrer:yt(),signal:i.signal}),o=!1,s=!1,u=(n=r.url).indexOf("sku=")>0&&Z(n);"json"===t.type&&r.headers.set("Accept","application/json");var l=function(n,i,o){if(!s){if(n&&"SecurityError"!==n.message&&k(n),i&&o)return c(i);var l=Date.now();a.fetch(r).then(function(n){if(n.ok){var i=u?n.clone():null;return c(n,i,l)}return e(new _t(n.statusText,n.status,t.url))}).catch(function(t){20!==t.code&&e(new Error(t.message))})}},c=function(n,i,u){("arrayBuffer"===t.type?n.arrayBuffer():"json"===t.type?n.json():n.text()).then(function(t){s||(i&&u&&function(t,e,n){if(lt(),tt){var i={status:e.status,statusText:e.statusText,headers:new a.Headers};e.headers.forEach(function(t,e){return i.headers.set(e,t)});var r=I(e.headers.get("Cache-Control")||"");r["no-store"]||(r["max-age"]&&i.headers.set("Expires",new Date(n+1e3*r["max-age"]).toUTCString()),new Date(i.headers.get("Expires")).getTime()-n<42e4||function(t,e){if(void 0===et)try{new Response(new ReadableStream),et=!0}catch(t){et=!1}et?e(t.body):t.blob().then(e)}(e,function(e){var n=new a.Response(e,i);lt(),tt&&tt.then(function(e){return e.put(ct(t.url),n)}).catch(function(t){return k(t.message)})}))}}(r,i,u),o=!0,e(null,t,n.headers.get("Cache-Control"),n.headers.get("Expires")))}).catch(function(t){s||e(new Error(t.message))})};return u?function(t,e){if(lt(),!tt)return e(null);var n=ct(t.url);tt.then(function(t){t.match(n).then(function(i){var r=function(t){if(!t)return!1;var e=new Date(t.headers.get("Expires")||0),n=I(t.headers.get("Cache-Control")||"");return e>Date.now()&&!n["no-cache"]}(i);t.delete(n),r&&t.put(n,i.clone()),e(null,i,r)}).catch(e)}).catch(e)}(r,l):l(null,null),{cancel:function(){s=!0,o||i.abort()}}}(t,e);if(C()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,e,void 0,!0)}var n;return function(t,e){var n=new a.XMLHttpRequest;for(var i in n.open(t.method||"GET",t.url,!0),"arrayBuffer"===t.type&&(n.responseType="arraybuffer"),t.headers)n.setRequestHeader(i,t.headers[i]);return"json"===t.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===t.credentials,n.onerror=function(){e(new Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){var i=n.response;if("json"===t.type)try{i=JSON.parse(n.response)}catch(t){return e(t)}e(null,i,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else e(new _t(n.statusText,n.status,t.url))},n.send(t.body),{cancel:function(){return n.abort()}}}(t,e)},bt=function(t,e){return vt(p(t,{type:"arrayBuffer"}),e)},wt=function(t,e){return vt(p(t,{method:"POST"}),e)},xt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";gt=[],mt=0;function kt(t,e,n){n[t]&&-1!==n[t].indexOf(e)||(n[t]=n[t]||[],n[t].push(e))}function Et(t,e,n){if(n&&n[t]){var i=n[t].indexOf(e);-1!==i&&n[t].splice(i,1)}}var St=function(t,e){void 0===e&&(e={}),p(this,e),this.type=t},Ct=function(t){function e(e,n){void 0===n&&(n={}),t.call(this,"error",p({error:e},n))}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(St),It=function(){};It.prototype.on=function(t,e){return this._listeners=this._listeners||{},kt(t,e,this._listeners),this},It.prototype.off=function(t,e){return Et(t,e,this._listeners),Et(t,e,this._oneTimeListeners),this},It.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},kt(t,e,this._oneTimeListeners),this},It.prototype.fire=function(t,e){"string"==typeof t&&(t=new St(t,e||{}));var n=t.type;if(this.listens(n)){t.target=this;for(var i=0,r=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];i<r.length;i+=1)r[i].call(this,t);for(var o=0,a=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];o<a.length;o+=1){var s=a[o];Et(n,s,this._oneTimeListeners),s.call(this,t)}var u=this._eventedParent;u&&(p(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),u.fire(t))}else t instanceof Ct&&console.error(t.error);return this},It.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},It.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this};var At={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Pt=function(t,e,n,i){this.message=(t?t+": ":"")+n,i&&(this.identifier=i),null!=e&&e.__line__&&(this.line=e.__line__)};function Tt(t){var e=t.value;return e?[new Pt(t.key,e,"constants have been deprecated as of v8")]:[]}function Ot(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var i=0,r=e;i<r.length;i+=1){var o=r[i];for(var a in o)t[a]=o[a]}return t}function Lt(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function Mt(t){if(Array.isArray(t))return t.map(Mt);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){var e={};for(var n in t)e[n]=Mt(t[n]);return e}return Lt(t)}var Nt=function(t){function e(e,n){t.call(this,n),this.message=n,this.key=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),Rt=function(t,e){void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var n=0,i=e;n<i.length;n+=1){var r=i[n];this.bindings[r[0]]=r[1]}};Rt.prototype.concat=function(t){return new Rt(this,t)},Rt.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},Rt.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var Dt={kind:"null"},zt={kind:"number"},Ft={kind:"string"},Bt={kind:"boolean"},jt={kind:"color"},Vt={kind:"object"},Ut={kind:"value"},qt={kind:"collator"},Gt={kind:"formatted"},Ht={kind:"resolvedImage"};function Wt(t,e){return{kind:"array",itemType:t,N:e}}function Yt(t){if("array"===t.kind){var e=Yt(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}return t.kind}var Zt=[Dt,zt,Ft,Bt,jt,Gt,Vt,Wt(Ut),Ht];function Xt(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!Xt(t.itemType,e.itemType))&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var n=0,i=Zt;n<i.length;n+=1)if(!Xt(i[n],e))return null}return"Expected "+Yt(t)+" but found "+Yt(e)+" instead."}function Kt(t,e){return e.some(function(e){return e.kind===t.kind})}function $t(t,e){return e.some(function(e){return"null"===e?null===t:"array"===e?Array.isArray(t):"object"===e?t&&!Array.isArray(t)&&"object"==typeof t:e===typeof t})}var Jt=e(function(t,e){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function i(t){return(t=Math.round(t))<0?0:t>255?255:t}function r(t){return i("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function o(t){return(e="%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))<0?0:e>1?1:e;var e}function a(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}try{e.parseCSSColor=function(t){var e,s=t.replace(/ /g,"").toLowerCase();if(s in n)return n[s].slice();if("#"===s[0])return 4===s.length?(e=parseInt(s.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===s.length&&(e=parseInt(s.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var u=s.indexOf("("),l=s.indexOf(")");if(-1!==u&&l+1===s.length){var c=s.substr(0,u),h=s.substr(u+1,l-(u+1)).split(","),p=1;switch(c){case"rgba":if(4!==h.length)return null;p=o(h.pop());case"rgb":return 3!==h.length?null:[r(h[0]),r(h[1]),r(h[2]),p];case"hsla":if(4!==h.length)return null;p=o(h.pop());case"hsl":if(3!==h.length)return null;var f=(parseFloat(h[0])%360+360)%360/360,d=o(h[1]),g=o(h[2]),m=g<=.5?g*(d+1):g+d-g*d,_=2*g-m;return[i(255*a(_,m,f+1/3)),i(255*a(_,m,f)),i(255*a(_,m,f-1/3)),p];default:return null}}return null}}catch(t){}}).parseCSSColor,Qt=function(t,e,n,i){void 0===i&&(i=1),this.r=t,this.g=e,this.b=n,this.a=i};Qt.parse=function(t){if(t){if(t instanceof Qt)return t;if("string"==typeof t){var e=Jt(t);if(e)return new Qt(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},Qt.prototype.toString=function(){var t=this.toArray(),e=t[1],n=t[2],i=t[3];return"rgba("+Math.round(t[0])+","+Math.round(e)+","+Math.round(n)+","+i+")"},Qt.prototype.toArray=function(){var t=this.a;return 0===t?[0,0,0,0]:[255*this.r/t,255*this.g/t,255*this.b/t,t]},Qt.black=new Qt(0,0,0,1),Qt.white=new Qt(1,1,1,1),Qt.transparent=new Qt(0,0,0,0),Qt.red=new Qt(1,0,0,1);var te=function(t,e,n){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};te.prototype.compare=function(t,e){return this.collator.compare(t,e)},te.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var ee=function(t,e,n,i,r){this.text=t,this.image=e,this.scale=n,this.fontStack=i,this.textColor=r},ne=function(t){this.sections=t};ne.fromString=function(t){return new ne([new ee(t,null,null,null,null)])},ne.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some(function(t){return 0!==t.text.length||t.image&&0!==t.image.name.length})},ne.factory=function(t){return t instanceof ne?t:ne.fromString(t)},ne.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map(function(t){return t.text}).join("")},ne.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var i=n[e];if(i.image)t.push(["image",i.image.name]);else{t.push(i.text);var r={};i.fontStack&&(r["text-font"]=["literal",i.fontStack.split(",")]),i.scale&&(r["font-scale"]=i.scale),i.textColor&&(r["text-color"]=["rgba"].concat(i.textColor.toArray())),t.push(r)}}return t};var ie=function(t){this.name=t.name,this.available=t.available};function re(t,e,n,i){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===i||"number"==typeof i&&i>=0&&i<=1?null:"Invalid rgba value ["+[t,e,n,i].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof i?[t,e,n,i]:[t,e,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function oe(t){if(null===t)return!0;if("string"==typeof t)return!0;if("boolean"==typeof t)return!0;if("number"==typeof t)return!0;if(t instanceof Qt)return!0;if(t instanceof te)return!0;if(t instanceof ne)return!0;if(t instanceof ie)return!0;if(Array.isArray(t)){for(var e=0,n=t;e<n.length;e+=1)if(!oe(n[e]))return!1;return!0}if("object"==typeof t){for(var i in t)if(!oe(t[i]))return!1;return!0}return!1}function ae(t){if(null===t)return Dt;if("string"==typeof t)return Ft;if("boolean"==typeof t)return Bt;if("number"==typeof t)return zt;if(t instanceof Qt)return jt;if(t instanceof te)return qt;if(t instanceof ne)return Gt;if(t instanceof ie)return Ht;if(Array.isArray(t)){for(var e,n=t.length,i=0,r=t;i<r.length;i+=1){var o=ae(r[i]);if(e){if(e===o)continue;e=Ut;break}e=o}return Wt(e||Ut,n)}return Vt}function se(t){var e=typeof t;return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof Qt||t instanceof ne||t instanceof ie?t.toString():JSON.stringify(t)}ie.prototype.toString=function(){return this.name},ie.fromString=function(t){return t?new ie({name:t,available:!1}):null},ie.prototype.serialize=function(){return["image",this.name]};var ue=function(t,e){this.type=t,this.value=e};ue.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!oe(t[1]))return e.error("invalid value");var n=t[1],i=ae(n),r=e.expectedType;return"array"!==i.kind||0!==i.N||!r||"array"!==r.kind||"number"==typeof r.N&&0!==r.N||(i=r),new ue(i,n)},ue.prototype.evaluate=function(){return this.value},ue.prototype.eachChild=function(){},ue.prototype.outputDefined=function(){return!0},ue.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Qt?["rgba"].concat(this.value.toArray()):this.value instanceof ne?this.value.serialize():this.value};var le=function(t){this.name="ExpressionEvaluationError",this.message=t};le.prototype.toJSON=function(){return this.message};var ce={string:Ft,number:zt,boolean:Bt,object:Vt},he=function(t,e){this.type=t,this.args=e};he.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n,i=1,r=t[0];if("array"===r){var o,a;if(t.length>2){var s=t[1];if("string"!=typeof s||!(s in ce)||"object"===s)return e.error('The item type argument of "array" must be one of string, number, boolean',1);o=ce[s],i++}else o=Ut;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);a=t[2],i++}n=Wt(o,a)}else n=ce[r];for(var u=[];i<t.length;i++){var l=e.parse(t[i],i,Ut);if(!l)return null;u.push(l)}return new he(n,u)},he.prototype.evaluate=function(t){for(var e=0;e<this.args.length;e++){var n=this.args[e].evaluate(t);if(!Xt(this.type,ae(n)))return n;if(e===this.args.length-1)throw new le("Expected value to be of type "+Yt(this.type)+", but found "+Yt(ae(n))+" instead.")}return null},he.prototype.eachChild=function(t){this.args.forEach(t)},he.prototype.outputDefined=function(){return this.args.every(function(t){return t.outputDefined()})},he.prototype.serialize=function(){var t=this.type,e=[t.kind];if("array"===t.kind){var n=t.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){e.push(n.kind);var i=t.N;("number"==typeof i||this.args.length>1)&&e.push(i)}}return e.concat(this.args.map(function(t){return t.serialize()}))};var pe=function(t){this.type=Gt,this.sections=t};pe.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n=t[1];if(!Array.isArray(n)&&"object"==typeof n)return e.error("First argument must be an image or text section.");for(var i=[],r=!1,o=1;o<=t.length-1;++o){var a=t[o];if(r&&"object"==typeof a&&!Array.isArray(a)){r=!1;var s=null;if(a["font-scale"]&&!(s=e.parse(a["font-scale"],1,zt)))return null;var u=null;if(a["text-font"]&&!(u=e.parse(a["text-font"],1,Wt(Ft))))return null;var l=null;if(a["text-color"]&&!(l=e.parse(a["text-color"],1,jt)))return null;var c=i[i.length-1];c.scale=s,c.font=u,c.textColor=l}else{var h=e.parse(t[o],1,Ut);if(!h)return null;var p=h.type.kind;if("string"!==p&&"value"!==p&&"null"!==p&&"resolvedImage"!==p)return e.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");r=!0,i.push({content:h,scale:null,font:null,textColor:null})}}return new pe(i)},pe.prototype.evaluate=function(t){return new ne(this.sections.map(function(e){var n=e.content.evaluate(t);return ae(n)===Ht?new ee("",n,null,null,null):new ee(se(n),null,e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null,e.textColor?e.textColor.evaluate(t):null)}))},pe.prototype.eachChild=function(t){for(var e=0,n=this.sections;e<n.length;e+=1){var i=n[e];t(i.content),i.scale&&t(i.scale),i.font&&t(i.font),i.textColor&&t(i.textColor)}},pe.prototype.outputDefined=function(){return!1},pe.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var i=n[e];t.push(i.content.serialize());var r={};i.scale&&(r["font-scale"]=i.scale.serialize()),i.font&&(r["text-font"]=i.font.serialize()),i.textColor&&(r["text-color"]=i.textColor.serialize()),t.push(r)}return t};var fe=function(t){this.type=Ht,this.input=t};fe.parse=function(t,e){if(2!==t.length)return e.error("Expected two arguments.");var n=e.parse(t[1],1,Ft);return n?new fe(n):e.error("No image name provided.")},fe.prototype.evaluate=function(t){var e=this.input.evaluate(t),n=ie.fromString(e);return n&&t.availableImages&&(n.available=t.availableImages.indexOf(e)>-1),n},fe.prototype.eachChild=function(t){t(this.input)},fe.prototype.outputDefined=function(){return!1},fe.prototype.serialize=function(){return["image",this.input.serialize()]};var de={"to-boolean":Bt,"to-color":jt,"to-number":zt,"to-string":Ft},ge=function(t,e){this.type=t,this.args=e};ge.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n=t[0];if(("to-boolean"===n||"to-string"===n)&&2!==t.length)return e.error("Expected one argument.");for(var i=de[n],r=[],o=1;o<t.length;o++){var a=e.parse(t[o],o,Ut);if(!a)return null;r.push(a)}return new ge(i,r)},ge.prototype.evaluate=function(t){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(t));if("color"===this.type.kind){for(var e,n,i=0,r=this.args;i<r.length;i+=1){if(n=null,(e=r[i].evaluate(t))instanceof Qt)return e;if("string"==typeof e){var o=t.parseColor(e);if(o)return o}else if(Array.isArray(e)&&!(n=e.length<3||e.length>4?"Invalid rbga value "+JSON.stringify(e)+": expected an array containing either three or four numeric values.":re(e[0],e[1],e[2],e[3])))return new Qt(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new le(n||"Could not parse color from value '"+("string"==typeof e?e:String(JSON.stringify(e)))+"'")}if("number"===this.type.kind){for(var a=null,s=0,u=this.args;s<u.length;s+=1){if(null===(a=u[s].evaluate(t)))return 0;var l=Number(a);if(!isNaN(l))return l}throw new le("Could not convert "+JSON.stringify(a)+" to number.")}return"formatted"===this.type.kind?ne.fromString(se(this.args[0].evaluate(t))):"resolvedImage"===this.type.kind?ie.fromString(se(this.args[0].evaluate(t))):se(this.args[0].evaluate(t))},ge.prototype.eachChild=function(t){this.args.forEach(t)},ge.prototype.outputDefined=function(){return this.args.every(function(t){return t.outputDefined()})},ge.prototype.serialize=function(){if("formatted"===this.type.kind)return new pe([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new fe(this.args[0]).serialize();var t=["to-"+this.type.kind];return this.eachChild(function(e){t.push(e.serialize())}),t};var me=["Unknown","Point","LineString","Polygon"],_e=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};_e.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},_e.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?me[this.feature.type]:this.feature.type:null},_e.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},_e.prototype.canonicalID=function(){return this.canonical},_e.prototype.properties=function(){return this.feature&&this.feature.properties||{}},_e.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=Qt.parse(t)),e};var ye=function(t,e,n,i){this.name=t,this.type=e,this._evaluate=n,this.args=i};ye.prototype.evaluate=function(t){return this._evaluate(t,this.args)},ye.prototype.eachChild=function(t){this.args.forEach(t)},ye.prototype.outputDefined=function(){return!1},ye.prototype.serialize=function(){return[this.name].concat(this.args.map(function(t){return t.serialize()}))},ye.parse=function(t,e){var n,i=t[0],r=ye.definitions[i];if(!r)return e.error('Unknown expression "'+i+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(r)?r[0]:r.type,a=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,s=a.filter(function(e){var n=e[0];return!Array.isArray(n)||n.length===t.length-1}),u=null,l=0,c=s;l<c.length;l+=1){var h=c[l],p=h[0],f=h[1];u=new je(e.registry,e.path,null,e.scope);for(var d=[],g=!1,m=1;m<t.length;m++){var _=t[m],y=Array.isArray(p)?p[m-1]:p.type,v=u.parse(_,1+d.length,y);if(!v){g=!0;break}d.push(v)}if(!g)if(Array.isArray(p)&&p.length!==d.length)u.error("Expected "+p.length+" arguments, but found "+d.length+" instead.");else{for(var b=0;b<d.length;b++){var w=Array.isArray(p)?p[b]:p.type,x=d[b];u.concat(b+1).checkSubtype(w,x.type)}if(0===u.errors.length)return new ye(i,o,f,d)}}if(1===s.length)(n=e.errors).push.apply(n,u.errors);else{for(var k=(s.length?s:a).map(function(t){var e;return e=t[0],Array.isArray(e)?"("+e.map(Yt).join(", ")+")":"("+Yt(e.type)+"...)"}).join(" | "),E=[],S=1;S<t.length;S++){var C=e.parse(t[S],1+E.length);if(!C)return null;E.push(Yt(C.type))}e.error("Expected arguments of type "+k+", but found ("+E.join(", ")+") instead.")}return null},ye.register=function(t,e){for(var n in ye.definitions=e,e)t[n]=ye};var ve=function(t,e,n){this.type=qt,this.locale=n,this.caseSensitive=t,this.diacriticSensitive=e};function be(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[0]),t[3]=Math.max(t[3],e[1])}function we(t,e){return!(t[0]<=e[0]||t[2]>=e[2]||t[1]<=e[1]||t[3]>=e[3])}function xe(t,e){var n=(180+t[0])/360,i=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t[1]*Math.PI/360)))/360,r=Math.pow(2,e.z);return[Math.round(n*r*8192),Math.round(i*r*8192)]}function ke(t,e,n){return e[1]>t[1]!=n[1]>t[1]&&t[0]<(n[0]-e[0])*(t[1]-e[1])/(n[1]-e[1])+e[0]}function Ee(t,e){for(var n,i,r,o,a,s,u,l=!1,c=0,h=e.length;c<h;c++)for(var p=e[c],f=0,d=p.length;f<d-1;f++){if((o=(n=t)[0]-(i=p[f])[0])*(u=n[1]-(r=p[f+1])[1])-(s=n[0]-r[0])*(a=n[1]-i[1])==0&&o*s<=0&&a*u<=0)return!1;ke(t,p[f],p[f+1])&&(l=!l)}return l}function Se(t,e){for(var n=0;n<e.length;n++)if(Ee(t,e[n]))return!0;return!1}function Ce(t,e,n,i){var r=i[0]-n[0],o=i[1]-n[1],a=(t[0]-n[0])*o-r*(t[1]-n[1]),s=(e[0]-n[0])*o-r*(e[1]-n[1]);return a>0&&s<0||a<0&&s>0}function Ie(t,e,n){for(var i=0,r=n;i<r.length;i+=1)for(var o=r[i],a=0;a<o.length-1;++a)if(0!=(h=[(c=o[a+1])[0]-(l=o[a])[0],c[1]-l[1]])[0]*(p=[(u=e)[0]-(s=t)[0],u[1]-s[1]])[1]-h[1]*p[0]&&Ce(s,u,l,c)&&Ce(l,c,s,u))return!0;var s,u,l,c,h,p;return!1}function Ae(t,e){for(var n=0;n<t.length;++n)if(!Ee(t[n],e))return!1;for(var i=0;i<t.length-1;++i)if(Ie(t[i],t[i+1],e))return!1;return!0}function Pe(t,e){for(var n=0;n<e.length;n++)if(Ae(t,e[n]))return!0;return!1}function Te(t,e,n){for(var i=[],r=0;r<t.length;r++){for(var o=[],a=0;a<t[r].length;a++){var s=xe(t[r][a],n);be(e,s),o.push(s)}i.push(o)}return i}function Oe(t,e,n){for(var i=[],r=0;r<t.length;r++){var o=Te(t[r],e,n);i.push(o)}return i}function Le(t,e,n,i){if(t[0]<n[0]||t[0]>n[2]){var r=.5*i,o=t[0]-n[0]>r?-i:n[0]-t[0]>r?i:0;0===o&&(o=t[0]-n[2]>r?-i:n[2]-t[0]>r?i:0),t[0]+=o}be(e,t)}function Me(t,e,n,i){for(var r=8192*Math.pow(2,i.z),o=[8192*i.x,8192*i.y],a=[],s=0,u=t;s<u.length;s+=1)for(var l=0,c=u[s];l<c.length;l+=1){var h=c[l],p=[h.x+o[0],h.y+o[1]];Le(p,e,n,r),a.push(p)}return a}function Ne(t,e,n,i){for(var r,o=8192*Math.pow(2,i.z),a=[8192*i.x,8192*i.y],s=[],u=0,l=t;u<l.length;u+=1){for(var c=[],h=0,p=l[u];h<p.length;h+=1){var f=p[h],d=[f.x+a[0],f.y+a[1]];be(e,d),c.push(d)}s.push(c)}if(e[2]-e[0]<=o/2){(r=e)[0]=r[1]=1/0,r[2]=r[3]=-1/0;for(var g=0,m=s;g<m.length;g+=1)for(var _=0,y=m[g];_<y.length;_+=1)Le(y[_],e,n,o)}return s}ve.parse=function(t,e){if(2!==t.length)return e.error("Expected one argument.");var n=t[1];if("object"!=typeof n||Array.isArray(n))return e.error("Collator options argument must be an object.");var i=e.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,Bt);if(!i)return null;var r=e.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,Bt);if(!r)return null;var o=null;return n.locale&&!(o=e.parse(n.locale,1,Ft))?null:new ve(i,r,o)},ve.prototype.evaluate=function(t){return new te(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},ve.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},ve.prototype.outputDefined=function(){return!1},ve.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var Re=function(t,e){this.type=Bt,this.geojson=t,this.geometries=e};function De(t){if(t instanceof ye){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}if(t instanceof Re)return!1;var e=!0;return t.eachChild(function(t){e&&!De(t)&&(e=!1)}),e}function ze(t){if(t instanceof ye&&"feature-state"===t.name)return!1;var e=!0;return t.eachChild(function(t){e&&!ze(t)&&(e=!1)}),e}function Fe(t,e){if(t instanceof ye&&e.indexOf(t.name)>=0)return!1;var n=!0;return t.eachChild(function(t){n&&!Fe(t,e)&&(n=!1)}),n}Re.parse=function(t,e){if(2!==t.length)return e.error("'within' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(oe(t[1])){var n=t[1];if("FeatureCollection"===n.type)for(var i=0;i<n.features.length;++i){var r=n.features[i].geometry.type;if("Polygon"===r||"MultiPolygon"===r)return new Re(n,n.features[i].geometry)}else if("Feature"===n.type){var o=n.geometry.type;if("Polygon"===o||"MultiPolygon"===o)return new Re(n,n.geometry)}else if("Polygon"===n.type||"MultiPolygon"===n.type)return new Re(n,n)}return e.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Re.prototype.evaluate=function(t){if(null!=t.geometry()&&null!=t.canonicalID()){if("Point"===t.geometryType())return function(t,e){var n=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=t.canonicalID();if("Polygon"===e.type){var o=Te(e.coordinates,i,r),a=Me(t.geometry(),n,i,r);if(!we(n,i))return!1;for(var s=0,u=a;s<u.length;s+=1)if(!Ee(u[s],o))return!1}if("MultiPolygon"===e.type){var l=Oe(e.coordinates,i,r),c=Me(t.geometry(),n,i,r);if(!we(n,i))return!1;for(var h=0,p=c;h<p.length;h+=1)if(!Se(p[h],l))return!1}return!0}(t,this.geometries);if("LineString"===t.geometryType())return function(t,e){var n=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=t.canonicalID();if("Polygon"===e.type){var o=Te(e.coordinates,i,r),a=Ne(t.geometry(),n,i,r);if(!we(n,i))return!1;for(var s=0,u=a;s<u.length;s+=1)if(!Ae(u[s],o))return!1}if("MultiPolygon"===e.type){var l=Oe(e.coordinates,i,r),c=Ne(t.geometry(),n,i,r);if(!we(n,i))return!1;for(var h=0,p=c;h<p.length;h+=1)if(!Pe(p[h],l))return!1}return!0}(t,this.geometries)}return!1},Re.prototype.eachChild=function(){},Re.prototype.outputDefined=function(){return!0},Re.prototype.serialize=function(){return["within",this.geojson]};var Be=function(t,e){this.type=e.type,this.name=t,this.boundExpression=e};Be.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var n=t[1];return e.scope.has(n)?new Be(n,e.scope.get(n)):e.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},Be.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},Be.prototype.eachChild=function(){},Be.prototype.outputDefined=function(){return!1},Be.prototype.serialize=function(){return["var",this.name]};var je=function(t,e,n,i,r){void 0===e&&(e=[]),void 0===i&&(i=new Rt),void 0===r&&(r=[]),this.registry=t,this.path=e,this.key=e.map(function(t){return"["+t+"]"}).join(""),this.scope=i,this.errors=r,this.expectedType=n};function Ve(t,e){for(var n,i=t.length-1,r=0,o=i,a=0;r<=o;)if((n=t[a=Math.floor((r+o)/2)])<=e){if(a===i||e<t[a+1])return a;r=a+1}else{if(!(n>e))throw new le("Input is not a number.");o=a-1}return 0}je.prototype.parse=function(t,e,n,i,r){return void 0===r&&(r={}),e?this.concat(e,n,i)._parse(t,r):this._parse(t,r)},je.prototype._parse=function(t,e){function n(t,e,n){return"assert"===n?new he(e,[t]):"coerce"===n?new ge(e,[t]):t}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var i=t[0];if("string"!=typeof i)return this.error("Expression name must be a string, but found "+typeof i+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var r=this.registry[i];if(r){var o=r.parse(t,this);if(!o)return null;if(this.expectedType){var a=this.expectedType,s=o.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==s.kind)if("color"!==a.kind&&"formatted"!==a.kind&&"resolvedImage"!==a.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(a,s))return null}else o=n(o,a,e.typeAnnotation||"coerce");else o=n(o,a,e.typeAnnotation||"assert")}if(!(o instanceof ue)&&"resolvedImage"!==o.type.kind&&function t(e){if(e instanceof Be)return t(e.boundExpression);if(e instanceof ye&&"error"===e.name)return!1;if(e instanceof ve)return!1;if(e instanceof Re)return!1;var n=e instanceof ge||e instanceof he,i=!0;return e.eachChild(function(e){i=n?i&&t(e):i&&e instanceof ue}),!!i&&De(e)&&Fe(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(o)){var u=new _e;try{o=new ue(o.type,o.evaluate(u))}catch(t){return this.error(t.message),null}}return o}return this.error('Unknown expression "'+i+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===t?"'undefined' value invalid. Use null instead.":"object"==typeof t?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof t+" instead.")},je.prototype.concat=function(t,e,n){var i="number"==typeof t?this.path.concat(t):this.path,r=n?this.scope.concat(n):this.scope;return new je(this.registry,i,e||null,r,this.errors)},je.prototype.error=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var i=""+this.key+e.map(function(t){return"["+t+"]"}).join("");this.errors.push(new Nt(i,t))},je.prototype.checkSubtype=function(t,e){var n=Xt(t,e);return n&&this.error(n),n};var Ue=function(t,e,n){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var i=0,r=n;i<r.length;i+=1){var o=r[i],a=o[1];this.labels.push(o[0]),this.outputs.push(a)}};function qe(t,e,n){return t*(1-n)+e*n}Ue.parse=function(t,e){if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");var n=e.parse(t[1],1,zt);if(!n)return null;var i=[],r=null;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(var o=1;o<t.length;o+=2){var a=1===o?-1/0:t[o],s=t[o+1],u=o,l=o+1;if("number"!=typeof a)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(i.length&&i[i.length-1][0]>=a)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var c=e.parse(s,l,r);if(!c)return null;r=r||c.type,i.push([a,c])}return new Ue(r,n,i)},Ue.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var i=this.input.evaluate(t);if(i<=e[0])return n[0].evaluate(t);var r=e.length;return i>=e[r-1]?n[r-1].evaluate(t):n[Ve(e,i)].evaluate(t)},Ue.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},Ue.prototype.outputDefined=function(){return this.outputs.every(function(t){return t.outputDefined()})},Ue.prototype.serialize=function(){for(var t=["step",this.input.serialize()],e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t};var Ge=Object.freeze({__proto__:null,number:qe,color:function(t,e,n){return new Qt(qe(t.r,e.r,n),qe(t.g,e.g,n),qe(t.b,e.b,n),qe(t.a,e.a,n))},array:function(t,e,n){return t.map(function(t,i){return qe(t,e[i],n)})}}),He=6/29*3*(6/29),We=Math.PI/180,Ye=180/Math.PI;function Ze(t){return t>.008856451679035631?Math.pow(t,1/3):t/He+4/29}function Xe(t){return t>6/29?t*t*t:He*(t-4/29)}function Ke(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function $e(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Je(t){var e=$e(t.r),n=$e(t.g),i=$e(t.b),r=Ze((.4124564*e+.3575761*n+.1804375*i)/.95047),o=Ze((.2126729*e+.7151522*n+.072175*i)/1);return{l:116*o-16,a:500*(r-o),b:200*(o-Ze((.0193339*e+.119192*n+.9503041*i)/1.08883)),alpha:t.a}}function Qe(t){var e=(t.l+16)/116,n=isNaN(t.a)?e:e+t.a/500,i=isNaN(t.b)?e:e-t.b/200;return e=1*Xe(e),n=.95047*Xe(n),i=1.08883*Xe(i),new Qt(Ke(3.2404542*n-1.5371385*e-.4985314*i),Ke(-.969266*n+1.8760108*e+.041556*i),Ke(.0556434*n-.2040259*e+1.0572252*i),t.alpha)}function tn(t,e,n){var i=e-t;return t+n*(i>180||i<-180?i-360*Math.round(i/360):i)}var en={forward:Je,reverse:Qe,interpolate:function(t,e,n){return{l:qe(t.l,e.l,n),a:qe(t.a,e.a,n),b:qe(t.b,e.b,n),alpha:qe(t.alpha,e.alpha,n)}}},nn={forward:function(t){var e=Je(t),n=e.l,i=e.a,r=e.b,o=Math.atan2(r,i)*Ye;return{h:o<0?o+360:o,c:Math.sqrt(i*i+r*r),l:n,alpha:t.a}},reverse:function(t){var e=t.h*We,n=t.c;return Qe({l:t.l,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:t.alpha})},interpolate:function(t,e,n){return{h:tn(t.h,e.h,n),c:qe(t.c,e.c,n),l:qe(t.l,e.l,n),alpha:qe(t.alpha,e.alpha,n)}}},rn=Object.freeze({__proto__:null,lab:en,hcl:nn}),on=function(t,e,n,i,r){this.type=t,this.operator=e,this.interpolation=n,this.input=i,this.labels=[],this.outputs=[];for(var o=0,a=r;o<a.length;o+=1){var s=a[o],u=s[1];this.labels.push(s[0]),this.outputs.push(u)}};function an(t,e,n,i){var r=i-n,o=t-n;return 0===r?0:1===e?o/r:(Math.pow(e,o)-1)/(Math.pow(e,r)-1)}on.interpolationFactor=function(t,e,i,r){var o=0;if("exponential"===t.name)o=an(e,t.base,i,r);else if("linear"===t.name)o=an(e,1,i,r);else if("cubic-bezier"===t.name){var a=t.controlPoints;o=new n(a[0],a[1],a[2],a[3]).solve(an(e,1,i,r))}return o},on.parse=function(t,e){var n=t[0],i=t[1],r=t[2],o=t.slice(3);if(!Array.isArray(i)||0===i.length)return e.error("Expected an interpolation type expression.",1);if("linear"===i[0])i={name:"linear"};else if("exponential"===i[0]){var a=i[1];if("number"!=typeof a)return e.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:a}}else{if("cubic-bezier"!==i[0])return e.error("Unknown interpolation type "+String(i[0]),1,0);var s=i.slice(1);if(4!==s.length||s.some(function(t){return"number"!=typeof t||t<0||t>1}))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:s}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(r=e.parse(r,2,zt)))return null;var u=[],l=null;"interpolate-hcl"===n||"interpolate-lab"===n?l=jt:e.expectedType&&"value"!==e.expectedType.kind&&(l=e.expectedType);for(var c=0;c<o.length;c+=2){var h=o[c],p=o[c+1],f=c+3,d=c+4;if("number"!=typeof h)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',f);if(u.length&&u[u.length-1][0]>=h)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',f);var g=e.parse(p,d,l);if(!g)return null;l=l||g.type,u.push([h,g])}return"number"===l.kind||"color"===l.kind||"array"===l.kind&&"number"===l.itemType.kind&&"number"==typeof l.N?new on(l,n,i,r,u):e.error("Type "+Yt(l)+" is not interpolatable.")},on.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var i=this.input.evaluate(t);if(i<=e[0])return n[0].evaluate(t);var r=e.length;if(i>=e[r-1])return n[r-1].evaluate(t);var o=Ve(e,i),a=on.interpolationFactor(this.interpolation,i,e[o],e[o+1]),s=n[o].evaluate(t),u=n[o+1].evaluate(t);return"interpolate"===this.operator?Ge[this.type.kind.toLowerCase()](s,u,a):"interpolate-hcl"===this.operator?nn.reverse(nn.interpolate(nn.forward(s),nn.forward(u),a)):en.reverse(en.interpolate(en.forward(s),en.forward(u),a))},on.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},on.prototype.outputDefined=function(){return this.outputs.every(function(t){return t.outputDefined()})},on.prototype.serialize=function(){var t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var e=[this.operator,t,this.input.serialize()],n=0;n<this.labels.length;n++)e.push(this.labels[n],this.outputs[n].serialize());return e};var sn=function(t,e){this.type=t,this.args=e};sn.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var n=null,i=e.expectedType;i&&"value"!==i.kind&&(n=i);for(var r=[],o=0,a=t.slice(1);o<a.length;o+=1){var s=e.parse(a[o],1+r.length,n,void 0,{typeAnnotation:"omit"});if(!s)return null;n=n||s.type,r.push(s)}var u=i&&r.some(function(t){return Xt(i,t.type)});return new sn(u?Ut:n,r)},sn.prototype.evaluate=function(t){for(var e,n=null,i=0,r=0,o=this.args;r<o.length&&(i++,(n=o[r].evaluate(t))&&n instanceof ie&&!n.available&&(e||(e=n.name),n=null,i===this.args.length&&(n=e)),null===n);r+=1);return n},sn.prototype.eachChild=function(t){this.args.forEach(t)},sn.prototype.outputDefined=function(){return this.args.every(function(t){return t.outputDefined()})},sn.prototype.serialize=function(){var t=["coalesce"];return this.eachChild(function(e){t.push(e.serialize())}),t};var un=function(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};un.prototype.evaluate=function(t){return this.result.evaluate(t)},un.prototype.eachChild=function(t){for(var e=0,n=this.bindings;e<n.length;e+=1)t(n[e][1]);t(this.result)},un.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var n=[],i=1;i<t.length-1;i+=2){var r=t[i];if("string"!=typeof r)return e.error("Expected string, but found "+typeof r+" instead.",i);if(/[^a-zA-Z0-9_]/.test(r))return e.error("Variable names must contain only alphanumeric characters or '_'.",i);var o=e.parse(t[i+1],i+1);if(!o)return null;n.push([r,o])}var a=e.parse(t[t.length-1],t.length-1,e.expectedType,n);return a?new un(n,a):null},un.prototype.outputDefined=function(){return this.result.outputDefined()},un.prototype.serialize=function(){for(var t=["let"],e=0,n=this.bindings;e<n.length;e+=1){var i=n[e];t.push(i[0],i[1].serialize())}return t.push(this.result.serialize()),t};var ln=function(t,e,n){this.type=t,this.index=e,this.input=n};ln.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,zt),i=e.parse(t[2],2,Wt(e.expectedType||Ut));return n&&i?new ln(i.type.itemType,n,i):null},ln.prototype.evaluate=function(t){var e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0)throw new le("Array index out of bounds: "+e+" < 0.");if(e>=n.length)throw new le("Array index out of bounds: "+e+" > "+(n.length-1)+".");if(e!==Math.floor(e))throw new le("Array index must be an integer, but found "+e+" instead.");return n[e]},ln.prototype.eachChild=function(t){t(this.index),t(this.input)},ln.prototype.outputDefined=function(){return!1},ln.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var cn=function(t,e){this.type=Bt,this.needle=t,this.haystack=e};cn.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Ut),i=e.parse(t[2],2,Ut);return n&&i?Kt(n.type,[Bt,Ft,zt,Dt,Ut])?new cn(n,i):e.error("Expected first argument to be of type boolean, string, number or null, but found "+Yt(n.type)+" instead"):null},cn.prototype.evaluate=function(t){var e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(!n)return!1;if(!$t(e,["boolean","string","number","null"]))throw new le("Expected first argument to be of type boolean, string, number or null, but found "+Yt(ae(e))+" instead.");if(!$t(n,["string","array"]))throw new le("Expected second argument to be of type array or string, but found "+Yt(ae(n))+" instead.");return n.indexOf(e)>=0},cn.prototype.eachChild=function(t){t(this.needle),t(this.haystack)},cn.prototype.outputDefined=function(){return!0},cn.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var hn=function(t,e,n){this.type=zt,this.needle=t,this.haystack=e,this.fromIndex=n};hn.parse=function(t,e){if(t.length<=2||t.length>=5)return e.error("Expected 3 or 4 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Ut),i=e.parse(t[2],2,Ut);if(!n||!i)return null;if(!Kt(n.type,[Bt,Ft,zt,Dt,Ut]))return e.error("Expected first argument to be of type boolean, string, number or null, but found "+Yt(n.type)+" instead");if(4===t.length){var r=e.parse(t[3],3,zt);return r?new hn(n,i,r):null}return new hn(n,i)},hn.prototype.evaluate=function(t){var e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(!$t(e,["boolean","string","number","null"]))throw new le("Expected first argument to be of type boolean, string, number or null, but found "+Yt(ae(e))+" instead.");if(!$t(n,["string","array"]))throw new le("Expected second argument to be of type array or string, but found "+Yt(ae(n))+" instead.");if(this.fromIndex){var i=this.fromIndex.evaluate(t);return n.indexOf(e,i)}return n.indexOf(e)},hn.prototype.eachChild=function(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)},hn.prototype.outputDefined=function(){return!1},hn.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var pn=function(t,e,n,i,r,o){this.inputType=t,this.type=e,this.input=n,this.cases=i,this.outputs=r,this.otherwise=o};pn.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var n,i;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);for(var r={},o=[],a=2;a<t.length-1;a+=2){var s=t[a],u=t[a+1];Array.isArray(s)||(s=[s]);var l=e.concat(a);if(0===s.length)return l.error("Expected at least one branch label.");for(var c=0,h=s;c<h.length;c+=1){var p=h[c];if("number"!=typeof p&&"string"!=typeof p)return l.error("Branch labels must be numbers or strings.");if("number"==typeof p&&Math.abs(p)>Number.MAX_SAFE_INTEGER)return l.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof p&&Math.floor(p)!==p)return l.error("Numeric branch labels must be integer values.");if(n){if(l.checkSubtype(n,ae(p)))return null}else n=ae(p);if(void 0!==r[String(p)])return l.error("Branch labels must be unique.");r[String(p)]=o.length}var f=e.parse(u,a,i);if(!f)return null;i=i||f.type,o.push(f)}var d=e.parse(t[1],1,Ut);if(!d)return null;var g=e.parse(t[t.length-1],t.length-1,i);return g?"value"!==d.type.kind&&e.concat(1).checkSubtype(n,d.type)?null:new pn(n,i,d,r,o,g):null},pn.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(ae(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},pn.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},pn.prototype.outputDefined=function(){return this.outputs.every(function(t){return t.outputDefined()})&&this.otherwise.outputDefined()},pn.prototype.serialize=function(){for(var t=this,e=["match",this.input.serialize()],n=[],i={},r=0,o=Object.keys(this.cases).sort();r<o.length;r+=1){var a=o[r];void 0===(h=i[this.cases[a]])?(i[this.cases[a]]=n.length,n.push([this.cases[a],[a]])):n[h][1].push(a)}for(var s=function(e){return"number"===t.inputType.kind?Number(e):e},u=0,l=n;u<l.length;u+=1){var c=l[u],h=c[0],p=c[1];e.push(1===p.length?s(p[0]):p.map(s)),e.push(this.outputs[outputIndex$1].serialize())}return e.push(this.otherwise.serialize()),e};var fn=function(t,e,n){this.type=t,this.branches=e,this.otherwise=n};fn.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var i=[],r=1;r<t.length-1;r+=2){var o=e.parse(t[r],r,Bt);if(!o)return null;var a=e.parse(t[r+1],r+1,n);if(!a)return null;i.push([o,a]),n=n||a.type}var s=e.parse(t[t.length-1],t.length-1,n);return s?new fn(n,i,s):null},fn.prototype.evaluate=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var i=n[e],r=i[1];if(i[0].evaluate(t))return r.evaluate(t)}return this.otherwise.evaluate(t)},fn.prototype.eachChild=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var i=n[e],r=i[1];t(i[0]),t(r)}t(this.otherwise)},fn.prototype.outputDefined=function(){return this.branches.every(function(t){return t[1].outputDefined()})&&this.otherwise.outputDefined()},fn.prototype.serialize=function(){var t=["case"];return this.eachChild(function(e){t.push(e.serialize())}),t};var dn=function(t,e,n,i){this.type=t,this.input=e,this.beginIndex=n,this.endIndex=i};function gn(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function mn(t,e,n,i){return 0===i.compare(e,n)}function _n(t,e,n){var i="=="!==t&&"!="!==t;return function(){function r(t,e,n){this.type=Bt,this.lhs=t,this.rhs=e,this.collator=n,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind}return r.parse=function(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");var n=t[0],o=e.parse(t[1],1,Ut);if(!o)return null;if(!gn(n,o.type))return e.concat(1).error('"'+n+"\" comparisons are not supported for type '"+Yt(o.type)+"'.");var a=e.parse(t[2],2,Ut);if(!a)return null;if(!gn(n,a.type))return e.concat(2).error('"'+n+"\" comparisons are not supported for type '"+Yt(a.type)+"'.");if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot compare types '"+Yt(o.type)+"' and '"+Yt(a.type)+"'.");i&&("value"===o.type.kind&&"value"!==a.type.kind?o=new he(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new he(o.type,[a])));var s=null;if(4===t.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot use collator to compare non-string types.");if(!(s=e.parse(t[3],3,qt)))return null}return new r(o,a,s)},r.prototype.evaluate=function(r){var o=this.lhs.evaluate(r),a=this.rhs.evaluate(r);if(i&&this.hasUntypedArgument){var s=ae(o),u=ae(a);if(s.kind!==u.kind||"string"!==s.kind&&"number"!==s.kind)throw new le('Expected arguments for "'+t+'" to be (string, string) or (number, number), but found ('+s.kind+", "+u.kind+") instead.")}if(this.collator&&!i&&this.hasUntypedArgument){var l=ae(o),c=ae(a);if("string"!==l.kind||"string"!==c.kind)return e(r,o,a)}return this.collator?n(r,o,a,this.collator.evaluate(r)):e(r,o,a)},r.prototype.eachChild=function(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)},r.prototype.outputDefined=function(){return!0},r.prototype.serialize=function(){var e=[t];return this.eachChild(function(t){e.push(t.serialize())}),e},r}()}dn.parse=function(t,e){if(t.length<=2||t.length>=5)return e.error("Expected 3 or 4 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Ut),i=e.parse(t[2],2,zt);if(!n||!i)return null;if(!Kt(n.type,[Wt(Ut),Ft,Ut]))return e.error("Expected first argument to be of type array or string, but found "+Yt(n.type)+" instead");if(4===t.length){var r=e.parse(t[3],3,zt);return r?new dn(n.type,n,i,r):null}return new dn(n.type,n,i)},dn.prototype.evaluate=function(t){var e=this.input.evaluate(t),n=this.beginIndex.evaluate(t);if(!$t(e,["string","array"]))throw new le("Expected first argument to be of type array or string, but found "+Yt(ae(e))+" instead.");if(this.endIndex){var i=this.endIndex.evaluate(t);return e.slice(n,i)}return e.slice(n)},dn.prototype.eachChild=function(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)},dn.prototype.outputDefined=function(){return!1},dn.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var yn=_n("==",function(t,e,n){return e===n},mn),vn=_n("!=",function(t,e,n){return e!==n},function(t,e,n,i){return!mn(0,e,n,i)}),bn=_n("<",function(t,e,n){return e<n},function(t,e,n,i){return i.compare(e,n)<0}),wn=_n(">",function(t,e,n){return e>n},function(t,e,n,i){return i.compare(e,n)>0}),xn=_n("<=",function(t,e,n){return e<=n},function(t,e,n,i){return i.compare(e,n)<=0}),kn=_n(">=",function(t,e,n){return e>=n},function(t,e,n,i){return i.compare(e,n)>=0}),En=function(t,e,n,i,r){this.type=Ft,this.number=t,this.locale=e,this.currency=n,this.minFractionDigits=i,this.maxFractionDigits=r};En.parse=function(t,e){if(3!==t.length)return e.error("Expected two arguments.");var n=e.parse(t[1],1,zt);if(!n)return null;var i=t[2];if("object"!=typeof i||Array.isArray(i))return e.error("NumberFormat options argument must be an object.");var r=null;if(i.locale&&!(r=e.parse(i.locale,1,Ft)))return null;var o=null;if(i.currency&&!(o=e.parse(i.currency,1,Ft)))return null;var a=null;if(i["min-fraction-digits"]&&!(a=e.parse(i["min-fraction-digits"],1,zt)))return null;var s=null;return i["max-fraction-digits"]&&!(s=e.parse(i["max-fraction-digits"],1,zt))?null:new En(n,r,o,a,s)},En.prototype.evaluate=function(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))},En.prototype.eachChild=function(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)},En.prototype.outputDefined=function(){return!1},En.prototype.serialize=function(){var t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]};var Sn=function(t){this.type=zt,this.input=t};Sn.parse=function(t,e){if(2!==t.length)return e.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?e.error("Expected argument of type string or array, but found "+Yt(n.type)+" instead."):new Sn(n):null},Sn.prototype.evaluate=function(t){var e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new le("Expected value to be of type string or array, but found "+Yt(ae(e))+" instead.")},Sn.prototype.eachChild=function(t){t(this.input)},Sn.prototype.outputDefined=function(){return!1},Sn.prototype.serialize=function(){var t=["length"];return this.eachChild(function(e){t.push(e.serialize())}),t};var Cn={"==":yn,"!=":vn,">":wn,"<":bn,">=":kn,"<=":xn,array:he,at:ln,boolean:he,case:fn,coalesce:sn,collator:ve,format:pe,image:fe,in:cn,"index-of":hn,interpolate:on,"interpolate-hcl":on,"interpolate-lab":on,length:Sn,let:un,literal:ue,match:pn,number:he,"number-format":En,object:he,slice:dn,step:Ue,string:he,"to-boolean":ge,"to-color":ge,"to-number":ge,"to-string":ge,var:Be,within:Re};function In(t,e){var n=e[0],i=e[1],r=e[2],o=e[3];n=n.evaluate(t),i=i.evaluate(t),r=r.evaluate(t);var a=o?o.evaluate(t):1,s=re(n,i,r,a);if(s)throw new le(s);return new Qt(n/255*a,i/255*a,r/255*a,a)}function An(t,e){return t in e}function Pn(t,e){var n=e[t];return void 0===n?null:n}function Tn(t){return{type:t}}function On(t){return{result:"success",value:t}}function Ln(t){return{result:"error",value:t}}function Mn(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function Nn(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function Rn(t){return!!t.expression&&t.expression.interpolated}function Dn(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function zn(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function Fn(t){return t}function Bn(t,e,n){return void 0!==t?t:void 0!==e?e:void 0!==n?n:void 0}function jn(t,e,n,i,r){return Bn(typeof n===r?i[n]:void 0,t.default,e.default)}function Vn(t,e,n){if("number"!==Dn(n))return Bn(t.default,e.default);var i=t.stops.length;if(1===i)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[i-1][0])return t.stops[i-1][1];var r=Ve(t.stops.map(function(t){return t[0]}),n);return t.stops[r][1]}function Un(t,e,n){var i=void 0!==t.base?t.base:1;if("number"!==Dn(n))return Bn(t.default,e.default);var r=t.stops.length;if(1===r)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[r-1][0])return t.stops[r-1][1];var o=Ve(t.stops.map(function(t){return t[0]}),n),a=function(t,e,n,i){var r=i-n,o=t-n;return 0===r?0:1===e?o/r:(Math.pow(e,o)-1)/(Math.pow(e,r)-1)}(n,i,t.stops[o][0],t.stops[o+1][0]),s=t.stops[o][1],u=t.stops[o+1][1],l=Ge[e.type]||Fn;if(t.colorSpace&&"rgb"!==t.colorSpace){var c=rn[t.colorSpace];l=function(t,e){return c.reverse(c.interpolate(c.forward(t),c.forward(e),a))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=s.evaluate.apply(void 0,t),i=u.evaluate.apply(void 0,t);if(void 0!==n&&void 0!==i)return l(n,i,a)}}:l(s,u,a)}function qn(t,e,n){return"color"===e.type?n=Qt.parse(n):"formatted"===e.type?n=ne.fromString(n.toString()):"resolvedImage"===e.type?n=ie.fromString(n.toString()):Dn(n)===e.type||"enum"===e.type&&e.values[n]||(n=void 0),Bn(n,t.default,e.default)}ye.register(Cn,{error:[{kind:"error"},[Ft],function(t,e){throw new le(e[0].evaluate(t))}],typeof:[Ft,[Ut],function(t,e){return Yt(ae(e[0].evaluate(t)))}],"to-rgba":[Wt(zt,4),[jt],function(t,e){return e[0].evaluate(t).toArray()}],rgb:[jt,[zt,zt,zt],In],rgba:[jt,[zt,zt,zt,zt],In],has:{type:Bt,overloads:[[[Ft],function(t,e){return An(e[0].evaluate(t),t.properties())}],[[Ft,Vt],function(t,e){var n=e[1];return An(e[0].evaluate(t),n.evaluate(t))}]]},get:{type:Ut,overloads:[[[Ft],function(t,e){return Pn(e[0].evaluate(t),t.properties())}],[[Ft,Vt],function(t,e){var n=e[1];return Pn(e[0].evaluate(t),n.evaluate(t))}]]},"feature-state":[Ut,[Ft],function(t,e){return Pn(e[0].evaluate(t),t.featureState||{})}],properties:[Vt,[],function(t){return t.properties()}],"geometry-type":[Ft,[],function(t){return t.geometryType()}],id:[Ut,[],function(t){return t.id()}],zoom:[zt,[],function(t){return t.globals.zoom}],"heatmap-density":[zt,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[zt,[],function(t){return t.globals.lineProgress||0}],accumulated:[Ut,[],function(t){return void 0===t.globals.accumulated?null:t.globals.accumulated}],"+":[zt,Tn(zt),function(t,e){for(var n=0,i=0,r=e;i<r.length;i+=1)n+=r[i].evaluate(t);return n}],"*":[zt,Tn(zt),function(t,e){for(var n=1,i=0,r=e;i<r.length;i+=1)n*=r[i].evaluate(t);return n}],"-":{type:zt,overloads:[[[zt,zt],function(t,e){var n=e[1];return e[0].evaluate(t)-n.evaluate(t)}],[[zt],function(t,e){return-e[0].evaluate(t)}]]},"/":[zt,[zt,zt],function(t,e){var n=e[1];return e[0].evaluate(t)/n.evaluate(t)}],"%":[zt,[zt,zt],function(t,e){var n=e[1];return e[0].evaluate(t)%n.evaluate(t)}],ln2:[zt,[],function(){return Math.LN2}],pi:[zt,[],function(){return Math.PI}],e:[zt,[],function(){return Math.E}],"^":[zt,[zt,zt],function(t,e){var n=e[1];return Math.pow(e[0].evaluate(t),n.evaluate(t))}],sqrt:[zt,[zt],function(t,e){return Math.sqrt(e[0].evaluate(t))}],log10:[zt,[zt],function(t,e){return Math.log(e[0].evaluate(t))/Math.LN10}],ln:[zt,[zt],function(t,e){return Math.log(e[0].evaluate(t))}],log2:[zt,[zt],function(t,e){return Math.log(e[0].evaluate(t))/Math.LN2}],sin:[zt,[zt],function(t,e){return Math.sin(e[0].evaluate(t))}],cos:[zt,[zt],function(t,e){return Math.cos(e[0].evaluate(t))}],tan:[zt,[zt],function(t,e){return Math.tan(e[0].evaluate(t))}],asin:[zt,[zt],function(t,e){return Math.asin(e[0].evaluate(t))}],acos:[zt,[zt],function(t,e){return Math.acos(e[0].evaluate(t))}],atan:[zt,[zt],function(t,e){return Math.atan(e[0].evaluate(t))}],min:[zt,Tn(zt),function(t,e){return Math.min.apply(Math,e.map(function(e){return e.evaluate(t)}))}],max:[zt,Tn(zt),function(t,e){return Math.max.apply(Math,e.map(function(e){return e.evaluate(t)}))}],abs:[zt,[zt],function(t,e){return Math.abs(e[0].evaluate(t))}],round:[zt,[zt],function(t,e){var n=e[0].evaluate(t);return n<0?-Math.round(-n):Math.round(n)}],floor:[zt,[zt],function(t,e){return Math.floor(e[0].evaluate(t))}],ceil:[zt,[zt],function(t,e){return Math.ceil(e[0].evaluate(t))}],"filter-==":[Bt,[Ft,Ut],function(t,e){var n=e[0],i=e[1];return t.properties()[n.value]===i.value}],"filter-id-==":[Bt,[Ut],function(t,e){var n=e[0];return t.id()===n.value}],"filter-type-==":[Bt,[Ft],function(t,e){var n=e[0];return t.geometryType()===n.value}],"filter-<":[Bt,[Ft,Ut],function(t,e){var n=e[0],i=e[1],r=t.properties()[n.value],o=i.value;return typeof r==typeof o&&r<o}],"filter-id-<":[Bt,[Ut],function(t,e){var n=e[0],i=t.id(),r=n.value;return typeof i==typeof r&&i<r}],"filter->":[Bt,[Ft,Ut],function(t,e){var n=e[0],i=e[1],r=t.properties()[n.value],o=i.value;return typeof r==typeof o&&r>o}],"filter-id->":[Bt,[Ut],function(t,e){var n=e[0],i=t.id(),r=n.value;return typeof i==typeof r&&i>r}],"filter-<=":[Bt,[Ft,Ut],function(t,e){var n=e[0],i=e[1],r=t.properties()[n.value],o=i.value;return typeof r==typeof o&&r<=o}],"filter-id-<=":[Bt,[Ut],function(t,e){var n=e[0],i=t.id(),r=n.value;return typeof i==typeof r&&i<=r}],"filter->=":[Bt,[Ft,Ut],function(t,e){var n=e[0],i=e[1],r=t.properties()[n.value],o=i.value;return typeof r==typeof o&&r>=o}],"filter-id->=":[Bt,[Ut],function(t,e){var n=e[0],i=t.id(),r=n.value;return typeof i==typeof r&&i>=r}],"filter-has":[Bt,[Ut],function(t,e){return e[0].value in t.properties()}],"filter-has-id":[Bt,[],function(t){return null!==t.id()&&void 0!==t.id()}],"filter-type-in":[Bt,[Wt(Ft)],function(t,e){return e[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[Bt,[Wt(Ut)],function(t,e){return e[0].value.indexOf(t.id())>=0}],"filter-in-small":[Bt,[Ft,Wt(Ut)],function(t,e){var n=e[0];return e[1].value.indexOf(t.properties()[n.value])>=0}],"filter-in-large":[Bt,[Ft,Wt(Ut)],function(t,e){var n=e[0],i=e[1];return function(t,e,n,i){for(;n<=i;){var r=n+i>>1;if(e[r]===t)return!0;e[r]>t?i=r-1:n=r+1}return!1}(t.properties()[n.value],i.value,0,i.value.length-1)}],all:{type:Bt,overloads:[[[Bt,Bt],function(t,e){var n=e[1];return e[0].evaluate(t)&&n.evaluate(t)}],[Tn(Bt),function(t,e){for(var n=0,i=e;n<i.length;n+=1)if(!i[n].evaluate(t))return!1;return!0}]]},any:{type:Bt,overloads:[[[Bt,Bt],function(t,e){var n=e[1];return e[0].evaluate(t)||n.evaluate(t)}],[Tn(Bt),function(t,e){for(var n=0,i=e;n<i.length;n+=1)if(i[n].evaluate(t))return!0;return!1}]]},"!":[Bt,[Bt],function(t,e){return!e[0].evaluate(t)}],"is-supported-script":[Bt,[Ft],function(t,e){var n=t.globals&&t.globals.isSupportedScript;return!n||n(e[0].evaluate(t))}],upcase:[Ft,[Ft],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[Ft,[Ft],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[Ft,Tn(Ut),function(t,e){return e.map(function(e){return se(e.evaluate(t))}).join("")}],"resolved-locale":[Ft,[qt],function(t,e){return e[0].evaluate(t).resolvedLocale()}]});var Gn=function(t,e){this.expression=t,this._warningHistory={},this._evaluator=new _e,this._defaultValue=e?function(t){return"color"===t.type&&zn(t.default)?new Qt(0,0,0,0):"color"===t.type?Qt.parse(t.default)||null:void 0===t.default?null:t.default}(e):null,this._enumValues=e&&"enum"===e.type?e.values:null};function Hn(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in Cn}function Wn(t,e){var n=new je(Cn,[],e?function(t){var e={color:jt,string:Ft,number:zt,enum:Ft,boolean:Bt,formatted:Gt,resolvedImage:Ht};return"array"===t.type?Wt(e[t.value]||Ut,t.length):e[t.type]}(e):void 0),i=n.parse(t,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return i?On(new Gn(i,e)):Ln(n.errors)}Gn.prototype.evaluateWithoutErrorHandling=function(t,e,n,i,r,o){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=n,this._evaluator.canonical=i,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)},Gn.prototype.evaluate=function(t,e,n,i,r,o){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=n||null,this._evaluator.canonical=i,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=o||null;try{var a=this.expression.evaluate(this._evaluator);if(null==a||"number"==typeof a&&a!=a)return this._defaultValue;if(this._enumValues&&!(a in this._enumValues))throw new le("Expected value to be one of "+Object.keys(this._enumValues).map(function(t){return JSON.stringify(t)}).join(", ")+", but found "+JSON.stringify(a)+" instead.");return a}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}};var Yn=function(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!ze(e.expression)};Yn.prototype.evaluateWithoutErrorHandling=function(t,e,n,i,r,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,i,r,o)},Yn.prototype.evaluate=function(t,e,n,i,r,o){return this._styleExpression.evaluate(t,e,n,i,r,o)};var Zn=function(t,e,n,i){this.kind=t,this.zoomStops=n,this._styleExpression=e,this.isStateDependent="camera"!==t&&!ze(e.expression),this.interpolationType=i};function Xn(t,e){if("error"===(t=Wn(t,e)).result)return t;var n=t.value.expression,i=De(n);if(!i&&!Mn(e))return Ln([new Nt("","data expressions not supported")]);var r=Fe(n,["zoom"]);if(!r&&!Nn(e))return Ln([new Nt("","zoom expressions not supported")]);var o=function t(e){var n=null;if(e instanceof un)n=t(e.result);else if(e instanceof sn)for(var i=0,r=e.args;i<r.length&&!(n=t(r[i]));i+=1);else(e instanceof Ue||e instanceof on)&&e.input instanceof ye&&"zoom"===e.input.name&&(n=e);return n instanceof Nt||e.eachChild(function(e){var i=t(e);i instanceof Nt?n=i:!n&&i?n=new Nt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&i&&n!==i&&(n=new Nt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),n}(n);return o||r?o instanceof Nt?Ln([o]):o instanceof on&&!Rn(e)?Ln([new Nt("",'"interpolate" expressions cannot be used with this property')]):On(o?new Zn(i?"camera":"composite",t.value,o.labels,o instanceof on?o.interpolation:void 0):new Yn(i?"constant":"source",t.value)):Ln([new Nt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Zn.prototype.evaluateWithoutErrorHandling=function(t,e,n,i,r,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,i,r,o)},Zn.prototype.evaluate=function(t,e,n,i,r,o){return this._styleExpression.evaluate(t,e,n,i,r,o)},Zn.prototype.interpolationFactor=function(t,e,n){return this.interpolationType?on.interpolationFactor(this.interpolationType,t,e,n):0};var Kn=function(t,e){this._parameters=t,this._specification=e,Ot(this,function t(e,n){var i,r,o,a="color"===n.type,s=e.stops&&"object"==typeof e.stops[0][0],u=s||!(s||void 0!==e.property),l=e.type||(Rn(n)?"exponential":"interval");if(a&&((e=Ot({},e)).stops&&(e.stops=e.stops.map(function(t){return[t[0],Qt.parse(t[1])]})),e.default=Qt.parse(e.default?e.default:n.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!rn[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);if("exponential"===l)i=Un;else if("interval"===l)i=Vn;else if("categorical"===l){i=jn,r=Object.create(null);for(var c=0,h=e.stops;c<h.length;c+=1){var p=h[c];r[p[0]]=p[1]}o=typeof e.stops[0][0]}else{if("identity"!==l)throw new Error('Unknown function type "'+l+'"');i=qn}if(s){for(var f={},d=[],g=0;g<e.stops.length;g++){var m=e.stops[g],_=m[0].zoom;void 0===f[_]&&(f[_]={zoom:_,type:e.type,property:e.property,default:e.default,stops:[]},d.push(_)),f[_].stops.push([m[0].value,m[1]])}for(var y=[],v=0,b=d;v<b.length;v+=1){var w=b[v];y.push([f[w].zoom,t(f[w],n)])}var x={name:"linear"};return{kind:"composite",interpolationType:x,interpolationFactor:on.interpolationFactor.bind(void 0,x),zoomStops:y.map(function(t){return t[0]}),evaluate:function(t,i){var r=t.zoom;return Un({stops:y,base:e.base},n,r).evaluate(r,i)}}}if(u){var k="exponential"===l?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:k,interpolationFactor:on.interpolationFactor.bind(void 0,k),zoomStops:e.stops.map(function(t){return t[0]}),evaluate:function(t){return i(e,n,t.zoom,r,o)}}}return{kind:"source",evaluate:function(t,a){var s=a&&a.properties?a.properties[e.property]:void 0;return void 0===s?Bn(e.default,n.default):i(e,n,s,r,o)}}}(this._parameters,this._specification))};function $n(t){var e=t.key,n=t.value,i=t.valueSpec||{},r=t.objectElementValidators||{},o=t.style,a=t.styleSpec,s=[],u=Dn(n);if("object"!==u)return[new Pt(e,n,"object expected, "+u+" found")];for(var l in n){var c=l.split(".")[0],h=i[c]||i["*"],p=void 0;if(r[c])p=r[c];else if(i[c])p=xi;else if(r["*"])p=r["*"];else{if(!i["*"]){s.push(new Pt(e,n[l],'unknown property "'+l+'"'));continue}p=xi}s=s.concat(p({key:(e?e+".":e)+l,value:n[l],valueSpec:h,style:o,styleSpec:a,object:n,objectKey:l},n))}for(var f in i)r[f]||i[f].required&&void 0===i[f].default&&void 0===n[f]&&s.push(new Pt(e,n,'missing required property "'+f+'"'));return s}function Jn(t){var e=t.value,n=t.valueSpec,i=t.style,r=t.styleSpec,o=t.key,a=t.arrayElementValidator||xi;if("array"!==Dn(e))return[new Pt(o,e,"array expected, "+Dn(e)+" found")];if(n.length&&e.length!==n.length)return[new Pt(o,e,"array length "+n.length+" expected, length "+e.length+" found")];if(n["min-length"]&&e.length<n["min-length"])return[new Pt(o,e,"array length at least "+n["min-length"]+" expected, length "+e.length+" found")];var s={type:n.value,values:n.values};r.$version<7&&(s.function=n.function),"object"===Dn(n.value)&&(s=n.value);for(var u=[],l=0;l<e.length;l++)u=u.concat(a({array:e,arrayIndex:l,value:e[l],valueSpec:s,style:i,styleSpec:r,key:o+"["+l+"]"}));return u}function Qn(t){var e=t.key,n=t.value,i=t.valueSpec,r=Dn(n);return"number"===r&&n!=n&&(r="NaN"),"number"!==r?[new Pt(e,n,"number expected, "+r+" found")]:"minimum"in i&&n<i.minimum?[new Pt(e,n,n+" is less than the minimum value "+i.minimum)]:"maximum"in i&&n>i.maximum?[new Pt(e,n,n+" is greater than the maximum value "+i.maximum)]:[]}function ti(t){var e,n,i,r=t.valueSpec,o=Lt(t.value.type),a={},s="categorical"!==o&&void 0===t.value.property,u=!s,l="array"===Dn(t.value.stops)&&"array"===Dn(t.value.stops[0])&&"object"===Dn(t.value.stops[0][0]),c=$n({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if("identity"===o)return[new Pt(t.key,t.value,'identity function may not have a "stops" property')];var e=[],n=t.value;return e=e.concat(Jn({key:t.key,value:n,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:h})),"array"===Dn(n)&&0===n.length&&e.push(new Pt(t.key,n,"array must have at least one stop")),e},default:function(t){return xi({key:t.key,value:t.value,valueSpec:r,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===o&&s&&c.push(new Pt(t.key,t.value,'missing required property "property"')),"identity"===o||t.value.stops||c.push(new Pt(t.key,t.value,'missing required property "stops"')),"exponential"===o&&t.valueSpec.expression&&!Rn(t.valueSpec)&&c.push(new Pt(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(u&&!Mn(t.valueSpec)?c.push(new Pt(t.key,t.value,"property functions not supported")):s&&!Nn(t.valueSpec)&&c.push(new Pt(t.key,t.value,"zoom functions not supported"))),"categorical"!==o&&!l||void 0!==t.value.property||c.push(new Pt(t.key,t.value,'"property" property is required')),c;function h(t){var e=[],o=t.value,s=t.key;if("array"!==Dn(o))return[new Pt(s,o,"array expected, "+Dn(o)+" found")];if(2!==o.length)return[new Pt(s,o,"array length 2 expected, length "+o.length+" found")];if(l){if("object"!==Dn(o[0]))return[new Pt(s,o,"object expected, "+Dn(o[0])+" found")];if(void 0===o[0].zoom)return[new Pt(s,o,"object stop key must have zoom")];if(void 0===o[0].value)return[new Pt(s,o,"object stop key must have value")];if(i&&i>Lt(o[0].zoom))return[new Pt(s,o[0].zoom,"stop zoom values must appear in ascending order")];Lt(o[0].zoom)!==i&&(i=Lt(o[0].zoom),n=void 0,a={}),e=e.concat($n({key:s+"[0]",value:o[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:Qn,value:p}}))}else e=e.concat(p({key:s+"[0]",value:o[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},o));return Hn(Mt(o[1]))?e.concat([new Pt(s+"[1]",o[1],"expressions are not allowed in function stops.")]):e.concat(xi({key:s+"[1]",value:o[1],valueSpec:r,style:t.style,styleSpec:t.styleSpec}))}function p(t,i){var s=Dn(t.value),u=Lt(t.value),l=null!==t.value?t.value:i;if(e){if(s!==e)return[new Pt(t.key,l,s+" stop domain type must match previous stop domain type "+e)]}else e=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new Pt(t.key,l,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==o){var c="number expected, "+s+" found";return Mn(r)&&void 0===o&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Pt(t.key,l,c)]}return"categorical"!==o||"number"!==s||isFinite(u)&&Math.floor(u)===u?"categorical"!==o&&"number"===s&&void 0!==n&&u<n?[new Pt(t.key,l,"stop domain values must appear in ascending order")]:(n=u,"categorical"===o&&u in a?[new Pt(t.key,l,"stop domain values must be unique")]:(a[u]=!0,[])):[new Pt(t.key,l,"integer expected, found "+u)]}}function ei(t){var e=("property"===t.expressionContext?Xn:Wn)(Mt(t.value),t.valueSpec);if("error"===e.result)return e.value.map(function(e){return new Pt(""+t.key+e.key,t.value,e.message)});var n=e.value.expression||e.value._styleExpression.expression;if("property"===t.expressionContext&&"text-font"===t.propertyKey&&!n.outputDefined())return[new Pt(t.key,t.value,'Invalid data expression for "'+t.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===t.expressionContext&&"layout"===t.propertyType&&!ze(n))return[new Pt(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===t.expressionContext&&!ze(n))return[new Pt(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&0===t.expressionContext.indexOf("cluster")){if(!Fe(n,["zoom","feature-state"]))return[new Pt(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===t.expressionContext&&!De(n))return[new Pt(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function ni(t){var e=t.key,n=t.value,i=t.valueSpec,r=[];return Array.isArray(i.values)?-1===i.values.indexOf(Lt(n))&&r.push(new Pt(e,n,"expected one of ["+i.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(i.values).indexOf(Lt(n))&&r.push(new Pt(e,n,"expected one of ["+Object.keys(i.values).join(", ")+"], "+JSON.stringify(n)+" found")),r}function ii(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":return t.length>=3&&("string"!=typeof t[1]||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var e=0,n=t.slice(1);e<n.length;e+=1){var i=n[e];if(!ii(i)&&"boolean"!=typeof i)return!1}return!0;default:return!0}}Kn.deserialize=function(t){return new Kn(t._parameters,t._specification)},Kn.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var ri={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function oi(t){if(null==t)return{filter:function(){return!0},needGeometry:!1};ii(t)||(t=si(t));var e=Wn(t,ri);if("error"===e.result)throw new Error(e.value.map(function(t){return t.key+": "+t.message}).join(", "));return{filter:function(t,n,i){return e.value.evaluate(t,n,{},i)},needGeometry:function t(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(var n=1;n<e.length;n++)if(t(e[n]))return!0;return!1}(t)}}function ai(t,e){return t<e?-1:t>e?1:0}function si(t){if(!t)return!0;var e,n=t[0];return t.length<=1?"any"!==n:"=="===n?ui(t[1],t[2],"=="):"!="===n?hi(ui(t[1],t[2],"==")):"<"===n||">"===n||"<="===n||">="===n?ui(t[1],t[2],n):"any"===n?(e=t.slice(1),["any"].concat(e.map(si))):"all"===n?["all"].concat(t.slice(1).map(si)):"none"===n?["all"].concat(t.slice(1).map(si).map(hi)):"in"===n?li(t[1],t.slice(2)):"!in"===n?hi(li(t[1],t.slice(2))):"has"===n?ci(t[1]):"!has"===n?hi(ci(t[1])):"within"!==n||t}function ui(t,e,n){switch(t){case"$type":return["filter-type-"+n,e];case"$id":return["filter-id-"+n,e];default:return["filter-"+n,t,e]}}function li(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(function(t){return typeof t!=typeof e[0]})?["filter-in-large",t,["literal",e.sort(ai)]]:["filter-in-small",t,["literal",e]]}}function ci(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function hi(t){return["!",t]}function pi(t){return ii(Mt(t.value))?ei(Ot({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(e){var n=e.value,i=e.key;if("array"!==Dn(n))return[new Pt(i,n,"array expected, "+Dn(n)+" found")];var r,o=e.styleSpec,a=[];if(n.length<1)return[new Pt(i,n,"filter array must have at least 1 element")];switch(a=a.concat(ni({key:i+"[0]",value:n[0],valueSpec:o.filter_operator,style:e.style,styleSpec:e.styleSpec})),Lt(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===Lt(n[1])&&a.push(new Pt(i,n,'"$type" cannot be use with operator "'+n[0]+'"'));case"==":case"!=":3!==n.length&&a.push(new Pt(i,n,'filter array for operator "'+n[0]+'" must have 3 elements'));case"in":case"!in":n.length>=2&&"string"!==(r=Dn(n[1]))&&a.push(new Pt(i+"[1]",n[1],"string expected, "+r+" found"));for(var s=2;s<n.length;s++)r=Dn(n[s]),"$type"===Lt(n[1])?a=a.concat(ni({key:i+"["+s+"]",value:n[s],valueSpec:o.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==r&&"number"!==r&&"boolean"!==r&&a.push(new Pt(i+"["+s+"]",n[s],"string, number, or boolean expected, "+r+" found"));break;case"any":case"all":case"none":for(var u=1;u<n.length;u++)a=a.concat(t({key:i+"["+u+"]",value:n[u],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":r=Dn(n[1]),2!==n.length?a.push(new Pt(i,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"string"!==r&&a.push(new Pt(i+"[1]",n[1],"string expected, "+r+" found"));break;case"within":r=Dn(n[1]),2!==n.length?a.push(new Pt(i,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"object"!==r&&a.push(new Pt(i+"[1]",n[1],"object expected, "+r+" found"))}return a}(t)}function fi(t,e){var n=t.key,i=t.style,r=t.styleSpec,o=t.value,a=t.objectKey,s=r[e+"_"+t.layerType];if(!s)return[];var u=a.match(/^(.*)-transition$/);if("paint"===e&&u&&s[u[1]]&&s[u[1]].transition)return xi({key:n,value:o,valueSpec:r.transition,style:i,styleSpec:r});var l,c=t.valueSpec||s[a];if(!c)return[new Pt(n,o,'unknown property "'+a+'"')];if("string"===Dn(o)&&Mn(c)&&!c.tokens&&(l=/^{([^}]+)}$/.exec(o)))return[new Pt(n,o,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(l[1])+" }`.")];var h=[];return"symbol"===t.layerType&&("text-field"===a&&i&&!i.glyphs&&h.push(new Pt(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&zn(Mt(o))&&"identity"===Lt(o.type)&&h.push(new Pt(n,o,'"text-font" does not support identity functions'))),h.concat(xi({key:t.key,value:o,valueSpec:c,style:i,styleSpec:r,expressionContext:"property",propertyType:e,propertyKey:a}))}function di(t){return fi(t,"paint")}function gi(t){return fi(t,"layout")}function mi(t){var e=[],n=t.value,i=t.key,r=t.style,o=t.styleSpec;n.type||n.ref||e.push(new Pt(i,n,'either "type" or "ref" is required'));var a,s=Lt(n.type),u=Lt(n.ref);if(n.id)for(var l=Lt(n.id),c=0;c<t.arrayIndex;c++){var h=r.layers[c];Lt(h.id)===l&&e.push(new Pt(i,n.id,'duplicate layer id "'+n.id+'", previously used at line '+h.id.__line__))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach(function(t){t in n&&e.push(new Pt(i,n[t],'"'+t+'" is prohibited for ref layers'))}),r.layers.forEach(function(t){Lt(t.id)===u&&(a=t)}),a?a.ref?e.push(new Pt(i,n.ref,"ref cannot reference another ref layer")):s=Lt(a.type):e.push(new Pt(i,n.ref,'ref layer "'+u+'" not found'));else if("background"!==s)if(n.source){var p=r.sources&&r.sources[n.source],f=p&&Lt(p.type);p?"vector"===f&&"raster"===s?e.push(new Pt(i,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===f&&"raster"!==s?e.push(new Pt(i,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==f||n["source-layer"]?"raster-dem"===f&&"hillshade"!==s?e.push(new Pt(i,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===f&&p.lineMetrics||e.push(new Pt(i,n,'layer "'+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):e.push(new Pt(i,n,'layer "'+n.id+'" must specify a "source-layer"')):e.push(new Pt(i,n.source,'source "'+n.source+'" not found'))}else e.push(new Pt(i,n,'missing required property "source"'));return e=e.concat($n({key:i,value:n,valueSpec:o.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return xi({key:i+".type",value:n.type,valueSpec:o.layer.type,style:t.style,styleSpec:t.styleSpec,object:n,objectKey:"type"})},filter:pi,layout:function(t){return $n({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return gi(Ot({layerType:s},t))}}})},paint:function(t){return $n({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return di(Ot({layerType:s},t))}}})}}}))}function _i(t){var e=t.value,n=t.key,i=Dn(e);return"string"!==i?[new Pt(n,e,"string expected, "+i+" found")]:[]}var yi={promoteId:function(t){var e=t.key,n=t.value;if("string"===Dn(n))return _i({key:e,value:n});var i=[];for(var r in n)i.push.apply(i,_i({key:e+"."+r,value:n[r]}));return i}};function vi(t){var e=t.value,n=t.key,i=t.styleSpec,r=t.style;if(!e.type)return[new Pt(n,e,'"type" is required')];var o,a=Lt(e.type);switch(a){case"vector":case"raster":case"raster-dem":return $n({key:n,value:e,valueSpec:i["source_"+a.replace("-","_")],style:t.style,styleSpec:i,objectElementValidators:yi});case"geojson":if(o=$n({key:n,value:e,valueSpec:i.source_geojson,style:r,styleSpec:i,objectElementValidators:yi}),e.cluster)for(var s in e.clusterProperties){var u=e.clusterProperties[s],l=u[0],c="string"==typeof l?[l,["accumulated"],["get",s]]:l;o.push.apply(o,ei({key:n+"."+s+".map",value:u[1],expressionContext:"cluster-map"})),o.push.apply(o,ei({key:n+"."+s+".reduce",value:c,expressionContext:"cluster-reduce"}))}return o;case"video":return $n({key:n,value:e,valueSpec:i.source_video,style:r,styleSpec:i});case"image":return $n({key:n,value:e,valueSpec:i.source_image,style:r,styleSpec:i});case"canvas":return[new Pt(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ni({key:n+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:r,styleSpec:i})}}function bi(t){var e=t.value,n=t.styleSpec,i=n.light,r=t.style,o=[],a=Dn(e);if(void 0===e)return o;if("object"!==a)return o.concat([new Pt("light",e,"object expected, "+a+" found")]);for(var s in e){var u=s.match(/^(.*)-transition$/);o=o.concat(u&&i[u[1]]&&i[u[1]].transition?xi({key:s,value:e[s],valueSpec:n.transition,style:r,styleSpec:n}):i[s]?xi({key:s,value:e[s],valueSpec:i[s],style:r,styleSpec:n}):[new Pt(s,e[s],'unknown property "'+s+'"')])}return o}var wi={"*":function(){return[]},array:Jn,boolean:function(t){var e=t.value,n=t.key,i=Dn(e);return"boolean"!==i?[new Pt(n,e,"boolean expected, "+i+" found")]:[]},number:Qn,color:function(t){var e=t.key,n=t.value,i=Dn(n);return"string"!==i?[new Pt(e,n,"color expected, "+i+" found")]:null===Jt(n)?[new Pt(e,n,'color expected, "'+n+'" found')]:[]},constants:Tt,enum:ni,filter:pi,function:ti,layer:mi,object:$n,source:vi,light:bi,string:_i,formatted:function(t){return 0===_i(t).length?[]:ei(t)},resolvedImage:function(t){return 0===_i(t).length?[]:ei(t)}};function xi(t){var e=t.value,n=t.valueSpec,i=t.styleSpec;return n.expression&&zn(Lt(e))?ti(t):n.expression&&Hn(Mt(e))?ei(t):n.type&&wi[n.type]?wi[n.type](t):$n(Ot({},t,{valueSpec:n.type?i[n.type]:n}))}function ki(t){var e=t.value,n=t.key,i=_i(t);return i.length||(-1===e.indexOf("{fontstack}")&&i.push(new Pt(n,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&i.push(new Pt(n,e,'"glyphs" url must include a "{range}" token'))),i}function Ei(t,e){void 0===e&&(e=At);var n=[];return n=n.concat(xi({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:ki,"*":function(){return[]}}})),t.constants&&(n=n.concat(Tt({key:"constants",value:t.constants,style:t,styleSpec:e}))),Si(n)}function Si(t){return[].concat(t).sort(function(t,e){return t.line-e.line})}function Ci(t){return function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return Si(t.apply(this,e))}}Ei.source=Ci(vi),Ei.light=Ci(bi),Ei.layer=Ci(mi),Ei.filter=Ci(pi),Ei.paintProperty=Ci(di),Ei.layoutProperty=Ci(gi);var Ii=Ei,Ai=Ii.light,Pi=Ii.paintProperty,Ti=Ii.layoutProperty;function Oi(t,e){var n=!1;if(e&&e.length)for(var i=0,r=e;i<r.length;i+=1)t.fire(new Ct(new Error(r[i].message))),n=!0;return n}var Li=Mi;function Mi(t,e,n){var i=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var r=new Int32Array(this.arrayBuffer);t=r[0],this.d=(e=r[1])+2*(n=r[2]);for(var o=0;o<this.d*this.d;o++){var a=r[3+o],s=r[3+o+1];i.push(a===s?null:r.subarray(a,s))}var u=r[3+i.length+1];this.keys=r.subarray(r[3+i.length],u),this.bboxes=r.subarray(u),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var l=0;l<this.d*this.d;l++)i.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;var c=n/e*t;this.min=-c,this.max=t+c}Mi.prototype.insert=function(t,e,n,i,r){this._forEachCell(e,n,i,r,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(i),this.bboxes.push(r)},Mi.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Mi.prototype._insertCell=function(t,e,n,i,r,o){this.cells[r].push(o)},Mi.prototype.query=function(t,e,n,i,r){var o=this.min,a=this.max;if(t<=o&&e<=o&&a<=n&&a<=i&&!r)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(t,e,n,i,this._queryCell,s,{},r),s},Mi.prototype._queryCell=function(t,e,n,i,r,o,a,s){var u=this.cells[r];if(null!==u)for(var l=this.keys,c=this.bboxes,h=0;h<u.length;h++){var p=u[h];if(void 0===a[p]){var f=4*p;(s?s(c[f+0],c[f+1],c[f+2],c[f+3]):t<=c[f+2]&&e<=c[f+3]&&n>=c[f+0]&&i>=c[f+1])?(a[p]=!0,o.push(l[p])):a[p]=!1}}},Mi.prototype._forEachCell=function(t,e,n,i,r,o,a,s){for(var u=this._convertToCellCoord(t),l=this._convertToCellCoord(e),c=this._convertToCellCoord(n),h=this._convertToCellCoord(i),p=u;p<=c;p++)for(var f=l;f<=h;f++){var d=this.d*f+p;if((!s||s(this._convertFromCellCoord(p),this._convertFromCellCoord(f),this._convertFromCellCoord(p+1),this._convertFromCellCoord(f+1)))&&r.call(this,t,e,n,i,d,o,a,s))return}},Mi.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},Mi.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},Mi.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=3+this.cells.length+1+1,n=0,i=0;i<this.cells.length;i++)n+=this.cells[i].length;var r=new Int32Array(e+n+this.keys.length+this.bboxes.length);r[0]=this.extent,r[1]=this.n,r[2]=this.padding;for(var o=e,a=0;a<t.length;a++){var s=t[a];r[3+a]=o,r.set(s,o),o+=s.length}return r[3+t.length]=o,r.set(this.keys,o),r[3+t.length+1]=o+=this.keys.length,r.set(this.bboxes,o),o+=this.bboxes.length,r.buffer};var Ni=a.ImageData,Ri=a.ImageBitmap,Di={};function zi(t,e,n){void 0===n&&(n={}),Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),Di[t]={klass:e,omit:n.omit||[],shallow:n.shallow||[]}}for(var Fi in zi("Object",Object),Li.serialize=function(t,e){var n=t.toArrayBuffer();return e&&e.push(n),{buffer:n}},Li.deserialize=function(t){return new Li(t.buffer)},zi("Grid",Li),zi("Color",Qt),zi("Error",Error),zi("ResolvedImage",ie),zi("StylePropertyFunction",Kn),zi("StyleExpression",Gn,{omit:["_evaluator"]}),zi("ZoomDependentExpression",Zn),zi("ZoomConstantExpression",Yn),zi("CompoundExpression",ye,{omit:["_evaluate"]}),Cn)Cn[Fi]._classRegistryKey||zi("Expression_"+Fi,Cn[Fi]);function Bi(t){return t&&"undefined"!=typeof ArrayBuffer&&(t instanceof ArrayBuffer||t.constructor&&"ArrayBuffer"===t.constructor.name)}function ji(t){return Ri&&t instanceof Ri}function Vi(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(Bi(t)||ji(t))return e&&e.push(t),t;if(ArrayBuffer.isView(t)){var n=t;return e&&e.push(n.buffer),n}if(t instanceof Ni)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){for(var i=[],r=0,o=t;r<o.length;r+=1)i.push(Vi(o[r],e));return i}if("object"==typeof t){var a=t.constructor,s=a._classRegistryKey;if(!s)throw new Error("can't serialize object of unregistered class");var u=a.serialize?a.serialize(t,e):{};if(!a.serialize){for(var l in t)if(t.hasOwnProperty(l)&&!(Di[s].omit.indexOf(l)>=0)){var c=t[l];u[l]=Di[s].shallow.indexOf(l)>=0?c:Vi(c,e)}t instanceof Error&&(u.message=t.message)}if(u.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==s&&(u.$name=s),u}throw new Error("can't serialize object of type "+typeof t)}function Ui(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||Bi(t)||ji(t)||ArrayBuffer.isView(t)||t instanceof Ni)return t;if(Array.isArray(t))return t.map(Ui);if("object"==typeof t){var e=t.$name||"Object",n=Di[e].klass;if(!n)throw new Error("can't deserialize unregistered class "+e);if(n.deserialize)return n.deserialize(t);for(var i=Object.create(n.prototype),r=0,o=Object.keys(t);r<o.length;r+=1){var a=o[r];if("$name"!==a){var s=t[a];i[a]=Di[e].shallow.indexOf(a)>=0?s:Ui(s)}}return i}throw new Error("can't deserialize object of type "+typeof t)}var qi=function(){this.first=!0};qi.prototype.update=function(t,e){var n=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=n,!0))};var Gi={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},Khmer:function(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};function Hi(t){for(var e=0,n=t;e<n.length;e+=1)if(Wi(n[e].charCodeAt(0)))return!0;return!1}function Wi(t){return!(746!==t&&747!==t&&(t<4352||!(Gi["Bopomofo Extended"](t)||Gi.Bopomofo(t)||Gi["CJK Compatibility Forms"](t)&&!(t>=65097&&t<=65103)||Gi["CJK Compatibility Ideographs"](t)||Gi["CJK Compatibility"](t)||Gi["CJK Radicals Supplement"](t)||Gi["CJK Strokes"](t)||!(!Gi["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||Gi["CJK Unified Ideographs Extension A"](t)||Gi["CJK Unified Ideographs"](t)||Gi["Enclosed CJK Letters and Months"](t)||Gi["Hangul Compatibility Jamo"](t)||Gi["Hangul Jamo Extended-A"](t)||Gi["Hangul Jamo Extended-B"](t)||Gi["Hangul Jamo"](t)||Gi["Hangul Syllables"](t)||Gi.Hiragana(t)||Gi["Ideographic Description Characters"](t)||Gi.Kanbun(t)||Gi["Kangxi Radicals"](t)||Gi["Katakana Phonetic Extensions"](t)||Gi.Katakana(t)&&12540!==t||!(!Gi["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!Gi["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||Gi["Unified Canadian Aboriginal Syllabics"](t)||Gi["Unified Canadian Aboriginal Syllabics Extended"](t)||Gi["Vertical Forms"](t)||Gi["Yijing Hexagram Symbols"](t)||Gi["Yi Syllables"](t)||Gi["Yi Radicals"](t))))}function Yi(t){return!(Wi(t)||function(t){return!!(Gi["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||Gi["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||Gi["Letterlike Symbols"](t)||Gi["Number Forms"](t)||Gi["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||Gi["Control Pictures"](t)&&9251!==t||Gi["Optical Character Recognition"](t)||Gi["Enclosed Alphanumerics"](t)||Gi["Geometric Shapes"](t)||Gi["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||Gi["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||Gi["CJK Symbols and Punctuation"](t)||Gi.Katakana(t)||Gi["Private Use Area"](t)||Gi["CJK Compatibility Forms"](t)||Gi["Small Form Variants"](t)||Gi["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)}(t))}function Zi(t){return t>=1424&&t<=2303||Gi["Arabic Presentation Forms-A"](t)||Gi["Arabic Presentation Forms-B"](t)}function Xi(t,e){return!(!e&&Zi(t)||t>=2304&&t<=3583||t>=3840&&t<=4255||Gi.Khmer(t))}function Ki(t){for(var e=0,n=t;e<n.length;e+=1)if(Zi(n[e].charCodeAt(0)))return!0;return!1}var $i=null,Ji="unavailable",Qi=null,tr=function(t){t&&"string"==typeof t&&t.indexOf("NetworkError")>-1&&(Ji="error"),$i&&$i(t)};function er(){nr.fire(new St("pluginStateChange",{pluginStatus:Ji,pluginURL:Qi}))}var nr=new It,ir=function(){return Ji},rr=function(){if("deferred"!==Ji||!Qi)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Ji="loading",er(),Qi&&bt({url:Qi},function(t){t?tr(t):(Ji="loaded",er())})},or={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return"loaded"===Ji||null!=or.applyArabicShaping},isLoading:function(){return"loading"===Ji},setState:function(t){Ji=t.pluginStatus,Qi=t.pluginURL},isParsed:function(){return null!=or.applyArabicShaping&&null!=or.processBidirectionalText&&null!=or.processStyledBidirectionalText},getPluginURL:function(){return Qi}},ar=function(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new qi,this.transition={})};ar.prototype.isSupportedScript=function(t){return function(t,e){for(var n=0,i=t;n<i.length;n+=1)if(!Xi(i[n].charCodeAt(0),e))return!1;return!0}(t,or.isLoaded())},ar.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},ar.prototype.getCrossfadeParameters=function(){var t=this.zoom,e=t-Math.floor(t),n=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*e}};var sr=function(t,e){this.property=t,this.value=e,this.expression=function(t,e){if(zn(t))return new Kn(t,e);if(Hn(t)){var n=Xn(t,e);if("error"===n.result)throw new Error(n.value.map(function(t){return t.key+": "+t.message}).join(", "));return n.value}var i=t;return"string"==typeof t&&"color"===e.type&&(i=Qt.parse(t)),{kind:"constant",evaluate:function(){return i}}}(void 0===e?t.specification.default:e,t.specification)};sr.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},sr.prototype.possiblyEvaluate=function(t,e,n){return this.property.possiblyEvaluate(this,t,e,n)};var ur=function(t){this.property=t,this.value=new sr(t,void 0)};ur.prototype.transitioned=function(t,e){return new cr(this.property,this.value,e,p({},t.transition,this.transition),t.now)},ur.prototype.untransitioned=function(){return new cr(this.property,this.value,null,{},0)};var lr=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};lr.prototype.getValue=function(t){return w(this._values[t].value.value)},lr.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new ur(this._values[t].property)),this._values[t].value=new sr(this._values[t].property,null===e?void 0:w(e))},lr.prototype.getTransition=function(t){return w(this._values[t].transition)},lr.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new ur(this._values[t].property)),this._values[t].transition=w(e)||void 0},lr.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var i=n[e],r=this.getValue(i);void 0!==r&&(t[i]=r);var o=this.getTransition(i);void 0!==o&&(t[i+"-transition"]=o)}return t},lr.prototype.transitioned=function(t,e){for(var n=new hr(this._properties),i=0,r=Object.keys(this._values);i<r.length;i+=1){var o=r[i];n._values[o]=this._values[o].transitioned(t,e._values[o])}return n},lr.prototype.untransitioned=function(){for(var t=new hr(this._properties),e=0,n=Object.keys(this._values);e<n.length;e+=1){var i=n[e];t._values[i]=this._values[i].untransitioned()}return t};var cr=function(t,e,n,i,r){this.property=t,this.value=e,this.begin=r+i.delay||0,this.end=this.begin+i.duration||0,t.specification.transition&&(i.delay||i.duration)&&(this.prior=n)};cr.prototype.possiblyEvaluate=function(t,e,n){var i=t.now||0,r=this.value.possiblyEvaluate(t,e,n),o=this.prior;if(o){if(i>this.end)return this.prior=null,r;if(this.value.isDataDriven())return this.prior=null,r;if(i<this.begin)return o.possiblyEvaluate(t,e,n);var a=(i-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(t,e,n),r,function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}(a))}return r};var hr=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};hr.prototype.possiblyEvaluate=function(t,e,n){for(var i=new dr(this._properties),r=0,o=Object.keys(this._values);r<o.length;r+=1){var a=o[r];i._values[a]=this._values[a].possiblyEvaluate(t,e,n)}return i},hr.prototype.hasTransition=function(){for(var t=0,e=Object.keys(this._values);t<e.length;t+=1)if(this._values[e[t]].prior)return!0;return!1};var pr=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};pr.prototype.getValue=function(t){return w(this._values[t].value)},pr.prototype.setValue=function(t,e){this._values[t]=new sr(this._values[t].property,null===e?void 0:w(e))},pr.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var i=n[e],r=this.getValue(i);void 0!==r&&(t[i]=r)}return t},pr.prototype.possiblyEvaluate=function(t,e,n){for(var i=new dr(this._properties),r=0,o=Object.keys(this._values);r<o.length;r+=1){var a=o[r];i._values[a]=this._values[a].possiblyEvaluate(t,e,n)}return i};var fr=function(t,e,n){this.property=t,this.value=e,this.parameters=n};fr.prototype.isConstant=function(){return"constant"===this.value.kind},fr.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},fr.prototype.evaluate=function(t,e,n,i){return this.property.evaluate(this.value,this.parameters,t,e,n,i)};var dr=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};dr.prototype.get=function(t){return this._values[t]};var gr=function(t){this.specification=t};gr.prototype.possiblyEvaluate=function(t,e){return t.expression.evaluate(e)},gr.prototype.interpolate=function(t,e,n){var i=Ge[this.specification.type];return i?i(t,e,n):t};var mr=function(t,e){this.specification=t,this.overrides=e};mr.prototype.possiblyEvaluate=function(t,e,n,i){return new fr(this,"constant"===t.expression.kind||"camera"===t.expression.kind?{kind:"constant",value:t.expression.evaluate(e,null,{},n,i)}:t.expression,e)},mr.prototype.interpolate=function(t,e,n){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new fr(this,{kind:"constant",value:void 0},t.parameters);var i=Ge[this.specification.type];return i?new fr(this,{kind:"constant",value:i(t.value.value,e.value.value,n)},t.parameters):t},mr.prototype.evaluate=function(t,e,n,i,r,o){return"constant"===t.kind?t.value:t.evaluate(e,n,i,r,o)};var _r=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(t,e,n,i){if(void 0===t.value)return new fr(this,{kind:"constant",value:void 0},e);if("constant"===t.expression.kind){var r=t.expression.evaluate(e,null,{},n,i),o="resolvedImage"===t.property.specification.type&&"string"!=typeof r?r.name:r,a=this._calculate(o,o,o,e);return new fr(this,{kind:"constant",value:a},e)}if("camera"===t.expression.kind){var s=this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e);return new fr(this,{kind:"constant",value:s},e)}return new fr(this,t.expression,e)},e.prototype.evaluate=function(t,e,n,i,r,o){if("source"===t.kind){var a=t.evaluate(e,n,i,r,o);return this._calculate(a,a,a,e)}return"composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(e.zoom)-1},n,i),t.evaluate({zoom:Math.floor(e.zoom)},n,i),t.evaluate({zoom:Math.floor(e.zoom)+1},n,i),e):t.value},e.prototype._calculate=function(t,e,n,i){return i.zoom>i.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}},e.prototype.interpolate=function(t){return t},e}(mr),yr=function(t){this.specification=t};yr.prototype.possiblyEvaluate=function(t,e,n,i){if(void 0!==t.value){if("constant"===t.expression.kind){var r=t.expression.evaluate(e,null,{},n,i);return this._calculate(r,r,r,e)}return this._calculate(t.expression.evaluate(new ar(Math.floor(e.zoom-1),e)),t.expression.evaluate(new ar(Math.floor(e.zoom),e)),t.expression.evaluate(new ar(Math.floor(e.zoom+1),e)),e)}},yr.prototype._calculate=function(t,e,n,i){return i.zoom>i.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}},yr.prototype.interpolate=function(t){return t};var vr=function(t){this.specification=t};vr.prototype.possiblyEvaluate=function(t,e,n,i){return!!t.expression.evaluate(e,null,{},n,i)},vr.prototype.interpolate=function(){return!1};var br=function(t){for(var e in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],t){var n=t[e];n.specification.overridable&&this.overridableProperties.push(e);var i=this.defaultPropertyValues[e]=new sr(n,void 0),r=this.defaultTransitionablePropertyValues[e]=new ur(n);this.defaultTransitioningPropertyValues[e]=r.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=i.possiblyEvaluate({})}};zi("DataDrivenProperty",mr),zi("DataConstantProperty",gr),zi("CrossFadedDataDrivenProperty",_r),zi("CrossFadedProperty",yr),zi("ColorRampProperty",vr);var wr=function(t){function e(e,n){if(t.call(this),this.id=e.id,this.type=e.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==e.type&&(this.metadata=(e=e).metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),n.layout&&(this._unevaluatedLayout=new pr(n.layout)),n.paint)){for(var i in this._transitionablePaint=new lr(n.paint),e.paint)this.setPaintProperty(i,e.paint[i],{validate:!1});for(var r in e.layout)this.setLayoutProperty(r,e.layout[r],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new dr(n.paint)}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},e.prototype.getLayoutProperty=function(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)},e.prototype.setLayoutProperty=function(t,e,n){void 0===n&&(n={}),null!=e&&this._validate(Ti,"layers."+this.id+".layout."+t,t,e,n)||("visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility=e)},e.prototype.getPaintProperty=function(t){return y(t,"-transition")?this._transitionablePaint.getTransition(t.slice(0,-"-transition".length)):this._transitionablePaint.getValue(t)},e.prototype.setPaintProperty=function(t,e,n){if(void 0===n&&(n={}),null!=e&&this._validate(Pi,"layers."+this.id+".paint."+t,t,e,n))return!1;if(y(t,"-transition"))return this._transitionablePaint.setTransition(t.slice(0,-"-transition".length),e||void 0),!1;var i=this._transitionablePaint._values[t],r="cross-faded-data-driven"===i.property.specification["property-type"],o=i.value.isDataDriven(),a=i.value;this._transitionablePaint.setValue(t,e),this._handleSpecialPaintPropertyUpdate(t);var s=this._transitionablePaint._values[t].value;return s.isDataDriven()||o||r||this._handleOverridablePaintPropertyUpdate(t,a,s)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){},e.prototype._handleOverridablePaintPropertyUpdate=function(t,e,n){return!1},e.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility},e.prototype.updateTransitions=function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(t,e){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,e)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,e)},e.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),b(t,function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)})},e.prototype._validate=function(t,e,n,i,r){return void 0===r&&(r={}),(!r||!1!==r.validate)&&Oi(this,t.call(Ii,{key:e,layerType:this.type,objectKey:n,value:i,styleSpec:At,style:{glyphs:!0,sprite:!0}}))},e.prototype.is3D=function(){return!1},e.prototype.isTileClipped=function(){return!1},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e.prototype.isStateDependent=function(){for(var t in this.paint._values){var e=this.paint.get(t);if(e instanceof fr&&Mn(e.property.specification)&&("source"===e.value.kind||"composite"===e.value.kind)&&e.value.isStateDependent)return!0}return!1},e}(It),xr={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},kr=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Er=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Sr(t,e){void 0===e&&(e=1);var n=0,i=0;return{members:t.map(function(t){var r=xr[t.type].BYTES_PER_ELEMENT,o=n=Cr(n,Math.max(e,r)),a=t.components||1;return i=Math.max(i,r),n+=r*a,{name:t.name,type:t.type,components:a,offset:o}}),size:Cr(n,Math.max(i,e)),alignment:e}}function Cr(t,e){return Math.ceil(t/e)*e}Er.serialize=function(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},Er.deserialize=function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e},Er.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Er.prototype.clear=function(){this.length=0},Er.prototype.resize=function(t){this.reserve(t),this.length=t},Er.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},Er.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Ir=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var i=2*t;return this.int16[i+0]=e,this.int16[i+1]=n,t},e}(Er);Ir.prototype.bytesPerElement=4,zi("StructArrayLayout2i4",Ir);var Ar=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n,i)},e.prototype.emplace=function(t,e,n,i,r){var o=4*t;return this.int16[o+0]=e,this.int16[o+1]=n,this.int16[o+2]=i,this.int16[o+3]=r,t},e}(Er);Ar.prototype.bytesPerElement=8,zi("StructArrayLayout4i8",Ar);var Pr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,r,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,i,r,o)},e.prototype.emplace=function(t,e,n,i,r,o,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.int16[s+2]=i,this.int16[s+3]=r,this.int16[s+4]=o,this.int16[s+5]=a,t},e}(Er);Pr.prototype.bytesPerElement=12,zi("StructArrayLayout2i4i12",Pr);var Tr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,r,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,i,r,o)},e.prototype.emplace=function(t,e,n,i,r,o,a){var s=4*t,u=8*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.uint8[u+4]=i,this.uint8[u+5]=r,this.uint8[u+6]=o,this.uint8[u+7]=a,t},e}(Er);Tr.prototype.bytesPerElement=8,zi("StructArrayLayout2i4ub8",Tr);var Or=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var i=2*t;return this.float32[i+0]=e,this.float32[i+1]=n,t},e}(Er);Or.prototype.bytesPerElement=8,zi("StructArrayLayout2f8",Or);var Lr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,r,o,a,s,u,l){var c=this.length;return this.resize(c+1),this.emplace(c,t,e,n,i,r,o,a,s,u,l)},e.prototype.emplace=function(t,e,n,i,r,o,a,s,u,l,c){var h=10*t;return this.uint16[h+0]=e,this.uint16[h+1]=n,this.uint16[h+2]=i,this.uint16[h+3]=r,this.uint16[h+4]=o,this.uint16[h+5]=a,this.uint16[h+6]=s,this.uint16[h+7]=u,this.uint16[h+8]=l,this.uint16[h+9]=c,t},e}(Er);Lr.prototype.bytesPerElement=20,zi("StructArrayLayout10ui20",Lr);var Mr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,r,o,a,s,u,l,c,h){var p=this.length;return this.resize(p+1),this.emplace(p,t,e,n,i,r,o,a,s,u,l,c,h)},e.prototype.emplace=function(t,e,n,i,r,o,a,s,u,l,c,h,p){var f=12*t;return this.int16[f+0]=e,this.int16[f+1]=n,this.int16[f+2]=i,this.int16[f+3]=r,this.uint16[f+4]=o,this.uint16[f+5]=a,this.uint16[f+6]=s,this.uint16[f+7]=u,this.int16[f+8]=l,this.int16[f+9]=c,this.int16[f+10]=h,this.int16[f+11]=p,t},e}(Er);Mr.prototype.bytesPerElement=24,zi("StructArrayLayout4i4ui4i24",Mr);var Nr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n)},e.prototype.emplace=function(t,e,n,i){var r=3*t;return this.float32[r+0]=e,this.float32[r+1]=n,this.float32[r+2]=i,t},e}(Er);Nr.prototype.bytesPerElement=12,zi("StructArrayLayout3f12",Nr);var Rr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.uint32[1*t+0]=e,t},e}(Er);Rr.prototype.bytesPerElement=4,zi("StructArrayLayout1ul4",Rr);var Dr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,r,o,a,s,u){var l=this.length;return this.resize(l+1),this.emplace(l,t,e,n,i,r,o,a,s,u)},e.prototype.emplace=function(t,e,n,i,r,o,a,s,u,l){var c=10*t,h=5*t;return this.int16[c+0]=e,this.int16[c+1]=n,this.int16[c+2]=i,this.int16[c+3]=r,this.int16[c+4]=o,this.int16[c+5]=a,this.uint32[h+3]=s,this.uint16[c+8]=u,this.uint16[c+9]=l,t},e}(Er);Dr.prototype.bytesPerElement=20,zi("StructArrayLayout6i1ul2ui20",Dr);var zr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,r,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,i,r,o)},e.prototype.emplace=function(t,e,n,i,r,o,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.int16[s+2]=i,this.int16[s+3]=r,this.int16[s+4]=o,this.int16[s+5]=a,t},e}(Er);zr.prototype.bytesPerElement=12,zi("StructArrayLayout2i2i2i12",zr);var Fr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,r){var o=this.length;return this.resize(o+1),this.emplace(o,t,e,n,i,r)},e.prototype.emplace=function(t,e,n,i,r,o){var a=4*t,s=8*t;return this.float32[a+0]=e,this.float32[a+1]=n,this.float32[a+2]=i,this.int16[s+6]=r,this.int16[s+7]=o,t},e}(Er);Fr.prototype.bytesPerElement=16,zi("StructArrayLayout2f1f2i16",Fr);var Br=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n,i)},e.prototype.emplace=function(t,e,n,i,r){var o=12*t,a=3*t;return this.uint8[o+0]=e,this.uint8[o+1]=n,this.float32[a+1]=i,this.float32[a+2]=r,t},e}(Er);Br.prototype.bytesPerElement=12,zi("StructArrayLayout2ub2f12",Br);var jr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n)},e.prototype.emplace=function(t,e,n,i){var r=3*t;return this.uint16[r+0]=e,this.uint16[r+1]=n,this.uint16[r+2]=i,t},e}(Er);jr.prototype.bytesPerElement=6,zi("StructArrayLayout3ui6",jr);var Vr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,r,o,a,s,u,l,c,h,p,f,d,g,m){var _=this.length;return this.resize(_+1),this.emplace(_,t,e,n,i,r,o,a,s,u,l,c,h,p,f,d,g,m)},e.prototype.emplace=function(t,e,n,i,r,o,a,s,u,l,c,h,p,f,d,g,m,_){var y=24*t,v=12*t,b=48*t;return this.int16[y+0]=e,this.int16[y+1]=n,this.uint16[y+2]=i,this.uint16[y+3]=r,this.uint32[v+2]=o,this.uint32[v+3]=a,this.uint32[v+4]=s,this.uint16[y+10]=u,this.uint16[y+11]=l,this.uint16[y+12]=c,this.float32[v+7]=h,this.float32[v+8]=p,this.uint8[b+36]=f,this.uint8[b+37]=d,this.uint8[b+38]=g,this.uint32[v+10]=m,this.int16[y+22]=_,t},e}(Er);Vr.prototype.bytesPerElement=48,zi("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Vr);var Ur=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,r,o,a,s,u,l,c,h,p,f,d,g,m,_,y,v,b,w,x,k,E,S,C,I){var A=this.length;return this.resize(A+1),this.emplace(A,t,e,n,i,r,o,a,s,u,l,c,h,p,f,d,g,m,_,y,v,b,w,x,k,E,S,C,I)},e.prototype.emplace=function(t,e,n,i,r,o,a,s,u,l,c,h,p,f,d,g,m,_,y,v,b,w,x,k,E,S,C,I,A){var P=34*t,T=17*t;return this.int16[P+0]=e,this.int16[P+1]=n,this.int16[P+2]=i,this.int16[P+3]=r,this.int16[P+4]=o,this.int16[P+5]=a,this.int16[P+6]=s,this.int16[P+7]=u,this.uint16[P+8]=l,this.uint16[P+9]=c,this.uint16[P+10]=h,this.uint16[P+11]=p,this.uint16[P+12]=f,this.uint16[P+13]=d,this.uint16[P+14]=g,this.uint16[P+15]=m,this.uint16[P+16]=_,this.uint16[P+17]=y,this.uint16[P+18]=v,this.uint16[P+19]=b,this.uint16[P+20]=w,this.uint16[P+21]=x,this.uint16[P+22]=k,this.uint32[T+12]=E,this.float32[T+13]=S,this.float32[T+14]=C,this.float32[T+15]=I,this.float32[T+16]=A,t},e}(Er);Ur.prototype.bytesPerElement=68,zi("StructArrayLayout8i15ui1ul4f68",Ur);var qr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.float32[1*t+0]=e,t},e}(Er);qr.prototype.bytesPerElement=4,zi("StructArrayLayout1f4",qr);var Gr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n)},e.prototype.emplace=function(t,e,n,i){var r=3*t;return this.int16[r+0]=e,this.int16[r+1]=n,this.int16[r+2]=i,t},e}(Er);Gr.prototype.bytesPerElement=6,zi("StructArrayLayout3i6",Gr);var Hr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n)},e.prototype.emplace=function(t,e,n,i){var r=4*t;return this.uint32[2*t+0]=e,this.uint16[r+2]=n,this.uint16[r+3]=i,t},e}(Er);Hr.prototype.bytesPerElement=8,zi("StructArrayLayout1ul2ui8",Hr);var Wr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var i=2*t;return this.uint16[i+0]=e,this.uint16[i+1]=n,t},e}(Er);Wr.prototype.bytesPerElement=4,zi("StructArrayLayout2ui4",Wr);var Yr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.uint16[1*t+0]=e,t},e}(Er);Yr.prototype.bytesPerElement=2,zi("StructArrayLayout1ui2",Yr);var Zr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n,i)},e.prototype.emplace=function(t,e,n,i,r){var o=4*t;return this.float32[o+0]=e,this.float32[o+1]=n,this.float32[o+2]=i,this.float32[o+3]=r,t},e}(Er);Zr.prototype.bytesPerElement=16,zi("StructArrayLayout4f16",Zr);var Xr=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.anchorPoint.get=function(){return new r(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,n),e}(kr);Xr.prototype.size=20;var Kr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new Xr(this,t)},e}(Dr);zi("CollisionBoxArray",Kr);var $r=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},n.placedOrientation.set=function(t){this._structArray.uint8[this._pos1+37]=t},n.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},n.hidden.set=function(t){this._structArray.uint8[this._pos1+38]=t},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},n.crossTileID.set=function(t){this._structArray.uint32[this._pos4+10]=t},n.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(e.prototype,n),e}(kr);$r.prototype.size=48;var Jr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new $r(this,t)},e}(Vr);zi("PlacedSymbolArray",Jr);var Qr=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},n.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},n.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},n.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},n.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},n.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},n.key.get=function(){return this._structArray.uint16[this._pos2+8]},n.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},n.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},n.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},n.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},n.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},n.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},n.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},n.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},n.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},n.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},n.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},n.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},n.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},n.crossTileID.set=function(t){this._structArray.uint32[this._pos4+12]=t},n.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},n.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},n.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},n.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(e.prototype,n),e}(kr);Qr.prototype.size=68;var to=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new Qr(this,t)},e}(Ur);zi("SymbolInstanceArray",to);var eo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getoffsetX=function(t){return this.float32[1*t+0]},e}(qr);zi("GlyphOffsetArray",eo);var no=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getx=function(t){return this.int16[3*t+0]},e.prototype.gety=function(t){return this.int16[3*t+1]},e.prototype.gettileUnitDistanceFromAnchor=function(t){return this.int16[3*t+2]},e}(Gr);zi("SymbolLineVertexArray",no);var io=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(e.prototype,n),e}(kr);io.prototype.size=8;var ro=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new io(this,t)},e}(Hr);zi("FeatureIndexArray",ro);var oo=Sr([{name:"a_pos",components:2,type:"Int16"}],4).members,ao=function(t){void 0===t&&(t=[]),this.segments=t};function so(t,e){return 256*(t=c(Math.floor(t),0,255))+c(Math.floor(e),0,255)}ao.prototype.prepareSegment=function(t,e,n,i){var r=this.segments[this.segments.length-1];return t>ao.MAX_VERTEX_ARRAY_LENGTH&&k("Max vertices per segment is "+ao.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!r||r.vertexLength+t>ao.MAX_VERTEX_ARRAY_LENGTH||r.sortKey!==i)&&(r={vertexOffset:e.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==i&&(r.sortKey=i),this.segments.push(r)),r},ao.prototype.get=function(){return this.segments},ao.prototype.destroy=function(){for(var t=0,e=this.segments;t<e.length;t+=1){var n=e[t];for(var i in n.vaos)n.vaos[i].destroy()}},ao.simpleSegment=function(t,e,n,i){return new ao([{vertexOffset:t,primitiveOffset:e,vertexLength:n,primitiveLength:i,vaos:{},sortKey:0}])},ao.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,zi("SegmentVector",ao);var uo=Sr([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),lo=e(function(t){t.exports=function(t,e){var n,i,r,o,a,s,u,l;for(i=t.length-(n=3&t.length),r=e,a=3432918353,s=461845907,l=0;l<i;)u=255&t.charCodeAt(l)|(255&t.charCodeAt(++l))<<8|(255&t.charCodeAt(++l))<<16|(255&t.charCodeAt(++l))<<24,++l,r=27492+(65535&(o=5*(65535&(r=(r^=u=(65535&(u=(u=(65535&u)*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295)<<13|r>>>19))+((5*(r>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(u=0,n){case 3:u^=(255&t.charCodeAt(l+2))<<16;case 2:u^=(255&t.charCodeAt(l+1))<<8;case 1:r^=u=(65535&(u=(u=(65535&(u^=255&t.charCodeAt(l)))*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295}return r^=t.length,r=2246822507*(65535&(r^=r>>>16))+((2246822507*(r>>>16)&65535)<<16)&4294967295,r=3266489909*(65535&(r^=r>>>13))+((3266489909*(r>>>16)&65535)<<16)&4294967295,(r^=r>>>16)>>>0}}),co=e(function(t){t.exports=function(t,e){for(var n,i=t.length,r=e^i,o=0;i>=4;)n=1540483477*(65535&(n=255&t.charCodeAt(o)|(255&t.charCodeAt(++o))<<8|(255&t.charCodeAt(++o))<<16|(255&t.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),i-=4,++o;switch(i){case 3:r^=(255&t.charCodeAt(o+2))<<16;case 2:r^=(255&t.charCodeAt(o+1))<<8;case 1:r=1540483477*(65535&(r^=255&t.charCodeAt(o)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),(r^=r>>>15)>>>0}}),ho=lo,po=co;ho.murmur3=lo,ho.murmur2=po;var fo=function(){this.ids=[],this.positions=[],this.indexed=!1};fo.prototype.add=function(t,e,n,i){this.ids.push(mo(t)),this.positions.push(e,n,i)},fo.prototype.getPositions=function(t){for(var e=mo(t),n=0,i=this.ids.length-1;n<i;){var r=n+i>>1;this.ids[r]>=e?i=r:n=r+1}for(var o=[];this.ids[n]===e;)o.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return o},fo.serialize=function(t,e){var n=new Float64Array(t.ids),i=new Uint32Array(t.positions);return function t(e,n,i,r){for(;i<r;){for(var o=e[i+r>>1],a=i-1,s=r+1;;){do{a++}while(e[a]<o);do{s--}while(e[s]>o);if(a>=s)break;_o(e,a,s),_o(n,3*a,3*s),_o(n,3*a+1,3*s+1),_o(n,3*a+2,3*s+2)}s-i<r-s?(t(e,n,i,s),i=s+1):(t(e,n,s+1,r),r=s)}}(n,i,0,n.length-1),e&&e.push(n.buffer,i.buffer),{ids:n,positions:i}},fo.deserialize=function(t){var e=new fo;return e.ids=t.ids,e.positions=t.positions,e.indexed=!0,e};var go=Math.pow(2,53)-1;function mo(t){var e=+t;return!isNaN(e)&&e<=go?e:ho(String(t))}function _o(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}zi("FeaturePositionMap",fo);var yo=function(t,e){this.gl=t.gl,this.location=e},vo=function(t){function e(e,n){t.call(this,e,n),this.current=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1i(this.location,t))},e}(yo),bo=function(t){function e(e,n){t.call(this,e,n),this.current=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))},e}(yo),wo=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]||(this.current=t,this.gl.uniform2f(this.location,t[0],t[1]))},e}(yo),xo=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]||(this.current=t,this.gl.uniform3f(this.location,t[0],t[1],t[2]))},e}(yo),ko=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))},e}(yo),Eo=function(t){function e(e,n){t.call(this,e,n),this.current=Qt.transparent}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))},e}(yo),So=new Float32Array(16),Co=function(t){function e(e,n){t.call(this,e,n),this.current=So}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){if(t[12]!==this.current[12]||t[0]!==this.current[0])return this.current=t,void this.gl.uniformMatrix4fv(this.location,!1,t);for(var e=1;e<16;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix4fv(this.location,!1,t);break}},e}(yo);function Io(t){return[so(255*t.r,255*t.g),so(255*t.b,255*t.a)]}var Ao=function(t,e,n){this.value=t,this.uniformNames=e.map(function(t){return"u_"+t}),this.type=n};Ao.prototype.setUniform=function(t,e,n){t.set(n.constantOr(this.value))},Ao.prototype.getBinding=function(t,e,n){return"color"===this.type?new Eo(t,e):new bo(t,e)};var Po=function(t,e){this.uniformNames=e.map(function(t){return"u_"+t}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Po.prototype.setConstantPatternPositions=function(t,e){this.pixelRatioFrom=e.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=e.tlbr,this.patternTo=t.tlbr},Po.prototype.setUniform=function(t,e,n,i){var r="u_pattern_to"===i?this.patternTo:"u_pattern_from"===i?this.patternFrom:"u_pixel_ratio_to"===i?this.pixelRatioTo:"u_pixel_ratio_from"===i?this.pixelRatioFrom:null;r&&t.set(r)},Po.prototype.getBinding=function(t,e,n){return"u_pattern"===n.substr(0,9)?new ko(t,e):new bo(t,e)};var To=function(t,e,n,i){this.expression=t,this.type=n,this.maxValue=0,this.paintVertexAttributes=e.map(function(t){return{name:"a_"+t,type:"Float32",components:"color"===n?2:1,offset:0}}),this.paintVertexArray=new i};To.prototype.populatePaintArray=function(t,e,n,i,r){var o=this.paintVertexArray.length,a=this.expression.evaluate(new ar(0),e,{},i,[],r);this.paintVertexArray.resize(t),this._setPaintValue(o,t,a)},To.prototype.updatePaintArray=function(t,e,n,i){var r=this.expression.evaluate({zoom:0},n,i);this._setPaintValue(t,e,r)},To.prototype._setPaintValue=function(t,e,n){if("color"===this.type)for(var i=Io(n),r=t;r<e;r++)this.paintVertexArray.emplace(r,i[0],i[1]);else{for(var o=t;o<e;o++)this.paintVertexArray.emplace(o,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}},To.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},To.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Oo=function(t,e,n,i,r,o){this.expression=t,this.uniformNames=e.map(function(t){return"u_"+t+"_t"}),this.type=n,this.useIntegerZoom=i,this.zoom=r,this.maxValue=0,this.paintVertexAttributes=e.map(function(t){return{name:"a_"+t,type:"Float32",components:"color"===n?4:2,offset:0}}),this.paintVertexArray=new o};Oo.prototype.populatePaintArray=function(t,e,n,i,r){var o=this.expression.evaluate(new ar(this.zoom),e,{},i,[],r),a=this.expression.evaluate(new ar(this.zoom+1),e,{},i,[],r),s=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(s,t,o,a)},Oo.prototype.updatePaintArray=function(t,e,n,i){var r=this.expression.evaluate({zoom:this.zoom},n,i),o=this.expression.evaluate({zoom:this.zoom+1},n,i);this._setPaintValue(t,e,r,o)},Oo.prototype._setPaintValue=function(t,e,n,i){if("color"===this.type)for(var r=Io(n),o=Io(i),a=t;a<e;a++)this.paintVertexArray.emplace(a,r[0],r[1],o[0],o[1]);else{for(var s=t;s<e;s++)this.paintVertexArray.emplace(s,n,i);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(i))}},Oo.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Oo.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Oo.prototype.setUniform=function(t,e){var n=this.useIntegerZoom?Math.floor(e.zoom):e.zoom,i=c(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);t.set(i)},Oo.prototype.getBinding=function(t,e,n){return new bo(t,e)};var Lo=function(t,e,n,i,r,o){this.expression=t,this.type=e,this.useIntegerZoom=n,this.zoom=i,this.layerId=o,this.zoomInPaintVertexArray=new r,this.zoomOutPaintVertexArray=new r};Lo.prototype.populatePaintArray=function(t,e,n){var i=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(i,t,e.patterns&&e.patterns[this.layerId],n)},Lo.prototype.updatePaintArray=function(t,e,n,i,r){this._setPaintValues(t,e,n.patterns&&n.patterns[this.layerId],r)},Lo.prototype._setPaintValues=function(t,e,n,i){if(i&&n){var r=i[n.min],o=i[n.mid],a=i[n.max];if(r&&o&&a)for(var s=t;s<e;s++)this.zoomInPaintVertexArray.emplace(s,o.tl[0],o.tl[1],o.br[0],o.br[1],r.tl[0],r.tl[1],r.br[0],r.br[1],o.pixelRatio,r.pixelRatio),this.zoomOutPaintVertexArray.emplace(s,o.tl[0],o.tl[1],o.br[0],o.br[1],a.tl[0],a.tl[1],a.br[0],a.br[1],o.pixelRatio,a.pixelRatio)}},Lo.prototype.upload=function(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,uo.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,uo.members,this.expression.isStateDependent))},Lo.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Mo=function(t,e,n){this.binders={},this._buffers=[];var i=[];for(var r in t.paint._values)if(n(r)){var o=t.paint.get(r);if(o instanceof fr&&Mn(o.property.specification)){var a=Ro(r,t.type),s=o.value,u=o.property.specification.type,l=o.property.useIntegerZoom,c=o.property.specification["property-type"],h="cross-faded"===c||"cross-faded-data-driven"===c;if("constant"===s.kind)this.binders[r]=h?new Po(s.value,a):new Ao(s.value,a,u),i.push("/u_"+r);else if("source"===s.kind||h){var p=Do(r,u,"source");this.binders[r]=h?new Lo(s,u,l,e,p,t.id):new To(s,a,u,p),i.push("/a_"+r)}else{var f=Do(r,u,"composite");this.binders[r]=new Oo(s,a,u,l,e,f),i.push("/z_"+r)}}}this.cacheKey=i.sort().join("")};Mo.prototype.getMaxValue=function(t){var e=this.binders[t];return e instanceof To||e instanceof Oo?e.maxValue:0},Mo.prototype.populatePaintArrays=function(t,e,n,i,r){for(var o in this.binders){var a=this.binders[o];(a instanceof To||a instanceof Oo||a instanceof Lo)&&a.populatePaintArray(t,e,n,i,r)}},Mo.prototype.setConstantPatternPositions=function(t,e){for(var n in this.binders){var i=this.binders[n];i instanceof Po&&i.setConstantPatternPositions(t,e)}},Mo.prototype.updatePaintArrays=function(t,e,n,i,r){var o=!1;for(var a in t)for(var s=0,u=e.getPositions(a);s<u.length;s+=1){var l=u[s],c=n.feature(l.index);for(var h in this.binders){var p=this.binders[h];if((p instanceof To||p instanceof Oo||p instanceof Lo)&&!0===p.expression.isStateDependent){var f=i.paint.get(h);p.expression=f.value,p.updatePaintArray(l.start,l.end,c,t[a],r),o=!0}}}return o},Mo.prototype.defines=function(){var t=[];for(var e in this.binders){var n=this.binders[e];(n instanceof Ao||n instanceof Po)&&t.push.apply(t,n.uniformNames.map(function(t){return"#define HAS_UNIFORM_"+t}))}return t},Mo.prototype.getBinderAttributes=function(){var t=[];for(var e in this.binders){var n=this.binders[e];if(n instanceof To||n instanceof Oo)for(var i=0;i<n.paintVertexAttributes.length;i++)t.push(n.paintVertexAttributes[i].name);else if(n instanceof Lo)for(var r=0;r<uo.members.length;r++)t.push(uo.members[r].name)}return t},Mo.prototype.getBinderUniforms=function(){var t=[];for(var e in this.binders){var n=this.binders[e];if(n instanceof Ao||n instanceof Po||n instanceof Oo)for(var i=0,r=n.uniformNames;i<r.length;i+=1)t.push(r[i])}return t},Mo.prototype.getPaintVertexBuffers=function(){return this._buffers},Mo.prototype.getUniforms=function(t,e){var n=[];for(var i in this.binders){var r=this.binders[i];if(r instanceof Ao||r instanceof Po||r instanceof Oo)for(var o=0,a=r.uniformNames;o<a.length;o+=1){var s=a[o];if(e[s]){var u=r.getBinding(t,e[s],s);n.push({name:s,property:i,binding:u})}}}return n},Mo.prototype.setUniforms=function(t,e,n,i){for(var r=0,o=e;r<o.length;r+=1){var a=o[r],s=a.name,u=a.property;this.binders[u].setUniform(a.binding,i,n.get(u),s)}},Mo.prototype.updatePaintBuffers=function(t){for(var e in this._buffers=[],this.binders){var n=this.binders[e];if(t&&n instanceof Lo){var i=2===t.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;i&&this._buffers.push(i)}else(n instanceof To||n instanceof Oo)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}},Mo.prototype.upload=function(t){for(var e in this.binders){var n=this.binders[e];(n instanceof To||n instanceof Oo||n instanceof Lo)&&n.upload(t)}this.updatePaintBuffers()},Mo.prototype.destroy=function(){for(var t in this.binders){var e=this.binders[t];(e instanceof To||e instanceof Oo||e instanceof Lo)&&e.destroy()}};var No=function(t,e,n){void 0===n&&(n=function(){return!0}),this.programConfigurations={};for(var i=0,r=t;i<r.length;i+=1){var o=r[i];this.programConfigurations[o.id]=new Mo(o,e,n)}this.needsUpload=!1,this._featureMap=new fo,this._bufferOffset=0};function Ro(t,e){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[t]||[t.replace(e+"-","").replace(/-/g,"_")]}function Do(t,e,n){var i={color:{source:Or,composite:Zr},number:{source:qr,composite:Or}},r=function(t){return{"line-pattern":{source:Lr,composite:Lr},"fill-pattern":{source:Lr,composite:Lr},"fill-extrusion-pattern":{source:Lr,composite:Lr}}[t]}(t);return r&&r[n]||i[e][n]}No.prototype.populatePaintArrays=function(t,e,n,i,r,o){for(var a in this.programConfigurations)this.programConfigurations[a].populatePaintArrays(t,e,i,r,o);void 0!==e.id&&this._featureMap.add(e.id,n,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0},No.prototype.updatePaintArrays=function(t,e,n,i){for(var r=0,o=n;r<o.length;r+=1){var a=o[r];this.needsUpload=this.programConfigurations[a.id].updatePaintArrays(t,this._featureMap,e,a,i)||this.needsUpload}},No.prototype.get=function(t){return this.programConfigurations[t]},No.prototype.upload=function(t){if(this.needsUpload){for(var e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1}},No.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},zi("ConstantBinder",Ao),zi("CrossFadedConstantBinder",Po),zi("SourceExpressionBinder",To),zi("CrossFadedCompositeBinder",Lo),zi("CompositeExpressionBinder",Oo),zi("ProgramConfiguration",Mo,{omit:["_buffers"]}),zi("ProgramConfigurationSet",No);var zo=Math.pow(2,14)-1,Fo=-zo-1;function Bo(t){for(var e=8192/t.extent,n=t.loadGeometry(),i=0;i<n.length;i++)for(var r=n[i],o=0;o<r.length;o++){var a=r[o],s=Math.round(a.x*e),u=Math.round(a.y*e);a.x=c(s,Fo,zo),a.y=c(u,Fo,zo),(s<a.x||s>a.x+1||u<a.y||u>a.y+1)&&k("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}function jo(t,e){return{type:t.type,id:t.id,properties:t.properties,geometry:e?Bo(t):[]}}function Vo(t,e,n,i,r){t.emplaceBack(2*e+(i+1)/2,2*n+(r+1)/2)}var Uo=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Ir,this.indexArray=new jr,this.segments=new ao,this.programConfigurations=new No(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter(function(t){return t.isStateDependent()}).map(function(t){return t.id})};function qo(t,e){for(var n=0;n<t.length;n++)if(Jo(e,t[n]))return!0;for(var i=0;i<e.length;i++)if(Jo(t,e[i]))return!0;return!!Yo(t,e)}function Go(t,e,n){return!!Jo(t,e)||!!Xo(e,t,n)}function Ho(t,e){if(1===t.length)return $o(e,t[0]);for(var n=0;n<e.length;n++)for(var i=e[n],r=0;r<i.length;r++)if(Jo(t,i[r]))return!0;for(var o=0;o<t.length;o++)if($o(e,t[o]))return!0;for(var a=0;a<e.length;a++)if(Yo(t,e[a]))return!0;return!1}function Wo(t,e,n){if(t.length>1){if(Yo(t,e))return!0;for(var i=0;i<e.length;i++)if(Xo(e[i],t,n))return!0}for(var r=0;r<t.length;r++)if(Xo(t[r],e,n))return!0;return!1}function Yo(t,e){if(0===t.length||0===e.length)return!1;for(var n=0;n<t.length-1;n++)for(var i=t[n],r=t[n+1],o=0;o<e.length-1;o++)if(Zo(i,r,e[o],e[o+1]))return!0;return!1}function Zo(t,e,n,i){return E(t,n,i)!==E(e,n,i)&&E(t,e,n)!==E(t,e,i)}function Xo(t,e,n){var i=n*n;if(1===e.length)return t.distSqr(e[0])<i;for(var r=1;r<e.length;r++)if(Ko(t,e[r-1],e[r])<i)return!0;return!1}function Ko(t,e,n){var i=e.distSqr(n);if(0===i)return t.distSqr(e);var r=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/i;return t.distSqr(r<0?e:r>1?n:n.sub(e)._mult(r)._add(e))}function $o(t,e){for(var n,i,r,o=!1,a=0;a<t.length;a++)for(var s=0,u=(n=t[a]).length-1;s<n.length;u=s++)(i=n[s]).y>e.y!=(r=n[u]).y>e.y&&e.x<(r.x-i.x)*(e.y-i.y)/(r.y-i.y)+i.x&&(o=!o);return o}function Jo(t,e){for(var n=!1,i=0,r=t.length-1;i<t.length;r=i++){var o=t[i],a=t[r];o.y>e.y!=a.y>e.y&&e.x<(a.x-o.x)*(e.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function Qo(t,e,n){var i=n[0],r=n[2];if(t.x<i.x&&e.x<i.x||t.x>r.x&&e.x>r.x||t.y<i.y&&e.y<i.y||t.y>r.y&&e.y>r.y)return!1;var o=E(t,e,n[0]);return o!==E(t,e,n[1])||o!==E(t,e,n[2])||o!==E(t,e,n[3])}function ta(t,e,n){var i=e.paint.get(t).value;return"constant"===i.kind?i.value:n.programConfigurations.get(e.id).getMaxValue(t)}function ea(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function na(t,e,n,i,o){if(!e[0]&&!e[1])return t;var a=r.convert(e)._mult(o);"viewport"===n&&a._rotate(-i);for(var s=[],u=0;u<t.length;u++)s.push(t[u].sub(a));return s}Uo.prototype.populate=function(t,e,n){var i=this.layers[0],r=[],o=null;"circle"===i.type&&(o=i.layout.get("circle-sort-key"));for(var a=0,s=t;a<s.length;a+=1){var u=s[a],l=u.feature,c=u.id,h=u.index,p=u.sourceLayerIndex,f=this.layers[0]._featureFilter.needGeometry,d=jo(l,f);if(this.layers[0]._featureFilter.filter(new ar(this.zoom),d,n)){var g=o?o.evaluate(d,{},n):void 0,m={id:c,properties:l.properties,type:l.type,sourceLayerIndex:p,index:h,geometry:f?d.geometry:Bo(l),patterns:{},sortKey:g};r.push(m)}}o&&r.sort(function(t,e){return t.sortKey-e.sortKey});for(var _=0,y=r;_<y.length;_+=1){var v=y[_],b=v.geometry,w=v.index,x=v.sourceLayerIndex,k=t[w].feature;this.addFeature(v,b,w,n),e.featureIndex.insert(k,b,w,x,this.index)}},Uo.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Uo.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Uo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Uo.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,oo),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Uo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Uo.prototype.addFeature=function(t,e,n,i){for(var r=0,o=e;r<o.length;r+=1)for(var a=0,s=o[r];a<s.length;a+=1){var u=s[a],l=u.x,c=u.y;if(!(l<0||l>=8192||c<0||c>=8192)){var h=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),p=h.vertexLength;Vo(this.layoutVertexArray,l,c,-1,-1),Vo(this.layoutVertexArray,l,c,1,-1),Vo(this.layoutVertexArray,l,c,1,1),Vo(this.layoutVertexArray,l,c,-1,1),this.indexArray.emplaceBack(p,p+1,p+2),this.indexArray.emplaceBack(p,p+3,p+2),h.vertexLength+=4,h.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,{},i)},zi("CircleBucket",Uo,{omit:["layers"]});var ia=new br({"circle-sort-key":new mr(At.layout_circle["circle-sort-key"])}),ra={paint:new br({"circle-radius":new mr(At.paint_circle["circle-radius"]),"circle-color":new mr(At.paint_circle["circle-color"]),"circle-blur":new mr(At.paint_circle["circle-blur"]),"circle-opacity":new mr(At.paint_circle["circle-opacity"]),"circle-translate":new gr(At.paint_circle["circle-translate"]),"circle-translate-anchor":new gr(At.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new gr(At.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new gr(At.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new mr(At.paint_circle["circle-stroke-width"]),"circle-stroke-color":new mr(At.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new mr(At.paint_circle["circle-stroke-opacity"])}),layout:ia},oa="undefined"!=typeof Float32Array?Float32Array:Array;function aa(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function sa(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],p=e[9],f=e[10],d=e[11],g=e[12],m=e[13],_=e[14],y=e[15],v=n[0],b=n[1],w=n[2],x=n[3];return t[0]=v*i+b*s+w*h+x*g,t[1]=v*r+b*u+w*p+x*m,t[2]=v*o+b*l+w*f+x*_,t[3]=v*a+b*c+w*d+x*y,t[4]=(v=n[4])*i+(b=n[5])*s+(w=n[6])*h+(x=n[7])*g,t[5]=v*r+b*u+w*p+x*m,t[6]=v*o+b*l+w*f+x*_,t[7]=v*a+b*c+w*d+x*y,t[8]=(v=n[8])*i+(b=n[9])*s+(w=n[10])*h+(x=n[11])*g,t[9]=v*r+b*u+w*p+x*m,t[10]=v*o+b*l+w*f+x*_,t[11]=v*a+b*c+w*d+x*y,t[12]=(v=n[12])*i+(b=n[13])*s+(w=n[14])*h+(x=n[15])*g,t[13]=v*r+b*u+w*p+x*m,t[14]=v*o+b*l+w*f+x*_,t[15]=v*a+b*c+w*d+x*y,t}Math.hypot||(Math.hypot=function(){for(var t=arguments,e=0,n=arguments.length;n--;)e+=t[n]*t[n];return Math.sqrt(e)});var ua,la=sa;function ca(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3];return t[0]=n[0]*i+n[4]*r+n[8]*o+n[12]*a,t[1]=n[1]*i+n[5]*r+n[9]*o+n[13]*a,t[2]=n[2]*i+n[6]*r+n[10]*o+n[14]*a,t[3]=n[3]*i+n[7]*r+n[11]*o+n[15]*a,t}ua=new oa(3),oa!=Float32Array&&(ua[0]=0,ua[1]=0,ua[2]=0),function(){var t=new oa(4);oa!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0)}();var ha=(function(){var t=new oa(2);oa!=Float32Array&&(t[0]=0,t[1]=0)}(),function(t){function e(e){t.call(this,e,ra)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new Uo(t)},e.prototype.queryRadius=function(t){var e=t;return ta("circle-radius",this,e)+ta("circle-stroke-width",this,e)+ea(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,i,r,o,a,s){for(var u=na(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,a),l=this.paint.get("circle-radius").evaluate(e,n)+this.paint.get("circle-stroke-width").evaluate(e,n),c="map"===this.paint.get("circle-pitch-alignment"),h=c?u:function(t,e){return t.map(function(t){return pa(t,e)})}(u,s),p=c?l*a:l,f=0,d=i;f<d.length;f+=1)for(var g=0,m=d[f];g<m.length;g+=1){var _=m[g],y=c?_:pa(_,s),v=p,b=ca([],[_.x,_.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?v*=b[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(v*=o.cameraToCenterDistance/b[3]),Go(h,y,v))return!0}return!1},e}(wr));function pa(t,e){var n=ca([],[t.x,t.y,0,1],e);return new r(n[0]/n[3],n[1]/n[3])}var fa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Uo);function da(t,e,n,i){var r=e.width,o=e.height;if(i){if(i instanceof Uint8ClampedArray)i=new Uint8Array(i.buffer);else if(i.length!==r*o*n)throw new RangeError("mismatched image size")}else i=new Uint8Array(r*o*n);return t.width=r,t.height=o,t.data=i,t}function ga(t,e,n){var i=e.width,r=e.height;if(i!==t.width||r!==t.height){var o=da({},{width:i,height:r},n);ma(t,o,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,i),height:Math.min(t.height,r)},n),t.width=i,t.height=r,t.data=o.data}}function ma(t,e,n,i,r,o){if(0===r.width||0===r.height)return e;if(r.width>t.width||r.height>t.height||n.x>t.width-r.width||n.y>t.height-r.height)throw new RangeError("out of range source coordinates for image copy");if(r.width>e.width||r.height>e.height||i.x>e.width-r.width||i.y>e.height-r.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=t.data,s=e.data,u=0;u<r.height;u++)for(var l=((n.y+u)*t.width+n.x)*o,c=((i.y+u)*e.width+i.x)*o,h=0;h<r.width*o;h++)s[c+h]=a[l+h];return e}zi("HeatmapBucket",fa,{omit:["layers"]});var _a=function(t,e){da(this,t,1,e)};_a.prototype.resize=function(t){ga(this,t,1)},_a.prototype.clone=function(){return new _a({width:this.width,height:this.height},new Uint8Array(this.data))},_a.copy=function(t,e,n,i,r){ma(t,e,n,i,r,1)};var ya=function(t,e){da(this,t,4,e)};ya.prototype.resize=function(t){ga(this,t,4)},ya.prototype.replace=function(t,e){e?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t},ya.prototype.clone=function(){return new ya({width:this.width,height:this.height},new Uint8Array(this.data))},ya.copy=function(t,e,n,i,r){ma(t,e,n,i,r,4)},zi("AlphaImage",_a),zi("RGBAImage",ya);var va={paint:new br({"heatmap-radius":new mr(At.paint_heatmap["heatmap-radius"]),"heatmap-weight":new mr(At.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new gr(At.paint_heatmap["heatmap-intensity"]),"heatmap-color":new vr(At.paint_heatmap["heatmap-color"]),"heatmap-opacity":new gr(At.paint_heatmap["heatmap-opacity"])})};function ba(t){var e={},n=t.resolution||256,i=t.clips?t.clips.length:1,r=t.image||new ya({width:n,height:i}),o=function(n,i,o){e[t.evaluationKey]=o;var a=t.expression.evaluate(e);r.data[n+i+0]=Math.floor(255*a.r/a.a),r.data[n+i+1]=Math.floor(255*a.g/a.a),r.data[n+i+2]=Math.floor(255*a.b/a.a),r.data[n+i+3]=Math.floor(255*a.a)};if(t.clips)for(var a=0,s=0;a<i;++a,s+=4*n)for(var u=0,l=0;u<n;u++,l+=4){var c=u/(n-1),h=t.clips[a];o(s,l,h.start*(1-c)+h.end*c)}else for(var p=0,f=0;p<n;p++,f+=4)o(0,f,p/(n-1));return r}var wa=function(t){function e(e){t.call(this,e,va),this._updateColorRamp()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new fa(t)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){"heatmap-color"===t&&this._updateColorRamp()},e.prototype._updateColorRamp=function(){this.colorRamp=ba({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}(wr),xa={paint:new br({"hillshade-illumination-direction":new gr(At.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new gr(At.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new gr(At.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new gr(At.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new gr(At.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new gr(At.paint_hillshade["hillshade-accent-color"])})},ka=function(t){function e(e){t.call(this,e,xa)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},e}(wr),Ea=Sr([{name:"a_pos",components:2,type:"Int16"}],4).members,Sa=Ia,Ca=Ia;function Ia(t,e,n){n=n||2;var i,r,o,a,s,u,l,c=e&&e.length,h=c?e[0]*n:t.length,p=Aa(t,0,h,n,!0),f=[];if(!p||p.next===p.prev)return f;if(c&&(p=function(t,e,n,i){var r,o,a,s=[];for(r=0,o=e.length;r<o;r++)(a=Aa(t,e[r]*i,r<o-1?e[r+1]*i:t.length,i,!1))===a.next&&(a.steiner=!0),s.push(Ba(a));for(s.sort(Ra),r=0;r<s.length;r++)Da(s[r],n),n=Pa(n,n.next);return n}(t,e,p,n)),t.length>80*n){i=o=t[0],r=a=t[1];for(var d=n;d<h;d+=n)(s=t[d])<i&&(i=s),(u=t[d+1])<r&&(r=u),s>o&&(o=s),u>a&&(a=u);l=0!==(l=Math.max(o-i,a-r))?1/l:0}return Ta(p,f,n,i,r,l),f}function Aa(t,e,n,i,r){var o,a;if(r===Ja(t,e,n,i)>0)for(o=e;o<n;o+=i)a=Xa(o,t[o],t[o+1],a);else for(o=n-i;o>=e;o-=i)a=Xa(o,t[o],t[o+1],a);return a&&qa(a,a.next)&&(Ka(a),a=a.next),a}function Pa(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!qa(i,i.next)&&0!==Ua(i.prev,i,i.next))i=i.next;else{if(Ka(i),(i=e=i.prev)===i.next)break;n=!0}}while(n||i!==e);return e}function Ta(t,e,n,i,r,o,a){if(t){!a&&o&&function(t,e,n,i){var r=t;do{null===r.z&&(r.z=Fa(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,n,i,r,o,a,s,u,l=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,i=n,s=0,e=0;e<l&&(s++,i=i.nextZ);e++);for(u=l;s>0||u>0&&i;)0!==s&&(0===u||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,u--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,l*=2}while(a>1)}(r)}(t,i,r,o);for(var s,u,l=t;t.prev!==t.next;)if(s=t.prev,u=t.next,o?La(t,i,r,o):Oa(t))e.push(s.i/n),e.push(t.i/n),e.push(u.i/n),Ka(t),t=u.next,l=u.next;else if((t=u)===l){a?1===a?Ta(t=Ma(Pa(t),e,n),e,n,i,r,o,2):2===a&&Na(t,e,n,i,r,o):Ta(Pa(t),e,n,i,r,o,1);break}}}function Oa(t){var e=t.prev,n=t,i=t.next;if(Ua(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(ja(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&Ua(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function La(t,e,n,i){var r=t.prev,o=t,a=t.next;if(Ua(r,o,a)>=0)return!1;for(var s=r.x>o.x?r.x>a.x?r.x:a.x:o.x>a.x?o.x:a.x,u=r.y>o.y?r.y>a.y?r.y:a.y:o.y>a.y?o.y:a.y,l=Fa(r.x<o.x?r.x<a.x?r.x:a.x:o.x<a.x?o.x:a.x,r.y<o.y?r.y<a.y?r.y:a.y:o.y<a.y?o.y:a.y,e,n,i),c=Fa(s,u,e,n,i),h=t.prevZ,p=t.nextZ;h&&h.z>=l&&p&&p.z<=c;){if(h!==t.prev&&h!==t.next&&ja(r.x,r.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Ua(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,p!==t.prev&&p!==t.next&&ja(r.x,r.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Ua(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;h&&h.z>=l;){if(h!==t.prev&&h!==t.next&&ja(r.x,r.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Ua(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;p&&p.z<=c;){if(p!==t.prev&&p!==t.next&&ja(r.x,r.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Ua(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function Ma(t,e,n){var i=t;do{var r=i.prev,o=i.next.next;!qa(r,o)&&Ga(r,i,i.next,o)&&Ya(r,o)&&Ya(o,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(o.i/n),Ka(i),Ka(i.next),i=t=o),i=i.next}while(i!==t);return Pa(i)}function Na(t,e,n,i,r,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Va(a,s)){var u=Za(a,s);return a=Pa(a,a.next),u=Pa(u,u.next),Ta(a,e,n,i,r,o),void Ta(u,e,n,i,r,o)}s=s.next}a=a.next}while(a!==t)}function Ra(t,e){return t.x-e.x}function Da(t,e){if(e=function(t,e){var n,i=e,r=t.x,o=t.y,a=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var s=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&s>a){if(a=s,s===r){if(o===i.y)return i;if(o===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===a)return n;var u,l=n,c=n.x,h=n.y,p=1/0;i=n;do{r>=i.x&&i.x>=c&&r!==i.x&&ja(o<h?r:a,o,c,h,o<h?a:r,o,i.x,i.y)&&(u=Math.abs(o-i.y)/(r-i.x),Ya(i,t)&&(u<p||u===p&&(i.x>n.x||i.x===n.x&&za(n,i)))&&(n=i,p=u)),i=i.next}while(i!==l);return n}(t,e)){var n=Za(e,t);Pa(e,e.next),Pa(n,n.next)}}function za(t,e){return Ua(t.prev,t,e.prev)<0&&Ua(e.next,t,t.next)<0}function Fa(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Ba(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function ja(t,e,n,i,r,o,a,s){return(r-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(i-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(r-a)*(i-s)>=0}function Va(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Ga(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(Ya(t,e)&&Ya(e,t)&&function(t,e){var n=t,i=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)&&(Ua(t.prev,t,e.prev)||Ua(t,e.prev,e))||qa(t,e)&&Ua(t.prev,t,t.next)>0&&Ua(e.prev,e,e.next)>0)}function Ua(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function qa(t,e){return t.x===e.x&&t.y===e.y}function Ga(t,e,n,i){var r=Wa(Ua(t,e,n)),o=Wa(Ua(t,e,i)),a=Wa(Ua(n,i,t)),s=Wa(Ua(n,i,e));return r!==o&&a!==s||!(0!==r||!Ha(t,n,e))||!(0!==o||!Ha(t,i,e))||!(0!==a||!Ha(n,t,i))||!(0!==s||!Ha(n,e,i))}function Ha(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Wa(t){return t>0?1:t<0?-1:0}function Ya(t,e){return Ua(t.prev,t,t.next)<0?Ua(t,e,t.next)>=0&&Ua(t,t.prev,e)>=0:Ua(t,e,t.prev)<0||Ua(t,t.next,e)<0}function Za(t,e){var n=new $a(t.i,t.x,t.y),i=new $a(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function Xa(t,e,n,i){var r=new $a(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Ka(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function $a(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ja(t,e,n,i){for(var r=0,o=e,a=n-i;o<n;o+=i)r+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return r}function Qa(t,e,n,i,r){!function t(e,n,i,r,o){for(;r>i;){if(r-i>600){var a=r-i+1,s=n-i+1,u=Math.log(a),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(a-l)/a)*(s-a/2<0?-1:1);t(e,n,Math.max(i,Math.floor(n-s*l/a+c)),Math.min(r,Math.floor(n+(a-s)*l/a+c)),o)}var h=e[n],p=i,f=r;for(ts(e,i,n),o(e[r],h)>0&&ts(e,i,r);p<f;){for(ts(e,p,f),p++,f--;o(e[p],h)<0;)p++;for(;o(e[f],h)>0;)f--}0===o(e[i],h)?ts(e,i,f):ts(e,++f,r),f<=n&&(i=f+1),n<=f&&(r=f-1)}}(t,e,n||0,i||t.length-1,r||es)}function ts(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function es(t,e){return t<e?-1:t>e?1:0}function ns(t,e){var n=t.length;if(n<=1)return[t];for(var i,r,o=[],a=0;a<n;a++){var s=S(t[a]);0!==s&&(t[a].area=Math.abs(s),void 0===r&&(r=s<0),r===s<0?(i&&o.push(i),i=[t[a]]):i.push(t[a]))}if(i&&o.push(i),e>1)for(var u=0;u<o.length;u++)o[u].length<=e||(Qa(o[u],e,1,o[u].length-1,is),o[u]=o[u].slice(0,e));return o}function is(t,e){return e.area-t.area}function rs(t,e,n){for(var i=n.patternDependencies,r=!1,o=0,a=e;o<a.length;o+=1){var s=a[o].paint.get(t+"-pattern");s.isConstant()||(r=!0);var u=s.constantOr(null);u&&(r=!0,i[u.to]=!0,i[u.from]=!0)}return r}function os(t,e,n,i,r){for(var o=r.patternDependencies,a=0,s=e;a<s.length;a+=1){var u=s[a],l=u.paint.get(t+"-pattern").value;if("constant"!==l.kind){var c=l.evaluate({zoom:i-1},n,{},r.availableImages),h=l.evaluate({zoom:i},n,{},r.availableImages),p=l.evaluate({zoom:i+1},n,{},r.availableImages);h=h&&h.name?h.name:h,p=p&&p.name?p.name:p,o[c=c&&c.name?c.name:c]=!0,o[h]=!0,o[p]=!0,n.patterns[u.id]={min:c,mid:h,max:p}}}return n}Ia.deviation=function(t,e,n,i){var r=e&&e.length,o=Math.abs(Ja(t,0,r?e[0]*n:t.length,n));if(r)for(var a=0,s=e.length;a<s;a++)o-=Math.abs(Ja(t,e[a]*n,a<s-1?e[a+1]*n:t.length,n));var u=0;for(a=0;a<i.length;a+=3){var l=i[a]*n,c=i[a+1]*n,h=i[a+2]*n;u+=Math.abs((t[l]-t[h])*(t[c+1]-t[l+1])-(t[l]-t[c])*(t[h+1]-t[l+1]))}return 0===o&&0===u?0:Math.abs((u-o)/o)},Ia.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[r][o][a]);r>0&&n.holes.push(i+=t[r-1].length)}return n},Sa.default=Ca;var as=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ir,this.indexArray=new jr,this.indexArray2=new Wr,this.programConfigurations=new No(t.layers,t.zoom),this.segments=new ao,this.segments2=new ao,this.stateDependentLayerIds=this.layers.filter(function(t){return t.isStateDependent()}).map(function(t){return t.id})};as.prototype.populate=function(t,e,n){this.hasPattern=rs("fill",this.layers,e);for(var i=this.layers[0].layout.get("fill-sort-key"),r=[],o=0,a=t;o<a.length;o+=1){var s=a[o],u=s.feature,l=s.id,c=s.index,h=s.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,f=jo(u,p);if(this.layers[0]._featureFilter.filter(new ar(this.zoom),f,n)){var d=i?i.evaluate(f,{},n,e.availableImages):void 0,g={id:l,properties:u.properties,type:u.type,sourceLayerIndex:h,index:c,geometry:p?f.geometry:Bo(u),patterns:{},sortKey:d};r.push(g)}}i&&r.sort(function(t,e){return t.sortKey-e.sortKey});for(var m=0,_=r;m<_.length;m+=1){var y=_[m],v=y.geometry,b=y.index,w=y.sourceLayerIndex;if(this.hasPattern){var x=os("fill",this.layers,y,this.zoom,e);this.patternFeatures.push(x)}else this.addFeature(y,v,b,n,{});e.featureIndex.insert(t[b].feature,v,b,w,this.index)}},as.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},as.prototype.addFeatures=function(t,e,n){for(var i=0,r=this.patternFeatures;i<r.length;i+=1){var o=r[i];this.addFeature(o,o.geometry,o.index,e,n)}},as.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},as.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},as.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ea),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0},as.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},as.prototype.addFeature=function(t,e,n,i,r){for(var o=0,a=ns(e,500);o<a.length;o+=1){for(var s=a[o],u=0,l=0,c=s;l<c.length;l+=1)u+=c[l].length;for(var h=this.segments.prepareSegment(u,this.layoutVertexArray,this.indexArray),p=h.vertexLength,f=[],d=[],g=0,m=s;g<m.length;g+=1){var _=m[g];if(0!==_.length){_!==s[0]&&d.push(f.length/2);var y=this.segments2.prepareSegment(_.length,this.layoutVertexArray,this.indexArray2),v=y.vertexLength;this.layoutVertexArray.emplaceBack(_[0].x,_[0].y),this.indexArray2.emplaceBack(v+_.length-1,v),f.push(_[0].x),f.push(_[0].y);for(var b=1;b<_.length;b++)this.layoutVertexArray.emplaceBack(_[b].x,_[b].y),this.indexArray2.emplaceBack(v+b-1,v+b),f.push(_[b].x),f.push(_[b].y);y.vertexLength+=_.length,y.primitiveLength+=_.length}}for(var w=Sa(f,d),x=0;x<w.length;x+=3)this.indexArray.emplaceBack(p+w[x],p+w[x+1],p+w[x+2]);h.vertexLength+=u,h.primitiveLength+=w.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,r,i)},zi("FillBucket",as,{omit:["layers","patternFeatures"]});var ss=new br({"fill-sort-key":new mr(At.layout_fill["fill-sort-key"])}),us={paint:new br({"fill-antialias":new gr(At.paint_fill["fill-antialias"]),"fill-opacity":new mr(At.paint_fill["fill-opacity"]),"fill-color":new mr(At.paint_fill["fill-color"]),"fill-outline-color":new mr(At.paint_fill["fill-outline-color"]),"fill-translate":new gr(At.paint_fill["fill-translate"]),"fill-translate-anchor":new gr(At.paint_fill["fill-translate-anchor"]),"fill-pattern":new _r(At.paint_fill["fill-pattern"])}),layout:ss},ls=function(t){function e(e){t.call(this,e,us)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.recalculate=function(e,n){t.prototype.recalculate.call(this,e,n);var i=this.paint._values["fill-outline-color"];"constant"===i.value.kind&&void 0===i.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(t){return new as(t)},e.prototype.queryRadius=function(){return ea(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,i,r,o,a){return Ho(na(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,a),i)},e.prototype.isTileClipped=function(){return!0},e}(wr),cs=Sr([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,hs=ps;function ps(t,e,n,i,r){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=i,this._values=r,t.readFields(fs,this,e)}function fs(t,e,n){1==t?e.id=n.readVarint():2==t?function(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var i=e._keys[t.readVarint()],r=e._values[t.readVarint()];e.properties[i]=r}}(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function ds(t){for(var e,n,i=0,r=0,o=t.length,a=o-1;r<o;a=r++)i+=((n=t[a]).x-(e=t[r]).x)*(e.y+n.y);return i}ps.types=["Unknown","Point","LineString","Polygon"],ps.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,i=1,o=0,a=0,s=0,u=[];t.pos<n;){if(o<=0){var l=t.readVarint();i=7&l,o=l>>3}if(o--,1===i||2===i)a+=t.readSVarint(),s+=t.readSVarint(),1===i&&(e&&u.push(e),e=[]),e.push(new r(a,s));else{if(7!==i)throw new Error("unknown command "+i);e&&e.push(e[0].clone())}}return e&&u.push(e),u},ps.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,i=0,r=0,o=0,a=1/0,s=-1/0,u=1/0,l=-1/0;t.pos<e;){if(i<=0){var c=t.readVarint();n=7&c,i=c>>3}if(i--,1===n||2===n)(r+=t.readSVarint())<a&&(a=r),r>s&&(s=r),(o+=t.readSVarint())<u&&(u=o),o>l&&(l=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,u,s,l]},ps.prototype.toGeoJSON=function(t,e,n){var i,r,o=this.extent*Math.pow(2,n),a=this.extent*t,s=this.extent*e,u=this.loadGeometry(),l=ps.types[this.type];function c(t){for(var e=0;e<t.length;e++){var n=t[e];t[e]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var h=[];for(i=0;i<u.length;i++)h[i]=u[i][0];c(u=h);break;case 2:for(i=0;i<u.length;i++)c(u[i]);break;case 3:for(u=function(t){var e=t.length;if(e<=1)return[t];for(var n,i,r=[],o=0;o<e;o++){var a=ds(t[o]);0!==a&&(void 0===i&&(i=a<0),i===a<0?(n&&r.push(n),n=[t[o]]):n.push(t[o]))}return n&&r.push(n),r}(u),i=0;i<u.length;i++)for(r=0;r<u[i].length;r++)c(u[i][r])}1===u.length?u=u[0]:l="Multi"+l;var p={type:"Feature",geometry:{type:l,coordinates:u},properties:this.properties};return"id"in this&&(p.id=this.id),p};var gs=ms;function ms(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(_s,this,e),this.length=this._features.length}function _s(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(function(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var i=t.readVarint()>>3;e=1===i?t.readString():2===i?t.readFloat():3===i?t.readDouble():4===i?t.readVarint64():5===i?t.readVarint():6===i?t.readSVarint():7===i?t.readBoolean():null}return e}(n))}function ys(t,e,n){if(3===t){var i=new gs(n,n.readVarint()+n.pos);i.length&&(e[i.name]=i)}}ms.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new hs(this._pbf,e,this.extent,this._keys,this._values)};var vs={VectorTile:function(t,e){this.layers=t.readFields(ys,{},e)},VectorTileFeature:hs,VectorTileLayer:gs},bs=vs.VectorTileFeature.types,ws=Math.pow(2,13);function xs(t,e,n,i,r,o,a,s){t.emplaceBack(e,n,2*Math.floor(i*ws)+a,r*ws*2,o*ws*2,Math.round(s))}var ks=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Pr,this.indexArray=new jr,this.programConfigurations=new No(t.layers,t.zoom),this.segments=new ao,this.stateDependentLayerIds=this.layers.filter(function(t){return t.isStateDependent()}).map(function(t){return t.id})};function Es(t,e){return t.x===e.x&&(t.x<0||t.x>8192)||t.y===e.y&&(t.y<0||t.y>8192)}ks.prototype.populate=function(t,e,n){this.features=[],this.hasPattern=rs("fill-extrusion",this.layers,e);for(var i=0,r=t;i<r.length;i+=1){var o=r[i],a=o.feature,s=o.id,u=o.index,l=o.sourceLayerIndex,c=this.layers[0]._featureFilter.needGeometry,h=jo(a,c);if(this.layers[0]._featureFilter.filter(new ar(this.zoom),h,n)){var p={id:s,sourceLayerIndex:l,index:u,geometry:c?h.geometry:Bo(a),properties:a.properties,type:a.type,patterns:{}};this.hasPattern?this.features.push(os("fill-extrusion",this.layers,p,this.zoom,e)):this.addFeature(p,p.geometry,u,n,{}),e.featureIndex.insert(a,p.geometry,u,l,this.index,!0)}}},ks.prototype.addFeatures=function(t,e,n){for(var i=0,r=this.features;i<r.length;i+=1){var o=r[i];this.addFeature(o,o.geometry,o.index,e,n)}},ks.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},ks.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ks.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ks.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,cs),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},ks.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ks.prototype.addFeature=function(t,e,n,i,r){for(var o=0,a=ns(e,500);o<a.length;o+=1){for(var s=a[o],u=0,l=0,c=s;l<c.length;l+=1)u+=c[l].length;for(var h=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),p=0,f=s;p<f.length;p+=1){var d=f[p];if(0!==d.length&&!((L=d).every(function(t){return t.x<0})||L.every(function(t){return t.x>8192})||L.every(function(t){return t.y<0})||L.every(function(t){return t.y>8192})))for(var g=0,m=0;m<d.length;m++){var _=d[m];if(m>=1){var y=d[m-1];if(!Es(_,y)){h.vertexLength+4>ao.MAX_VERTEX_ARRAY_LENGTH&&(h=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var v=_.sub(y)._perp()._unit(),b=y.dist(_);g+b>32768&&(g=0),xs(this.layoutVertexArray,_.x,_.y,v.x,v.y,0,0,g),xs(this.layoutVertexArray,_.x,_.y,v.x,v.y,0,1,g),xs(this.layoutVertexArray,y.x,y.y,v.x,v.y,0,0,g+=b),xs(this.layoutVertexArray,y.x,y.y,v.x,v.y,0,1,g);var w=h.vertexLength;this.indexArray.emplaceBack(w,w+2,w+1),this.indexArray.emplaceBack(w+1,w+2,w+3),h.vertexLength+=4,h.primitiveLength+=2}}}}if(h.vertexLength+u>ao.MAX_VERTEX_ARRAY_LENGTH&&(h=this.segments.prepareSegment(u,this.layoutVertexArray,this.indexArray)),"Polygon"===bs[t.type]){for(var x=[],k=[],E=h.vertexLength,S=0,C=s;S<C.length;S+=1){var I=C[S];if(0!==I.length){I!==s[0]&&k.push(x.length/2);for(var A=0;A<I.length;A++){var P=I[A];xs(this.layoutVertexArray,P.x,P.y,0,0,1,1,0),x.push(P.x),x.push(P.y)}}}for(var T=Sa(x,k),O=0;O<T.length;O+=3)this.indexArray.emplaceBack(E+T[O],E+T[O+2],E+T[O+1]);h.primitiveLength+=T.length/3,h.vertexLength+=u}}var L;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,r,i)},zi("FillExtrusionBucket",ks,{omit:["layers","features"]});var Ss={paint:new br({"fill-extrusion-opacity":new gr(At["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new mr(At["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new gr(At["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new gr(At["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new _r(At["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new mr(At["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new mr(At["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new gr(At["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Cs=function(t){function e(e){t.call(this,e,Ss)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new ks(t)},e.prototype.queryRadius=function(){return ea(this.paint.get("fill-extrusion-translate"))},e.prototype.is3D=function(){return!0},e.prototype.queryIntersectsFeature=function(t,e,n,i,o,a,s,u){var l=na(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,s),c=this.paint.get("fill-extrusion-height").evaluate(e,n),h=this.paint.get("fill-extrusion-base").evaluate(e,n),p=function(t,e,n,i){for(var o=[],a=0,s=t;a<s.length;a+=1){var u=s[a],l=[u.x,u.y,0,1];ca(l,l,e),o.push(new r(l[0]/l[3],l[1]/l[3]))}return o}(l,u),f=function(t,e,n,i){for(var o=[],a=[],s=i[8]*e,u=i[9]*e,l=i[10]*e,c=i[11]*e,h=i[8]*n,p=i[9]*n,f=i[10]*n,d=i[11]*n,g=0,m=t;g<m.length;g+=1){for(var _=[],y=[],v=0,b=m[g];v<b.length;v+=1){var w=b[v],x=w.x,k=w.y,E=i[0]*x+i[4]*k+i[12],S=i[1]*x+i[5]*k+i[13],C=i[2]*x+i[6]*k+i[14],I=i[3]*x+i[7]*k+i[15],A=C+l,P=I+c,T=E+h,O=S+p,L=C+f,M=I+d,N=new r((E+s)/P,(S+u)/P);N.z=A/P,_.push(N);var R=new r(T/M,O/M);R.z=L/M,y.push(R)}o.push(_),a.push(y)}return[o,a]}(i,h,c,u);return function(t,e,n){var i=1/0;Ho(n,e)&&(i=As(n,e[0]));for(var r=0;r<e.length;r++)for(var o=e[r],a=t[r],s=0;s<o.length-1;s++){var u=o[s],l=[u,o[s+1],a[s+1],a[s],u];qo(n,l)&&(i=Math.min(i,As(n,l)))}return i!==1/0&&i}(f[0],f[1],p)},e}(wr);function Is(t,e){return t.x*e.x+t.y*e.y}function As(t,e){if(1===t.length){for(var n,i=0,r=e[i++];!n||r.equals(n);)if(!(n=e[i++]))return 1/0;for(;i<e.length;i++){var o=e[i],a=t[0],s=n.sub(r),u=o.sub(r),l=a.sub(r),c=Is(s,s),h=Is(s,u),p=Is(u,u),f=Is(l,s),d=Is(l,u),g=c*p-h*h,m=(p*f-h*d)/g,_=(c*d-h*f)/g,y=r.z*(1-m-_)+n.z*m+o.z*_;if(isFinite(y))return y}return 1/0}for(var v=1/0,b=0,w=e;b<w.length;b+=1)v=Math.min(v,w[b].z);return v}var Ps=Sr([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Ts=Sr([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,Os=vs.VectorTileFeature.types,Ls=Math.cos(Math.PI/180*37.5),Ms=Math.pow(2,14)/.5,Ns=function(t){var e=this;this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(t){e.gradients[t.id]={}}),this.layoutVertexArray=new Tr,this.layoutVertexArray2=new Or,this.indexArray=new jr,this.programConfigurations=new No(t.layers,t.zoom),this.segments=new ao,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(t){return t.isStateDependent()}).map(function(t){return t.id})};Ns.prototype.populate=function(t,e,n){this.hasPattern=rs("line",this.layers,e);for(var i=this.layers[0].layout.get("line-sort-key"),r=[],o=0,a=t;o<a.length;o+=1){var s=a[o],u=s.feature,l=s.id,c=s.index,h=s.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,f=jo(u,p);if(this.layers[0]._featureFilter.filter(new ar(this.zoom),f,n)){var d=i?i.evaluate(f,{},n):void 0,g={id:l,properties:u.properties,type:u.type,sourceLayerIndex:h,index:c,geometry:p?f.geometry:Bo(u),patterns:{},sortKey:d};r.push(g)}}i&&r.sort(function(t,e){return t.sortKey-e.sortKey});for(var m=0,_=r;m<_.length;m+=1){var y=_[m],v=y.geometry,b=y.index,w=y.sourceLayerIndex;if(this.hasPattern){var x=os("line",this.layers,y,this.zoom,e);this.patternFeatures.push(x)}else this.addFeature(y,v,b,n,{});e.featureIndex.insert(t[b].feature,v,b,w,this.index)}},Ns.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Ns.prototype.addFeatures=function(t,e,n){for(var i=0,r=this.patternFeatures;i<r.length;i+=1){var o=r[i];this.addFeature(o,o.geometry,o.index,e,n)}},Ns.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ns.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ns.prototype.upload=function(t){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,Ts)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ps),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Ns.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ns.prototype.lineFeatureClips=function(t){if(t.properties&&t.properties.hasOwnProperty("mapbox_clip_start")&&t.properties.hasOwnProperty("mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}},Ns.prototype.addFeature=function(t,e,n,i,r){var o=this.layers[0].layout,a=o.get("line-join").evaluate(t,{}),s=o.get("line-cap"),u=o.get("line-miter-limit"),l=o.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(var c=0,h=e;c<h.length;c+=1)this.addLine(h[c],t,a,s,u,l);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,r,i)},Ns.prototype.addLine=function(t,e,n,i,r,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var a=0;a<t.length-1;a++)this.totalDistance+=t[a].dist(t[a+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var s="Polygon"===Os[e.type],u=t.length;u>=2&&t[u-1].equals(t[u-2]);)u--;for(var l=0;l<u-1&&t[l].equals(t[l+1]);)l++;if(!(u<(s?3:2))){"bevel"===n&&(r=1.05);var c,h=this.overscaling<=16?122880/(512*this.overscaling):0,p=this.segments.prepareSegment(10*u,this.layoutVertexArray,this.indexArray),f=void 0,d=void 0,g=void 0,m=void 0;this.e1=this.e2=-1,s&&(m=t[l].sub(c=t[u-2])._unit()._perp());for(var _=l;_<u;_++)if(!(d=_===u-1?s?t[l+1]:void 0:t[_+1])||!t[_].equals(d)){m&&(g=m),c&&(f=c),c=t[_],m=d?d.sub(c)._unit()._perp():g;var y=(g=g||m).add(m);0===y.x&&0===y.y||y._unit();var v=g.x*m.x+g.y*m.y,b=y.x*m.x+y.y*m.y,w=0!==b?1/b:1/0,x=2*Math.sqrt(2-2*b),k=b<Ls&&f&&d,E=g.x*m.y-g.y*m.x>0;if(k&&_>l){var S=c.dist(f);if(S>2*h){var C=c.sub(c.sub(f)._mult(h/S)._round());this.updateDistance(f,C),this.addCurrentVertex(C,g,0,0,p),f=C}}var I=f&&d,A=I?n:s?"butt":i;if(I&&"round"===A&&(w<o?A="miter":w<=2&&(A="fakeround")),"miter"===A&&w>r&&(A="bevel"),"bevel"===A&&(w>2&&(A="flipbevel"),w<r&&(A="miter")),f&&this.updateDistance(f,c),"miter"===A)y._mult(w),this.addCurrentVertex(c,y,0,0,p);else if("flipbevel"===A){if(w>100)y=m.mult(-1);else{var P=w*g.add(m).mag()/g.sub(m).mag();y._perp()._mult(P*(E?-1:1))}this.addCurrentVertex(c,y,0,0,p),this.addCurrentVertex(c,y.mult(-1),0,0,p)}else if("bevel"===A||"fakeround"===A){var T=-Math.sqrt(w*w-1),O=E?T:0,L=E?0:T;if(f&&this.addCurrentVertex(c,g,O,L,p),"fakeround"===A)for(var M=Math.round(180*x/Math.PI/20),N=1;N<M;N++){var R=N/M;if(.5!==R){var D=R-.5;R+=R*D*(R-1)*((1.0904+v*(v*(3.55645-1.43519*v)-3.2452))*D*D+(.848013+v*(.215638*v-1.06021)))}var z=m.sub(g)._mult(R)._add(g)._unit()._mult(E?-1:1);this.addHalfVertex(c,z.x,z.y,!1,E,0,p)}d&&this.addCurrentVertex(c,m,-O,-L,p)}else if("butt"===A)this.addCurrentVertex(c,y,0,0,p);else if("square"===A){var F=f?1:-1;this.addCurrentVertex(c,y,F,F,p)}else"round"===A&&(f&&(this.addCurrentVertex(c,g,0,0,p),this.addCurrentVertex(c,g,1,1,p,!0)),d&&(this.addCurrentVertex(c,m,-1,-1,p,!0),this.addCurrentVertex(c,m,0,0,p)));if(k&&_<u-1){var B=c.dist(d);if(B>2*h){var j=c.add(d.sub(c)._mult(h/B)._round());this.updateDistance(c,j),this.addCurrentVertex(j,m,0,0,p),c=j}}}}},Ns.prototype.addCurrentVertex=function(t,e,n,i,r,o){void 0===o&&(o=!1);var a=e.y*i-e.x,s=-e.y-e.x*i;this.addHalfVertex(t,e.x+e.y*n,e.y-e.x*n,o,!1,n,r),this.addHalfVertex(t,a,s,o,!0,-i,r),this.distance>Ms/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(t,e,n,i,r,o))},Ns.prototype.addHalfVertex=function(t,e,n,i,r,o,a){var s=.5*(this.lineClips?this.scaledDistance*(Ms-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((t.x<<1)+(i?1:0),(t.y<<1)+(r?1:0),Math.round(63*e)+128,Math.round(63*n)+128,1+(0===o?0:o<0?-1:1)|(63&s)<<2,s>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var u=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,u),a.primitiveLength++),r?this.e2=u:this.e1=u},Ns.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Ns.prototype.updateDistance=function(t,e){this.distance+=t.dist(e),this.updateScaledDistance()},zi("LineBucket",Ns,{omit:["layers","patternFeatures"]});var Rs=new br({"line-cap":new gr(At.layout_line["line-cap"]),"line-join":new mr(At.layout_line["line-join"]),"line-miter-limit":new gr(At.layout_line["line-miter-limit"]),"line-round-limit":new gr(At.layout_line["line-round-limit"]),"line-sort-key":new mr(At.layout_line["line-sort-key"])}),Ds={paint:new br({"line-opacity":new mr(At.paint_line["line-opacity"]),"line-color":new mr(At.paint_line["line-color"]),"line-translate":new gr(At.paint_line["line-translate"]),"line-translate-anchor":new gr(At.paint_line["line-translate-anchor"]),"line-width":new mr(At.paint_line["line-width"]),"line-gap-width":new mr(At.paint_line["line-gap-width"]),"line-offset":new mr(At.paint_line["line-offset"]),"line-blur":new mr(At.paint_line["line-blur"]),"line-dasharray":new yr(At.paint_line["line-dasharray"]),"line-pattern":new _r(At.paint_line["line-pattern"]),"line-gradient":new vr(At.paint_line["line-gradient"])}),layout:Rs},zs=new(function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(e,n){return n=new ar(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),t.prototype.possiblyEvaluate.call(this,e,n)},e.prototype.evaluate=function(e,n,i,r){return n=p({},n,{zoom:Math.floor(n.zoom)}),t.prototype.evaluate.call(this,e,n,i,r)},e}(mr))(Ds.paint.properties["line-width"].specification);zs.useIntegerZoom=!0;var Fs=function(t){function e(e){t.call(this,e,Ds),this.gradientVersion=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._handleSpecialPaintPropertyUpdate=function(t){"line-gradient"===t&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Ue,this.gradientVersion=(this.gradientVersion+1)%s)},e.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},e.prototype.recalculate=function(e,n){t.prototype.recalculate.call(this,e,n),this.paint._values["line-floorwidth"]=zs.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)},e.prototype.createBucket=function(t){return new Ns(t)},e.prototype.queryRadius=function(t){var e=t,n=Bs(ta("line-width",this,e),ta("line-gap-width",this,e)),i=ta("line-offset",this,e);return n/2+Math.abs(i)+ea(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,i,o,a,s){var u=na(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,s),l=s/2*Bs(this.paint.get("line-width").evaluate(e,n),this.paint.get("line-gap-width").evaluate(e,n)),c=this.paint.get("line-offset").evaluate(e,n);return c&&(i=function(t,e){for(var n=[],i=new r(0,0),o=0;o<t.length;o++){for(var a=t[o],s=[],u=0;u<a.length;u++){var l=a[u],c=a[u+1],h=0===u?i:l.sub(a[u-1])._unit()._perp(),p=u===a.length-1?i:c.sub(l)._unit()._perp(),f=h._add(p)._unit();f._mult(1/(f.x*p.x+f.y*p.y)),s.push(f._mult(e)._add(l))}n.push(s)}return n}(i,c*s)),function(t,e,n){for(var i=0;i<e.length;i++){var r=e[i];if(t.length>=3)for(var o=0;o<r.length;o++)if(Jo(t,r[o]))return!0;if(Wo(t,r,n))return!0}return!1}(u,i,l)},e.prototype.isTileClipped=function(){return!0},e}(wr);function Bs(t,e){return e>0?e+2*t:t}var js=Sr([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Vs=Sr([{name:"a_projected_pos",components:3,type:"Float32"}],4),Us=(Sr([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Sr([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),qs=(Sr([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Sr([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Gs=Sr([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Hs(t,e,n){return t.sections.forEach(function(t){t.text=function(t,e,n){var i=e.layout.get("text-transform").evaluate(n,{});return"uppercase"===i?t=t.toLocaleUpperCase():"lowercase"===i&&(t=t.toLocaleLowerCase()),or.applyArabicShaping&&(t=or.applyArabicShaping(t)),t}(t.text,e,n)}),t}Sr([{name:"triangle",components:3,type:"Uint16"}]),Sr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Sr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Sr([{type:"Float32",name:"offsetX"}]),Sr([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Ws={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Ys=function(t,e,n,i,r){var o,a,s=8*r-i-1,u=(1<<s)-1,l=u>>1,c=-7,h=n?r-1:0,p=n?-1:1,f=t[e+h];for(h+=p,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+t[e+h],h+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=i;c>0;a=256*a+t[e+h],h+=p,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,i),o-=l}return(f?-1:1)*a*Math.pow(2,o-i)},Zs=function(t,e,n,i,r,o){var a,s,u,l=8*o-r-1,c=(1<<l)-1,h=c>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,d=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+h>=1?p/u:p*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(e*u-1)*Math.pow(2,r),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;t[n+f]=255&s,f+=d,s/=256,r-=8);for(a=a<<r|s,l+=r;l>0;t[n+f]=255&a,f+=d,a/=256,l-=8);t[n+f-d]|=128*g},Xs=Ks;function Ks(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}Ks.Varint=0,Ks.Fixed64=1,Ks.Bytes=2,Ks.Fixed32=5;var $s="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Js(t){return t.type===Ks.Bytes?t.readVarint()+t.pos:t.pos+1}function Qs(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function tu(t,e,n){var i=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));n.realloc(i);for(var r=n.pos-1;r>=t;r--)n.buf[r+i]=n.buf[r]}function eu(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function nu(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function iu(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function ru(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function ou(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function au(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function su(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function uu(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function lu(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function cu(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function hu(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function pu(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function fu(t,e,n){1===t&&n.readMessage(du,e)}function du(t,e,n){if(3===t){var i=n.readMessage(gu,{}),r=i.width,o=i.height,a=i.left,s=i.top,u=i.advance;e.push({id:i.id,bitmap:new _a({width:r+6,height:o+6},i.bitmap),metrics:{width:r,height:o,left:a,top:s,advance:u}})}}function gu(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}function mu(t){for(var e=0,n=0,i=0,r=t;i<r.length;i+=1){var o=r[i];e+=o.w*o.h,n=Math.max(n,o.w)}t.sort(function(t,e){return e.h-t.h});for(var a=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),n),h:1/0}],s=0,u=0,l=0,c=t;l<c.length;l+=1)for(var h=c[l],p=a.length-1;p>=0;p--){var f=a[p];if(!(h.w>f.w||h.h>f.h)){if(h.x=f.x,h.y=f.y,u=Math.max(u,h.y+h.h),s=Math.max(s,h.x+h.w),h.w===f.w&&h.h===f.h){var d=a.pop();p<a.length&&(a[p]=d)}else h.h===f.h?(f.x+=h.w,f.w-=h.w):h.w===f.w?(f.y+=h.h,f.h-=h.h):(a.push({x:f.x+h.w,y:f.y,w:f.w-h.w,h:h.h}),f.y+=h.h,f.h-=h.h);break}}return{w:s,h:u,fill:e/(s*u)||0}}Ks.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),r=i>>3,o=this.pos;this.type=7&i,t(r,e,this),this.pos===o&&this.skip(i)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=cu(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=pu(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=cu(this.buf,this.pos)+4294967296*cu(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=cu(this.buf,this.pos)+4294967296*pu(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=Ys(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=Ys(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,i=this.buf;return e=127&(n=i[this.pos++]),n<128?e:(e|=(127&(n=i[this.pos++]))<<7,n<128?e:(e|=(127&(n=i[this.pos++]))<<14,n<128?e:(e|=(127&(n=i[this.pos++]))<<21,n<128?e:function(t,e,n){var i,r,o=n.buf;if(i=(112&(r=o[n.pos++]))>>4,r<128)return Qs(t,i,e);if(i|=(127&(r=o[n.pos++]))<<3,r<128)return Qs(t,i,e);if(i|=(127&(r=o[n.pos++]))<<10,r<128)return Qs(t,i,e);if(i|=(127&(r=o[n.pos++]))<<17,r<128)return Qs(t,i,e);if(i|=(127&(r=o[n.pos++]))<<24,r<128)return Qs(t,i,e);if(i|=(1&(r=o[n.pos++]))<<31,r<128)return Qs(t,i,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=i[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&$s?function(t,e,n){return $s.decode(t.subarray(e,n))}(this.buf,e,t):function(t,e,n){for(var i="",r=e;r<n;){var o,a,s,u=t[r],l=null,c=u>239?4:u>223?3:u>191?2:1;if(r+c>n)break;1===c?u<128&&(l=u):2===c?128==(192&(o=t[r+1]))&&(l=(31&u)<<6|63&o)<=127&&(l=null):3===c?(a=t[r+2],128==(192&(o=t[r+1]))&&128==(192&a)&&((l=(15&u)<<12|(63&o)<<6|63&a)<=2047||l>=55296&&l<=57343)&&(l=null)):4===c&&(a=t[r+2],s=t[r+3],128==(192&(o=t[r+1]))&&128==(192&a)&&128==(192&s)&&((l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,c=1):l>65535&&(l-=65536,i+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),i+=String.fromCharCode(l),r+=c}return i}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==Ks.Bytes)return t.push(this.readVarint(e));var n=Js(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==Ks.Bytes)return t.push(this.readSVarint());var e=Js(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==Ks.Bytes)return t.push(this.readBoolean());var e=Js(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==Ks.Bytes)return t.push(this.readFloat());var e=Js(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==Ks.Bytes)return t.push(this.readDouble());var e=Js(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==Ks.Bytes)return t.push(this.readFixed32());var e=Js(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==Ks.Bytes)return t.push(this.readSFixed32());var e=Js(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==Ks.Bytes)return t.push(this.readFixed64());var e=Js(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==Ks.Bytes)return t.push(this.readSFixed64());var e=Js(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===Ks.Varint)for(;this.buf[this.pos++]>127;);else if(e===Ks.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Ks.Fixed32)this.pos+=4;else{if(e!==Ks.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),hu(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),hu(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),hu(this.buf,-1&t,this.pos),hu(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),hu(this.buf,-1&t,this.pos),hu(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var n,i;if(t>=0?(n=t%4294967296|0,i=t/4294967296|0):(i=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,i=i+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,n.buf[n.pos]=127&(t>>>=7)}(n,0,e),function(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(i,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var i,r,o=0;o<e.length;o++){if((i=e.charCodeAt(o))>55295&&i<57344){if(!r){i>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):r=i;continue}if(i<56320){t[n++]=239,t[n++]=191,t[n++]=189,r=i;continue}i=r-55296<<10|i-56320|65536,r=null}else r&&(t[n++]=239,t[n++]=191,t[n++]=189,r=null);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(i<65536?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=63&i|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&tu(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),Zs(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),Zs(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var i=this.pos-n;i>=128&&tu(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(t,e,n){this.writeTag(t,Ks.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,eu,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,nu,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,ou,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,iu,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,ru,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,au,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,su,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,uu,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,lu,e)},writeBytesField:function(t,e){this.writeTag(t,Ks.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,Ks.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,Ks.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,Ks.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,Ks.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,Ks.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,Ks.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,Ks.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,Ks.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,Ks.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};var _u=function(t,e){var n=e.pixelRatio,i=e.version,r=e.stretchX,o=e.stretchY,a=e.content;this.paddedRect=t,this.pixelRatio=n,this.stretchX=r,this.stretchY=o,this.content=a,this.version=i},yu={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};yu.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},yu.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},yu.tlbr.get=function(){return this.tl.concat(this.br)},yu.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(_u.prototype,yu);var vu=function(t,e){var n={},i={};this.haveRenderCallbacks=[];var r=[];this.addImages(t,n,r),this.addImages(e,i,r);var o=mu(r),a=new ya({width:o.w||1,height:o.h||1});for(var s in t){var u=t[s],l=n[s].paddedRect;ya.copy(u.data,a,{x:0,y:0},{x:l.x+1,y:l.y+1},u.data)}for(var c in e){var h=e[c],p=i[c].paddedRect,f=p.x+1,d=p.y+1,g=h.data.width,m=h.data.height;ya.copy(h.data,a,{x:0,y:0},{x:f,y:d},h.data),ya.copy(h.data,a,{x:0,y:m-1},{x:f,y:d-1},{width:g,height:1}),ya.copy(h.data,a,{x:0,y:0},{x:f,y:d+m},{width:g,height:1}),ya.copy(h.data,a,{x:g-1,y:0},{x:f-1,y:d},{width:1,height:m}),ya.copy(h.data,a,{x:0,y:0},{x:f+g,y:d},{width:1,height:m})}this.image=a,this.iconPositions=n,this.patternPositions=i};vu.prototype.addImages=function(t,e,n){for(var i in t){var r=t[i],o={x:0,y:0,w:r.data.width+2,h:r.data.height+2};n.push(o),e[i]=new _u(o,r),r.hasRenderCallback&&this.haveRenderCallbacks.push(i)}},vu.prototype.patchUpdatedImages=function(t,e){for(var n in t.dispatchRenderCallbacks(this.haveRenderCallbacks),t.updatedImages)this.patchUpdatedImage(this.iconPositions[n],t.getImage(n),e),this.patchUpdatedImage(this.patternPositions[n],t.getImage(n),e)},vu.prototype.patchUpdatedImage=function(t,e,n){if(t&&e&&t.version!==e.version){t.version=e.version;var i=t.tl;n.update(e.data,void 0,{x:i[0],y:i[1]})}},zi("ImagePosition",_u),zi("ImageAtlas",vu);var bu={horizontal:1,vertical:2,horizontalOnly:3},wu=function(){this.scale=1,this.fontStack="",this.imageName=null};wu.forText=function(t,e){var n=new wu;return n.scale=t||1,n.fontStack=e,n},wu.forImage=function(t){var e=new wu;return e.imageName=t,e};var xu=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function ku(t,e,n,i,r,o,a,s,u,l,c,h,p,f,d,g){var m,_=xu.fromFeature(t,r);h===bu.vertical&&_.verticalizePunctuation();var y=or.processBidirectionalText,v=or.processStyledBidirectionalText;if(y&&1===_.sections.length){m=[];for(var b=0,w=y(_.toString(),Tu(_,l,o,e,i,f,d));b<w.length;b+=1){var x=w[b],k=new xu;k.text=x,k.sections=_.sections;for(var E=0;E<x.length;E++)k.sectionIndex.push(0);m.push(k)}}else if(v){m=[];for(var S=0,C=v(_.text,_.sectionIndex,Tu(_,l,o,e,i,f,d));S<C.length;S+=1){var I=C[S],A=new xu;A.text=I[0],A.sectionIndex=I[1],A.sections=_.sections,m.push(A)}}else m=function(t,e){for(var n=[],i=t.text,r=0,o=0,a=e;o<a.length;o+=1){var s=a[o];n.push(t.substring(r,s)),r=s}return r<i.length&&n.push(t.substring(r,i.length)),n}(_,Tu(_,l,o,e,i,f,d));var P=[],T={positionedLines:P,text:_.toString(),top:c[1],bottom:c[1],left:c[0],right:c[0],writingMode:h,iconsInText:!1,verticalizable:!1};return function(t,e,n,i,r,o,a,s,u,l,c,h){for(var p=0,f=-17,d=0,g=0,m="right"===s?1:"left"===s?0:.5,_=0,y=0,v=r;y<v.length;y+=1){var b=v[y];b.trim();var w=b.getMaxScale(),x=24*(w-1),k={positionedGlyphs:[],lineOffset:0};t.positionedLines[_]=k;var E=k.positionedGlyphs,S=0;if(b.length()){for(var C=0;C<b.length();C++){var I=b.getSection(C),A=b.getSectionIndex(C),P=b.getCharCode(C),T=0,O=null,L=null,M=null,N=24,R=!(u===bu.horizontal||!c&&!Wi(P)||c&&(Eu[P]||(G=P,Gi.Arabic(G)||Gi["Arabic Supplement"](G)||Gi["Arabic Extended-A"](G)||Gi["Arabic Presentation Forms-A"](G)||Gi["Arabic Presentation Forms-B"](G))));if(I.imageName){var D=i[I.imageName];if(!D)continue;M=I.imageName,t.iconsInText=t.iconsInText||!0,L=D.paddedRect;var z=D.displaySize;I.scale=24*I.scale/h,T=x+(24-z[1]*I.scale),N=(O={width:z[0],height:z[1],left:1,top:-3,advance:R?z[1]:z[0]}).advance;var F=R?z[0]*I.scale-24*w:z[1]*I.scale-24*w;F>0&&F>S&&(S=F)}else{var B=n[I.fontStack],j=B&&B[P];if(j&&j.rect)L=j.rect,O=j.metrics;else{var V=e[I.fontStack],U=V&&V[P];if(!U)continue;O=U.metrics}T=24*(w-I.scale)}R?(t.verticalizable=!0,E.push({glyph:P,imageName:M,x:p,y:f+T,vertical:R,scale:I.scale,fontStack:I.fontStack,sectionIndex:A,metrics:O,rect:L}),p+=N*I.scale+l):(E.push({glyph:P,imageName:M,x:p,y:f+T,vertical:R,scale:I.scale,fontStack:I.fontStack,sectionIndex:A,metrics:O,rect:L}),p+=O.advance*I.scale+l)}0!==E.length&&(d=Math.max(p-l,d),Lu(E,0,E.length-1,m,S)),p=0;var q=o*w+S;k.lineOffset=Math.max(S,x),f+=q,g=Math.max(q,g),++_}else f+=o,++_}var G,H=f- -17,W=Ou(a),Y=W.horizontalAlign,Z=W.verticalAlign;(function(t,e,n,i,r,o,a,s,u){var l,c=(e-n)*r;l=o!==a?-s*i- -17:(-i*u+.5)*a;for(var h=0,p=t;h<p.length;h+=1)for(var f=0,d=p[h].positionedGlyphs;f<d.length;f+=1){var g=d[f];g.x+=c,g.y+=l}})(t.positionedLines,m,Y,Z,d,g,o,H,r.length),t.top+=-Z*H,t.bottom=t.top+H,t.left+=-Y*d,t.right=t.left+d}(T,e,n,i,m,a,s,u,h,l,p,g),!function(t){for(var e=0,n=t;e<n.length;e+=1)if(0!==n[e].positionedGlyphs.length)return!1;return!0}(P)&&T}xu.fromFeature=function(t,e){for(var n=new xu,i=0;i<t.sections.length;i++){var r=t.sections[i];r.image?n.addImageSection(r):n.addTextSection(r,e)}return n},xu.prototype.length=function(){return this.text.length},xu.prototype.getSection=function(t){return this.sections[this.sectionIndex[t]]},xu.prototype.getSectionIndex=function(t){return this.sectionIndex[t]},xu.prototype.getCharCode=function(t){return this.text.charCodeAt(t)},xu.prototype.verticalizePunctuation=function(){this.text=function(t){for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n+1)||null,r=t.charCodeAt(n-1)||null;e+=i&&Yi(i)&&!Ws[t[n+1]]||r&&Yi(r)&&!Ws[t[n-1]]||!Ws[t[n]]?t[n]:Ws[t[n]]}return e}(this.text)},xu.prototype.trim=function(){for(var t=0,e=0;e<this.text.length&&Eu[this.text.charCodeAt(e)];e++)t++;for(var n=this.text.length,i=this.text.length-1;i>=0&&i>=t&&Eu[this.text.charCodeAt(i)];i--)n--;this.text=this.text.substring(t,n),this.sectionIndex=this.sectionIndex.slice(t,n)},xu.prototype.substring=function(t,e){var n=new xu;return n.text=this.text.substring(t,e),n.sectionIndex=this.sectionIndex.slice(t,e),n.sections=this.sections,n},xu.prototype.toString=function(){return this.text},xu.prototype.getMaxScale=function(){var t=this;return this.sectionIndex.reduce(function(e,n){return Math.max(e,t.sections[n].scale)},0)},xu.prototype.addTextSection=function(t,e){this.text+=t.text,this.sections.push(wu.forText(t.scale,t.fontStack||e));for(var n=this.sections.length-1,i=0;i<t.text.length;++i)this.sectionIndex.push(n)},xu.prototype.addImageSection=function(t){var e=t.image?t.image.name:"";if(0!==e.length){var n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(wu.forImage(e)),this.sectionIndex.push(this.sections.length-1)):k("Reached maximum number of images 6401")}else k("Can't add FormattedSection with an empty image.")},xu.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Eu={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Su={};function Cu(t,e,n,i,r,o){if(e.imageName){var a=i[e.imageName];return a?a.displaySize[0]*e.scale*24/o+r:0}var s=n[e.fontStack],u=s&&s[t];return u?u.metrics.advance*e.scale+r:0}function Iu(t,e,n,i){var r=Math.pow(t-e,2);return i?t<e?r/2:2*r:r+Math.abs(n)*n}function Au(t,e,n){var i=0;return 10===t&&(i-=1e4),n&&(i+=150),40!==t&&65288!==t||(i+=50),41!==e&&65289!==e||(i+=50),i}function Pu(t,e,n,i,r,o){for(var a=null,s=Iu(e,n,r,o),u=0,l=i;u<l.length;u+=1){var c=l[u],h=Iu(e-c.x,n,r,o)+c.badness;h<=s&&(a=c,s=h)}return{index:t,x:e,priorBreak:a,badness:s}}function Tu(t,e,n,i,r,o,a){if("point"!==o)return[];if(!t)return[];for(var s,u=[],l=function(t,e,n,i,r,o){for(var a=0,s=0;s<t.length();s++){var u=t.getSection(s);a+=Cu(t.getCharCode(s),u,i,r,e,o)}return a/Math.max(1,Math.ceil(a/n))}(t,e,n,i,r,a),c=t.text.indexOf("\u200b")>=0,h=0,p=0;p<t.length();p++){var f=t.getSection(p),d=t.getCharCode(p);if(Eu[d]||(h+=Cu(d,f,i,r,e,a)),p<t.length()-1){var g=!((s=d)<11904||!(Gi["Bopomofo Extended"](s)||Gi.Bopomofo(s)||Gi["CJK Compatibility Forms"](s)||Gi["CJK Compatibility Ideographs"](s)||Gi["CJK Compatibility"](s)||Gi["CJK Radicals Supplement"](s)||Gi["CJK Strokes"](s)||Gi["CJK Symbols and Punctuation"](s)||Gi["CJK Unified Ideographs Extension A"](s)||Gi["CJK Unified Ideographs"](s)||Gi["Enclosed CJK Letters and Months"](s)||Gi["Halfwidth and Fullwidth Forms"](s)||Gi.Hiragana(s)||Gi["Ideographic Description Characters"](s)||Gi["Kangxi Radicals"](s)||Gi["Katakana Phonetic Extensions"](s)||Gi.Katakana(s)||Gi["Vertical Forms"](s)||Gi["Yi Radicals"](s)||Gi["Yi Syllables"](s)));(Su[d]||g||f.imageName)&&u.push(Pu(p+1,h,l,u,Au(d,t.getCharCode(p+1),g&&c),!1))}}return function t(e){return e?t(e.priorBreak).concat(e.index):[]}(Pu(t.length(),h,l,u,0,!0))}function Ou(t){var e=.5,n=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:e,verticalAlign:n}}function Lu(t,e,n,i,r){if(i||r)for(var o=t[n],a=(t[n].x+o.metrics.advance*o.scale)*i,s=e;s<=n;s++)t[s].x-=a,t[s].y+=r}function Mu(t,e,n,i,r,o){var a,s=t.image;if(s.content){var u=s.content,l=s.pixelRatio||1;a=[u[0]/l,u[1]/l,s.displaySize[0]-u[2]/l,s.displaySize[1]-u[3]/l]}var c,h,p,f,d=e.left*o,g=e.right*o;"width"===n||"both"===n?(f=r[0]+d-i[3],h=r[0]+g+i[1]):h=(f=r[0]+(d+g-s.displaySize[0])/2)+s.displaySize[0];var m=e.top*o,_=e.bottom*o;return"height"===n||"both"===n?(c=r[1]+m-i[0],p=r[1]+_+i[2]):p=(c=r[1]+(m+_-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:c,right:h,bottom:p,left:f,collisionPadding:a}}Su[10]=!0,Su[32]=!0,Su[38]=!0,Su[40]=!0,Su[41]=!0,Su[43]=!0,Su[45]=!0,Su[47]=!0,Su[173]=!0,Su[183]=!0,Su[8203]=!0,Su[8208]=!0,Su[8211]=!0,Su[8231]=!0;var Nu=function(t){function e(e,n,i,r){t.call(this,e,n),this.angle=i,void 0!==r&&(this.segment=r)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(r);function Ru(t,e){var n=e.expression;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new ar(t+1))};if("source"===n.kind)return{kind:"source"};for(var i=n.zoomStops,r=n.interpolationType,o=0;o<i.length&&i[o]<=t;)o++;for(var a=o=Math.max(0,o-1);a<i.length&&i[a]<t+1;)a++;a=Math.min(i.length-1,a);var s=i[o],u=i[a];return"composite"===n.kind?{kind:"composite",minZoom:s,maxZoom:u,interpolationType:r}:{kind:"camera",minZoom:s,maxZoom:u,minSize:n.evaluate(new ar(s)),maxSize:n.evaluate(new ar(u)),interpolationType:r}}function Du(t,e,n){var i=e.uSize,r=n.lowerSize;return"source"===t.kind?r/128:"composite"===t.kind?qe(r/128,n.upperSize/128,e.uSizeT):i}function zu(t,e){var n=0,i=0;if("constant"===t.kind)i=t.layoutSize;else if("source"!==t.kind){var r=t.interpolationType,o=r?c(on.interpolationFactor(r,e,t.minZoom,t.maxZoom),0,1):0;"camera"===t.kind?i=qe(t.minSize,t.maxSize,o):n=o}return{uSizeT:n,uSize:i}}zi("Anchor",Nu);var Fu=Object.freeze({__proto__:null,getSizeData:Ru,evaluateSizeForFeature:Du,evaluateSizeForZoom:zu,SIZE_PACK_FACTOR:128});function Bu(t,e,n,i,r){if(void 0===e.segment)return!0;for(var o=e,a=e.segment+1,s=0;s>-n/2;){if(--a<0)return!1;s-=t[a].dist(o),o=t[a]}s+=t[a].dist(t[a+1]),a++;for(var u=[],l=0;s<n/2;){var c=t[a],h=t[a+1];if(!h)return!1;var p=t[a-1].angleTo(c)-c.angleTo(h);for(p=Math.abs((p+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:p}),l+=p;s-u[0].distance>i;)l-=u.shift().angleDelta;if(l>r)return!1;a++,s+=c.dist(h)}return!0}function ju(t){for(var e=0,n=0;n<t.length-1;n++)e+=t[n].dist(t[n+1]);return e}function Vu(t,e,n){return t?.6*e*n:0}function Uu(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function qu(t,e,n,i,r,o){for(var a=Vu(n,r,o),s=Uu(n,i)*o,u=0,l=ju(t)/2,c=0;c<t.length-1;c++){var h=t[c],p=t[c+1],f=h.dist(p);if(u+f>l){var d=(l-u)/f,g=qe(h.x,p.x,d),m=qe(h.y,p.y,d),_=new Nu(g,m,p.angleTo(h),c);return _._round(),!a||Bu(t,_,s,a,e)?_:void 0}u+=f}}function Gu(t,e,n,i,r,o,a,s,u){var l=Vu(i,o,a),c=Uu(i,r),h=c*a,p=0===t[0].x||t[0].x===u||0===t[0].y||t[0].y===u;return e-h<e/4&&(e=h+e/4),function t(e,n,i,r,o,a,s,u,l){for(var c=a/2,h=ju(e),p=0,f=n-i,d=[],g=0;g<e.length-1;g++){for(var m=e[g],_=e[g+1],y=m.dist(_),v=_.angleTo(m);f+i<p+y;){var b=((f+=i)-p)/y,w=qe(m.x,_.x,b),x=qe(m.y,_.y,b);if(w>=0&&w<l&&x>=0&&x<l&&f-c>=0&&f+c<=h){var k=new Nu(w,x,v,g);k._round(),r&&!Bu(e,k,a,r,o)||d.push(k)}}p+=y}return u||d.length||s||(d=t(e,p/2,i,r,o,a,s,!0,l)),d}(t,p?e/2*s%e:(c/2+2*o)*a*s%e,e,l,n,h,p,!1,u)}function Hu(t,e,n,i,o){for(var a=[],s=0;s<t.length;s++)for(var u=t[s],l=void 0,c=0;c<u.length-1;c++){var h=u[c],p=u[c+1];h.x<e&&p.x<e||(h.x<e?h=new r(e,h.y+(e-h.x)/(p.x-h.x)*(p.y-h.y))._round():p.x<e&&(p=new r(e,h.y+(e-h.x)/(p.x-h.x)*(p.y-h.y))._round()),h.y<n&&p.y<n||(h.y<n?h=new r(h.x+(n-h.y)/(p.y-h.y)*(p.x-h.x),n)._round():p.y<n&&(p=new r(h.x+(n-h.y)/(p.y-h.y)*(p.x-h.x),n)._round()),h.x>=i&&p.x>=i||(h.x>=i?h=new r(i,h.y+(i-h.x)/(p.x-h.x)*(p.y-h.y))._round():p.x>=i&&(p=new r(i,h.y+(i-h.x)/(p.x-h.x)*(p.y-h.y))._round()),h.y>=o&&p.y>=o||(h.y>=o?h=new r(h.x+(o-h.y)/(p.y-h.y)*(p.x-h.x),o)._round():p.y>=o&&(p=new r(h.x+(o-h.y)/(p.y-h.y)*(p.x-h.x),o)._round()),l&&h.equals(l[l.length-1])||a.push(l=[h]),l.push(p)))))}return a}function Wu(t,e,n,i){var o=[],a=t.image,s=a.pixelRatio,u=a.paddedRect.w-2,l=a.paddedRect.h-2,c=t.right-t.left,h=t.bottom-t.top,p=a.stretchX||[[0,u]],f=a.stretchY||[[0,l]],d=function(t,e){return t+e[1]-e[0]},g=p.reduce(d,0),m=f.reduce(d,0),_=u-g,y=l-m,v=0,b=g,w=0,x=m,k=0,E=_,S=0,C=y;if(a.content&&i){var I=a.content;v=Yu(p,0,I[0]),w=Yu(f,0,I[1]),b=Yu(p,I[0],I[2]),x=Yu(f,I[1],I[3]),k=I[0]-v,S=I[1]-w,E=I[2]-I[0]-b,C=I[3]-I[1]-x}var A=function(i,o,u,l){var p=Xu(i.stretch-v,b,c,t.left),f=Ku(i.fixed-k,E,i.stretch,g),d=Xu(o.stretch-w,x,h,t.top),_=Ku(o.fixed-S,C,o.stretch,m),y=Xu(u.stretch-v,b,c,t.left),I=Ku(u.fixed-k,E,u.stretch,g),A=Xu(l.stretch-w,x,h,t.top),P=Ku(l.fixed-S,C,l.stretch,m),T=new r(p,d),O=new r(y,d),L=new r(y,A),M=new r(p,A),N=new r(f/s,_/s),R=new r(I/s,P/s),D=e*Math.PI/180;if(D){var z=Math.sin(D),F=Math.cos(D),B=[F,-z,z,F];T._matMult(B),O._matMult(B),M._matMult(B),L._matMult(B)}var j=i.stretch+i.fixed,V=o.stretch+o.fixed;return{tl:T,tr:O,bl:M,br:L,tex:{x:a.paddedRect.x+1+j,y:a.paddedRect.y+1+V,w:u.stretch+u.fixed-j,h:l.stretch+l.fixed-V},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:N,pixelOffsetBR:R,minFontScaleX:E/s/c,minFontScaleY:C/s/h,isSDF:n}};if(i&&(a.stretchX||a.stretchY))for(var P=Zu(p,_,g),T=Zu(f,y,m),O=0;O<P.length-1;O++)for(var L=P[O],M=P[O+1],N=0;N<T.length-1;N++)o.push(A(L,T[N],M,T[N+1]));else o.push(A({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:u+1},{fixed:0,stretch:l+1}));return o}function Yu(t,e,n){for(var i=0,r=0,o=t;r<o.length;r+=1){var a=o[r];i+=Math.max(e,Math.min(n,a[1]))-Math.max(e,Math.min(n,a[0]))}return i}function Zu(t,e,n){for(var i=[{fixed:-1,stretch:0}],r=0,o=t;r<o.length;r+=1){var a=o[r],s=a[0],u=a[1],l=i[i.length-1];i.push({fixed:s-l.stretch,stretch:l.stretch}),i.push({fixed:s-l.stretch,stretch:l.stretch+(u-s)})}return i.push({fixed:e+1,stretch:n}),i}function Xu(t,e,n,i){return t/e*n+i}function Ku(t,e,n,i){return t-e*n/i}var $u=function(t,e,n,i,o,a,s,u,l,c){if(this.boxStartIndex=t.length,l){var h=a.top,p=a.bottom,f=a.collisionPadding;f&&(h-=f[1],p+=f[3]);var d=p-h;d>0&&(d=Math.max(10,d),this.circleDiameter=d)}else{var g=a.top*s-u,m=a.bottom*s+u,_=a.left*s-u,y=a.right*s+u,v=a.collisionPadding;if(v&&(_-=v[0]*s,g-=v[1]*s,y+=v[2]*s,m+=v[3]*s),c){var b=new r(_,g),w=new r(y,g),x=new r(_,m),k=new r(y,m),E=c*Math.PI/180;b._rotate(E),w._rotate(E),x._rotate(E),k._rotate(E),_=Math.min(b.x,w.x,x.x,k.x),y=Math.max(b.x,w.x,x.x,k.x),g=Math.min(b.y,w.y,x.y,k.y),m=Math.max(b.y,w.y,x.y,k.y)}t.emplaceBack(e.x,e.y,_,g,y,m,n,i,o)}this.boxEndIndex=t.length},Ju=function(t,e){if(void 0===t&&(t=[]),void 0===e&&(e=Qu),this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)};function Qu(t,e){return t<e?-1:t>e?1:0}function tl(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!1);for(var i=1/0,o=1/0,a=-1/0,s=-1/0,u=t[0],l=0;l<u.length;l++){var c=u[l];(!l||c.x<i)&&(i=c.x),(!l||c.y<o)&&(o=c.y),(!l||c.x>a)&&(a=c.x),(!l||c.y>s)&&(s=c.y)}var h=Math.min(a-i,s-o),p=h/2,f=new Ju([],el);if(0===h)return new r(i,o);for(var d=i;d<a;d+=h)for(var g=o;g<s;g+=h)f.push(new nl(d+p,g+p,p,t));for(var m=function(t){for(var e=0,n=0,i=0,r=t[0],o=0,a=r.length,s=a-1;o<a;s=o++){var u=r[o],l=r[s],c=u.x*l.y-l.x*u.y;n+=(u.x+l.x)*c,i+=(u.y+l.y)*c,e+=3*c}return new nl(n/e,i/e,0,t)}(t),_=f.length;f.length;){var y=f.pop();(y.d>m.d||!m.d)&&(m=y,n&&console.log("found best %d after %d probes",Math.round(1e4*y.d)/1e4,_)),y.max-m.d<=e||(f.push(new nl(y.p.x-(p=y.h/2),y.p.y-p,p,t)),f.push(new nl(y.p.x+p,y.p.y-p,p,t)),f.push(new nl(y.p.x-p,y.p.y+p,p,t)),f.push(new nl(y.p.x+p,y.p.y+p,p,t)),_+=4)}return n&&(console.log("num probes: "+_),console.log("best distance: "+m.d)),m.p}function el(t,e){return e.max-t.max}function nl(t,e,n,i){this.p=new r(t,e),this.h=n,this.d=function(t,e){for(var n=!1,i=1/0,r=0;r<e.length;r++)for(var o=e[r],a=0,s=o.length,u=s-1;a<s;u=a++){var l=o[a],c=o[u];l.y>t.y!=c.y>t.y&&t.x<(c.x-l.x)*(t.y-l.y)/(c.y-l.y)+l.x&&(n=!n),i=Math.min(i,Ko(t,l,c))}return(n?1:-1)*Math.sqrt(i)}(this.p,i),this.max=this.d+this.h*Math.SQRT2}Ju.prototype.push=function(t){this.data.push(t),this.length++,this._up(this.length-1)},Ju.prototype.pop=function(){if(0!==this.length){var t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}},Ju.prototype.peek=function(){return this.data[0]},Ju.prototype._up=function(t){for(var e=this.data,n=this.compare,i=e[t];t>0;){var r=t-1>>1,o=e[r];if(n(i,o)>=0)break;e[t]=o,t=r}e[t]=i},Ju.prototype._down=function(t){for(var e=this.data,n=this.compare,i=this.length>>1,r=e[t];t<i;){var o=1+(t<<1),a=e[o],s=o+1;if(s<this.length&&n(e[s],a)<0&&(o=s,a=e[s]),n(a,r)>=0)break;e[t]=a,t=o}e[t]=r};var il=Number.POSITIVE_INFINITY;function rl(t,e){return e[1]!==il?function(t,e,n){var i=0,r=0;switch(e=Math.abs(e),n=Math.abs(n),t){case"top-right":case"top-left":case"top":r=n-7;break;case"bottom-right":case"bottom-left":case"bottom":r=7-n}switch(t){case"top-right":case"bottom-right":case"right":i=-e;break;case"top-left":case"bottom-left":case"left":i=e}return[i,r]}(t,e[0],e[1]):function(t,e){var n=0,i=0;e<0&&(e=0);var r=e/Math.sqrt(2);switch(t){case"top-right":case"top-left":i=r-7;break;case"bottom-right":case"bottom-left":i=7-r;break;case"bottom":i=7-e;break;case"top":i=e-7}switch(t){case"top-right":case"bottom-right":n=-r;break;case"top-left":case"bottom-left":n=r;break;case"left":n=e;break;case"right":n=-e}return[n,i]}(t,e[0])}function ol(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function al(t,e,n,i,o,a,s,u,l,c,h,p,f,d,g){var m=function(t,e,n,i,o,a,s,u){for(var l=i.layout.get("text-rotate").evaluate(a,{})*Math.PI/180,c=[],h=0,p=e.positionedLines;h<p.length;h+=1)for(var f=p[h],d=0,g=f.positionedGlyphs;d<g.length;d+=1){var m=g[d];if(m.rect){var _=m.rect||{},y=4,v=!0,b=1,w=0,x=(o||u)&&m.vertical,k=m.metrics.advance*m.scale/2;if(u&&e.verticalizable&&(w=f.lineOffset/2-(m.imageName?-(24-m.metrics.width*m.scale)/2:24*(m.scale-1))),m.imageName){var E=s[m.imageName];v=E.sdf,y=1/(b=E.pixelRatio)}var S=o?[m.x+k,m.y]:[0,0],C=o?[0,0]:[m.x+k+n[0],m.y+n[1]-w],I=[0,0];x&&(I=C,C=[0,0]);var A=(m.metrics.left-y)*m.scale-k+C[0],P=(-m.metrics.top-y)*m.scale+C[1],T=A+_.w*m.scale/b,O=P+_.h*m.scale/b,L=new r(A,P),M=new r(T,P),N=new r(A,O),R=new r(T,O);if(x){var D=new r(-k,k- -17),z=-Math.PI/2,F=12-k,B=new r(22-F,-(m.imageName?F:0)),j=new(Function.prototype.bind.apply(r,[null].concat(I)));L._rotateAround(z,D)._add(B)._add(j),M._rotateAround(z,D)._add(B)._add(j),N._rotateAround(z,D)._add(B)._add(j),R._rotateAround(z,D)._add(B)._add(j)}if(l){var V=Math.sin(l),U=Math.cos(l),q=[U,-V,V,U];L._matMult(q),M._matMult(q),N._matMult(q),R._matMult(q)}var G=new r(0,0),H=new r(0,0);c.push({tl:L,tr:M,bl:N,br:R,tex:_,writingMode:e.writingMode,glyphOffset:S,sectionIndex:m.sectionIndex,isSDF:v,pixelOffsetTL:G,pixelOffsetBR:H,minFontScaleX:0,minFontScaleY:0})}}return c}(0,n,u,o,a,s,i,t.allowVerticalPlacement),_=t.textSizeData,y=null;"source"===_.kind?(y=[128*o.layout.get("text-size").evaluate(s,{})])[0]>32640&&k(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===_.kind&&((y=[128*d.compositeTextSizes[0].evaluate(s,{},g),128*d.compositeTextSizes[1].evaluate(s,{},g)])[0]>32640||y[1]>32640)&&k(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),t.addSymbols(t.text,m,y,u,a,s,c,e,l.lineStartIndex,l.lineLength,f,g);for(var v=0,b=h;v<b.length;v+=1)p[b[v]]=t.text.placedSymbolArray.length-1;return 4*m.length}function sl(t){for(var e in t)return t[e];return null}function ul(t,e,n,i){var r=t.compareText;if(e in r){for(var o=r[e],a=o.length-1;a>=0;a--)if(i.dist(o[a])<n)return!0}else r[e]=[];return r[e].push(i),!1}var ll=vs.VectorTileFeature.types,cl=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function hl(t,e,n,i,r,o,a,s,u,l,c,h,p){var f=s?Math.min(32640,Math.round(s[0])):0,d=s?Math.min(32640,Math.round(s[1])):0;t.emplaceBack(e,n,Math.round(32*i),Math.round(32*r),o,a,(f<<1)+(u?1:0),d,16*l,16*c,256*h,256*p)}function pl(t,e,n){t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n)}function fl(t){for(var e=0,n=t.sections;e<n.length;e+=1)if(Ki(n[e].text))return!0;return!1}var dl=function(t){this.layoutVertexArray=new Mr,this.indexArray=new jr,this.programConfigurations=t,this.segments=new ao,this.dynamicLayoutVertexArray=new Nr,this.opacityVertexArray=new Rr,this.placedSymbolArray=new Jr};dl.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},dl.prototype.upload=function(t,e,n,i){this.isEmpty()||(n&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,js.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,Vs.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,cl,!0),this.opacityVertexBuffer.itemSize=1),(n||i)&&this.programConfigurations.upload(t))},dl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},zi("SymbolBuffers",dl);var gl=function(t,e,n){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new n,this.segments=new ao,this.collisionVertexArray=new Br};gl.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,Us.members,!0)},gl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},zi("CollisionBuffers",gl);var ml=function(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=aa([]),this.placementViewportMatrix=aa([]);var e=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Ru(this.zoom,e["text-size"]),this.iconSizeData=Ru(this.zoom,e["icon-size"]);var n=this.layers[0].layout,i=n.get("symbol-sort-key"),r=n.get("symbol-z-order");this.canOverlap=n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==r&&void 0!==i.constantOr(1),this.sortFeaturesByY=("viewport-y"===r||"auto"===r&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===n.get("symbol-placement")&&(this.writingModes=n.get("text-writing-mode").map(function(t){return bu[t]})),this.stateDependentLayerIds=this.layers.filter(function(t){return t.isStateDependent()}).map(function(t){return t.id}),this.sourceID=t.sourceID};ml.prototype.createArrays=function(){this.text=new dl(new No(this.layers,this.zoom,function(t){return/^text/.test(t)})),this.icon=new dl(new No(this.layers,this.zoom,function(t){return/^icon/.test(t)})),this.glyphOffsetArray=new eo,this.lineVertexArray=new no,this.symbolInstances=new to},ml.prototype.calculateGlyphDependencies=function(t,e,n,i,r){for(var o=0;o<t.length;o++)if(e[t.charCodeAt(o)]=!0,(n||i)&&r){var a=Ws[t.charAt(o)];a&&(e[a.charCodeAt(0)]=!0)}},ml.prototype.populate=function(t,e,n){var i=this.layers[0],r=i.layout,o=r.get("text-font"),a=r.get("text-field"),s=r.get("icon-image"),u=("constant"!==a.value.kind||a.value.value instanceof ne&&!a.value.value.isEmpty()||a.value.value.toString().length>0)&&("constant"!==o.value.kind||o.value.value.length>0),l="constant"!==s.value.kind||!!s.value.value||Object.keys(s.parameters).length>0,c=r.get("symbol-sort-key");if(this.features=[],u||l){for(var h=e.iconDependencies,p=e.glyphDependencies,f=e.availableImages,d=new ar(this.zoom),g=0,m=t;g<m.length;g+=1){var _=m[g],y=_.feature,v=_.id,b=_.index,w=_.sourceLayerIndex,x=i._featureFilter.needGeometry,k=jo(y,x);if(i._featureFilter.filter(d,k,n)){x||(k.geometry=Bo(y));var E=void 0;if(u){var S=i.getValueAndResolveTokens("text-field",k,n,f),C=ne.factory(S);fl(C)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===ir()||this.hasRTLText&&or.isParsed())&&(E=Hs(C,i,k))}var I=void 0;if(l){var A=i.getValueAndResolveTokens("icon-image",k,n,f);I=A instanceof ie?A:ie.fromString(A)}if(E||I){var P=this.sortFeaturesByKey?c.evaluate(k,{},n):void 0;if(this.features.push({id:v,text:E,icon:I,index:b,sourceLayerIndex:w,geometry:k.geometry,properties:y.properties,type:ll[y.type],sortKey:P}),I&&(h[I.name]=!0),E){var T=o.evaluate(k,{},n).join(","),O="map"===r.get("text-rotation-alignment")&&"point"!==r.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(bu.vertical)>=0;for(var L=0,M=E.sections;L<M.length;L+=1){var N=M[L];if(N.image)h[N.image.name]=!0;else{var R=Hi(E.toString()),D=N.fontStack||T,z=p[D]=p[D]||{};this.calculateGlyphDependencies(N.text,z,O,this.allowVerticalPlacement,R)}}}}}}"line"===r.get("symbol-placement")&&(this.features=function(t){var e={},n={},i=[],r=0;function o(e){i.push(t[e]),r++}function a(t,e,r){var o=n[t];return delete n[t],n[e]=o,i[o].geometry[0].pop(),i[o].geometry[0]=i[o].geometry[0].concat(r[0]),o}function s(t,n,r){var o=e[n];return delete e[n],e[t]=o,i[o].geometry[0].shift(),i[o].geometry[0]=r[0].concat(i[o].geometry[0]),o}function u(t,e,n){var i=n?e[0][e[0].length-1]:e[0][0];return t+":"+i.x+":"+i.y}for(var l=0;l<t.length;l++){var c=t[l],h=c.geometry,p=c.text?c.text.toString():null;if(p){var f=u(p,h),d=u(p,h,!0);if(f in n&&d in e&&n[f]!==e[d]){var g=s(f,d,h),m=a(f,d,i[g].geometry);delete e[f],delete n[d],n[u(p,i[m].geometry,!0)]=m,i[g].geometry=null}else f in n?a(f,d,h):d in e?s(f,d,h):(o(l),e[f]=r-1,n[d]=r-1)}else o(l)}return i.filter(function(t){return t.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(t,e){return t.sortKey-e.sortKey})}},ml.prototype.update=function(t,e,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,n),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,n))},ml.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},ml.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},ml.prototype.upload=function(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},ml.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},ml.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},ml.prototype.addToLineVertexArray=function(t,e){var n=this.lineVertexArray.length;if(void 0!==t.segment){for(var i=t.dist(e[t.segment+1]),r=t.dist(e[t.segment]),o={},a=t.segment+1;a<e.length;a++)o[a]={x:e[a].x,y:e[a].y,tileUnitDistanceFromAnchor:i},a<e.length-1&&(i+=e[a+1].dist(e[a]));for(var s=t.segment||0;s>=0;s--)o[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:r},s>0&&(r+=e[s-1].dist(e[s]));for(var u=0;u<e.length;u++){var l=o[u];this.lineVertexArray.emplaceBack(l.x,l.y,l.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},ml.prototype.addSymbols=function(t,e,n,i,r,o,a,s,u,l,c,h){for(var p=t.indexArray,f=t.layoutVertexArray,d=t.segments.prepareSegment(4*e.length,f,p,this.canOverlap?o.sortKey:void 0),g=this.glyphOffsetArray.length,m=d.vertexLength,_=this.allowVerticalPlacement&&a===bu.vertical?Math.PI/2:0,y=o.text&&o.text.sections,v=0;v<e.length;v++){var b=e[v],w=b.tl,x=b.tr,k=b.bl,E=b.br,S=b.tex,C=b.pixelOffsetTL,I=b.pixelOffsetBR,A=b.minFontScaleX,P=b.minFontScaleY,T=b.glyphOffset,O=b.isSDF,L=b.sectionIndex,M=d.vertexLength,N=T[1];hl(f,s.x,s.y,w.x,N+w.y,S.x,S.y,n,O,C.x,C.y,A,P),hl(f,s.x,s.y,x.x,N+x.y,S.x+S.w,S.y,n,O,I.x,C.y,A,P),hl(f,s.x,s.y,k.x,N+k.y,S.x,S.y+S.h,n,O,C.x,I.y,A,P),hl(f,s.x,s.y,E.x,N+E.y,S.x+S.w,S.y+S.h,n,O,I.x,I.y,A,P),pl(t.dynamicLayoutVertexArray,s,_),p.emplaceBack(M,M+1,M+2),p.emplaceBack(M+1,M+2,M+3),d.vertexLength+=4,d.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(T[0]),v!==e.length-1&&L===e[v+1].sectionIndex||t.programConfigurations.populatePaintArrays(f.length,o,o.index,{},h,y&&y[L])}t.placedSymbolArray.emplaceBack(s.x,s.y,g,this.glyphOffsetArray.length-g,m,u,l,s.segment,n?n[0]:0,n?n[1]:0,i[0],i[1],a,0,!1,0,c)},ml.prototype._addCollisionDebugVertex=function(t,e,n,i,r,o){return e.emplaceBack(0,0),t.emplaceBack(n.x,n.y,i,r,Math.round(o.x),Math.round(o.y))},ml.prototype.addCollisionDebugVertices=function(t,e,n,i,o,a,s){var u=o.segments.prepareSegment(4,o.layoutVertexArray,o.indexArray),l=u.vertexLength,c=o.layoutVertexArray,h=o.collisionVertexArray,p=s.anchorX,f=s.anchorY;this._addCollisionDebugVertex(c,h,a,p,f,new r(t,e)),this._addCollisionDebugVertex(c,h,a,p,f,new r(n,e)),this._addCollisionDebugVertex(c,h,a,p,f,new r(n,i)),this._addCollisionDebugVertex(c,h,a,p,f,new r(t,i)),u.vertexLength+=4;var d=o.indexArray;d.emplaceBack(l,l+1),d.emplaceBack(l+1,l+2),d.emplaceBack(l+2,l+3),d.emplaceBack(l+3,l),u.primitiveLength+=4},ml.prototype.addDebugCollisionBoxes=function(t,e,n,i){for(var r=t;r<e;r++){var o=this.collisionBoxArray.get(r);this.addCollisionDebugVertices(o.x1,o.y1,o.x2,o.y2,i?this.textCollisionBox:this.iconCollisionBox,o.anchorPoint,n)}},ml.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new gl(zr,qs.members,Wr),this.iconCollisionBox=new gl(zr,qs.members,Wr);for(var t=0;t<this.symbolInstances.length;t++){var e=this.symbolInstances.get(t);this.addDebugCollisionBoxes(e.textBoxStartIndex,e.textBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.verticalTextBoxStartIndex,e.verticalTextBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.iconBoxStartIndex,e.iconBoxEndIndex,e,!1),this.addDebugCollisionBoxes(e.verticalIconBoxStartIndex,e.verticalIconBoxEndIndex,e,!1)}},ml.prototype._deserializeCollisionBoxesForSymbol=function(t,e,n,i,r,o,a,s,u){for(var l={},c=e;c<n;c++){var h=t.get(c);l.textBox={x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2,anchorPointX:h.anchorPointX,anchorPointY:h.anchorPointY},l.textFeatureIndex=h.featureIndex;break}for(var p=i;p<r;p++){var f=t.get(p);l.verticalTextBox={x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2,anchorPointX:f.anchorPointX,anchorPointY:f.anchorPointY},l.verticalTextFeatureIndex=f.featureIndex;break}for(var d=o;d<a;d++){var g=t.get(d);l.iconBox={x1:g.x1,y1:g.y1,x2:g.x2,y2:g.y2,anchorPointX:g.anchorPointX,anchorPointY:g.anchorPointY},l.iconFeatureIndex=g.featureIndex;break}for(var m=s;m<u;m++){var _=t.get(m);l.verticalIconBox={x1:_.x1,y1:_.y1,x2:_.x2,y2:_.y2,anchorPointX:_.anchorPointX,anchorPointY:_.anchorPointY},l.verticalIconFeatureIndex=_.featureIndex;break}return l},ml.prototype.deserializeCollisionBoxes=function(t){this.collisionArrays=[];for(var e=0;e<this.symbolInstances.length;e++){var n=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}},ml.prototype.hasTextData=function(){return this.text.segments.get().length>0},ml.prototype.hasIconData=function(){return this.icon.segments.get().length>0},ml.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},ml.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},ml.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},ml.prototype.addIndicesForPlacedSymbol=function(t,e){for(var n=t.placedSymbolArray.get(e),i=n.vertexStartIndex+4*n.numGlyphs,r=n.vertexStartIndex;r<i;r+=4)t.indexArray.emplaceBack(r,r+1,r+2),t.indexArray.emplaceBack(r+1,r+2,r+3)},ml.prototype.getSortedSymbolIndexes=function(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var e=Math.sin(t),n=Math.cos(t),i=[],r=[],o=[],a=0;a<this.symbolInstances.length;++a){o.push(a);var s=this.symbolInstances.get(a);i.push(0|Math.round(e*s.anchorX+n*s.anchorY)),r.push(s.featureIndex)}return o.sort(function(t,e){return i[t]-i[e]||r[e]-r[t]}),o},ml.prototype.addToSortKeyRanges=function(t,e){var n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===e?n.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:e,symbolInstanceStart:t,symbolInstanceEnd:t+1})},ml.prototype.sortFeatures=function(t){var e=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var n=0,i=this.symbolInstanceIndexes;n<i.length;n+=1){var r=this.symbolInstances.get(i[n]);this.featureSortOrder.push(r.featureIndex),[r.rightJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.leftJustifiedTextSymbolIndex].forEach(function(t,n,i){t>=0&&i.indexOf(t)===n&&e.addIndicesForPlacedSymbol(e.text,t)}),r.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,r.verticalPlacedTextSymbolIndex),r.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,r.placedIconSymbolIndex),r.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,r.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},zi("SymbolBucket",ml,{omit:["layers","collisionBoxArray","features","compareText"]}),ml.MAX_GLYPHS=65535,ml.addDynamicAttributes=pl;var _l=new br({"symbol-placement":new gr(At.layout_symbol["symbol-placement"]),"symbol-spacing":new gr(At.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new gr(At.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new mr(At.layout_symbol["symbol-sort-key"]),"symbol-z-order":new gr(At.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new gr(At.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new gr(At.layout_symbol["icon-ignore-placement"]),"icon-optional":new gr(At.layout_symbol["icon-optional"]),"icon-rotation-alignment":new gr(At.layout_symbol["icon-rotation-alignment"]),"icon-size":new mr(At.layout_symbol["icon-size"]),"icon-text-fit":new gr(At.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new gr(At.layout_symbol["icon-text-fit-padding"]),"icon-image":new mr(At.layout_symbol["icon-image"]),"icon-rotate":new mr(At.layout_symbol["icon-rotate"]),"icon-padding":new gr(At.layout_symbol["icon-padding"]),"icon-keep-upright":new gr(At.layout_symbol["icon-keep-upright"]),"icon-offset":new mr(At.layout_symbol["icon-offset"]),"icon-anchor":new mr(At.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new gr(At.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new gr(At.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new gr(At.layout_symbol["text-rotation-alignment"]),"text-field":new mr(At.layout_symbol["text-field"]),"text-font":new mr(At.layout_symbol["text-font"]),"text-size":new mr(At.layout_symbol["text-size"]),"text-max-width":new mr(At.layout_symbol["text-max-width"]),"text-line-height":new gr(At.layout_symbol["text-line-height"]),"text-letter-spacing":new mr(At.layout_symbol["text-letter-spacing"]),"text-justify":new mr(At.layout_symbol["text-justify"]),"text-radial-offset":new mr(At.layout_symbol["text-radial-offset"]),"text-variable-anchor":new gr(At.layout_symbol["text-variable-anchor"]),"text-anchor":new mr(At.layout_symbol["text-anchor"]),"text-max-angle":new gr(At.layout_symbol["text-max-angle"]),"text-writing-mode":new gr(At.layout_symbol["text-writing-mode"]),"text-rotate":new mr(At.layout_symbol["text-rotate"]),"text-padding":new gr(At.layout_symbol["text-padding"]),"text-keep-upright":new gr(At.layout_symbol["text-keep-upright"]),"text-transform":new mr(At.layout_symbol["text-transform"]),"text-offset":new mr(At.layout_symbol["text-offset"]),"text-allow-overlap":new gr(At.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new gr(At.layout_symbol["text-ignore-placement"]),"text-optional":new gr(At.layout_symbol["text-optional"])}),yl={paint:new br({"icon-opacity":new mr(At.paint_symbol["icon-opacity"]),"icon-color":new mr(At.paint_symbol["icon-color"]),"icon-halo-color":new mr(At.paint_symbol["icon-halo-color"]),"icon-halo-width":new mr(At.paint_symbol["icon-halo-width"]),"icon-halo-blur":new mr(At.paint_symbol["icon-halo-blur"]),"icon-translate":new gr(At.paint_symbol["icon-translate"]),"icon-translate-anchor":new gr(At.paint_symbol["icon-translate-anchor"]),"text-opacity":new mr(At.paint_symbol["text-opacity"]),"text-color":new mr(At.paint_symbol["text-color"],{runtimeType:jt,getOverride:function(t){return t.textColor},hasOverride:function(t){return!!t.textColor}}),"text-halo-color":new mr(At.paint_symbol["text-halo-color"]),"text-halo-width":new mr(At.paint_symbol["text-halo-width"]),"text-halo-blur":new mr(At.paint_symbol["text-halo-blur"]),"text-translate":new gr(At.paint_symbol["text-translate"]),"text-translate-anchor":new gr(At.paint_symbol["text-translate-anchor"])}),layout:_l},vl=function(t){this.type=t.property.overrides?t.property.overrides.runtimeType:Dt,this.defaultValue=t};vl.prototype.evaluate=function(t){if(t.formattedSection){var e=this.defaultValue.property.overrides;if(e&&e.hasOverride(t.formattedSection))return e.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default},vl.prototype.eachChild=function(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)},vl.prototype.outputDefined=function(){return!1},vl.prototype.serialize=function(){return null},zi("FormatSectionOverride",vl,{omit:["defaultValue"]});var bl=function(t){function e(e){t.call(this,e,yl)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.recalculate=function(e,n){if(t.prototype.recalculate.call(this,e,n),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var i=this.layout.get("text-writing-mode");if(i){for(var r=[],o=0,a=i;o<a.length;o+=1){var s=a[o];r.indexOf(s)<0&&r.push(s)}this.layout._values["text-writing-mode"]=r}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},e.prototype.getValueAndResolveTokens=function(t,e,n,i){var r=this.layout.get(t).evaluate(e,{},n,i),o=this._unevaluatedLayout._values[t];return o.isDataDriven()||Hn(o.value)||!r?r:function(t,e){return e.replace(/{([^{}]+)}/g,function(e,n){return n in t?String(t[n]):""})}(e.properties,r)},e.prototype.createBucket=function(t){return new ml(t)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype._setPaintOverrides=function(){for(var t=0,n=yl.paint.overridableProperties;t<n.length;t+=1){var i=n[t];if(e.hasPaintOverride(this.layout,i)){var r,o=this.paint.get(i),a=new vl(o),s=new Gn(a,o.property.specification);r="constant"===o.value.kind||"source"===o.value.kind?new Yn("source",s):new Zn("composite",s,o.value.zoomStops,o.value._interpolationType),this.paint._values[i]=new fr(o.property,r,o.parameters)}}},e.prototype._handleOverridablePaintPropertyUpdate=function(t,n,i){return!(!this.layout||n.isDataDriven()||i.isDataDriven())&&e.hasPaintOverride(this.layout,t)},e.hasPaintOverride=function(t,e){var n=t.get("text-field"),i=yl.paint.properties[e],r=!1,o=function(t){for(var e=0,n=t;e<n.length;e+=1)if(i.overrides&&i.overrides.hasOverride(n[e]))return void(r=!0)};if("constant"===n.value.kind&&n.value.value instanceof ne)o(n.value.value.sections);else if("source"===n.value.kind){var a=n.value;a._styleExpression&&function t(e){r||(e instanceof ue&&ae(e.value)===Gt?o(e.value.sections):e instanceof pe?o(e.sections):e.eachChild(t))}(a._styleExpression.expression)}return r},e}(wr),wl={paint:new br({"background-color":new gr(At.paint_background["background-color"]),"background-pattern":new yr(At.paint_background["background-pattern"]),"background-opacity":new gr(At.paint_background["background-opacity"])})},xl=function(t){function e(e){t.call(this,e,wl)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(wr),kl={paint:new br({"raster-opacity":new gr(At.paint_raster["raster-opacity"]),"raster-hue-rotate":new gr(At.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new gr(At.paint_raster["raster-brightness-min"]),"raster-brightness-max":new gr(At.paint_raster["raster-brightness-max"]),"raster-saturation":new gr(At.paint_raster["raster-saturation"]),"raster-contrast":new gr(At.paint_raster["raster-contrast"]),"raster-resampling":new gr(At.paint_raster["raster-resampling"]),"raster-fade-duration":new gr(At.paint_raster["raster-fade-duration"])})},El=function(t){function e(e){t.call(this,e,kl)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(wr),Sl=function(t){function e(e){t.call(this,e,{}),this.implementation=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},e.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},e.prototype.recalculate=function(){},e.prototype.updateTransitions=function(){},e.prototype.hasTransition=function(){},e.prototype.serialize=function(){},e.prototype.onAdd=function(t){this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl)},e.prototype.onRemove=function(t){this.implementation.onRemove&&this.implementation.onRemove(t,t.painter.context.gl)},e}(wr),Cl={circle:ha,heatmap:wa,hillshade:ka,fill:ls,"fill-extrusion":Cs,line:Fs,symbol:bl,background:xl,raster:El},Il=a.HTMLImageElement,Al=a.HTMLCanvasElement,Pl=a.HTMLVideoElement,Tl=a.ImageData,Ol=a.ImageBitmap,Ll=function(t,e,n,i){this.context=t,this.format=n,this.texture=t.gl.createTexture(),this.update(e,i)};Ll.prototype.update=function(t,e,n){var i=t.width,r=t.height,o=!(this.size&&this.size[0]===i&&this.size[1]===r||n),a=this.context,s=a.gl;if(this.useMipmap=Boolean(e&&e.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!e||!1!==e.premultiply)),o)this.size=[i,r],t instanceof Il||t instanceof Al||t instanceof Pl||t instanceof Tl||Ol&&t instanceof Ol?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,t):s.texImage2D(s.TEXTURE_2D,0,this.format,i,r,0,this.format,s.UNSIGNED_BYTE,t.data);else{var u=n||{x:0,y:0},l=u.x,c=u.y;t instanceof Il||t instanceof Al||t instanceof Pl||t instanceof Tl||Ol&&t instanceof Ol?s.texSubImage2D(s.TEXTURE_2D,0,l,c,s.RGBA,s.UNSIGNED_BYTE,t):s.texSubImage2D(s.TEXTURE_2D,0,l,c,i,r,s.RGBA,s.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},Ll.prototype.bind=function(t,e,n){var i=this.context.gl;i.bindTexture(i.TEXTURE_2D,this.texture),n!==i.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=i.LINEAR),t!==this.filter&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,n||t),this.filter=t),e!==this.wrap&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,e),this.wrap=e)},Ll.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Ll.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Ml=function(t){var e=this;this._callback=t,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){e._triggered=!1,e._callback()})};Ml.prototype.trigger=function(){var t=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){t._triggered=!1,t._callback()},0))},Ml.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Nl=function(t,e,n){this.target=t,this.parent=e,this.mapId=n,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},_(["receive","process"],this),this.invoker=new Ml(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=C()?t:a};function Rl(t,e,n){var i=2*Math.PI*6378137/256/Math.pow(2,n);return[t*i-2*Math.PI*6378137/2,e*i-2*Math.PI*6378137/2]}Nl.prototype.send=function(t,e,n,i,r){var o=this;void 0===r&&(r=!1);var a=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(this.callbacks[a]=n);var s=P(this.globalScope)?void 0:[];return this.target.postMessage({id:a,type:t,hasCallback:!!n,targetMapId:i,mustQueue:r,sourceMapId:this.mapId,data:Vi(e,s)},s),{cancel:function(){n&&delete o.callbacks[a],o.target.postMessage({id:a,type:"<cancel>",targetMapId:i,sourceMapId:o.mapId})}}},Nl.prototype.receive=function(t){var e=t.data,n=e.id;if(n&&(!e.targetMapId||this.mapId===e.targetMapId))if("<cancel>"===e.type){delete this.tasks[n];var i=this.cancelCallbacks[n];delete this.cancelCallbacks[n],i&&i()}else C()||e.mustQueue?(this.tasks[n]=e,this.taskQueue.push(n),this.invoker.trigger()):this.processTask(n,e)},Nl.prototype.process=function(){if(this.taskQueue.length){var t=this.taskQueue.shift(),e=this.tasks[t];delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),e&&this.processTask(t,e)}},Nl.prototype.processTask=function(t,e){var n=this;if("<response>"===e.type){var i=this.callbacks[t];delete this.callbacks[t],i&&(e.error?i(Ui(e.error)):i(null,Ui(e.data)))}else{var r=!1,o=P(this.globalScope)?void 0:[],a=e.hasCallback?function(e,i){r=!0,delete n.cancelCallbacks[t],n.target.postMessage({id:t,type:"<response>",sourceMapId:n.mapId,error:e?Vi(e):null,data:Vi(i,o)},o)}:function(t){r=!0},s=null,u=Ui(e.data);if(this.parent[e.type])s=this.parent[e.type](e.sourceMapId,u,a);else if(this.parent.getWorkerSource){var l=e.type.split(".");s=this.parent.getWorkerSource(e.sourceMapId,l[0],u.source)[l[1]](u,a)}else a(new Error("Could not find function "+e.type));!r&&s&&s.cancel&&(this.cancelCallbacks[t]=s.cancel)}},Nl.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Dl=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};Dl.prototype.setNorthEast=function(t){return this._ne=t instanceof zl?new zl(t.lng,t.lat):zl.convert(t),this},Dl.prototype.setSouthWest=function(t){return this._sw=t instanceof zl?new zl(t.lng,t.lat):zl.convert(t),this},Dl.prototype.extend=function(t){var e,n,i=this._sw,r=this._ne;if(t instanceof zl)e=t,n=t;else{if(!(t instanceof Dl))return Array.isArray(t)?4===t.length||t.every(Array.isArray)?this.extend(Dl.convert(t)):this.extend(zl.convert(t)):this;if(n=t._ne,!(e=t._sw)||!n)return this}return i||r?(i.lng=Math.min(e.lng,i.lng),i.lat=Math.min(e.lat,i.lat),r.lng=Math.max(n.lng,r.lng),r.lat=Math.max(n.lat,r.lat)):(this._sw=new zl(e.lng,e.lat),this._ne=new zl(n.lng,n.lat)),this},Dl.prototype.getCenter=function(){return new zl((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Dl.prototype.getSouthWest=function(){return this._sw},Dl.prototype.getNorthEast=function(){return this._ne},Dl.prototype.getNorthWest=function(){return new zl(this.getWest(),this.getNorth())},Dl.prototype.getSouthEast=function(){return new zl(this.getEast(),this.getSouth())},Dl.prototype.getWest=function(){return this._sw.lng},Dl.prototype.getSouth=function(){return this._sw.lat},Dl.prototype.getEast=function(){return this._ne.lng},Dl.prototype.getNorth=function(){return this._ne.lat},Dl.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Dl.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Dl.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Dl.prototype.contains=function(t){var e=zl.convert(t),n=e.lng,i=e.lat,r=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(r=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=i&&i<=this._ne.lat&&r},Dl.convert=function(t){return!t||t instanceof Dl?t:new Dl(t)};var zl=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};zl.prototype.wrap=function(){return new zl(h(this.lng,-180,180),this.lat)},zl.prototype.toArray=function(){return[this.lng,this.lat]},zl.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},zl.prototype.distanceTo=function(t){var e=Math.PI/180,n=this.lat*e,i=t.lat*e,r=Math.sin(n)*Math.sin(i)+Math.cos(n)*Math.cos(i)*Math.cos((t.lng-this.lng)*e);return 6371008.8*Math.acos(Math.min(r,1))},zl.prototype.toBounds=function(t){void 0===t&&(t=0);var e=360*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return new Dl(new zl(this.lng-n,this.lat-e),new zl(this.lng+n,this.lat+e))},zl.convert=function(t){if(t instanceof zl)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new zl(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new zl(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Fl=2*Math.PI*6371008.8;function Bl(t){return Fl*Math.cos(t*Math.PI/180)}function jl(t){return(180+t)/360}function Vl(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function Ul(t,e){return t/Bl(e)}function ql(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}var Gl=function(t,e,n){void 0===n&&(n=0),this.x=+t,this.y=+e,this.z=+n};Gl.fromLngLat=function(t,e){void 0===e&&(e=0);var n=zl.convert(t);return new Gl(jl(n.lng),Vl(n.lat),Ul(e,n.lat))},Gl.prototype.toLngLat=function(){return new zl(360*this.x-180,ql(this.y))},Gl.prototype.toAltitude=function(){return this.z*Bl(ql(this.y))},Gl.prototype.meterInMercatorCoordinateUnits=function(){return 1/Fl*(t=ql(this.y),1/Math.cos(t*Math.PI/180));var t};var Hl=function(t,e,n){this.z=t,this.x=e,this.y=n,this.key=Zl(0,t,t,e,n)};Hl.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},Hl.prototype.url=function(t,e){var n,i,r,o,a,s=(i=this.y,r=this.z,o=Rl(256*(n=this.x),256*(i=Math.pow(2,r)-i-1),r),a=Rl(256*(n+1),256*(i+1),r),o[0]+","+o[1]+","+a[0]+","+a[1]),u=function(t,e,n){for(var i,r="",o=t;o>0;o--)r+=(e&(i=1<<o-1)?1:0)+(n&i?2:0);return r}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",u).replace("{bbox-epsg-3857}",s)},Hl.prototype.getTilePoint=function(t){var e=Math.pow(2,this.z);return new r(8192*(t.x*e-this.x),8192*(t.y*e-this.y))},Hl.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Wl=function(t,e){this.wrap=t,this.canonical=e,this.key=Zl(t,e.z,e.z,e.x,e.y)},Yl=function(t,e,n,i,r){this.overscaledZ=t,this.wrap=e,this.canonical=new Hl(n,+i,+r),this.key=Zl(e,t,n,i,r)};function Zl(t,e,n,i,r){(t*=2)<0&&(t=-1*t-1);var o=1<<n;return(o*o*t+o*r+i).toString(36)+n.toString(36)+e.toString(36)}Yl.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},Yl.prototype.scaledTo=function(t){var e=this.canonical.z-t;return t>this.canonical.z?new Yl(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Yl(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)},Yl.prototype.calculateScaledKey=function(t,e){var n=this.canonical.z-t;return t>this.canonical.z?Zl(this.wrap*+e,t,this.canonical.z,this.canonical.x,this.canonical.y):Zl(this.wrap*+e,t,t,this.canonical.x>>n,this.canonical.y>>n)},Yl.prototype.isChildOf=function(t){if(t.wrap!==this.wrap)return!1;var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e},Yl.prototype.children=function(t){if(this.overscaledZ>=t)return[new Yl(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var e=this.canonical.z+1,n=2*this.canonical.x,i=2*this.canonical.y;return[new Yl(e,this.wrap,e,n,i),new Yl(e,this.wrap,e,n+1,i),new Yl(e,this.wrap,e,n,i+1),new Yl(e,this.wrap,e,n+1,i+1)]},Yl.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},Yl.prototype.wrapped=function(){return new Yl(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Yl.prototype.unwrapTo=function(t){return new Yl(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},Yl.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Yl.prototype.toUnwrapped=function(){return new Wl(this.wrap,this.canonical)},Yl.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Yl.prototype.getTilePoint=function(t){return this.canonical.getTilePoint(new Gl(t.x-this.wrap,t.y))},zi("CanonicalTileID",Hl),zi("OverscaledTileID",Yl,{omit:["posMatrix"]});var Xl=function(t,e,n){if(this.uid=t,e.height!==e.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return k('"'+n+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=e.height;var i=this.dim=e.height-2;this.data=new Uint32Array(e.data.buffer),this.encoding=n||"mapbox";for(var r=0;r<i;r++)this.data[this._idx(-1,r)]=this.data[this._idx(0,r)],this.data[this._idx(i,r)]=this.data[this._idx(i-1,r)],this.data[this._idx(r,-1)]=this.data[this._idx(r,0)],this.data[this._idx(r,i)]=this.data[this._idx(r,i-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(i,-1)]=this.data[this._idx(i-1,0)],this.data[this._idx(-1,i)]=this.data[this._idx(0,i-1)],this.data[this._idx(i,i)]=this.data[this._idx(i-1,i-1)]};Xl.prototype.get=function(t,e){var n=new Uint8Array(this.data.buffer),i=4*this._idx(t,e);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(n[i],n[i+1],n[i+2])},Xl.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Xl.prototype._idx=function(t,e){if(t<-1||t>=this.dim+1||e<-1||e>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(e+1)*this.stride+(t+1)},Xl.prototype._unpackMapbox=function(t,e,n){return(256*t*256+256*e+n)/10-1e4},Xl.prototype._unpackTerrarium=function(t,e,n){return 256*t+e+n/256-32768},Xl.prototype.getPixels=function(){return new ya({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Xl.prototype.backfillBorder=function(t,e,n){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");var i=e*this.dim,r=e*this.dim+this.dim,o=n*this.dim,a=n*this.dim+this.dim;switch(e){case-1:i=r-1;break;case 1:r=i+1}switch(n){case-1:o=a-1;break;case 1:a=o+1}for(var s=-e*this.dim,u=-n*this.dim,l=o;l<a;l++)for(var c=i;c<r;c++)this.data[this._idx(c,l)]=t.data[this._idx(c+s,l+u)]},zi("DEMData",Xl);var Kl=function(t){this._stringToNumber={},this._numberToString=[];for(var e=0;e<t.length;e++){var n=t[e];this._stringToNumber[n]=e,this._numberToString[e]=n}};Kl.prototype.encode=function(t){return this._stringToNumber[t]},Kl.prototype.decode=function(t){return this._numberToString[t]};var $l=function(t,e,n,i,r){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=n,t._y=i,this.properties=t.properties,this.id=r},Jl={geometry:{configurable:!0}};Jl.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Jl.geometry.set=function(t){this._geometry=t},$l.prototype.toJSON=function(){var t={geometry:this.geometry};for(var e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t},Object.defineProperties($l.prototype,Jl);var Ql=function(){this.state={},this.stateChanges={},this.deletedStates={}};Ql.prototype.updateState=function(t,e,n){var i=String(e);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][i]=this.stateChanges[t][i]||{},p(this.stateChanges[t][i],n),null===this.deletedStates[t])for(var r in this.deletedStates[t]={},this.state[t])r!==i&&(this.deletedStates[t][r]=null);else if(this.deletedStates[t]&&null===this.deletedStates[t][i])for(var o in this.deletedStates[t][i]={},this.state[t][i])n[o]||(this.deletedStates[t][i][o]=null);else for(var a in n)this.deletedStates[t]&&this.deletedStates[t][i]&&null===this.deletedStates[t][i][a]&&delete this.deletedStates[t][i][a]},Ql.prototype.removeFeatureState=function(t,e,n){if(null!==this.deletedStates[t]){var i=String(e);if(this.deletedStates[t]=this.deletedStates[t]||{},n&&void 0!==e)null!==this.deletedStates[t][i]&&(this.deletedStates[t][i]=this.deletedStates[t][i]||{},this.deletedStates[t][i][n]=null);else if(void 0!==e)if(this.stateChanges[t]&&this.stateChanges[t][i])for(n in this.deletedStates[t][i]={},this.stateChanges[t][i])this.deletedStates[t][i][n]=null;else this.deletedStates[t][i]=null;else this.deletedStates[t]=null}},Ql.prototype.getState=function(t,e){var n=String(e),i=p({},(this.state[t]||{})[n],(this.stateChanges[t]||{})[n]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){var r=this.deletedStates[t][e];if(null===r)return{};for(var o in r)delete i[o]}return i},Ql.prototype.initializeTileState=function(t,e){t.setFeatureState(this.state,e)},Ql.prototype.coalesceChanges=function(t,e){var n={};for(var i in this.stateChanges){this.state[i]=this.state[i]||{};var r={};for(var o in this.stateChanges[i])this.state[i][o]||(this.state[i][o]={}),p(this.state[i][o],this.stateChanges[i][o]),r[o]=this.state[i][o];n[i]=r}for(var a in this.deletedStates){this.state[a]=this.state[a]||{};var s={};if(null===this.deletedStates[a])for(var u in this.state[a])s[u]={},this.state[a][u]={};else for(var l in this.deletedStates[a]){if(null===this.deletedStates[a][l])this.state[a][l]={};else for(var c=0,h=Object.keys(this.deletedStates[a][l]);c<h.length;c+=1)delete this.state[a][l][h[c]];s[l]=this.state[a][l]}n[a]=n[a]||{},p(n[a],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(var f in t)t[f].setFeatureState(n,e)};var tc=function(t,e){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Li(8192,16,0),this.grid3D=new Li(8192,16,0),this.featureIndexArray=new ro,this.promoteId=e};function ec(t,e,n,i,r){return v(t,function(t,o){var a=e instanceof dr?e.get(o):null;return a&&a.evaluate?a.evaluate(n,i,r):a})}function nc(t){for(var e=1/0,n=1/0,i=-1/0,r=-1/0,o=0,a=t;o<a.length;o+=1){var s=a[o];e=Math.min(e,s.x),n=Math.min(n,s.y),i=Math.max(i,s.x),r=Math.max(r,s.y)}return{minX:e,minY:n,maxX:i,maxY:r}}function ic(t,e){return e-t}tc.prototype.insert=function(t,e,n,i,r,o){var a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,i,r);for(var s=o?this.grid3D:this.grid,u=0;u<e.length;u++){for(var l=e[u],c=[1/0,1/0,-1/0,-1/0],h=0;h<l.length;h++){var p=l[h];c[0]=Math.min(c[0],p.x),c[1]=Math.min(c[1],p.y),c[2]=Math.max(c[2],p.x),c[3]=Math.max(c[3],p.y)}c[0]<8192&&c[1]<8192&&c[2]>=0&&c[3]>=0&&s.insert(a,c[0],c[1],c[2],c[3])}},tc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new vs.VectorTile(new Xs(this.rawTileData)).layers,this.sourceLayerCoder=new Kl(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},tc.prototype.query=function(t,e,n,i){var o=this;this.loadVTLayers();for(var a=t.params||{},s=8192/t.tileSize/t.scale,u=oi(a.filter),l=t.queryGeometry,c=t.queryPadding*s,h=nc(l),p=this.grid.query(h.minX-c,h.minY-c,h.maxX+c,h.maxY+c),f=nc(t.cameraQueryGeometry),d=0,g=this.grid3D.query(f.minX-c,f.minY-c,f.maxX+c,f.maxY+c,function(e,n,i,o){return function(t,e,n,i,o){for(var a=0,s=t;a<s.length;a+=1){var u=s[a];if(e<=u.x&&n<=u.y&&i>=u.x&&o>=u.y)return!0}var l=[new r(e,n),new r(e,o),new r(i,o),new r(i,n)];if(t.length>2)for(var c=0,h=l;c<h.length;c+=1)if(Jo(t,h[c]))return!0;for(var p=0;p<t.length-1;p++)if(Qo(t[p],t[p+1],l))return!0;return!1}(t.cameraQueryGeometry,e-c,n-c,i+c,o+c)});d<g.length;d+=1)p.push(g[d]);p.sort(ic);for(var m,_={},y=function(r){var c=p[r];if(c!==m){m=c;var h=o.featureIndexArray.get(c),f=null;o.loadMatchingFeature(_,h.bucketIndex,h.sourceLayerIndex,h.featureIndex,u,a.layers,a.availableImages,e,n,i,function(e,n,i){return f||(f=Bo(e)),n.queryIntersectsFeature(l,e,i,f,o.z,t.transform,s,t.pixelPosMatrix)})}},v=0;v<p.length;v++)y(v);return _},tc.prototype.loadMatchingFeature=function(t,e,n,i,r,o,a,s,u,l,c){var h=this.bucketLayerIDs[e];if(!o||function(t,e){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1}(o,h)){var f=this.sourceLayerCoder.decode(n),d=this.vtLayers[f].feature(i);if(r.needGeometry){var g=jo(d,!0);if(!r.filter(new ar(this.tileID.overscaledZ),g,this.tileID.canonical))return}else if(!r.filter(new ar(this.tileID.overscaledZ),d))return;for(var m=this.getId(d,f),_=0;_<h.length;_++){var y=h[_];if(!(o&&o.indexOf(y)<0)){var v=s[y];if(v){var b={};void 0!==m&&l&&(b=l.getState(v.sourceLayer||"_geojsonTileLayer",m));var w=p({},u[y]);w.paint=ec(w.paint,v.paint,d,b,a),w.layout=ec(w.layout,v.layout,d,b,a);var x=!c||c(d,v,b);if(x){var k=new $l(d,this.z,this.x,this.y,m);k.layer=w;var E=t[y];void 0===E&&(E=t[y]=[]),E.push({featureIndex:i,feature:k,intersectionZ:x})}}}}}},tc.prototype.lookupSymbolFeatures=function(t,e,n,i,r,o,a,s){var u={};this.loadVTLayers();for(var l=oi(r),c=0,h=t;c<h.length;c+=1)this.loadMatchingFeature(u,n,i,h[c],l,o,a,s,e);return u},tc.prototype.hasLayer=function(t){for(var e=0,n=this.bucketLayerIDs;e<n.length;e+=1)for(var i=0,r=n[e];i<r.length;i+=1)if(t===r[i])return!0;return!1},tc.prototype.getId=function(t,e){var n=t.id;return this.promoteId&&"boolean"==typeof(n=t.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[e]])&&(n=Number(n)),n},zi("FeatureIndex",tc,{omit:["rawTileData","sourceLayerCoder"]});var rc=function(t,e){this.tileID=t,this.uid=d(),this.uses=0,this.tileSize=e,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};rc.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<F.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},rc.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},rc.prototype.loadVectorData=function(t,e,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){for(var i in t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(t,e){var n={};if(!e)return n;for(var i=function(){var t=o[r],i=t.layerIds.map(function(t){return e.getLayer(t)}).filter(Boolean);if(0!==i.length){t.layers=i,t.stateDependentLayerIds&&(t.stateDependentLayers=t.stateDependentLayerIds.map(function(t){return i.filter(function(e){return e.id===t})[0]}));for(var a=0,s=i;a<s.length;a+=1)n[s[a].id]=t}},r=0,o=t;r<o.length;r+=1)i();return n}(t.buckets,e.style),this.hasSymbolBuckets=!1,this.buckets){var r=this.buckets[i];if(r instanceof ml){if(this.hasSymbolBuckets=!0,!n)break;r.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var o in this.buckets){var a=this.buckets[o];if(a instanceof ml&&a.hasRTLText){this.hasRTLText=!0,or.isLoading()||or.isLoaded()||"deferred"!==ir()||rr();break}}for(var s in this.queryPadding=0,this.buckets){var u=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(s).queryRadius(u))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new Kr},rc.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},rc.prototype.getBucket=function(t){return this.buckets[t.id]},rc.prototype.upload=function(t){for(var e in this.buckets){var n=this.buckets[e];n.uploadPending()&&n.upload(t)}var i=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Ll(t,this.imageAtlas.image,i.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Ll(t,this.glyphAtlasImage,i.ALPHA),this.glyphAtlasImage=null)},rc.prototype.prepare=function(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)},rc.prototype.queryRenderedFeatures=function(t,e,n,i,r,o,a,s,u,l){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:i,cameraQueryGeometry:r,scale:o,tileSize:this.tileSize,pixelPosMatrix:l,transform:s,params:a,queryPadding:this.queryPadding*u},t,e,n):{}},rc.prototype.querySourceFeatures=function(t,e){var n=this.latestFeatureIndex;if(n&&n.rawTileData){var i=n.loadVTLayers(),r=e?e.sourceLayer:"",o=i._geojsonTileLayer||i[r];if(o)for(var a=oi(e&&e.filter),s=this.tileID.canonical,u=s.z,l=s.x,c=s.y,h={z:u,x:l,y:c},p=0;p<o.length;p++){var f=o.feature(p);if(a.needGeometry){var d=jo(f,!0);if(!a.filter(new ar(this.tileID.overscaledZ),d,this.tileID.canonical))continue}else if(!a.filter(new ar(this.tileID.overscaledZ),f))continue;var g=n.getId(f,r),m=new $l(f,u,l,c,g);m.tile=h,t.push(m)}}},rc.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},rc.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},rc.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var n=I(t.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var i=Date.now(),r=!1;if(this.expirationTime>i)r=!1;else if(e)if(this.expirationTime<e)r=!0;else{var o=this.expirationTime-e;o?this.expirationTime=i+Math.max(o,3e4):r=!0}else r=!0;r?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},rc.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},rc.prototype.setFeatureState=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(t).length){var n=this.latestFeatureIndex.loadVTLayers();for(var i in this.buckets)if(e.style.hasLayer(i)){var r=this.buckets[i],o=r.layers[0].sourceLayer||"_geojsonTileLayer",a=n[o],s=t[o];if(a&&s&&0!==Object.keys(s).length){r.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{});var u=e&&e.style&&e.style.getLayer(i);u&&(this.queryPadding=Math.max(this.queryPadding,u.queryRadius(r)))}}}},rc.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},rc.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<F.now()},rc.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},rc.prototype.setHoldDuration=function(t){this.symbolFadeHoldUntil=F.now()+t},rc.prototype.setDependencies=function(t,e){for(var n={},i=0,r=e;i<r.length;i+=1)n[r[i]]=!0;this.dependencies[t]=n},rc.prototype.hasDependency=function(t,e){for(var n=0,i=t;n<i.length;n+=1){var r=this.dependencies[i[n]];if(r)for(var o=0,a=e;o<a.length;o+=1)if(r[a[o]])return!0}return!1};var oc=a.performance,ac=function(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},oc.mark(this._marks.start)};ac.prototype.finish=function(){oc.mark(this._marks.end);var t=oc.getEntriesByName(this._marks.measure);return 0===t.length&&(oc.measure(this._marks.measure,this._marks.start,this._marks.end),t=oc.getEntriesByName(this._marks.measure),oc.clearMarks(this._marks.start),oc.clearMarks(this._marks.end),oc.clearMeasures(this._marks.measure)),t},t.Actor=Nl,t.AlphaImage=_a,t.CanonicalTileID=Hl,t.CollisionBoxArray=Kr,t.Color=Qt,t.DEMData=Xl,t.DataConstantProperty=gr,t.DictionaryCoder=Kl,t.EXTENT=8192,t.ErrorEvent=Ct,t.EvaluationParameters=ar,t.Event=St,t.Evented=It,t.FeatureIndex=tc,t.FillBucket=as,t.FillExtrusionBucket=ks,t.ImageAtlas=vu,t.ImagePosition=_u,t.LineBucket=Ns,t.LngLat=zl,t.LngLatBounds=Dl,t.MercatorCoordinate=Gl,t.ONE_EM=24,t.OverscaledTileID=Yl,t.Point=r,t.Point$1=r,t.Properties=br,t.Protobuf=Xs,t.RGBAImage=ya,t.RequestManager=H,t.RequestPerformance=ac,t.ResourceType=dt,t.SegmentVector=ao,t.SourceFeatureState=Ql,t.StructArrayLayout1ui2=Yr,t.StructArrayLayout2f1f2i16=Fr,t.StructArrayLayout2i4=Ir,t.StructArrayLayout3ui6=jr,t.StructArrayLayout4i8=Ar,t.SymbolBucket=ml,t.Texture=Ll,t.Tile=rc,t.Transitionable=lr,t.Uniform1f=bo,t.Uniform1i=vo,t.Uniform2f=wo,t.Uniform3f=xo,t.Uniform4f=ko,t.UniformColor=Eo,t.UniformMatrix4f=Co,t.UnwrappedTileID=Wl,t.ValidationError=Pt,t.WritingMode=bu,t.ZoomHistory=qi,t.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},t.addDynamicAttributes=pl,t.asyncAll=function(t,e,n){if(!t.length)return n(null,[]);var i=t.length,r=new Array(t.length),o=null;t.forEach(function(t,a){e(t,function(t,e){t&&(o=t),r[a]=e,0==--i&&n(o,r)})})},t.bezier=u,t.bindAll=_,t.browser=F,t.cacheEntryPossiblyAdded=function(t){++pt>ut&&(t.getActor().send("enforceCacheSizeLimit",st),pt=0)},t.clamp=c,t.clearTileCache=function(t){var e=a.caches.delete("mapbox-tiles");t&&e.catch(t).then(function(){return t()})},t.clipLine=Hu,t.clone=function(t){var e=new oa(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.clone$1=w,t.clone$2=function(t){var e=new oa(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},t.collisionCircleLayout=Gs,t.config=B,t.create=function(){var t=new oa(16);return oa!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},t.create$1=function(){var t=new oa(9);return oa!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},t.create$2=function(){var t=new oa(4);return oa!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},t.createCommonjsModule=e,t.createExpression=Wn,t.createLayout=Sr,t.createStyleLayer=function(t){return"custom"===t.type?new Sl(t):new Cl[t.type](t)},t.cross=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=r*u-o*s,t[1]=o*a-i*u,t[2]=i*s-r*a,t},t.deepEqual=function t(e,n){if(Array.isArray(e)){if(!Array.isArray(n)||e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(!t(e[i],n[i]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==n){if("object"!=typeof n)return!1;if(Object.keys(e).length!==Object.keys(n).length)return!1;for(var r in e)if(!t(e[r],n[r]))return!1;return!0}return e===n},t.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},t.dot$1=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},t.ease=l,t.emitValidationErrors=Oi,t.endsWith=y,t.enforceCacheSizeLimit=function(t){lt(),tt&&tt.then(function(e){e.keys().then(function(n){for(var i=0;i<n.length-t;i++)e.delete(n[i])})})},t.evaluateSizeForFeature=Du,t.evaluateSizeForZoom=zu,t.evaluateVariableOffset=rl,t.evented=nr,t.extend=p,t.featureFilter=oi,t.filterObject=b,t.fromRotation=function(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=0,t[3]=-n,t[4]=i,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},t.getAnchorAlignment=Ou,t.getAnchorJustification=ol,t.getArrayBuffer=bt,t.getImage=function t(e,n){if(j.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),mt>=B.MAX_PARALLEL_IMAGE_REQUESTS){var i={requestParameters:e,callback:n,cancelled:!1,cancel:function(){this.cancelled=!0}};return gt.push(i),i}mt++;var r=!1,o=function(){if(!r)for(r=!0,mt--;gt.length&&mt<B.MAX_PARALLEL_IMAGE_REQUESTS;){var e=gt.shift();e.cancelled||(e.cancel=t(e.requestParameters,e.callback).cancel)}},s=bt(e,function(t,e,i,r){o(),t?n(t):e&&(ft()?function(t,e){var n=new a.Blob([new Uint8Array(t)],{type:"image/png"});a.createImageBitmap(n).then(function(t){e(null,t)}).catch(function(t){e(new Error("Could not load image because of "+t.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(e,n):function(t,e,n,i){var r=new a.Image,o=a.URL;r.onload=function(){e(null,r),o.revokeObjectURL(r.src),r.onload=null,a.requestAnimationFrame(function(){r.src=xt})},r.onerror=function(){return e(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var s=new a.Blob([new Uint8Array(t)],{type:"image/png"});r.cacheControl=n,r.expires=i,r.src=t.byteLength?o.createObjectURL(s):xt}(e,n,i,r))});return{cancel:function(){s.cancel(),o()}}},t.getJSON=function(t,e){return vt(p(t,{type:"json"}),e)},t.getRTLTextPluginStatus=ir,t.getReferrer=yt,t.getVideo=function(t,e){var n,i,r=a.document.createElement("video");r.muted=!0,r.onloadstart=function(){e(null,r)};for(var o=0;o<t.length;o++){var s=a.document.createElement("source");n=t[o],i=void 0,(i=a.document.createElement("a")).href=n,(i.protocol!==a.document.location.protocol||i.host!==a.document.location.host)&&(r.crossOrigin="Anonymous"),s.src=t[o],r.appendChild(s)}return{cancel:function(){}}},t.identity=aa,t.invert=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],p=e[10],f=e[11],d=e[12],g=e[13],m=e[14],_=e[15],y=n*s-i*a,v=n*u-r*a,b=n*l-o*a,w=i*u-r*s,x=i*l-o*s,k=r*l-o*u,E=c*g-h*d,S=c*m-p*d,C=c*_-f*d,I=h*m-p*g,A=h*_-f*g,P=p*_-f*m,T=y*P-v*A+b*I+w*C-x*S+k*E;return T?(t[0]=(s*P-u*A+l*I)*(T=1/T),t[1]=(r*A-i*P-o*I)*T,t[2]=(g*k-m*x+_*w)*T,t[3]=(p*x-h*k-f*w)*T,t[4]=(u*C-a*P-l*S)*T,t[5]=(n*P-r*C+o*S)*T,t[6]=(m*b-d*k-_*v)*T,t[7]=(c*k-p*b+f*v)*T,t[8]=(a*A-s*C+l*E)*T,t[9]=(i*C-n*A-o*E)*T,t[10]=(d*x-g*b+_*y)*T,t[11]=(h*b-c*x-f*y)*T,t[12]=(s*S-a*I-u*E)*T,t[13]=(n*I-i*S+r*E)*T,t[14]=(g*v-d*w-m*y)*T,t[15]=(c*w-h*v+p*y)*T,t):null},t.isChar=Gi,t.isMapboxURL=W,t.keysDifference=function(t,e){var n=[];for(var i in t)i in e||n.push(i);return n},t.makeRequest=vt,t.mapObject=v,t.mercatorXfromLng=jl,t.mercatorYfromLat=Vl,t.mercatorZfromAltitude=Ul,t.mul=la,t.multiply=sa,t.mvt=vs,t.nextPowerOfTwo=function(t){return t<=1?1:Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},t.normalize=function(t,e){var n=e[0],i=e[1],r=e[2],o=n*n+i*i+r*r;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t},t.number=qe,t.offscreenCanvasSupported=ft,t.ortho=function(t,e,n,i,r,o,a){var s=1/(e-n),u=1/(i-r),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(r+i)*u,t[14]=(a+o)*l,t[15]=1,t},t.parseGlyphPBF=function(t){return new Xs(t).readFields(fu,[])},t.pbf=Xs,t.performSymbolLayout=function(t,e,n,i,r,o,a){t.createArrays(),t.tilePixelRatio=8192/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;var s=t.layers[0].layout,u=t.layers[0]._unevaluatedLayout._values,l={};if("composite"===t.textSizeData.kind){var c=t.textSizeData,h=c.maxZoom;l.compositeTextSizes=[u["text-size"].possiblyEvaluate(new ar(c.minZoom),a),u["text-size"].possiblyEvaluate(new ar(h),a)]}if("composite"===t.iconSizeData.kind){var p=t.iconSizeData,f=p.maxZoom;l.compositeIconSizes=[u["icon-size"].possiblyEvaluate(new ar(p.minZoom),a),u["icon-size"].possiblyEvaluate(new ar(f),a)]}l.layoutTextSize=u["text-size"].possiblyEvaluate(new ar(t.zoom+1),a),l.layoutIconSize=u["icon-size"].possiblyEvaluate(new ar(t.zoom+1),a),l.textMaxSize=u["text-size"].possiblyEvaluate(new ar(18));for(var d=24*s.get("text-line-height"),g="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),m=s.get("text-keep-upright"),_=s.get("text-size"),y=function(){var o=b[v],u=s.get("text-font").evaluate(o,{},a).join(","),c=_.evaluate(o,{},a),h=l.layoutTextSize.evaluate(o,{},a),p=l.layoutIconSize.evaluate(o,{},a),f={horizontal:{},vertical:void 0},y=o.text,w=[0,0];if(y){var x=y.toString(),E=24*s.get("text-letter-spacing").evaluate(o,{},a),S=function(t){for(var e=0,n=t;e<n.length;e+=1)if(i=n[e].charCodeAt(0),Gi.Arabic(i)||Gi["Arabic Supplement"](i)||Gi["Arabic Extended-A"](i)||Gi["Arabic Presentation Forms-A"](i)||Gi["Arabic Presentation Forms-B"](i))return!1;var i;return!0}(x)?E:0,C=s.get("text-anchor").evaluate(o,{},a),I=s.get("text-variable-anchor");if(!I){var A=s.get("text-radial-offset").evaluate(o,{},a);w=A?rl(C,[24*A,il]):s.get("text-offset").evaluate(o,{},a).map(function(t){return 24*t})}var P=g?"center":s.get("text-justify").evaluate(o,{},a),T=s.get("symbol-placement"),O="point"===T?24*s.get("text-max-width").evaluate(o,{},a):0,L=function(){t.allowVerticalPlacement&&Hi(x)&&(f.vertical=ku(y,e,n,r,u,O,d,C,"left",S,w,bu.vertical,!0,T,h,c))};if(!g&&I){for(var M="auto"===P?I.map(function(t){return ol(t)}):[P],N=!1,R=0;R<M.length;R++){var D=M[R];if(!f.horizontal[D])if(N)f.horizontal[D]=f.horizontal[0];else{var z=ku(y,e,n,r,u,O,d,"center",D,S,w,bu.horizontal,!1,T,h,c);z&&(f.horizontal[D]=z,N=1===z.positionedLines.length)}}L()}else{"auto"===P&&(P=ol(C));var F=ku(y,e,n,r,u,O,d,C,P,S,w,bu.horizontal,!1,T,h,c);F&&(f.horizontal[P]=F),L(),Hi(x)&&g&&m&&(f.vertical=ku(y,e,n,r,u,O,d,C,P,S,w,bu.vertical,!1,T,h,c))}}var B=void 0,j=!1;if(o.icon&&o.icon.name){var V=i[o.icon.name];V&&(B=function(t,e,n){var i=Ou(n),r=e[0]-t.displaySize[0]*i.horizontalAlign,o=e[1]-t.displaySize[1]*i.verticalAlign;return{image:t,top:o,bottom:o+t.displaySize[1],left:r,right:r+t.displaySize[0]}}(r[o.icon.name],s.get("icon-offset").evaluate(o,{},a),s.get("icon-anchor").evaluate(o,{},a)),j=V.sdf,void 0===t.sdfIcons?t.sdfIcons=V.sdf:t.sdfIcons!==V.sdf&&k("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(V.pixelRatio!==t.pixelRatio||0!==s.get("icon-rotate").constantOr(1))&&(t.iconsNeedLinear=!0))}var U=sl(f.horizontal)||f.vertical;t.iconsInText=!!U&&U.iconsInText,(U||B)&&function(t,e,n,i,r,o,a,s,u,l,c){var h=o.textMaxSize.evaluate(e,{});void 0===h&&(h=a);var p,f=t.layers[0].layout,d=f.get("icon-offset").evaluate(e,{},c),g=sl(n.horizontal),m=a/24,_=t.tilePixelRatio*m,y=t.tilePixelRatio*h/24,v=t.tilePixelRatio*s,b=t.tilePixelRatio*f.get("symbol-spacing"),w=f.get("text-padding")*t.tilePixelRatio,x=f.get("icon-padding")*t.tilePixelRatio,E=f.get("text-max-angle")/180*Math.PI,S="map"===f.get("text-rotation-alignment")&&"point"!==f.get("symbol-placement"),C="map"===f.get("icon-rotation-alignment")&&"point"!==f.get("symbol-placement"),I=f.get("symbol-placement"),A=b/2,P=f.get("icon-text-fit");i&&"none"!==P&&(t.allowVerticalPlacement&&n.vertical&&(p=Mu(i,n.vertical,P,f.get("icon-text-fit-padding"),d,m)),g&&(i=Mu(i,g,P,f.get("icon-text-fit-padding"),d,m)));var T=function(s,h){h.x<0||h.x>=8192||h.y<0||h.y>=8192||function(t,e,n,i,r,o,a,s,u,l,c,h,p,f,d,g,m,_,y,v,b,w,x,E,S){var C,I,A,P,T,O=t.addToLineVertexArray(e,n),L=0,M=0,N=0,R=0,D=-1,z=-1,F={},B=ho(""),j=0,V=0;if(void 0===s._unevaluatedLayout.getValue("text-radial-offset")?(j=(C=s.layout.get("text-offset").evaluate(b,{},E).map(function(t){return 24*t}))[0],V=C[1]):(j=24*s.layout.get("text-radial-offset").evaluate(b,{},E),V=il),t.allowVerticalPlacement&&i.vertical){var U=s.layout.get("text-rotate").evaluate(b,{},E)+90;P=new $u(u,e,l,c,h,i.vertical,p,f,d,U),a&&(T=new $u(u,e,l,c,h,a,m,_,d,U))}if(r){var q=s.layout.get("icon-rotate").evaluate(b,{}),G="none"!==s.layout.get("icon-text-fit"),H=Wu(r,q,x,G),W=a?Wu(a,q,x,G):void 0;A=new $u(u,e,l,c,h,r,m,_,!1,q),L=4*H.length;var Y=t.iconSizeData,Z=null;"source"===Y.kind?(Z=[128*s.layout.get("icon-size").evaluate(b,{})])[0]>32640&&k(t.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===Y.kind&&((Z=[128*w.compositeIconSizes[0].evaluate(b,{},E),128*w.compositeIconSizes[1].evaluate(b,{},E)])[0]>32640||Z[1]>32640)&&k(t.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),t.addSymbols(t.icon,H,Z,v,y,b,!1,e,O.lineStartIndex,O.lineLength,-1,E),D=t.icon.placedSymbolArray.length-1,W&&(M=4*W.length,t.addSymbols(t.icon,W,Z,v,y,b,bu.vertical,e,O.lineStartIndex,O.lineLength,-1,E),z=t.icon.placedSymbolArray.length-1)}for(var X in i.horizontal){var K=i.horizontal[X];if(!I){B=ho(K.text);var $=s.layout.get("text-rotate").evaluate(b,{},E);I=new $u(u,e,l,c,h,K,p,f,d,$)}var J=1===K.positionedLines.length;if(N+=al(t,e,K,o,s,d,b,g,O,i.vertical?bu.horizontal:bu.horizontalOnly,J?Object.keys(i.horizontal):[X],F,D,w,E),J)break}i.vertical&&(R+=al(t,e,i.vertical,o,s,d,b,g,O,bu.vertical,["vertical"],F,z,w,E));var Q=I?I.boxStartIndex:t.collisionBoxArray.length,tt=I?I.boxEndIndex:t.collisionBoxArray.length,et=P?P.boxStartIndex:t.collisionBoxArray.length,nt=P?P.boxEndIndex:t.collisionBoxArray.length,it=A?A.boxStartIndex:t.collisionBoxArray.length,rt=A?A.boxEndIndex:t.collisionBoxArray.length,ot=T?T.boxStartIndex:t.collisionBoxArray.length,at=T?T.boxEndIndex:t.collisionBoxArray.length,st=-1,ut=function(t,e){return t&&t.circleDiameter?Math.max(t.circleDiameter,e):e};st=ut(I,st),st=ut(P,st),st=ut(A,st);var lt=(st=ut(T,st))>-1?1:0;lt&&(st*=S/24),t.glyphOffsetArray.length>=ml.MAX_GLYPHS&&k("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==b.sortKey&&t.addToSortKeyRanges(t.symbolInstances.length,b.sortKey),t.symbolInstances.emplaceBack(e.x,e.y,F.right>=0?F.right:-1,F.center>=0?F.center:-1,F.left>=0?F.left:-1,F.vertical||-1,D,z,B,Q,tt,et,nt,it,rt,ot,at,l,N,R,L,M,lt,0,p,j,V,st)}(t,h,s,n,i,r,p,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,_,w,S,u,v,x,C,d,e,o,l,c,a)};if("line"===I)for(var O=0,L=Hu(e.geometry,0,0,8192,8192);O<L.length;O+=1)for(var M=L[O],N=0,R=Gu(M,b,E,n.vertical||g,i,24,y,t.overscaling,8192);N<R.length;N+=1){var D=R[N];g&&ul(t,g.text,A,D)||T(M,D)}else if("line-center"===I)for(var z=0,F=e.geometry;z<F.length;z+=1){var B=F[z];if(B.length>1){var j=qu(B,E,n.vertical||g,i,24,y);j&&T(B,j)}}else if("Polygon"===e.type)for(var V=0,U=ns(e.geometry,0);V<U.length;V+=1){var q=U[V],G=tl(q,16);T(q[0],new Nu(G.x,G.y,0))}else if("LineString"===e.type)for(var H=0,W=e.geometry;H<W.length;H+=1){var Y=W[H];T(Y,new Nu(Y[0].x,Y[0].y,0))}else if("Point"===e.type)for(var Z=0,X=e.geometry;Z<X.length;Z+=1)for(var K=0,$=X[Z];K<$.length;K+=1){var J=$[K];T([J],new Nu(J.x,J.y,0))}}(t,o,f,B,i,l,h,p,w,j,a)},v=0,b=t.features;v<b.length;v+=1)y();o&&t.generateCollisionDebugBuffers()},t.perspective=function(t,e,n,i,r){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=r&&r!==1/0?(t[10]=(r+i)*(o=1/(i-r)),t[14]=2*r*i*o):(t[10]=-1,t[14]=-2*i),t},t.pick=function(t,e){for(var n={},i=0;i<e.length;i++){var r=e[i];r in t&&(n[r]=t[r])}return n},t.plugin=or,t.polygonIntersectsPolygon=qo,t.postMapLoadEvent=at,t.postTurnstileEvent=rt,t.potpack=mu,t.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],t.register=zi,t.registerForPluginStateChange=function(t){return t({pluginStatus:Ji,pluginURL:Qi}),nr.on("pluginStateChange",t),t},t.renderColorRamp=ba,t.rotate=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=i*u+o*s,t[1]=r*u+a*s,t[2]=i*-s+o*u,t[3]=r*-s+a*u,t},t.rotateX=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*r+l*i,t[5]=a*r+c*i,t[6]=s*r+h*i,t[7]=u*r+p*i,t[8]=l*r-o*i,t[9]=c*r-a*i,t[10]=h*r-s*i,t[11]=p*r-u*i,t},t.rotateZ=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],h=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*r+l*i,t[1]=a*r+c*i,t[2]=s*r+h*i,t[3]=u*r+p*i,t[4]=l*r-o*i,t[5]=c*r-a*i,t[6]=h*r-s*i,t[7]=p*r-u*i,t},t.scale=function(t,e,n){var i=n[0],r=n[1],o=n[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.scale$1=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},t.scale$2=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},t.setCacheLimits=function(t,e){st=t,ut=e},t.setRTLTextPlugin=function(t,e,n){if(void 0===n&&(n=!1),"deferred"===Ji||"loading"===Ji||"loaded"===Ji)throw new Error("setRTLTextPlugin cannot be called multiple times.");Qi=F.resolveURL(t),Ji="deferred",$i=e,er(),n||rr()},t.sphericalToCartesian=function(t){var e=t[0],n=t[1],i=t[2];return n+=90,n*=Math.PI/180,i*=Math.PI/180,{x:e*Math.cos(n)*Math.sin(i),y:e*Math.sin(n)*Math.sin(i),z:e*Math.cos(i)}},t.sqrLen=function(t){var e=t[0],n=t[1];return e*e+n*n},t.styleSpec=At,t.sub=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},t.symbolSize=Fu,t.transformMat3=function(t,e,n){var i=e[0],r=e[1],o=e[2];return t[0]=i*n[0]+r*n[3]+o*n[6],t[1]=i*n[1]+r*n[4]+o*n[7],t[2]=i*n[2]+r*n[5]+o*n[8],t},t.transformMat4=ca,t.translate=function(t,e,n){var i,r,o,a,s,u,l,c,h,p,f,d,g=n[0],m=n[1],_=n[2];return e===t?(t[12]=e[0]*g+e[4]*m+e[8]*_+e[12],t[13]=e[1]*g+e[5]*m+e[9]*_+e[13],t[14]=e[2]*g+e[6]*m+e[10]*_+e[14],t[15]=e[3]*g+e[7]*m+e[11]*_+e[15]):(r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],p=e[9],f=e[10],d=e[11],t[0]=i=e[0],t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=h,t[9]=p,t[10]=f,t[11]=d,t[12]=i*g+s*m+h*_+e[12],t[13]=r*g+u*m+p*_+e[13],t[14]=o*g+l*m+f*_+e[14],t[15]=a*g+c*m+d*_+e[15]),t},t.triggerPluginCompletionEvent=tr,t.uniqueId=d,t.validateCustomStyleLayer=function(t){var e=[],n=t.id;return void 0===n&&e.push({message:"layers."+n+': missing required property "id"'}),void 0===t.render&&e.push({message:"layers."+n+': missing required method "render"'}),t.renderingMode&&"2d"!==t.renderingMode&&"3d"!==t.renderingMode&&e.push({message:"layers."+n+': property "renderingMode" must be either "2d" or "3d"'}),e},t.validateLight=Ai,t.validateStyle=Ii,t.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.vectorTile=vs,t.version="1.13.1",t.warnOnce=k,t.webpSupported=j,t.window=a,t.wrap=h}),i(0,function(t){function e(t){var n=typeof t;if("number"===n||"boolean"===n||"string"===n||null==t)return JSON.stringify(t);if(Array.isArray(t)){for(var i="[",r=0,o=t;r<o.length;r+=1)i+=e(o[r])+",";return i+"]"}for(var a=Object.keys(t).sort(),s="{",u=0;u<a.length;u++)s+=JSON.stringify(a[u])+":"+e(t[a[u]])+",";return s+"}"}function n(n){for(var i="",r=0,o=t.refProperties;r<o.length;r+=1)i+="/"+e(n[o[r]]);return i}var i=function(t){this.keyCache={},t&&this.replace(t)};i.prototype.replace=function(t){this._layerConfigs={},this._layers={},this.update(t,[])},i.prototype.update=function(e,i){for(var r=this,o=0,a=e;o<a.length;o+=1){var s=a[o];this._layerConfigs[s.id]=s;var u=this._layers[s.id]=t.createStyleLayer(s);u._featureFilter=t.featureFilter(u.filter),this.keyCache[s.id]&&delete this.keyCache[s.id]}for(var l=0,c=i;l<c.length;l+=1){var h=c[l];delete this.keyCache[h],delete this._layerConfigs[h],delete this._layers[h]}this.familiesBySource={};for(var p=0,f=function(t,e){for(var i={},r=0;r<t.length;r++){var o=e&&e[t[r].id]||n(t[r]);e&&(e[t[r].id]=o);var a=i[o];a||(a=i[o]=[]),a.push(t[r])}var s=[];for(var u in i)s.push(i[u]);return s}(t.values(this._layerConfigs),this.keyCache);p<f.length;p+=1){var d=f[p].map(function(t){return r._layers[t.id]}),g=d[0];if("none"!==g.visibility){var m=g.source||"",_=this.familiesBySource[m];_||(_=this.familiesBySource[m]={});var y=g.sourceLayer||"_geojsonTileLayer",v=_[y];v||(v=_[y]=[]),v.push(d)}}};var r=function(e){var n={},i=[];for(var r in e){var o=e[r],a=n[r]={};for(var s in o){var u=o[+s];if(u&&0!==u.bitmap.width&&0!==u.bitmap.height){var l={x:0,y:0,w:u.bitmap.width+2,h:u.bitmap.height+2};i.push(l),a[s]={rect:l,metrics:u.metrics}}}}var c=t.potpack(i),h=new t.AlphaImage({width:c.w||1,height:c.h||1});for(var p in e){var f=e[p];for(var d in f){var g=f[+d];if(g&&0!==g.bitmap.width&&0!==g.bitmap.height){var m=n[p][d].rect;t.AlphaImage.copy(g.bitmap,h,{x:0,y:0},{x:m.x+1,y:m.y+1},g.bitmap)}}}this.image=h,this.positions=n};t.register("GlyphAtlas",r);var o=function(e){this.tileID=new t.OverscaledTileID(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.uid=e.uid,this.zoom=e.zoom,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId};function a(e,n,i){for(var r=new t.EvaluationParameters(n),o=0,a=e;o<a.length;o+=1)a[o].recalculate(r,i)}function s(e,n){var i=t.getArrayBuffer(e.request,function(e,i,r,o){e?n(e):i&&n(null,{vectorTile:new t.vectorTile.VectorTile(new t.pbf(i)),rawData:i,cacheControl:r,expires:o})});return function(){i.cancel(),n()}}o.prototype.parse=function(e,n,i,o,s){var u=this;this.status="parsing",this.data=e,this.collisionBoxArray=new t.CollisionBoxArray;var l=new t.DictionaryCoder(Object.keys(e.layers).sort()),c=new t.FeatureIndex(this.tileID,this.promoteId);c.bucketLayerIDs=[];var h,p,f,d,g={},m={featureIndex:c,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:i},_=n.familiesBySource[this.source];for(var y in _){var v=e.layers[y];if(v){1===v.version&&t.warnOnce('Vector tile source "'+this.source+'" layer "'+y+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var b=l.encode(y),w=[],x=0;x<v.length;x++){var k=v.feature(x),E=c.getId(k,y);w.push({feature:k,id:E,index:x,sourceLayerIndex:b})}for(var S=0,C=_[y];S<C.length;S+=1){var I=C[S],A=I[0];A.minzoom&&this.zoom<Math.floor(A.minzoom)||A.maxzoom&&this.zoom>=A.maxzoom||"none"!==A.visibility&&(a(I,this.zoom,i),(g[A.id]=A.createBucket({index:c.bucketLayerIDs.length,layers:I,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:b,sourceID:this.source})).populate(w,m,this.tileID.canonical),c.bucketLayerIDs.push(I.map(function(t){return t.id})))}}}var P=t.mapObject(m.glyphDependencies,function(t){return Object.keys(t).map(Number)});Object.keys(P).length?o.send("getGlyphs",{uid:this.uid,stacks:P},function(t,e){h||(h=t,p=e,L.call(u))}):p={};var T=Object.keys(m.iconDependencies);T.length?o.send("getImages",{icons:T,source:this.source,tileID:this.tileID,type:"icons"},function(t,e){h||(h=t,f=e,L.call(u))}):f={};var O=Object.keys(m.patternDependencies);function L(){if(h)return s(h);if(p&&f&&d){var e=new r(p),n=new t.ImageAtlas(f,d);for(var o in g){var u=g[o];u instanceof t.SymbolBucket?(a(u.layers,this.zoom,i),t.performSymbolLayout(u,p,e.positions,f,n.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):u.hasPattern&&(u instanceof t.LineBucket||u instanceof t.FillBucket||u instanceof t.FillExtrusionBucket)&&(a(u.layers,this.zoom,i),u.addFeatures(m,this.tileID.canonical,n.patternPositions))}this.status="done",s(null,{buckets:t.values(g).filter(function(t){return!t.isEmpty()}),featureIndex:c,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,imageAtlas:n,glyphMap:this.returnDependencies?p:null,iconMap:this.returnDependencies?f:null,glyphPositions:this.returnDependencies?e.positions:null})}}O.length?o.send("getImages",{icons:O,source:this.source,tileID:this.tileID,type:"patterns"},function(t,e){h||(h=t,d=e,L.call(u))}):d={},L.call(this)};var u=function(t,e,n,i){this.actor=t,this.layerIndex=e,this.availableImages=n,this.loadVectorData=i||s,this.loading={},this.loaded={}};u.prototype.loadTile=function(e,n){var i=this,r=e.uid;this.loading||(this.loading={});var a=!!(e&&e.request&&e.request.collectResourceTiming)&&new t.RequestPerformance(e.request),s=this.loading[r]=new o(e);s.abort=this.loadVectorData(e,function(e,o){if(delete i.loading[r],e||!o)return s.status="done",i.loaded[r]=s,n(e);var u=o.rawData,l={};o.expires&&(l.expires=o.expires),o.cacheControl&&(l.cacheControl=o.cacheControl);var c={};if(a){var h=a.finish();h&&(c.resourceTiming=JSON.parse(JSON.stringify(h)))}s.vectorTile=o.vectorTile,s.parse(o.vectorTile,i.layerIndex,i.availableImages,i.actor,function(e,i){if(e||!i)return n(e);n(null,t.extend({rawTileData:u.slice(0)},i,l,c))}),i.loaded=i.loaded||{},i.loaded[r]=s})},u.prototype.reloadTile=function(t,e){var n=this,i=this.loaded,r=t.uid,o=this;if(i&&i[r]){var a=i[r];a.showCollisionBoxes=t.showCollisionBoxes;var s=function(t,i){var r=a.reloadCallback;r&&(delete a.reloadCallback,a.parse(a.vectorTile,o.layerIndex,n.availableImages,o.actor,r)),e(t,i)};"parsing"===a.status?a.reloadCallback=s:"done"===a.status&&(a.vectorTile?a.parse(a.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}},u.prototype.abortTile=function(t,e){var n=this.loading,i=t.uid;n&&n[i]&&n[i].abort&&(n[i].abort(),delete n[i]),e()},u.prototype.removeTile=function(t,e){var n=this.loaded,i=t.uid;n&&n[i]&&delete n[i],e()};var l=t.window.ImageBitmap,c=function(){this.loaded={}};function h(t,e){if(0!==t.length){p(t[0],e);for(var n=1;n<t.length;n++)p(t[n],!e)}}function p(t,e){for(var n=0,i=0,r=t.length,o=r-1;i<r;o=i++)n+=(t[i][0]-t[o][0])*(t[o][1]+t[i][1]);n>=0!=!!e&&t.reverse()}c.prototype.loadTile=function(e,n){var i=e.uid,r=e.encoding,o=e.rawImageData,a=l&&o instanceof l?this.getImageData(o):o,s=new t.DEMData(i,a,r);this.loaded=this.loaded||{},this.loaded[i]=s,n(null,s)},c.prototype.getImageData=function(e){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);var n=this.offscreenCanvasContext.getImageData(-1,-1,e.width+2,e.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new t.RGBAImage({width:n.width,height:n.height},n.data)},c.prototype.removeTile=function(t){var e=this.loaded,n=t.uid;e&&e[n]&&delete e[n]};var f=t.vectorTile.VectorTileFeature.prototype.toGeoJSON,d=function(e){this._feature=e,this.extent=t.EXTENT,this.type=e.type,this.properties=e.tags,"id"in e&&!isNaN(e.id)&&(this.id=parseInt(e.id,10))};d.prototype.loadGeometry=function(){if(1===this._feature.type){for(var e=[],n=0,i=this._feature.geometry;n<i.length;n+=1){var r=i[n];e.push([new t.Point$1(r[0],r[1])])}return e}for(var o=[],a=0,s=this._feature.geometry;a<s.length;a+=1){for(var u=[],l=0,c=s[a];l<c.length;l+=1){var h=c[l];u.push(new t.Point$1(h[0],h[1]))}o.push(u)}return o},d.prototype.toGeoJSON=function(t,e,n){return f.call(this,t,e,n)};var g=function(e){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=t.EXTENT,this.length=e.length,this._features=e};g.prototype.feature=function(t){return new d(this._features[t])};var m=t.vectorTile.VectorTileFeature,_=y;function y(t,e){this.options=e||{},this.features=t,this.length=t.length}function v(t,e){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}y.prototype.feature=function(t){return new v(this.features[t],this.options.extent)},v.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var n=0;n<e.length;n++){for(var i=e[n],r=[],o=0;o<i.length;o++)r.push(new t.Point$1(i[o][0],i[o][1]));this.geometry.push(r)}return this.geometry},v.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-1/0,i=1/0,r=-1/0,o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var u=a[s];e=Math.min(e,u.x),n=Math.max(n,u.x),i=Math.min(i,u.y),r=Math.max(r,u.y)}return[e,i,n,r]},v.prototype.toGeoJSON=m.prototype.toGeoJSON;var b=x,w=_;function x(e){var n=new t.pbf;return function(t,e){for(var n in t.layers)e.writeMessage(3,k,t.layers[n])}(e,n),n.finish()}function k(t,e){var n;e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var i={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<t.length;n++)i.feature=t.feature(n),e.writeMessage(2,E,i);var r=i.keys;for(n=0;n<r.length;n++)e.writeStringField(3,r[n]);var o=i.values;for(n=0;n<o.length;n++)e.writeMessage(4,P,o[n])}function E(t,e){var n=t.feature;void 0!==n.id&&e.writeVarintField(1,n.id),e.writeMessage(2,S,t),e.writeVarintField(3,n.type),e.writeMessage(4,A,n)}function S(t,e){var n=t.feature,i=t.keys,r=t.values,o=t.keycache,a=t.valuecache;for(var s in n.properties){var u=o[s];void 0===u&&(i.push(s),o[s]=u=i.length-1),e.writeVarint(u);var l=n.properties[s],c=typeof l;"string"!==c&&"boolean"!==c&&"number"!==c&&(l=JSON.stringify(l));var h=c+":"+l,p=a[h];void 0===p&&(r.push(l),a[h]=p=r.length-1),e.writeVarint(p)}}function C(t,e){return(e<<3)+(7&t)}function I(t){return t<<1^t>>31}function A(t,e){for(var n=t.loadGeometry(),i=t.type,r=0,o=0,a=n.length,s=0;s<a;s++){var u=n[s],l=1;1===i&&(l=u.length),e.writeVarint(C(1,l));for(var c=3===i?u.length-1:u.length,h=0;h<c;h++){1===h&&1!==i&&e.writeVarint(C(2,c-1));var p=u[h].x-r,f=u[h].y-o;e.writeVarint(I(p)),e.writeVarint(I(f)),r+=p,o+=f}3===i&&e.writeVarint(C(7,1))}}function P(t,e){var n=typeof t;"string"===n?e.writeStringField(1,t):"boolean"===n?e.writeBooleanField(7,t):"number"===n&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}function T(t,e,n,i){O(t,n,i),O(e,2*n,2*i),O(e,2*n+1,2*i+1)}function O(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function L(t,e,n,i){var r=t-n,o=e-i;return r*r+o*o}b.fromVectorTileJs=x,b.fromGeojsonVt=function(t,e){e=e||{};var n={};for(var i in t)n[i]=new _(t[i].features,e),n[i].name=i,n[i].version=e.version,n[i].extent=e.extent;return x({layers:n})},b.GeoJSONWrapper=w;var M=function(t){return t[0]},N=function(t){return t[1]},R=function(t,e,n,i,r){void 0===e&&(e=M),void 0===n&&(n=N),void 0===i&&(i=64),void 0===r&&(r=Float64Array),this.nodeSize=i,this.points=t;for(var o=t.length<65536?Uint16Array:Uint32Array,a=this.ids=new o(t.length),s=this.coords=new r(2*t.length),u=0;u<t.length;u++)a[u]=u,s[2*u]=e(t[u]),s[2*u+1]=n(t[u]);!function t(e,n,i,r,o,a){if(!(o-r<=i)){var s=r+o>>1;!function t(e,n,i,r,o,a){for(;o>r;){if(o-r>600){var s=o-r+1,u=i-r+1,l=Math.log(s),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1);t(e,n,i,Math.max(r,Math.floor(i-u*c/s+h)),Math.min(o,Math.floor(i+(s-u)*c/s+h)),a)}var p=n[2*i+a],f=r,d=o;for(T(e,n,r,i),n[2*o+a]>p&&T(e,n,r,o);f<d;){for(T(e,n,f,d),f++,d--;n[2*f+a]<p;)f++;for(;n[2*d+a]>p;)d--}n[2*r+a]===p?T(e,n,r,d):T(e,n,++d,o),d<=i&&(r=d+1),i<=d&&(o=d-1)}}(e,n,s,r,o,a%2),t(e,n,i,r,s-1,a+1),t(e,n,i,s+1,o,a+1)}}(a,s,i,0,a.length-1,0)};R.prototype.range=function(t,e,n,i){return function(t,e,n,i,r,o,a){for(var s,u,l=[0,t.length-1,0],c=[];l.length;){var h=l.pop(),p=l.pop(),f=l.pop();if(p-f<=a)for(var d=f;d<=p;d++)u=e[2*d+1],(s=e[2*d])>=n&&s<=r&&u>=i&&u<=o&&c.push(t[d]);else{var g=Math.floor((f+p)/2);u=e[2*g+1],(s=e[2*g])>=n&&s<=r&&u>=i&&u<=o&&c.push(t[g]);var m=(h+1)%2;(0===h?n<=s:i<=u)&&(l.push(f),l.push(g-1),l.push(m)),(0===h?r>=s:o>=u)&&(l.push(g+1),l.push(p),l.push(m))}}return c}(this.ids,this.coords,t,e,n,i,this.nodeSize)},R.prototype.within=function(t,e,n){return function(t,e,n,i,r,o){for(var a=[0,t.length-1,0],s=[],u=r*r;a.length;){var l=a.pop(),c=a.pop(),h=a.pop();if(c-h<=o)for(var p=h;p<=c;p++)L(e[2*p],e[2*p+1],n,i)<=u&&s.push(t[p]);else{var f=Math.floor((h+c)/2),d=e[2*f],g=e[2*f+1];L(d,g,n,i)<=u&&s.push(t[f]);var m=(l+1)%2;(0===l?n-r<=d:i-r<=g)&&(a.push(h),a.push(f-1),a.push(m)),(0===l?n+r>=d:i+r>=g)&&(a.push(f+1),a.push(c),a.push(m))}}return s}(this.ids,this.coords,t,e,n,this.nodeSize)};var D={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(t){return t}},z=function(t){this.options=G(Object.create(D),t),this.trees=new Array(this.options.maxZoom+1)};function F(t,e,n,i,r){return{x:t,y:e,zoom:1/0,id:n,parentId:-1,numPoints:i,properties:r}}function B(t,e){var n=t.geometry.coordinates,i=n[1];return{x:U(n[0]),y:q(i),zoom:1/0,index:e,parentId:-1}}function j(t){return{type:"Feature",id:t.id,properties:V(t),geometry:{type:"Point",coordinates:[(i=t.x,360*(i-.5)),(e=t.y,n=(180-360*e)*Math.PI/180,360*Math.atan(Math.exp(n))/Math.PI-90)]}};var e,n,i}function V(t){var e=t.numPoints,n=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return G(G({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function U(t){return t/360+.5}function q(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function G(t,e){for(var n in e)t[n]=e[n];return t}function H(t){return t.x}function W(t){return t.y}function Y(t,e,n,i,r,o){var a=r-n,s=o-i;if(0!==a||0!==s){var u=((t-n)*a+(e-i)*s)/(a*a+s*s);u>1?(n=r,i=o):u>0&&(n+=a*u,i+=s*u)}return(a=t-n)*a+(s=e-i)*s}function Z(t,e,n,i){var r={id:void 0===t?null:t,type:e,geometry:n,tags:i,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var e=t.geometry,n=t.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)X(t,e);else if("Polygon"===n||"MultiLineString"===n)for(var i=0;i<e.length;i++)X(t,e[i]);else if("MultiPolygon"===n)for(i=0;i<e.length;i++)for(var r=0;r<e[i].length;r++)X(t,e[i][r])}(r),r}function X(t,e){for(var n=0;n<e.length;n+=3)t.minX=Math.min(t.minX,e[n]),t.minY=Math.min(t.minY,e[n+1]),t.maxX=Math.max(t.maxX,e[n]),t.maxY=Math.max(t.maxY,e[n+1])}function K(t,e,n,i){if(e.geometry){var r=e.geometry.coordinates,o=e.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],u=e.id;if(n.promoteId?u=e.properties[n.promoteId]:n.generateId&&(u=i||0),"Point"===o)$(r,s);else if("MultiPoint"===o)for(var l=0;l<r.length;l++)$(r[l],s);else if("LineString"===o)J(r,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(l=0;l<r.length;l++)J(r[l],s=[],a,!1),t.push(Z(u,"LineString",s,e.properties));return}Q(r,s,a,!1)}else if("Polygon"===o)Q(r,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(l=0;l<e.geometry.geometries.length;l++)K(t,{id:u,geometry:e.geometry.geometries[l],properties:e.properties},n,i);return}throw new Error("Input data is not a valid GeoJSON object.")}for(l=0;l<r.length;l++){var c=[];Q(r[l],c,a,!0),s.push(c)}}t.push(Z(u,o,s,e.properties))}}function $(t,e){e.push(tt(t[0])),e.push(et(t[1])),e.push(0)}function J(t,e,n,i){for(var r,o,a=0,s=0;s<t.length;s++){var u=tt(t[s][0]),l=et(t[s][1]);e.push(u),e.push(l),e.push(0),s>0&&(a+=i?(r*l-u*o)/2:Math.sqrt(Math.pow(u-r,2)+Math.pow(l-o,2))),r=u,o=l}var c=e.length-3;e[2]=1,function t(e,n,i,r){for(var o,a=r,s=i-n>>1,u=i-n,l=e[n],c=e[n+1],h=e[i],p=e[i+1],f=n+3;f<i;f+=3){var d=Y(e[f],e[f+1],l,c,h,p);if(d>a)o=f,a=d;else if(d===a){var g=Math.abs(f-s);g<u&&(o=f,u=g)}}a>r&&(o-n>3&&t(e,n,o,r),e[o+2]=a,i-o>3&&t(e,o,i,r))}(e,0,c,n),e[c+2]=1,e.size=Math.abs(a),e.start=0,e.end=e.size}function Q(t,e,n,i){for(var r=0;r<t.length;r++){var o=[];J(t[r],o,n,i),e.push(o)}}function tt(t){return t/360+.5}function et(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function nt(t,e,n,i,r,o,a,s){if(i/=e,o>=(n/=e)&&a<i)return t;if(a<n||o>=i)return null;for(var u=[],l=0;l<t.length;l++){var c=t[l],h=c.geometry,p=c.type,f=0===r?c.minX:c.minY,d=0===r?c.maxX:c.maxY;if(f>=n&&d<i)u.push(c);else if(!(d<n||f>=i)){var g=[];if("Point"===p||"MultiPoint"===p)it(h,g,n,i,r);else if("LineString"===p)rt(h,g,n,i,r,!1,s.lineMetrics);else if("MultiLineString"===p)at(h,g,n,i,r,!1);else if("Polygon"===p)at(h,g,n,i,r,!0);else if("MultiPolygon"===p)for(var m=0;m<h.length;m++){var _=[];at(h[m],_,n,i,r,!0),_.length&&g.push(_)}if(g.length){if(s.lineMetrics&&"LineString"===p){for(m=0;m<g.length;m++)u.push(Z(c.id,p,g[m],c.tags));continue}"LineString"!==p&&"MultiLineString"!==p||(1===g.length?(p="LineString",g=g[0]):p="MultiLineString"),"Point"!==p&&"MultiPoint"!==p||(p=3===g.length?"Point":"MultiPoint"),u.push(Z(c.id,p,g,c.tags))}}}return u.length?u:null}function it(t,e,n,i,r){for(var o=0;o<t.length;o+=3){var a=t[o+r];a>=n&&a<=i&&(e.push(t[o]),e.push(t[o+1]),e.push(t[o+2]))}}function rt(t,e,n,i,r,o,a){for(var s,u,l=ot(t),c=0===r?ut:lt,h=t.start,p=0;p<t.length-3;p+=3){var f=t[p],d=t[p+1],g=t[p+2],m=t[p+3],_=t[p+4],y=0===r?f:d,v=0===r?m:_,b=!1;a&&(s=Math.sqrt(Math.pow(f-m,2)+Math.pow(d-_,2))),y<n?v>n&&(u=c(l,f,d,m,_,n),a&&(l.start=h+s*u)):y>i?v<i&&(u=c(l,f,d,m,_,i),a&&(l.start=h+s*u)):st(l,f,d,g),v<n&&y>=n&&(u=c(l,f,d,m,_,n),b=!0),v>i&&y<=i&&(u=c(l,f,d,m,_,i),b=!0),!o&&b&&(a&&(l.end=h+s*u),e.push(l),l=ot(t)),a&&(h+=s)}var w=t.length-3;f=t[w],d=t[w+1],g=t[w+2],(y=0===r?f:d)>=n&&y<=i&&st(l,f,d,g),w=l.length-3,o&&w>=3&&(l[w]!==l[0]||l[w+1]!==l[1])&&st(l,l[0],l[1],l[2]),l.length&&e.push(l)}function ot(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function at(t,e,n,i,r,o){for(var a=0;a<t.length;a++)rt(t[a],e,n,i,r,o,!1)}function st(t,e,n,i){t.push(e),t.push(n),t.push(i)}function ut(t,e,n,i,r,o){var a=(o-e)/(i-e);return t.push(o),t.push(n+(r-n)*a),t.push(1),a}function lt(t,e,n,i,r,o){var a=(o-n)/(r-n);return t.push(e+(i-e)*a),t.push(o),t.push(1),a}function ct(t,e){for(var n=[],i=0;i<t.length;i++){var r,o=t[i],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)r=ht(o.geometry,e);else if("MultiLineString"===a||"Polygon"===a){r=[];for(var s=0;s<o.geometry.length;s++)r.push(ht(o.geometry[s],e))}else if("MultiPolygon"===a)for(r=[],s=0;s<o.geometry.length;s++){for(var u=[],l=0;l<o.geometry[s].length;l++)u.push(ht(o.geometry[s][l],e));r.push(u)}n.push(Z(o.id,a,r,o.tags))}return n}function ht(t,e){var n=[];n.size=t.size,void 0!==t.start&&(n.start=t.start,n.end=t.end);for(var i=0;i<t.length;i+=3)n.push(t[i]+e,t[i+1],t[i+2]);return n}function pt(t,e){if(t.transformed)return t;var n,i,r,o=1<<t.z,a=t.x,s=t.y;for(n=0;n<t.features.length;n++){var u=t.features[n],l=u.geometry,c=u.type;if(u.geometry=[],1===c)for(i=0;i<l.length;i+=2)u.geometry.push(ft(l[i],l[i+1],e,o,a,s));else for(i=0;i<l.length;i++){var h=[];for(r=0;r<l[i].length;r+=2)h.push(ft(l[i][r],l[i][r+1],e,o,a,s));u.geometry.push(h)}}return t.transformed=!0,t}function ft(t,e,n,i,r,o){return[Math.round(n*(t*i-r)),Math.round(n*(e*i-o))]}function dt(t,e,n,i,r){for(var o=e===r.maxZoom?0:r.tolerance/((1<<e)*r.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:i,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<t.length;s++){a.numFeatures++,gt(a,t[s],o,r);var u=t[s].minX,l=t[s].minY,c=t[s].maxX,h=t[s].maxY;u<a.minX&&(a.minX=u),l<a.minY&&(a.minY=l),c>a.maxX&&(a.maxX=c),h>a.maxY&&(a.maxY=h)}return a}function gt(t,e,n,i){var r=e.geometry,o=e.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<r.length;s+=3)a.push(r[s]),a.push(r[s+1]),t.numPoints++,t.numSimplified++;else if("LineString"===o)mt(a,r,t,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<r.length;s++)mt(a,r[s],t,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var u=0;u<r.length;u++){var l=r[u];for(s=0;s<l.length;s++)mt(a,l[s],t,n,!0,0===s)}if(a.length){var c=e.tags||null;if("LineString"===o&&i.lineMetrics){for(var h in c={},e.tags)c[h]=e.tags[h];c.mapbox_clip_start=r.start/r.size,c.mapbox_clip_end=r.end/r.size}var p={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:c};null!==e.id&&(p.id=e.id),t.features.push(p)}}function mt(t,e,n,i,r,o){var a=i*i;if(i>0&&e.size<(r?a:i))n.numPoints+=e.length/3;else{for(var s=[],u=0;u<e.length;u+=3)(0===i||e[u+2]>a)&&(n.numSimplified++,s.push(e[u]),s.push(e[u+1])),n.numPoints++;r&&function(t,e){for(var n=0,i=0,r=t.length,o=r-2;i<r;o=i,i+=2)n+=(t[i]-t[o])*(t[i+1]+t[o+1]);if(n>0===e)for(i=0,r=t.length;i<r/2;i+=2){var a=t[i],s=t[i+1];t[i]=t[r-2-i],t[i+1]=t[r-1-i],t[r-2-i]=a,t[r-1-i]=s}}(s,o),t.push(s)}}function _t(t,e){var n=(e=this.options=function(t,e){for(var n in e)t[n]=e[n];return t}(Object.create(this.options),e)).debug;if(n&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");var i=function(t,e){var n=[];if("FeatureCollection"===t.type)for(var i=0;i<t.features.length;i++)K(n,t.features[i],e,i);else K(n,"Feature"===t.type?t:{geometry:t},e);return n}(t,e);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(i=function(t,e){var n=e.buffer/e.extent,i=t,r=nt(t,1,-1-n,n,0,-1,2,e),o=nt(t,1,1-n,2+n,0,-1,2,e);return(r||o)&&(i=nt(t,1,-n,1+n,0,-1,2,e)||[],r&&(i=ct(r,1).concat(i)),o&&(i=i.concat(ct(o,-1)))),i}(i,e)).length&&this.splitTile(i,0,0,0),n&&(i.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function yt(t,e,n){return 32*((1<<t)*n+e)+t}function vt(t,e){var n=t.tileID.canonical;if(!this._geoJSONIndex)return e(null,null);var i=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!i)return e(null,null);var r=new g(i.features),o=b(r);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),e(null,{vectorTile:r,rawData:o.buffer})}z.prototype.load=function(t){var e=this.options,n=e.log,i=e.minZoom,r=e.maxZoom,o=e.nodeSize;n&&console.time("total time");var a="prepare "+t.length+" points";n&&console.time(a),this.points=t;for(var s=[],u=0;u<t.length;u++)t[u].geometry&&s.push(B(t[u],u));this.trees[r+1]=new R(s,H,W,o,Float32Array),n&&console.timeEnd(a);for(var l=r;l>=i;l--){var c=+Date.now();s=this._cluster(s,l),this.trees[l]=new R(s,H,W,o,Float32Array),n&&console.log("z%d: %d clusters in %dms",l,s.length,+Date.now()-c)}return n&&console.timeEnd("total time"),this},z.prototype.getClusters=function(t,e){var n=((t[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,t[1])),r=180===t[2]?180:((t[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,r=180;else if(n>r){var a=this.getClusters([n,i,180,o],e),s=this.getClusters([-180,i,r,o],e);return a.concat(s)}for(var u=this.trees[this._limitZoom(e)],l=[],c=0,h=u.range(U(n),q(o),U(r),q(i));c<h.length;c+=1){var p=u.points[h[c]];l.push(p.numPoints?j(p):this.points[p.index])}return l},z.prototype.getChildren=function(t){var e=this._getOriginId(t),n=this._getOriginZoom(t),i="No cluster with the specified id.",r=this.trees[n];if(!r)throw new Error(i);var o=r.points[e];if(!o)throw new Error(i);for(var a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=[],u=0,l=r.within(o.x,o.y,a);u<l.length;u+=1){var c=r.points[l[u]];c.parentId===t&&s.push(c.numPoints?j(c):this.points[c.index])}if(0===s.length)throw new Error(i);return s},z.prototype.getLeaves=function(t,e,n){var i=[];return this._appendLeaves(i,t,e=e||10,n=n||0,0),i},z.prototype.getTile=function(t,e,n){var i=this.trees[this._limitZoom(t)],r=Math.pow(2,t),o=this.options,a=o.radius/o.extent,s=(n-a)/r,u=(n+1+a)/r,l={features:[]};return this._addTileFeatures(i.range((e-a)/r,s,(e+1+a)/r,u),i.points,e,n,r,l),0===e&&this._addTileFeatures(i.range(1-a/r,s,1,u),i.points,r,n,r,l),e===r-1&&this._addTileFeatures(i.range(0,s,a/r,u),i.points,-1,n,r,l),l.features.length?l:null},z.prototype.getClusterExpansionZoom=function(t){for(var e=this._getOriginZoom(t)-1;e<=this.options.maxZoom;){var n=this.getChildren(t);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e},z.prototype._appendLeaves=function(t,e,n,i,r){for(var o=0,a=this.getChildren(e);o<a.length;o+=1){var s=a[o],u=s.properties;if(u&&u.cluster?r+u.point_count<=i?r+=u.point_count:r=this._appendLeaves(t,u.cluster_id,n,i,r):r<i?r++:t.push(s),t.length===n)break}return r},z.prototype._addTileFeatures=function(t,e,n,i,r,o){for(var a=0,s=t;a<s.length;a+=1){var u=e[s[a]],l=u.numPoints,c={type:1,geometry:[[Math.round(this.options.extent*(u.x*r-n)),Math.round(this.options.extent*(u.y*r-i))]],tags:l?V(u):this.points[u.index].properties},h=void 0;l?h=u.id:this.options.generateId?h=u.index:this.points[u.index].id&&(h=this.points[u.index].id),void 0!==h&&(c.id=h),o.features.push(c)}},z.prototype._limitZoom=function(t){return Math.max(this.options.minZoom,Math.min(+t,this.options.maxZoom+1))},z.prototype._cluster=function(t,e){for(var n=[],i=this.options,r=i.reduce,o=i.minPoints,a=i.radius/(i.extent*Math.pow(2,e)),s=0;s<t.length;s++){var u=t[s];if(!(u.zoom<=e)){u.zoom=e;for(var l=this.trees[e+1],c=l.within(u.x,u.y,a),h=u.numPoints||1,p=h,f=0,d=c;f<d.length;f+=1){var g=l.points[d[f]];g.zoom>e&&(p+=g.numPoints||1)}if(p>=o){for(var m=u.x*h,_=u.y*h,y=r&&h>1?this._map(u,!0):null,v=(s<<5)+(e+1)+this.points.length,b=0,w=c;b<w.length;b+=1){var x=l.points[w[b]];if(!(x.zoom<=e)){x.zoom=e;var k=x.numPoints||1;m+=x.x*k,_+=x.y*k,x.parentId=v,r&&(y||(y=this._map(u,!0)),r(y,this._map(x)))}}u.parentId=v,n.push(F(m/p,_/p,v,p,y))}else if(n.push(u),p>1)for(var E=0,S=c;E<S.length;E+=1){var C=l.points[S[E]];C.zoom<=e||(C.zoom=e,n.push(C))}}}return n},z.prototype._getOriginId=function(t){return t-this.points.length>>5},z.prototype._getOriginZoom=function(t){return(t-this.points.length)%32},z.prototype._map=function(t,e){if(t.numPoints)return e?G({},t.properties):t.properties;var n=this.points[t.index].properties,i=this.options.map(n);return e&&i===n?G({},i):i},_t.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},_t.prototype.splitTile=function(t,e,n,i,r,o,a){for(var s=[t,e,n,i],u=this.options,l=u.debug;s.length;){i=s.pop(),n=s.pop(),e=s.pop(),t=s.pop();var c=1<<e,h=yt(e,n,i),p=this.tiles[h];if(!p&&(l>1&&console.time("creation"),p=this.tiles[h]=dt(t,e,n,i,u),this.tileCoords.push({z:e,x:n,y:i}),l)){l>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,i,p.numFeatures,p.numPoints,p.numSimplified),console.timeEnd("creation"));var f="z"+e;this.stats[f]=(this.stats[f]||0)+1,this.total++}if(p.source=t,r){if(e===u.maxZoom||e===r)continue;var d=1<<r-e;if(n!==Math.floor(o/d)||i!==Math.floor(a/d))continue}else if(e===u.indexMaxZoom||p.numPoints<=u.indexMaxPoints)continue;if(p.source=null,0!==t.length){l>1&&console.time("clipping");var g,m,_,y,v,b,w=.5*u.buffer/u.extent,x=.5-w,k=.5+w,E=1+w;g=m=_=y=null,v=nt(t,c,n-w,n+k,0,p.minX,p.maxX,u),b=nt(t,c,n+x,n+E,0,p.minX,p.maxX,u),t=null,v&&(g=nt(v,c,i-w,i+k,1,p.minY,p.maxY,u),m=nt(v,c,i+x,i+E,1,p.minY,p.maxY,u),v=null),b&&(_=nt(b,c,i-w,i+k,1,p.minY,p.maxY,u),y=nt(b,c,i+x,i+E,1,p.minY,p.maxY,u),b=null),l>1&&console.timeEnd("clipping"),s.push(g||[],e+1,2*n,2*i),s.push(m||[],e+1,2*n,2*i+1),s.push(_||[],e+1,2*n+1,2*i),s.push(y||[],e+1,2*n+1,2*i+1)}}},_t.prototype.getTile=function(t,e,n){var i=this.options,r=i.extent,o=i.debug;if(t<0||t>24)return null;var a=1<<t,s=yt(t,e=(e%a+a)%a,n);if(this.tiles[s])return pt(this.tiles[s],r);o>1&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var u,l=t,c=e,h=n;!u&&l>0;)l--,c=Math.floor(c/2),h=Math.floor(h/2),u=this.tiles[yt(l,c,h)];return u&&u.source?(o>1&&console.log("found parent tile z%d-%d-%d",l,c,h),o>1&&console.time("drilling down"),this.splitTile(u.source,l,c,h,t,e,n),o>1&&console.timeEnd("drilling down"),this.tiles[s]?pt(this.tiles[s],r):null):null};var bt=function(e){function n(t,n,i,r){e.call(this,t,n,i,vt),r&&(this.loadGeoJSON=r)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.loadData=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=e,this._pendingLoadDataParams=t,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},n.prototype._loadData=function(){var e=this;if(this._pendingCallback&&this._pendingLoadDataParams){var n=this._pendingCallback,i=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var r=!!(i&&i.request&&i.request.collectResourceTiming)&&new t.RequestPerformance(i.request);this.loadGeoJSON(i,function(o,a){if(o||!a)return n(o);if("object"!=typeof a)return n(new Error("Input data given to '"+i.source+"' is not a valid GeoJSON object."));!function t(e,n){var i,r=e&&e.type;if("FeatureCollection"===r)for(i=0;i<e.features.length;i++)t(e.features[i],n);else if("GeometryCollection"===r)for(i=0;i<e.geometries.length;i++)t(e.geometries[i],n);else if("Feature"===r)t(e.geometry,n);else if("Polygon"===r)h(e.coordinates,n);else if("MultiPolygon"===r)for(i=0;i<e.coordinates.length;i++)h(e.coordinates[i],n);return e}(a,!0);try{if(i.filter){var s=t.createExpression(i.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===s.result)throw new Error(s.value.map(function(t){return t.key+": "+t.message}).join(", "));var u=a.features.filter(function(t){return s.value.evaluate({zoom:0},t)});a={type:"FeatureCollection",features:u}}e._geoJSONIndex=i.cluster?new z(function(e){var n=e.superclusterOptions,i=e.clusterProperties;if(!i||!n)return n;for(var r={},o={},a={accumulated:null,zoom:0},s={properties:null},u=Object.keys(i),l=0,c=u;l<c.length;l+=1){var h=c[l],p=i[h],f=p[0],d=t.createExpression(p[1]),g=t.createExpression("string"==typeof f?[f,["accumulated"],["get",h]]:f);r[h]=d.value,o[h]=g.value}return n.map=function(t){s.properties=t;for(var e={},n=0,i=u;n<i.length;n+=1){var o=i[n];e[o]=r[o].evaluate(a,s)}return e},n.reduce=function(t,e){s.properties=e;for(var n=0,i=u;n<i.length;n+=1){var r=i[n];a.accumulated=t[r],t[r]=o[r].evaluate(a,s)}},n}(i)).load(a.features):function(t,e){return new _t(t,e)}(a,i.geojsonVtOptions)}catch(o){return n(o)}e.loaded={};var l={};if(r){var c=r.finish();c&&(l.resourceTiming={},l.resourceTiming[i.source]=JSON.parse(JSON.stringify(c)))}n(null,l)})}},n.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},n.prototype.reloadTile=function(t,n){var i=this.loaded;return i&&i[t.uid]?e.prototype.reloadTile.call(this,t,n):this.loadTile(t,n)},n.prototype.loadGeoJSON=function(e,n){if(e.request)t.getJSON(e.request,n);else{if("string"!=typeof e.data)return n(new Error("Input data given to '"+e.source+"' is not a valid GeoJSON object."));try{return n(null,JSON.parse(e.data))}catch(t){return n(new Error("Input data given to '"+e.source+"' is not a valid GeoJSON object."))}}},n.prototype.removeSource=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),e()},n.prototype.getClusterExpansionZoom=function(t,e){try{e(null,this._geoJSONIndex.getClusterExpansionZoom(t.clusterId))}catch(t){e(t)}},n.prototype.getClusterChildren=function(t,e){try{e(null,this._geoJSONIndex.getChildren(t.clusterId))}catch(t){e(t)}},n.prototype.getClusterLeaves=function(t,e){try{e(null,this._geoJSONIndex.getLeaves(t.clusterId,t.limit,t.offset))}catch(t){e(t)}},n}(u),wt=function(e){var n=this;this.self=e,this.actor=new t.Actor(e,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:u,geojson:bt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(t,e){if(n.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');n.workerSourceTypes[t]=e},this.self.registerRTLTextPlugin=function(e){if(t.plugin.isParsed())throw new Error("RTL text plugin already registered.");t.plugin.applyArabicShaping=e.applyArabicShaping,t.plugin.processBidirectionalText=e.processBidirectionalText,t.plugin.processStyledBidirectionalText=e.processStyledBidirectionalText}};return wt.prototype.setReferrer=function(t,e){this.referrer=e},wt.prototype.setImages=function(t,e,n){for(var i in this.availableImages[t]=e,this.workerSources[t]){var r=this.workerSources[t][i];for(var o in r)r[o].availableImages=e}n()},wt.prototype.setLayers=function(t,e,n){this.getLayerIndex(t).replace(e),n()},wt.prototype.updateLayers=function(t,e,n){this.getLayerIndex(t).update(e.layers,e.removedIds),n()},wt.prototype.loadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).loadTile(e,n)},wt.prototype.loadDEMTile=function(t,e,n){this.getDEMWorkerSource(t,e.source).loadTile(e,n)},wt.prototype.reloadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).reloadTile(e,n)},wt.prototype.abortTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).abortTile(e,n)},wt.prototype.removeTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).removeTile(e,n)},wt.prototype.removeDEMTile=function(t,e){this.getDEMWorkerSource(t,e.source).removeTile(e)},wt.prototype.removeSource=function(t,e,n){if(this.workerSources[t]&&this.workerSources[t][e.type]&&this.workerSources[t][e.type][e.source]){var i=this.workerSources[t][e.type][e.source];delete this.workerSources[t][e.type][e.source],void 0!==i.removeSource?i.removeSource(e,n):n()}},wt.prototype.loadWorkerSource=function(t,e,n){try{this.self.importScripts(e.url),n()}catch(t){n(t.toString())}},wt.prototype.syncRTLPluginState=function(e,n,i){try{t.plugin.setState(n);var r=t.plugin.getPluginURL();if(t.plugin.isLoaded()&&!t.plugin.isParsed()&&null!=r){this.self.importScripts(r);var o=t.plugin.isParsed();i(o?void 0:new Error("RTL Text Plugin failed to import scripts from "+r),o)}}catch(t){i(t.toString())}},wt.prototype.getAvailableImages=function(t){var e=this.availableImages[t];return e||(e=[]),e},wt.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new i),e},wt.prototype.getWorkerSource=function(t,e,n){var i=this;return this.workerSources[t]||(this.workerSources[t]={}),this.workerSources[t][e]||(this.workerSources[t][e]={}),this.workerSources[t][e][n]||(this.workerSources[t][e][n]=new this.workerSourceTypes[e]({send:function(e,n,r){i.actor.send(e,n,r,t)}},this.getLayerIndex(t),this.getAvailableImages(t))),this.workerSources[t][e][n]},wt.prototype.getDEMWorkerSource=function(t,e){return this.demWorkerSources[t]||(this.demWorkerSources[t]={}),this.demWorkerSources[t][e]||(this.demWorkerSources[t][e]=new c),this.demWorkerSources[t][e]},wt.prototype.enforceCacheSizeLimit=function(e,n){t.enforceCacheSizeLimit(n)},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new wt(self)),wt}),i(0,function(t){var e=t.createCommonjsModule(function(t){function e(t){return!n(t)}function n(t){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var t,e,n=new Blob([""],{type:"text/javascript"}),i=URL.createObjectURL(n);try{e=new Worker(i),t=!0}catch(e){t=!1}return e&&e.terminate(),URL.revokeObjectURL(i),t}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var t=document.createElement("canvas");t.width=t.height=1;var e=t.getContext("2d");if(!e)return!1;var n=e.getImageData(0,0,1,1);return n&&n.width===t.width}()?(void 0===i[n=t&&t.failIfMajorPerformanceCaveat]&&(i[n]=function(t){var n=function(t){var n=document.createElement("canvas"),i=Object.create(e.webGLContextAttributes);return i.failIfMajorPerformanceCaveat=t,n.probablySupportsContext?n.probablySupportsContext("webgl",i)||n.probablySupportsContext("experimental-webgl",i):n.supportsContext?n.supportsContext("webgl",i)||n.supportsContext("experimental-webgl",i):n.getContext("webgl",i)||n.getContext("experimental-webgl",i)}(t);if(!n)return!1;var i=n.createShader(n.VERTEX_SHADER);return!(!i||n.isContextLost())&&(n.shaderSource(i,"void main() {}"),n.compileShader(i),!0===n.getShaderParameter(i,n.COMPILE_STATUS))}(n)),i[n]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var n}t.exports?t.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e,window.mapboxgl.notSupportedReason=n);var i={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),n={create:function(e,n,i){var r=t.window.document.createElement(e);return void 0!==n&&(r.className=n),i&&i.appendChild(r),r},createNS:function(e,n){return t.window.document.createElementNS(e,n)}},i=t.window.document&&t.window.document.documentElement.style;function r(t){if(!i)return t[0];for(var e=0;e<t.length;e++)if(t[e]in i)return t[e];return t[0]}var o,a=r(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){i&&a&&(o=i[a],i[a]="none")},n.enableDrag=function(){i&&a&&(i[a]=o)};var s=r(["transform","WebkitTransform"]);n.setTransform=function(t,e){t.style[s]=e};var u=!1;try{var l=Object.defineProperty({},"passive",{get:function(){u=!0}});t.window.addEventListener("test",l,l),t.window.removeEventListener("test",l,l)}catch(t){u=!1}n.addEventListener=function(t,e,n,i){void 0===i&&(i={}),t.addEventListener(e,n,"passive"in i&&u?i:i.capture)},n.removeEventListener=function(t,e,n,i){void 0===i&&(i={}),t.removeEventListener(e,n,"passive"in i&&u?i:i.capture)};var c=function e(n){n.preventDefault(),n.stopPropagation(),t.window.removeEventListener("click",e,!0)};function h(t){var e=t.userImage;return!!(e&&e.render&&e.render())&&(t.data.replace(new Uint8Array(e.data.buffer)),!0)}n.suppressClick=function(){t.window.addEventListener("click",c,!0),t.window.setTimeout(function(){t.window.removeEventListener("click",c,!0)},0)},n.mousePos=function(e,n){var i=e.getBoundingClientRect();return new t.Point(n.clientX-i.left-e.clientLeft,n.clientY-i.top-e.clientTop)},n.touchPos=function(e,n){for(var i=e.getBoundingClientRect(),r=[],o=0;o<n.length;o++)r.push(new t.Point(n[o].clientX-i.left-e.clientLeft,n[o].clientY-i.top-e.clientTop));return r},n.mouseButton=function(e){return void 0!==t.window.InstallTrigger&&2===e.button&&e.ctrlKey&&t.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},n.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};var p=function(e){function n(){e.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.RGBAImage({width:1,height:1}),this.dirty=!0}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.isLoaded=function(){return this.loaded},n.prototype.setLoaded=function(t){if(this.loaded!==t&&(this.loaded=t,t)){for(var e=0,n=this.requestors;e<n.length;e+=1){var i=n[e];this._notify(i.ids,i.callback)}this.requestors=[]}},n.prototype.getImage=function(t){return this.images[t]},n.prototype.addImage=function(t,e){this._validate(t,e)&&(this.images[t]=e)},n.prototype._validate=function(e,n){var i=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "stretchX" value'))),i=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "stretchY" value'))),i=!1),this._validateContent(n.content,n)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "content" value'))),i=!1),i},n.prototype._validateStretch=function(t,e){if(!t)return!0;for(var n=0,i=0,r=t;i<r.length;i+=1){var o=r[i];if(o[0]<n||o[1]<o[0]||e<o[1])return!1;n=o[1]}return!0},n.prototype._validateContent=function(t,e){return!(t&&(4!==t.length||t[0]<0||e.data.width<t[0]||t[1]<0||e.data.height<t[1]||t[2]<0||e.data.width<t[2]||t[3]<0||e.data.height<t[3]||t[2]<t[0]||t[3]<t[1]))},n.prototype.updateImage=function(t,e){e.version=this.images[t].version+1,this.images[t]=e,this.updatedImages[t]=!0},n.prototype.removeImage=function(t){var e=this.images[t];delete this.images[t],delete this.patterns[t],e.userImage&&e.userImage.onRemove&&e.userImage.onRemove()},n.prototype.listImages=function(){return Object.keys(this.images)},n.prototype.getImages=function(t,e){var n=!0;if(!this.isLoaded())for(var i=0,r=t;i<r.length;i+=1)this.images[r[i]]||(n=!1);this.isLoaded()||n?this._notify(t,e):this.requestors.push({ids:t,callback:e})},n.prototype._notify=function(e,n){for(var i={},r=0,o=e;r<o.length;r+=1){var a=o[r];this.images[a]||this.fire(new t.Event("styleimagemissing",{id:a}));var s=this.images[a];s?i[a]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:t.warnOnce('Image "'+a+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}n(null,i)},n.prototype.getPixelSize=function(){var t=this.atlasImage;return{width:t.width,height:t.height}},n.prototype.getPattern=function(e){var n=this.patterns[e],i=this.getImage(e);if(!i)return null;if(n&&n.position.version===i.version)return n.position;if(n)n.position.version=i.version;else{var r={w:i.data.width+2,h:i.data.height+2,x:0,y:0},o=new t.ImagePosition(r,i);this.patterns[e]={bin:r,position:o}}return this._updatePatternAtlas(),this.patterns[e].position},n.prototype.bind=function(e){var n=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.Texture(e,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)},n.prototype._updatePatternAtlas=function(){var e=[];for(var n in this.patterns)e.push(this.patterns[n].bin);var i=t.potpack(e),r=i.w,o=i.h,a=this.atlasImage;for(var s in a.resize({width:r||1,height:o||1}),this.patterns){var u=this.patterns[s].bin,l=u.x+1,c=u.y+1,h=this.images[s].data,p=h.width,f=h.height;t.RGBAImage.copy(h,a,{x:0,y:0},{x:l,y:c},{width:p,height:f}),t.RGBAImage.copy(h,a,{x:0,y:f-1},{x:l,y:c-1},{width:p,height:1}),t.RGBAImage.copy(h,a,{x:0,y:0},{x:l,y:c+f},{width:p,height:1}),t.RGBAImage.copy(h,a,{x:p-1,y:0},{x:l-1,y:c},{width:1,height:f}),t.RGBAImage.copy(h,a,{x:0,y:0},{x:l+p,y:c},{width:1,height:f})}this.dirty=!0},n.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},n.prototype.dispatchRenderCallbacks=function(t){for(var e=0,n=t;e<n.length;e+=1){var i=n[e];if(!this.callbackDispatchedThisFrame[i]){this.callbackDispatchedThisFrame[i]=!0;var r=this.images[i];h(r)&&this.updateImage(i,r)}}},n}(t.Evented),f=m,d=m,g=1e20;function m(t,e,n,i,r,o){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=i||.25,this.fontFamily=r||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function _(t,e,n,i,r,o,a){for(var s=0;s<e;s++){for(var u=0;u<n;u++)i[u]=t[u*e+s];for(y(i,r,o,a,n),u=0;u<n;u++)t[u*e+s]=r[u]}for(u=0;u<n;u++){for(s=0;s<e;s++)i[s]=t[u*e+s];for(y(i,r,o,a,e),s=0;s<e;s++)t[u*e+s]=Math.sqrt(r[s])}}function y(t,e,n,i,r){n[0]=0,i[0]=-g,i[1]=+g;for(var o=1,a=0;o<r;o++){for(var s=(t[o]+o*o-(t[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);s<=i[a];)a--,s=(t[o]+o*o-(t[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);n[++a]=o,i[a]=s,i[a+1]=+g}for(o=0,a=0;o<r;o++){for(;i[a+1]<o;)a++;e[o]=(o-n[a])*(o-n[a])+t[n[a]]}}m.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),i=0;i<this.size*this.size;i++){var r=e.data[4*i+3]/255;this.gridOuter[i]=1===r?0:0===r?g:Math.pow(Math.max(0,.5-r),2),this.gridInner[i]=1===r?g:0===r?0:Math.pow(Math.max(0,r-.5),2)}for(_(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),_(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),i=0;i<this.size*this.size;i++)n[i]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[i]-this.gridInner[i])/this.radius+this.cutoff))));return n},f.default=d;var v=function(t,e){this.requestManager=t,this.localIdeographFontFamily=e,this.entries={}};v.prototype.setURL=function(t){this.url=t},v.prototype.getGlyphs=function(e,n){var i=this,r=[];for(var o in e)for(var a=0,s=e[o];a<s.length;a+=1)r.push({stack:o,id:s[a]});t.asyncAll(r,function(t,e){var n=t.stack,r=t.id,o=i.entries[n];o||(o=i.entries[n]={glyphs:{},requests:{},ranges:{}});var a=o.glyphs[r];if(void 0===a){if(a=i._tinySDF(o,n,r))return o.glyphs[r]=a,void e(null,{stack:n,id:r,glyph:a});var s=Math.floor(r/256);if(256*s>65535)e(new Error("glyphs > 65535 not supported"));else if(o.ranges[s])e(null,{stack:n,id:r,glyph:a});else{var u=o.requests[s];u||(u=o.requests[s]=[],v.loadGlyphRange(n,s,i.url,i.requestManager,function(t,e){if(e){for(var n in e)i._doesCharSupportLocalGlyph(+n)||(o.glyphs[+n]=e[+n]);o.ranges[s]=!0}for(var r=0,a=u;r<a.length;r+=1)(0,a[r])(t,e);delete o.requests[s]})),u.push(function(t,i){t?e(t):i&&e(null,{stack:n,id:r,glyph:i[r]||null})})}}else e(null,{stack:n,id:r,glyph:a})},function(t,e){if(t)n(t);else if(e){for(var i={},r=0,o=e;r<o.length;r+=1){var a=o[r],s=a.stack,u=a.id,l=a.glyph;(i[s]||(i[s]={}))[u]=l&&{id:l.id,bitmap:l.bitmap.clone(),metrics:l.metrics}}n(null,i)}})},v.prototype._doesCharSupportLocalGlyph=function(e){return!!this.localIdeographFontFamily&&(t.isChar["CJK Unified Ideographs"](e)||t.isChar["Hangul Syllables"](e)||t.isChar.Hiragana(e)||t.isChar.Katakana(e))},v.prototype._tinySDF=function(e,n,i){var r=this.localIdeographFontFamily;if(r&&this._doesCharSupportLocalGlyph(i)){var o=e.tinySDF;if(!o){var a="400";/bold/i.test(n)?a="900":/medium/i.test(n)?a="500":/light/i.test(n)&&(a="200"),o=e.tinySDF=new v.TinySDF(24,3,8,.25,r,a)}return{id:i,bitmap:new t.AlphaImage({width:30,height:30},o.draw(String.fromCharCode(i))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},v.loadGlyphRange=function(e,n,i,r,o){var a=256*n,s=a+255,u=r.transformRequest(r.normalizeGlyphsURL(i).replace("{fontstack}",e).replace("{range}",a+"-"+s),t.ResourceType.Glyphs);t.getArrayBuffer(u,function(e,n){if(e)o(e);else if(n){for(var i={},r=0,a=t.parseGlyphPBF(n);r<a.length;r+=1){var s=a[r];i[s.id]=s}o(null,i)}})},v.TinySDF=f;var b=function(){this.specification=t.styleSpec.light.position};b.prototype.possiblyEvaluate=function(e,n){return t.sphericalToCartesian(e.expression.evaluate(n))},b.prototype.interpolate=function(e,n,i){return{x:t.number(e.x,n.x,i),y:t.number(e.y,n.y,i),z:t.number(e.z,n.z,i)}};var w=new t.Properties({anchor:new t.DataConstantProperty(t.styleSpec.light.anchor),position:new b,color:new t.DataConstantProperty(t.styleSpec.light.color),intensity:new t.DataConstantProperty(t.styleSpec.light.intensity)}),x=function(e){function n(n){e.call(this),this._transitionable=new t.Transitionable(w),this.setLight(n),this._transitioning=this._transitionable.untransitioned()}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getLight=function(){return this._transitionable.serialize()},n.prototype.setLight=function(e,n){if(void 0===n&&(n={}),!this._validate(t.validateLight,e,n))for(var i in e){var r=e[i];t.endsWith(i,"-transition")?this._transitionable.setTransition(i.slice(0,-"-transition".length),r):this._transitionable.setValue(i,r)}},n.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},n.prototype.hasTransition=function(){return this._transitioning.hasTransition()},n.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},n.prototype._validate=function(e,n,i){return(!i||!1!==i.validate)&&t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:t.styleSpec})))},n}(t.Evented),k=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};k.prototype.getDash=function(t,e){var n=t.join(",")+String(e);return this.dashEntry[n]||(this.dashEntry[n]=this.addDash(t,e)),this.dashEntry[n]},k.prototype.getDashRanges=function(t,e,n){var i=[],r=t.length%2==1?-t[t.length-1]*n:0,o=t[0]*n,a=!0;i.push({left:r,right:o,isDash:a,zeroLength:0===t[0]});for(var s=t[0],u=1;u<t.length;u++){var l=t[u];i.push({left:r=s*n,right:o=(s+=l)*n,isDash:a=!a,zeroLength:0===l})}return i},k.prototype.addRoundDash=function(t,e,n){for(var i=e/2,r=-n;r<=n;r++)for(var o=this.width*(this.nextRow+n+r),a=0,s=t[a],u=0;u<this.width;u++){u/s.right>1&&(s=t[++a]);var l=Math.abs(u-s.left),c=Math.abs(u-s.right),h=Math.min(l,c),p=void 0,f=r/n*(i+1);if(s.isDash){var d=i-Math.abs(f);p=Math.sqrt(h*h+d*d)}else p=i-Math.sqrt(h*h+f*f);this.data[o+u]=Math.max(0,Math.min(255,p+128))}},k.prototype.addRegularDash=function(t){for(var e=t.length-1;e>=0;--e){var n=t[e],i=t[e+1];n.zeroLength?t.splice(e,1):i&&i.isDash===n.isDash&&(i.left=n.left,t.splice(e,1))}var r=t[0],o=t[t.length-1];r.isDash===o.isDash&&(r.left=o.left-this.width,o.right=r.right+this.width);for(var a=this.width*this.nextRow,s=0,u=t[s],l=0;l<this.width;l++){l/u.right>1&&(u=t[++s]);var c=Math.abs(l-u.left),h=Math.abs(l-u.right),p=Math.min(c,h);this.data[a+l]=Math.max(0,Math.min(255,(u.isDash?p:-p)+128))}},k.prototype.addDash=function(e,n){var i=n?7:0,r=2*i+1;if(this.nextRow+r>this.height)return t.warnOnce("LineAtlas out of space"),null;for(var o=0,a=0;a<e.length;a++)o+=e[a];if(0!==o){var s=this.width/o,u=this.getDashRanges(e,this.width,s);n?this.addRoundDash(u,s,i):this.addRegularDash(u)}var l={y:(this.nextRow+i+.5)/this.height,height:2*i/this.height,width:o};return this.nextRow+=r,this.dirty=!0,l},k.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.ALPHA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,this.width,this.height,0,e.ALPHA,e.UNSIGNED_BYTE,this.data))};var E=function e(n,i){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=t.uniqueId();for(var r=this.workerPool.acquire(this.id),o=0;o<r.length;o++){var a=new e.Actor(r[o],i,this.id);a.name="Worker "+o,this.actors.push(a)}};function S(e,n,i){var r=function(r,o){if(r)return i(r);if(o){var a=t.pick(t.extend(o,e),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);o.vector_layers&&(a.vectorLayers=o.vector_layers,a.vectorLayerIds=a.vectorLayers.map(function(t){return t.id})),a.tiles=n.canonicalizeTileset(a,e.url),i(null,a)}};return e.url?t.getJSON(n.transformRequest(n.normalizeSourceURL(e.url),t.ResourceType.Source),r):t.browser.frame(function(){return r(null,e)})}E.prototype.broadcast=function(e,n,i){t.asyncAll(this.actors,function(t,i){t.send(e,n,i)},i=i||function(){})},E.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},E.prototype.remove=function(){this.actors.forEach(function(t){t.remove()}),this.actors=[],this.workerPool.release(this.id)},E.Actor=t.Actor;var C=function(e,n,i){this.bounds=t.LngLatBounds.convert(this.validateBounds(e)),this.minzoom=n||0,this.maxzoom=i||24};C.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},C.prototype.contains=function(e){var n=Math.pow(2,e.z),i=Math.floor(t.mercatorXfromLng(this.bounds.getWest())*n),r=Math.floor(t.mercatorYfromLat(this.bounds.getNorth())*n),o=Math.ceil(t.mercatorXfromLng(this.bounds.getEast())*n),a=Math.ceil(t.mercatorYfromLat(this.bounds.getSouth())*n);return e.x>=i&&e.x<o&&e.y>=r&&e.y<a};var I=function(e){function n(n,i,r,o){if(e.call(this),this.id=n,this.dispatcher=r,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,t.extend(this,t.pick(i,["url","scheme","tileSize","promoteId"])),this._options=t.extend({type:"vector"},i),this._collectResourceTiming=i.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=S(this._options,this.map._requestManager,function(n,i){e._tileJSONRequest=null,e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):i&&(t.extend(e,i),i.bounds&&(e.tileBounds=new C(i.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(i.tiles,e.map._requestManager._customAccessToken),t.postMapLoadEvent(i.tiles,e.map._getMapId(),e.map._requestManager._skuToken,e.map._requestManager._customAccessToken),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))})},n.prototype.loaded=function(){return this._loaded},n.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setSourceProperty=function(t){this._tileJSONRequest&&this._tileJSONRequest.cancel(),t(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},n.prototype.setTiles=function(t){var e=this;return this.setSourceProperty(function(){e._options.tiles=t}),this},n.prototype.setUrl=function(t){var e=this;return this.setSourceProperty(function(){e.url=t,e._options.url=t}),this},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return t.extend({},this._options)},n.prototype.loadTile=function(e,n){var i=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme)),r={request:this.map._requestManager.transformRequest(i,t.ResourceType.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function o(i,r){return delete e.request,e.aborted?n(null):i&&404!==i.status?n(i):(r&&r.resourceTiming&&(e.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&r&&e.setExpiryData(r),e.loadVectorData(r,this.map.painter),t.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}r.request.collectResourceTiming=this._collectResourceTiming,e.actor&&"expired"!==e.state?"loading"===e.state?e.reloadCallback=n:e.request=e.actor.send("reloadTile",r,o.bind(this)):(e.actor=this.dispatcher.getActor(),e.request=e.actor.send("loadTile",r,o.bind(this)))},n.prototype.abortTile=function(t){t.request&&(t.request.cancel(),delete t.request),t.actor&&t.actor.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0)},n.prototype.unloadTile=function(t){t.unloadVectorData(),t.actor&&t.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0)},n.prototype.hasTransition=function(){return!1},n}(t.Evented),A=function(e){function n(n,i,r,o){e.call(this),this.id=n,this.dispatcher=r,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({type:"raster"},i),t.extend(this,t.pick(i,["url","scheme","tileSize"]))}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=S(this._options,this.map._requestManager,function(n,i){e._tileJSONRequest=null,e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):i&&(t.extend(e,i),i.bounds&&(e.tileBounds=new C(i.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(i.tiles),t.postMapLoadEvent(i.tiles,e.map._getMapId(),e.map._requestManager._skuToken),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))})},n.prototype.loaded=function(){return this._loaded},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return t.extend({},this._options)},n.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},n.prototype.loadTile=function(e,n){var i=this,r=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);e.request=t.getImage(this.map._requestManager.transformRequest(r,t.ResourceType.Tile),function(r,o){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(r)e.state="errored",n(r);else if(o){i.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=i.map.painter.context,s=a.gl;e.texture=i.map.painter.getTileTexture(o.width),e.texture?e.texture.update(o,{useMipmap:!0}):(e.texture=new t.Texture(a,o,s.RGBA,{useMipmap:!0}),e.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),e.state="loaded",t.cacheEntryPossiblyAdded(i.dispatcher),n(null)}})},n.prototype.abortTile=function(t,e){t.request&&(t.request.cancel(),delete t.request),e()},n.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()},n.prototype.hasTransition=function(){return!1},n}(t.Evented),P=function(e){function n(n,i,r,o){e.call(this,n,i,r,o),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({type:"raster-dem"},i),this.encoding=i.encoding||"mapbox"}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},n.prototype.loadTile=function(e,n){var i=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function r(t,i){t&&(e.state="errored",n(t)),i&&(e.dem=i,e.needsHillshadePrepare=!0,e.state="loaded",n(null))}e.request=t.getImage(this.map._requestManager.transformRequest(i,t.ResourceType.Tile),(function(i,o){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(i)e.state="errored",n(i);else if(o){this.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=t.window.ImageBitmap&&o instanceof t.window.ImageBitmap&&t.offscreenCanvasSupported()?o:t.browser.getImageData(o,1),s={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:a,encoding:this.encoding};e.actor&&"expired"!==e.state||(e.actor=this.dispatcher.getActor(),e.actor.send("loadDEMTile",s,r.bind(this)))}}).bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID)},n.prototype._getNeighboringTiles=function(e){var n=e.canonical,i=Math.pow(2,n.z),r=(n.x-1+i)%i,o=0===n.x?e.wrap-1:e.wrap,a=(n.x+1+i)%i,s=n.x+1===i?e.wrap+1:e.wrap,u={};return u[new t.OverscaledTileID(e.overscaledZ,o,n.z,r,n.y).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(u[new t.OverscaledTileID(e.overscaledZ,o,n.z,r,n.y-1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<i&&(u[new t.OverscaledTileID(e.overscaledZ,o,n.z,r,n.y+1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y+1).key]={backfilled:!1}),u},n.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",t.actor&&t.actor.send("removeDEMTile",{uid:t.uid,source:this.id})},n}(A),T=function(e){function n(n,i,r,o){e.call(this),this.id=n,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=r.getActor(),this.setEventedParent(o),this._data=i.data,this._options=t.extend({},i),this._collectResourceTiming=i.collectResourceTiming,this._resourceTiming=[],void 0!==i.maxzoom&&(this.maxzoom=i.maxzoom),i.type&&(this.type=i.type),i.attribution&&(this.attribution=i.attribution),this.promoteId=i.promoteId;var a=t.EXTENT/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:i.cluster||!1,geojsonVtOptions:{buffer:(void 0!==i.buffer?i.buffer:128)*a,tolerance:(void 0!==i.tolerance?i.tolerance:.375)*a,extent:t.EXTENT,maxZoom:this.maxzoom,lineMetrics:i.lineMetrics||!1,generateId:i.generateId||!1},superclusterOptions:{maxZoom:void 0!==i.clusterMaxZoom?Math.min(i.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,i.clusterMinPoints||2),extent:t.EXTENT,radius:(i.clusterRadius||50)*a,log:!1,generateId:i.generateId||!1},clusterProperties:i.clusterProperties,filter:i.filter},i.workerOptions)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(n){if(n)e.fire(new t.ErrorEvent(n));else{var i={dataType:"source",sourceDataType:"metadata"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(i.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire(new t.Event("data",i))}})},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setData=function(e){var n=this;return this._data=e,this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(e){if(e)n.fire(new t.ErrorEvent(e));else{var i={dataType:"source",sourceDataType:"content"};n._collectResourceTiming&&n._resourceTiming&&n._resourceTiming.length>0&&(i.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new t.Event("data",i))}}),this},n.prototype.getClusterExpansionZoom=function(t,e){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:t,source:this.id},e),this},n.prototype.getClusterChildren=function(t,e){return this.actor.send("geojson.getClusterChildren",{clusterId:t,source:this.id},e),this},n.prototype.getClusterLeaves=function(t,e,n,i){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:t,limit:e,offset:n},i),this},n.prototype._updateWorkerData=function(e){var n=this;this._loaded=!1;var i=t.extend({},this.workerOptions),r=this._data;"string"==typeof r?(i.request=this.map._requestManager.transformRequest(t.browser.resolveURL(r),t.ResourceType.Source),i.request.collectResourceTiming=this._collectResourceTiming):i.data=JSON.stringify(r),this.actor.send(this.type+".loadData",i,function(t,r){n._removed||r&&r.abandoned||(n._loaded=!0,r&&r.resourceTiming&&r.resourceTiming[n.id]&&(n._resourceTiming=r.resourceTiming[n.id].slice(0)),n.actor.send(n.type+".coalesce",{source:i.source},null),e(t))})},n.prototype.loaded=function(){return this._loaded},n.prototype.loadTile=function(e,n){var i=this,r=e.actor?"reloadTile":"loadTile";e.actor=this.actor,e.request=this.actor.send(r,{type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(t,o){return delete e.request,e.unloadVectorData(),e.aborted?n(null):t?n(t):(e.loadVectorData(o,i.map.painter,"reloadTile"===r),n(null))})},n.prototype.abortTile=function(t){t.request&&(t.request.cancel(),delete t.request),t.aborted=!0},n.prototype.unloadTile=function(t){t.unloadVectorData(),this.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id})},n.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},n.prototype.serialize=function(){return t.extend({},this._options,{type:this.type,data:this._data})},n.prototype.hasTransition=function(){return!1},n}(t.Evented),O=t.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),L=function(e){function n(t,n,i,r){e.call(this),this.id=t,this.dispatcher=i,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(r),this.options=n}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(e,n){var i=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._requestManager.transformRequest(this.url,t.ResourceType.Image),function(r,o){i._loaded=!0,r?i.fire(new t.ErrorEvent(r)):o&&(i.image=o,e&&(i.coordinates=e),n&&n(),i._finishLoading())})},n.prototype.loaded=function(){return this._loaded},n.prototype.updateImage=function(t){var e=this;return this.image&&t.url?(this.options.url=t.url,this.load(t.coordinates,function(){e.texture=null}),this):this},n.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setCoordinates=function(e){var n=this;this.coordinates=e;var i=e.map(t.MercatorCoordinate.fromLngLat);this.tileID=function(e){for(var n=1/0,i=1/0,r=-1/0,o=-1/0,a=0,s=e;a<s.length;a+=1){var u=s[a];n=Math.min(n,u.x),i=Math.min(i,u.y),r=Math.max(r,u.x),o=Math.max(o,u.y)}var l=Math.max(r-n,o-i),c=Math.max(0,Math.floor(-Math.log(l)/Math.LN2)),h=Math.pow(2,c);return new t.CanonicalTileID(c,Math.floor((n+r)/2*h),Math.floor((i+o)/2*h))}(i),this.minzoom=this.maxzoom=this.tileID.z;var r=i.map(function(t){return n.tileID.getTilePoint(t)._round()});return this._boundsArray=new t.StructArrayLayout4i8,this._boundsArray.emplaceBack(r[0].x,r[0].y,0,0),this._boundsArray.emplaceBack(r[1].x,r[1].y,t.EXTENT,0),this._boundsArray.emplaceBack(r[3].x,r[3].y,0,t.EXTENT),this._boundsArray.emplaceBack(r[2].x,r[2].y,t.EXTENT,t.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this},n.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var e=this.map.painter.context,n=e.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,O.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new t.Texture(e,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var r=this.tiles[i];"loaded"!==r.state&&(r.state="loaded",r.texture=this.texture)}}},n.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))},n.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return!1},n}(t.Evented),M=function(e){function n(t,n,i,r){e.call(this,t,n,i,r),this.roundZoom=!0,this.type="video",this.options=n}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this._loaded=!1;var n=this.options;this.urls=[];for(var i=0,r=n.urls;i<r.length;i+=1)this.urls.push(this.map._requestManager.transformRequest(r[i],t.ResourceType.Source).url);t.getVideo(this.urls,function(n,i){e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):i&&(e.video=i,e.video.loop=!0,e.video.addEventListener("playing",function(){e.map.triggerRepaint()}),e.map&&e.video.play(),e._finishLoading())})},n.prototype.pause=function(){this.video&&this.video.pause()},n.prototype.play=function(){this.video&&this.video.play()},n.prototype.seek=function(e){if(this.video){var n=this.video.seekable;e<n.start(0)||e>n.end(0)?this.fire(new t.ErrorEvent(new t.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+n.start(0)+" and "+n.end(0)+"-second mark."))):this.video.currentTime=e}},n.prototype.getVideo=function(){return this.video},n.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},n.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var e=this.map.painter.context,n=e.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,O.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new t.Texture(e,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var r=this.tiles[i];"loaded"!==r.state&&(r.state="loaded",r.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this.video&&!this.video.paused},n}(L),N=function(e){function n(n,i,r,o){e.call(this,n,i,r,o),i.coordinates?Array.isArray(i.coordinates)&&4===i.coordinates.length&&!i.coordinates.some(function(t){return!Array.isArray(t)||2!==t.length||t.some(function(t){return"number"!=typeof t})})||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'missing required property "coordinates"'))),i.animate&&"boolean"!=typeof i.animate&&this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'optional "animate" property must be a boolean value'))),i.canvas?"string"==typeof i.canvas||i.canvas instanceof t.window.HTMLCanvasElement||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'missing required property "canvas"'))),this.options=i,this.animate=void 0===i.animate||i.animate}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof t.window.HTMLCanvasElement?this.options.canvas:t.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},n.prototype.getCanvas=function(){return this.canvas},n.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},n.prototype.onRemove=function(){this.pause()},n.prototype.prepare=function(){var e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context,i=n.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,O.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new t.Texture(n,this.canvas,i.RGBA,{premultiply:!0}),this.tiles){var o=this.tiles[r];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this._playing},n.prototype._hasInvalidDimensions=function(){for(var t=0,e=[this.canvas.width,this.canvas.height];t<e.length;t+=1){var n=e[t];if(isNaN(n)||n<=0)return!0}return!1},n}(L),R={vector:I,raster:A,"raster-dem":P,geojson:T,video:M,image:L,canvas:N};function D(e,n){var i=t.identity([]);return t.translate(i,i,[1,1,0]),t.scale(i,i,[.5*e.width,.5*e.height,1]),t.multiply(i,i,e.calculatePosMatrix(n.toUnwrapped()))}function z(t,e,n,i,r,o){var a=function(t,e,n){if(t)for(var i=0,r=t;i<r.length;i+=1){var o=e[r[i]];if(o&&o.source===n&&"fill-extrusion"===o.type)return!0}else for(var a in e){var s=e[a];if(s.source===n&&"fill-extrusion"===s.type)return!0}return!1}(r&&r.layers,e,t.id),s=o.maxPitchScaleFactor(),u=t.tilesIn(i,s,a);u.sort(F);for(var l=[],c=0,h=u;c<h.length;c+=1){var p=h[c];l.push({wrappedTileID:p.tileID.wrapped().key,queryResults:p.tile.queryRenderedFeatures(e,n,t._state,p.queryGeometry,p.cameraQueryGeometry,p.scale,r,o,s,D(t.transform,p.tileID))})}var f=function(t){for(var e={},n={},i=0,r=t;i<r.length;i+=1){var o=r[i],a=o.queryResults,s=o.wrappedTileID,u=n[s]=n[s]||{};for(var l in a)for(var c=a[l],h=u[l]=u[l]||{},p=e[l]=e[l]||[],f=0,d=c;f<d.length;f+=1){var g=d[f];h[g.featureIndex]||(h[g.featureIndex]=!0,p.push(g))}}return e}(l);for(var d in f)f[d].forEach(function(e){var n=e.feature,i=t.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=i});return f}function F(t,e){var n=t.tileID,i=e.tileID;return n.overscaledZ-i.overscaledZ||n.canonical.y-i.canonical.y||n.wrap-i.wrap||n.canonical.x-i.canonical.x}var B=function(t,e){this.max=t,this.onRemove=e,this.reset()};B.prototype.reset=function(){for(var t in this.data)for(var e=0,n=this.data[t];e<n.length;e+=1){var i=n[e];i.timeout&&clearTimeout(i.timeout),this.onRemove(i.value)}return this.data={},this.order=[],this},B.prototype.add=function(t,e,n){var i=this,r=t.wrapped().key;void 0===this.data[r]&&(this.data[r]=[]);var o={value:e,timeout:void 0};if(void 0!==n&&(o.timeout=setTimeout(function(){i.remove(t,o)},n)),this.data[r].push(o),this.order.push(r),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},B.prototype.has=function(t){return t.wrapped().key in this.data},B.prototype.getAndRemove=function(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null},B.prototype._getAndRemoveByKey=function(t){var e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value},B.prototype.getByKey=function(t){var e=this.data[t];return e?e[0].value:null},B.prototype.get=function(t){return this.has(t)?this.data[t.wrapped().key][0].value:null},B.prototype.remove=function(t,e){if(!this.has(t))return this;var n=t.wrapped().key,i=void 0===e?0:this.data[n].indexOf(e),r=this.data[n][i];return this.data[n].splice(i,1),r.timeout&&clearTimeout(r.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(r.value),this.order.splice(this.order.indexOf(n),1),this},B.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this},B.prototype.filter=function(t){var e=[];for(var n in this.data)for(var i=0,r=this.data[n];i<r.length;i+=1){var o=r[i];t(o.value)||e.push(o)}for(var a=0,s=e;a<s.length;a+=1){var u=s[a];this.remove(u.value.tileID,u)}};var j=function(t,e,n){this.context=t;var i=t.gl;this.buffer=i.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),i.bufferData(i.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};j.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},j.prototype.updateData=function(t){var e=this.context.gl;this.context.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)},j.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var V={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},U=function(t,e,n,i){this.length=e.length,this.attributes=n,this.itemSize=e.bytesPerElement,this.dynamicDraw=i,this.context=t;var r=t.gl;this.buffer=r.createBuffer(),t.bindVertexBuffer.set(this.buffer),r.bufferData(r.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};U.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},U.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)},U.prototype.enableAttributes=function(t,e){for(var n=0;n<this.attributes.length;n++){var i=e.attributes[this.attributes[n].name];void 0!==i&&t.enableVertexAttribArray(i)}},U.prototype.setVertexAttribPointers=function(t,e,n){for(var i=0;i<this.attributes.length;i++){var r=this.attributes[i],o=e.attributes[r.name];void 0!==o&&t.vertexAttribPointer(o,r.components,t[V[r.type]],!1,this.itemSize,r.offset+this.itemSize*(n||0))}},U.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var q=function(t){this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};q.prototype.get=function(){return this.current},q.prototype.set=function(t){},q.prototype.getDefault=function(){return this.default},q.prototype.setDefault=function(){this.set(this.default)};var G=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getDefault=function(){return t.Color.transparent},n.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},n}(q),H=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 1},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearDepth(t),this.current=t,this.dirty=!1)},e}(q),W=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearStencil(t),this.current=t,this.dirty=!1)},e}(q),Y=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return[!0,!0,!0,!0]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(q),Z=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthMask(t),this.current=t,this.dirty=!1)},e}(q),X=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 255},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.stencilMask(t),this.current=t,this.dirty=!1)},e}(q),K=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},e.prototype.set=function(t){var e=this.current;(t.func!==e.func||t.ref!==e.ref||t.mask!==e.mask||this.dirty)&&(this.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t,this.dirty=!1)},e}(q),$=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.KEEP,t.KEEP,t.KEEP]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||this.dirty)&&(this.gl.stencilOp(t[0],t[1],t[2]),this.current=t,this.dirty=!1)},e}(q),J=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t,this.dirty=!1}},e}(q),Q=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return[0,1]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.depthRange(t[0],t[1]),this.current=t,this.dirty=!1)},e}(q),tt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t,this.dirty=!1}},e}(q),et=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.LESS},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthFunc(t),this.current=t,this.dirty=!1)},e}(q),nt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t,this.dirty=!1}},e}(q),it=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.ONE,t.ZERO]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.blendFunc(t[0],t[1]),this.current=t,this.dirty=!1)},e}(q),rt=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getDefault=function(){return t.Color.transparent},n.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},n}(q),ot=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.FUNC_ADD},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.blendEquation(t),this.current=t,this.dirty=!1)},e}(q),at=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),this.current=t,this.dirty=!1}},e}(q),st=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.BACK},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.cullFace(t),this.current=t,this.dirty=!1)},e}(q),ut=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.CCW},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.frontFace(t),this.current=t,this.dirty=!1)},e}(q),lt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.useProgram(t),this.current=t,this.dirty=!1)},e}(q),ct=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.TEXTURE0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.activeTexture(t),this.current=t,this.dirty=!1)},e}(q),ht=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[0,0,t.drawingBufferWidth,t.drawingBufferHeight]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(q),pt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t,this.dirty=!1}},e}(q),ft=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(q),dt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t,this.dirty=!1}},e}(q),gt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t,this.dirty=!1}},e}(q),mt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){var e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t,this.dirty=!1},e}(q),_t=function(t){function e(e){t.call(this,e),this.vao=e.extVertexArrayObject}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){this.vao&&(t!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(t),this.current=t,this.dirty=!1)},e}(q),yt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 4},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t,this.dirty=!1}},e}(q),vt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t,this.dirty=!1}},e}(q),bt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t),this.current=t,this.dirty=!1}},e}(q),wt=function(t){function e(e,n){t.call(this,e),this.context=e,this.parent=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e}(q),xt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.setDirty=function(){this.dirty=!0},e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},e}(wt),kt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(wt),Et=function(t,e,n,i){this.context=t,this.width=e,this.height=n;var r=this.framebuffer=t.gl.createFramebuffer();this.colorAttachment=new xt(t,r),i&&(this.depthAttachment=new kt(t,r))};Et.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();if(e&&t.deleteTexture(e),this.depthAttachment){var n=this.depthAttachment.get();n&&t.deleteRenderbuffer(n)}t.deleteFramebuffer(this.framebuffer)};var St=function(t,e,n){this.func=t,this.mask=e,this.range=n};St.ReadOnly=!1,St.ReadWrite=!0,St.disabled=new St(519,St.ReadOnly,[0,1]);var Ct=function(t,e,n,i,r,o){this.test=t,this.ref=e,this.mask=n,this.fail=i,this.depthFail=r,this.pass=o};Ct.disabled=new Ct({func:519,mask:0},0,0,7680,7680,7680);var It=function(t,e,n){this.blendFunction=t,this.blendColor=e,this.mask=n};It.disabled=new It(It.Replace=[1,0],t.Color.transparent,[!1,!1,!1,!1]),It.unblended=new It(It.Replace,t.Color.transparent,[!0,!0,!0,!0]),It.alphaBlended=new It([1,771],t.Color.transparent,[!0,!0,!0,!0]);var At=function(t,e,n){this.enable=t,this.mode=e,this.frontFace=n};At.disabled=new At(!1,1029,2305),At.backCCW=new At(!0,1029,2305);var Pt=function(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new G(this),this.clearDepth=new H(this),this.clearStencil=new W(this),this.colorMask=new Y(this),this.depthMask=new Z(this),this.stencilMask=new X(this),this.stencilFunc=new K(this),this.stencilOp=new $(this),this.stencilTest=new J(this),this.depthRange=new Q(this),this.depthTest=new tt(this),this.depthFunc=new et(this),this.blend=new nt(this),this.blendFunc=new it(this),this.blendColor=new rt(this),this.blendEquation=new ot(this),this.cullFace=new at(this),this.cullFaceSide=new st(this),this.frontFace=new ut(this),this.program=new lt(this),this.activeTexture=new ct(this),this.viewport=new ht(this),this.bindFramebuffer=new pt(this),this.bindRenderbuffer=new ft(this),this.bindTexture=new dt(this),this.bindVertexBuffer=new gt(this),this.bindElementBuffer=new mt(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new _t(this),this.pixelStoreUnpack=new yt(this),this.pixelStoreUnpackPremultiplyAlpha=new vt(this),this.pixelStoreUnpackFlipY=new bt(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(t.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=t.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=t.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE)};Pt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Pt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Pt.prototype.createIndexBuffer=function(t,e){return new j(this,t,e)},Pt.prototype.createVertexBuffer=function(t,e,n){return new U(this,t,e,n)},Pt.prototype.createRenderbuffer=function(t,e,n){var i=this.gl,r=i.createRenderbuffer();return this.bindRenderbuffer.set(r),i.renderbufferStorage(i.RENDERBUFFER,t,e,n),this.bindRenderbuffer.set(null),r},Pt.prototype.createFramebuffer=function(t,e,n){return new Et(this,t,e,n)},Pt.prototype.clear=function(t){var e=t.color,n=t.depth,i=this.gl,r=0;e&&(r|=i.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(r|=i.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),i.clear(r)},Pt.prototype.setCullFace=function(t){!1===t.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(t.mode),this.frontFace.set(t.frontFace))},Pt.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)},Pt.prototype.setStencilMode=function(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)},Pt.prototype.setColorMode=function(e){t.deepEqual(e.blendFunction,It.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)},Pt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Tt=function(e){function n(n,i,r){var o=this;e.call(this),this.id=n,this.dispatcher=r,this.on("data",function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))}),this.on("error",function(){o._sourceErrored=!0}),this._source=function(e,n,i,r){var o=new R[n.type](e,n,i,r);if(o.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+o.id);return t.bindAll(["load","abort","unload","serialize","prepare"],o),o}(n,i,r,this),this._tiles={},this._cache=new B(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new t.SourceFeatureState}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},n.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},n.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0},n.prototype.getSource=function(){return this._source},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},n.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},n.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,function(){})},n.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,function(){})},n.prototype.serialize=function(){return this._source.serialize()},n.prototype.prepare=function(t){for(var e in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var n=this._tiles[e];n.upload(t),n.prepare(this.map.style.imageManager)}},n.prototype.getIds=function(){return t.values(this._tiles).map(function(t){return t.tileID}).sort(Ot).map(function(t){return t.key})},n.prototype.getRenderableIds=function(e){var n=this,i=[];for(var r in this._tiles)this._isIdRenderable(r,e)&&i.push(this._tiles[r]);return e?i.sort(function(e,i){var r=e.tileID,o=i.tileID,a=new t.Point(r.canonical.x,r.canonical.y)._rotate(n.transform.angle),s=new t.Point(o.canonical.x,o.canonical.y)._rotate(n.transform.angle);return r.overscaledZ-o.overscaledZ||s.y-a.y||s.x-a.x}).map(function(t){return t.tileID.key}):i.map(function(t){return t.tileID}).sort(Ot).map(function(t){return t.key})},n.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0);return!!e&&this._isIdRenderable(e.tileID.key)},n.prototype._isIdRenderable=function(t,e){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(e||!this._tiles[t].holdingForFade())},n.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var t in this._cache.reset(),this._tiles)"errored"!==this._tiles[t].state&&this._reloadTile(t,"reloading")},n.prototype._reloadTile=function(t,e){var n=this._tiles[t];n&&("loading"!==n.state&&(n.state=e),this._loadTile(n,this._tileLoaded.bind(this,n,t,e)))},n.prototype._tileLoaded=function(e,n,i,r){if(r)return e.state="errored",void(404!==r.status?this._source.fire(new t.ErrorEvent(r,{tile:e})):this.update(this.transform));e.timeAdded=t.browser.now(),"expired"===i&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(n,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new t.Event("data",{dataType:"source",tile:e,coord:e.tileID}))},n.prototype._backfillDEM=function(t){for(var e=this.getRenderableIds(),n=0;n<e.length;n++){var i=e[n];if(t.neighboringTiles&&t.neighboringTiles[i]){var r=this.getTileByID(i);o(t,r),o(r,t)}}function o(t,e){t.needsHillshadePrepare=!0;var n=e.tileID.canonical.x-t.tileID.canonical.x,i=e.tileID.canonical.y-t.tileID.canonical.y,r=Math.pow(2,t.tileID.canonical.z),o=e.tileID.key;0===n&&0===i||Math.abs(i)>1||(Math.abs(n)>1&&(1===Math.abs(n+r)?n+=r:1===Math.abs(n-r)&&(n-=r)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,n,i),t.neighboringTiles&&t.neighboringTiles[o]&&(t.neighboringTiles[o].backfilled=!0)))}},n.prototype.getTile=function(t){return this.getTileByID(t.key)},n.prototype.getTileByID=function(t){return this._tiles[t]},n.prototype._retainLoadedChildren=function(t,e,n,i){for(var r in this._tiles){var o=this._tiles[r];if(!(i[r]||!o.hasData()||o.tileID.overscaledZ<=e||o.tileID.overscaledZ>n)){for(var a=o.tileID;o&&o.tileID.overscaledZ>e+1;){var s=o.tileID.scaledTo(o.tileID.overscaledZ-1);(o=this._tiles[s.key])&&o.hasData()&&(a=s)}for(var u=a;u.overscaledZ>e;)if(t[(u=u.scaledTo(u.overscaledZ-1)).key]){i[a.key]=a;break}}}},n.prototype.findLoadedParent=function(t,e){if(t.key in this._loadedParentTiles){var n=this._loadedParentTiles[t.key];return n&&n.tileID.overscaledZ>=e?n:null}for(var i=t.overscaledZ-1;i>=e;i--){var r=t.scaledTo(i),o=this._getLoadedTile(r);if(o)return o}},n.prototype._getLoadedTile=function(t){var e=this._tiles[t.key];return e&&e.hasData()?e:this._cache.getByKey(t.wrapped().key)},n.prototype.updateCacheSize=function(t){var e=Math.ceil(t.width/this._source.tileSize)+1,n=Math.ceil(t.height/this._source.tileSize)+1,i=Math.floor(e*n*5),r="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,i):i;this._cache.setMaxSize(r)},n.prototype.handleWrapJump=function(t){var e=Math.round((t-(void 0===this._prevLng?t:this._prevLng))/360);if(this._prevLng=t,e){var n={};for(var i in this._tiles){var r=this._tiles[i];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+e),n[r.tileID.key]=r}for(var o in this._tiles=n,this._timers)clearTimeout(this._timers[o]),delete this._timers[o];for(var a in this._tiles)this._setTileReloadTimer(a,this._tiles[a])}},n.prototype.update=function(e){var i=this;if(this.transform=e,this._sourceLoaded&&!this._paused){var r;this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?r=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(e){return new t.OverscaledTileID(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)}):(r=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(r=r.filter(function(t){return i._source.hasTile(t)}))):r=[];var o=e.coveringZoomLevel(this._source),a=Math.max(o-n.maxOverzooming,this._source.minzoom),s=Math.max(o+n.maxUnderzooming,this._source.minzoom),u=this._updateRetainedTiles(r,o);if(Lt(this._source.type)){for(var l={},c={},h=0,p=Object.keys(u);h<p.length;h+=1){var f=p[h],d=u[f],g=this._tiles[f];if(g&&!(g.fadeEndTime&&g.fadeEndTime<=t.browser.now())){var m=this.findLoadedParent(d,a);m&&(this._addTile(m.tileID),l[m.tileID.key]=m.tileID),c[f]=d}}for(var _ in this._retainLoadedChildren(c,o,s,u),l)u[_]||(this._coveredTiles[_]=!0,u[_]=l[_])}for(var y in u)this._tiles[y].clearFadeHold();for(var v=0,b=t.keysDifference(this._tiles,u);v<b.length;v+=1){var w=b[v],x=this._tiles[w];x.hasSymbolBuckets&&!x.holdingForFade()?x.setHoldDuration(this.map._fadeDuration):x.hasSymbolBuckets&&!x.symbolFadeFinished()||this._removeTile(w)}this._updateLoadedParentTileCache()}},n.prototype.releaseSymbolFadeTiles=function(){for(var t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(t)},n.prototype._updateRetainedTiles=function(t,e){for(var i={},r={},o=Math.max(e-n.maxOverzooming,this._source.minzoom),a=Math.max(e+n.maxUnderzooming,this._source.minzoom),s={},u=0,l=t;u<l.length;u+=1){var c=l[u],h=this._addTile(c);i[c.key]=c,h.hasData()||e<this._source.maxzoom&&(s[c.key]=c)}this._retainLoadedChildren(s,e,a,i);for(var p=0,f=t;p<f.length;p+=1){var d=f[p],g=this._tiles[d.key];if(!g.hasData()){if(e+1>this._source.maxzoom){var m=d.children(this._source.maxzoom)[0],_=this.getTile(m);if(_&&_.hasData()){i[m.key]=m;continue}}else{var y=d.children(this._source.maxzoom);if(i[y[0].key]&&i[y[1].key]&&i[y[2].key]&&i[y[3].key])continue}for(var v=g.wasRequested(),b=d.overscaledZ-1;b>=o;--b){var w=d.scaledTo(b);if(r[w.key])break;if(r[w.key]=!0,!(g=this.getTile(w))&&v&&(g=this._addTile(w)),g&&(i[w.key]=w,v=g.wasRequested(),g.hasData()))break}}}return i},n.prototype._updateLoadedParentTileCache=function(){for(var t in this._loadedParentTiles={},this._tiles){for(var e=[],n=void 0,i=this._tiles[t].tileID;i.overscaledZ>0;){if(i.key in this._loadedParentTiles){n=this._loadedParentTiles[i.key];break}e.push(i.key);var r=i.scaledTo(i.overscaledZ-1);if(n=this._getLoadedTile(r))break;i=r}for(var o=0,a=e;o<a.length;o+=1)this._loadedParentTiles[a[o]]=n}},n.prototype._addTile=function(e){var n=this._tiles[e.key];if(n)return n;(n=this._cache.getAndRemove(e))&&(this._setTileReloadTimer(e.key,n),n.tileID=e,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,n)));var i=Boolean(n);return i||(n=new t.Tile(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,e.key,n.state))),n?(n.uses++,this._tiles[e.key]=n,i||this._source.fire(new t.Event("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n):null},n.prototype._setTileReloadTimer=function(t,e){var n=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var i=e.getExpiryTimeout();i&&(this._timers[t]=setTimeout(function(){n._reloadTile(t,"expired"),delete n._timers[t]},i))},n.prototype._removeTile=function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),e.uses>0||(e.hasData()&&"reloading"!==e.state?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))))},n.prototype.clearTiles=function(){for(var t in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(t);this._cache.reset()},n.prototype.tilesIn=function(e,n,i){var r=this,o=[],a=this.transform;if(!a)return o;for(var s=i?a.getCameraQueryGeometry(e):e,u=e.map(function(t){return a.pointCoordinate(t)}),l=s.map(function(t){return a.pointCoordinate(t)}),c=this.getIds(),h=1/0,p=1/0,f=-1/0,d=-1/0,g=0,m=l;g<m.length;g+=1){var _=m[g];h=Math.min(h,_.x),p=Math.min(p,_.y),f=Math.max(f,_.x),d=Math.max(d,_.y)}for(var y=function(e){var i=r._tiles[c[e]];if(!i.holdingForFade()){var s=i.tileID,g=Math.pow(2,a.zoom-i.tileID.overscaledZ),m=n*i.queryPadding*t.EXTENT/i.tileSize/g,_=[s.getTilePoint(new t.MercatorCoordinate(h,p)),s.getTilePoint(new t.MercatorCoordinate(f,d))];if(_[0].x-m<t.EXTENT&&_[0].y-m<t.EXTENT&&_[1].x+m>=0&&_[1].y+m>=0){var y=u.map(function(t){return s.getTilePoint(t)}),v=l.map(function(t){return s.getTilePoint(t)});o.push({tile:i,tileID:s,queryGeometry:y,cameraQueryGeometry:v,scale:g})}}},v=0;v<c.length;v++)y(v);return o},n.prototype.getVisibleCoordinates=function(t){for(var e=this,n=this.getRenderableIds(t).map(function(t){return e._tiles[t].tileID}),i=0,r=n;i<r.length;i+=1){var o=r[i];o.posMatrix=this.transform.calculatePosMatrix(o.toUnwrapped())}return n},n.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Lt(this._source.type))for(var e in this._tiles){var n=this._tiles[e];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=t.browser.now())return!0}return!1},n.prototype.setFeatureState=function(t,e,n){this._state.updateState(t=t||"_geojsonTileLayer",e,n)},n.prototype.removeFeatureState=function(t,e,n){this._state.removeFeatureState(t=t||"_geojsonTileLayer",e,n)},n.prototype.getFeatureState=function(t,e){return this._state.getState(t=t||"_geojsonTileLayer",e)},n.prototype.setDependencies=function(t,e,n){var i=this._tiles[t];i&&i.setDependencies(e,n)},n.prototype.reloadTilesForDependencies=function(t,e){for(var n in this._tiles)this._tiles[n].hasDependency(t,e)&&this._reloadTile(n,"reloading");this._cache.filter(function(n){return!n.hasDependency(t,e)})},n}(t.Evented);function Ot(t,e){var n=Math.abs(2*t.wrap)-+(t.wrap<0),i=Math.abs(2*e.wrap)-+(e.wrap<0);return t.overscaledZ-e.overscaledZ||i-n||e.canonical.y-t.canonical.y||e.canonical.x-t.canonical.x}function Lt(t){return"raster"===t||"image"===t||"video"===t}function Mt(){return new t.window.Worker(Xr.workerUrl)}Tt.maxOverzooming=10,Tt.maxUnderzooming=3;var Nt="mapboxgl_preloaded_worker_pool",Rt=function(){this.active={}};Rt.prototype.acquire=function(t){if(!this.workers)for(this.workers=[];this.workers.length<Rt.workerCount;)this.workers.push(new Mt);return this.active[t]=!0,this.workers.slice()},Rt.prototype.release=function(t){delete this.active[t],0===this.numActive()&&(this.workers.forEach(function(t){t.terminate()}),this.workers=null)},Rt.prototype.isPreloaded=function(){return!!this.active[Nt]},Rt.prototype.numActive=function(){return Object.keys(this.active).length};var Dt,zt=Math.floor(t.browser.hardwareConcurrency/2);function Ft(){return Dt||(Dt=new Rt),Dt}function Bt(e,n){var i={};for(var r in e)"ref"!==r&&(i[r]=e[r]);return t.refProperties.forEach(function(t){t in n&&(i[t]=n[t])}),i}function jt(t){t=t.slice();for(var e=Object.create(null),n=0;n<t.length;n++)e[t[n].id]=t[n];for(var i=0;i<t.length;i++)"ref"in t[i]&&(t[i]=Bt(t[i],e[t[i].ref]));return t}Rt.workerCount=Math.max(Math.min(zt,6),1);var Vt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Ut(t,e,n){n.push({command:Vt.addSource,args:[t,e[t]]})}function qt(t,e,n){e.push({command:Vt.removeSource,args:[t]}),n[t]=!0}function Gt(t,e,n,i){qt(t,n,i),Ut(t,e,n)}function Ht(e,n,i){var r;for(r in e[i])if(e[i].hasOwnProperty(r)&&"data"!==r&&!t.deepEqual(e[i][r],n[i][r]))return!1;for(r in n[i])if(n[i].hasOwnProperty(r)&&"data"!==r&&!t.deepEqual(e[i][r],n[i][r]))return!1;return!0}function Wt(e,n,i,r,o,a){var s;for(s in n=n||{},e=e||{})e.hasOwnProperty(s)&&(t.deepEqual(e[s],n[s])||i.push({command:a,args:[r,s,n[s],o]}));for(s in n)n.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t.deepEqual(e[s],n[s])||i.push({command:a,args:[r,s,n[s],o]}))}function Yt(t){return t.id}function Zt(t,e){return t[e.id]=e,t}var Xt=function(t,e){this.reset(t,e)};Xt.prototype.reset=function(t,e){this.points=t||[],this._distances=[0];for(var n=1;n<this.points.length;n++)this._distances[n]=this._distances[n-1]+this.points[n].dist(this.points[n-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(e||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Xt.prototype.lerp=function(e){if(1===this.points.length)return this.points[0];e=t.clamp(e,0,1);for(var n=1,i=this._distances[n],r=e*this.paddedLength+this.padding;i<r&&n<this._distances.length;)i=this._distances[++n];var o=n-1,a=this._distances[o],s=i-a,u=s>0?(r-a)/s:0;return this.points[o].mult(1-u).add(this.points[n].mult(u))};var Kt=function(t,e,n){var i=this.boxCells=[],r=this.circleCells=[];this.xCellCount=Math.ceil(t/n),this.yCellCount=Math.ceil(e/n);for(var o=0;o<this.xCellCount*this.yCellCount;o++)i.push([]),r.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0};function $t(e,n,i,r,o){var a=t.create();return n?(t.scale(a,a,[1/o,1/o,1]),i||t.rotateZ(a,a,r.angle)):t.multiply(a,r.labelPlaneMatrix,e),a}function Jt(e,n,i,r,o){if(n){var a=t.clone(e);return t.scale(a,a,[o,o,1]),i||t.rotateZ(a,a,-r.angle),a}return r.glCoordMatrix}function Qt(e,n){var i=[e.x,e.y,0,1];ce(i,i,n);var r=i[3];return{point:new t.Point(i[0]/r,i[1]/r),signedDistanceFromCamera:r}}function te(t,e){return.5+t/e*.5}function ee(t,e){var n=t[0]/t[3],i=t[1]/t[3];return n>=-e[0]&&n<=e[0]&&i>=-e[1]&&i<=e[1]}function ne(e,n,i,r,o,a,s,u){var l=r?e.textSizeData:e.iconSizeData,c=t.evaluateSizeForZoom(l,i.transform.zoom),h=[256/i.width*2+1,256/i.height*2+1],p=r?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;p.clear();for(var f=e.lineVertexArray,d=r?e.text.placedSymbolArray:e.icon.placedSymbolArray,g=i.transform.width/i.transform.height,m=!1,_=0;_<d.length;_++){var y=d.get(_);if(y.hidden||y.writingMode===t.WritingMode.vertical&&!m)le(y.numGlyphs,p);else{m=!1;var v=[y.anchorX,y.anchorY,0,1];if(t.transformMat4(v,v,n),ee(v,h)){var b=te(i.transform.cameraToCenterDistance,v[3]),w=t.evaluateSizeForFeature(l,c,y),x=s?w/b:w*b,k=new t.Point(y.anchorX,y.anchorY),E=Qt(k,o).point,S={},C=oe(y,x,!1,u,n,o,a,e.glyphOffsetArray,f,p,E,k,S,g);m=C.useVertical,(C.notEnoughRoom||m||C.needsFlipping&&oe(y,x,!0,u,n,o,a,e.glyphOffsetArray,f,p,E,k,S,g).notEnoughRoom)&&le(y.numGlyphs,p)}else le(y.numGlyphs,p)}}r?e.text.dynamicLayoutVertexBuffer.updateData(p):e.icon.dynamicLayoutVertexBuffer.updateData(p)}function ie(t,e,n,i,r,o,a,s,u,l,c){var h=s.glyphStartIndex+s.numGlyphs,p=s.lineStartIndex,f=s.lineStartIndex+s.lineLength,d=e.getoffsetX(s.glyphStartIndex),g=e.getoffsetX(h-1),m=se(t*d,n,i,r,o,a,s.segment,p,f,u,l,c);if(!m)return null;var _=se(t*g,n,i,r,o,a,s.segment,p,f,u,l,c);return _?{first:m,last:_}:null}function re(e,n,i,r){return e===t.WritingMode.horizontal&&Math.abs(i.y-n.y)>Math.abs(i.x-n.x)*r?{useVertical:!0}:(e===t.WritingMode.vertical?n.y<i.y:n.x>i.x)?{needsFlipping:!0}:null}function oe(e,n,i,r,o,a,s,u,l,c,h,p,f,d){var g,m=n/24,_=e.lineOffsetX*m,y=e.lineOffsetY*m;if(e.numGlyphs>1){var v=e.glyphStartIndex+e.numGlyphs,b=e.lineStartIndex,w=e.lineStartIndex+e.lineLength,x=ie(m,u,_,y,i,h,p,e,l,a,f);if(!x)return{notEnoughRoom:!0};var k=Qt(x.first.point,s).point,E=Qt(x.last.point,s).point;if(r&&!i){var S=re(e.writingMode,k,E,d);if(S)return S}g=[x.first];for(var C=e.glyphStartIndex+1;C<v-1;C++)g.push(se(m*u.getoffsetX(C),_,y,i,h,p,e.segment,b,w,l,a,f));g.push(x.last)}else{if(r&&!i){var I=Qt(p,o).point,A=e.lineStartIndex+e.segment+1,P=new t.Point(l.getx(A),l.gety(A)),T=Qt(P,o),O=T.signedDistanceFromCamera>0?T.point:ae(p,P,I,1,o),L=re(e.writingMode,I,O,d);if(L)return L}var M=se(m*u.getoffsetX(e.glyphStartIndex),_,y,i,h,p,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,l,a,f);if(!M)return{notEnoughRoom:!0};g=[M]}for(var N=0,R=g;N<R.length;N+=1){var D=R[N];t.addDynamicAttributes(c,D.point,D.angle)}return{}}function ae(t,e,n,i,r){var o=Qt(t.add(t.sub(e)._unit()),r).point,a=n.sub(o);return n.add(a._mult(i/a.mag()))}function se(e,n,i,r,o,a,s,u,l,c,h,p){var f=r?e-n:e+n,d=f>0?1:-1,g=0;r&&(d*=-1,g=Math.PI),d<0&&(g+=Math.PI);for(var m=d>0?u+s:u+s+1,_=o,y=o,v=0,b=0,w=Math.abs(f),x=[];v+b<=w;){if((m+=d)<u||m>=l)return null;if(y=_,x.push(_),void 0===(_=p[m])){var k=new t.Point(c.getx(m),c.gety(m)),E=Qt(k,h);if(E.signedDistanceFromCamera>0)_=p[m]=E.point;else{var S=m-d;_=ae(0===v?a:new t.Point(c.getx(S),c.gety(S)),k,y,w-v+1,h)}}v+=b,b=y.dist(_)}var C=(w-v)/b,I=_.sub(y),A=I.mult(C)._add(y);A._add(I._unit()._perp()._mult(i*d));var P=g+Math.atan2(_.y-y.y,_.x-y.x);return x.push(A),{point:A,angle:P,path:x}}Kt.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Kt.prototype.insert=function(t,e,n,i,r){this._forEachCell(e,n,i,r,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(i),this.bboxes.push(r)},Kt.prototype.insertCircle=function(t,e,n,i){this._forEachCell(e-i,n-i,e+i,n+i,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(n),this.circles.push(i)},Kt.prototype._insertBoxCell=function(t,e,n,i,r,o){this.boxCells[r].push(o)},Kt.prototype._insertCircleCell=function(t,e,n,i,r,o){this.circleCells[r].push(o)},Kt.prototype._query=function(t,e,n,i,r,o){if(n<0||t>this.width||i<0||e>this.height)return!r&&[];var a=[];if(t<=0&&e<=0&&this.width<=n&&this.height<=i){if(r)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var u=0;u<this.circleKeys.length;u++){var l=this.circles[3*u],c=this.circles[3*u+1],h=this.circles[3*u+2];a.push({key:this.circleKeys[u],x1:l-h,y1:c-h,x2:l+h,y2:c+h})}return o?a.filter(o):a}return this._forEachCell(t,e,n,i,this._queryCell,a,{hitTest:r,seenUids:{box:{},circle:{}}},o),r?a.length>0:a},Kt.prototype._queryCircle=function(t,e,n,i,r){var o=t-n,a=t+n,s=e-n,u=e+n;if(a<0||o>this.width||u<0||s>this.height)return!i&&[];var l=[];return this._forEachCell(o,s,a,u,this._queryCellCircle,l,{hitTest:i,circle:{x:t,y:e,radius:n},seenUids:{box:{},circle:{}}},r),i?l.length>0:l},Kt.prototype.query=function(t,e,n,i,r){return this._query(t,e,n,i,!1,r)},Kt.prototype.hitTest=function(t,e,n,i,r){return this._query(t,e,n,i,!0,r)},Kt.prototype.hitTestCircle=function(t,e,n,i){return this._queryCircle(t,e,n,!0,i)},Kt.prototype._queryCell=function(t,e,n,i,r,o,a,s){var u=a.seenUids,l=this.boxCells[r];if(null!==l)for(var c=this.bboxes,h=0,p=l;h<p.length;h+=1){var f=p[h];if(!u.box[f]){u.box[f]=!0;var d=4*f;if(t<=c[d+2]&&e<=c[d+3]&&n>=c[d+0]&&i>=c[d+1]&&(!s||s(this.boxKeys[f]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[f],x1:c[d],y1:c[d+1],x2:c[d+2],y2:c[d+3]})}}}var g=this.circleCells[r];if(null!==g)for(var m=this.circles,_=0,y=g;_<y.length;_+=1){var v=y[_];if(!u.circle[v]){u.circle[v]=!0;var b=3*v;if(this._circleAndRectCollide(m[b],m[b+1],m[b+2],t,e,n,i)&&(!s||s(this.circleKeys[v]))){if(a.hitTest)return o.push(!0),!0;var w=m[b],x=m[b+1],k=m[b+2];o.push({key:this.circleKeys[v],x1:w-k,y1:x-k,x2:w+k,y2:x+k})}}}},Kt.prototype._queryCellCircle=function(t,e,n,i,r,o,a,s){var u=a.circle,l=a.seenUids,c=this.boxCells[r];if(null!==c)for(var h=this.bboxes,p=0,f=c;p<f.length;p+=1){var d=f[p];if(!l.box[d]){l.box[d]=!0;var g=4*d;if(this._circleAndRectCollide(u.x,u.y,u.radius,h[g+0],h[g+1],h[g+2],h[g+3])&&(!s||s(this.boxKeys[d])))return o.push(!0),!0}}var m=this.circleCells[r];if(null!==m)for(var _=this.circles,y=0,v=m;y<v.length;y+=1){var b=v[y];if(!l.circle[b]){l.circle[b]=!0;var w=3*b;if(this._circlesCollide(_[w],_[w+1],_[w+2],u.x,u.y,u.radius)&&(!s||s(this.circleKeys[b])))return o.push(!0),!0}}},Kt.prototype._forEachCell=function(t,e,n,i,r,o,a,s){for(var u=this._convertToXCellCoord(t),l=this._convertToYCellCoord(e),c=this._convertToXCellCoord(n),h=this._convertToYCellCoord(i),p=u;p<=c;p++)for(var f=l;f<=h;f++)if(r.call(this,t,e,n,i,this.xCellCount*f+p,o,a,s))return},Kt.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},Kt.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},Kt.prototype._circlesCollide=function(t,e,n,i,r,o){var a=i-t,s=r-e,u=n+o;return u*u>a*a+s*s},Kt.prototype._circleAndRectCollide=function(t,e,n,i,r,o,a){var s=(o-i)/2,u=Math.abs(t-(i+s));if(u>s+n)return!1;var l=(a-r)/2,c=Math.abs(e-(r+l));if(c>l+n)return!1;if(u<=s||c<=l)return!0;var h=u-s,p=c-l;return h*h+p*p<=n*n};var ue=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function le(t,e){for(var n=0;n<t;n++){var i=e.length;e.resize(i+4),e.float32.set(ue,3*i)}}function ce(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[4]*r+n[12],t[1]=n[1]*i+n[5]*r+n[13],t[3]=n[3]*i+n[7]*r+n[15],t}var he=function(t,e,n){void 0===e&&(e=new Kt(t.width+200,t.height+200,25)),void 0===n&&(n=new Kt(t.width+200,t.height+200,25)),this.transform=t,this.grid=e,this.ignoredGrid=n,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100,this.gridRightBoundary=t.width+200,this.gridBottomBoundary=t.height+200};function pe(e,n,i){return n*(t.EXTENT/(e.tileSize*Math.pow(2,i-e.tileID.overscaledZ)))}he.prototype.placeCollisionBox=function(t,e,n,i,r){var o=this.projectAndGetPerspectiveRatio(i,t.anchorPointX,t.anchorPointY),a=n*o.perspectiveRatio,s=t.x1*a+o.point.x,u=t.y1*a+o.point.y,l=t.x2*a+o.point.x,c=t.y2*a+o.point.y;return!this.isInsideGrid(s,u,l,c)||!e&&this.grid.hitTest(s,u,l,c,r)?{box:[],offscreen:!1}:{box:[s,u,l,c],offscreen:this.isOffscreen(s,u,l,c)}},he.prototype.placeCollisionCircles=function(e,n,i,r,o,a,s,u,l,c,h,p,f){var d=[],g=new t.Point(n.anchorX,n.anchorY),m=Qt(g,a),_=te(this.transform.cameraToCenterDistance,m.signedDistanceFromCamera),y=(c?o/_:o*_)/t.ONE_EM,v=Qt(g,s).point,b=ie(y,r,n.lineOffsetX*y,n.lineOffsetY*y,!1,v,g,n,i,s,{}),w=!1,x=!1,k=!0;if(b){for(var E=.5*p*_+f,S=new t.Point(-100,-100),C=new t.Point(this.screenRightBoundary,this.screenBottomBoundary),I=new Xt,A=b.first,P=b.last,T=[],O=A.path.length-1;O>=1;O--)T.push(A.path[O]);for(var L=1;L<P.path.length;L++)T.push(P.path[L]);var M=2.5*E;if(u){var N=T.map(function(t){return Qt(t,u)});T=N.some(function(t){return t.signedDistanceFromCamera<=0})?[]:N.map(function(t){return t.point})}var R=[];if(T.length>0){for(var D=T[0].clone(),z=T[0].clone(),F=1;F<T.length;F++)D.x=Math.min(D.x,T[F].x),D.y=Math.min(D.y,T[F].y),z.x=Math.max(z.x,T[F].x),z.y=Math.max(z.y,T[F].y);R=D.x>=S.x&&z.x<=C.x&&D.y>=S.y&&z.y<=C.y?[T]:z.x<S.x||D.x>C.x||z.y<S.y||D.y>C.y?[]:t.clipLine([T],S.x,S.y,C.x,C.y)}for(var B=0,j=R;B<j.length;B+=1){var V;I.reset(j[B],.25*E),V=I.length<=.5*E?1:Math.ceil(I.paddedLength/M)+1;for(var U=0;U<V;U++){var q=U/Math.max(V-1,1),G=I.lerp(q),H=G.x+100,W=G.y+100;d.push(H,W,E,0);var Y=H-E,Z=W-E,X=H+E,K=W+E;if(k=k&&this.isOffscreen(Y,Z,X,K),x=x||this.isInsideGrid(Y,Z,X,K),!e&&this.grid.hitTestCircle(H,W,E,h)&&(w=!0,!l))return{circles:[],offscreen:!1,collisionDetected:w}}}}return{circles:!l&&w||!x?[]:d,offscreen:k,collisionDetected:w}},he.prototype.queryRenderedSymbols=function(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var n=[],i=1/0,r=1/0,o=-1/0,a=-1/0,s=0,u=e;s<u.length;s+=1){var l=u[s],c=new t.Point(l.x+100,l.y+100);i=Math.min(i,c.x),r=Math.min(r,c.y),o=Math.max(o,c.x),a=Math.max(a,c.y),n.push(c)}for(var h={},p={},f=0,d=this.grid.query(i,r,o,a).concat(this.ignoredGrid.query(i,r,o,a));f<d.length;f+=1){var g=d[f],m=g.key;if(void 0===h[m.bucketInstanceId]&&(h[m.bucketInstanceId]={}),!h[m.bucketInstanceId][m.featureIndex]){var _=[new t.Point(g.x1,g.y1),new t.Point(g.x2,g.y1),new t.Point(g.x2,g.y2),new t.Point(g.x1,g.y2)];t.polygonIntersectsPolygon(n,_)&&(h[m.bucketInstanceId][m.featureIndex]=!0,void 0===p[m.bucketInstanceId]&&(p[m.bucketInstanceId]=[]),p[m.bucketInstanceId].push(m.featureIndex))}}return p},he.prototype.insertCollisionBox=function(t,e,n,i,r){(e?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:i,collisionGroupID:r},t[0],t[1],t[2],t[3])},he.prototype.insertCollisionCircles=function(t,e,n,i,r){for(var o=e?this.ignoredGrid:this.grid,a={bucketInstanceId:n,featureIndex:i,collisionGroupID:r},s=0;s<t.length;s+=4)o.insertCircle(a,t[s],t[s+1],t[s+2])},he.prototype.projectAndGetPerspectiveRatio=function(e,n,i){var r=[n,i,0,1];return ce(r,r,e),{point:new t.Point((r[0]/r[3]+1)/2*this.transform.width+100,(-r[1]/r[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/r[3]*.5}},he.prototype.isOffscreen=function(t,e,n,i){return n<100||t>=this.screenRightBoundary||i<100||e>this.screenBottomBoundary},he.prototype.isInsideGrid=function(t,e,n,i){return n>=0&&t<this.gridRightBoundary&&i>=0&&e<this.gridBottomBoundary},he.prototype.getViewportMatrix=function(){var e=t.identity([]);return t.translate(e,e,[-100,-100,0]),e};var fe=function(t,e,n,i){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):i&&n?1:0,this.placed=n};fe.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var de=function(t,e,n,i,r){this.text=new fe(t?t.text:null,e,n,r),this.icon=new fe(t?t.icon:null,e,i,r)};de.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var ge=function(t,e,n){this.text=t,this.icon=e,this.skipFade=n},me=function(){this.invProjMatrix=t.create(),this.viewportMatrix=t.create(),this.circles=[]},_e=function(t,e,n,i,r){this.bucketInstanceId=t,this.featureIndex=e,this.sourceLayerIndex=n,this.bucketIndex=i,this.tileID=r},ye=function(t){this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}};function ve(e,n,i,r,o){var a=t.getAnchorAlignment(e),s=-(a.horizontalAlign-.5)*n,u=-(a.verticalAlign-.5)*i,l=t.evaluateVariableOffset(e,r);return new t.Point(s+l[0]*o,u+l[1]*o)}function be(e,n,i,r,o,a){var s=e.x1,u=e.x2,l=e.y1,c=e.y2,h=e.anchorPointX,p=e.anchorPointY,f=new t.Point(n,i);return r&&f._rotate(o?a:-a),{x1:s+f.x,y1:l+f.y,x2:u+f.x,y2:c+f.y,anchorPointX:h,anchorPointY:p}}ye.prototype.get=function(t){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[t]){var e=++this.maxGroupID;this.collisionGroups[t]={ID:e,predicate:function(t){return t.collisionGroupID===e}}}return this.collisionGroups[t]};var we=function(t,e,n,i){this.transform=t.clone(),this.collisionIndex=new he(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=e,this.retainedQueryData={},this.collisionGroups=new ye(n),this.collisionCircleArrays={},this.prevPlacement=i,i&&(i.prevPlacement=void 0),this.placedOrientations={}};function xe(t,e,n,i,r){t.emplaceBack(e?1:0,n?1:0,i||0,r||0),t.emplaceBack(e?1:0,n?1:0,i||0,r||0),t.emplaceBack(e?1:0,n?1:0,i||0,r||0),t.emplaceBack(e?1:0,n?1:0,i||0,r||0)}we.prototype.getBucketParts=function(e,n,i,r){var o=i.getBucket(n),a=i.latestFeatureIndex;if(o&&a&&n.id===o.layerIds[0]){var s=i.collisionBoxArray,u=o.layers[0].layout,l=Math.pow(2,this.transform.zoom-i.tileID.overscaledZ),c=i.tileSize/t.EXTENT,h=this.transform.calculatePosMatrix(i.tileID.toUnwrapped()),p="map"===u.get("text-pitch-alignment"),f="map"===u.get("text-rotation-alignment"),d=pe(i,1,this.transform.zoom),g=$t(h,p,f,this.transform,d),m=null;if(p){var _=Jt(h,p,f,this.transform,d);m=t.multiply([],this.transform.labelPlaneMatrix,_)}this.retainedQueryData[o.bucketInstanceId]=new _e(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,i.tileID);var y={bucket:o,layout:u,posMatrix:h,textLabelPlaneMatrix:g,labelToScreenMatrix:m,scale:l,textPixelRatio:c,holdingForFade:i.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:t.evaluateSizeForZoom(o.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(r)for(var v=0,b=o.sortKeyRanges;v<b.length;v+=1){var w=b[v];e.push({sortKey:w.sortKey,symbolInstanceStart:w.symbolInstanceStart,symbolInstanceEnd:w.symbolInstanceEnd,parameters:y})}else e.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:y})}},we.prototype.attemptAnchorPlacement=function(t,e,n,i,r,o,a,s,u,l,c,h,p,f,d){var g,m=[h.textOffset0,h.textOffset1],_=ve(t,n,i,m,r),y=this.collisionIndex.placeCollisionBox(be(e,_.x,_.y,o,a,this.transform.angle),c,s,u,l.predicate);if(!d||0!==this.collisionIndex.placeCollisionBox(be(d,_.x,_.y,o,a,this.transform.angle),c,s,u,l.predicate).box.length)return y.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID].text&&(g=this.prevPlacement.variableOffsets[h.crossTileID].anchor),this.variableOffsets[h.crossTileID]={textOffset:m,width:n,height:i,anchor:t,textBoxScale:r,prevAnchor:g},this.markUsedJustification(p,t,h,f),p.allowVerticalPlacement&&(this.markUsedOrientation(p,f,h),this.placedOrientations[h.crossTileID]=f),{shift:_,placedGlyphBoxes:y}):void 0},we.prototype.placeLayerBucketPart=function(e,n,i){var r=this,o=e.parameters,a=o.bucket,s=o.layout,u=o.posMatrix,l=o.textLabelPlaneMatrix,c=o.labelToScreenMatrix,h=o.textPixelRatio,p=o.holdingForFade,f=o.collisionBoxArray,d=o.partiallyEvaluatedTextSize,g=o.collisionGroup,m=s.get("text-optional"),_=s.get("icon-optional"),y=s.get("text-allow-overlap"),v=s.get("icon-allow-overlap"),b="map"===s.get("text-rotation-alignment"),w="map"===s.get("text-pitch-alignment"),x="none"!==s.get("icon-text-fit"),k="viewport-y"===s.get("symbol-z-order"),E=y&&(v||!a.hasIconData()||_),S=v&&(y||!a.hasTextData()||m);!a.collisionArrays&&f&&a.deserializeCollisionBoxes(f);var C=function(e,o){if(!n[e.crossTileID])if(p)r.placements[e.crossTileID]=new ge(!1,!1,!1);else{var f,k=!1,C=!1,I=!0,A=null,P={box:null,offscreen:null},T={box:null,offscreen:null},O=null,L=null,M=0,N=0,R=0;o.textFeatureIndex?M=o.textFeatureIndex:e.useRuntimeCollisionCircles&&(M=e.featureIndex),o.verticalTextFeatureIndex&&(N=o.verticalTextFeatureIndex);var D=o.textBox;if(D){var z=function(n){var i=t.WritingMode.horizontal;if(a.allowVerticalPlacement&&!n&&r.prevPlacement){var o=r.prevPlacement.placedOrientations[e.crossTileID];o&&(r.placedOrientations[e.crossTileID]=o,r.markUsedOrientation(a,i=o,e))}return i},F=function(n,i){if(a.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&o.verticalTextBox)for(var r=0,s=a.writingModes;r<s.length&&(s[r]===t.WritingMode.vertical?(P=i(),T=P):P=n(),!(P&&P.box&&P.box.length));r+=1);else P=n()};if(s.get("text-variable-anchor")){var B=s.get("text-variable-anchor");if(r.prevPlacement&&r.prevPlacement.variableOffsets[e.crossTileID]){var j=r.prevPlacement.variableOffsets[e.crossTileID];B.indexOf(j.anchor)>0&&(B=B.filter(function(t){return t!==j.anchor})).unshift(j.anchor)}var V=function(t,n,i){for(var o=t.x2-t.x1,s=t.y2-t.y1,l=e.textBoxScale,c=x&&!v?n:null,p={box:[],offscreen:!1},f=y?2*B.length:B.length,d=0;d<f;++d){var m=r.attemptAnchorPlacement(B[d%B.length],t,o,s,l,b,w,h,u,g,d>=B.length,e,a,i,c);if(m&&(p=m.placedGlyphBoxes)&&p.box&&p.box.length){k=!0,A=m.shift;break}}return p};F(function(){return V(D,o.iconBox,t.WritingMode.horizontal)},function(){var n=o.verticalTextBox;return a.allowVerticalPlacement&&!(P&&P.box&&P.box.length)&&e.numVerticalGlyphVertices>0&&n?V(n,o.verticalIconBox,t.WritingMode.vertical):{box:null,offscreen:null}}),P&&(k=P.box,I=P.offscreen);var U=z(P&&P.box);if(!k&&r.prevPlacement){var q=r.prevPlacement.variableOffsets[e.crossTileID];q&&(r.variableOffsets[e.crossTileID]=q,r.markUsedJustification(a,q.anchor,e,U))}}else{var G=function(t,n){var i=r.collisionIndex.placeCollisionBox(t,y,h,u,g.predicate);return i&&i.box&&i.box.length&&(r.markUsedOrientation(a,n,e),r.placedOrientations[e.crossTileID]=n),i};F(function(){return G(D,t.WritingMode.horizontal)},function(){var n=o.verticalTextBox;return a.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&n?G(n,t.WritingMode.vertical):{box:null,offscreen:null}}),z(P&&P.box&&P.box.length)}}if(k=(f=P)&&f.box&&f.box.length>0,I=f&&f.offscreen,e.useRuntimeCollisionCircles){var H=a.text.placedSymbolArray.get(e.centerJustifiedTextSymbolIndex),W=t.evaluateSizeForFeature(a.textSizeData,d,H),Y=s.get("text-padding");O=r.collisionIndex.placeCollisionCircles(y,H,a.lineVertexArray,a.glyphOffsetArray,W,u,l,c,i,w,g.predicate,e.collisionCircleDiameter,Y),k=y||O.circles.length>0&&!O.collisionDetected,I=I&&O.offscreen}if(o.iconFeatureIndex&&(R=o.iconFeatureIndex),o.iconBox){var Z=function(t){var e=x&&A?be(t,A.x,A.y,b,w,r.transform.angle):t;return r.collisionIndex.placeCollisionBox(e,v,h,u,g.predicate)};C=T&&T.box&&T.box.length&&o.verticalIconBox?(L=Z(o.verticalIconBox)).box.length>0:(L=Z(o.iconBox)).box.length>0,I=I&&L.offscreen}var X=m||0===e.numHorizontalGlyphVertices&&0===e.numVerticalGlyphVertices,K=_||0===e.numIconVertices;if(X||K?K?X||(C=C&&k):k=C&&k:C=k=C&&k,k&&f&&f.box&&r.collisionIndex.insertCollisionBox(f.box,s.get("text-ignore-placement"),a.bucketInstanceId,T&&T.box&&N?N:M,g.ID),C&&L&&r.collisionIndex.insertCollisionBox(L.box,s.get("icon-ignore-placement"),a.bucketInstanceId,R,g.ID),O&&(k&&r.collisionIndex.insertCollisionCircles(O.circles,s.get("text-ignore-placement"),a.bucketInstanceId,M,g.ID),i)){var $=a.bucketInstanceId,J=r.collisionCircleArrays[$];void 0===J&&(J=r.collisionCircleArrays[$]=new me);for(var Q=0;Q<O.circles.length;Q+=4)J.circles.push(O.circles[Q+0]),J.circles.push(O.circles[Q+1]),J.circles.push(O.circles[Q+2]),J.circles.push(O.collisionDetected?1:0)}r.placements[e.crossTileID]=new ge(k||E,C||S,I||a.justReloaded),n[e.crossTileID]=!0}};if(k)for(var I=a.getSortedSymbolIndexes(this.transform.angle),A=I.length-1;A>=0;--A){var P=I[A];C(a.symbolInstances.get(P),a.collisionArrays[P])}else for(var T=e.symbolInstanceStart;T<e.symbolInstanceEnd;T++)C(a.symbolInstances.get(T),a.collisionArrays[T]);if(i&&a.bucketInstanceId in this.collisionCircleArrays){var O=this.collisionCircleArrays[a.bucketInstanceId];t.invert(O.invProjMatrix,u),O.viewportMatrix=this.collisionIndex.getViewportMatrix()}a.justReloaded=!1},we.prototype.markUsedJustification=function(e,n,i,r){var o;o=r===t.WritingMode.vertical?i.verticalPlacedTextSymbolIndex:{left:i.leftJustifiedTextSymbolIndex,center:i.centerJustifiedTextSymbolIndex,right:i.rightJustifiedTextSymbolIndex}[t.getAnchorJustification(n)];for(var a=0,s=[i.leftJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.rightJustifiedTextSymbolIndex,i.verticalPlacedTextSymbolIndex];a<s.length;a+=1){var u=s[a];u>=0&&(e.text.placedSymbolArray.get(u).crossTileID=o>=0&&u!==o?0:i.crossTileID)}},we.prototype.markUsedOrientation=function(e,n,i){for(var r=n===t.WritingMode.horizontal||n===t.WritingMode.horizontalOnly?n:0,o=n===t.WritingMode.vertical?n:0,a=0,s=[i.leftJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.rightJustifiedTextSymbolIndex];a<s.length;a+=1)e.text.placedSymbolArray.get(s[a]).placedOrientation=r;i.verticalPlacedTextSymbolIndex&&(e.text.placedSymbolArray.get(i.verticalPlacedTextSymbolIndex).placedOrientation=o)},we.prototype.commit=function(t){this.commitTime=t,this.zoomAtLastRecencyCheck=this.transform.zoom;var e=this.prevPlacement,n=!1;this.prevZoomAdjustment=e?e.zoomAdjustment(this.transform.zoom):0;var i=e?e.symbolFadeChange(t):1,r=e?e.opacities:{},o=e?e.variableOffsets:{},a=e?e.placedOrientations:{};for(var s in this.placements){var u=this.placements[s],l=r[s];l?(this.opacities[s]=new de(l,i,u.text,u.icon),n=n||u.text!==l.text.placed||u.icon!==l.icon.placed):(this.opacities[s]=new de(null,i,u.text,u.icon,u.skipFade),n=n||u.text||u.icon)}for(var c in r){var h=r[c];if(!this.opacities[c]){var p=new de(h,i,!1,!1);p.isHidden()||(this.opacities[c]=p,n=n||h.text.placed||h.icon.placed)}}for(var f in o)this.variableOffsets[f]||!this.opacities[f]||this.opacities[f].isHidden()||(this.variableOffsets[f]=o[f]);for(var d in a)this.placedOrientations[d]||!this.opacities[d]||this.opacities[d].isHidden()||(this.placedOrientations[d]=a[d]);n?this.lastPlacementChangeTime=t:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=e?e.lastPlacementChangeTime:t)},we.prototype.updateLayerOpacities=function(t,e){for(var n={},i=0,r=e;i<r.length;i+=1){var o=r[i],a=o.getBucket(t);a&&o.latestFeatureIndex&&t.id===a.layerIds[0]&&this.updateBucketOpacities(a,n,o.collisionBoxArray)}},we.prototype.updateBucketOpacities=function(e,n,i){var r=this;e.hasTextData()&&e.text.opacityVertexArray.clear(),e.hasIconData()&&e.icon.opacityVertexArray.clear(),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear();var o=e.layers[0].layout,a=new de(null,0,!1,!1,!0),s=o.get("text-allow-overlap"),u=o.get("icon-allow-overlap"),l=o.get("text-variable-anchor"),c="map"===o.get("text-rotation-alignment"),h="map"===o.get("text-pitch-alignment"),p="none"!==o.get("icon-text-fit"),f=new de(null,0,s&&(u||!e.hasIconData()||o.get("icon-optional")),u&&(s||!e.hasTextData()||o.get("text-optional")),!0);!e.collisionArrays&&i&&(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData())&&e.deserializeCollisionBoxes(i);for(var d=function(t,e,n){for(var i=0;i<e/4;i++)t.opacityVertexArray.emplaceBack(n)},g=function(i){var o=e.symbolInstances.get(i),s=o.numHorizontalGlyphVertices,u=o.numVerticalGlyphVertices,g=o.crossTileID,m=r.opacities[g];n[g]?m=a:m||(r.opacities[g]=m=f),n[g]=!0;var _=o.numIconVertices>0,y=r.placedOrientations[o.crossTileID],v=y===t.WritingMode.vertical,b=y===t.WritingMode.horizontal||y===t.WritingMode.horizontalOnly;if(s>0||u>0){var w=Te(m.text);d(e.text,s,v?Oe:w),d(e.text,u,b?Oe:w);var x=m.text.isHidden();[o.rightJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.leftJustifiedTextSymbolIndex].forEach(function(t){t>=0&&(e.text.placedSymbolArray.get(t).hidden=x||v?1:0)}),o.verticalPlacedTextSymbolIndex>=0&&(e.text.placedSymbolArray.get(o.verticalPlacedTextSymbolIndex).hidden=x||b?1:0);var k=r.variableOffsets[o.crossTileID];k&&r.markUsedJustification(e,k.anchor,o,y);var E=r.placedOrientations[o.crossTileID];E&&(r.markUsedJustification(e,"left",o,E),r.markUsedOrientation(e,E,o))}if(_){var S=Te(m.icon),C=!(p&&o.verticalPlacedIconSymbolIndex&&v);o.placedIconSymbolIndex>=0&&(d(e.icon,o.numIconVertices,C?S:Oe),e.icon.placedSymbolArray.get(o.placedIconSymbolIndex).hidden=m.icon.isHidden()),o.verticalPlacedIconSymbolIndex>=0&&(d(e.icon,o.numVerticalIconVertices,C?Oe:S),e.icon.placedSymbolArray.get(o.verticalPlacedIconSymbolIndex).hidden=m.icon.isHidden())}if(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData()){var I=e.collisionArrays[i];if(I){var A=new t.Point(0,0);if(I.textBox||I.verticalTextBox){var P=!0;if(l){var T=r.variableOffsets[g];T?(A=ve(T.anchor,T.width,T.height,T.textOffset,T.textBoxScale),c&&A._rotate(h?r.transform.angle:-r.transform.angle)):P=!1}I.textBox&&xe(e.textCollisionBox.collisionVertexArray,m.text.placed,!P||v,A.x,A.y),I.verticalTextBox&&xe(e.textCollisionBox.collisionVertexArray,m.text.placed,!P||b,A.x,A.y)}var O=Boolean(!b&&I.verticalIconBox);I.iconBox&&xe(e.iconCollisionBox.collisionVertexArray,m.icon.placed,O,p?A.x:0,p?A.y:0),I.verticalIconBox&&xe(e.iconCollisionBox.collisionVertexArray,m.icon.placed,!O,p?A.x:0,p?A.y:0)}}},m=0;m<e.symbolInstances.length;m++)g(m);if(e.sortFeatures(this.transform.angle),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.bucketInstanceId in this.collisionCircleArrays){var _=this.collisionCircleArrays[e.bucketInstanceId];e.placementInvProjMatrix=_.invProjMatrix,e.placementViewportMatrix=_.viewportMatrix,e.collisionCircleArray=_.circles,delete this.collisionCircleArrays[e.bucketInstanceId]}},we.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},we.prototype.zoomAdjustment=function(t){return Math.max(0,(this.transform.zoom-t)/1.5)},we.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},we.prototype.stillRecent=function(t,e){var n=this.zoomAtLastRecencyCheck===e?1-this.zoomAdjustment(e):1;return this.zoomAtLastRecencyCheck=e,this.commitTime+this.fadeDuration*n>t},we.prototype.setStale=function(){this.stale=!0};var ke=Math.pow(2,25),Ee=Math.pow(2,24),Se=Math.pow(2,17),Ce=Math.pow(2,16),Ie=Math.pow(2,9),Ae=Math.pow(2,8),Pe=Math.pow(2,1);function Te(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,n=Math.floor(127*t.opacity);return n*ke+e*Ee+n*Se+e*Ce+n*Ie+e*Ae+n*Pe+e}var Oe=0,Le=function(t){this._sortAcrossTiles="viewport-y"!==t.layout.get("symbol-z-order")&&void 0!==t.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Le.prototype.continuePlacement=function(t,e,n,i,r){for(var o=this._bucketParts;this._currentTileIndex<t.length;)if(e.getBucketParts(o,i,t[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,r())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort(function(t,e){return t.sortKey-e.sortKey}));this._currentPartIndex<o.length;)if(e.placeLayerBucketPart(o[this._currentPartIndex],this._seenCrossTileIDs,n),this._currentPartIndex++,r())return!0;return!1};var Me=function(t,e,n,i,r,o,a){this.placement=new we(t,r,o,a),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=i,this._done=!1};Me.prototype.isDone=function(){return this._done},Me.prototype.continuePlacement=function(e,n,i){for(var r=this,o=t.browser.now(),a=function(){var e=t.browser.now()-o;return!r._forceFullPlacement&&e>2};this._currentPlacementIndex>=0;){var s=n[e[this._currentPlacementIndex]],u=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=u)&&(!s.maxzoom||s.maxzoom>u)){if(this._inProgressLayer||(this._inProgressLayer=new Le(s)),this._inProgressLayer.continuePlacement(i[s.source],this.placement,this._showCollisionBoxes,s,a))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Me.prototype.commit=function(t){return this.placement.commit(t),this.placement};var Ne=512/t.EXTENT/2,Re=function(t,e,n){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var i=0;i<e.length;i++){var r=e.get(i),o=r.key;this.indexedSymbolInstances[o]||(this.indexedSymbolInstances[o]=[]),this.indexedSymbolInstances[o].push({crossTileID:r.crossTileID,coord:this.getScaledCoordinates(r,t)})}};Re.prototype.getScaledCoordinates=function(e,n){var i=Ne/Math.pow(2,n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*t.EXTENT+e.anchorX)*i),y:Math.floor((n.canonical.y*t.EXTENT+e.anchorY)*i)}},Re.prototype.findMatches=function(t,e,n){for(var i=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),r=0;r<t.length;r++){var o=t.get(r);if(!o.crossTileID){var a=this.indexedSymbolInstances[o.key];if(a)for(var s=this.getScaledCoordinates(o,e),u=0,l=a;u<l.length;u+=1){var c=l[u];if(Math.abs(c.coord.x-s.x)<=i&&Math.abs(c.coord.y-s.y)<=i&&!n[c.crossTileID]){n[c.crossTileID]=!0,o.crossTileID=c.crossTileID;break}}}}};var De=function(){this.maxCrossTileID=0};De.prototype.generate=function(){return++this.maxCrossTileID};var ze=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};ze.prototype.handleWrapJump=function(t){var e=Math.round((t-this.lng)/360);if(0!==e)for(var n in this.indexes){var i=this.indexes[n],r={};for(var o in i){var a=i[o];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+e),r[a.tileID.key]=a}this.indexes[n]=r}this.lng=t},ze.prototype.addBucket=function(t,e,n){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var i=0;i<e.symbolInstances.length;i++)e.symbolInstances.get(i).crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var r=this.usedCrossTileIDs[t.overscaledZ];for(var o in this.indexes){var a=this.indexes[o];if(Number(o)>t.overscaledZ)for(var s in a){var u=a[s];u.tileID.isChildOf(t)&&u.findMatches(e.symbolInstances,t,r)}else{var l=a[t.scaledTo(Number(o)).key];l&&l.findMatches(e.symbolInstances,t,r)}}for(var c=0;c<e.symbolInstances.length;c++){var h=e.symbolInstances.get(c);h.crossTileID||(h.crossTileID=n.generate(),r[h.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new Re(t,e.symbolInstances,e.bucketInstanceId),!0},ze.prototype.removeBucketCrossTileIDs=function(t,e){for(var n in e.indexedSymbolInstances)for(var i=0,r=e.indexedSymbolInstances[n];i<r.length;i+=1)delete this.usedCrossTileIDs[t][r[i].crossTileID]},ze.prototype.removeStaleBuckets=function(t){var e=!1;for(var n in this.indexes){var i=this.indexes[n];for(var r in i)t[i[r].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,i[r]),delete i[r],e=!0)}return e};var Fe=function(){this.layerIndexes={},this.crossTileIDs=new De,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Fe.prototype.addLayer=function(t,e,n){var i=this.layerIndexes[t.id];void 0===i&&(i=this.layerIndexes[t.id]=new ze);var r=!1,o={};i.handleWrapJump(n);for(var a=0,s=e;a<s.length;a+=1){var u=s[a],l=u.getBucket(t);l&&t.id===l.layerIds[0]&&(l.bucketInstanceId||(l.bucketInstanceId=++this.maxBucketInstanceId),i.addBucket(u.tileID,l,this.crossTileIDs)&&(r=!0),o[l.bucketInstanceId]=!0)}return i.removeStaleBuckets(o)&&(r=!0),r},Fe.prototype.pruneUnusedLayers=function(t){var e={};for(var n in t.forEach(function(t){e[t]=!0}),this.layerIndexes)e[n]||delete this.layerIndexes[n]};var Be=function(e,n){return t.emitValidationErrors(e,n&&n.filter(function(t){return"source.canvas"!==t.identifier}))},je=t.pick(Vt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Ve=t.pick(Vt,["setCenter","setZoom","setBearing","setPitch"]),Ue=function(){var e={},n=t.styleSpec.$version;for(var i in t.styleSpec.$root){var r,o=t.styleSpec.$root[i];o.required&&null!=(r="version"===i?n:"array"===o.type?[]:{})&&(e[i]=r)}return e}(),qe=function(e){function n(i,r){var o=this;void 0===r&&(r={}),e.call(this),this.map=i,this.dispatcher=new E(Ft(),this),this.imageManager=new p,this.imageManager.setEventedParent(this),this.glyphManager=new v(i._requestManager,r.localIdeographFontFamily),this.lineAtlas=new k(256,512),this.crossTileSymbolIndex=new Fe,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",t.getReferrer());var a=this;this._rtlTextPluginCallback=n.registerForPluginStateChange(function(e){a.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:e.pluginStatus,pluginURL:e.pluginURL},function(e,n){if(t.triggerPluginCompletionEvent(e),n&&n.every(function(t){return t}))for(var i in a.sourceCaches)a.sourceCaches[i].reload()})}),this.on("data",function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=o.sourceCaches[t.sourceId];if(e){var n=e.getSource();if(n&&n.vectorLayerIds)for(var i in o._layers){var r=o._layers[i];r.source===n.id&&o._validateLayer(r)}}}})}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.loadURL=function(e,n){var i=this;void 0===n&&(n={}),this.fire(new t.Event("dataloading",{dataType:"style"}));var r="boolean"==typeof n.validate?n.validate:!t.isMapboxURL(e);e=this.map._requestManager.normalizeStyleURL(e,n.accessToken);var o=this.map._requestManager.transformRequest(e,t.ResourceType.Style);this._request=t.getJSON(o,function(e,n){i._request=null,e?i.fire(new t.ErrorEvent(e)):n&&i._load(n,r)})},n.prototype.loadJSON=function(e,n){var i=this;void 0===n&&(n={}),this.fire(new t.Event("dataloading",{dataType:"style"})),this._request=t.browser.frame(function(){i._request=null,i._load(e,!1!==n.validate)})},n.prototype.loadEmpty=function(){this.fire(new t.Event("dataloading",{dataType:"style"})),this._load(Ue,!1)},n.prototype._load=function(e,n){if(!n||!Be(this,t.validateStyle(e))){for(var i in this._loaded=!0,this.stylesheet=e,e.sources)this.addSource(i,e.sources[i],{validate:!1});e.sprite?this._loadSprite(e.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(e.glyphs);var r=jt(this.stylesheet.layers);this._order=r.map(function(t){return t.id}),this._layers={},this._serializedLayers={};for(var o=0,a=r;o<a.length;o+=1){var s=a[o];(s=t.createStyleLayer(s)).setEventedParent(this,{layer:{id:s.id}}),this._layers[s.id]=s,this._serializedLayers[s.id]=s.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new x(this.stylesheet.light),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}},n.prototype._loadSprite=function(e){var n=this;this._spriteRequest=function(e,n,i){var r,o,a,s=t.browser.devicePixelRatio>1?"@2x":"",u=t.getJSON(n.transformRequest(n.normalizeSpriteURL(e,s,".json"),t.ResourceType.SpriteJSON),function(t,e){u=null,a||(a=t,r=e,c())}),l=t.getImage(n.transformRequest(n.normalizeSpriteURL(e,s,".png"),t.ResourceType.SpriteImage),function(t,e){l=null,a||(a=t,o=e,c())});function c(){if(a)i(a);else if(r&&o){var e=t.browser.getImageData(o),n={};for(var s in r){var u=r[s],l=u.width,c=u.height,h=u.x,p=u.y,f=u.sdf,d=u.pixelRatio,g=u.stretchX,m=u.stretchY,_=u.content,y=new t.RGBAImage({width:l,height:c});t.RGBAImage.copy(e,y,{x:h,y:p},{x:0,y:0},{width:l,height:c}),n[s]={data:y,pixelRatio:d,sdf:f,stretchX:g,stretchY:m,content:_}}i(null,n)}}return{cancel:function(){u&&(u.cancel(),u=null),l&&(l.cancel(),l=null)}}}(e,this.map._requestManager,function(e,i){if(n._spriteRequest=null,e)n.fire(new t.ErrorEvent(e));else if(i)for(var r in i)n.imageManager.addImage(r,i[r]);n.imageManager.setLoaded(!0),n._availableImages=n.imageManager.listImages(),n.dispatcher.broadcast("setImages",n._availableImages),n.fire(new t.Event("data",{dataType:"style"}))})},n.prototype._validateLayer=function(e){var n=this.sourceCaches[e.source];if(n){var i=e.sourceLayer;if(i){var r=n.getSource();("geojson"===r.type||r.vectorLayerIds&&-1===r.vectorLayerIds.indexOf(i))&&this.fire(new t.ErrorEvent(new Error('Source layer "'+i+'" does not exist on source "'+r.id+'" as specified by style layer "'+e.id+'"')))}}},n.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in this.sourceCaches)if(!this.sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()},n.prototype._serializeLayers=function(t){for(var e=[],n=0,i=t;n<i.length;n+=1){var r=this._layers[i[n]];"custom"!==r.type&&e.push(r.serialize())}return e},n.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var t in this.sourceCaches)if(this.sourceCaches[t].hasTransition())return!0;for(var e in this._layers)if(this._layers[e].hasTransition())return!0;return!1},n.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},n.prototype.update=function(e){if(this._loaded){var n=this._changed;if(this._changed){var i=Object.keys(this._updatedLayers),r=Object.keys(this._removedLayers);for(var o in(i.length||r.length)&&this._updateWorkerLayers(i,r),this._updatedSources){var a=this._updatedSources[o];"reload"===a?this._reloadSource(o):"clear"===a&&this._clearSource(o)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates()}var u={};for(var l in this.sourceCaches){var c=this.sourceCaches[l];u[l]=c.used,c.used=!1}for(var h=0,p=this._order;h<p.length;h+=1){var f=this._layers[p[h]];f.recalculate(e,this._availableImages),!f.isHidden(e.zoom)&&f.source&&(this.sourceCaches[f.source].used=!0)}for(var d in u){var g=this.sourceCaches[d];u[d]!==g.used&&g.fire(new t.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:d}))}this.light.recalculate(e),this.z=e.zoom,n&&this.fire(new t.Event("data",{dataType:"style"}))}},n.prototype._updateTilesForChangedImages=function(){var t=Object.keys(this._changedImages);if(t.length){for(var e in this.sourceCaches)this.sourceCaches[e].reloadTilesForDependencies(["icons","patterns"],t);this._changedImages={}}},n.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},n.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},n.prototype.setState=function(e){var n=this;if(this._checkLoaded(),Be(this,t.validateStyle(e)))return!1;(e=t.clone$1(e)).layers=jt(e.layers);var i=function(e,n){if(!e)return[{command:Vt.setStyle,args:[n]}];var i=[];try{if(!t.deepEqual(e.version,n.version))return[{command:Vt.setStyle,args:[n]}];t.deepEqual(e.center,n.center)||i.push({command:Vt.setCenter,args:[n.center]}),t.deepEqual(e.zoom,n.zoom)||i.push({command:Vt.setZoom,args:[n.zoom]}),t.deepEqual(e.bearing,n.bearing)||i.push({command:Vt.setBearing,args:[n.bearing]}),t.deepEqual(e.pitch,n.pitch)||i.push({command:Vt.setPitch,args:[n.pitch]}),t.deepEqual(e.sprite,n.sprite)||i.push({command:Vt.setSprite,args:[n.sprite]}),t.deepEqual(e.glyphs,n.glyphs)||i.push({command:Vt.setGlyphs,args:[n.glyphs]}),t.deepEqual(e.transition,n.transition)||i.push({command:Vt.setTransition,args:[n.transition]}),t.deepEqual(e.light,n.light)||i.push({command:Vt.setLight,args:[n.light]});var r={},o=[];!function(e,n,i,r){var o;for(o in n=n||{},e=e||{})e.hasOwnProperty(o)&&(n.hasOwnProperty(o)||qt(o,i,r));for(o in n)n.hasOwnProperty(o)&&(e.hasOwnProperty(o)?t.deepEqual(e[o],n[o])||("geojson"===e[o].type&&"geojson"===n[o].type&&Ht(e,n,o)?i.push({command:Vt.setGeoJSONSourceData,args:[o,n[o].data]}):Gt(o,n,i,r)):Ut(o,n,i))}(e.sources,n.sources,o,r);var a=[];e.layers&&e.layers.forEach(function(t){r[t.source]?i.push({command:Vt.removeLayer,args:[t.id]}):a.push(t)}),i=i.concat(o),function(e,n,i){n=n||[];var r,o,a,s,u,l,c,h=(e=e||[]).map(Yt),p=n.map(Yt),f=e.reduce(Zt,{}),d=n.reduce(Zt,{}),g=h.slice(),m=Object.create(null);for(r=0,o=0;r<h.length;r++)d.hasOwnProperty(a=h[r])?o++:(i.push({command:Vt.removeLayer,args:[a]}),g.splice(g.indexOf(a,o),1));for(r=0,o=0;r<p.length;r++)g[g.length-1-r]!==(a=p[p.length-1-r])&&(f.hasOwnProperty(a)?(i.push({command:Vt.removeLayer,args:[a]}),g.splice(g.lastIndexOf(a,g.length-o),1)):o++,i.push({command:Vt.addLayer,args:[d[a],l=g[g.length-r]]}),g.splice(g.length-r,0,a),m[a]=!0);for(r=0;r<p.length;r++)if(s=f[a=p[r]],u=d[a],!m[a]&&!t.deepEqual(s,u))if(t.deepEqual(s.source,u.source)&&t.deepEqual(s["source-layer"],u["source-layer"])&&t.deepEqual(s.type,u.type)){for(c in Wt(s.layout,u.layout,i,a,null,Vt.setLayoutProperty),Wt(s.paint,u.paint,i,a,null,Vt.setPaintProperty),t.deepEqual(s.filter,u.filter)||i.push({command:Vt.setFilter,args:[a,u.filter]}),t.deepEqual(s.minzoom,u.minzoom)&&t.deepEqual(s.maxzoom,u.maxzoom)||i.push({command:Vt.setLayerZoomRange,args:[a,u.minzoom,u.maxzoom]}),s)s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?Wt(s[c],u[c],i,a,c.slice(6),Vt.setPaintProperty):t.deepEqual(s[c],u[c])||i.push({command:Vt.setLayerProperty,args:[a,c,u[c]]}));for(c in u)u.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?Wt(s[c],u[c],i,a,c.slice(6),Vt.setPaintProperty):t.deepEqual(s[c],u[c])||i.push({command:Vt.setLayerProperty,args:[a,c,u[c]]}))}else i.push({command:Vt.removeLayer,args:[a]}),l=g[g.lastIndexOf(a)+1],i.push({command:Vt.addLayer,args:[u,l]})}(a,n.layers,i)}catch(t){console.warn("Unable to compute style diff:",t),i=[{command:Vt.setStyle,args:[n]}]}return i}(this.serialize(),e).filter(function(t){return!(t.command in Ve)});if(0===i.length)return!1;var r=i.filter(function(t){return!(t.command in je)});if(r.length>0)throw new Error("Unimplemented: "+r.map(function(t){return t.command}).join(", ")+".");return i.forEach(function(t){"setTransition"!==t.command&&n[t.command].apply(n,t.args)}),this.stylesheet=e,!0},n.prototype.addImage=function(e,n){if(this.getImage(e))return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(e,n),this._afterImageUpdated(e)},n.prototype.updateImage=function(t,e){this.imageManager.updateImage(t,e)},n.prototype.getImage=function(t){return this.imageManager.getImage(t)},n.prototype.removeImage=function(e){if(!this.getImage(e))return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(e),this._afterImageUpdated(e)},n.prototype._afterImageUpdated=function(e){this._availableImages=this.imageManager.listImages(),this._changedImages[e]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new t.Event("data",{dataType:"style"}))},n.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},n.prototype.addSource=function(e,n,i){var r=this;if(void 0===i&&(i={}),this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!n.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(n).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(t.validateStyle.source,"sources."+e,n,null,i))){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var o=this.sourceCaches[e]=new Tt(e,n,this.dispatcher);o.style=this,o.setEventedParent(this,function(){return{isSourceLoaded:r.loaded(),source:o.serialize(),sourceId:e}}),o.onAdd(this.map),this._changed=!0}},n.prototype.removeSource=function(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(var n in this._layers)if(this._layers[n].source===e)return this.fire(new t.ErrorEvent(new Error('Source "'+e+'" cannot be removed while layer "'+n+'" is using it.')));var i=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],i.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),i.setEventedParent(null),i.clearTiles(),i.onRemove&&i.onRemove(this.map),this._changed=!0},n.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},n.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},n.prototype.addLayer=function(e,n,i){void 0===i&&(i={}),this._checkLoaded();var r=e.id;if(this.getLayer(r))this.fire(new t.ErrorEvent(new Error('Layer with id "'+r+'" already exists on this map')));else{var o;if("custom"===e.type){if(Be(this,t.validateCustomStyleLayer(e)))return;o=t.createStyleLayer(e)}else{if("object"==typeof e.source&&(this.addSource(r,e.source),e=t.clone$1(e),e=t.extend(e,{source:r})),this._validate(t.validateStyle.layer,"layers."+r,e,{arrayIndex:-1},i))return;o=t.createStyleLayer(e),this._validateLayer(o),o.setEventedParent(this,{layer:{id:r}}),this._serializedLayers[o.id]=o.serialize()}var a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.')));else{if(this._order.splice(a,0,r),this._layerOrderChanged=!0,this._layers[r]=o,this._removedLayers[r]&&o.source&&"custom"!==o.type){var s=this._removedLayers[r];delete this._removedLayers[r],s.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map)}}},n.prototype.moveLayer=function(e,n){if(this._checkLoaded(),this._changed=!0,this._layers[e]){if(e!==n){var i=this._order.indexOf(e);this._order.splice(i,1);var r=n?this._order.indexOf(n):this._order.length;n&&-1===r?this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.'))):(this._order.splice(r,0,e),this._layerOrderChanged=!0)}}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be moved.")))},n.prototype.removeLayer=function(e){this._checkLoaded();var n=this._layers[e];if(n){n.setEventedParent(null);var i=this._order.indexOf(e);this._order.splice(i,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=n,delete this._layers[e],delete this._serializedLayers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],n.onRemove&&n.onRemove(this.map)}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be removed.")))},n.prototype.getLayer=function(t){return this._layers[t]},n.prototype.hasLayer=function(t){return t in this._layers},n.prototype.setLayerZoomRange=function(e,n,i){this._checkLoaded();var r=this.getLayer(e);r?r.minzoom===n&&r.maxzoom===i||(null!=n&&(r.minzoom=n),null!=i&&(r.maxzoom=i),this._updateLayer(r)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot have zoom extent.")))},n.prototype.setFilter=function(e,n,i){void 0===i&&(i={}),this._checkLoaded();var r=this.getLayer(e);if(r){if(!t.deepEqual(r.filter,n))return null==n?(r.filter=void 0,void this._updateLayer(r)):void(this._validate(t.validateStyle.filter,"layers."+r.id+".filter",n,null,i)||(r.filter=t.clone$1(n),this._updateLayer(r)))}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be filtered.")))},n.prototype.getFilter=function(e){return t.clone$1(this.getLayer(e).filter)},n.prototype.setLayoutProperty=function(e,n,i,r){void 0===r&&(r={}),this._checkLoaded();var o=this.getLayer(e);o?t.deepEqual(o.getLayoutProperty(n),i)||(o.setLayoutProperty(n,i,r),this._updateLayer(o)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getLayoutProperty=function(e,n){var i=this.getLayer(e);if(i)return i.getLayoutProperty(n);this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style.")))},n.prototype.setPaintProperty=function(e,n,i,r){void 0===r&&(r={}),this._checkLoaded();var o=this.getLayer(e);o?t.deepEqual(o.getPaintProperty(n),i)||(o.setPaintProperty(n,i,r)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[e]=!0):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},n.prototype.setFeatureState=function(e,n){this._checkLoaded();var i=e.source,r=e.sourceLayer,o=this.sourceCaches[i];if(void 0!==o){var a=o.getSource().type;"geojson"===a&&r?this.fire(new t.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==a||r?(void 0===e.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))),o.setFeatureState(r,e.id,n)):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+i+"' does not exist in the map's style.")))},n.prototype.removeFeatureState=function(e,n){this._checkLoaded();var i=e.source,r=this.sourceCaches[i];if(void 0!==r){var o=r.getSource().type,a="vector"===o?e.sourceLayer:void 0;"vector"!==o||a?n&&"string"!=typeof e.id&&"number"!=typeof e.id?this.fire(new t.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):r.removeFeatureState(a,e.id,n):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+i+"' does not exist in the map's style.")))},n.prototype.getFeatureState=function(e){this._checkLoaded();var n=e.source,i=e.sourceLayer,r=this.sourceCaches[n];if(void 0!==r){if("vector"!==r.getSource().type||i)return void 0===e.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))),r.getFeatureState(i,e.id);this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},n.prototype.getTransition=function(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},n.prototype.serialize=function(){return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:t.mapObject(this.sourceCaches,function(t){return t.serialize()}),layers:this._serializeLayers(this._order)},function(t){return void 0!==t})},n.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&"raster"!==this.sourceCaches[t.source].getSource().type&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},n.prototype._flattenAndSortRenderedFeatures=function(t){for(var e=this,n=function(t){return"fill-extrusion"===e._layers[t].type},i={},r=[],o=this._order.length-1;o>=0;o--){var a=this._order[o];if(n(a)){i[a]=o;for(var s=0,u=t;s<u.length;s+=1){var l=u[s][a];if(l)for(var c=0,h=l;c<h.length;c+=1)r.push(h[c])}}}r.sort(function(t,e){return e.intersectionZ-t.intersectionZ});for(var p=[],f=this._order.length-1;f>=0;f--){var d=this._order[f];if(n(d))for(var g=r.length-1;g>=0;g--){var m=r[g].feature;if(i[m.layer.id]<f)break;p.push(m),r.pop()}else for(var _=0,y=t;_<y.length;_+=1){var v=y[_][d];if(v)for(var b=0,w=v;b<w.length;b+=1)p.push(w[b].feature)}}return p},n.prototype.queryRenderedFeatures=function(e,n,i){n&&n.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",n.filter,null,n);var r={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var o=0,a=n.layers;o<a.length;o+=1){var s=a[o],u=this._layers[s];if(!u)return this.fire(new t.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];r[u.source]=!0}}var l=[];for(var c in n.availableImages=this._availableImages,this.sourceCaches)n.layers&&!r[c]||l.push(z(this.sourceCaches[c],this._layers,this._serializedLayers,e,n,i));return this.placement&&l.push(function(t,e,n,i,r,o,a){for(var s={},u=o.queryRenderedSymbols(i),l=[],c=0,h=Object.keys(u).map(Number);c<h.length;c+=1)l.push(a[h[c]]);l.sort(F);for(var p=function(){var n=d[f],i=n.featureIndex.lookupSymbolFeatures(u[n.bucketInstanceId],e,n.bucketIndex,n.sourceLayerIndex,r.filter,r.layers,r.availableImages,t);for(var o in i){var a=s[o]=s[o]||[],l=i[o];l.sort(function(t,e){var i=n.featureSortOrder;if(i){var r=i.indexOf(t.featureIndex);return i.indexOf(e.featureIndex)-r}return e.featureIndex-t.featureIndex});for(var c=0,h=l;c<h.length;c+=1)a.push(h[c])}},f=0,d=l;f<d.length;f+=1)p();var g=function(e){s[e].forEach(function(i){var r=i.feature,o=n[t[e].source].getFeatureState(r.layer["source-layer"],r.id);r.source=r.layer.source,r.layer["source-layer"]&&(r.sourceLayer=r.layer["source-layer"]),r.state=o})};for(var m in s)g(m);return s}(this._layers,this._serializedLayers,this.sourceCaches,e,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(l)},n.prototype.querySourceFeatures=function(e,n){n&&n.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",n.filter,null,n);var i=this.sourceCaches[e];return i?function(t,e){for(var n=t.getRenderableIds().map(function(e){return t.getTileByID(e)}),i=[],r={},o=0;o<n.length;o++){var a=n[o],s=a.tileID.canonical.key;r[s]||(r[s]=!0,a.querySourceFeatures(i,e))}return i}(i,n):[]},n.prototype.addSourceType=function(t,e,i){return n.getSourceType(t)?i(new Error('A source type called "'+t+'" already exists.')):(n.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},i):i(null,null))},n.prototype.getLight=function(){return this.light.getLight()},n.prototype.setLight=function(e,n){void 0===n&&(n={}),this._checkLoaded();var i=this.light.getLight(),r=!1;for(var o in e)if(!t.deepEqual(e[o],i[o])){r=!0;break}if(r){var a={now:t.browser.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e,n),this.light.updateTransitions(a)}},n.prototype._validate=function(e,n,i,r,o){return void 0===o&&(o={}),(!o||!1!==o.validate)&&Be(this,e.call(t.validateStyle,t.extend({key:n,style:this.serialize(),value:i,styleSpec:t.styleSpec},r)))},n.prototype._remove=function(){for(var e in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),t.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[e].setEventedParent(null);for(var n in this.sourceCaches)this.sourceCaches[n].clearTiles(),this.sourceCaches[n].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},n.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},n.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},n.prototype._updateSources=function(t){for(var e in this.sourceCaches)this.sourceCaches[e].update(t)},n.prototype._generateCollisionBoxes=function(){for(var t in this.sourceCaches)this._reloadSource(t)},n.prototype._updatePlacement=function(e,n,i,r,o){void 0===o&&(o=!1);for(var a=!1,s=!1,u={},l=0,c=this._order;l<c.length;l+=1){var h=this._layers[c[l]];if("symbol"===h.type){if(!u[h.source]){var p=this.sourceCaches[h.source];u[h.source]=p.getRenderableIds(!0).map(function(t){return p.getTileByID(t)}).sort(function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)})}var f=this.crossTileSymbolIndex.addLayer(h,u[h.source],e.center.lng);a=a||f}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((o=o||this._layerOrderChanged||0===i)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(t.browser.now(),e.zoom))&&(this.pauseablePlacement=new Me(e,this._order,o,n,i,r,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,u),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(t.browser.now()),s=!0),a&&this.pauseablePlacement.placement.setStale()),s||a)for(var d=0,g=this._order;d<g.length;d+=1){var m=this._layers[g[d]];"symbol"===m.type&&this.placement.updateLayerOpacities(m,u[m.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(t.browser.now())},n.prototype._releaseSymbolFadeTiles=function(){for(var t in this.sourceCaches)this.sourceCaches[t].releaseSymbolFadeTiles()},n.prototype.getImages=function(t,e,n){this.imageManager.getImages(e.icons,n),this._updateTilesForChangedImages();var i=this.sourceCaches[e.source];i&&i.setDependencies(e.tileID.key,e.type,e.icons)},n.prototype.getGlyphs=function(t,e,n){this.glyphManager.getGlyphs(e.stacks,n)},n.prototype.getResource=function(e,n,i){return t.makeRequest(n,i)},n}(t.Evented);qe.getSourceType=function(t){return R[t]},qe.setSourceType=function(t,e){R[t]=e},qe.registerForPluginStateChange=t.registerForPluginStateChange;var Ge=t.createLayout([{name:"a_pos",type:"Int16",components:2}]),He=yn("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),We=yn("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Ye=yn("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Ze=yn("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Xe=yn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Ke=yn("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),$e=yn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Je=yn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Qe=yn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),tn=yn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),en=yn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),nn=yn("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),rn=yn("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),on=yn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),an=yn("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),sn=yn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),un=yn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),ln=yn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),cn=yn("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),hn=yn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),pn=yn("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),fn=yn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),dn=yn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),gn=yn("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),mn=yn("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),_n=yn("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function yn(t,e){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,i=e.match(/attribute ([\w]+) ([\w]+)/g),r=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=o?o.concat(r):r,s={};return{fragmentSource:t=t.replace(n,function(t,e,n,i,r){return s[r]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+r+"\nvarying "+n+" "+i+" "+r+";\n#else\nuniform "+n+" "+i+" u_"+r+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+r+"\n    "+n+" "+i+" "+r+" = u_"+r+";\n#endif\n"}),vertexSource:e=e.replace(n,function(t,e,n,i,r){var o="float"===i?"vec2":"vec4",a=r.match(/color/)?"color":o;return s[r]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+r+"\nuniform lowp float u_"+r+"_t;\nattribute "+n+" "+o+" a_"+r+";\nvarying "+n+" "+i+" "+r+";\n#else\nuniform "+n+" "+i+" u_"+r+";\n#endif\n":"vec4"===a?"\n#ifndef HAS_UNIFORM_u_"+r+"\n    "+r+" = a_"+r+";\n#else\n    "+n+" "+i+" "+r+" = u_"+r+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+r+"\n    "+r+" = unpack_mix_"+a+"(a_"+r+", u_"+r+"_t);\n#else\n    "+n+" "+i+" "+r+" = u_"+r+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+r+"\nuniform lowp float u_"+r+"_t;\nattribute "+n+" "+o+" a_"+r+";\n#else\nuniform "+n+" "+i+" u_"+r+";\n#endif\n":"vec4"===a?"\n#ifndef HAS_UNIFORM_u_"+r+"\n    "+n+" "+i+" "+r+" = a_"+r+";\n#else\n    "+n+" "+i+" "+r+" = u_"+r+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+r+"\n    "+n+" "+i+" "+r+" = unpack_mix_"+a+"(a_"+r+", u_"+r+"_t);\n#else\n    "+n+" "+i+" "+r+" = u_"+r+";\n#endif\n"}),staticAttributes:i,staticUniforms:a}}var vn=Object.freeze({__proto__:null,prelude:He,background:We,backgroundPattern:Ye,circle:Ze,clippingMask:Xe,heatmap:Ke,heatmapTexture:$e,collisionBox:Je,collisionCircle:Qe,debug:tn,fill:en,fillOutline:nn,fillOutlinePattern:rn,fillPattern:on,fillExtrusion:an,fillExtrusionPattern:sn,hillshadePrepare:un,hillshade:ln,line:cn,lineGradient:hn,linePattern:pn,lineSDF:fn,raster:dn,symbolIcon:gn,symbolSDF:mn,symbolTextAndIcon:_n}),bn=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function wn(t){for(var e=[],n=0;n<t.length;n++)if(null!==t[n]){var i=t[n].split(" ");e.push(i.pop())}return e}bn.prototype.bind=function(t,e,n,i,r,o,a,s){this.context=t;for(var u=this.boundPaintVertexBuffers.length!==i.length,l=0;!u&&l<i.length;l++)this.boundPaintVertexBuffers[l]!==i[l]&&(u=!0);t.extVertexArrayObject&&this.vao&&this.boundProgram===e&&this.boundLayoutVertexBuffer===n&&!u&&this.boundIndexBuffer===r&&this.boundVertexOffset===o&&this.boundDynamicVertexBuffer===a&&this.boundDynamicVertexBuffer2===s?(t.bindVertexArrayOES.set(this.vao),a&&a.bind(),r&&r.dynamicDraw&&r.bind(),s&&s.bind()):this.freshBind(e,n,i,r,o,a,s)},bn.prototype.freshBind=function(t,e,n,i,r,o,a){var s,u=t.numAttributes,l=this.context,c=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=i,this.boundVertexOffset=r,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=l.currentNumAttributes||0;for(var h=u;h<s;h++)c.disableVertexAttribArray(h)}e.enableAttributes(c,t);for(var p=0,f=n;p<f.length;p+=1)f[p].enableAttributes(c,t);o&&o.enableAttributes(c,t),a&&a.enableAttributes(c,t),e.bind(),e.setVertexAttribPointers(c,t,r);for(var d=0,g=n;d<g.length;d+=1){var m=g[d];m.bind(),m.setVertexAttribPointers(c,t,r)}o&&(o.bind(),o.setVertexAttribPointers(c,t,r)),i&&i.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,t,r)),l.currentNumAttributes=u},bn.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var xn=function(t,e,n,i,r,o){var a=t.gl;this.program=a.createProgram();for(var s=wn(n.staticAttributes),u=i?i.getBinderAttributes():[],l=s.concat(u),c=n.staticUniforms?wn(n.staticUniforms):[],h=i?i.getBinderUniforms():[],p=[],f=0,d=c.concat(h);f<d.length;f+=1){var g=d[f];p.indexOf(g)<0&&p.push(g)}var m=i?i.defines():[];o&&m.push("#define OVERDRAW_INSPECTOR;");var _=m.concat(He.fragmentSource,n.fragmentSource).join("\n"),y=m.concat(He.vertexSource,n.vertexSource).join("\n"),v=a.createShader(a.FRAGMENT_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(v,_),a.compileShader(v),a.attachShader(this.program,v);var b=a.createShader(a.VERTEX_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(b,y),a.compileShader(b),a.attachShader(this.program,b),this.attributes={};var w={};this.numAttributes=l.length;for(var x=0;x<this.numAttributes;x++)l[x]&&(a.bindAttribLocation(this.program,x,l[x]),this.attributes[l[x]]=x);a.linkProgram(this.program),a.deleteShader(b),a.deleteShader(v);for(var k=0;k<p.length;k++){var E=p[k];if(E&&!w[E]){var S=a.getUniformLocation(this.program,E);S&&(w[E]=S)}}this.fixedUniforms=r(t,w),this.binderUniforms=i?i.getUniforms(t,w):[]}}};function kn(t,e,n){var i=1/pe(n,1,e.transform.tileZoom),r=Math.pow(2,n.tileID.overscaledZ),o=n.tileSize*Math.pow(2,e.transform.tileZoom)/r,a=o*(n.tileID.canonical.x+n.tileID.wrap*r),s=o*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[i,t.fromScale,t.toScale],u_fade:t.t,u_pixel_coord_upper:[a>>16,s>>16],u_pixel_coord_lower:[65535&a,65535&s]}}xn.prototype.draw=function(t,e,n,i,r,o,a,s,u,l,c,h,p,f,d,g){var m,_=t.gl;if(!this.failedToCreate){for(var y in t.program.set(this.program),t.setDepthMode(n),t.setStencilMode(i),t.setColorMode(r),t.setCullFace(o),this.fixedUniforms)this.fixedUniforms[y].set(a[y]);f&&f.setUniforms(t,this.binderUniforms,h,{zoom:p});for(var v=(m={},m[_.LINES]=2,m[_.TRIANGLES]=3,m[_.LINE_STRIP]=1,m)[e],b=0,w=c.get();b<w.length;b+=1){var x=w[b],k=x.vaos||(x.vaos={});(k[s]||(k[s]=new bn)).bind(t,this,u,f?f.getPaintVertexBuffers():[],l,x.vertexOffset,d,g),_.drawElements(e,x.primitiveLength*v,_.UNSIGNED_SHORT,x.primitiveOffset*v*2)}}};var En=function(e,n,i,r){var o=n.style.light,a=o.properties.get("position"),s=[a.x,a.y,a.z],u=t.create$1();"viewport"===o.properties.get("anchor")&&t.fromRotation(u,-n.transform.angle),t.transformMat3(s,s,u);var l=o.properties.get("color");return{u_matrix:e,u_lightpos:s,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[l.r,l.g,l.b],u_vertical_gradient:+i,u_opacity:r}},Sn=function(e,n,i,r,o,a,s){return t.extend(En(e,n,i,r),kn(a,n,s),{u_height_factor:-Math.pow(2,o.overscaledZ)/s.tileSize/8})},Cn=function(t){return{u_matrix:t}},In=function(e,n,i,r){return t.extend(Cn(e),kn(i,n,r))},An=function(t,e){return{u_matrix:t,u_world:e}},Pn=function(e,n,i,r,o){return t.extend(In(e,n,i,r),{u_world:o})},Tn=function(e,n,i,r){var o,a,s=e.transform;if("map"===r.paint.get("circle-pitch-alignment")){var u=pe(i,1,s.zoom);o=!0,a=[u,u]}else o=!1,a=s.pixelsToGLUnits;return{u_camera_to_center_distance:s.cameraToCenterDistance,u_scale_with_map:+("map"===r.paint.get("circle-pitch-scale")),u_matrix:e.translatePosMatrix(n.posMatrix,i,r.paint.get("circle-translate"),r.paint.get("circle-translate-anchor")),u_pitch_with_map:+o,u_device_pixel_ratio:t.browser.devicePixelRatio,u_extrude_scale:a}},On=function(t,e,n){var i=pe(n,1,e.zoom),r=Math.pow(2,e.zoom-n.tileID.overscaledZ),o=n.tileID.overscaleFactor();return{u_matrix:t,u_camera_to_center_distance:e.cameraToCenterDistance,u_pixels_to_tile_units:i,u_extrude_scale:[e.pixelsToGLUnits[0]/(i*r),e.pixelsToGLUnits[1]/(i*r)],u_overscale_factor:o}},Ln=function(t,e,n){return{u_matrix:t,u_inv_matrix:e,u_camera_to_center_distance:n.cameraToCenterDistance,u_viewport_size:[n.width,n.height]}},Mn=function(t,e,n){return void 0===n&&(n=1),{u_matrix:t,u_color:e,u_overlay:0,u_overlay_scale:n}},Nn=function(t){return{u_matrix:t}},Rn=function(t,e,n,i){return{u_matrix:t,u_extrude_scale:pe(e,1,n),u_intensity:i}},Dn=function(e,n,i){var r=e.transform;return{u_matrix:Vn(e,n,i),u_ratio:1/pe(n,1,r.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_units_to_pixels:[1/r.pixelsToGLUnits[0],1/r.pixelsToGLUnits[1]]}},zn=function(e,n,i,r){return t.extend(Dn(e,n,i),{u_image:0,u_image_height:r})},Fn=function(e,n,i,r){var o=e.transform,a=jn(n,o);return{u_matrix:Vn(e,n,i),u_texsize:n.imageAtlasTexture.size,u_ratio:1/pe(n,1,o.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_image:0,u_scale:[a,r.fromScale,r.toScale],u_fade:r.t,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},Bn=function(e,n,i,r,o){var a=e.lineAtlas,s=jn(n,e.transform),u="round"===i.layout.get("line-cap"),l=a.getDash(r.from,u),c=a.getDash(r.to,u),h=l.width*o.fromScale,p=c.width*o.toScale;return t.extend(Dn(e,n,i),{u_patternscale_a:[s/h,-l.height/2],u_patternscale_b:[s/p,-c.height/2],u_sdfgamma:a.width/(256*Math.min(h,p)*t.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:l.y,u_tex_y_b:c.y,u_mix:o.t})};function jn(t,e){return 1/pe(t,1,e.tileZoom)}function Vn(t,e,n){return t.translatePosMatrix(e.tileID.posMatrix,e,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}var Un=function(t,e,n,i,r){return{u_matrix:t,u_tl_parent:e,u_scale_parent:n,u_buffer_scale:1,u_fade_t:i.mix,u_opacity:i.opacity*r.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:r.paint.get("raster-brightness-min"),u_brightness_high:r.paint.get("raster-brightness-max"),u_saturation_factor:(a=r.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(o=r.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:qn(r.paint.get("raster-hue-rotate"))};var o,a};function qn(t){t*=Math.PI/180;var e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}var Gn,Hn=function(t,e,n,i,r,o,a,s,u,l){var c=r.transform;return{u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:c.cameraToCenterDistance,u_pitch:c.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:c.width/c.height,u_fade_change:r.options.fadeDuration?r.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:a,u_coord_matrix:s,u_is_text:+u,u_pitch_with_map:+i,u_texsize:l,u_texture:0}},Wn=function(e,n,i,r,o,a,s,u,l,c,h){var p=o.transform;return t.extend(Hn(e,n,i,r,o,a,s,u,l,c),{u_gamma_scale:r?Math.cos(p._pitch)*p.cameraToCenterDistance:1,u_device_pixel_ratio:t.browser.devicePixelRatio,u_is_halo:+h})},Yn=function(e,n,i,r,o,a,s,u,l,c){return t.extend(Wn(e,n,i,r,o,a,s,u,!0,l,!0),{u_texsize_icon:c,u_texture_icon:1})},Zn=function(t,e,n){return{u_matrix:t,u_opacity:e,u_color:n}},Xn=function(e,n,i,r,o,a){return t.extend(function(t,e,n,i){var r=n.imageManager.getPattern(t.from.toString()),o=n.imageManager.getPattern(t.to.toString()),a=n.imageManager.getPixelSize(),s=a.width,u=a.height,l=Math.pow(2,i.tileID.overscaledZ),c=i.tileSize*Math.pow(2,n.transform.tileZoom)/l,h=c*(i.tileID.canonical.x+i.tileID.wrap*l),p=c*i.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:r.tl,u_pattern_br_a:r.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[s,u],u_mix:e.t,u_pattern_size_a:r.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:e.fromScale,u_scale_b:e.toScale,u_tile_units_to_pixels:1/pe(i,1,n.transform.tileZoom),u_pixel_coord_upper:[h>>16,p>>16],u_pixel_coord_lower:[65535&h,65535&p]}}(r,a,i,o),{u_matrix:e,u_opacity:n})},Kn={fillExtrusion:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fillExtrusionPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_height_factor:new t.Uniform1f(e,n.u_height_factor),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fill:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},fillPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},fillOutline:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world)}},fillOutlinePattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},circle:function(e,n){return{u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_scale_with_map:new t.Uniform1i(e,n.u_scale_with_map),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},collisionBox:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pixels_to_tile_units:new t.Uniform1f(e,n.u_pixels_to_tile_units),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_overscale_factor:new t.Uniform1f(e,n.u_overscale_factor)}},collisionCircle:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_inv_matrix:new t.UniformMatrix4f(e,n.u_inv_matrix),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_viewport_size:new t.Uniform2f(e,n.u_viewport_size)}},debug:function(e,n){return{u_color:new t.UniformColor(e,n.u_color),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_overlay:new t.Uniform1i(e,n.u_overlay),u_overlay_scale:new t.Uniform1f(e,n.u_overlay_scale)}},clippingMask:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmap:function(e,n){return{u_extrude_scale:new t.Uniform1f(e,n.u_extrude_scale),u_intensity:new t.Uniform1f(e,n.u_intensity),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmapTexture:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_color_ramp:new t.Uniform1i(e,n.u_color_ramp),u_opacity:new t.Uniform1f(e,n.u_opacity)}},hillshade:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_latrange:new t.Uniform2f(e,n.u_latrange),u_light:new t.Uniform2f(e,n.u_light),u_shadow:new t.UniformColor(e,n.u_shadow),u_highlight:new t.UniformColor(e,n.u_highlight),u_accent:new t.UniformColor(e,n.u_accent)}},hillshadePrepare:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_dimension:new t.Uniform2f(e,n.u_dimension),u_zoom:new t.Uniform1f(e,n.u_zoom),u_unpack:new t.Uniform4f(e,n.u_unpack)}},line:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels)}},lineGradient:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_image:new t.Uniform1i(e,n.u_image),u_image_height:new t.Uniform1f(e,n.u_image_height)}},linePattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_texsize:new t.Uniform2f(e,n.u_texsize),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_image:new t.Uniform1i(e,n.u_image),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},lineSDF:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_patternscale_a:new t.Uniform2f(e,n.u_patternscale_a),u_patternscale_b:new t.Uniform2f(e,n.u_patternscale_b),u_sdfgamma:new t.Uniform1f(e,n.u_sdfgamma),u_image:new t.Uniform1i(e,n.u_image),u_tex_y_a:new t.Uniform1f(e,n.u_tex_y_a),u_tex_y_b:new t.Uniform1f(e,n.u_tex_y_b),u_mix:new t.Uniform1f(e,n.u_mix)}},raster:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_tl_parent:new t.Uniform2f(e,n.u_tl_parent),u_scale_parent:new t.Uniform1f(e,n.u_scale_parent),u_buffer_scale:new t.Uniform1f(e,n.u_buffer_scale),u_fade_t:new t.Uniform1f(e,n.u_fade_t),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image0:new t.Uniform1i(e,n.u_image0),u_image1:new t.Uniform1i(e,n.u_image1),u_brightness_low:new t.Uniform1f(e,n.u_brightness_low),u_brightness_high:new t.Uniform1f(e,n.u_brightness_high),u_saturation_factor:new t.Uniform1f(e,n.u_saturation_factor),u_contrast_factor:new t.Uniform1f(e,n.u_contrast_factor),u_spin_weights:new t.Uniform3f(e,n.u_spin_weights)}},symbolIcon:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1i(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture)}},symbolSDF:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1i(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture),u_gamma_scale:new t.Uniform1f(e,n.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_is_halo:new t.Uniform1i(e,n.u_is_halo)}},symbolTextAndIcon:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1i(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texsize_icon:new t.Uniform2f(e,n.u_texsize_icon),u_texture:new t.Uniform1i(e,n.u_texture),u_texture_icon:new t.Uniform1i(e,n.u_texture_icon),u_gamma_scale:new t.Uniform1f(e,n.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_is_halo:new t.Uniform1i(e,n.u_is_halo)}},background:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_color:new t.UniformColor(e,n.u_color)}},backgroundPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image:new t.Uniform1i(e,n.u_image),u_pattern_tl_a:new t.Uniform2f(e,n.u_pattern_tl_a),u_pattern_br_a:new t.Uniform2f(e,n.u_pattern_br_a),u_pattern_tl_b:new t.Uniform2f(e,n.u_pattern_tl_b),u_pattern_br_b:new t.Uniform2f(e,n.u_pattern_br_b),u_texsize:new t.Uniform2f(e,n.u_texsize),u_mix:new t.Uniform1f(e,n.u_mix),u_pattern_size_a:new t.Uniform2f(e,n.u_pattern_size_a),u_pattern_size_b:new t.Uniform2f(e,n.u_pattern_size_b),u_scale_a:new t.Uniform1f(e,n.u_scale_a),u_scale_b:new t.Uniform1f(e,n.u_scale_b),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_tile_units_to_pixels:new t.Uniform1f(e,n.u_tile_units_to_pixels)}}};function $n(e,n,i,r,o,a,s){for(var u=e.context,l=u.gl,c=e.useProgram("collisionBox"),h=[],p=0,f=0,d=0;d<r.length;d++){var g=r[d],m=n.getTile(g),_=m.getBucket(i);if(_){var y=g.posMatrix;0===o[0]&&0===o[1]||(y=e.translatePosMatrix(g.posMatrix,m,o,a));var v=s?_.textCollisionBox:_.iconCollisionBox,b=_.collisionCircleArray;if(b.length>0){var w=t.create(),x=y;t.mul(w,_.placementInvProjMatrix,e.transform.glCoordMatrix),t.mul(w,w,_.placementViewportMatrix),h.push({circleArray:b,circleOffset:f,transform:x,invTransform:w}),f=p+=b.length/4}v&&c.draw(u,l.LINES,St.disabled,Ct.disabled,e.colorModeForRenderPass(),At.disabled,On(y,e.transform,m),i.id,v.layoutVertexBuffer,v.indexBuffer,v.segments,null,e.transform.zoom,null,null,v.collisionVertexBuffer)}}if(s&&h.length){var k=e.useProgram("collisionCircle"),E=new t.StructArrayLayout2f1f2i16;E.resize(4*p),E._trim();for(var S=0,C=0,I=h;C<I.length;C+=1)for(var A=I[C],P=0;P<A.circleArray.length/4;P++){var T=4*P,O=A.circleArray[T+0],L=A.circleArray[T+1],M=A.circleArray[T+2],N=A.circleArray[T+3];E.emplace(S++,O,L,M,N,0),E.emplace(S++,O,L,M,N,1),E.emplace(S++,O,L,M,N,2),E.emplace(S++,O,L,M,N,3)}(!Gn||Gn.length<2*p)&&(Gn=function(e){var n=2*e,i=new t.StructArrayLayout3ui6;i.resize(n),i._trim();for(var r=0;r<n;r++){var o=6*r;i.uint16[o+0]=4*r+0,i.uint16[o+1]=4*r+1,i.uint16[o+2]=4*r+2,i.uint16[o+3]=4*r+2,i.uint16[o+4]=4*r+3,i.uint16[o+5]=4*r+0}return i}(p));for(var R=u.createIndexBuffer(Gn,!0),D=u.createVertexBuffer(E,t.collisionCircleLayout.members,!0),z=0,F=h;z<F.length;z+=1){var B=F[z],j=Ln(B.transform,B.invTransform,e.transform);k.draw(u,l.TRIANGLES,St.disabled,Ct.disabled,e.colorModeForRenderPass(),At.disabled,j,i.id,D,R,t.SegmentVector.simpleSegment(0,2*B.circleOffset,B.circleArray.length,B.circleArray.length/2),null,e.transform.zoom,null,null,null)}D.destroy(),R.destroy()}}var Jn=t.identity(new Float32Array(16));function Qn(e,n,i,r,o,a){var s=t.getAnchorAlignment(e),u=-(s.horizontalAlign-.5)*n,l=-(s.verticalAlign-.5)*i,c=t.evaluateVariableOffset(e,r);return new t.Point((u/o+c[0])*a,(l/o+c[1])*a)}function ti(e,n,i,r,o,a,s,u,l,c,h){var p=e.text.placedSymbolArray,f=e.text.dynamicLayoutVertexArray,d=e.icon.dynamicLayoutVertexArray,g={};f.clear();for(var m=0;m<p.length;m++){var _=p.get(m),y=_.hidden||!_.crossTileID||e.allowVerticalPlacement&&!_.placedOrientation?null:r[_.crossTileID];if(y){var v=new t.Point(_.anchorX,_.anchorY),b=Qt(v,i?u:s),w=te(a.cameraToCenterDistance,b.signedDistanceFromCamera),x=o.evaluateSizeForFeature(e.textSizeData,c,_)*w/t.ONE_EM;i&&(x*=e.tilePixelRatio/l);for(var k=Qn(y.anchor,y.width,y.height,y.textOffset,y.textBoxScale,x),E=i?Qt(v.add(k),s).point:b.point.add(n?k.rotate(-a.angle):k),S=e.allowVerticalPlacement&&_.placedOrientation===t.WritingMode.vertical?Math.PI/2:0,C=0;C<_.numGlyphs;C++)t.addDynamicAttributes(f,E,S);h&&_.associatedIconIndex>=0&&(g[_.associatedIconIndex]={shiftedAnchor:E,angle:S})}else le(_.numGlyphs,f)}if(h){d.clear();for(var I=e.icon.placedSymbolArray,A=0;A<I.length;A++){var P=I.get(A);if(P.hidden)le(P.numGlyphs,d);else{var T=g[A];if(T)for(var O=0;O<P.numGlyphs;O++)t.addDynamicAttributes(d,T.shiftedAnchor,T.angle);else le(P.numGlyphs,d)}}e.icon.dynamicLayoutVertexBuffer.updateData(d)}e.text.dynamicLayoutVertexBuffer.updateData(f)}function ei(t,e,n){return n.iconsInText&&e?"symbolTextAndIcon":t?"symbolSDF":"symbolIcon"}function ni(e,n,i,r,o,a,s,u,l,c,h,p){for(var f=e.context,d=f.gl,g=e.transform,m="map"===u,_="map"===l,y=m&&"point"!==i.layout.get("symbol-placement"),v=m&&!_&&!y,b=void 0!==i.layout.get("symbol-sort-key").constantOr(1),w=!1,x=e.depthModeForSublayer(0,St.ReadOnly),k=i.layout.get("text-variable-anchor"),E=[],S=0,C=r;S<C.length;S+=1){var I=C[S],A=n.getTile(I),P=A.getBucket(i);if(P){var T=o?P.text:P.icon;if(T&&T.segments.get().length){var O=T.programConfigurations.get(i.id),L=o||P.sdfIcons,M=o?P.textSizeData:P.iconSizeData,N=_||0!==g.pitch,R=e.useProgram(ei(L,o,P),O),D=t.evaluateSizeForZoom(M,g.zoom),z=void 0,F=[0,0],B=void 0,j=void 0,V=null,U=void 0;if(o)B=A.glyphAtlasTexture,j=d.LINEAR,z=A.glyphAtlasTexture.size,P.iconsInText&&(F=A.imageAtlasTexture.size,V=A.imageAtlasTexture,U=N||e.options.rotating||e.options.zooming||"composite"===M.kind||"camera"===M.kind?d.LINEAR:d.NEAREST);else{var q=1!==i.layout.get("icon-size").constantOr(0)||P.iconsNeedLinear;B=A.imageAtlasTexture,j=L||e.options.rotating||e.options.zooming||q||N?d.LINEAR:d.NEAREST,z=A.imageAtlasTexture.size}var G=pe(A,1,e.transform.zoom),H=$t(I.posMatrix,_,m,e.transform,G),W=Jt(I.posMatrix,_,m,e.transform,G),Y=k&&P.hasTextData(),Z="none"!==i.layout.get("icon-text-fit")&&Y&&P.hasIconData();y&&ne(P,I.posMatrix,e,o,H,W,_,c);var X=e.translatePosMatrix(I.posMatrix,A,a,s),K=y||o&&k||Z?Jn:H,$=e.translatePosMatrix(W,A,a,s,!0),J=L&&0!==i.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1),Q={program:R,buffers:T,uniformValues:L?P.iconsInText?Yn(M.kind,D,v,_,e,X,K,$,z,F):Wn(M.kind,D,v,_,e,X,K,$,o,z,!0):Hn(M.kind,D,v,_,e,X,K,$,o,z),atlasTexture:B,atlasTextureIcon:V,atlasInterpolation:j,atlasInterpolationIcon:U,isSDF:L,hasHalo:J};if(b&&P.canOverlap){w=!0;for(var tt=0,et=T.segments.get();tt<et.length;tt+=1){var nt=et[tt];E.push({segments:new t.SegmentVector([nt]),sortKey:nt.sortKey,state:Q})}}else E.push({segments:T.segments,sortKey:0,state:Q})}}}w&&E.sort(function(t,e){return t.sortKey-e.sortKey});for(var it=0,rt=E;it<rt.length;it+=1){var ot=rt[it],at=ot.state;if(f.activeTexture.set(d.TEXTURE0),at.atlasTexture.bind(at.atlasInterpolation,d.CLAMP_TO_EDGE),at.atlasTextureIcon&&(f.activeTexture.set(d.TEXTURE1),at.atlasTextureIcon&&at.atlasTextureIcon.bind(at.atlasInterpolationIcon,d.CLAMP_TO_EDGE)),at.isSDF){var st=at.uniformValues;at.hasHalo&&(st.u_is_halo=1,ii(at.buffers,ot.segments,i,e,at.program,x,h,p,st)),st.u_is_halo=0}ii(at.buffers,ot.segments,i,e,at.program,x,h,p,at.uniformValues)}}function ii(t,e,n,i,r,o,a,s,u){var l=i.context;r.draw(l,l.gl.TRIANGLES,o,a,s,At.disabled,u,n.id,t.layoutVertexBuffer,t.indexBuffer,e,n.paint,i.transform.zoom,t.programConfigurations.get(n.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function ri(t,e,n,i,r,o,a){var s,u,l,c,h,p=t.context.gl,f=n.paint.get("fill-pattern"),d=f&&f.constantOr(1),g=n.getCrossfadeParameters();a?(u=d&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=p.LINES):(u=d?"fillPattern":"fill",s=p.TRIANGLES);for(var m=0,_=i;m<_.length;m+=1){var y=_[m],v=e.getTile(y);if(!d||v.patternsLoaded()){var b=v.getBucket(n);if(b){var w=b.programConfigurations.get(n.id),x=t.useProgram(u,w);d&&(t.context.activeTexture.set(p.TEXTURE0),v.imageAtlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE),w.updatePaintBuffers(g));var k=f.constantOr(null);if(k&&v.imageAtlas){var E=v.imageAtlas,S=E.patternPositions[k.to.toString()],C=E.patternPositions[k.from.toString()];S&&C&&w.setConstantPatternPositions(S,C)}var I=t.translatePosMatrix(y.posMatrix,v,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(a){c=b.indexBuffer2,h=b.segments2;var A=[p.drawingBufferWidth,p.drawingBufferHeight];l="fillOutlinePattern"===u&&d?Pn(I,t,g,v,A):An(I,A)}else c=b.indexBuffer,h=b.segments,l=d?In(I,t,g,v):Cn(I);x.draw(t.context,s,r,t.stencilModeForClipping(y),o,At.disabled,l,n.id,b.layoutVertexBuffer,c,h,n.paint,t.transform.zoom,w)}}}}function oi(t,e,n,i,r,o,a){for(var s=t.context,u=s.gl,l=n.paint.get("fill-extrusion-pattern"),c=l.constantOr(1),h=n.getCrossfadeParameters(),p=n.paint.get("fill-extrusion-opacity"),f=0,d=i;f<d.length;f+=1){var g=d[f],m=e.getTile(g),_=m.getBucket(n);if(_){var y=_.programConfigurations.get(n.id),v=t.useProgram(c?"fillExtrusionPattern":"fillExtrusion",y);c&&(t.context.activeTexture.set(u.TEXTURE0),m.imageAtlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE),y.updatePaintBuffers(h));var b=l.constantOr(null);if(b&&m.imageAtlas){var w=m.imageAtlas,x=w.patternPositions[b.to.toString()],k=w.patternPositions[b.from.toString()];x&&k&&y.setConstantPatternPositions(x,k)}var E=t.translatePosMatrix(g.posMatrix,m,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),S=n.paint.get("fill-extrusion-vertical-gradient"),C=c?Sn(E,t,S,p,g,h,m):En(E,t,S,p);v.draw(s,s.gl.TRIANGLES,r,o,a,At.backCCW,C,n.id,_.layoutVertexBuffer,_.indexBuffer,_.segments,n.paint,t.transform.zoom,y)}}}function ai(e,n,i,r,o,a){var s=e.context,u=s.gl,l=n.fbo;if(l){var c=e.useProgram("hillshade");s.activeTexture.set(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,l.colorAttachment.get());var h=function(e,n,i){var r=i.paint.get("hillshade-shadow-color"),o=i.paint.get("hillshade-highlight-color"),a=i.paint.get("hillshade-accent-color"),s=i.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===i.paint.get("hillshade-illumination-anchor")&&(s-=e.transform.angle);var u,l,c,h=!e.options.moving;return{u_matrix:e.transform.calculatePosMatrix(n.tileID.toUnwrapped(),h),u_image:0,u_latrange:(u=n.tileID,l=Math.pow(2,u.canonical.z),c=u.canonical.y,[new t.MercatorCoordinate(0,c/l).toLngLat().lat,new t.MercatorCoordinate(0,(c+1)/l).toLngLat().lat]),u_light:[i.paint.get("hillshade-exaggeration"),s],u_shadow:r,u_highlight:o,u_accent:a}}(e,n,i);c.draw(s,u.TRIANGLES,r,o,a,At.disabled,h,i.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}}function si(e,n,i,r,o,a){var s=e.context,u=s.gl,l=n.dem;if(l&&l.data){var c=l.dim,h=l.stride,p=l.getPixels();if(s.activeTexture.set(u.TEXTURE1),s.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||e.getTileTexture(h),n.demTexture){var f=n.demTexture;f.update(p,{premultiply:!1}),f.bind(u.NEAREST,u.CLAMP_TO_EDGE)}else n.demTexture=new t.Texture(s,p,u.RGBA,{premultiply:!1}),n.demTexture.bind(u.NEAREST,u.CLAMP_TO_EDGE);s.activeTexture.set(u.TEXTURE0);var d=n.fbo;if(!d){var g=new t.Texture(s,{width:c,height:c,data:null},u.RGBA);g.bind(u.LINEAR,u.CLAMP_TO_EDGE),(d=n.fbo=s.createFramebuffer(c,c,!0)).colorAttachment.set(g.texture)}s.bindFramebuffer.set(d.framebuffer),s.viewport.set([0,0,c,c]),e.useProgram("hillshadePrepare").draw(s,u.TRIANGLES,r,o,a,At.disabled,function(e,n){var i=n.stride,r=t.create();return t.ortho(r,0,t.EXTENT,-t.EXTENT,0,0,1),t.translate(r,r,[0,-t.EXTENT,0]),{u_matrix:r,u_image:1,u_dimension:[i,i],u_zoom:e.overscaledZ,u_unpack:n.getUnpackVector()}}(n.tileID,l),i.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function ui(e,n,i,r,o){var a=r.paint.get("raster-fade-duration");if(a>0){var s=t.browser.now(),u=(s-e.timeAdded)/a,l=n?(s-n.timeAdded)/a:-1,c=i.getSource(),h=o.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),p=!n||Math.abs(n.tileID.overscaledZ-h)>Math.abs(e.tileID.overscaledZ-h),f=p&&e.refreshedUponExpiration?1:t.clamp(p?u:1-l,0,1);return e.refreshedUponExpiration&&u>=1&&(e.refreshedUponExpiration=!1),n?{opacity:1,mix:1-f}:{opacity:f,mix:0}}return{opacity:1,mix:0}}var li=new t.Color(1,0,0,1),ci=new t.Color(0,1,0,1),hi=new t.Color(0,0,1,1),pi=new t.Color(1,0,1,1),fi=new t.Color(0,1,1,1);function di(t,e,n,i){mi(t,0,e+n/2,t.transform.width,n,i)}function gi(t,e,n,i){mi(t,e-n/2,0,n,t.transform.height,i)}function mi(e,n,i,r,o,a){var s=e.context,u=s.gl;u.enable(u.SCISSOR_TEST),u.scissor(n*t.browser.devicePixelRatio,i*t.browser.devicePixelRatio,r*t.browser.devicePixelRatio,o*t.browser.devicePixelRatio),s.clear({color:a}),u.disable(u.SCISSOR_TEST)}function _i(e,n,i){var r=e.context,o=r.gl,a=i.posMatrix,s=e.useProgram("debug"),u=St.disabled,l=Ct.disabled,c=e.colorModeForRenderPass();r.activeTexture.set(o.TEXTURE0),e.emptyTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE),s.draw(r,o.LINE_STRIP,u,l,c,At.disabled,Mn(a,t.Color.red),"$debug",e.debugBuffer,e.tileBorderIndexBuffer,e.debugSegments);var h=n.getTileByID(i.key).latestRawTileData,p=Math.floor((h&&h.byteLength||0)/1024),f=n.getTile(i).tileSize,d=512/Math.min(f,512)*(i.overscaledZ/e.transform.zoom)*.5,g=i.canonical.toString();i.overscaledZ!==i.canonical.z&&(g+=" => "+i.overscaledZ),function(t,e){t.initDebugOverlayCanvas();var n=t.debugOverlayCanvas,i=t.context.gl,r=t.debugOverlayCanvas.getContext("2d");r.clearRect(0,0,n.width,n.height),r.shadowColor="white",r.shadowBlur=2,r.lineWidth=1.5,r.strokeStyle="white",r.textBaseline="top",r.font="bold 36px Open Sans, sans-serif",r.fillText(e,5,5),r.strokeText(e,5,5),t.debugOverlayTexture.update(n),t.debugOverlayTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE)}(e,g+" "+p+"kb"),s.draw(r,o.TRIANGLES,u,l,It.alphaBlended,At.disabled,Mn(a,t.Color.transparent,d),"$debug",e.debugBuffer,e.quadTriangleIndexBuffer,e.debugSegments)}var yi={symbol:function(e,n,i,r,o){if("translucent"===e.renderPass){var a=Ct.disabled,s=e.colorModeForRenderPass();i.layout.get("text-variable-anchor")&&function(e,n,i,r,o,a,s){for(var u=n.transform,l="map"===o,c="map"===a,h=0,p=e;h<p.length;h+=1){var f=p[h],d=r.getTile(f),g=d.getBucket(i);if(g&&g.text&&g.text.segments.get().length){var m=t.evaluateSizeForZoom(g.textSizeData,u.zoom),_=pe(d,1,n.transform.zoom),y=$t(f.posMatrix,c,l,n.transform,_),v="none"!==i.layout.get("icon-text-fit")&&g.hasIconData();if(m){var b=Math.pow(2,u.zoom-d.tileID.overscaledZ);ti(g,l,c,s,t.symbolSize,u,y,f.posMatrix,b,m,v)}}}}(r,e,i,n,i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),o),0!==i.paint.get("icon-opacity").constantOr(1)&&ni(e,n,i,r,!1,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),i.layout.get("icon-rotation-alignment"),i.layout.get("icon-pitch-alignment"),i.layout.get("icon-keep-upright"),a,s),0!==i.paint.get("text-opacity").constantOr(1)&&ni(e,n,i,r,!0,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),i.layout.get("text-keep-upright"),a,s),n.map.showCollisionBoxes&&($n(e,n,i,r,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),!0),$n(e,n,i,r,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),!1))}},circle:function(e,n,i,r){if("translucent"===e.renderPass){var o=i.paint.get("circle-opacity"),a=i.paint.get("circle-stroke-width"),s=i.paint.get("circle-stroke-opacity"),u=void 0!==i.layout.get("circle-sort-key").constantOr(1);if(0!==o.constantOr(1)||0!==a.constantOr(1)&&0!==s.constantOr(1)){for(var l=e.context,c=l.gl,h=e.depthModeForSublayer(0,St.ReadOnly),p=Ct.disabled,f=e.colorModeForRenderPass(),d=[],g=0;g<r.length;g++){var m=r[g],_=n.getTile(m),y=_.getBucket(i);if(y){var v=y.programConfigurations.get(i.id),b={programConfiguration:v,program:e.useProgram("circle",v),layoutVertexBuffer:y.layoutVertexBuffer,indexBuffer:y.indexBuffer,uniformValues:Tn(e,m,_,i)};if(u)for(var w=0,x=y.segments.get();w<x.length;w+=1){var k=x[w];d.push({segments:new t.SegmentVector([k]),sortKey:k.sortKey,state:b})}else d.push({segments:y.segments,sortKey:0,state:b})}}u&&d.sort(function(t,e){return t.sortKey-e.sortKey});for(var E=0,S=d;E<S.length;E+=1){var C=S[E],I=C.state;I.program.draw(l,c.TRIANGLES,h,p,f,At.disabled,I.uniformValues,i.id,I.layoutVertexBuffer,I.indexBuffer,C.segments,i.paint,e.transform.zoom,I.programConfiguration)}}}},heatmap:function(e,n,i,r){if(0!==i.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){var o=e.context,a=o.gl,s=Ct.disabled,u=new It([a.ONE,a.ONE],t.Color.transparent,[!0,!0,!0,!0]);!function(t,e,n){var i=t.gl;t.activeTexture.set(i.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var r=n.heatmapFbo;if(r)i.bindTexture(i.TEXTURE_2D,r.colorAttachment.get()),t.bindFramebuffer.set(r.framebuffer);else{var o=i.createTexture();i.bindTexture(i.TEXTURE_2D,o),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),r=n.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4,!1),function(t,e,n,i){var r=t.gl;r.texImage2D(r.TEXTURE_2D,0,r.RGBA,e.width/4,e.height/4,0,r.RGBA,t.extRenderToTextureHalfFloat?t.extTextureHalfFloat.HALF_FLOAT_OES:r.UNSIGNED_BYTE,null),i.colorAttachment.set(n)}(t,e,o,r)}}(o,e,i),o.clear({color:t.Color.transparent});for(var l=0;l<r.length;l++){var c=r[l];if(!n.hasRenderableParent(c)){var h=n.getTile(c),p=h.getBucket(i);if(p){var f=p.programConfigurations.get(i.id);e.useProgram("heatmap",f).draw(o,a.TRIANGLES,St.disabled,s,u,At.disabled,Rn(c.posMatrix,h,e.transform.zoom,i.paint.get("heatmap-intensity")),i.id,p.layoutVertexBuffer,p.indexBuffer,p.segments,i.paint,e.transform.zoom,f)}}}o.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,n){var i=e.context,r=i.gl,o=n.heatmapFbo;if(o){i.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,o.colorAttachment.get()),i.activeTexture.set(r.TEXTURE1);var a=n.colorRampTexture;a||(a=n.colorRampTexture=new t.Texture(i,n.colorRamp,r.RGBA)),a.bind(r.LINEAR,r.CLAMP_TO_EDGE),e.useProgram("heatmapTexture").draw(i,r.TRIANGLES,St.disabled,Ct.disabled,e.colorModeForRenderPass(),At.disabled,function(e,n,i,r){var o=t.create();t.ortho(o,0,e.width,e.height,0,0,1);var a=e.context.gl;return{u_matrix:o,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:n.paint.get("heatmap-opacity")}}(e,n),n.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,n.paint,e.transform.zoom)}}(e,i))},line:function(e,n,i,r){if("translucent"===e.renderPass){var o=i.paint.get("line-opacity"),a=i.paint.get("line-width");if(0!==o.constantOr(1)&&0!==a.constantOr(1))for(var s=e.depthModeForSublayer(0,St.ReadOnly),u=e.colorModeForRenderPass(),l=i.paint.get("line-dasharray"),c=i.paint.get("line-pattern"),h=c.constantOr(1),p=i.paint.get("line-gradient"),f=i.getCrossfadeParameters(),d=h?"linePattern":l?"lineSDF":p?"lineGradient":"line",g=e.context,m=g.gl,_=!0,y=0,v=r;y<v.length;y+=1){var b=v[y],w=n.getTile(b);if(!h||w.patternsLoaded()){var x=w.getBucket(i);if(x){var k=x.programConfigurations.get(i.id),E=e.context.program.get(),S=e.useProgram(d,k),C=_||S.program!==E,I=c.constantOr(null);if(I&&w.imageAtlas){var A=w.imageAtlas,P=A.patternPositions[I.to.toString()],T=A.patternPositions[I.from.toString()];P&&T&&k.setConstantPatternPositions(P,T)}var O=h?Fn(e,w,i,f):l?Bn(e,w,i,l,f):p?zn(e,w,i,x.lineClipsArray.length):Dn(e,w,i);if(h)g.activeTexture.set(m.TEXTURE0),w.imageAtlasTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE),k.updatePaintBuffers(f);else if(l&&(C||e.lineAtlas.dirty))g.activeTexture.set(m.TEXTURE0),e.lineAtlas.bind(g);else if(p){var L=x.gradients[i.id],M=L.texture;if(i.gradientVersion!==L.version){var N=256;if(i.stepInterpolant){var R=n.getSource().maxzoom,D=b.canonical.z===R?Math.ceil(1<<e.transform.maxZoom-b.canonical.z):1;N=t.clamp(t.nextPowerOfTwo(x.maxLineLength/t.EXTENT*1024*D),256,g.maxTextureSize)}L.gradient=t.renderColorRamp({expression:i.gradientExpression(),evaluationKey:"lineProgress",resolution:N,image:L.gradient||void 0,clips:x.lineClipsArray}),L.texture?L.texture.update(L.gradient):L.texture=new t.Texture(g,L.gradient,m.RGBA),L.version=i.gradientVersion,M=L.texture}g.activeTexture.set(m.TEXTURE0),M.bind(i.stepInterpolant?m.NEAREST:m.LINEAR,m.CLAMP_TO_EDGE)}S.draw(g,m.TRIANGLES,s,e.stencilModeForClipping(b),u,At.disabled,O,i.id,x.layoutVertexBuffer,x.indexBuffer,x.segments,i.paint,e.transform.zoom,k,x.layoutVertexBuffer2),_=!1}}}}},fill:function(e,n,i,r){var o=i.paint.get("fill-color"),a=i.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=e.colorModeForRenderPass(),u=i.paint.get("fill-pattern"),l=e.opaquePassEnabledForLayer()&&!u.constantOr(1)&&1===o.constantOr(t.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(e.renderPass===l){var c=e.depthModeForSublayer(1,"opaque"===e.renderPass?St.ReadWrite:St.ReadOnly);ri(e,n,i,r,c,s,!1)}if("translucent"===e.renderPass&&i.paint.get("fill-antialias")){var h=e.depthModeForSublayer(i.getPaintProperty("fill-outline-color")?2:0,St.ReadOnly);ri(e,n,i,r,h,s,!0)}}},"fill-extrusion":function(t,e,n,i){var r=n.paint.get("fill-extrusion-opacity");if(0!==r&&"translucent"===t.renderPass){var o=new St(t.context.gl.LEQUAL,St.ReadWrite,t.depthRangeFor3D);if(1!==r||n.paint.get("fill-extrusion-pattern").constantOr(1))oi(t,e,n,i,o,Ct.disabled,It.disabled),oi(t,e,n,i,o,t.stencilModeFor3D(),t.colorModeForRenderPass());else{var a=t.colorModeForRenderPass();oi(t,e,n,i,o,Ct.disabled,a)}}},hillshade:function(t,e,n,i){if("offscreen"===t.renderPass||"translucent"===t.renderPass){for(var r=t.context,o=t.depthModeForSublayer(0,St.ReadOnly),a=t.colorModeForRenderPass(),s="translucent"===t.renderPass?t.stencilConfigForOverlap(i):[{},i],u=s[0],l=0,c=s[1];l<c.length;l+=1){var h=c[l],p=e.getTile(h);p.needsHillshadePrepare&&"offscreen"===t.renderPass?si(t,p,n,o,Ct.disabled,a):"translucent"===t.renderPass&&ai(t,p,n,o,u[h.overscaledZ],a)}r.viewport.set([0,0,t.width,t.height])}},raster:function(t,e,n,i){if("translucent"===t.renderPass&&0!==n.paint.get("raster-opacity")&&i.length)for(var r=t.context,o=r.gl,a=e.getSource(),s=t.useProgram("raster"),u=t.colorModeForRenderPass(),l=a instanceof L?[{},i]:t.stencilConfigForOverlap(i),c=l[0],h=l[1],p=h[h.length-1].overscaledZ,f=!t.options.moving,d=0,g=h;d<g.length;d+=1){var m=g[d],_=t.depthModeForSublayer(m.overscaledZ-p,1===n.paint.get("raster-opacity")?St.ReadWrite:St.ReadOnly,o.LESS),y=e.getTile(m),v=t.transform.calculatePosMatrix(m.toUnwrapped(),f);y.registerFadeDuration(n.paint.get("raster-fade-duration"));var b=e.findLoadedParent(m,0),w=ui(y,b,e,n,t.transform),x=void 0,k=void 0,E="nearest"===n.paint.get("raster-resampling")?o.NEAREST:o.LINEAR;r.activeTexture.set(o.TEXTURE0),y.texture.bind(E,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),r.activeTexture.set(o.TEXTURE1),b?(b.texture.bind(E,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),x=Math.pow(2,b.tileID.overscaledZ-y.tileID.overscaledZ),k=[y.tileID.canonical.x*x%1,y.tileID.canonical.y*x%1]):y.texture.bind(E,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST);var S=Un(v,k||[0,0],x||1,w,n);a instanceof L?s.draw(r,o.TRIANGLES,_,Ct.disabled,u,At.disabled,S,n.id,a.boundsBuffer,t.quadTriangleIndexBuffer,a.boundsSegments):s.draw(r,o.TRIANGLES,_,c[m.overscaledZ],u,At.disabled,S,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}},background:function(t,e,n){var i=n.paint.get("background-color"),r=n.paint.get("background-opacity");if(0!==r){var o=t.context,a=o.gl,s=t.transform,u=s.tileSize,l=n.paint.get("background-pattern");if(!t.isPatternMissing(l)){var c=!l&&1===i.a&&1===r&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass===c){var h=Ct.disabled,p=t.depthModeForSublayer(0,"opaque"===c?St.ReadWrite:St.ReadOnly),f=t.colorModeForRenderPass(),d=t.useProgram(l?"backgroundPattern":"background"),g=s.coveringTiles({tileSize:u});l&&(o.activeTexture.set(a.TEXTURE0),t.imageManager.bind(t.context));for(var m=n.getCrossfadeParameters(),_=0,y=g;_<y.length;_+=1){var v=y[_],b=t.transform.calculatePosMatrix(v.toUnwrapped()),w=l?Xn(b,r,t,l,{tileID:v,tileSize:u},m):Zn(b,r,i);d.draw(o,a.TRIANGLES,p,h,f,At.disabled,w,n.id,t.tileExtentBuffer,t.quadTriangleIndexBuffer,t.tileExtentSegments)}}}}},debug:function(t,e,n){for(var i=0;i<n.length;i++)_i(t,e,n[i])},custom:function(t,e,n){var i=t.context,r=n.implementation;if("offscreen"===t.renderPass){var o=r.prerender;o&&(t.setCustomLayerDefaults(),i.setColorMode(t.colorModeForRenderPass()),o.call(r,i.gl,t.transform.customLayerMatrix()),i.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass){t.setCustomLayerDefaults(),i.setColorMode(t.colorModeForRenderPass()),i.setStencilMode(Ct.disabled);var a="3d"===r.renderingMode?new St(t.context.gl.LEQUAL,St.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,St.ReadOnly);i.setDepthMode(a),r.render(i.gl,t.transform.customLayerMatrix()),i.setDirty(),t.setBaseState(),i.bindFramebuffer.set(null)}}},vi=function(t,e){this.context=new Pt(t),this.transform=e,this._tileTextures={},this.setup(),this.numSublayers=Tt.maxUnderzooming+Tt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Fe,this.gpuTimers={}};vi.prototype.resize=function(e,n){if(this.width=e*t.browser.devicePixelRatio,this.height=n*t.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var i=0,r=this.style._order;i<r.length;i+=1)this.style._layers[r[i]].resize()},vi.prototype.setup=function(){var e=this.context,n=new t.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(t.EXTENT,0),n.emplaceBack(0,t.EXTENT),n.emplaceBack(t.EXTENT,t.EXTENT),this.tileExtentBuffer=e.createVertexBuffer(n,Ge.members),this.tileExtentSegments=t.SegmentVector.simpleSegment(0,0,4,2);var i=new t.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(t.EXTENT,0),i.emplaceBack(0,t.EXTENT),i.emplaceBack(t.EXTENT,t.EXTENT),this.debugBuffer=e.createVertexBuffer(i,Ge.members),this.debugSegments=t.SegmentVector.simpleSegment(0,0,4,5);var r=new t.StructArrayLayout4i8;r.emplaceBack(0,0,0,0),r.emplaceBack(t.EXTENT,0,t.EXTENT,0),r.emplaceBack(0,t.EXTENT,0,t.EXTENT),r.emplaceBack(t.EXTENT,t.EXTENT,t.EXTENT,t.EXTENT),this.rasterBoundsBuffer=e.createVertexBuffer(r,O.members),this.rasterBoundsSegments=t.SegmentVector.simpleSegment(0,0,4,2);var o=new t.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(1,0),o.emplaceBack(0,1),o.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(o,Ge.members),this.viewportSegments=t.SegmentVector.simpleSegment(0,0,4,2);var a=new t.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(a);var s=new t.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(s),this.emptyTexture=new t.Texture(e,{width:1,height:1,data:new Uint8Array([0,0,0,0])},e.gl.RGBA);var u=this.context.gl;this.stencilClearMode=new Ct({func:u.ALWAYS,mask:0},0,255,u.ZERO,u.ZERO,u.ZERO)},vi.prototype.clearStencil=function(){var e=this.context,n=e.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var i=t.create();t.ortho(i,0,this.width,this.height,0,0,1),t.scale(i,i,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(e,n.TRIANGLES,St.disabled,this.stencilClearMode,It.disabled,At.disabled,Nn(i),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},vi.prototype._renderTileClippingMasks=function(t,e){if(this.currentStencilSource!==t.source&&t.isTileClipped()&&e&&e.length){this.currentStencilSource=t.source;var n=this.context,i=n.gl;this.nextStencilID+e.length>256&&this.clearStencil(),n.setColorMode(It.disabled),n.setDepthMode(St.disabled);var r=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var o=0,a=e;o<a.length;o+=1){var s=a[o],u=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;r.draw(n,i.TRIANGLES,St.disabled,new Ct({func:i.ALWAYS,mask:0},u,255,i.KEEP,i.KEEP,i.REPLACE),It.disabled,At.disabled,Nn(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},vi.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var t=this.nextStencilID++,e=this.context.gl;return new Ct({func:e.NOTEQUAL,mask:255},t,255,e.KEEP,e.KEEP,e.REPLACE)},vi.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new Ct({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},vi.prototype.stencilConfigForOverlap=function(t){var e,n=this.context.gl,i=t.sort(function(t,e){return e.overscaledZ-t.overscaledZ}),r=i[i.length-1].overscaledZ,o=i[0].overscaledZ-r+1;if(o>1){this.currentStencilSource=void 0,this.nextStencilID+o>256&&this.clearStencil();for(var a={},s=0;s<o;s++)a[s+r]=new Ct({func:n.GEQUAL,mask:255},s+this.nextStencilID,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID+=o,[a,i]}return[(e={},e[r]=Ct.disabled,e),i]},vi.prototype.colorModeForRenderPass=function(){var e=this.context.gl;return this._showOverdrawInspector?new It([e.CONSTANT_COLOR,e.ONE],new t.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?It.unblended:It.alphaBlended},vi.prototype.depthModeForSublayer=function(t,e,n){if(!this.opaquePassEnabledForLayer())return St.disabled;var i=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new St(n||this.context.gl.LEQUAL,e,[i,i])},vi.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},vi.prototype.render=function(e,n){var i=this;this.style=e,this.options=n,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(t.browser.now()),this.imageManager.beginFrame();var r=this.style._order,o=this.style.sourceCaches;for(var a in o){var s=o[a];s.used&&s.prepare(this.context)}var u,l,c={},h={},p={};for(var f in o){var d=o[f];c[f]=d.getVisibleCoordinates(),h[f]=c[f].slice().reverse(),p[f]=d.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var g=0;g<r.length;g++)if(this.style._layers[r[g]].is3D()){this.opaquePassCutoff=g;break}this.renderPass="offscreen";for(var m=0,_=r;m<_.length;m+=1){var y=this.style._layers[_[m]];if(y.hasOffscreenPass()&&!y.isHidden(this.transform.zoom)){var v=h[y.source];("custom"===y.type||v.length)&&this.renderLayer(this,o[y.source],y,v)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?t.Color.black:t.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(e._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=r.length-1;this.currentLayer>=0;this.currentLayer--){var b=this.style._layers[r[this.currentLayer]],w=o[b.source],x=c[b.source];this._renderTileClippingMasks(b,x),this.renderLayer(this,w,b,x)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<r.length;this.currentLayer++){var k=this.style._layers[r[this.currentLayer]],E=o[k.source],S=("symbol"===k.type?p:h)[k.source];this._renderTileClippingMasks(k,c[k.source]),this.renderLayer(this,E,k,S)}this.options.showTileBoundaries&&(t.values(this.style._layers).forEach(function(t){t.source&&!t.isHidden(i.transform.zoom)&&(t.source!==(l&&l.id)&&(l=i.style.sourceCaches[t.source]),(!u||u.getSource().maxzoom<l.getSource().maxzoom)&&(u=l))}),u&&yi.debug(this,u,u.getVisibleCoordinates())),this.options.showPadding&&function(t){var e=t.transform.padding;di(t,t.transform.height-(e.top||0),3,li),di(t,e.bottom||0,3,ci),gi(t,e.left||0,3,hi),gi(t,t.transform.width-(e.right||0),3,pi);var n=t.transform.centerPoint;!function(t,e,n,i){mi(t,e-1,n-10,2,20,i),mi(t,e-10,n-1,20,2,i)}(t,n.x,t.transform.height-n.y,fi)}(this),this.context.setDefault()},vi.prototype.renderLayer=function(t,e,n,i){n.isHidden(this.transform.zoom)||("background"===n.type||"custom"===n.type||i.length)&&(this.id=n.id,this.gpuTimingStart(n),yi[n.type](t,e,n,i,this.style.placement.variableOffsets),this.gpuTimingEnd())},vi.prototype.gpuTimingStart=function(t){if(this.options.gpuTiming){var e=this.context.extTimerQuery,n=this.gpuTimers[t.id];n||(n=this.gpuTimers[t.id]={calls:0,cpuTime:0,query:e.createQueryEXT()}),n.calls++,e.beginQueryEXT(e.TIME_ELAPSED_EXT,n.query)}},vi.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var t=this.context.extTimerQuery;t.endQueryEXT(t.TIME_ELAPSED_EXT)}},vi.prototype.collectGpuTimers=function(){var t=this.gpuTimers;return this.gpuTimers={},t},vi.prototype.queryGpuTimers=function(t){var e={};for(var n in t){var i=t[n],r=this.context.extTimerQuery,o=r.getQueryObjectEXT(i.query,r.QUERY_RESULT_EXT)/1e6;r.deleteQueryEXT(i.query),e[n]=o}return e},vi.prototype.translatePosMatrix=function(e,n,i,r,o){if(!i[0]&&!i[1])return e;var a=o?"map"===r?this.transform.angle:0:"viewport"===r?-this.transform.angle:0;if(a){var s=Math.sin(a),u=Math.cos(a);i=[i[0]*u-i[1]*s,i[0]*s+i[1]*u]}var l=[o?i[0]:pe(n,i[0],this.transform.zoom),o?i[1]:pe(n,i[1],this.transform.zoom),0],c=new Float32Array(16);return t.translate(c,e,l),c},vi.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},vi.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},vi.prototype.isPatternMissing=function(t){if(!t)return!1;if(!t.from||!t.to)return!0;var e=this.imageManager.getPattern(t.from.toString()),n=this.imageManager.getPattern(t.to.toString());return!e||!n},vi.prototype.useProgram=function(t,e){this.cache=this.cache||{};var n=""+t+(e?e.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new xn(this.context,t,vn[t],e,Kn[t],this._showOverdrawInspector)),this.cache[n]},vi.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},vi.prototype.setBaseState=function(){var t=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(t.FUNC_ADD)},vi.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=t.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new t.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},vi.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var bi=function(t,e){this.points=t,this.planes=e};bi.fromInvProjectionMatrix=function(e,n,i){var r=Math.pow(2,i),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(n){return t.transformMat4([],n,e)}).map(function(e){return t.scale$1([],e,1/e[3]/n*r)}),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(e){var n=t.sub([],o[e[0]],o[e[1]]),i=t.sub([],o[e[2]],o[e[1]]),r=t.normalize([],t.cross([],n,i)),a=-t.dot(r,o[e[1]]);return r.concat(a)});return new bi(o,a)};var wi=function(e,n){this.min=e,this.max=n,this.center=t.scale$2([],t.add([],this.min,this.max),.5)};wi.prototype.quadrant=function(e){for(var n=[e%2==0,e<2],i=t.clone$2(this.min),r=t.clone$2(this.max),o=0;o<n.length;o++)i[o]=n[o]?this.min[o]:this.center[o],r[o]=n[o]?this.center[o]:this.max[o];return r[2]=this.max[2],new wi(i,r)},wi.prototype.distanceX=function(t){return Math.max(Math.min(this.max[0],t[0]),this.min[0])-t[0]},wi.prototype.distanceY=function(t){return Math.max(Math.min(this.max[1],t[1]),this.min[1])-t[1]},wi.prototype.intersects=function(e){for(var n=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],i=!0,r=0;r<e.planes.length;r++){for(var o=e.planes[r],a=0,s=0;s<n.length;s++)a+=t.dot$1(o,n[s])>=0;if(0===a)return 0;a!==n.length&&(i=!1)}if(i)return 2;for(var u=0;u<3;u++){for(var l=Number.MAX_VALUE,c=-Number.MAX_VALUE,h=0;h<e.points.length;h++){var p=e.points[h][u]-this.min[u];l=Math.min(l,p),c=Math.max(c,p)}if(c<0||l>this.max[u]-this.min[u])return 0}return 1};var xi=function(t,e,n,i){if(void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),isNaN(t)||t<0||isNaN(e)||e<0||isNaN(n)||n<0||isNaN(i)||i<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=t,this.bottom=e,this.left=n,this.right=i};xi.prototype.interpolate=function(e,n,i){return null!=n.top&&null!=e.top&&(this.top=t.number(e.top,n.top,i)),null!=n.bottom&&null!=e.bottom&&(this.bottom=t.number(e.bottom,n.bottom,i)),null!=n.left&&null!=e.left&&(this.left=t.number(e.left,n.left,i)),null!=n.right&&null!=e.right&&(this.right=t.number(e.right,n.right,i)),this},xi.prototype.getCenter=function(e,n){var i=t.clamp((this.left+e-this.right)/2,0,e),r=t.clamp((this.top+n-this.bottom)/2,0,n);return new t.Point(i,r)},xi.prototype.equals=function(t){return this.top===t.top&&this.bottom===t.bottom&&this.left===t.left&&this.right===t.right},xi.prototype.clone=function(){return new xi(this.top,this.bottom,this.left,this.right)},xi.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var ki=function(e,n,i,r,o){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===o||o,this._minZoom=e||0,this._maxZoom=n||22,this._minPitch=null==i?0:i,this._maxPitch=null==r?60:r,this.setMaxBounds(),this.width=0,this.height=0,this._center=new t.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new xi,this._posMatrixCache={},this._alignedPosMatrixCache={}},Ei={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};ki.prototype.clone=function(){var t=new ki(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._edgeInsets=this._edgeInsets.clone(),t._calcMatrices(),t},Ei.minZoom.get=function(){return this._minZoom},Ei.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},Ei.maxZoom.get=function(){return this._maxZoom},Ei.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},Ei.minPitch.get=function(){return this._minPitch},Ei.minPitch.set=function(t){this._minPitch!==t&&(this._minPitch=t,this.pitch=Math.max(this.pitch,t))},Ei.maxPitch.get=function(){return this._maxPitch},Ei.maxPitch.set=function(t){this._maxPitch!==t&&(this._maxPitch=t,this.pitch=Math.min(this.pitch,t))},Ei.renderWorldCopies.get=function(){return this._renderWorldCopies},Ei.renderWorldCopies.set=function(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t},Ei.worldSize.get=function(){return this.tileSize*this.scale},Ei.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Ei.size.get=function(){return new t.Point(this.width,this.height)},Ei.bearing.get=function(){return-this.angle/Math.PI*180},Ei.bearing.set=function(e){var n=-t.wrap(e,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=t.create$2(),t.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Ei.pitch.get=function(){return this._pitch/Math.PI*180},Ei.pitch.set=function(e){var n=t.clamp(e,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())},Ei.fov.get=function(){return this._fov/Math.PI*180},Ei.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},Ei.zoom.get=function(){return this._zoom},Ei.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},Ei.center.get=function(){return this._center},Ei.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},Ei.padding.get=function(){return this._edgeInsets.toJSON()},Ei.padding.set=function(t){this._edgeInsets.equals(t)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,t,1),this._calcMatrices())},Ei.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},ki.prototype.isPaddingEqual=function(t){return this._edgeInsets.equals(t)},ki.prototype.interpolatePadding=function(t,e,n){this._unmodified=!1,this._edgeInsets.interpolate(t,e,n),this._constrain(),this._calcMatrices()},ki.prototype.coveringZoomLevel=function(t){var e=(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize));return Math.max(0,e)},ki.prototype.getVisibleUnwrappedCoordinates=function(e){var n=[new t.UnwrappedTileID(0,e)];if(this._renderWorldCopies)for(var i=this.pointCoordinate(new t.Point(0,0)),r=this.pointCoordinate(new t.Point(this.width,0)),o=this.pointCoordinate(new t.Point(this.width,this.height)),a=this.pointCoordinate(new t.Point(0,this.height)),s=Math.floor(Math.min(i.x,r.x,o.x,a.x)),u=Math.floor(Math.max(i.x,r.x,o.x,a.x)),l=s-1;l<=u+1;l++)0!==l&&n.push(new t.UnwrappedTileID(l,e));return n},ki.prototype.coveringTiles=function(e){var n=this.coveringZoomLevel(e),i=n;if(void 0!==e.minzoom&&n<e.minzoom)return[];void 0!==e.maxzoom&&n>e.maxzoom&&(n=e.maxzoom);var r=t.MercatorCoordinate.fromLngLat(this.center),o=Math.pow(2,n),a=[o*r.x,o*r.y,0],s=bi.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,n),u=e.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(u=n);var l=function(t){return{aabb:new wi([t*o,0,0],[(t+1)*o,o,0]),zoom:0,x:0,y:0,wrap:t,fullyVisible:!1}},c=[],h=[],p=n,f=e.reparseOverscaled?i:n;if(this._renderWorldCopies)for(var d=1;d<=3;d++)c.push(l(-d)),c.push(l(d));for(c.push(l(0));c.length>0;){var g=c.pop(),m=g.x,_=g.y,y=g.fullyVisible;if(!y){var v=g.aabb.intersects(s);if(0===v)continue;y=2===v}var b=g.aabb.distanceX(a),w=g.aabb.distanceY(a),x=Math.max(Math.abs(b),Math.abs(w));if(g.zoom===p||x>3+(1<<p-g.zoom)-2&&g.zoom>=u)h.push({tileID:new t.OverscaledTileID(g.zoom===p?f:g.zoom,g.wrap,g.zoom,m,_),distanceSq:t.sqrLen([a[0]-.5-m,a[1]-.5-_])});else for(var k=0;k<4;k++){var E=(m<<1)+k%2,S=(_<<1)+(k>>1);c.push({aabb:g.aabb.quadrant(k),zoom:g.zoom+1,x:E,y:S,wrap:g.wrap,fullyVisible:y})}}return h.sort(function(t,e){return t.distanceSq-e.distanceSq}).map(function(t){return t.tileID})},ki.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},Ei.unmodified.get=function(){return this._unmodified},ki.prototype.zoomScale=function(t){return Math.pow(2,t)},ki.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},ki.prototype.project=function(e){var n=t.clamp(e.lat,-this.maxValidLatitude,this.maxValidLatitude);return new t.Point(t.mercatorXfromLng(e.lng)*this.worldSize,t.mercatorYfromLat(n)*this.worldSize)},ki.prototype.unproject=function(e){return new t.MercatorCoordinate(e.x/this.worldSize,e.y/this.worldSize).toLngLat()},Ei.point.get=function(){return this.project(this.center)},ki.prototype.setLocationAtPoint=function(e,n){var i=this.pointCoordinate(n),r=this.pointCoordinate(this.centerPoint),o=this.locationCoordinate(e),a=new t.MercatorCoordinate(o.x-(i.x-r.x),o.y-(i.y-r.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())},ki.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},ki.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},ki.prototype.locationCoordinate=function(e){return t.MercatorCoordinate.fromLngLat(e)},ki.prototype.coordinateLocation=function(t){return t.toLngLat()},ki.prototype.pointCoordinate=function(e){var n=[e.x,e.y,0,1],i=[e.x,e.y,1,1];t.transformMat4(n,n,this.pixelMatrixInverse),t.transformMat4(i,i,this.pixelMatrixInverse);var r=n[3],o=i[3],a=n[1]/r,s=i[1]/o,u=n[2]/r,l=i[2]/o,c=u===l?0:(0-u)/(l-u);return new t.MercatorCoordinate(t.number(n[0]/r,i[0]/o,c)/this.worldSize,t.number(a,s,c)/this.worldSize)},ki.prototype.coordinatePoint=function(e){var n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(n,n,this.pixelMatrix),new t.Point(n[0]/n[3],n[1]/n[3])},ki.prototype.getBounds=function(){return(new t.LngLatBounds).extend(this.pointLocation(new t.Point(0,0))).extend(this.pointLocation(new t.Point(this.width,0))).extend(this.pointLocation(new t.Point(this.width,this.height))).extend(this.pointLocation(new t.Point(0,this.height)))},ki.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new t.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},ki.prototype.setMaxBounds=function(t){t?(this.lngRange=[t.getWest(),t.getEast()],this.latRange=[t.getSouth(),t.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},ki.prototype.calculatePosMatrix=function(e,n){void 0===n&&(n=!1);var i=e.key,r=n?this._alignedPosMatrixCache:this._posMatrixCache;if(r[i])return r[i];var o=e.canonical,a=this.worldSize/this.zoomScale(o.z),s=o.x+Math.pow(2,o.z)*e.wrap,u=t.identity(new Float64Array(16));return t.translate(u,u,[s*a,o.y*a,0]),t.scale(u,u,[a/t.EXTENT,a/t.EXTENT,1]),t.multiply(u,n?this.alignedProjMatrix:this.projMatrix,u),r[i]=new Float32Array(u),r[i]},ki.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},ki.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,n,i,r,o=-90,a=90,s=-180,u=180,l=this.size,c=this._unmodified;if(this.latRange){var h=this.latRange;o=t.mercatorYfromLat(h[1])*this.worldSize,e=(a=t.mercatorYfromLat(h[0])*this.worldSize)-o<l.y?l.y/(a-o):0}if(this.lngRange){var p=this.lngRange;s=t.mercatorXfromLng(p[0])*this.worldSize,n=(u=t.mercatorXfromLng(p[1])*this.worldSize)-s<l.x?l.x/(u-s):0}var f=this.point,d=Math.max(n||0,e||0);if(d)return this.center=this.unproject(new t.Point(n?(u+s)/2:f.x,e?(a+o)/2:f.y)),this.zoom+=this.scaleZoom(d),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var g=f.y,m=l.y/2;g-m<o&&(r=o+m),g+m>a&&(r=a-m)}if(this.lngRange){var _=f.x,y=l.x/2;_-y<s&&(i=s+y),_+y>u&&(i=u-y)}void 0===i&&void 0===r||(this.center=this.unproject(new t.Point(void 0!==i?i:f.x,void 0!==r?r:f.y))),this._unmodified=c,this._constraining=!1}},ki.prototype._calcMatrices=function(){if(this.height){var e=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var n=Math.PI/2+this._pitch,i=this._fov*(.5+e.y/this.height),r=Math.sin(i)*this.cameraToCenterDistance/Math.sin(t.clamp(Math.PI-n-i,.01,Math.PI-.01)),o=this.point,a=o.x,s=o.y,u=1.01*(Math.cos(Math.PI/2-this._pitch)*r+this.cameraToCenterDistance),l=this.height/50,c=new Float64Array(16);t.perspective(c,this._fov,this.width/this.height,l,u),c[8]=2*-e.x/this.width,c[9]=2*e.y/this.height,t.scale(c,c,[1,-1,1]),t.translate(c,c,[0,0,-this.cameraToCenterDistance]),t.rotateX(c,c,this._pitch),t.rotateZ(c,c,this.angle),t.translate(c,c,[-a,-s,0]),this.mercatorMatrix=t.scale([],c,[this.worldSize,this.worldSize,this.worldSize]),t.scale(c,c,[1,1,t.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=c,this.invProjMatrix=t.invert([],this.projMatrix);var h=this.width%2/2,p=this.height%2/2,f=Math.cos(this.angle),d=Math.sin(this.angle),g=a-Math.round(a)+f*h+d*p,m=s-Math.round(s)+f*p+d*h,_=new Float64Array(c);if(t.translate(_,_,[g>.5?g-1:g,m>.5?m-1:m,0]),this.alignedProjMatrix=_,c=t.create(),t.scale(c,c,[this.width/2,-this.height/2,1]),t.translate(c,c,[1,-1,0]),this.labelPlaneMatrix=c,c=t.create(),t.scale(c,c,[1,-1,1]),t.translate(c,c,[-1,-1,0]),t.scale(c,c,[2/this.width,2/this.height,1]),this.glCoordMatrix=c,this.pixelMatrix=t.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(c=t.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=c,this._posMatrixCache={},this._alignedPosMatrixCache={}}},ki.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var e=this.pointCoordinate(new t.Point(0,0)),n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance},ki.prototype.getCameraPoint=function(){var e=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new t.Point(0,e))},ki.prototype.getCameraQueryGeometry=function(e){var n=this.getCameraPoint();if(1===e.length)return[e[0],n];for(var i=n.x,r=n.y,o=n.x,a=n.y,s=0,u=e;s<u.length;s+=1){var l=u[s];i=Math.min(i,l.x),r=Math.min(r,l.y),o=Math.max(o,l.x),a=Math.max(a,l.y)}return[new t.Point(i,r),new t.Point(o,r),new t.Point(o,a),new t.Point(i,a),new t.Point(i,r)]},Object.defineProperties(ki.prototype,Ei);var Si=function(e){var n,i,r,o;this._hashName=e&&encodeURIComponent(e),t.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(n=this._updateHashUnthrottled.bind(this),i=!1,r=null,o=function(){r=null,i&&(n(),r=setTimeout(o,300),i=!1)},function(){return i=!0,r||o(),r})};Si.prototype.addTo=function(e){return this._map=e,t.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Si.prototype.remove=function(){return t.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Si.prototype.getHashString=function(e){var n=this._map.getCenter(),i=Math.round(100*this._map.getZoom())/100,r=Math.ceil((i*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,r),a=Math.round(n.lng*o)/o,s=Math.round(n.lat*o)/o,u=this._map.getBearing(),l=this._map.getPitch(),c="";if(c+=e?"/"+a+"/"+s+"/"+i:i+"/"+s+"/"+a,(u||l)&&(c+="/"+Math.round(10*u)/10),l&&(c+="/"+Math.round(l)),this._hashName){var h=this._hashName,p=!1,f=t.window.location.hash.slice(1).split("&").map(function(t){var e=t.split("=")[0];return e===h?(p=!0,e+"="+c):t}).filter(function(t){return t});return p||f.push(h+"="+c),"#"+f.join("&")}return"#"+c},Si.prototype._getCurrentHash=function(){var e,n=this,i=t.window.location.hash.replace("#","");return this._hashName?(i.split("&").map(function(t){return t.split("=")}).forEach(function(t){t[0]===n._hashName&&(e=t)}),(e&&e[1]||"").split("/")):i.split("/")},Si.prototype._onHashChange=function(){var t=this._getCurrentHash();if(t.length>=3&&!t.some(function(t){return isNaN(t)})){var e=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(t[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:e,pitch:+(t[4]||0)}),!0}return!1},Si.prototype._updateHashUnthrottled=function(){var e=t.window.location.href.replace(/(#.+)?$/,this.getHashString());try{t.window.history.replaceState(t.window.history.state,null,e)}catch(t){}};var Ci={linearity:.3,easing:t.bezier(0,0,.3,1)},Ii=t.extend({deceleration:2500,maxSpeed:1400},Ci),Ai=t.extend({deceleration:20,maxSpeed:1400},Ci),Pi=t.extend({deceleration:1e3,maxSpeed:360},Ci),Ti=t.extend({deceleration:1e3,maxSpeed:90},Ci),Oi=function(t){this._map=t,this.clear()};function Li(t,e){(!t.duration||t.duration<e.duration)&&(t.duration=e.duration,t.easing=e.easing)}function Mi(e,n,i){var r=i.maxSpeed,o=i.linearity,a=i.deceleration,s=t.clamp(e*o/(n/1e3),-r,r),u=Math.abs(s)/(a*o);return{easing:i.easing,duration:1e3*u,amount:s*(u/2)}}Oi.prototype.clear=function(){this._inertiaBuffer=[]},Oi.prototype.record=function(e){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:t.browser.now(),settings:e})},Oi.prototype._drainInertiaBuffer=function(){for(var e=this._inertiaBuffer,n=t.browser.now();e.length>0&&n-e[0].time>160;)e.shift()},Oi.prototype._onMoveEnd=function(e){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var n={zoom:0,bearing:0,pitch:0,pan:new t.Point(0,0),pinchAround:void 0,around:void 0},i=0,r=this._inertiaBuffer;i<r.length;i+=1){var o=r[i].settings;n.zoom+=o.zoomDelta||0,n.bearing+=o.bearingDelta||0,n.pitch+=o.pitchDelta||0,o.panDelta&&n.pan._add(o.panDelta),o.around&&(n.around=o.around),o.pinchAround&&(n.pinchAround=o.pinchAround)}var a=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,s={};if(n.pan.mag()){var u=Mi(n.pan.mag(),a,t.extend({},Ii,e||{}));s.offset=n.pan.mult(u.amount/n.pan.mag()),s.center=this._map.transform.center,Li(s,u)}if(n.zoom){var l=Mi(n.zoom,a,Ai);s.zoom=this._map.transform.zoom+l.amount,Li(s,l)}if(n.bearing){var c=Mi(n.bearing,a,Pi);s.bearing=this._map.transform.bearing+t.clamp(c.amount,-179,179),Li(s,c)}if(n.pitch){var h=Mi(n.pitch,a,Ti);s.pitch=this._map.transform.pitch+h.amount,Li(s,h)}if(s.zoom||s.bearing){var p=void 0===n.pinchAround?n.around:n.pinchAround;s.around=p?this._map.unproject(p):this._map.getCenter()}return this.clear(),t.extend(s,{noMoveStart:!0})}};var Ni=function(e){function i(i,r,o,a){void 0===a&&(a={});var s=n.mousePos(r.getCanvasContainer(),o),u=r.unproject(s);e.call(this,i,t.extend({point:s,lngLat:u,originalEvent:o},a)),this._defaultPrevented=!1,this.target=r}e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i;var r={defaultPrevented:{configurable:!0}};return i.prototype.preventDefault=function(){this._defaultPrevented=!0},r.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(i.prototype,r),i}(t.Event),Ri=function(e){function i(i,r,o){var a="touchend"===i?o.changedTouches:o.touches,s=n.touchPos(r.getCanvasContainer(),a),u=s.map(function(t){return r.unproject(t)}),l=s.reduce(function(t,e,n,i){return t.add(e.div(i.length))},new t.Point(0,0)),c=r.unproject(l);e.call(this,i,{points:s,point:l,lngLats:u,lngLat:c,originalEvent:o}),this._defaultPrevented=!1}e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i;var r={defaultPrevented:{configurable:!0}};return i.prototype.preventDefault=function(){this._defaultPrevented=!0},r.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(i.prototype,r),i}(t.Event),Di=function(t){function e(e,n,i){t.call(this,e,{originalEvent:i}),this._defaultPrevented=!1}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={defaultPrevented:{configurable:!0}};return e.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,n),e}(t.Event),zi=function(t,e){this._map=t,this._clickTolerance=e.clickTolerance};zi.prototype.reset=function(){delete this._mousedownPos},zi.prototype.wheel=function(t){return this._firePreventable(new Di(t.type,this._map,t))},zi.prototype.mousedown=function(t,e){return this._mousedownPos=e,this._firePreventable(new Ni(t.type,this._map,t))},zi.prototype.mouseup=function(t){this._map.fire(new Ni(t.type,this._map,t))},zi.prototype.click=function(t,e){this._mousedownPos&&this._mousedownPos.dist(e)>=this._clickTolerance||this._map.fire(new Ni(t.type,this._map,t))},zi.prototype.dblclick=function(t){return this._firePreventable(new Ni(t.type,this._map,t))},zi.prototype.mouseover=function(t){this._map.fire(new Ni(t.type,this._map,t))},zi.prototype.mouseout=function(t){this._map.fire(new Ni(t.type,this._map,t))},zi.prototype.touchstart=function(t){return this._firePreventable(new Ri(t.type,this._map,t))},zi.prototype.touchmove=function(t){this._map.fire(new Ri(t.type,this._map,t))},zi.prototype.touchend=function(t){this._map.fire(new Ri(t.type,this._map,t))},zi.prototype.touchcancel=function(t){this._map.fire(new Ri(t.type,this._map,t))},zi.prototype._firePreventable=function(t){if(this._map.fire(t),t.defaultPrevented)return{}},zi.prototype.isEnabled=function(){return!0},zi.prototype.isActive=function(){return!1},zi.prototype.enable=function(){},zi.prototype.disable=function(){};var Fi=function(t){this._map=t};Fi.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Fi.prototype.mousemove=function(t){this._map.fire(new Ni(t.type,this._map,t))},Fi.prototype.mousedown=function(){this._delayContextMenu=!0},Fi.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ni("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Fi.prototype.contextmenu=function(t){this._delayContextMenu?this._contextMenuEvent=t:this._map.fire(new Ni(t.type,this._map,t)),this._map.listens("contextmenu")&&t.preventDefault()},Fi.prototype.isEnabled=function(){return!0},Fi.prototype.isActive=function(){return!1},Fi.prototype.enable=function(){},Fi.prototype.disable=function(){};var Bi=function(t,e){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),this._clickTolerance=e.clickTolerance||1};function ji(t,e){for(var n={},i=0;i<t.length;i++)n[t[i].identifier]=e[i];return n}Bi.prototype.isEnabled=function(){return!!this._enabled},Bi.prototype.isActive=function(){return!!this._active},Bi.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Bi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Bi.prototype.mousedown=function(t,e){this.isEnabled()&&t.shiftKey&&0===t.button&&(n.disableDrag(),this._startPos=this._lastPos=e,this._active=!0)},Bi.prototype.mousemoveWindow=function(t,e){if(this._active){var i=e;if(!(this._lastPos.equals(i)||!this._box&&i.dist(this._startPos)<this._clickTolerance)){var r=this._startPos;this._lastPos=i,this._box||(this._box=n.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var o=Math.min(r.x,i.x),a=Math.max(r.x,i.x),s=Math.min(r.y,i.y),u=Math.max(r.y,i.y);n.setTransform(this._box,"translate("+o+"px,"+s+"px)"),this._box.style.width=a-o+"px",this._box.style.height=u-s+"px"}}},Bi.prototype.mouseupWindow=function(e,i){var r=this;if(this._active&&0===e.button){var o=this._startPos,a=i;if(this.reset(),n.suppressClick(),o.x!==a.x||o.y!==a.y)return this._map.fire(new t.Event("boxzoomend",{originalEvent:e})),{cameraAnimation:function(t){return t.fitScreenCoordinates(o,a,r._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",e)}},Bi.prototype.keydown=function(t){this._active&&27===t.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",t))},Bi.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(n.remove(this._box),this._box=null),n.enableDrag(),delete this._startPos,delete this._lastPos},Bi.prototype._fireEvent=function(e,n){return this._map.fire(new t.Event(e,{originalEvent:n}))};var Vi=function(t){this.reset(),this.numTouches=t.numTouches};Vi.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Vi.prototype.touchstart=function(e,n,i){(this.centroid||i.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=e.timeStamp),i.length===this.numTouches&&(this.centroid=function(e){for(var n=new t.Point(0,0),i=0,r=e;i<r.length;i+=1)n._add(r[i]);return n.div(e.length)}(n),this.touches=ji(i,n)))},Vi.prototype.touchmove=function(t,e,n){if(!this.aborted&&this.centroid){var i=ji(n,e);for(var r in this.touches){var o=i[r];(!o||o.dist(this.touches[r])>30)&&(this.aborted=!0)}}},Vi.prototype.touchend=function(t,e,n){if((!this.centroid||t.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){var i=!this.aborted&&this.centroid;if(this.reset(),i)return i}};var Ui=function(t){this.singleTap=new Vi(t),this.numTaps=t.numTaps,this.reset()};Ui.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Ui.prototype.touchstart=function(t,e,n){this.singleTap.touchstart(t,e,n)},Ui.prototype.touchmove=function(t,e,n){this.singleTap.touchmove(t,e,n)},Ui.prototype.touchend=function(t,e,n){var i=this.singleTap.touchend(t,e,n);if(i){var r=t.timeStamp-this.lastTime<500,o=!this.lastTap||this.lastTap.dist(i)<30;if(r&&o||this.reset(),this.count++,this.lastTime=t.timeStamp,this.lastTap=i,this.count===this.numTaps)return this.reset(),i}};var qi=function(){this._zoomIn=new Ui({numTouches:1,numTaps:2}),this._zoomOut=new Ui({numTouches:2,numTaps:1}),this.reset()};qi.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},qi.prototype.touchstart=function(t,e,n){this._zoomIn.touchstart(t,e,n),this._zoomOut.touchstart(t,e,n)},qi.prototype.touchmove=function(t,e,n){this._zoomIn.touchmove(t,e,n),this._zoomOut.touchmove(t,e,n)},qi.prototype.touchend=function(t,e,n){var i=this,r=this._zoomIn.touchend(t,e,n),o=this._zoomOut.touchend(t,e,n);return r?(this._active=!0,t.preventDefault(),setTimeout(function(){return i.reset()},0),{cameraAnimation:function(e){return e.easeTo({duration:300,zoom:e.getZoom()+1,around:e.unproject(r)},{originalEvent:t})}}):o?(this._active=!0,t.preventDefault(),setTimeout(function(){return i.reset()},0),{cameraAnimation:function(e){return e.easeTo({duration:300,zoom:e.getZoom()-1,around:e.unproject(o)},{originalEvent:t})}}):void 0},qi.prototype.touchcancel=function(){this.reset()},qi.prototype.enable=function(){this._enabled=!0},qi.prototype.disable=function(){this._enabled=!1,this.reset()},qi.prototype.isEnabled=function(){return this._enabled},qi.prototype.isActive=function(){return this._active};var Gi={0:1,2:2},Hi=function(t){this.reset(),this._clickTolerance=t.clickTolerance||1};Hi.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Hi.prototype._correctButton=function(t,e){return!1},Hi.prototype._move=function(t,e){return{}},Hi.prototype.mousedown=function(t,e){if(!this._lastPoint){var i=n.mouseButton(t);this._correctButton(t,i)&&(this._lastPoint=e,this._eventButton=i)}},Hi.prototype.mousemoveWindow=function(t,e){var n=this._lastPoint;if(n)if(t.preventDefault(),function(t,e){var n=Gi[e];return void 0===t.buttons||(t.buttons&n)!==n}(t,this._eventButton))this.reset();else if(this._moved||!(e.dist(n)<this._clickTolerance))return this._moved=!0,this._lastPoint=e,this._move(n,e)},Hi.prototype.mouseupWindow=function(t){this._lastPoint&&n.mouseButton(t)===this._eventButton&&(this._moved&&n.suppressClick(),this.reset())},Hi.prototype.enable=function(){this._enabled=!0},Hi.prototype.disable=function(){this._enabled=!1,this.reset()},Hi.prototype.isEnabled=function(){return this._enabled},Hi.prototype.isActive=function(){return this._active};var Wi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.mousedown=function(e,n){t.prototype.mousedown.call(this,e,n),this._lastPoint&&(this._active=!0)},e.prototype._correctButton=function(t,e){return 0===e&&!t.ctrlKey},e.prototype._move=function(t,e){return{around:e,panDelta:e.sub(t)}},e}(Hi),Yi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._correctButton=function(t,e){return 0===e&&t.ctrlKey||2===e},e.prototype._move=function(t,e){var n=.8*(e.x-t.x);if(n)return this._active=!0,{bearingDelta:n}},e.prototype.contextmenu=function(t){t.preventDefault()},e}(Hi),Zi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._correctButton=function(t,e){return 0===e&&t.ctrlKey||2===e},e.prototype._move=function(t,e){var n=-.5*(e.y-t.y);if(n)return this._active=!0,{pitchDelta:n}},e.prototype.contextmenu=function(t){t.preventDefault()},e}(Hi),Xi=function(t){this._minTouches=1,this._clickTolerance=t.clickTolerance||1,this.reset()};Xi.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new t.Point(0,0)},Xi.prototype.touchstart=function(t,e,n){return this._calculateTransform(t,e,n)},Xi.prototype.touchmove=function(t,e,n){if(this._active&&!(n.length<this._minTouches))return t.preventDefault(),this._calculateTransform(t,e,n)},Xi.prototype.touchend=function(t,e,n){this._calculateTransform(t,e,n),this._active&&n.length<this._minTouches&&this.reset()},Xi.prototype.touchcancel=function(){this.reset()},Xi.prototype._calculateTransform=function(e,n,i){i.length>0&&(this._active=!0);var r=ji(i,n),o=new t.Point(0,0),a=new t.Point(0,0),s=0;for(var u in r){var l=r[u],c=this._touches[u];c&&(o._add(l),a._add(l.sub(c)),s++,r[u]=l)}if(this._touches=r,!(s<this._minTouches)&&a.mag()){var h=a.div(s);if(this._sum._add(h),!(this._sum.mag()<this._clickTolerance))return{around:o.div(s),panDelta:h}}},Xi.prototype.enable=function(){this._enabled=!0},Xi.prototype.disable=function(){this._enabled=!1,this.reset()},Xi.prototype.isEnabled=function(){return this._enabled},Xi.prototype.isActive=function(){return this._active};var Ki=function(){this.reset()};function $i(t,e,n){for(var i=0;i<t.length;i++)if(t[i].identifier===n)return e[i]}function Ji(t,e){return Math.log(t/e)/Math.LN2}Ki.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Ki.prototype._start=function(t){},Ki.prototype._move=function(t,e,n){return{}},Ki.prototype.touchstart=function(t,e,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([e[0],e[1]]))},Ki.prototype.touchmove=function(t,e,n){if(this._firstTwoTouches){t.preventDefault();var i=this._firstTwoTouches,r=i[1],o=$i(n,e,i[0]),a=$i(n,e,r);if(o&&a){var s=this._aroundCenter?null:o.add(a).div(2);return this._move([o,a],s,t)}}},Ki.prototype.touchend=function(t,e,i){if(this._firstTwoTouches){var r=this._firstTwoTouches,o=r[1],a=$i(i,e,r[0]),s=$i(i,e,o);a&&s||(this._active&&n.suppressClick(),this.reset())}},Ki.prototype.touchcancel=function(){this.reset()},Ki.prototype.enable=function(t){this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around},Ki.prototype.disable=function(){this._enabled=!1,this.reset()},Ki.prototype.isEnabled=function(){return this._enabled},Ki.prototype.isActive=function(){return this._active};var Qi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.reset=function(){t.prototype.reset.call(this),delete this._distance,delete this._startDistance},e.prototype._start=function(t){this._startDistance=this._distance=t[0].dist(t[1])},e.prototype._move=function(t,e){var n=this._distance;if(this._distance=t[0].dist(t[1]),this._active||!(Math.abs(Ji(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Ji(this._distance,n),pinchAround:e}},e}(Ki);function tr(t,e){return 180*t.angleWith(e)/Math.PI}var er=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.reset=function(){t.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},e.prototype._start=function(t){this._startVector=this._vector=t[0].sub(t[1]),this._minDiameter=t[0].dist(t[1])},e.prototype._move=function(t,e){var n=this._vector;if(this._vector=t[0].sub(t[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:tr(this._vector,n),pinchAround:e}},e.prototype._isBelowThreshold=function(t){this._minDiameter=Math.min(this._minDiameter,t.mag());var e=25/(Math.PI*this._minDiameter)*360,n=tr(t,this._startVector);return Math.abs(n)<e},e}(Ki);function nr(t){return Math.abs(t.y)>Math.abs(t.x)}var ir=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.reset=function(){t.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},e.prototype._start=function(t){this._lastPoints=t,nr(t[0].sub(t[1]))&&(this._valid=!1)},e.prototype._move=function(t,e,n){var i=t[0].sub(this._lastPoints[0]),r=t[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(i,r,n.timeStamp),this._valid)return this._lastPoints=t,this._active=!0,{pitchDelta:(i.y+r.y)/2*-.5}},e.prototype.gestureBeginsVertically=function(t,e,n){if(void 0!==this._valid)return this._valid;var i=t.mag()>=2,r=e.mag()>=2;if(i||r){if(!i||!r)return void 0===this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;var o=t.y>0==e.y>0;return nr(t)&&nr(e)&&o}},e}(Ki),rr={panStep:100,bearingStep:15,pitchStep:10},or=function(){var t=rr;this._panStep=t.panStep,this._bearingStep=t.bearingStep,this._pitchStep=t.pitchStep,this._rotationDisabled=!1};function ar(t){return t*(2-t)}or.prototype.reset=function(){this._active=!1},or.prototype.keydown=function(t){var e=this;if(!(t.altKey||t.ctrlKey||t.metaKey)){var n=0,i=0,r=0,o=0,a=0;switch(t.keyCode){case 61:case 107:case 171:case 187:n=1;break;case 189:case 109:case 173:n=-1;break;case 37:t.shiftKey?i=-1:(t.preventDefault(),o=-1);break;case 39:t.shiftKey?i=1:(t.preventDefault(),o=1);break;case 38:t.shiftKey?r=1:(t.preventDefault(),a=-1);break;case 40:t.shiftKey?r=-1:(t.preventDefault(),a=1);break;default:return}return this._rotationDisabled&&(i=0,r=0),{cameraAnimation:function(s){var u=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:ar,zoom:n?Math.round(u)+n*(t.shiftKey?2:1):u,bearing:s.getBearing()+i*e._bearingStep,pitch:s.getPitch()+r*e._pitchStep,offset:[-o*e._panStep,-a*e._panStep],center:s.getCenter()},{originalEvent:t})}}}},or.prototype.enable=function(){this._enabled=!0},or.prototype.disable=function(){this._enabled=!1,this.reset()},or.prototype.isEnabled=function(){return this._enabled},or.prototype.isActive=function(){return this._active},or.prototype.disableRotation=function(){this._rotationDisabled=!0},or.prototype.enableRotation=function(){this._rotationDisabled=!1};var sr=function(e,n){this._map=e,this._el=e.getCanvasContainer(),this._handler=n,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,t.bindAll(["_onTimeout"],this)};sr.prototype.setZoomRate=function(t){this._defaultZoomRate=t},sr.prototype.setWheelZoomRate=function(t){this._wheelZoomRate=t},sr.prototype.isEnabled=function(){return!!this._enabled},sr.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},sr.prototype.isZooming=function(){return!!this._zooming},sr.prototype.enable=function(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},sr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},sr.prototype.wheel=function(e){if(this.isEnabled()){var n=e.deltaMode===t.window.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,i=t.browser.now(),r=i-(this._lastWheelEventTime||0);this._lastWheelEventTime=i,0!==n&&n%4.000244140625==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":r>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(r*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),e.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=e,this._delta-=n,this._active||this._start(e)),e.preventDefault()}},sr.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(t)},sr.prototype._start=function(e){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var i=n.mousePos(this._el,e);this._around=t.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(i)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},sr.prototype.renderFrame=function(){var e=this;if(this._frameId&&(this._frameId=null,this.isActive())){var n=this._map.transform;if(0!==this._delta){var i="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,r=2/(1+Math.exp(-Math.abs(this._delta*i)));this._delta<0&&0!==r&&(r=1/r);var o="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(o*r))),"wheel"===this._type&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a,s="number"==typeof this._targetZoom?this._targetZoom:n.zoom,u=this._startZoom,l=this._easing,c=!1;if("wheel"===this._type&&u&&l){var h=Math.min((t.browser.now()-this._lastWheelEventTime)/200,1),p=l(h);a=t.number(u,s,p),h<1?this._frameId||(this._frameId=!0):c=!0}else a=s,c=!0;return this._active=!0,c&&(this._active=!1,this._finishTimeout=setTimeout(function(){e._zooming=!1,e._handler._triggerRenderFrame(),delete e._targetZoom,delete e._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!c,zoomDelta:a-n.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},sr.prototype._smoothOutEasing=function(e){var n=t.ease;if(this._prevEase){var i=this._prevEase,r=(t.browser.now()-i.start)/i.duration,o=i.easing(r+.01)-i.easing(r),a=.27/Math.sqrt(o*o+1e-4)*.01,s=Math.sqrt(.0729-a*a);n=t.bezier(a,s,.25,1)}return this._prevEase={start:t.browser.now(),duration:e,easing:n},n},sr.prototype.reset=function(){this._active=!1};var ur=function(t,e){this._clickZoom=t,this._tapZoom=e};ur.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},ur.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},ur.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},ur.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var lr=function(){this.reset()};lr.prototype.reset=function(){this._active=!1},lr.prototype.dblclick=function(t,e){return t.preventDefault(),{cameraAnimation:function(n){n.easeTo({duration:300,zoom:n.getZoom()+(t.shiftKey?-1:1),around:n.unproject(e)},{originalEvent:t})}}},lr.prototype.enable=function(){this._enabled=!0},lr.prototype.disable=function(){this._enabled=!1,this.reset()},lr.prototype.isEnabled=function(){return this._enabled},lr.prototype.isActive=function(){return this._active};var cr=function(){this._tap=new Ui({numTouches:1,numTaps:1}),this.reset()};cr.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},cr.prototype.touchstart=function(t,e,n){this._swipePoint||(this._tapTime&&t.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=e[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(t,e,n))},cr.prototype.touchmove=function(t,e,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;var i=e[0],r=i.y-this._swipePoint.y;return this._swipePoint=i,t.preventDefault(),this._active=!0,{zoomDelta:r/128}}}else this._tap.touchmove(t,e,n)},cr.prototype.touchend=function(t,e,n){this._tapTime?this._swipePoint&&0===n.length&&this.reset():this._tap.touchend(t,e,n)&&(this._tapTime=t.timeStamp)},cr.prototype.touchcancel=function(){this.reset()},cr.prototype.enable=function(){this._enabled=!0},cr.prototype.disable=function(){this._enabled=!1,this.reset()},cr.prototype.isEnabled=function(){return this._enabled},cr.prototype.isActive=function(){return this._active};var hr=function(t,e,n){this._el=t,this._mousePan=e,this._touchPan=n};hr.prototype.enable=function(t){this._inertiaOptions=t||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},hr.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},hr.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},hr.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var pr=function(t,e,n){this._pitchWithRotate=t.pitchWithRotate,this._mouseRotate=e,this._mousePitch=n};pr.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},pr.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},pr.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},pr.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var fr=function(t,e,n,i){this._el=t,this._touchZoom=e,this._touchRotate=n,this._tapDragZoom=i,this._rotationDisabled=!1,this._enabled=!0};fr.prototype.enable=function(t){this._touchZoom.enable(t),this._rotationDisabled||this._touchRotate.enable(t),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},fr.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},fr.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},fr.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},fr.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},fr.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var dr=function(t){return t.zoom||t.drag||t.pitch||t.rotate},gr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(t.Event);function mr(t){return t.panDelta&&t.panDelta.mag()||t.zoomDelta||t.bearingDelta||t.pitchDelta}var _r=function(e,i){this._map=e,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Oi(e),this._bearingSnap=i.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(i),t.bindAll(["handleEvent","handleWindowEvent"],this);var r=this._el;this._listeners=[[r,"touchstart",{passive:!0}],[r,"touchmove",{passive:!1}],[r,"touchend",void 0],[r,"touchcancel",void 0],[r,"mousedown",void 0],[r,"mousemove",void 0],[r,"mouseup",void 0],[t.window.document,"mousemove",{capture:!0}],[t.window.document,"mouseup",void 0],[r,"mouseover",void 0],[r,"mouseout",void 0],[r,"dblclick",void 0],[r,"click",void 0],[r,"keydown",{capture:!1}],[r,"keyup",void 0],[r,"wheel",{passive:!1}],[r,"contextmenu",void 0],[t.window,"blur",void 0]];for(var o=0,a=this._listeners;o<a.length;o+=1){var s=a[o],u=s[0];n.addEventListener(u,s[1],u===t.window.document?this.handleWindowEvent:this.handleEvent,s[2])}};_r.prototype.destroy=function(){for(var e=0,i=this._listeners;e<i.length;e+=1){var r=i[e],o=r[0];n.removeEventListener(o,r[1],o===t.window.document?this.handleWindowEvent:this.handleEvent,r[2])}},_r.prototype._addDefaultHandlers=function(t){var e=this._map,n=e.getCanvasContainer();this._add("mapEvent",new zi(e,t));var i=e.boxZoom=new Bi(e,t);this._add("boxZoom",i);var r=new qi,o=new lr;e.doubleClickZoom=new ur(o,r),this._add("tapZoom",r),this._add("clickZoom",o);var a=new cr;this._add("tapDragZoom",a);var s=e.touchPitch=new ir;this._add("touchPitch",s);var u=new Yi(t),l=new Zi(t);e.dragRotate=new pr(t,u,l),this._add("mouseRotate",u,["mousePitch"]),this._add("mousePitch",l,["mouseRotate"]);var c=new Wi(t),h=new Xi(t);e.dragPan=new hr(n,c,h),this._add("mousePan",c),this._add("touchPan",h,["touchZoom","touchRotate"]);var p=new er,f=new Qi;e.touchZoomRotate=new fr(n,f,p,a),this._add("touchRotate",p,["touchPan","touchZoom"]),this._add("touchZoom",f,["touchPan","touchRotate"]);var d=e.scrollZoom=new sr(e,this);this._add("scrollZoom",d,["mousePan"]);var g=e.keyboard=new or;this._add("keyboard",g),this._add("blockableMapEvent",new Fi(e));for(var m=0,_=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];m<_.length;m+=1){var y=_[m];t.interactive&&t[y]&&e[y].enable(t[y])}},_r.prototype._add=function(t,e,n){this._handlers.push({handlerName:t,handler:e,allowed:n}),this._handlersById[t]=e},_r.prototype.stop=function(t){if(!this._updatingCamera){for(var e=0,n=this._handlers;e<n.length;e+=1)n[e].handler.reset();this._inertia.clear(),this._fireEvents({},{},t),this._changes=[]}},_r.prototype.isActive=function(){for(var t=0,e=this._handlers;t<e.length;t+=1)if(e[t].handler.isActive())return!0;return!1},_r.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},_r.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},_r.prototype.isMoving=function(){return Boolean(dr(this._eventsInProgress))||this.isZooming()},_r.prototype._blockedByActive=function(t,e,n){for(var i in t)if(i!==n&&(!e||e.indexOf(i)<0))return!0;return!1},_r.prototype.handleWindowEvent=function(t){this.handleEvent(t,t.type+"Window")},_r.prototype._getMapTouches=function(t){for(var e=[],n=0,i=t;n<i.length;n+=1){var r=i[n];this._el.contains(r.target)&&e.push(r)}return e},_r.prototype.handleEvent=function(t,e){if("blur"!==t.type){this._updatingCamera=!0;for(var i="renderFrame"===t.type?void 0:t,r={needsRenderFrame:!1},o={},a={},s=t.touches?this._getMapTouches(t.touches):void 0,u=s?n.touchPos(this._el,s):n.mousePos(this._el,t),l=0,c=this._handlers;l<c.length;l+=1){var h=c[l],p=h.handlerName,f=h.handler,d=h.allowed;if(f.isEnabled()){var g=void 0;this._blockedByActive(a,d,p)?f.reset():f[e||t.type]&&(g=f[e||t.type](t,u,s),this.mergeHandlerResult(r,o,g,p,i),g&&g.needsRenderFrame&&this._triggerRenderFrame()),(g||f.isActive())&&(a[p]=f)}}var m={};for(var _ in this._previousActiveHandlers)a[_]||(m[_]=i);this._previousActiveHandlers=a,(Object.keys(m).length||mr(r))&&(this._changes.push([r,o,m]),this._triggerRenderFrame()),(Object.keys(a).length||mr(r))&&this._map._stop(!0),this._updatingCamera=!1;var y=r.cameraAnimation;y&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],y(this._map))}else this.stop(!0)},_r.prototype.mergeHandlerResult=function(e,n,i,r,o){if(i){t.extend(e,i);var a={handlerName:r,originalEvent:i.originalEvent||o};void 0!==i.zoomDelta&&(n.zoom=a),void 0!==i.panDelta&&(n.drag=a),void 0!==i.pitchDelta&&(n.pitch=a),void 0!==i.bearingDelta&&(n.rotate=a)}},_r.prototype._applyChanges=function(){for(var e={},n={},i={},r=0,o=this._changes;r<o.length;r+=1){var a=o[r],s=a[0],u=a[1],l=a[2];s.panDelta&&(e.panDelta=(e.panDelta||new t.Point(0,0))._add(s.panDelta)),s.zoomDelta&&(e.zoomDelta=(e.zoomDelta||0)+s.zoomDelta),s.bearingDelta&&(e.bearingDelta=(e.bearingDelta||0)+s.bearingDelta),s.pitchDelta&&(e.pitchDelta=(e.pitchDelta||0)+s.pitchDelta),void 0!==s.around&&(e.around=s.around),void 0!==s.pinchAround&&(e.pinchAround=s.pinchAround),s.noInertia&&(e.noInertia=s.noInertia),t.extend(n,u),t.extend(i,l)}this._updateMapTransform(e,n,i),this._changes=[]},_r.prototype._updateMapTransform=function(t,e,n){var i=this._map,r=i.transform;if(!mr(t))return this._fireEvents(e,n,!0);var o=t.panDelta,a=t.zoomDelta,s=t.bearingDelta,u=t.pitchDelta,l=t.around,c=t.pinchAround;void 0!==c&&(l=c),i._stop(!0),l=l||i.transform.centerPoint;var h=r.pointLocation(o?l.sub(o):l);s&&(r.bearing+=s),u&&(r.pitch+=u),a&&(r.zoom+=a),r.setLocationAtPoint(h,l),this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(e,n,!0)},_r.prototype._fireEvents=function(e,n,i){var r=this,o=dr(this._eventsInProgress),a=dr(e),s={};for(var u in e)this._eventsInProgress[u]||(s[u+"start"]=e[u].originalEvent),this._eventsInProgress[u]=e[u];for(var l in!o&&a&&this._fireEvent("movestart",a.originalEvent),s)this._fireEvent(l,s[l]);for(var c in a&&this._fireEvent("move",a.originalEvent),e)this._fireEvent(c,e[c].originalEvent);var h,p={};for(var f in this._eventsInProgress){var d=this._eventsInProgress[f],g=d.handlerName,m=d.originalEvent;this._handlersById[g].isActive()||(delete this._eventsInProgress[f],p[f+"end"]=h=n[g]||m)}for(var _ in p)this._fireEvent(_,p[_]);var y=dr(this._eventsInProgress);if(i&&(o||a)&&!y){this._updatingCamera=!0;var v=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),b=function(t){return 0!==t&&-r._bearingSnap<t&&t<r._bearingSnap};v?(b(v.bearing||this._map.getBearing())&&(v.bearing=0),this._map.easeTo(v,{originalEvent:h})):(this._map.fire(new t.Event("moveend",{originalEvent:h})),b(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},_r.prototype._fireEvent=function(e,n){this._map.fire(new t.Event(e,n?{originalEvent:n}:{}))},_r.prototype._requestFrame=function(){var t=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(e){delete t._frameId,t.handleEvent(new gr("renderFrame",{timeStamp:e})),t._applyChanges()})},_r.prototype._triggerRenderFrame=function(){void 0===this._frameId&&(this._frameId=this._requestFrame())};var yr=function(e){function n(n,i){e.call(this),this._moving=!1,this._zooming=!1,this.transform=n,this._bearingSnap=i.bearingSnap,t.bindAll(["_renderFrameCallback"],this)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getCenter=function(){return new t.LngLat(this.transform.center.lng,this.transform.center.lat)},n.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},n.prototype.panBy=function(e,n,i){return e=t.Point.convert(e).mult(-1),this.panTo(this.transform.center,t.extend({offset:e},n),i)},n.prototype.panTo=function(e,n,i){return this.easeTo(t.extend({center:e},n),i)},n.prototype.getZoom=function(){return this.transform.zoom},n.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},n.prototype.zoomTo=function(e,n,i){return this.easeTo(t.extend({zoom:e},n),i)},n.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},n.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},n.prototype.getBearing=function(){return this.transform.bearing},n.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},n.prototype.getPadding=function(){return this.transform.padding},n.prototype.setPadding=function(t,e){return this.jumpTo({padding:t},e),this},n.prototype.rotateTo=function(e,n,i){return this.easeTo(t.extend({bearing:e},n),i)},n.prototype.resetNorth=function(e,n){return this.rotateTo(0,t.extend({duration:1e3},e),n),this},n.prototype.resetNorthPitch=function(e,n){return this.easeTo(t.extend({bearing:0,pitch:0,duration:1e3},e),n),this},n.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},n.prototype.getPitch=function(){return this.transform.pitch},n.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},n.prototype.cameraForBounds=function(e,n){e=t.LngLatBounds.convert(e);var i=n&&n.bearing||0;return this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),i,n)},n.prototype._cameraForBoxAndBearing=function(e,n,i,r){var o={top:0,bottom:0,right:0,left:0};if("number"==typeof(r=t.extend({padding:o,offset:[0,0],maxZoom:this.transform.maxZoom},r)).padding){var a=r.padding;r.padding={top:a,bottom:a,right:a,left:a}}r.padding=t.extend(o,r.padding);var s=this.transform,u=s.padding,l=s.project(t.LngLat.convert(e)),c=s.project(t.LngLat.convert(n)),h=l.rotate(-i*Math.PI/180),p=c.rotate(-i*Math.PI/180),f=new t.Point(Math.max(h.x,p.x),Math.max(h.y,p.y)),d=new t.Point(Math.min(h.x,p.x),Math.min(h.y,p.y)),g=f.sub(d),m=(s.width-(u.left+u.right+r.padding.left+r.padding.right))/g.x,_=(s.height-(u.top+u.bottom+r.padding.top+r.padding.bottom))/g.y;if(!(_<0||m<0)){var y=Math.min(s.scaleZoom(s.scale*Math.min(m,_)),r.maxZoom),v="number"==typeof r.offset.x?new t.Point(r.offset.x,r.offset.y):t.Point.convert(r.offset),b=new t.Point((r.padding.left-r.padding.right)/2,(r.padding.top-r.padding.bottom)/2).rotate(i*Math.PI/180),w=v.add(b).mult(s.scale/s.zoomScale(y));return{center:s.unproject(l.add(c).div(2).sub(w)),zoom:y,bearing:i}}t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},n.prototype.fitBounds=function(t,e,n){return this._fitInternal(this.cameraForBounds(t,e),e,n)},n.prototype.fitScreenCoordinates=function(e,n,i,r,o){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(t.Point.convert(e)),this.transform.pointLocation(t.Point.convert(n)),i,r),r,o)},n.prototype._fitInternal=function(e,n,i){return e?(delete(n=t.extend(e,n)).padding,n.linear?this.easeTo(n,i):this.flyTo(n,i)):this},n.prototype.jumpTo=function(e,n){this.stop();var i=this.transform,r=!1,o=!1,a=!1;return"zoom"in e&&i.zoom!==+e.zoom&&(r=!0,i.zoom=+e.zoom),void 0!==e.center&&(i.center=t.LngLat.convert(e.center)),"bearing"in e&&i.bearing!==+e.bearing&&(o=!0,i.bearing=+e.bearing),"pitch"in e&&i.pitch!==+e.pitch&&(a=!0,i.pitch=+e.pitch),null==e.padding||i.isPaddingEqual(e.padding)||(i.padding=e.padding),this.fire(new t.Event("movestart",n)).fire(new t.Event("move",n)),r&&this.fire(new t.Event("zoomstart",n)).fire(new t.Event("zoom",n)).fire(new t.Event("zoomend",n)),o&&this.fire(new t.Event("rotatestart",n)).fire(new t.Event("rotate",n)).fire(new t.Event("rotateend",n)),a&&this.fire(new t.Event("pitchstart",n)).fire(new t.Event("pitch",n)).fire(new t.Event("pitchend",n)),this.fire(new t.Event("moveend",n))},n.prototype.easeTo=function(e,n){var i=this;this._stop(!1,e.easeId),(!1===(e=t.extend({offset:[0,0],duration:500,easing:t.ease},e)).animate||!e.essential&&t.browser.prefersReducedMotion)&&(e.duration=0);var r=this.transform,o=this.getZoom(),a=this.getBearing(),s=this.getPitch(),u=this.getPadding(),l="zoom"in e?+e.zoom:o,c="bearing"in e?this._normalizeBearing(e.bearing,a):a,h="pitch"in e?+e.pitch:s,p="padding"in e?e.padding:r.padding,f=t.Point.convert(e.offset),d=r.centerPoint.add(f),g=r.pointLocation(d),m=t.LngLat.convert(e.center||g);this._normalizeCenter(m);var _,y,v=r.project(g),b=r.project(m).sub(v),w=r.zoomScale(l-o);e.around&&(_=t.LngLat.convert(e.around),y=r.locationPoint(_));var x={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||l!==o,this._rotating=this._rotating||a!==c,this._pitching=this._pitching||h!==s,this._padding=!r.isPaddingEqual(p),this._easeId=e.easeId,this._prepareEase(n,e.noMoveStart,x),this._ease(function(e){if(i._zooming&&(r.zoom=t.number(o,l,e)),i._rotating&&(r.bearing=t.number(a,c,e)),i._pitching&&(r.pitch=t.number(s,h,e)),i._padding&&(r.interpolatePadding(u,p,e),d=r.centerPoint.add(f)),_)r.setLocationAtPoint(_,y);else{var g=r.zoomScale(r.zoom-o),m=l>o?Math.min(2,w):Math.max(.5,w),x=Math.pow(m,1-e),k=r.unproject(v.add(b.mult(e*x)).mult(g));r.setLocationAtPoint(r.renderWorldCopies?k.wrap():k,d)}i._fireMoveEvents(n)},function(t){i._afterEase(n,t)},e),this},n.prototype._prepareEase=function(e,n,i){void 0===i&&(i={}),this._moving=!0,n||i.moving||this.fire(new t.Event("movestart",e)),this._zooming&&!i.zooming&&this.fire(new t.Event("zoomstart",e)),this._rotating&&!i.rotating&&this.fire(new t.Event("rotatestart",e)),this._pitching&&!i.pitching&&this.fire(new t.Event("pitchstart",e))},n.prototype._fireMoveEvents=function(e){this.fire(new t.Event("move",e)),this._zooming&&this.fire(new t.Event("zoom",e)),this._rotating&&this.fire(new t.Event("rotate",e)),this._pitching&&this.fire(new t.Event("pitch",e))},n.prototype._afterEase=function(e,n){if(!this._easeId||!n||this._easeId!==n){delete this._easeId;var i=this._zooming,r=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,i&&this.fire(new t.Event("zoomend",e)),r&&this.fire(new t.Event("rotateend",e)),o&&this.fire(new t.Event("pitchend",e)),this.fire(new t.Event("moveend",e))}},n.prototype.flyTo=function(e,n){var i=this;if(!e.essential&&t.browser.prefersReducedMotion){var r=t.pick(e,["center","zoom","bearing","pitch","around"]);return this.jumpTo(r,n)}this.stop(),e=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},e);var o=this.transform,a=this.getZoom(),s=this.getBearing(),u=this.getPitch(),l=this.getPadding(),c="zoom"in e?t.clamp(+e.zoom,o.minZoom,o.maxZoom):a,h="bearing"in e?this._normalizeBearing(e.bearing,s):s,p="pitch"in e?+e.pitch:u,f="padding"in e?e.padding:o.padding,d=o.zoomScale(c-a),g=t.Point.convert(e.offset),m=o.centerPoint.add(g),_=o.pointLocation(m),y=t.LngLat.convert(e.center||_);this._normalizeCenter(y);var v=o.project(_),b=o.project(y).sub(v),w=e.curve,x=Math.max(o.width,o.height),k=x/d,E=b.mag();if("minZoom"in e){var S=t.clamp(Math.min(e.minZoom,a,c),o.minZoom,o.maxZoom),C=x/o.zoomScale(S-a);w=Math.sqrt(C/E*2)}var I=w*w;function A(t){var e=(k*k-x*x+(t?-1:1)*I*I*E*E)/(2*(t?k:x)*I*E);return Math.log(Math.sqrt(e*e+1)-e)}function P(t){return(Math.exp(t)-Math.exp(-t))/2}function T(t){return(Math.exp(t)+Math.exp(-t))/2}var O=A(0),L=function(t){return T(O)/T(O+w*t)},M=function(t){return x*((T(O)*(P(e=O+w*t)/T(e))-P(O))/I)/E;var e},N=(A(1)-O)/w;if(Math.abs(E)<1e-6||!isFinite(N)){if(Math.abs(x-k)<1e-6)return this.easeTo(e,n);var R=k<x?-1:1;N=Math.abs(Math.log(k/x))/w,M=function(){return 0},L=function(t){return Math.exp(R*w*t)}}return e.duration="duration"in e?+e.duration:1e3*N/("screenSpeed"in e?+e.screenSpeed/w:+e.speed),e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=s!==h,this._pitching=p!==u,this._padding=!o.isPaddingEqual(f),this._prepareEase(n,!1),this._ease(function(e){var r=e*N,d=1/L(r);o.zoom=1===e?c:a+o.scaleZoom(d),i._rotating&&(o.bearing=t.number(s,h,e)),i._pitching&&(o.pitch=t.number(u,p,e)),i._padding&&(o.interpolatePadding(l,f,e),m=o.centerPoint.add(g));var _=1===e?y:o.unproject(v.add(b.mult(M(r))).mult(d));o.setLocationAtPoint(o.renderWorldCopies?_.wrap():_,m),i._fireMoveEvents(n)},function(){return i._afterEase(n)},e),this},n.prototype.isEasing=function(){return!!this._easeFrameId},n.prototype.stop=function(){return this._stop()},n.prototype._stop=function(t,e){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var n=this._onEaseEnd;delete this._onEaseEnd,n.call(this,e)}if(!t){var i=this.handlers;i&&i.stop(!1)}return this},n.prototype._ease=function(e,n,i){!1===i.animate||0===i.duration?(e(1),n()):(this._easeStart=t.browser.now(),this._easeOptions=i,this._onEaseFrame=e,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},n.prototype._renderFrameCallback=function(){var e=Math.min((t.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},n.prototype._normalizeBearing=function(e,n){e=t.wrap(e,-180,180);var i=Math.abs(e-n);return Math.abs(e-360-n)<i&&(e-=360),Math.abs(e+360-n)<i&&(e+=360),e},n.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var n=t.lng-e.center.lng;t.lng+=n>180?-360:n<-180?360:0}},n}(t.Evented),vr=function(e){void 0===e&&(e={}),this.options=e,t.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};vr.prototype.getDefaultPosition=function(){return"bottom-right"},vr.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=n.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=n.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},vr.prototype.onRemove=function(){n.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},vr.prototype._setElementTitle=function(t,e){var n=this._map._getUIString("AttributionControl."+e);t.title=n,t.setAttribute("aria-label",n)},vr.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},vr.prototype._updateEditLink=function(){var e=this._editLink;e||(e=this._editLink=this._container.querySelector(".mapbox-improve-map"));var n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||t.config.ACCESS_TOKEN}];if(e){var i=n.reduce(function(t,e,i){return e.value&&(t+=e.key+"="+e.value+(i<n.length-1?"&":"")),t},"?");e.href=t.config.FEEDBACK_URL+"/"+i+(this._map._hash?this._map._hash.getHashString(!0):""),e.rel="noopener nofollow",this._setElementTitle(e,"MapFeedback")}},vr.prototype._updateData=function(t){!t||"metadata"!==t.sourceDataType&&"visibility"!==t.sourceDataType&&"style"!==t.dataType||(this._updateAttributions(),this._updateEditLink())},vr.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?t=t.concat(this.options.customAttribution.map(function(t){return"string"!=typeof t?"":t})):"string"==typeof this.options.customAttribution&&t.push(this.options.customAttribution)),this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var n=this._map.style.sourceCaches;for(var i in n){var r=n[i];if(r.used){var o=r.getSource();o.attribution&&t.indexOf(o.attribution)<0&&t.push(o.attribution)}}t.sort(function(t,e){return t.length-e.length});var a=(t=t.filter(function(e,n){for(var i=n+1;i<t.length;i++)if(t[i].indexOf(e)>=0)return!1;return!0})).join(" | ");a!==this._attribHTML&&(this._attribHTML=a,t.length?(this._innerContainer.innerHTML=a,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},vr.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var br=function(){t.bindAll(["_updateLogo"],this),t.bindAll(["_updateCompact"],this)};br.prototype.onAdd=function(t){this._map=t,this._container=n.create("div","mapboxgl-ctrl");var e=n.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.rel="noopener nofollow",e.href="https://www.mapbox.com/",e.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),e.setAttribute("rel","noopener nofollow"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},br.prototype.onRemove=function(){n.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},br.prototype.getDefaultPosition=function(){return"bottom-left"},br.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},br.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t)if(t[e].getSource().mapbox_logo)return!0;return!1}},br.prototype._updateCompact=function(){var t=this._container.children;if(t.length){var e=t[0];this._map.getCanvasContainer().offsetWidth<250?e.classList.add("mapboxgl-compact"):e.classList.remove("mapboxgl-compact")}};var wr=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};wr.prototype.add=function(t){var e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e},wr.prototype.remove=function(t){for(var e=this._currentlyRunning,n=0,i=e?this._queue.concat(e):this._queue;n<i.length;n+=1){var r=i[n];if(r.id===t)return void(r.cancelled=!0)}},wr.prototype.run=function(t){void 0===t&&(t=0);var e=this._currentlyRunning=this._queue;this._queue=[];for(var n=0,i=e;n<i.length;n+=1){var r=i[n];if(!r.cancelled&&(r.callback(t),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},wr.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var xr={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},kr=t.window.HTMLImageElement,Er=t.window.HTMLElement,Sr=t.window.ImageBitmap,Cr={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Ir=function(i){function r(e){var n=this;if(null!=(e=t.extend({},Cr,e)).minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=e.minPitch&&null!=e.maxPitch&&e.minPitch>e.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=e.minPitch&&e.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=e.maxPitch&&e.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var r=new ki(e.minZoom,e.maxZoom,e.minPitch,e.maxPitch,e.renderWorldCopies);if(i.call(this,r,e),this._interactive=e.interactive,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._antialias=e.antialias,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._fadeDuration=e.fadeDuration,this._crossSourceCollisions=e.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=e.collectResourceTiming,this._renderTaskQueue=new wr,this._controls=[],this._mapId=t.uniqueId(),this._locale=t.extend({},xr,e.locale),this._clickTolerance=e.clickTolerance,this._requestManager=new t.RequestManager(e.transformRequest,e.accessToken),"string"==typeof e.container){if(this._container=t.window.document.getElementById(e.container),!this._container)throw new Error("Container '"+e.container+"' not found.")}else{if(!(e.container instanceof Er))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=e.container}if(e.maxBounds&&this.setMaxBounds(e.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return n._update(!1)}),this.on("moveend",function(){return n._update(!1)}),this.on("zoom",function(){return n._update(!0)}),void 0!==t.window&&(t.window.addEventListener("online",this._onWindowOnline,!1),t.window.addEventListener("resize",this._onWindowResize,!1),t.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new _r(this,e),this._hash=e.hash&&new Si("string"==typeof e.hash&&e.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),e.bounds&&(this.resize(),this.fitBounds(e.bounds,t.extend({},e.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=e.localIdeographFontFamily,e.style&&this.setStyle(e.style,{localIdeographFontFamily:e.localIdeographFontFamily}),e.attributionControl&&this.addControl(new vr({customAttribution:e.customAttribution})),this.addControl(new br,e.logoPosition),this.on("style.load",function(){n.transform.unmodified&&n.jumpTo(n.style.stylesheet)}),this.on("data",function(e){n._update("style"===e.dataType),n.fire(new t.Event(e.dataType+"data",e))}),this.on("dataloading",function(e){n.fire(new t.Event(e.dataType+"dataloading",e))})}i&&(r.__proto__=i),(r.prototype=Object.create(i&&i.prototype)).constructor=r;var o={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return r.prototype._getMapId=function(){return this._mapId},r.prototype.addControl=function(e,n){if(void 0===n&&(n=e.getDefaultPosition?e.getDefaultPosition():"top-right"),!e||!e.onAdd)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var i=e.onAdd(this);this._controls.push(e);var r=this._controlPositions[n];return-1!==n.indexOf("bottom")?r.insertBefore(i,r.firstChild):r.appendChild(i),this},r.prototype.removeControl=function(e){if(!e||!e.onRemove)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var n=this._controls.indexOf(e);return n>-1&&this._controls.splice(n,1),e.onRemove(this),this},r.prototype.hasControl=function(t){return this._controls.indexOf(t)>-1},r.prototype.resize=function(e){var n=this._containerDimensions(),i=n[0],r=n[1];this._resizeCanvas(i,r),this.transform.resize(i,r),this.painter.resize(i,r);var o=!this._moving;return o&&(this.stop(),this.fire(new t.Event("movestart",e)).fire(new t.Event("move",e))),this.fire(new t.Event("resize",e)),o&&this.fire(new t.Event("moveend",e)),this},r.prototype.getBounds=function(){return this.transform.getBounds()},r.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},r.prototype.setMaxBounds=function(e){return this.transform.setMaxBounds(t.LngLatBounds.convert(e)),this._update()},r.prototype.setMinZoom=function(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},r.prototype.getMinZoom=function(){return this.transform.minZoom},r.prototype.setMaxZoom=function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},r.prototype.getMaxZoom=function(){return this.transform.maxZoom},r.prototype.setMinPitch=function(t){if((t=null==t?0:t)<0)throw new Error("minPitch must be greater than or equal to 0");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t&&this.setPitch(t),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},r.prototype.getMinPitch=function(){return this.transform.minPitch},r.prototype.setMaxPitch=function(t){if((t=null==t?60:t)>60)throw new Error("maxPitch must be less than or equal to 60");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t&&this.setPitch(t),this;throw new Error("maxPitch must be greater than the current minPitch")},r.prototype.getMaxPitch=function(){return this.transform.maxPitch},r.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},r.prototype.setRenderWorldCopies=function(t){return this.transform.renderWorldCopies=t,this._update()},r.prototype.project=function(e){return this.transform.locationPoint(t.LngLat.convert(e))},r.prototype.unproject=function(e){return this.transform.pointLocation(t.Point.convert(e))},r.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},r.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},r.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},r.prototype._createDelegatedListener=function(t,e,n){var i,r=this;if("mouseenter"===t||"mouseover"===t){var o=!1;return{layer:e,listener:n,delegates:{mousemove:function(i){var a=r.getLayer(e)?r.queryRenderedFeatures(i.point,{layers:[e]}):[];a.length?o||(o=!0,n.call(r,new Ni(t,r,i.originalEvent,{features:a}))):o=!1},mouseout:function(){o=!1}}}}if("mouseleave"===t||"mouseout"===t){var a=!1;return{layer:e,listener:n,delegates:{mousemove:function(i){(r.getLayer(e)?r.queryRenderedFeatures(i.point,{layers:[e]}):[]).length?a=!0:a&&(a=!1,n.call(r,new Ni(t,r,i.originalEvent)))},mouseout:function(e){a&&(a=!1,n.call(r,new Ni(t,r,e.originalEvent)))}}}}return{layer:e,listener:n,delegates:(i={},i[t]=function(t){var i=r.getLayer(e)?r.queryRenderedFeatures(t.point,{layers:[e]}):[];i.length&&(t.features=i,n.call(r,t),delete t.features)},i)}},r.prototype.on=function(t,e,n){if(void 0===n)return i.prototype.on.call(this,t,e);var r=this._createDelegatedListener(t,e,n);for(var o in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(r),r.delegates)this.on(o,r.delegates[o]);return this},r.prototype.once=function(t,e,n){if(void 0===n)return i.prototype.once.call(this,t,e);var r=this._createDelegatedListener(t,e,n);for(var o in r.delegates)this.once(o,r.delegates[o]);return this},r.prototype.off=function(t,e,n){var r=this;return void 0===n?i.prototype.off.call(this,t,e):(this._delegatedListeners&&this._delegatedListeners[t]&&function(i){for(var o=i[t],a=0;a<o.length;a++){var s=o[a];if(s.layer===e&&s.listener===n){for(var u in s.delegates)r.off(u,s.delegates[u]);return o.splice(a,1),r}}}(this._delegatedListeners),this)},r.prototype.queryRenderedFeatures=function(e,n){if(!this.style)return[];var i;if(void 0!==n||void 0===e||e instanceof t.Point||Array.isArray(e)||(n=e,e=void 0),n=n||{},(e=e||[[0,0],[this.transform.width,this.transform.height]])instanceof t.Point||"number"==typeof e[0])i=[t.Point.convert(e)];else{var r=t.Point.convert(e[0]),o=t.Point.convert(e[1]);i=[r,new t.Point(o.x,r.y),o,new t.Point(r.x,o.y),r]}return this.style.queryRenderedFeatures(i,n,this.transform)},r.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},r.prototype.setStyle=function(e,n){return!1!==(n=t.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&e?(this._diffStyle(e,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(e,n))},r.prototype._getUIString=function(t){var e=this._locale[t];if(null==e)throw new Error("Missing UI string '"+t+"'");return e},r.prototype._updateStyle=function(t,e){return this.style&&(this.style.setEventedParent(null),this.style._remove()),t?(this.style=new qe(this,e||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof t?this.style.loadURL(t):this.style.loadJSON(t),this):(delete this.style,this)},r.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new qe(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},r.prototype._diffStyle=function(e,n){var i=this;if("string"==typeof e){var r=this._requestManager.normalizeStyleURL(e),o=this._requestManager.transformRequest(r,t.ResourceType.Style);t.getJSON(o,function(e,r){e?i.fire(new t.ErrorEvent(e)):r&&i._updateDiff(r,n)})}else"object"==typeof e&&this._updateDiff(e,n)},r.prototype._updateDiff=function(e,n){try{this.style.setState(e)&&this._update(!0)}catch(i){t.warnOnce("Unable to perform style diff: "+(i.message||i.error||i)+".  Rebuilding the style from scratch."),this._updateStyle(e,n)}},r.prototype.getStyle=function(){if(this.style)return this.style.serialize()},r.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():t.warnOnce("There is no style added to the map.")},r.prototype.addSource=function(t,e){return this._lazyInitEmptyStyle(),this.style.addSource(t,e),this._update(!0)},r.prototype.isSourceLoaded=function(e){var n=this.style&&this.style.sourceCaches[e];if(void 0!==n)return n.loaded();this.fire(new t.ErrorEvent(new Error("There is no source with ID '"+e+"'")))},r.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var n=t[e]._tiles;for(var i in n){var r=n[i];if("loaded"!==r.state&&"errored"!==r.state)return!1}}return!0},r.prototype.addSourceType=function(t,e,n){return this._lazyInitEmptyStyle(),this.style.addSourceType(t,e,n)},r.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0)},r.prototype.getSource=function(t){return this.style.getSource(t)},r.prototype.addImage=function(e,n,i){void 0===i&&(i={});var r=i.pixelRatio;void 0===r&&(r=1);var o=i.sdf;void 0===o&&(o=!1);var a=i.stretchX,s=i.stretchY,u=i.content;if(this._lazyInitEmptyStyle(),n instanceof kr||Sr&&n instanceof Sr){var l=t.browser.getImageData(n);this.style.addImage(e,{data:new t.RGBAImage({width:l.width,height:l.height},l.data),pixelRatio:r,stretchX:a,stretchY:s,content:u,sdf:o,version:0})}else{if(void 0===n.width||void 0===n.height)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var c=n;this.style.addImage(e,{data:new t.RGBAImage({width:n.width,height:n.height},new Uint8Array(n.data)),pixelRatio:r,stretchX:a,stretchY:s,content:u,sdf:o,version:0,userImage:c}),c.onAdd&&c.onAdd(this,e)}},r.prototype.updateImage=function(e,n){var i=this.style.getImage(e);if(!i)return this.fire(new t.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var r=n instanceof kr||Sr&&n instanceof Sr?t.browser.getImageData(n):n,o=r.width,a=r.height,s=r.data;return void 0===o||void 0===a?this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):o!==i.data.width||a!==i.data.height?this.fire(new t.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(i.data.replace(s,!(n instanceof kr||Sr&&n instanceof Sr)),void this.style.updateImage(e,i))},r.prototype.hasImage=function(e){return e?!!this.style.getImage(e):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)},r.prototype.removeImage=function(t){this.style.removeImage(t)},r.prototype.loadImage=function(e,n){t.getImage(this._requestManager.transformRequest(e,t.ResourceType.Image),n)},r.prototype.listImages=function(){return this.style.listImages()},r.prototype.addLayer=function(t,e){return this._lazyInitEmptyStyle(),this.style.addLayer(t,e),this._update(!0)},r.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0)},r.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0)},r.prototype.getLayer=function(t){return this.style.getLayer(t)},r.prototype.setLayerZoomRange=function(t,e,n){return this.style.setLayerZoomRange(t,e,n),this._update(!0)},r.prototype.setFilter=function(t,e,n){return void 0===n&&(n={}),this.style.setFilter(t,e,n),this._update(!0)},r.prototype.getFilter=function(t){return this.style.getFilter(t)},r.prototype.setPaintProperty=function(t,e,n,i){return void 0===i&&(i={}),this.style.setPaintProperty(t,e,n,i),this._update(!0)},r.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},r.prototype.setLayoutProperty=function(t,e,n,i){return void 0===i&&(i={}),this.style.setLayoutProperty(t,e,n,i),this._update(!0)},r.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},r.prototype.setLight=function(t,e){return void 0===e&&(e={}),this._lazyInitEmptyStyle(),this.style.setLight(t,e),this._update(!0)},r.prototype.getLight=function(){return this.style.getLight()},r.prototype.setFeatureState=function(t,e){return this.style.setFeatureState(t,e),this._update()},r.prototype.removeFeatureState=function(t,e){return this.style.removeFeatureState(t,e),this._update()},r.prototype.getFeatureState=function(t){return this.style.getFeatureState(t)},r.prototype.getContainer=function(){return this._container},r.prototype.getCanvasContainer=function(){return this._canvasContainer},r.prototype.getCanvas=function(){return this._canvas},r.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.clientWidth||400,e=this._container.clientHeight||300),[t,e]},r.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==t.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&t.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},r.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSCanary=n.create("div","mapboxgl-canary",t)).style.visibility="hidden",this._detectMissingCSS();var e=this._canvasContainer=n.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=n.create("canvas","mapboxgl-canvas",e),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var i=this._containerDimensions();this._resizeCanvas(i[0],i[1]);var r=this._controlContainer=n.create("div","mapboxgl-control-container",t),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){o[t]=n.create("div","mapboxgl-ctrl-"+t,r)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},r.prototype._resizeCanvas=function(e,n){var i=t.browser.devicePixelRatio||1;this._canvas.width=i*e,this._canvas.height=i*n,this._canvas.style.width=e+"px",this._canvas.style.height=n+"px"},r.prototype._setupPainter=function(){var n=t.extend({},e.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),i=this._canvas.getContext("webgl",n)||this._canvas.getContext("experimental-webgl",n);i?(this.painter=new vi(i,this.transform),t.webpSupported.testSupport(i)):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))},r.prototype._contextLost=function(e){e.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new t.Event("webglcontextlost",{originalEvent:e}))},r.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:e}))},r.prototype._onMapScroll=function(t){if(t.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},r.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},r.prototype._update=function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this.triggerRepaint(),this):this},r.prototype._requestRenderFrame=function(t){return this._update(),this._renderTaskQueue.add(t)},r.prototype._cancelRenderFrame=function(t){this._renderTaskQueue.remove(t)},r.prototype._render=function(e){var n,i=this,r=0,o=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(n=o.createQueryEXT(),o.beginQueryEXT(o.TIME_ELAPSED_EXT,n),r=t.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(e),!this._removed){var a=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var s=this.transform.zoom,u=t.browser.now();this.style.zoomHistory.update(s,u);var l=new t.EvaluationParameters(s,{now:u,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),c=l.crossFadingFactor();1===c&&c===this._crossFadingFactor||(a=!0,this._crossFadingFactor=c),this.style.update(l)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||a)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var h=t.browser.now()-r;o.endQueryEXT(o.TIME_ELAPSED_EXT,n),setTimeout(function(){var e=o.getQueryObjectEXT(n,o.QUERY_RESULT_EXT)/1e6;o.deleteQueryEXT(n),i.fire(new t.Event("gpu-timing-frame",{cpuTime:h,gpuTime:e}))},50)}if(this.listens("gpu-timing-layer")){var p=this.painter.collectGpuTimers();setTimeout(function(){var e=i.painter.queryGpuTimers(p);i.fire(new t.Event("gpu-timing-layer",{layerTimes:e}))},50)}var f=this._sourcesDirty||this._styleDirty||this._placementDirty;return f||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new t.Event("idle")),!this._loaded||this._fullyLoaded||f||(this._fullyLoaded=!0),this}},r.prototype.remove=function(){this._hash&&this._hash.remove();for(var e=0,n=this._controls;e<n.length;e+=1)n[e].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==t.window&&(t.window.removeEventListener("resize",this._onWindowResize,!1),t.window.removeEventListener("orientationchange",this._onWindowResize,!1),t.window.removeEventListener("online",this._onWindowOnline,!1));var i=this.painter.context.gl.getExtension("WEBGL_lose_context");i&&i.loseContext(),Ar(this._canvasContainer),Ar(this._controlContainer),Ar(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new t.Event("remove"))},r.prototype.triggerRepaint=function(){var e=this;this.style&&!this._frame&&(this._frame=t.browser.frame(function(t){e._frame=null,e._render(t)}))},r.prototype._onWindowOnline=function(){this._update()},r.prototype._onWindowResize=function(t){this._trackResize&&this.resize({originalEvent:t})._update()},o.showTileBoundaries.get=function(){return!!this._showTileBoundaries},o.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},o.showPadding.get=function(){return!!this._showPadding},o.showPadding.set=function(t){this._showPadding!==t&&(this._showPadding=t,this._update())},o.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},o.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())},o.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},o.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},o.repaint.get=function(){return!!this._repaint},o.repaint.set=function(t){this._repaint!==t&&(this._repaint=t,this.triggerRepaint())},o.vertices.get=function(){return!!this._vertices},o.vertices.set=function(t){this._vertices=t,this._update()},r.prototype._setCacheLimits=function(e,n){t.setCacheLimits(e,n)},o.version.get=function(){return t.version},Object.defineProperties(r.prototype,o),r}(yr);function Ar(t){t.parentNode&&t.parentNode.removeChild(t)}var Pr={showCompass:!0,showZoom:!0,visualizePitch:!1},Tr=function(e){var i=this;this.options=t.extend({},Pr,e),this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this.options.showZoom&&(t.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(t){return i._map.zoomIn({},{originalEvent:t})}),n.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(t){return i._map.zoomOut({},{originalEvent:t})}),n.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(t){i.options.visualizePitch?i._map.resetNorthPitch({},{originalEvent:t}):i._map.resetNorth({},{originalEvent:t})}),this._compassIcon=n.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Tr.prototype._updateZoomButtons=function(){var t=this._map.getZoom(),e=t===this._map.getMaxZoom(),n=t===this._map.getMinZoom();this._zoomInButton.disabled=e,this._zoomOutButton.disabled=n,this._zoomInButton.setAttribute("aria-disabled",e.toString()),this._zoomOutButton.setAttribute("aria-disabled",n.toString())},Tr.prototype._rotateCompassArrow=function(){var t=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=t},Tr.prototype.onAdd=function(t){return this._map=t,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Or(this._map,this._compass,this.options.visualizePitch)),this._container},Tr.prototype.onRemove=function(){n.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Tr.prototype._createButton=function(t,e){var i=n.create("button",t,this._container);return i.type="button",i.addEventListener("click",e),i},Tr.prototype._setButtonTitle=function(t,e){var n=this._map._getUIString("NavigationControl."+e);t.title=n,t.setAttribute("aria-label",n)};var Or=function(e,i,r){void 0===r&&(r=!1),this._clickTolerance=10,this.element=i,this.mouseRotate=new Yi({clickTolerance:e.dragRotate._mouseRotate._clickTolerance}),this.map=e,r&&(this.mousePitch=new Zi({clickTolerance:e.dragRotate._mousePitch._clickTolerance})),t.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),n.addEventListener(i,"mousedown",this.mousedown),n.addEventListener(i,"touchstart",this.touchstart,{passive:!1}),n.addEventListener(i,"touchmove",this.touchmove),n.addEventListener(i,"touchend",this.touchend),n.addEventListener(i,"touchcancel",this.reset)};function Lr(e,n,i){if(e=new t.LngLat(e.lng,e.lat),n){var r=new t.LngLat(e.lng-360,e.lat),o=new t.LngLat(e.lng+360,e.lat),a=i.locationPoint(e).distSqr(n);i.locationPoint(r).distSqr(n)<a?e=r:i.locationPoint(o).distSqr(n)<a&&(e=o)}for(;Math.abs(e.lng-i.center.lng)>180;){var s=i.locationPoint(e);if(s.x>=0&&s.y>=0&&s.x<=i.width&&s.y<=i.height)break;e.lng>i.center.lng?e.lng-=360:e.lng+=360}return e}Or.prototype.down=function(t,e){this.mouseRotate.mousedown(t,e),this.mousePitch&&this.mousePitch.mousedown(t,e),n.disableDrag()},Or.prototype.move=function(t,e){var n=this.map,i=this.mouseRotate.mousemoveWindow(t,e);if(i&&i.bearingDelta&&n.setBearing(n.getBearing()+i.bearingDelta),this.mousePitch){var r=this.mousePitch.mousemoveWindow(t,e);r&&r.pitchDelta&&n.setPitch(n.getPitch()+r.pitchDelta)}},Or.prototype.off=function(){var t=this.element;n.removeEventListener(t,"mousedown",this.mousedown),n.removeEventListener(t,"touchstart",this.touchstart,{passive:!1}),n.removeEventListener(t,"touchmove",this.touchmove),n.removeEventListener(t,"touchend",this.touchend),n.removeEventListener(t,"touchcancel",this.reset),this.offTemp()},Or.prototype.offTemp=function(){n.enableDrag(),n.removeEventListener(t.window,"mousemove",this.mousemove),n.removeEventListener(t.window,"mouseup",this.mouseup)},Or.prototype.mousedown=function(e){this.down(t.extend({},e,{ctrlKey:!0,preventDefault:function(){return e.preventDefault()}}),n.mousePos(this.element,e)),n.addEventListener(t.window,"mousemove",this.mousemove),n.addEventListener(t.window,"mouseup",this.mouseup)},Or.prototype.mousemove=function(t){this.move(t,n.mousePos(this.element,t))},Or.prototype.mouseup=function(t){this.mouseRotate.mouseupWindow(t),this.mousePitch&&this.mousePitch.mouseupWindow(t),this.offTemp()},Or.prototype.touchstart=function(t){1!==t.targetTouches.length?this.reset():(this._startPos=this._lastPos=n.touchPos(this.element,t.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return t.preventDefault()}},this._startPos))},Or.prototype.touchmove=function(t){1!==t.targetTouches.length?this.reset():(this._lastPos=n.touchPos(this.element,t.targetTouches)[0],this.move({preventDefault:function(){return t.preventDefault()}},this._lastPos))},Or.prototype.touchend=function(t){0===t.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Or.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Mr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Nr(t,e,n){var i=t.classList;for(var r in Mr)i.remove("mapboxgl-"+n+"-anchor-"+r);i.add("mapboxgl-"+n+"-anchor-"+e)}var Rr,Dr=function(e){function i(i,r){if(e.call(this),(i instanceof t.window.HTMLElement||r)&&(i=t.extend({element:i},r)),t.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=i&&i.anchor||"center",this._color=i&&i.color||"#3FB1CE",this._scale=i&&i.scale||1,this._draggable=i&&i.draggable||!1,this._clickTolerance=i&&i.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=i&&i.rotation||0,this._rotationAlignment=i&&i.rotationAlignment||"auto",this._pitchAlignment=i&&i.pitchAlignment&&"auto"!==i.pitchAlignment?i.pitchAlignment:this._rotationAlignment,i&&i.element)this._element=i.element,this._offset=t.Point.convert(i&&i.offset||[0,0]);else{this._defaultMarker=!0,this._element=n.create("div"),this._element.setAttribute("aria-label","Map marker");var o=n.createNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height","41px"),o.setAttributeNS(null,"width","27px"),o.setAttributeNS(null,"viewBox","0 0 27 41");var a=n.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"stroke","none"),a.setAttributeNS(null,"stroke-width","1"),a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"fill-rule","evenodd");var s=n.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");var u=n.createNS("http://www.w3.org/2000/svg","g");u.setAttributeNS(null,"transform","translate(3.0, 29.0)"),u.setAttributeNS(null,"fill","#000000");for(var l=0,c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];l<c.length;l+=1){var h=c[l],p=n.createNS("http://www.w3.org/2000/svg","ellipse");p.setAttributeNS(null,"opacity","0.04"),p.setAttributeNS(null,"cx","10.5"),p.setAttributeNS(null,"cy","5.80029008"),p.setAttributeNS(null,"rx",h.rx),p.setAttributeNS(null,"ry",h.ry),u.appendChild(p)}var f=n.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"fill",this._color);var d=n.createNS("http://www.w3.org/2000/svg","path");d.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),f.appendChild(d);var g=n.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"opacity","0.25"),g.setAttributeNS(null,"fill","#000000");var m=n.createNS("http://www.w3.org/2000/svg","path");m.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),g.appendChild(m);var _=n.createNS("http://www.w3.org/2000/svg","g");_.setAttributeNS(null,"transform","translate(6.0, 7.0)"),_.setAttributeNS(null,"fill","#FFFFFF");var y=n.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"transform","translate(8.0, 8.0)");var v=n.createNS("http://www.w3.org/2000/svg","circle");v.setAttributeNS(null,"fill","#000000"),v.setAttributeNS(null,"opacity","0.25"),v.setAttributeNS(null,"cx","5.5"),v.setAttributeNS(null,"cy","5.5"),v.setAttributeNS(null,"r","5.4999962");var b=n.createNS("http://www.w3.org/2000/svg","circle");b.setAttributeNS(null,"fill","#FFFFFF"),b.setAttributeNS(null,"cx","5.5"),b.setAttributeNS(null,"cy","5.5"),b.setAttributeNS(null,"r","5.4999962"),y.appendChild(v),y.appendChild(b),s.appendChild(u),s.appendChild(f),s.appendChild(g),s.appendChild(_),s.appendChild(y),o.appendChild(s),o.setAttributeNS(null,"height",41*this._scale+"px"),o.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(o),this._offset=t.Point.convert(i&&i.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(t){t.preventDefault()}),this._element.addEventListener("mousedown",function(t){t.preventDefault()}),Nr(this._element,this._anchor,"marker"),this._popup=null}return e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i,i.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},i.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),n.remove(this._element),this._popup&&this._popup.remove(),this},i.prototype.getLngLat=function(){return this._lngLat},i.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},i.prototype.getElement=function(){return this._element},i.prototype.setPopup=function(t){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),t){if(!("offset"in t.options)){var e=Math.sqrt(Math.pow(13.5,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[e,-1*(24.6+e)],"bottom-right":[-e,-1*(24.6+e)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},i.prototype._onKeyPress=function(t){var e=t.code,n=t.charCode||t.keyCode;"Space"!==e&&"Enter"!==e&&32!==n&&13!==n||this.togglePopup()},i.prototype._onMapClick=function(t){var e=t.originalEvent.target,n=this._element;this._popup&&(e===n||n.contains(e))&&this.togglePopup()},i.prototype.getPopup=function(){return this._popup},i.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},i.prototype._update=function(t){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Lr(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var e="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?e="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(e="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var i="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?i="rotateX(0deg)":"map"===this._pitchAlignment&&(i="rotateX("+this._map.getPitch()+"deg)"),t&&"moveend"!==t.type||(this._pos=this._pos.round()),n.setTransform(this._element,Mr[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+i+" "+e)}},i.prototype.getOffset=function(){return this._offset},i.prototype.setOffset=function(e){return this._offset=t.Point.convert(e),this._update(),this},i.prototype._onMove=function(e){if(!this._isDragging){var n=this._clickTolerance||this._map._clickTolerance;this._isDragging=e.point.dist(this._pointerdownPos)>=n}this._isDragging&&(this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.Event("dragstart"))),this.fire(new t.Event("drag")))},i.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.Event("dragend")),this._state="inactive"},i.prototype._addDragHandler=function(t){this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._offset),this._pointerdownPos=t.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},i.prototype.setDraggable=function(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},i.prototype.isDraggable=function(){return this._draggable},i.prototype.setRotation=function(t){return this._rotation=t||0,this._update(),this},i.prototype.getRotation=function(){return this._rotation},i.prototype.setRotationAlignment=function(t){return this._rotationAlignment=t||"auto",this._update(),this},i.prototype.getRotationAlignment=function(){return this._rotationAlignment},i.prototype.setPitchAlignment=function(t){return this._pitchAlignment=t&&"auto"!==t?t:this._rotationAlignment,this._update(),this},i.prototype.getPitchAlignment=function(){return this._pitchAlignment},i}(t.Evented),zr={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Fr=0,Br=!1,jr=function(e){function i(n){e.call(this),this.options=t.extend({},zr,n),t.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i,i.prototype.onAdd=function(e){var i;return this._map=e,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),i=this._setupUI,void 0!==Rr?i(Rr):void 0!==t.window.navigator.permissions?t.window.navigator.permissions.query({name:"geolocation"}).then(function(t){i(Rr="denied"!==t.state)}):i(Rr=!!t.window.navigator.geolocation),this._container},i.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),n.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Fr=0,Br=!1},i.prototype._isOutOfMapMaxBounds=function(t){var e=this._map.getMaxBounds(),n=t.coords;return e&&(n.longitude<e.getWest()||n.longitude>e.getEast()||n.latitude<e.getSouth()||n.latitude>e.getNorth())},i.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},i.prototype._onSuccess=function(e){if(this._map){if(this._isOutOfMapMaxBounds(e))return this._setErrorState(),this.fire(new t.Event("outofmaxbounds",e)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish()}},i.prototype._updateCamera=function(e){var n=new t.LngLat(e.coords.longitude,e.coords.latitude),i=e.coords.accuracy,r=this._map.getBearing(),o=t.extend({bearing:r},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(i),o,{geolocateSource:!0})},i.prototype._updateMarker=function(e){if(e){var n=new t.LngLat(e.coords.longitude,e.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=e.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},i.prototype._updateCircleRadius=function(){var t=this._map._container.clientHeight/2,e=this._map.unproject([0,t]),n=this._map.unproject([1,t]),i=e.distanceTo(n),r=Math.ceil(2*this._accuracy/i);this._circleElement.style.width=r+"px",this._circleElement.style.height=r+"px"},i.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},i.prototype._onError=function(e){if(this._map){if(this.options.trackUserLocation)if(1===e.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===e.code&&Br)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish()}},i.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},i.prototype._setupUI=function(e){var i=this;if(this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this._geolocateButton=n.create("button","mapboxgl-ctrl-geolocate",this._container),n.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===e){t.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=r,this._geolocateButton.setAttribute("aria-label",r)}else{var o=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=o,this._geolocateButton.setAttribute("aria-label",o)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=n.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Dr(this._dotElement),this._circleElement=n.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Dr({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(e){e.geolocateSource||"ACTIVE_LOCK"!==i._watchState||e.originalEvent&&"resize"===e.originalEvent.type||(i._watchState="BACKGROUND",i._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),i._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),i.fire(new t.Event("trackuserlocationend")))})},i.prototype.trigger=function(){if(!this._setup)return t.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Fr--,Br=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var e;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Fr>1?(e={maximumAge:6e5,timeout:0},Br=!0):(e=this.options.positionOptions,Br=!1),this._geolocationWatchID=t.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,e)}}else t.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},i.prototype._clearWatch=function(){t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},i}(t.Evented),Vr={maxWidth:100,unit:"metric"},Ur=function(e){this.options=t.extend({},Vr,e),t.bindAll(["_onMove","setUnit"],this)};function qr(t,e,n){var i=n&&n.maxWidth||100,r=t._container.clientHeight/2,o=t.unproject([0,r]),a=t.unproject([i,r]),s=o.distanceTo(a);if(n&&"imperial"===n.unit){var u=3.2808*s;u>5280?Gr(e,i,u/5280,t._getUIString("ScaleControl.Miles")):Gr(e,i,u,t._getUIString("ScaleControl.Feet"))}else n&&"nautical"===n.unit?Gr(e,i,s/1852,t._getUIString("ScaleControl.NauticalMiles")):s>=1e3?Gr(e,i,s/1e3,t._getUIString("ScaleControl.Kilometers")):Gr(e,i,s,t._getUIString("ScaleControl.Meters"))}function Gr(t,e,n,i){var r,o,a,s=(r=n,(o=Math.pow(10,(""+Math.floor(r)).length-1))*(a=(a=r/o)>=10?10:a>=5?5:a>=3?3:a>=2?2:a>=1?1:function(t){var e=Math.pow(10,Math.ceil(-Math.log(t)/Math.LN10));return Math.round(t*e)/e}(a)));t.style.width=e*(s/n)+"px",t.innerHTML=s+"&nbsp;"+i}Ur.prototype.getDefaultPosition=function(){return"bottom-left"},Ur.prototype._onMove=function(){qr(this._map,this._container,this.options)},Ur.prototype.onAdd=function(t){return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Ur.prototype.onRemove=function(){n.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Ur.prototype.setUnit=function(t){this.options.unit=t,qr(this._map,this._container,this.options)};var Hr=function(e){this._fullscreen=!1,e&&e.container&&(e.container instanceof t.window.HTMLElement?this._container=e.container:t.warnOnce("Full screen control 'container' must be a DOM element.")),t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in t.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in t.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in t.window.document&&(this._fullscreenchange="MSFullscreenChange")};Hr.prototype.onAdd=function(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Hr.prototype.onRemove=function(){n.remove(this._controlContainer),this._map=null,t.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Hr.prototype._checkFullscreenSupport=function(){return!!(t.window.document.fullscreenEnabled||t.window.document.mozFullScreenEnabled||t.window.document.msFullscreenEnabled||t.window.document.webkitFullscreenEnabled)},Hr.prototype._setupUI=function(){var e=this._fullscreenButton=n.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);n.create("span","mapboxgl-ctrl-icon",e).setAttribute("aria-hidden",!0),e.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Hr.prototype._updateTitle=function(){var t=this._getTitle();this._fullscreenButton.setAttribute("aria-label",t),this._fullscreenButton.title=t},Hr.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Hr.prototype._isFullscreen=function(){return this._fullscreen},Hr.prototype._changeIcon=function(){(t.window.document.fullscreenElement||t.window.document.mozFullScreenElement||t.window.document.webkitFullscreenElement||t.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Hr.prototype._onClickFullscreen=function(){this._isFullscreen()?t.window.document.exitFullscreen?t.window.document.exitFullscreen():t.window.document.mozCancelFullScreen?t.window.document.mozCancelFullScreen():t.window.document.msExitFullscreen?t.window.document.msExitFullscreen():t.window.document.webkitCancelFullScreen&&t.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Wr={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Yr=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Zr=function(e){function i(n){e.call(this),this.options=t.extend(Object.create(Wr),n),t.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i,i.prototype.addTo=function(e){return this._map&&this.remove(),this._map=e,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new t.Event("open")),this},i.prototype.isOpen=function(){return!!this._map},i.prototype.remove=function(){return this._content&&n.remove(this._content),this._container&&(n.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new t.Event("close")),this},i.prototype.getLngLat=function(){return this._lngLat},i.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},i.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},i.prototype.getElement=function(){return this._container},i.prototype.setText=function(e){return this.setDOMContent(t.window.document.createTextNode(e))},i.prototype.setHTML=function(e){var n,i=t.window.document.createDocumentFragment(),r=t.window.document.createElement("body");for(r.innerHTML=e;n=r.firstChild;)i.appendChild(n);return this.setDOMContent(i)},i.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},i.prototype.setMaxWidth=function(t){return this.options.maxWidth=t,this._update(),this},i.prototype.setDOMContent=function(t){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=n.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(t),this._createCloseButton(),this._update(),this._focusFirstElement(),this},i.prototype.addClassName=function(t){this._container&&this._container.classList.add(t)},i.prototype.removeClassName=function(t){this._container&&this._container.classList.remove(t)},i.prototype.setOffset=function(t){return this.options.offset=t,this._update(),this},i.prototype.toggleClassName=function(t){if(this._container)return this._container.classList.toggle(t)},i.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=n.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},i.prototype._onMouseUp=function(t){this._update(t.point)},i.prototype._onMouseMove=function(t){this._update(t.point)},i.prototype._onDrag=function(t){this._update(t.point)},i.prototype._update=function(e){var i=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=n.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=n.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(t){return i._container.classList.add(t)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Lr(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||e)){var r=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat),o=this.options.anchor,a=function e(n){if(n){if("number"==typeof n){var i=Math.round(Math.sqrt(.5*Math.pow(n,2)));return{center:new t.Point(0,0),top:new t.Point(0,n),"top-left":new t.Point(i,i),"top-right":new t.Point(-i,i),bottom:new t.Point(0,-n),"bottom-left":new t.Point(i,-i),"bottom-right":new t.Point(-i,-i),left:new t.Point(n,0),right:new t.Point(-n,0)}}if(n instanceof t.Point||Array.isArray(n)){var r=t.Point.convert(n);return{center:r,top:r,"top-left":r,"top-right":r,bottom:r,"bottom-left":r,"bottom-right":r,left:r,right:r}}return{center:t.Point.convert(n.center||[0,0]),top:t.Point.convert(n.top||[0,0]),"top-left":t.Point.convert(n["top-left"]||[0,0]),"top-right":t.Point.convert(n["top-right"]||[0,0]),bottom:t.Point.convert(n.bottom||[0,0]),"bottom-left":t.Point.convert(n["bottom-left"]||[0,0]),"bottom-right":t.Point.convert(n["bottom-right"]||[0,0]),left:t.Point.convert(n.left||[0,0]),right:t.Point.convert(n.right||[0,0])}}return e(new t.Point(0,0))}(this.options.offset);if(!o){var s,u=this._container.offsetWidth,l=this._container.offsetHeight;s=r.y+a.bottom.y<l?["top"]:r.y>this._map.transform.height-l?["bottom"]:[],r.x<u/2?s.push("left"):r.x>this._map.transform.width-u/2&&s.push("right"),o=0===s.length?"bottom":s.join("-")}var c=r.add(a[o]).round();n.setTransform(this._container,Mr[o]+" translate("+c.x+"px,"+c.y+"px)"),Nr(this._container,o,"popup")}},i.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var t=this._container.querySelector(Yr);t&&t.focus()}},i.prototype._onClose=function(){this.remove()},i}(t.Evented),Xr={version:t.version,supported:e,setRTLTextPlugin:t.setRTLTextPlugin,getRTLTextPluginStatus:t.getRTLTextPluginStatus,Map:Ir,NavigationControl:Tr,GeolocateControl:jr,AttributionControl:vr,ScaleControl:Ur,FullscreenControl:Hr,Popup:Zr,Marker:Dr,Style:qe,LngLat:t.LngLat,LngLatBounds:t.LngLatBounds,Point:t.Point,MercatorCoordinate:t.MercatorCoordinate,Evented:t.Evented,config:t.config,prewarm:function(){Ft().acquire(Nt)},clearPrewarmedResources:function(){var t=Dt;t&&(t.isPreloaded()&&1===t.numActive()?(t.release(Nt),Dt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return t.config.ACCESS_TOKEN},set accessToken(e){t.config.ACCESS_TOKEN=e},get baseApiUrl(){return t.config.API_URL},set baseApiUrl(e){t.config.API_URL=e},get workerCount(){return Rt.workerCount},set workerCount(t){Rt.workerCount=t},get maxParallelImageRequests(){return t.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(e){t.config.MAX_PARALLEL_IMAGE_REQUESTS=e},clearStorage:function(e){t.clearTileCache(e)},workerUrl:""};return Xr}),n}()},"4b23":function(t,e,n){for(var i=self.crypto||self.msCrypto,r="-_",o=36;o--;)r+=o.toString(36);for(o=36;o---10;)r+=o.toString(36).toUpperCase();t.exports=function(t){var e="",n=i.getRandomValues(new Uint8Array(t||21));for(o=t||21;o--;)e+=r[63&n[o]];return e}},"5K5J":function(t,e,n){var i;i=function(){var t=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function e(e){return e.match(t)||[]}function n(t){return{language:(t=e(t))[1]||"",extlang:t[2]||"",script:t[3]||"",region:t[4]||""}}function i(t,e,n){Object.defineProperty(t,e,{value:n,enumerable:!0})}function r(t,r,o){function a(n){return e(n)[t]||""}i(a,"pattern",r),i(n,o,a)}return r(1,/^[a-zA-Z]{2,3}$/,"language"),r(2,/^[a-zA-Z]{3}$/,"extlang"),r(3,/^[a-zA-Z]{4}$/,"script"),r(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),i(n,"split",function(t){return e(t).filter(function(t,e){return t&&e})}),n},t.exports?t.exports=i():this.subtag=i()},"5hfJ":function(t,e,n){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function(t){if(!t.startsWith("POLYGON"))throw new Error("Invalid wkt.");return t.slice(t.indexOf("(")+2,t.indexOf(")")).split(", ").map(function(t){var e,n=function(t){if(Array.isArray(t))return t}(e=t.split(" "))||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),2!==n.length);i=!0);}catch(u){r=!0,o=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(e)||function(t,e){if(t){if("string"==typeof t)return i(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[1];return{longitude:parseFloat(n[0]),latitude:parseFloat(r)}})}},"5kFF":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("jH9d");e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",n=i.areaConversion[e];if(n)return t*n;throw new Error("Invalid unit used for area conversion.")}},"5oMp":function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},"5vw/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r=(i=n("wI44"))&&i.__esModule?i:{default:i};e.default=function(t,e,n){return(0,r.default)(t,e)<n}},"6BPK":function(t,e,n){var i,r;!function(o,a,s){"use strict";"undefined"!=typeof window&&n("PDX0")?void 0===(r="function"==typeof(i=s)?i.call(e,n,e,t):i)||(t.exports=r):t.exports?t.exports=s():a.exports?a.exports=s():a.Fingerprint2=s()}(0,this,function(){"use strict";void 0===Array.isArray&&(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var t=function(t,e){var n=[0,0,0,0];return n[3]+=(t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]])[3]+(e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]])[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=t[2]+e[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=t[1]+e[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=t[0]+e[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]},e=function(t,e){var n=[0,0,0,0];return n[3]+=(t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]])[3]*(e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]])[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=t[2]*e[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=t[3]*e[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=t[1]*e[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=t[2]*e[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=t[3]*e[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=t[0]*e[3]+t[1]*e[2]+t[2]*e[1]+t[3]*e[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]},n=function(t,e){return 32==(e%=64)?[t[1],t[0]]:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e|t[0]>>>32-e]:[t[1]<<(e-=32)|t[0]>>>32-e,t[0]<<e|t[1]>>>32-e]},i=function(t,e){return 0==(e%=64)?t:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e]:[t[1]<<e-32,0]},r=function(t,e){return[t[0]^e[0],t[1]^e[1]]},o=function(t){return t=r(t,[0,t[0]>>>1]),t=e(t,[4283543511,3981806797]),t=r(t,[0,t[0]>>>1]),t=e(t,[3301882366,444984403]),r(t,[0,t[0]>>>1])},a=function(a,s){for(var u=(a=a||"").length%16,l=a.length-u,c=[0,s=s||0],h=[0,s],p=[0,0],f=[0,0],d=[2277735313,289559509],g=[1291169091,658871167],m=0;m<l;m+=16)p=[255&a.charCodeAt(m+4)|(255&a.charCodeAt(m+5))<<8|(255&a.charCodeAt(m+6))<<16|(255&a.charCodeAt(m+7))<<24,255&a.charCodeAt(m)|(255&a.charCodeAt(m+1))<<8|(255&a.charCodeAt(m+2))<<16|(255&a.charCodeAt(m+3))<<24],f=[255&a.charCodeAt(m+12)|(255&a.charCodeAt(m+13))<<8|(255&a.charCodeAt(m+14))<<16|(255&a.charCodeAt(m+15))<<24,255&a.charCodeAt(m+8)|(255&a.charCodeAt(m+9))<<8|(255&a.charCodeAt(m+10))<<16|(255&a.charCodeAt(m+11))<<24],p=e(p,d),p=n(p,31),p=e(p,g),c=r(c,p),c=n(c,27),c=t(c,h),c=t(e(c,[0,5]),[0,1390208809]),f=e(f,g),f=n(f,33),f=e(f,d),h=r(h,f),h=n(h,31),h=t(h,c),h=t(e(h,[0,5]),[0,944331445]);switch(p=[0,0],f=[0,0],u){case 15:f=r(f,i([0,a.charCodeAt(m+14)],48));case 14:f=r(f,i([0,a.charCodeAt(m+13)],40));case 13:f=r(f,i([0,a.charCodeAt(m+12)],32));case 12:f=r(f,i([0,a.charCodeAt(m+11)],24));case 11:f=r(f,i([0,a.charCodeAt(m+10)],16));case 10:f=r(f,i([0,a.charCodeAt(m+9)],8));case 9:f=r(f,[0,a.charCodeAt(m+8)]),f=e(f,g),f=n(f,33),f=e(f,d),h=r(h,f);case 8:p=r(p,i([0,a.charCodeAt(m+7)],56));case 7:p=r(p,i([0,a.charCodeAt(m+6)],48));case 6:p=r(p,i([0,a.charCodeAt(m+5)],40));case 5:p=r(p,i([0,a.charCodeAt(m+4)],32));case 4:p=r(p,i([0,a.charCodeAt(m+3)],24));case 3:p=r(p,i([0,a.charCodeAt(m+2)],16));case 2:p=r(p,i([0,a.charCodeAt(m+1)],8));case 1:p=r(p,[0,a.charCodeAt(m)]),p=e(p,d),p=n(p,31),p=e(p,g),c=r(c,p)}return c=r(c,[0,a.length]),h=r(h,[0,a.length]),c=t(c,h),h=t(h,c),c=o(c),h=o(h),c=t(c,h),h=t(h,c),("00000000"+(c[0]>>>0).toString(16)).slice(-8)+("00000000"+(c[1]>>>0).toString(16)).slice(-8)+("00000000"+(h[0]>>>0).toString(16)).slice(-8)+("00000000"+(h[1]>>>0).toString(16)).slice(-8)},s={preprocessor:null,audio:{timeout:1e3,excludeIOS11:!0},fonts:{swfContainerId:"fingerprintjs2",swfPath:"flash/compiled/FontList.swf",userDefinedFonts:[],extendedJsFonts:!1},screen:{detectScreenOrientation:!0},plugins:{sortPluginsFor:[/palemoon/i],excludeIE:!1},extraComponents:[],excludes:{enumerateDevices:!0,pixelRatio:!0,doNotTrack:!0,fontsFlash:!0,adBlock:!0},NOT_AVAILABLE:"not available",ERROR:"error",EXCLUDED:"excluded"},u=function(t,e){if(Array.prototype.forEach&&t.forEach===Array.prototype.forEach)t.forEach(e);else if(t.length===+t.length)for(var n=0,i=t.length;n<i;n++)e(t[n],n,t);else for(var r in t)t.hasOwnProperty(r)&&e(t[r],r,t)},l=function(t,e){var n=[];return null==t?n:Array.prototype.map&&t.map===Array.prototype.map?t.map(e):(u(t,function(t,i,r){n.push(e(t,i,r))}),n)},c=function(t){if(null==navigator.plugins)return t.NOT_AVAILABLE;for(var e=[],n=0,i=navigator.plugins.length;n<i;n++)navigator.plugins[n]&&e.push(navigator.plugins[n]);return h(t)&&(e=e.sort(function(t,e){return t.name>e.name?1:t.name<e.name?-1:0})),l(e,function(t){var e=l(t,function(t){return[t.type,t.suffixes]});return[t.name,t.description,e]})},h=function(t){for(var e=!1,n=0,i=t.plugins.sortPluginsFor.length;n<i;n++)if(navigator.userAgent.match(t.plugins.sortPluginsFor[n])){e=!0;break}return e},p=function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},f=function(){if(!p())return!1;var t=d(),e=!!window.WebGLRenderingContext&&!!t;return g(t),e},d=function(){var t=document.createElement("canvas"),e=null;try{e=t.getContext("webgl")||t.getContext("experimental-webgl")}catch(n){}return e||(e=null),e},g=function(t){var e=t.getExtension("WEBGL_lose_context");null!=e&&e.loseContext()},m=[{key:"userAgent",getData:function(t){t(navigator.userAgent)}},{key:"webdriver",getData:function(t,e){t(null==navigator.webdriver?e.NOT_AVAILABLE:navigator.webdriver)}},{key:"language",getData:function(t,e){t(navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||e.NOT_AVAILABLE)}},{key:"colorDepth",getData:function(t,e){t(window.screen.colorDepth||e.NOT_AVAILABLE)}},{key:"deviceMemory",getData:function(t,e){t(navigator.deviceMemory||e.NOT_AVAILABLE)}},{key:"pixelRatio",getData:function(t,e){t(window.devicePixelRatio||e.NOT_AVAILABLE)}},{key:"hardwareConcurrency",getData:function(t,e){t(function(t){return navigator.hardwareConcurrency?navigator.hardwareConcurrency:t.NOT_AVAILABLE}(e))}},{key:"screenResolution",getData:function(t,e){t(function(t){var e=[window.screen.width,window.screen.height];return t.screen.detectScreenOrientation&&e.sort().reverse(),e}(e))}},{key:"availableScreenResolution",getData:function(t,e){t(function(t){if(window.screen.availWidth&&window.screen.availHeight){var e=[window.screen.availHeight,window.screen.availWidth];return t.screen.detectScreenOrientation&&e.sort().reverse(),e}return t.NOT_AVAILABLE}(e))}},{key:"timezoneOffset",getData:function(t){t((new Date).getTimezoneOffset())}},{key:"timezone",getData:function(t,e){window.Intl&&window.Intl.DateTimeFormat?t((new window.Intl.DateTimeFormat).resolvedOptions().timeZone||e.NOT_AVAILABLE):t(e.NOT_AVAILABLE)}},{key:"sessionStorage",getData:function(t,e){t(function(t){try{return!!window.sessionStorage}catch(e){return t.ERROR}}(e))}},{key:"localStorage",getData:function(t,e){t(function(t){try{return!!window.localStorage}catch(e){return t.ERROR}}(e))}},{key:"indexedDb",getData:function(t,e){t(function(t){if(("msWriteProfilerMark"in window)+("msLaunchUri"in navigator)+("msSaveBlob"in navigator)>=2)return t.EXCLUDED;try{return!!window.indexedDB}catch(e){return t.ERROR}}(e))}},{key:"addBehavior",getData:function(t){t(!!window.HTMLElement.prototype.addBehavior)}},{key:"openDatabase",getData:function(t){t(!!window.openDatabase)}},{key:"cpuClass",getData:function(t,e){t(function(t){return navigator.cpuClass||t.NOT_AVAILABLE}(e))}},{key:"platform",getData:function(t,e){t(function(t){return navigator.platform?navigator.platform:t.NOT_AVAILABLE}(e))}},{key:"doNotTrack",getData:function(t,e){t(function(t){return navigator.doNotTrack?navigator.doNotTrack:navigator.msDoNotTrack?navigator.msDoNotTrack:window.doNotTrack?window.doNotTrack:t.NOT_AVAILABLE}(e))}},{key:"plugins",getData:function(t,e){"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&/Trident/.test(navigator.userAgent)?t(e.plugins.excludeIE?e.EXCLUDED:function(t){var e=[];return Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,"ActiveXObject")||"ActiveXObject"in window?e=l(["AcroPDF.PDF","Adodb.Stream","AgControl.AgControl","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","Scripting.Dictionary","SWCtl.SWCtl","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","Skype.Detection","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1"],function(e){try{return new window.ActiveXObject(e),e}catch(n){return t.ERROR}}):e.push(t.NOT_AVAILABLE),navigator.plugins&&(e=e.concat(c(t))),e}(e)):t(c(e))}},{key:"canvas",getData:function(t,e){p()?t(function(t){var e=[],n=document.createElement("canvas");n.width=2e3,n.height=200,n.style.display="inline";var i=n.getContext("2d");return i.rect(0,0,10,10),i.rect(2,2,6,6),e.push("canvas winding:"+(!1===i.isPointInPath(5,5,"evenodd")?"yes":"no")),i.textBaseline="alphabetic",i.fillStyle="#f60",i.fillRect(125,1,62,20),i.fillStyle="#069",i.font=t.dontUseFakeFontInCanvas?"11pt Arial":"11pt no-real-font-123",i.fillText("Cwm fjordbank glyphs vext quiz, \ud83d\ude03",2,15),i.fillStyle="rgba(102, 204, 0, 0.2)",i.font="18pt Arial",i.fillText("Cwm fjordbank glyphs vext quiz, \ud83d\ude03",4,45),i.globalCompositeOperation="multiply",i.fillStyle="rgb(255,0,255)",i.beginPath(),i.arc(50,50,50,0,2*Math.PI,!0),i.closePath(),i.fill(),i.fillStyle="rgb(0,255,255)",i.beginPath(),i.arc(100,50,50,0,2*Math.PI,!0),i.closePath(),i.fill(),i.fillStyle="rgb(255,255,0)",i.beginPath(),i.arc(75,100,50,0,2*Math.PI,!0),i.closePath(),i.fill(),i.fillStyle="rgb(255,0,255)",i.arc(75,75,75,0,2*Math.PI,!0),i.arc(75,75,25,0,2*Math.PI,!0),i.fill("evenodd"),n.toDataURL&&e.push("canvas fp:"+n.toDataURL()),e}(e)):t(e.NOT_AVAILABLE)}},{key:"webgl",getData:function(t,e){f()?t(function(){var t,e=function(e){return t.clearColor(0,0,0,1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),"["+e[0]+", "+e[1]+"]"};if(!(t=d()))return null;var n=[],i=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,i);var r=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW),i.itemSize=3,i.numItems=3;var o=t.createProgram(),a=t.createShader(t.VERTEX_SHADER);t.shaderSource(a,"attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"),t.compileShader(a);var s=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(s,"precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"),t.compileShader(s),t.attachShader(o,a),t.attachShader(o,s),t.linkProgram(o),t.useProgram(o),o.vertexPosAttrib=t.getAttribLocation(o,"attrVertex"),o.offsetUniform=t.getUniformLocation(o,"uniformOffset"),t.enableVertexAttribArray(o.vertexPosArray),t.vertexAttribPointer(o.vertexPosAttrib,i.itemSize,t.FLOAT,!1,0,0),t.uniform2f(o.offsetUniform,1,1),t.drawArrays(t.TRIANGLE_STRIP,0,i.numItems);try{n.push(t.canvas.toDataURL())}catch(c){}n.push("extensions:"+(t.getSupportedExtensions()||[]).join(";")),n.push("webgl aliased line width range:"+e(t.getParameter(t.ALIASED_LINE_WIDTH_RANGE))),n.push("webgl aliased point size range:"+e(t.getParameter(t.ALIASED_POINT_SIZE_RANGE))),n.push("webgl alpha bits:"+t.getParameter(t.ALPHA_BITS)),n.push("webgl antialiasing:"+(t.getContextAttributes().antialias?"yes":"no")),n.push("webgl blue bits:"+t.getParameter(t.BLUE_BITS)),n.push("webgl depth bits:"+t.getParameter(t.DEPTH_BITS)),n.push("webgl green bits:"+t.getParameter(t.GREEN_BITS)),n.push("webgl max anisotropy:"+function(t){var e=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic");if(e){var n=t.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT);return 0===n&&(n=2),n}return null}(t)),n.push("webgl max combined texture image units:"+t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),n.push("webgl max cube map texture size:"+t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE)),n.push("webgl max fragment uniform vectors:"+t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS)),n.push("webgl max render buffer size:"+t.getParameter(t.MAX_RENDERBUFFER_SIZE)),n.push("webgl max texture image units:"+t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)),n.push("webgl max texture size:"+t.getParameter(t.MAX_TEXTURE_SIZE)),n.push("webgl max varying vectors:"+t.getParameter(t.MAX_VARYING_VECTORS)),n.push("webgl max vertex attribs:"+t.getParameter(t.MAX_VERTEX_ATTRIBS)),n.push("webgl max vertex texture image units:"+t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),n.push("webgl max vertex uniform vectors:"+t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS)),n.push("webgl max viewport dims:"+e(t.getParameter(t.MAX_VIEWPORT_DIMS))),n.push("webgl red bits:"+t.getParameter(t.RED_BITS)),n.push("webgl renderer:"+t.getParameter(t.RENDERER)),n.push("webgl shading language version:"+t.getParameter(t.SHADING_LANGUAGE_VERSION)),n.push("webgl stencil bits:"+t.getParameter(t.STENCIL_BITS)),n.push("webgl vendor:"+t.getParameter(t.VENDOR)),n.push("webgl version:"+t.getParameter(t.VERSION));try{var l=t.getExtension("WEBGL_debug_renderer_info");l&&(n.push("webgl unmasked vendor:"+t.getParameter(l.UNMASKED_VENDOR_WEBGL)),n.push("webgl unmasked renderer:"+t.getParameter(l.UNMASKED_RENDERER_WEBGL)))}catch(c){}return t.getShaderPrecisionFormat?(u(["FLOAT","INT"],function(e){u(["VERTEX","FRAGMENT"],function(i){u(["HIGH","MEDIUM","LOW"],function(r){u(["precision","rangeMin","rangeMax"],function(o){var a=t.getShaderPrecisionFormat(t[i+"_SHADER"],t[r+"_"+e])[o];"precision"!==o&&(o="precision "+o);var s=["webgl ",i.toLowerCase()," shader ",r.toLowerCase()," ",e.toLowerCase()," ",o,":",a].join("");n.push(s)})})})}),g(t),n):(g(t),n)}()):t(e.NOT_AVAILABLE)}},{key:"webglVendorAndRenderer",getData:function(t){f()?t(function(){try{var t=d(),e=t.getExtension("WEBGL_debug_renderer_info"),n=t.getParameter(e.UNMASKED_VENDOR_WEBGL)+"~"+t.getParameter(e.UNMASKED_RENDERER_WEBGL);return g(t),n}catch(i){return null}}()):t()}},{key:"adBlock",getData:function(t){t(function(){var t=document.createElement("div");t.innerHTML="&nbsp;",t.className="adsbox";var e=!1;try{document.body.appendChild(t),e=0===document.getElementsByClassName("adsbox")[0].offsetHeight,document.body.removeChild(t)}catch(n){e=!1}return e}())}},{key:"hasLiedLanguages",getData:function(t){t(function(){if(void 0!==navigator.languages)try{if(navigator.languages[0].substr(0,2)!==navigator.language.substr(0,2))return!0}catch(t){return!0}return!1}())}},{key:"hasLiedResolution",getData:function(t){t(window.screen.width<window.screen.availWidth||window.screen.height<window.screen.availHeight)}},{key:"hasLiedOs",getData:function(t){t(function(){var t,e=navigator.userAgent.toLowerCase(),n=navigator.oscpu,i=navigator.platform.toLowerCase();if(t=e.indexOf("windows phone")>=0?"Windows Phone":e.indexOf("windows")>=0||e.indexOf("win16")>=0||e.indexOf("win32")>=0||e.indexOf("win64")>=0||e.indexOf("win95")>=0||e.indexOf("win98")>=0||e.indexOf("winnt")>=0||e.indexOf("wow64")>=0?"Windows":e.indexOf("android")>=0?"Android":e.indexOf("linux")>=0||e.indexOf("cros")>=0||e.indexOf("x11")>=0?"Linux":e.indexOf("iphone")>=0||e.indexOf("ipad")>=0||e.indexOf("ipod")>=0||e.indexOf("crios")>=0||e.indexOf("fxios")>=0?"iOS":e.indexOf("macintosh")>=0||e.indexOf("mac_powerpc)")>=0?"Mac":"Other",("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&"Windows"!==t&&"Windows Phone"!==t&&"Android"!==t&&"iOS"!==t&&"Other"!==t&&-1===e.indexOf("cros"))return!0;if(void 0!==n){if((n=n.toLowerCase()).indexOf("win")>=0&&"Windows"!==t&&"Windows Phone"!==t)return!0;if(n.indexOf("linux")>=0&&"Linux"!==t&&"Android"!==t)return!0;if(n.indexOf("mac")>=0&&"Mac"!==t&&"iOS"!==t)return!0;if((-1===n.indexOf("win")&&-1===n.indexOf("linux")&&-1===n.indexOf("mac"))!=("Other"===t))return!0}return i.indexOf("win")>=0&&"Windows"!==t&&"Windows Phone"!==t||(i.indexOf("linux")>=0||i.indexOf("android")>=0||i.indexOf("pike")>=0)&&"Linux"!==t&&"Android"!==t||(i.indexOf("mac")>=0||i.indexOf("ipad")>=0||i.indexOf("ipod")>=0||i.indexOf("iphone")>=0)&&"Mac"!==t&&"iOS"!==t||!(i.indexOf("arm")>=0&&"Windows Phone"===t)&&!(i.indexOf("pike")>=0&&e.indexOf("opera mini")>=0)&&((i.indexOf("win")<0&&i.indexOf("linux")<0&&i.indexOf("mac")<0&&i.indexOf("iphone")<0&&i.indexOf("ipad")<0&&i.indexOf("ipod")<0)!=("Other"===t)||void 0===navigator.plugins&&"Windows"!==t&&"Windows Phone"!==t)}())}},{key:"hasLiedBrowser",getData:function(t){t(function(){var t,e=navigator.userAgent.toLowerCase(),n=navigator.productSub;if(e.indexOf("edge/")>=0||e.indexOf("iemobile/")>=0)return!1;if(e.indexOf("opera mini")>=0)return!1;if(("Chrome"==(t=e.indexOf("firefox/")>=0?"Firefox":e.indexOf("opera/")>=0||e.indexOf(" opr/")>=0?"Opera":e.indexOf("chrome/")>=0?"Chrome":e.indexOf("safari/")>=0?e.indexOf("android 1.")>=0||e.indexOf("android 2.")>=0||e.indexOf("android 3.")>=0||e.indexOf("android 4.")>=0?"AOSP":"Safari":e.indexOf("trident/")>=0?"Internet Explorer":"Other")||"Safari"===t||"Opera"===t)&&"20030107"!==n)return!0;var i,r=eval.toString().length;if(37===r&&"Safari"!==t&&"Firefox"!==t&&"Other"!==t)return!0;if(39===r&&"Internet Explorer"!==t&&"Other"!==t)return!0;if(33===r&&"Chrome"!==t&&"AOSP"!==t&&"Opera"!==t&&"Other"!==t)return!0;try{throw"a"}catch(o){try{o.toSource(),i=!0}catch(a){i=!1}}return i&&"Firefox"!==t&&"Other"!==t}())}},{key:"touchSupport",getData:function(t){t(function(){var t,e=0;void 0!==navigator.maxTouchPoints?e=navigator.maxTouchPoints:void 0!==navigator.msMaxTouchPoints&&(e=navigator.msMaxTouchPoints);try{document.createEvent("TouchEvent"),t=!0}catch(n){t=!1}return[e,t,"ontouchstart"in window]}())}},{key:"fonts",getData:function(t,e){var n=["monospace","sans-serif","serif"],i=["Andale Mono","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Century Schoolbook","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Geneva","Georgia","Helvetica","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MS Serif","MYRIAD","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3"];e.fonts.extendedJsFonts&&(i=i.concat(["Abadi MT Condensed Light","Academy Engraved LET","ADOBE CASLON PRO","Adobe Garamond","ADOBE GARAMOND PRO","Agency FB","Aharoni","Albertus Extra Bold","Albertus Medium","Algerian","Amazone BT","American Typewriter","American Typewriter Condensed","AmerType Md BT","Andalus","Angsana New","AngsanaUPC","Antique Olive","Aparajita","Apple Chancery","Apple Color Emoji","Apple SD Gothic Neo","Arabic Typesetting","ARCHER","ARNO PRO","Arrus BT","Aurora Cn BT","AvantGarde Bk BT","AvantGarde Md BT","AVENIR","Ayuthaya","Bandy","Bangla Sangam MN","Bank Gothic","BankGothic Md BT","Baskerville","Baskerville Old Face","Batang","BatangChe","Bauer Bodoni","Bauhaus 93","Bazooka","Bell MT","Bembo","Benguiat Bk BT","Berlin Sans FB","Berlin Sans FB Demi","Bernard MT Condensed","BernhardFashion BT","BernhardMod BT","Big Caslon","BinnerD","Blackadder ITC","BlairMdITC TT","Bodoni 72","Bodoni 72 Oldstyle","Bodoni 72 Smallcaps","Bodoni MT","Bodoni MT Black","Bodoni MT Condensed","Bodoni MT Poster Compressed","Bookshelf Symbol 7","Boulder","Bradley Hand","Bradley Hand ITC","Bremen Bd BT","Britannic Bold","Broadway","Browallia New","BrowalliaUPC","Brush Script MT","Californian FB","Calisto MT","Calligrapher","Candara","CaslonOpnface BT","Castellar","Centaur","Cezanne","CG Omega","CG Times","Chalkboard","Chalkboard SE","Chalkduster","Charlesworth","Charter Bd BT","Charter BT","Chaucer","ChelthmITC Bk BT","Chiller","Clarendon","Clarendon Condensed","CloisterBlack BT","Cochin","Colonna MT","Constantia","Cooper Black","Copperplate","Copperplate Gothic","Copperplate Gothic Bold","Copperplate Gothic Light","CopperplGoth Bd BT","Corbel","Cordia New","CordiaUPC","Cornerstone","Coronet","Cuckoo","Curlz MT","DaunPenh","Dauphin","David","DB LCD Temp","DELICIOUS","Denmark","DFKai-SB","Didot","DilleniaUPC","DIN","DokChampa","Dotum","DotumChe","Ebrima","Edwardian Script ITC","Elephant","English 111 Vivace BT","Engravers MT","EngraversGothic BT","Eras Bold ITC","Eras Demi ITC","Eras Light ITC","Eras Medium ITC","EucrosiaUPC","Euphemia","Euphemia UCAS","EUROSTILE","Exotc350 Bd BT","FangSong","Felix Titling","Fixedsys","FONTIN","Footlight MT Light","Forte","FrankRuehl","Fransiscan","Freefrm721 Blk BT","FreesiaUPC","Freestyle Script","French Script MT","FrnkGothITC Bk BT","Fruitger","FRUTIGER","Futura","Futura Bk BT","Futura Lt BT","Futura Md BT","Futura ZBlk BT","FuturaBlack BT","Gabriola","Galliard BT","Gautami","Geeza Pro","Geometr231 BT","Geometr231 Hv BT","Geometr231 Lt BT","GeoSlab 703 Lt BT","GeoSlab 703 XBd BT","Gigi","Gill Sans","Gill Sans MT","Gill Sans MT Condensed","Gill Sans MT Ext Condensed Bold","Gill Sans Ultra Bold","Gill Sans Ultra Bold Condensed","Gisha","Gloucester MT Extra Condensed","GOTHAM","GOTHAM BOLD","Goudy Old Style","Goudy Stout","GoudyHandtooled BT","GoudyOLSt BT","Gujarati Sangam MN","Gulim","GulimChe","Gungsuh","GungsuhChe","Gurmukhi MN","Haettenschweiler","Harlow Solid Italic","Harrington","Heather","Heiti SC","Heiti TC","HELV","Herald","High Tower Text","Hiragino Kaku Gothic ProN","Hiragino Mincho ProN","Hoefler Text","Humanst 521 Cn BT","Humanst521 BT","Humanst521 Lt BT","Imprint MT Shadow","Incised901 Bd BT","Incised901 BT","Incised901 Lt BT","INCONSOLATA","Informal Roman","Informal011 BT","INTERSTATE","IrisUPC","Iskoola Pota","JasmineUPC","Jazz LET","Jenson","Jester","Jokerman","Juice ITC","Kabel Bk BT","Kabel Ult BT","Kailasa","KaiTi","Kalinga","Kannada Sangam MN","Kartika","Kaufmann Bd BT","Kaufmann BT","Khmer UI","KodchiangUPC","Kokila","Korinna BT","Kristen ITC","Krungthep","Kunstler Script","Lao UI","Latha","Leelawadee","Letter Gothic","Levenim MT","LilyUPC","Lithograph","Lithograph Light","Long Island","Lydian BT","Magneto","Maiandra GD","Malayalam Sangam MN","Malgun Gothic","Mangal","Marigold","Marion","Marker Felt","Market","Marlett","Matisse ITC","Matura MT Script Capitals","Meiryo","Meiryo UI","Microsoft Himalaya","Microsoft JhengHei","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Tai Le","Microsoft Uighur","Microsoft YaHei","Microsoft Yi Baiti","MingLiU","MingLiU_HKSCS","MingLiU_HKSCS-ExtB","MingLiU-ExtB","Minion","Minion Pro","Miriam","Miriam Fixed","Mistral","Modern","Modern No. 20","Mona Lisa Solid ITC TT","Mongolian Baiti","MONO","MoolBoran","Mrs Eaves","MS LineDraw","MS Mincho","MS PMincho","MS Reference Specialty","MS UI Gothic","MT Extra","MUSEO","MV Boli","Nadeem","Narkisim","NEVIS","News Gothic","News GothicMT","NewsGoth BT","Niagara Engraved","Niagara Solid","Noteworthy","NSimSun","Nyala","OCR A Extended","Old Century","Old English Text MT","Onyx","Onyx BT","OPTIMA","Oriya Sangam MN","OSAKA","OzHandicraft BT","Palace Script MT","Papyrus","Parchment","Party LET","Pegasus","Perpetua","Perpetua Titling MT","PetitaBold","Pickwick","Plantagenet Cherokee","Playbill","PMingLiU","PMingLiU-ExtB","Poor Richard","Poster","PosterBodoni BT","PRINCETOWN LET","Pristina","PTBarnum BT","Pythagoras","Raavi","Rage Italic","Ravie","Ribbon131 Bd BT","Rockwell","Rockwell Condensed","Rockwell Extra Bold","Rod","Roman","Sakkal Majalla","Santa Fe LET","Savoye LET","Sceptre","Script","Script MT Bold","SCRIPTINA","Serifa","Serifa BT","Serifa Th BT","ShelleyVolante BT","Sherwood","Shonar Bangla","Showcard Gothic","Shruti","Signboard","SILKSCREEN","SimHei","Simplified Arabic","Simplified Arabic Fixed","SimSun","SimSun-ExtB","Sinhala Sangam MN","Sketch Rockwell","Skia","Small Fonts","Snap ITC","Snell Roundhand","Socket","Souvenir Lt BT","Staccato222 BT","Steamer","Stencil","Storybook","Styllo","Subway","Swis721 BlkEx BT","Swiss911 XCm BT","Sylfaen","Synchro LET","System","Tamil Sangam MN","Technical","Teletype","Telugu Sangam MN","Tempus Sans ITC","Terminal","Thonburi","Traditional Arabic","Trajan","TRAJAN PRO","Tristan","Tubular","Tunga","Tw Cen MT","Tw Cen MT Condensed","Tw Cen MT Condensed Extra Bold","TypoUpright BT","Unicorn","Univers","Univers CE 55 Medium","Univers Condensed","Utsaah","Vagabond","Vani","Vijaya","Viner Hand ITC","VisualUI","Vivaldi","Vladimir Script","Vrinda","Westminster","WHITNEY","Wide Latin","ZapfEllipt BT","ZapfHumnst BT","ZapfHumnst Dm BT","Zapfino","Zurich BlkEx BT","Zurich Ex BT","ZWAdobeF"])),i=(i=i.concat(e.fonts.userDefinedFonts)).filter(function(t,e){return i.indexOf(t)===e});var r=document.getElementsByTagName("body")[0],o=document.createElement("div"),a=document.createElement("div"),s={},u={},l=function(){var t=document.createElement("span");return t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="72px",t.style.fontStyle="normal",t.style.fontWeight="normal",t.style.letterSpacing="normal",t.style.lineBreak="auto",t.style.lineHeight="normal",t.style.textTransform="none",t.style.textAlign="left",t.style.textDecoration="none",t.style.textShadow="none",t.style.whiteSpace="normal",t.style.wordBreak="normal",t.style.wordSpacing="normal",t.innerHTML="mmmmmmmmmmlli",t},c=function(t,e){var n=l();return n.style.fontFamily="'"+t+"',"+e,n},h=function(t){for(var e=!1,i=0;i<n.length;i++)if(e=t[i].offsetWidth!==s[n[i]]||t[i].offsetHeight!==u[n[i]])return e;return e},p=function(){for(var t=[],e=0,i=n.length;e<i;e++){var r=l();r.style.fontFamily=n[e],o.appendChild(r),t.push(r)}return t}();r.appendChild(o);for(var f=0,d=n.length;f<d;f++)s[n[f]]=p[f].offsetWidth,u[n[f]]=p[f].offsetHeight;var g=function(){for(var t={},e=0,r=i.length;e<r;e++){for(var o=[],s=0,u=n.length;s<u;s++){var l=c(i[e],n[s]);a.appendChild(l),o.push(l)}t[i[e]]=o}return t}();r.appendChild(a);for(var m=[],_=0,y=i.length;_<y;_++)h(g[i[_]])&&m.push(i[_]);r.removeChild(a),r.removeChild(o),t(m)},pauseBefore:!0},{key:"fontsFlash",getData:function(t,e){return void 0!==window.swfobject?window.swfobject.hasFlashPlayerVersion("9.0.0")?e.fonts.swfPath?void function(t,e){window.___fp_swf_loaded=function(e){t(e)};var n,i=e.fonts.swfContainerId;(n=document.createElement("div")).setAttribute("id",(void 0).fonts.swfContainerId),document.body.appendChild(n),window.swfobject.embedSWF(e.fonts.swfPath,i,"1","1","9.0.0",!1,{onReady:"___fp_swf_loaded"},{allowScriptAccess:"always",menu:"false"},{})}(function(e){t(e)},e):t("missing options.fonts.swfPath"):t("flash not installed"):t("swf object not loaded")},pauseBefore:!0},{key:"audio",getData:function(t,e){var n=e.audio;if(n.excludeIOS11&&navigator.userAgent.match(/OS 11.+Version\/11.+Safari/))return t(e.EXCLUDED);var i=window.OfflineAudioContext||window.webkitOfflineAudioContext;if(null==i)return t(e.NOT_AVAILABLE);var r=new i(1,44100,44100),o=r.createOscillator();o.type="triangle",o.frequency.setValueAtTime(1e4,r.currentTime);var a=r.createDynamicsCompressor();u([["threshold",-50],["knee",40],["ratio",12],["reduction",-20],["attack",0],["release",.25]],function(t){void 0!==a[t[0]]&&"function"==typeof a[t[0]].setValueAtTime&&a[t[0]].setValueAtTime(t[1],r.currentTime)}),o.connect(a),a.connect(r.destination),o.start(0),r.startRendering();var s=setTimeout(function(){return console.warn('Audio fingerprint timed out. Please report bug at https://github.com/fingerprintjs/fingerprintjs with your user agent: "'+navigator.userAgent+'".'),r.oncomplete=function(){},r=null,t("audioTimeout")},n.timeout);r.oncomplete=function(e){var n;try{clearTimeout(s),n=e.renderedBuffer.getChannelData(0).slice(4500,5e3).reduce(function(t,e){return t+Math.abs(e)},0).toString(),o.disconnect(),a.disconnect()}catch(i){return void t(i)}t(n)}}},{key:"enumerateDevices",getData:function(t,e){if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return t(e.NOT_AVAILABLE);navigator.mediaDevices.enumerateDevices().then(function(e){t(e.map(function(t){return"id="+t.deviceId+";gid="+t.groupId+";"+t.kind+";"+t.label}))}).catch(function(e){t(e)})}}],_=function(t){throw new Error("'new Fingerprint()' is deprecated, see https://github.com/fingerprintjs/fingerprintjs#upgrade-guide-from-182-to-200")};return _.get=function(t,e){e?t||(t={}):(e=t,t={}),function(t,e){if(null==e)return t;var n,i;for(i in e)null==(n=e[i])||Object.prototype.hasOwnProperty.call(t,i)||(t[i]=n)}(t,s),t.components=t.extraComponents.concat(m);var n={data:[],addPreprocessedComponent:function(e,i){"function"==typeof t.preprocessor&&(i=t.preprocessor(e,i)),n.data.push({key:e,value:i})}},i=-1;!function r(o){if((i+=1)>=t.components.length)e(n.data);else{var a=t.components[i];if(t.excludes[a.key])r(!1);else{if(!o&&a.pauseBefore)return i-=1,void setTimeout(function(){r(!0)},1);try{a.getData(function(t){n.addPreprocessedComponent(a.key,t),r(!1)},t)}catch(s){n.addPreprocessedComponent(a.key,String(s)),r(!1)}}}}(!1)},_.getPromise=function(t){return new Promise(function(e,n){_.get(t,e)})},_.getV18=function(t,e){return null==e&&(e=t,t={}),_.get(t,function(n){for(var i=[],r=0;r<n.length;r++){var o=n[r];if(o.value===(t.NOT_AVAILABLE||"not available"))i.push({key:o.key,value:"unknown"});else if("plugins"===o.key)i.push({key:"plugins",value:l(o.value,function(t){var e=l(t[2],function(t){return t.join?t.join("~"):t}).join(",");return[t[0],t[1],e].join("::")})});else if(-1!==["canvas","webgl"].indexOf(o.key)&&Array.isArray(o.value))i.push({key:o.key,value:o.value.join("~")});else if(-1!==["sessionStorage","localStorage","indexedDb","addBehavior","openDatabase"].indexOf(o.key)){if(!o.value)continue;i.push({key:o.key,value:1})}else i.push(o.value?o.value.join?{key:o.key,value:o.value.join(";")}:o:{key:o.key,value:o.value})}var s=a(l(i,function(t){return t.value}).join("~~~"),31);e(s,i)})},_.x64hash128=a,_.VERSION="2.1.4",_})},"6D9Q":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function(t){return 180*t/Math.PI}},"6MF8":function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutProperties=e.PaintProperties=void 0;var o=n("/R7+"),a=function(t){function e(e){var n=t.call(this)||this;return n.rasterOpacity=e["raster-opacity"]||1,n.rasterHueRotate=e["raster-hue-rotate"]||0,n.rasterBrightnessMin=e["raster-brightness-min"]||0,n.rasterBrightnessMax=e["raster-brightness-max"]||1,n.rasterSaturation=e["raster-saturation"]||0,n.rasterContrast=e["raster-contrast"]||0,n.rasterResampling=e["raster-resampling"]||"linear",n.rasterFadeDuration=e["raster-fade-duration"]||300,n}return r(e,t),e}(o.Serializable);e.PaintProperties=a;var s=function(t){function e(e){var n=t.call(this)||this;return n.visibility=e.visibility||"visible",n}return r(e,t),e}(o.Serializable);e.LayoutProperties=s;var u=function(t){function e(e){var n=t.call(this,e)||this;return n.paint=new a(e.paint||{}),n.layout=new s(e.layout||{}),n}return r(e,t),e}(o.default);e.default=u},"73jG":function(t,e,n){"use strict";var i=n("jLWS");t.exports=function(t){var e,n=t.type||i.ERROR_HTTP;if(t.body)try{e=JSON.parse(t.body)}catch(o){e=t.body}else e=null;var r=t.message||null;r||("string"==typeof e?r=e:e&&"string"==typeof e.message?r=e.message:n===i.ERROR_REQUEST_ABORTED&&(r="Request aborted")),this.message=r,this.type=n,this.statusCode=t.statusCode||null,this.request=t.request,this.body=e}},"7RNy":function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PolygonTitlesLayer=e.PolygonIconsLayer=e.PolygonsLayer=void 0;var o=n("oHbY"),a=n("iU6o"),s=function(t){function e(e){var n=t.call(this,e)||this;return n.id="shop-custom",n.type="fill-extrusion",n.minzoom=e.minZoom,n.maxzoom=e.maxZoom,n.source="main",n.filter=["all",["==",["get","type",["get","_dynamic"]],"shop-custom"],["==",["to-number",["get","level"]],0]],n.paint=new o.PaintProperties({"fill-extrusion-height":["case",["boolean",["feature-state","selected"],!1],e.selectedPolygonHeight,["boolean",["feature-state","hover"],!1],e.hoverPolygonHeight,["boolean",["feature-state","active"],!1],e.hoverPolygonHeight,e.defaultPolygonHeight],"fill-extrusion-base":e.base,"fill-extrusion-opacity":e.opacity,"fill-extrusion-color":["case",["boolean",["feature-state","selected"],!1],e.selectedPolygonColor,["boolean",["feature-state","hover"],!1],e.hoverPolygonColor,["boolean",["feature-state","active"],!1],e.hoverPolygonColor,["boolean",["feature-state","disabled"],!1],"#8a8a8a",e.defaultPolygonColor]}),n}return r(e,t),e}(o.default);e.PolygonsLayer=s;var u=function(t){function e(e){var n=t.call(this,e)||this;return n.id="poi-custom-icons",n.type="symbol",n.minzoom=e.minZoom,n.maxzoom=e.maxZoom,n.source="main",n.filter=["all",["==",["get","type",["get","_dynamic"]],"poi-custom"],["==",["to-number",["get","level"]],0]],n.layout=new a.LayoutProperties({"icon-image":"{amenity}","icon-size":["interpolate",["exponential",.5],["zoom"],17,.1,22,.5],"text-anchor":"top","text-offset":[0,2],"text-font":["Open Sans Regular"],"text-size":14,"symbol-placement":"point","icon-allow-overlap":!0,"text-allow-overlap":!0}),n}return r(e,t),e}(a.default);e.PolygonIconsLayer=u;var l=function(t){function e(e){var n=t.call(this,e)||this;return n.id="shop-labels",n.type="symbol",n.minzoom=e.minZoom,n.maxzoom=e.maxZoom,n.source="main",n.filter=["all",["==",["get","type",["get","_dynamic"]],"shop-label"],["==",["to-number",["get","level"]],0]],n.layout=new a.LayoutProperties({"symbol-placement":"line-center","text-anchor":"top","text-ignore-placement":!0,"text-allow-overlap":!0,"text-field":"{title}","text-font":["Open Sans Bold"],"text-size":["interpolate",["linear"],["zoom"],18,4,18.5,6,19,14,19.5,16,20,18,20.5,24,21,30,21.5,36,22,42],"text-letter-spacing":.005,"text-max-width":7}),n.paint=new a.PaintProperties({"text-color":["case",["boolean",["feature-state","selected"],!1],e.selectedLabelColor,["boolean",["feature-state","hover"],!1],e.hoverLabelColor,e.defaultLabelColor]}),n}return r(e,t),e}(a.default);e.PolygonTitlesLayer=l},"7df8":function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutProperties=e.PaintProperties=void 0;var o=n("/R7+"),a=function(t){function e(e){var n=t.call(this)||this;return n.lineColor=e["line-color"]||"#000000",n.lineOpacity=e["line-opacity"]||1,n.lineTranslate=e["line-translate"]||[0,0],n.lineTranslateAnchor=e["line-translate-anchor"]||"map",n.lineWidth=e["line-width"]||1,n.lineGapWidth=e["line-gap-width"]||0,n.lineOffset=e["line-offset"]||0,n.lineBlur=e["line-blur"]||0,n.lineDasharray=e["line-dasharray"],n.linePattern=e["line-pattern"],n.lineGradient=e["line-gradient"],n}return r(e,t),e}(o.Serializable);e.PaintProperties=a;var s=function(t){function e(e){var n=t.call(this)||this;return n.visibility=e.visibility||"visible",n.lineCap=e["line-cap"]||"butt",n.lineJoin=e["line-join"]||"miter",n.lineMiterLimit=e["line-miter-limit"]||2,n.lineRoundLimit=e["line-round-limit"]||1.05,n}return r(e,t),e}(o.Serializable);e.LayoutProperties=s;var u=function(t){function e(e){var n=t.call(this,e)||this;return n.paint=new a(e.paint||{}),n.layout=new s(e.layout||{}),n}return r(e,t),e}(o.default);e.default=u},"7j6n":function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n("y8E0"),a=n("kw4C"),s=function(t){function e(e){var n=t.call(this,"synthetic")||this;return n.data=e||new a.FeatureCollection({}),n}return r(e,t),e.prototype.get=function(t){return this.data.features.find(function(e){return e.properties.id===t})},e}(o.default);e.default=s},"7uVY":function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},"9/5/":function(t,e){var n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof global&&global&&global.Object===Object&&global,u="object"==typeof self&&self&&self.Object===Object&&self,l=s||u||Function("return this")(),c=Object.prototype.toString,h=Math.max,p=Math.min,f=function(){return l.Date.now()};function d(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function g(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==c.call(t)}(t))return NaN;if(d(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=d(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(n,"");var s=r.test(t);return s||o.test(t)?a(t.slice(2),s?2:8):i.test(t)?NaN:+t}t.exports=function(t,e,n){var i,r,o,a,s,u,l=0,c=!1,m=!1,_=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=i,o=r;return i=r=void 0,l=e,a=t.apply(o,n)}function v(t){return l=t,s=setTimeout(w,e),c?y(t):a}function b(t){var n=t-u;return void 0===u||n>=e||n<0||m&&t-l>=o}function w(){var t=f();if(b(t))return x(t);s=setTimeout(w,function(t){var n=e-(t-u);return m?p(n,o-(t-l)):n}(t))}function x(t){return s=void 0,_&&i?y(t):(i=r=void 0,a)}function k(){var t=f(),n=b(t);if(i=arguments,r=this,u=t,n){if(void 0===s)return v(u);if(m)return s=setTimeout(w,e),y(u)}return void 0===s&&(s=setTimeout(w,e)),a}return e=g(e)||0,d(n)&&(c=!!n.leading,o=(m="maxWait"in n)?h(g(n.maxWait)||0,e):o,_="trailing"in n?!!n.trailing:_),k.cancel=function(){void 0!==s&&clearTimeout(s),l=0,i=u=r=s=void 0},k.flush=function(){return void 0===s?a:x(f())},k}},"95co":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=u(n("2o5z")),r=u(n("QTq/")),o=u(n("jDUc")),a=u(n("6D9Q")),s=n("jH9d");function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e,n){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6371e3,l=(0,i.default)(t),c=(0,r.default)(t),h=e/u,p=(0,o.default)(n),f=(0,o.default)(l),d=(0,o.default)(c),g=Math.asin(Math.sin(f)*Math.cos(h)+Math.cos(f)*Math.sin(h)*Math.cos(p)),m=d+Math.atan2(Math.sin(p)*Math.sin(h)*Math.cos(f),Math.cos(h)-Math.sin(f)*Math.sin(g)),_=(0,a.default)(m);return(_<s.MINLON||_>s.MAXLON)&&(m=(m+3*Math.PI)%(2*Math.PI)-Math.PI,_=(0,a.default)(m)),{latitude:(0,a.default)(g),longitude:_}}},"9Og4":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("jH9d");e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"kmh";switch(e){case"kmh":return t*i.timeConversion.h*i.distanceConversion.km;case"mph":return t*i.timeConversion.h*i.distanceConversion.mi;default:return t}}},"9rSQ":function(t,e,n){"use strict";var i=n("xTJ+");function r(){this.handlers=[]}r.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){i.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=r},AZa5:function(t,e,n){var i=n("Wogr"),r=n("u/Db");function o(t){this.mode=r.BYTE,this.data=new i(t)}o.getBitsLength=function(t){return 8*t},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){for(var e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)},t.exports=o},AxvH:function(t,e,n){"use strict";t.exports=function(t){return t?t.split(/,\s*</).reduce(function(t,e){var n=function(t){var e=t.match(/<?([^>]*)>(.*)/);if(!e)return null;var n=e[1],i=e[2].split(";"),r=null,o=i.reduce(function(t,e){var n=function(t){var e=t.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return e?{key:e[1],value:e[2]}:null}(e);return n?"rel"===n.key?(r||(r=n.value),t):(t[n.key]=n.value,t):t},{});return r?{url:n,rel:r,params:o}:null}(e);return n?(n.rel.split(/\s+/).forEach(function(e){t[e]||(t[e]={url:n.url,params:n.params})}),t):t},{}):{}}},BCVQ:function(t,e){var n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",i="(?:(?![A-Z0-9 $%*+\\-./:]|"+(n=n.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";e.KANJI=new RegExp(n,"g"),e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),e.BYTE=new RegExp(i,"g"),e.NUMERIC=new RegExp("[0-9]+","g"),e.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var r=new RegExp("^"+n+"$"),o=new RegExp("^[0-9]+$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");e.testKanji=function(t){return r.test(t)},e.testNumeric=function(t){return o.test(t)},e.testAlphanumeric=function(t){return a.test(t)}},Bi8L:function(t,e,n){"use strict";var i=n("R/WN");t.exports=i,"undefined"!=typeof window&&(window.Suggestions=i)},CPnS:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{u(i.next(t))}catch(e){o(e)}}function s(t){try{u(i.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.getPackage=void 0;var o=n("TAHI"),a=n("llY3"),s=n("dc5T"),u=n("fpvS");e.getPackage=function(t,e){return i(void 0,void 0,void 0,function(){var n,i;return r(this,function(r){switch(r.label){case 0:return n={},i=[o.getPlaces().then(function(t){return n.places=t.data}),a.getFloors().then(function(t){return n.floors=t.data}),s.getStyle().then(function(t){return n.style=t}),s.getStyles().then(function(t){return n.styles=t}),u.getFeatures(t).then(function(t){return n.features=t}),u.getAmenities(e).then(function(t){return n.amenities=t})],[4,Promise.all(i)];case 1:return r.sent(),[2,n]}})})},e.default={getPackage:e.getPackage}},CgaS:function(t,e,n){"use strict";var i=n("xTJ+"),r=n("MLWZ"),o=n("9rSQ"),a=n("UnBK"),s=n("SntB"),u=n("hIuj"),l=u.validators;function c(t){this.defaults=t,this.interceptors={request:new o,response:new o}}c.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method=t.method?t.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var e=t.transitional;void 0!==e&&u.assertOptions(e,{silentJSONParsing:l.transitional(l.boolean,"1.0.0"),forcedJSONParsing:l.transitional(l.boolean,"1.0.0"),clarifyTimeoutError:l.transitional(l.boolean,"1.0.0")},!1);var n=[],i=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,n.unshift(e.fulfilled,e.rejected))});var r,o=[];if(this.interceptors.response.forEach(function(t){o.push(t.fulfilled,t.rejected)}),!i){var c=[a,void 0];for(Array.prototype.unshift.apply(c,n),c=c.concat(o),r=Promise.resolve(t);c.length;)r=r.then(c.shift(),c.shift());return r}for(var h=t;n.length;){var p=n.shift(),f=n.shift();try{h=p(h)}catch(d){f(d);break}}try{r=a(h)}catch(d){return Promise.reject(d)}for(;o.length;)r=r.then(o.shift(),o.shift());return r},c.prototype.getUri=function(t){return t=s(this.defaults,t),r(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],function(t){c.prototype[t]=function(e,n){return this.request(s(n||{},{method:t,url:e,data:(n||{}).data}))}}),i.forEach(["post","put","patch"],function(t){c.prototype[t]=function(e,n,i){return this.request(s(i||{},{method:t,url:e,data:n}))}}),t.exports=c},Cu2R:function(t,e,n){"use strict";var i=n("ncV3"),r=n("KXza");t.exports=function(t){return function(e){var n;n=i.prototype.isPrototypeOf(e)?e:r(e);var o=Object.create(t);return o.client=n,o}}},D48c:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AmenityModel=void 0;var o=function(t){function e(e){var n=t.call(this,e)||this;return n.category=e.category,n.iconOffset=e.iconOffset,n.list=e.list,n.title=e.title,n.description=e.description,n.icon=e.icon,n}return r(e,t),Object.defineProperty(e.prototype,"hasIcon",{get:function(){return!!this.icon},enumerable:!1,configurable:!0}),e}(n("Ow4I").default);e.AmenityModel=o},DfZB:function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},ELBg:function(t,e,n){"use strict";var i={single_source_shortest_paths:function(t,e,n){var r={},o={};o[e]=0;var a,s,u,l,c,h,p=i.PriorityQueue.make();for(p.push(e,0);!p.empty();)for(u in l=(a=p.pop()).cost,c=t[s=a.value]||{})c.hasOwnProperty(u)&&(h=l+c[u],(void 0===o[u]||o[u]>h)&&(o[u]=h,p.push(u,h),r[u]=s));if(void 0!==n&&void 0===o[n]){var f=["Could not find a path from ",e," to ",n,"."].join("");throw new Error(f)}return r},extract_shortest_path_from_predecessor_list:function(t,e){for(var n=[],i=e;i;)n.push(i),i=t[i];return n.reverse(),n},find_path:function(t,e,n){var r=i.single_source_shortest_paths(t,e,n);return i.extract_shortest_path_from_predecessor_list(r,n)},PriorityQueue:{make:function(t){var e,n=i.PriorityQueue,r={};for(e in t=t||{},n)n.hasOwnProperty(e)&&(r[e]=n[e]);return r.queue=[],r.sorter=t.sorter||n.default_sorter,r},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){this.queue.push({value:t,cost:e}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=i},Fqnj:function(t,e,n){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){var e=Math.pow(10,12);return Math.round(t*e)/e};e.default=function(t){var e,n=function(t){if(Array.isArray(t))return t}(e=t.toString().split("."))||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),2!==n.length);i=!0);}catch(u){r=!0,o=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(e)||function(t,e){if(t){if("string"==typeof t)return i(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=n[1],a=Math.abs(Number(n[0])),s=r(60*Number("0."+(o||0))),u=Math.floor(s),l=r(60*(s%u||0));return a+"\xb0 "+Number(u.toFixed(6)).toString().split(".").map(function(t,e){return 0===e?t.padStart(2,"0"):t}).join(".")+"' "+Number(l.toFixed(4)).toString().split(".").map(function(t,e){return 0===e?t.padStart(2,"0"):t}).join(".")+'"'}},Fwbx:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EDIT_FEATURE_DIALOG=e.NEW_FEATURE_DIALOG=e.METADATA_POLYGON_EDITING=e.DEFAULT_FONT=e.FONTS=void 0,e.FONTS=["Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular","Noto Sans Bold","Noto Sans Bold Italic","Noto Sans Italic","Noto Sans Regular","Open Sans Bold","Open Sans Italic","Open Sans Regular","Open Sans Semibold","Open Sans Semibold Italic"],e.DEFAULT_FONT="Klokantech Noto Sans Regular",e.METADATA_POLYGON_EDITING="proximiio:polygon-editing",e.NEW_FEATURE_DIALOG=function(t,e){return'\n    <h1>Add New Feature</h1>\n    <form name="form" id="modal-form" class="modal-form" autocomplete="off" role="main">\n      <div>\n        <label class="label-id">\n          <input type="text" class="text" name="id" placeholder="ID" />\n          <span>ID</span>\n        </label>\n      </div>\n      \n      <div>\n        <label class="label-title">\n          <input type="text" class="text" name="title" placeholder="Title" required />\n          <span class="required">Title</span>\n        </label>\n      </div>\n      \n      <div>\n        <label class="label-level">\n          <input type="number" class="text" name="level" placeholder="Level" value=\''+(e||0)+'\' required />\n          <span class="required">Level</span>\n        </label>\n      </div>\n  \n      <div>\n        <label class="label-lat">\n          <input type="text" class="text" name="lat" placeholder="Latitude" value=\''+t.lngLat.lat+'\' required />\n          <span class="required">Latitude</span>\n        </label>\n      </div>\n      \n      <div>\n        <label class="label-lng">\n          <input type="text" class="text" name="lng" placeholder="Longitude" value=\''+t.lngLat.lng+'\' required />\n          <span class="required">Longitude</span>\n        </label>\n      </div>\n      \n      <div>\n        <label class="label-icon">\n          <input type="file" class="text" name="icon" placeholder="Icon" accept="image/*"/>\n          <span>Icon</span>\n        </label>\n      </div>\n    </form>\n  '},e.EDIT_FEATURE_DIALOG=function(t,e){var n,i,r;return'\n    <h1>Edit Feature</h1>\n    <form name="form" id="modal-form" class="modal-form" autocomplete="off" role="main">\n      <div>\n        <label class="label-id">\n          <input type="text" class="text" name="id" placeholder="ID" value=\''+(null===(n=null==e?void 0:e.properties)||void 0===n?void 0:n.id)+'\' readonly style="pointer-events: none;background-color: #E9ECEF"/>\n          <span>ID</span>\n        </label>\n      </div>\n      \n      <div>\n        <label class="label-title">\n          <input type="text" class="text" name="title" placeholder="Title" value=\''+(null===(i=null==e?void 0:e.properties)||void 0===i?void 0:i.title)+'\' required />\n          <span class="required">Title</span>\n        </label>\n      </div>\n      \n      <div>\n        <label class="label-level">\n          <input type="number" class="text" name="level" placeholder="Level" value=\''+(null===(r=null==e?void 0:e.properties)||void 0===r?void 0:r.level)+'\' required />\n          <span class="required">Level</span>\n        </label>\n      </div>\n  \n      <div>\n        <label class="label-lat">\n          <input type="text" class="text" name="lat" placeholder="Latitude" value=\''+t.lngLat.lat+'\' required />\n          <span class="required">Latitude</span>\n        </label>\n      </div>\n      \n      <div>\n        <label class="label-lng">\n          <input type="text" class="text" name="lng" placeholder="Longitude" value=\''+t.lngLat.lng+'\' required />\n          <span class="required">Longitude</span>\n        </label>\n      </div>\n      \n      <div>\n        <label class="label-icon">\n          <input type="file" class="text" name="icon" placeholder="Icon" accept="image/*"/>\n          <span>Icon</span>\n        </label>\n      </div>\n    </form>\n  '}},G31G:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r=(i=n("45h8"))&&i.__esModule?i:{default:i};e.default=function(t,e,n,i){return(0,r.default)(t,e,n)<i}},GPis:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n("y8E0"),a=n("kw4C"),s=function(t){function e(){var e=t.call(this,"clusters")||this;return e.cluster=!0,e.data=new a.FeatureCollection({}),e}return r(e,t),e}(o.default);e.default=s},HSsa:function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},HkEB:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("2o5z")),r=o(n("QTq/"));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){for(var n=!1,o=e.length,a=-1,s=o-1;++a<o;s=a)((0,r.default)(e[a])<=(0,r.default)(t)&&(0,r.default)(t)<(0,r.default)(e[s])||(0,r.default)(e[s])<=(0,r.default)(t)&&(0,r.default)(t)<(0,r.default)(e[a]))&&(0,i.default)(t)<((0,i.default)(e[s])-(0,i.default)(e[a]))*((0,r.default)(t)-(0,r.default)(e[a]))/((0,r.default)(e[s])-(0,r.default)(e[a]))+(0,i.default)(e[a])&&(n=!n);return n}},"IM0+":function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{u(i.next(t))}catch(e){o(e)}}function s(t){try{u(i.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((i=i.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=n("MMNp"),u=n("llY3"),l=function(t){function e(){var e=t.call(this)||this;return e.sources=[],e.layers=[],e.floors={data:[],total:0},e.belowLayer="proximiio-floors",e.enabled=!0,e}return r(e,t),e.prototype.initialize=function(){return o(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return t=this,[4,u.getFloors()];case 1:return t.floors=e.sent(),[2]}})})},e.prototype.setLevel=function(t,e,n){var i=this;this.layers.forEach(function(t){try{n.style.getLayer(t)&&n.style.removeLayer(t)}catch(e){console.log("unable to remove layer",t)}}),this.sources.forEach(function(t){try{n.style.getSource(t)&&n.style.removeSource(t)}catch(e){console.log("unable to remove source",t)}}),this.enabled&&(this.floors.data.filter(function(t){return t.hasFloorplan&&t.level===e}).forEach(function(t){var e="image-source-"+t.id;n.style.addSource(e,{type:"image",url:t.floorplanImageUrl,coordinates:t.anchors}),i.sources.push(e);var r={id:"image-layer-"+t.id,type:"raster",source:e,layout:{visibility:"visible"}};n.style.addLayer(r,i.belowLayer),i.layers.push(r.id)}),t.setStyle(n.style))},e}(s.Eventable);e.default=l},IbfU:function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){var t=!1;function e(t){this.opts=function(){for(var t=1;t<arguments.length;t++)for(var e in arguments[t])arguments[t].hasOwnProperty(e)&&(arguments[0][e]=arguments[t][e]);return arguments[0]}({},{onClose:null,onOpen:null,beforeOpen:null,beforeClose:null,stickyFooter:!1,footer:!1,cssClass:[],closeLabel:"Close",closeMethods:["overlay","button","escape"]},t),this.init()}function n(){this.modalBoxFooter&&(this.modalBoxFooter.style.width=this.modalBox.clientWidth+"px",this.modalBoxFooter.style.left=this.modalBox.offsetLeft+"px")}function i(){this.modal=document.createElement("div"),this.modal.classList.add("tingle-modal"),0!==this.opts.closeMethods.length&&-1!==this.opts.closeMethods.indexOf("overlay")||this.modal.classList.add("tingle-modal--noOverlayClose"),this.modal.style.display="none",this.opts.cssClass.forEach(function(t){"string"==typeof t&&this.modal.classList.add(t)},this),-1!==this.opts.closeMethods.indexOf("button")&&(this.modalCloseBtn=document.createElement("button"),this.modalCloseBtn.type="button",this.modalCloseBtn.classList.add("tingle-modal__close"),this.modalCloseBtnIcon=document.createElement("span"),this.modalCloseBtnIcon.classList.add("tingle-modal__closeIcon"),this.modalCloseBtnIcon.innerHTML='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.3 9.7c.2.2.4.3.7.3.3 0 .5-.1.7-.3L5 6.4l3.3 3.3c.2.2.5.3.7.3.2 0 .5-.1.7-.3.4-.4.4-1 0-1.4L6.4 5l3.3-3.3c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L5 3.6 1.7.3C1.3-.1.7-.1.3.3c-.4.4-.4 1 0 1.4L3.6 5 .3 8.3c-.4.4-.4 1 0 1.4z" fill="#000" fill-rule="nonzero"/></svg>',this.modalCloseBtnLabel=document.createElement("span"),this.modalCloseBtnLabel.classList.add("tingle-modal__closeLabel"),this.modalCloseBtnLabel.innerHTML=this.opts.closeLabel,this.modalCloseBtn.appendChild(this.modalCloseBtnIcon),this.modalCloseBtn.appendChild(this.modalCloseBtnLabel)),this.modalBox=document.createElement("div"),this.modalBox.classList.add("tingle-modal-box"),this.modalBoxContent=document.createElement("div"),this.modalBoxContent.classList.add("tingle-modal-box__content"),this.modalBox.appendChild(this.modalBoxContent),-1!==this.opts.closeMethods.indexOf("button")&&this.modal.appendChild(this.modalCloseBtn),this.modal.appendChild(this.modalBox)}function r(){this.modalBoxFooter=document.createElement("div"),this.modalBoxFooter.classList.add("tingle-modal-box__footer"),this.modalBox.appendChild(this.modalBoxFooter)}function o(){this._events={clickCloseBtn:this.close.bind(this),clickOverlay:s.bind(this),resize:this.checkOverflow.bind(this),keyboardNav:a.bind(this)},-1!==this.opts.closeMethods.indexOf("button")&&this.modalCloseBtn.addEventListener("click",this._events.clickCloseBtn),this.modal.addEventListener("mousedown",this._events.clickOverlay),window.addEventListener("resize",this._events.resize),document.addEventListener("keydown",this._events.keyboardNav)}function a(t){-1!==this.opts.closeMethods.indexOf("escape")&&27===t.which&&this.isOpen()&&this.close()}function s(t){"MacIntel"===navigator.platform&&0==this.modal.offsetWidth-this.modal.clientWidth&&t.clientX>=this.modal.offsetWidth-15&&this.modal.scrollHeight!==this.modal.offsetHeight||-1!==this.opts.closeMethods.indexOf("overlay")&&!function(t,e){for(;(t=t.parentElement)&&!t.classList.contains("tingle-modal"););return t}(t.target)&&t.clientX<this.modal.clientWidth&&this.close()}function u(){-1!==this.opts.closeMethods.indexOf("button")&&this.modalCloseBtn.removeEventListener("click",this._events.clickCloseBtn),this.modal.removeEventListener("mousedown",this._events.clickOverlay),window.removeEventListener("resize",this._events.resize),document.removeEventListener("keydown",this._events.keyboardNav)}return e.prototype.init=function(){if(!this.modal)return i.call(this),o.call(this),document.body.appendChild(this.modal,document.body.firstChild),this.opts.footer&&this.addFooter(),this},e.prototype._busy=function(e){t=e},e.prototype._isBusy=function(){return t},e.prototype.destroy=function(){null!==this.modal&&(this.isOpen()&&this.close(!0),u.call(this),this.modal.parentNode.removeChild(this.modal),this.modal=null)},e.prototype.isOpen=function(){return!!this.modal.classList.contains("tingle-modal--visible")},e.prototype.open=function(){if(!this._isBusy())return this._busy(!0),"function"==typeof this.opts.beforeOpen&&this.opts.beforeOpen(),this.modal.style.removeProperty?this.modal.style.removeProperty("display"):this.modal.style.removeAttribute("display"),document.getSelection().removeAllRanges(),this._scrollPosition=window.pageYOffset,document.body.classList.add("tingle-enabled"),document.body.style.top=-this._scrollPosition+"px",this.setStickyFooter(this.opts.stickyFooter),this.modal.classList.add("tingle-modal--visible"),"function"==typeof this.opts.onOpen&&this.opts.onOpen.call(this),this._busy(!1),this.checkOverflow(),this},e.prototype.close=function(t){if(!this._isBusy()){if(this._busy(!0),t=t||!1,"function"==typeof this.opts.beforeClose&&!this.opts.beforeClose.call(this))return void this._busy(!1);document.body.classList.remove("tingle-enabled"),document.body.style.top=null,window.scrollTo({top:this._scrollPosition,behavior:"instant"}),this.modal.classList.remove("tingle-modal--visible"),this.modal.style.display="none","function"==typeof this.opts.onClose&&this.opts.onClose.call(this),this._busy(!1)}},e.prototype.setContent=function(t){return"string"==typeof t?this.modalBoxContent.innerHTML=t:(this.modalBoxContent.innerHTML="",this.modalBoxContent.appendChild(t)),this.isOpen()&&this.checkOverflow(),this},e.prototype.getContent=function(){return this.modalBoxContent},e.prototype.addFooter=function(){return r.call(this),this},e.prototype.setFooterContent=function(t){return this.modalBoxFooter.innerHTML=t,this},e.prototype.getFooterContent=function(){return this.modalBoxFooter},e.prototype.setStickyFooter=function(t){return this.isOverflow()||(t=!1),t?this.modalBox.contains(this.modalBoxFooter)&&(this.modalBox.removeChild(this.modalBoxFooter),this.modal.appendChild(this.modalBoxFooter),this.modalBoxFooter.classList.add("tingle-modal-box__footer--sticky"),n.call(this),this.modalBoxContent.style["padding-bottom"]=this.modalBoxFooter.clientHeight+20+"px"):this.modalBoxFooter&&(this.modalBox.contains(this.modalBoxFooter)||(this.modal.removeChild(this.modalBoxFooter),this.modalBox.appendChild(this.modalBoxFooter),this.modalBoxFooter.style.width="auto",this.modalBoxFooter.style.left="",this.modalBoxContent.style["padding-bottom"]="",this.modalBoxFooter.classList.remove("tingle-modal-box__footer--sticky"))),this},e.prototype.addFooterBtn=function(t,e,n){var i=document.createElement("button");return i.innerHTML=t,i.addEventListener("click",n),"string"==typeof e&&e.length&&e.split(" ").forEach(function(t){i.classList.add(t)}),this.modalBoxFooter.appendChild(i),i},e.prototype.resize=function(){console.warn("Resize is deprecated and will be removed in version 1.0")},e.prototype.isOverflow=function(){var t=window.innerHeight;return this.modalBox.clientHeight>=t},e.prototype.checkOverflow=function(){this.modal.classList.contains("tingle-modal--visible")&&(this.isOverflow()?this.modal.classList.add("tingle-modal--overflow"):this.modal.classList.remove("tingle-modal--overflow"),!this.isOverflow()&&this.opts.stickyFooter?this.setStickyFooter(!1):this.isOverflow()&&this.opts.stickyFooter&&(n.call(this),this.setStickyFooter(!0)))},{modal:e}})?i.call(e,n,e,t):i)||(t.exports=r)},Ijak:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uuidv4=e.getBase64FromImage=e.getImageFromBase64=e.kebabize=e.kebabToCamel=e.camelToKebab=e.axios=void 0;var i=n("vDqi");e.axios=i.default.create({baseURL:"https://api.proximi.fi",timeout:6e4}),e.camelToKebab=function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},e.kebabToCamel=function(t){return t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})},e.kebabize=function(t){var n={};return Object.keys(t).forEach(function(i){void 0!==t[i]&&(n[e.camelToKebab(i)]=t[i])}),n},e.getImageFromBase64=function(t){return new Promise(function(e,n){var i=new Image;i.src=t,i.onload=function(){return e(i)},i.onerror=function(t){return e(i)}})},e.getBase64FromImage=function(t){return new Promise(function(e,n){var i=new FileReader;i.readAsDataURL(t),i.onload=function(){return e(i.result)},i.onerror=function(t){return n(t)}})},e.uuidv4=function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(t){return(t!==crypto.getRandomValues(new Uint8Array(1))[0]&15>t/4).toString(16)})}},J1on:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Wayfinding=void 0;var i=function(t,e){if(t&&t.__esModule)return t;if(null===t||"object"!==o(t)&&"function"!=typeof t)return{default:t};var n=r(void 0);if(n&&n.has(t))return n.get(t);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=a?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=t[s]}return i.default=t,n&&n.set(t,i),i}(n("WVt+"));function r(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(r=function(t){return t?n:e})(t)}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return s(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,void 0):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.Wayfinding=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,"configuration",{avoidElevators:!1,avoidEscalators:!1,avoidStaircases:!1,avoidRamps:!1,avoidNarrowPaths:!1,avoidRevolvingDoors:!1,avoidTicketGates:!1,avoidBarriers:!1,avoidHills:!1}),u(this,"POI_TYPE",{ELEVATOR:"elevator",ESCALATOR:"escalator",STAIRCASE:"staircase",RAMP:"ramp",HILL:"hill",NARROW_PATH:"narrow_path",REVOLVING_DOOR:"door",TICKET_GATE:"ticket_gate",BARRIER:"barrier"}),u(this,"ACCESSIBILITY_POI_TYPE",["door","ticket_gate"]),u(this,"LEVEL_CHANGER_TYPE",["elevator","escalator","staircase","ramp","hill"]),u(this,"PATH_TYPE","path"),u(this,"LINE_STRING_TYPE","LineString"),u(this,"DIRECTION_UP","up"),u(this,"DIRECTION_DOWN","down"),u(this,"ROUTABLE_TYPE",["MultiPolygon","Polygon"]),u(this,"UNIT_TYPE","meters"),u(this,"pathFixDistance",1),u(this,"wallOffsetDistance",.5),u(this,"walkingSpeed",1.4),u(this,"floorHeight",4.5),u(this,"elevatorSpeed",.9),u(this,"elevatorWaiting",55),u(this,"escalatorSpeed",.24),u(this,"staircasesSpeed",.3);var r=e.features,o=this.extractMinMaxLevel(r),a=o.minLevel,s=o.maxLevel;if(void 0===a)throw"No feature with level was supplied!";for(var l=r.filter(function(t){return t.properties.routable&&n.ROUTABLE_TYPE.includes(t.geometry.type)}),c=new Map,h=function(t){var e=l.filter(function(e){return e.properties.level===t});c.set(t,i.featureCollection(void 0!==e?e:[]))},p=a;p<=s;p++)h(p);this.floorList=c,this.corridors=r.filter(function(t){return t.properties.class===n.PATH_TYPE&&t.geometry.type===n.LINE_STRING_TYPE});var f=r.filter(function(t){return n.LEVEL_CHANGER_TYPE.includes(t.properties.type)});f.forEach(function(t){void 0===t.id&&(t.id=t.properties.id)}),f.forEach(function(t){if(void 0===t.properties.levels&&(t.properties.levels=[],void 0!==t.properties.level_min&&void 0!==t.properties.level_max))for(var e=t.properties.level_min;e<=t.properties.level_max;e++)t.properties.levels.push(e)}),this.levelChangerList=f,this.accessibilityPoi=r.filter(function(t){return n.ACCESSIBILITY_POI_TYPE.includes(t.properties.type)}),this.rebuildData()}var e,n;return e=t,(n=[{key:"setConfiguration",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Object.keys(t).forEach(function(n){e.configuration.hasOwnProperty(n)&&(e.configuration[n]=t[n])}),this.pathFixDistance=n}},{key:"extractMinMaxLevel",value:function(t){var e=void 0,n=void 0;return t.forEach(function(t){var i=t.properties.level;(void 0===e||i<e)&&(e=i),(void 0===n||n<i)&&(n=i),void 0!==t.properties.levels&&t.properties.levels.forEach(function(t){(void 0===e||t<e)&&(e=t),(void 0===n||n<t)&&(n=t)})}),{minLevel:e,maxLevel:n}}},{key:"rebuildData",value:function(){var t=this,e=new Map;this.floorList.forEach(function(t,n){var r=[],o=[],a=[];t.features.forEach(function(t){i.flatten(i.polygonToLine(t)).features.map(function(t){return t.geometry}).forEach(function(e){for(var a,s,u=0;u<e.coordinates.length-1;u++){var l=void 0;0===u?((a=i.point(e.coordinates[u])).properties.level=n,a.properties.neighbours=[],a.properties.walkableAreaId=t.id,l=a):l=s,u===e.coordinates.length-2?s=a:((s=i.point(e.coordinates[u+1])).properties.level=n,s.properties.neighbours=[],s.properties.walkableAreaId=t.id),l.properties.neighbours.push(s),s.properties.neighbours.push(l),r.push(l),o.push([l,s])}}),a=a.concat(i.flatten(t).features)}),e.set(n,{areas:a,points:r,walls:o,wallFeatures:o.map(function(t){return i.lineString([t[0].geometry.coordinates,t[1].geometry.coordinates])})})}),this.bearingCache=new Map,this.floorData=e,this.floorData.forEach(function(e,n){t.accessibilityPoi.filter(function(t){return n===t.properties.level}).filter(function(t){return e.areas.filter(function(e){return i.booleanContains(e,t)}).length>0}).forEach(function(r){var o=[i.destination(r.geometry.coordinates,r.properties.radius+t.wallOffsetDistance,0,{units:t.UNIT_TYPE}),i.destination(r.geometry.coordinates,r.properties.radius+t.wallOffsetDistance,60,{units:t.UNIT_TYPE}),i.destination(r.geometry.coordinates,r.properties.radius+t.wallOffsetDistance,120,{units:t.UNIT_TYPE}),i.destination(r.geometry.coordinates,r.properties.radius+t.wallOffsetDistance,180,{units:t.UNIT_TYPE}),i.destination(r.geometry.coordinates,r.properties.radius+t.wallOffsetDistance,-120,{units:t.UNIT_TYPE}),i.destination(r.geometry.coordinates,r.properties.radius+t.wallOffsetDistance,-60,{units:t.UNIT_TYPE})].filter(function(t){return e.areas.filter(function(e){return i.booleanContains(e,t)}).length>0});o.forEach(function(t){t.properties.level=n,t.properties.isDetourPoint=!0}),e.points=e.points.concat(o),t.detourPointList=o})});var n=[],r=[];this.corridors.forEach(function(e,o){for(var a=e.geometry.coordinates,s=null,u=0;u<a.length-1;u++){var l=void 0;null!=s?l=s:((l=i.point(a[u])).properties.neighbours=[],l.properties.level=e.properties.level);var c=i.point(a[u+1]);c.properties.level=e.properties.level,c.properties.neighbours=[];var h=t._checkTimeBased(e)&&t._checkAvailablePath(e),p=void 0===e.properties.bidirectional||!0===e.properties.bidirectional,f=void 0!==e.properties.swapDirection&&!0===e.properties.swapDirection;h&&(!p&&f||l.properties.neighbours.push(c),(p||f)&&c.properties.neighbours.push(l));var d=i.lineString([l.geometry.coordinates,c.geometry.coordinates]);d.properties.level=e.properties.level,d.properties.isAvailableNow=h,d.properties.bidirectional=p,d.properties.swapDirection=f,1==(!0===e.properties.narrowPath)&&(l.properties.narrowPath=!0,c.properties.narrowPath=!0,d.properties.narrowPath=!0),1==(!0===e.properties.ramp)&&(l.properties.ramp=!0,c.properties.ramp=!0,d.properties.ramp=!0),1==(!0===e.properties.ramp)&&(l.properties.hill=!0,c.properties.hill=!0,d.properties.hill=!0),n.push([l,c]),r.push(d),s=c}});var o=[],s=new Map,u=0;for(u=0;u<n.length;){var l=n[u],c=r[u];s.has(u)||s.set(u,[]);for(var h=u+1;h<n.length;h++){s.has(h)||s.set(h,[]);var p=n[h];if(c.properties.level===r[h].properties.level&&!p.includes(l[0])&&!p.includes(l[1])){var f=r[h],d=i.lineIntersect(c,f).features;if(d.length>0){var g=d[0];g.properties.level=l[0].properties.level,g.properties.isCorridorPoint=!0,(c.properties.narrowPath||f.properties.narrowPath)&&(g.properties.narrowPath=!0),(c.properties.ramp||f.properties.ramp)&&(g.properties.ramp=!0),(c.properties.hill||f.properties.hill)&&(g.properties.hill=!0),s.get(u).push(g),s.get(h).push(g),o.push(g)}}}u++}u=0;for(var m=function(){var e=n[u],i=r[u],o=e[0],l=e[1],c=s.get(u);c.sort(function(e,n){return t._comparePointsByDistanceFromReference(o,e,n)}),c?(c.forEach(function(e){t._setNeighbourhoodBasedOnCorridorDirectionality(i,o,l,e);var n=void 0!==i.properties.swapDirection&&!0===i.properties.swapDirection;if(i.properties.isAvailableNow)if(void 0===i.properties.bidirectional||!0===i.properties.bidirectional)e.properties.neighbours=e.properties.neighbours.concat(c.filter(function(t){return t!==e}));else if(n){var r,s=c.slice(0,c.indexOf(e));(r=e.properties.neighbours).push.apply(r,a(s))}else{var u,h=c.slice(c.indexOf(e));(u=e.properties.neighbours).push.apply(u,a(h))}}),r[u].properties.intersectionPointList=c):r[u].properties.intersectionPointList=[],u++};u<n.length;)m();var _=[];u=0;for(var y=function(){var e=n[u],o=r[u],s=[],l=t.floorData.get(e[0].properties.level).walls;if(t.floorData.get(e[0].properties.level).wallFeatures.forEach(function(n,r){var a=i.lineIntersect(o,n).features;if(a.length>0){var u=a[0];u.properties.level=e[0].properties.level,u.properties.neighbours=[],u.properties.bordersArea=!0,u.properties.walkableAreaId=l[0][0].properties.walkableAreaId,o.properties.narrowPath&&(u.properties.narrowPath=!0),o.properties.ramp&&(u.properties.ramp=!0),o.properties.hill&&(u.properties.hill=!0);var c=t._distance(e[0],u);s.push({point:u,distance:c,wallIndex:r})}}),s.length>0){s.sort(function(t,e){return t.distance-e.distance});var c=e[0];s.forEach(function(t,e){var n;c.properties.neighbours.push(t.point),l[t.wallIndex][0].properties.neighbours.push(t.point),l[t.wallIndex][1].properties.neighbours.push(t.point),t.point.properties.neighbours.push(c,l[t.wallIndex][0],l[t.wallIndex][1]),(n=t.point.properties.neighbours).push.apply(n,a(r[u].properties.intersectionPointList)),r[u].properties.intersectionPointList.forEach(function(e){return e.properties.neighbours.push(t.point)}),c=t.point,r[u].properties.intersectionPointList.push(t.point)}),i.lineString([c.geometry.coordinates,e[1].geometry.coordinates]).properties.level=c.properties.level,e[1].properties.neighbours.push(c),c.properties.neighbours.push(e[1]),_.push.apply(_,a(s.map(function(t){return t.point})))}u++};u<n.length;)y();_.forEach(function(e){t.floorData.get(e.properties.level).points.push(e)}),_.forEach(function(e){var n,i=t._findNeighbours(e,null,null,t.floorData.get(e.properties.level).points);(n=e.properties.neighbours).push.apply(n,a(i))}),this.corridorLinePointPairs=n,this.corridorLineFeatures=r,this.corridorLinePoints=[],this.corridorLinePointPairs.forEach(function(e){e[0].properties.isCorridorPoint=!0,e[1].properties.isCorridorPoint=!0,t.corridorLinePoints.includes(e[0])||t.corridorLinePoints.push(e[0]),t.corridorLinePoints.includes(e[1])||t.corridorLinePoints.push(e[1])}),this.corridorLinePoints=this.corridorLinePoints.concat(o);var v=new Map;this.levelChangerList.forEach(function(e){if(void 0!==e.properties.group){var n=e.properties.group;v.has(n)||v.set(n,[]),v.get(n).push(e)}else v.set(e.id,[e]);e.properties.fixedPointMap=new Map,e.properties.levels.forEach(function(n){var i=t._copyPoint(e);i.properties.level=n;var r=t._getFixPointInArea(i);r.id=e.id,r.properties.amenity=e.properties.amenity,r.properties.direction=e.properties.direction,r.properties.id=e.properties.id,r.properties.level=n,r.properties.type=e.properties.type,void 0===r.properties.neighbours&&(r.properties.neighbours=[]),t._distance(i,r)>5||(e.properties.fixedPointMap.set(n,r),r.properties.onCorridor&&void 0!==r.properties.neighboursLeadingTo&&(r.properties.neighboursLeadingTo.forEach(function(t){void 0===t.properties.neighbours&&(t.properties.neighbours=[]),t.properties.neighbours.push(r)}),t.corridorLineFeatures[r.properties.corridorIndex].properties.intersectionPointList.push(r)))})}),v.forEach(function(e,n){var i=e.map(function(t){return t.properties.direction}).find(function(t){return void 0!==t}),r=[];e.forEach(function(t){r.push.apply(r,a(t.properties.fixedPointMap.values()))}),r.forEach(function(e){var n;if(null==e.properties.neighbours&&(e.properties.neighbours=[]),i===t.DIRECTION_UP)(n=e.properties.neighbours).push.apply(n,a(r.filter(function(t){return t.properties.level>e.properties.level})));else if(i===t.DIRECTION_DOWN){var o;(o=e.properties.neighbours).push.apply(o,a(r.filter(function(t){return t.properties.level<e.properties.level})))}else{var s;(s=e.properties.neighbours).push.apply(s,a(r.filter(function(t){return t.properties.level!==e.properties.level})))}})})}},{key:"_removeItemFromList",value:function(t,e){var n=t.indexOf(e);n>=0&&t.splice(n,1)}},{key:"load",value:function(t,e){var n=this;this.neighbourMap=t,this.rebuildData(),this.wallOffsets=e,this.wallOffsetLineList=[],this._getPointList().forEach(function(t,e){var r=n.wallOffsets[e];if(r){var o=i.lineString([t.geometry.coordinates,r.geometry.coordinates]);o.properties.level=t.properties.level,n.wallOffsetLineList.push(o)}})}},{key:"_isPointOnLevel",value:function(t,e){return void 0!==t.properties.fixedPointMap?t.properties.fixedPointMap.has(e):t.properties.level===e}},{key:"_getPointList",value:function(){var t=[];return this.floorData.forEach(function(e,n){t=t.concat(e.points)}),this.levelChangerList.forEach(function(e){var n;return(n=t).push.apply(n,a(e.properties.fixedPointMap.values()))}),t=(t=t.concat()).concat(this.corridorLinePoints)}},{key:"preprocess",value:function(){return{neighbourhood:this._generateNeighbourhoodMap(),wallOffsets:this._generateWallOffsets()}}},{key:"_generateNeighbourhoodMap",value:function(){var t=this,e=this._getPointList(),n={};return this.floorData.forEach(function(i,r){var o={},a=i.points.concat(t.levelChangerList.filter(function(e){return t._isPointOnLevel(e,r)}).map(function(t){return t.properties.fixedPointMap.get(r)}));a.forEach(function(n){var i=e.indexOf(n),s=t._unwrapLevelChangerPoint(n,r),u=t._findNeighbours(s,s===n?null:s,null,a);o[i]=u.map(function(t){return e.indexOf(t)})}),n[r]=o}),this.corridorLinePoints.forEach(function(i){var r,o=e.indexOf(i),a=i.properties.level,s=n[a];if(i.properties.bordersArea){var u=t.floorData.get(a).points.concat(t.levelChangerList.filter(function(e){return t._isPointOnLevel(e,a)})).concat(t.corridorLinePoints.filter(function(e){return e.properties.bordersArea&&t._isPointOnLevel(e,a)}));(r=t._findNeighbours(i,i,null,u)).forEach(function(t){var n=e.indexOf(t);void 0===s[n]&&(s[n]=[]),s[n].includes(o)||s[n].push(o)})}else r=i.properties.neighbours;void 0===s[o]?s[o]=r.map(function(t){return e.indexOf(t)}):r.forEach(function(t){return s[o].push(e.indexOf(t))})}),this.neighbourMap=n,n}},{key:"_generateWallOffsets",value:function(){var t=this;this.wallOffsetLineList=[],this.wallOffsets={};var e=this._getPointList();return e.forEach(function(n){if(null!=n.properties.level){var r=t.floorData.get(n.properties.level).walls.filter(function(t){return t.includes(n)});if(0!==r.length){var o=r[1][0]===n?r[1][1]:r[1][0],a=i.bearing(n,r[0][0]===n?r[0][1]:r[0][0]),s=i.bearing(n,o),u=t._averageBearing(a,s),l=u>0?u-180:u+180,c=i.destination(n.geometry.coordinates,.01,u,{units:t.UNIT_TYPE}),h=i.destination(n.geometry.coordinates,.01,l,{units:t.UNIT_TYPE}),p=null;for(var f in t.floorData.get(n.properties.level).areas){var d=t.floorData.get(n.properties.level).areas[f];if(i.booleanContains(d,c)){p=c;break}if(i.booleanContains(d,h)){p=h;break}}if(null!=p){var g=i.destination(n.geometry.coordinates,2*t.wallOffsetDistance,p===c?u:l,{units:t.UNIT_TYPE}),m=i.lineString([n.geometry.coordinates,g.geometry.coordinates]);t.floorData.get(n.properties.level).walls.forEach(function(e,o){if(!r.includes(e)){var a=t.floorData.get(n.properties.level).wallFeatures[o],s=i.lineIntersect(m,a);s.features.length>0&&(g=i.point(s.features[0].geometry.coordinates),m=i.lineString([n.geometry.coordinates,g.geometry.coordinates]))}});var _=i.midpoint(n.geometry.coordinates,g.geometry.coordinates);_.properties.level=n.properties.level,t.wallOffsets[e.indexOf(n)]=_;var y=i.lineString([n.geometry.coordinates,_.geometry.coordinates]);y.properties.level=n.properties.level,t.wallOffsetLineList.push(y)}}}}),this.wallOffsets}},{key:"reconstructPath",value:function(t){var e=this,n=[],i=t;do{if(this._calculateWallOffsetPointList(t,n.length>0?n[n.length-1]:i).forEach(function(r){if(i===t||i.geometry.coordinates[0]!==r.geometry.coordinates[0]||i.geometry.coordinates[1]!==r.geometry.coordinates[1]){var o=e._copyPoint(r);o.properties.level=t.properties.level,o.properties.walkableAreaId=t.properties.walkableAreaId,o.properties.bordersArea=t.properties.bordersArea,n.push(o),i=r}}),t=t.properties.cameFrom,n.length>1e4)throw new Error("Too big route")}while(null!=t);n.reverse();for(var r=[],o=0;o<n.length-1;o++){var a=n[o],s=n[o+1];a.properties.level===s.properties.level&&this._distance(a,s)<.7&&r.push(a)}n=n.filter(function(t){return!r.includes(t)}),r=[];for(var u=1;u<n.length-1;u++){var l=n[u-1],c=n[u],h=n[u+1];if(l.properties.level===c.properties.level&&l.properties.level===h.properties.level){var p=this.bearing(l.geometry.coordinates,c.geometry.coordinates),f=this.bearing(c.geometry.coordinates,h.geometry.coordinates),d=Math.abs(p-f);d>Math.PI&&(d-=Math.PI),d<.03488888&&r.push(c)}}return n=n.filter(function(t){return!r.includes(t)})}},{key:"_calculateWallOffsetPointList",value:function(t,e){var n,r=this,o=this._getPointList(),a=o.indexOf(t),s=o.indexOf(e),u=[],l=t;a>=0&&this.wallOffsets[a]&&(l=this.wallOffsets[a]),u.push(l);var c=function(){var o=i.lineString([e.geometry.coordinates,l.geometry.coordinates]);n=[],r.wallOffsetLineList.forEach(function(e,u){if(e.properties.level===t.properties.level&&u!==s&&u!==a){var c=i.lineIntersect(o,e);if(c.features.length>0){var h=r.wallOffsets[u];h.properties.distance=r._distance(c.features[0],l),h.properties.offsetIndex=u,n.push(h)}}}),n.length>0&&(n.sort(function(t,e){return t.properties.distance-e.properties.distance}),a=(l=n[0]).properties.offsetIndex,u.push(l))};do{c()}while(n.length>0);return u.reverse()}},{key:"_getIntersectingOffsetPoints",value:function(t,e){var n=this;if(t===e||t.properties.level!==e.properties.level)return[];var r=i.lineString([t.geometry.coordinates,e.geometry.coordinates]),o=[];return this.wallOffsetLineList.forEach(function(e,a){if(e.properties.level===t.properties.level&&i.lineIntersect(r,e).features.length>0){var s=n.wallOffsets[a];s.properties.distance=i.pointToLineDistance(t.geometry.coordinates,e,{units:n.UNIT_TYPE}),o.push(s)}}),o.sort(function(t,e){return e.properties.distance-e.properties.distance}),o}},{key:"clearData",value:function(){this.floorData.forEach(function(t,e){for(var n in t.points){var i=t.points[n];delete i.properties.cameFrom,delete i.properties.gscore,delete i.properties.fscore}}),this.levelChangerList.forEach(function(t){t.properties.fixedPointMap.forEach(function(t,e){delete t.properties.cameFrom,delete t.properties.gscore,delete t.properties.fscore})}),this.corridorLinePoints.forEach(function(t){delete t.properties.cameFrom,delete t.properties.gscore,delete t.properties.fscore})}},{key:"runAStar",value:function(t,e){var n=this.calculatePath(t,e);if(void 0===n||2!=n.length||this._checkShortPath(n[0],n[1]))return n}},{key:"runAStarWithDetails",value:function(t,e){var n=this.runAStar(t,e),i=this.calculateDistance(n);return{path:n,distance:i,duration:this.calculateTime(n,i)}}},{key:"isPathElevator",value:function(t,e){return t[e].properties.type==this.POI_TYPE.ELEVATOR&&t[e+1].properties.type==this.POI_TYPE.ELEVATOR}},{key:"isPathEscalator",value:function(t,e){return t[e].properties.type==this.POI_TYPE.ESCALATOR&&t[e+1].properties.type==this.POI_TYPE.ESCALATOR}},{key:"isPathStaircase",value:function(t,e){return t[e].properties.type==this.POI_TYPE.STAIRCASE&&t[e+1].properties.type==this.POI_TYPE.STAIRCASE}},{key:"isPathFlat",value:function(t,e){return!this.isPathElevator(t,e)&&!this.isPathEscalator(t,e)&&!this.isPathStaircase(t,e)}},{key:"calculateDistance",value:function(t){var e=this,n=0;return void 0===t||0===t.length||t.forEach(function(r,o){void 0!==t[o+1]&&(n+=i.distance(t[o],t[o+1],{units:e.UNIT_TYPE}))}),n}},{key:"calculateTime",value:function(t,e){var n=this,i=e/this.walkingSpeed,r=0,o=0,a=0;return void 0===t&&(t=[]),t.forEach(function(e,i){if(n.isPathElevator(t,i)){var s=Math.abs(t[i].properties.level-t[i+1].properties.level);r+=s*n.floorHeight/n.elevatorSpeed+n.elevatorWaiting}if(n.isPathEscalator(t,i)){var u=Math.abs(t[i].properties.level-t[i+1].properties.level),l=n.floorHeight*n.floorHeight;o+=u*Math.sqrt(l+l)/n.escalatorSpeed}if(n.isPathStaircase(t,i)){var c=Math.abs(t[i].properties.level-t[i+1].properties.level),h=n.floorHeight*n.floorHeight;a+=c*Math.sqrt(h+h)/n.staircasesSpeed}}),{shortest:i,elevator:r,escalator:o,staircase:a,realistic:i+r+o+a}}},{key:"calculatePath",value:function(t,e){var n=this;this.clearData(),this.nbLines=[],this.bearingCache=new Map;var r=this._getFixPointInArea(t,!0),a=this._getFixEndPoint(e,t.properties.level),s=[r],u=[];r.properties.gscore=0,r.properties.fscore=this._heuristic(r,a);for(var l=function(){var o=n._getMinFScore(s,u);if(null===o)return"break";if(o===a){var l=void 0;try{l=n.reconstructPath(o)}catch(h){return{v:void 0}}return a!==e&&(!a.properties.onCorridor||n._distance(a,e)>n.pathFixDistance)&&(e.properties.fixed=!0,l.push(e)),r!==t&&(!r.properties.onCorridor||n._distance(r,t)>n.pathFixDistance)&&(t.properties.fixed=!0,l.unshift(t)),l[l.length-1].properties.gscore=o.properties.gscore,{v:l}}u.push(s.splice(s.indexOf(o),1));var c=n._getNeighbours(o,r,a);c.forEach(function(t){return n.nbLines.push(i.lineString([o.geometry.coordinates,t.geometry.coordinates]))}),c.forEach(function(t){if(u.indexOf(t)<=-1){var e=o.properties.gscore+n._distance(o,t);e<(null!=t.properties.gscore?t.properties.gscore:1/0)&&(t.properties.cameFrom=o,t.properties.gscore=e+.2,t.properties.fscore=e+n._heuristic(t,a),s.indexOf(t)<0&&s.push(t))}})};s.length>0;){var c=l();if("break"===c)break;if("object"===o(c))return c.v}}},{key:"_checkIfCrossingTwoPolygon",value:function(t,e){var n=t.properties||{},i=e.properties||{};if(void 0!==i.walkableAreaId&&void 0!==n.walkableAreaId){if(i.walkableAreaId!==n.walkableAreaId)return!0;if(void 0===i.bordersArea)return!0}return void 0!==n.walkableAreaId&&void 0===i.walkableAreaId&&!0!==i.isCorridorPoint}},{key:"_getNeighbours",value:function(t,e,n){var i=this,r=[];if(t===e){var o=this._getPointList().filter(function(e){return i._isPointOnLevel(e,t.properties.level)});r=(r=this._findNeighbours(t,e,n,o)).filter(function(e){var n=t.properties.level,r=i.configuration.avoidRevolvingDoors&&i._testAccessibilityPoiNeighbourhood(t,e,n,i.POI_TYPE.REVOLVING_DOOR),o=i.configuration.avoidTicketGates&&i._testAccessibilityPoiNeighbourhood(t,e,n,i.POI_TYPE.TICKET_GATE),a=i._checkIfCrossingTwoPolygon(t,e);return!r&&!o&&!a})}else{var a=this._getPointList(),s=a.indexOf(t);if(s>=0&&this.floorData.forEach(function(e,n){var o=i.neighbourMap[n];o.hasOwnProperty(s)&&o[s].forEach(function(e){var o=a[e],s=i.configuration.avoidRevolvingDoors&&i._testAccessibilityPoiNeighbourhood(t,o,n,i.POI_TYPE.REVOLVING_DOOR),u=i.configuration.avoidTicketGates&&i._testAccessibilityPoiNeighbourhood(t,o,n,i.POI_TYPE.TICKET_GATE),l=i._checkIfCrossingTwoPolygon(t,o);r.includes(o)||s||u||l||r.push(o)})}),void 0!==t.properties.level&&t.properties.level===n.properties.level||null!=t.properties.fixedPointMap&&t.properties.fixedPointMap.has(n.properties.level)){var u=this.configuration.avoidRevolvingDoors&&this._testAccessibilityPoiNeighbourhood(t,n,n.properties.level,this.POI_TYPE.REVOLVING_DOOR),l=this.configuration.avoidTicketGates&&this._testAccessibilityPoiNeighbourhood(t,n,n.properties.level,this.POI_TYPE.TICKET_GATE),c=this._checkIfCrossingTwoPolygon(t,n);if(!u&&!l&&!c)if(n.properties.onCorridor)(n.properties.neighbours.includes(t)||void 0!==n.properties.neighboursLeadingTo&&n.properties.neighboursLeadingTo.includes(t))&&r.push(n);else{var h=this._unwrapLevelChangerPoint(t,n.properties.level),p=1;(h.properties.isCorridorPoint||h.properties.onCorridor)&&p--,this._countIntersections(h,n,p)&&r.push(n)}}}return r.filter(function(t){return!(i.configuration.avoidElevators&&t.properties.type===i.POI_TYPE.ELEVATOR||i.configuration.avoidEscalators&&t.properties.type===i.POI_TYPE.ESCALATOR||i.configuration.avoidStaircases&&t.properties.type===i.POI_TYPE.STAIRCASE||i.configuration.avoidNarrowPaths&&t.properties.narrowPath||i.configuration.avoidRamps&&t.properties.ramp||i.configuration.avoidHills&&t.properties.hill)})}},{key:"_testAccessibilityPoiNeighbourhood",value:function(t,e,n,r){var o=this,a=!1;if(r===this.POI_TYPE.REVOLVING_DOOR&&this.configuration.avoidRevolvingDoors){var s=i.lineString([t.geometry.coordinates,e.geometry.coordinates]);this.accessibilityPoi.filter(function(t){return t.properties.level===n&&t.properties.type===r}).forEach(function(t){i.pointToLineDistance(t.geometry.coordinates,s,{units:o.UNIT_TYPE})<=t.properties.radius&&(a=!0)})}return a}},{key:"_findNeighbours",value:function(t,e,n,r){var o=[];if(null!=t.properties.neighbours&&(o=a(t.properties.neighbours)),t===e&&t.properties.onCorridor||t.properties.isCorridorPoint&&!t.properties.bordersArea)return n&&n.properties.onCorridor&&e.properties.corridorIndex===n.properties.corridorIndex&&o.push(n),o;var s=0;n&&this._isPointOnLevel(n,t.properties.level)&&r.push(n);var u=this._unwrapLevelChangerPoint(t,t.properties.level);for(var l in r){var c=r[l];if(t!==c&&!(o.indexOf(c)>=0)){var h=this._unwrapLevelChangerPoint(c,t.properties.level);if(s=2,t===e&&s--,c===e&&s--,t!==u&&s--,c!==h&&s--,(c.properties.isCorridorPoint||c.properties.onCorridor)&&s--,this._countIntersections(t,h,s)){var p=i.midpoint(t.geometry.coordinates,c.geometry.coordinates);for(var f in this.floorData.get(t.properties.level).areas){var d=this.floorData.get(t.properties.level).areas[f];if(i.booleanContains(d,p)){o.push(c);break}}}}}return o}},{key:"_comparePointLevels",value:function(t,e){if(null==t.properties.levels&&null==e.properties.levels)return t.properties.level===e.properties.level;var n=void 0!==t.properties.fixedPointMap?a(t.properties.fixedPointMap.keys()):[t.properties.level],i=void 0!==e.properties.fixedPointMap?a(e.properties.fixedPointMap.keys()):[e.properties.level];return n.filter(function(t){return i.includes(t)}).length>0}},{key:"_unwrapLevelChangerPoint",value:function(t,e){var n=t.properties.fixedPointMap;return n&&n.get(e)||t}},{key:"_countIntersections",value:function(t,e,n){var r=t.geometry.coordinates,o=e.geometry.coordinates,a=this.bearing(r,o),s=0,u=[],l=this.floorData.get(t.properties.level).walls,c=this.floorData.get(t.properties.level).wallFeatures;for(var h in l){var p=l[h],f=!1,d=!1;if(t==p[0]||t==p[1])f=!0,d=!0;else{var g=this.bearing(r,p[0].geometry.coordinates),m=this.bearing(r,p[1].geometry.coordinates);if(g>m){var _=g;g=m,m=_}m-g<Math.PI?g<=a&&a<=m&&(f=!0):(g>=a||a>=m)&&(f=!0)}if(f){if(d)this._testIdenticalPointInList(t,u)||(u.push(t),s++);else{var y=i.lineIntersect(i.lineString([r,o]),c[h]).features;y.length>0&&(this._testIdenticalPointInList(y[0],u)||(u.push(y[0]),s++))}if(s>n)return!1}}return!0}},{key:"_averageBearing",value:function(t,e){if(t>e){var n=t;t=e,e=n}e-t>180&&(e-=360);var i=(e+t)/2;return i<=-180?360+i:i}},{key:"toRadians",value:function(t){return t*Math.PI/180}},{key:"bearing",value:function(t,e){var n=this.bearingCache.get(t);if(n){var i=n.get(e);if(null!=i)return i}var r=this.toRadians(t[0]),o=this.toRadians(t[1]),a=this.toRadians(e[0]),s=this.toRadians(e[1]),u=Math.cos(s),l=Math.sin(a-r)*u,c=Math.cos(o)*Math.sin(s)-Math.sin(o)*u*Math.cos(a-r),h=Math.atan2(l,c);return this._storeBearingCache(t,e,h),h}},{key:"_storeBearingCache",value:function(t,e,n){var i=this.bearingCache.get(t);i||(i=new Map,this.bearingCache.set(t,i)),i.set(e,n),(i=this.bearingCache.get(e))||(i=new Map,this.bearingCache.set(e,i)),n<=0?n+=Math.PI:n-=Math.PI,i.set(t,n)}},{key:"_testIdenticalPointInList",value:function(t,e){return void 0!==e.find(function(e){return e.geometry.coordinates[0]===t.geometry.coordinates[0]&&e.geometry.coordinates[1]===t.geometry.coordinates[1]})}},{key:"_getMinFScore",value:function(t,e){var n=null,i=1/0;return e.slice(-1),e.slice(-2),t.forEach(function(t){var e=t.properties;e.fscore<i&&(n=t,i=e.fscore)}),n}},{key:"_heuristic",value:function(t,e){var n=this;if(this._comparePointLevels(t,e)){var i=0;return void 0===t.properties.levels&&void 0===e.properties.levels||(i=20),this._distance(t,e)+i}var r=this.levelChangerList.filter(function(i){return i!==t&&i!==e&&n._comparePointLevels(i,t)&&n._comparePointLevels(i,e)}),o=1/0;return r.forEach(function(i){var r=n._distance(t,i)+n._distance(i,e)+10;r<o&&(o=r)}),o<1/0?o:2e3}},{key:"_distance",value:function(t,e){var n=0;return e.properties.level!==t.properties.level&&(n=10),i.distance(t,e,{units:this.UNIT_TYPE})+n}},{key:"_getFixEndPoint",value:function(t,e){var n=this.levelChangerList.find(function(e){return e.id===t.id});if(void 0!==n&&void 0!==n.properties.fixedPointMap){var i=void 0;n.properties.fixedPointMap.forEach(function(t,n){(void 0===i||Math.abs(i-e)>Math.abs(n-e))&&(i=n)}),(t=this._copyPoint(t)).properties.level=i}return this._getFixPointInArea(t)}},{key:"_getFixPointInArea",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.floorData.get(t.properties.level),o=void 0;if(r.areas.forEach(function(e){i.booleanContains(e,t)&&(o=t)}),void 0!==o)return o;var s=null,u=1/0;r.wallFeatures.forEach(function(n){var r=i.pointToLineDistance(t.geometry.coordinates,n,{units:e.UNIT_TYPE});r<=u&&(s=n,u=r)});var l,c=this.corridorLineFeatures.filter(function(e){return e.properties.level===t.properties.level}),h=null,p=1/0;if(c.forEach(function(n){var r=e.corridorLineFeatures.indexOf(n),o=i.pointToLineDistance(t.geometry.coordinates,n,{units:e.UNIT_TYPE});o<p&&(h=r,p=o)}),null===s&&null===h)return t;if(void 0!==h&&p<u){var f=this.corridorLineFeatures[h];(l=i.nearestPointOnLine(f,t)).properties.onCorridor=!0,l.properties.corridorIndex=h,l.properties.neighbours||(l.properties.neighbours=[]);var d,g=this.corridorLineFeatures[h].properties.isAvailableNow,m=void 0===this.corridorLineFeatures[h].properties.bidirectional||!0===this.corridorLineFeatures[h].properties.bidirectional,_=void 0!==this.corridorLineFeatures[h].properties.swapDirection&&!0===this.corridorLineFeatures[h].properties.swapDirection;if(g)if(m)l.properties.neighbours.push(this.corridorLinePointPairs[h][0],this.corridorLinePointPairs[h][1]),(d=l.properties.neighbours).push.apply(d,a(f.properties.intersectionPointList)),l.properties.neighboursLeadingTo=[this.corridorLinePointPairs[h][0],this.corridorLinePointPairs[h][1]].concat(a(f.properties.intersectionPointList));else if(_||n){var y,v=this.corridorLinePointPairs[h][1];l.properties.neighbours.push(v);var b=this._distance(l,v),w=f.properties.intersectionPointList.filter(function(t){return e._distance(t,v)<=b}),x=f.properties.intersectionPointList.filter(function(t){return e._distance(t,v)>b});(y=l.properties.neighbours).push.apply(y,a(w)),l.properties.neighboursLeadingTo=x}else{var k,E=this.corridorLinePointPairs[h][0];l.properties.neighbours.push(E);var S=this._distance(l,E),C=f.properties.intersectionPointList.filter(function(t){return e._distance(t,E)<S}),I=f.properties.intersectionPointList.filter(function(t){return e._distance(t,E)>=S});(k=l.properties.neighbours).push.apply(k,a(I)),l.properties.neighboursLeadingTo=C}}else if(null!==s){var A=i.nearestPointOnLine(s,t),P=i.bearing(t,A);l=i.destination(t.geometry.coordinates,u+.05,P,{units:this.UNIT_TYPE})}return l.properties.level=t.properties.level,l}},{key:"_copyPoint",value:function(t){var e=i.point([t.geometry.coordinates[0],t.geometry.coordinates[1]]);return void 0!==t.id&&(e.id=t.id),void 0!==t.properties.id&&(e.properties.id=t.properties.id),void 0!==t.properties.amenity&&(e.properties.amenity=t.properties.amenity),void 0!==t.properties.type&&(e.properties.type=t.properties.type),e}},{key:"_setNeighbourhoodBasedOnCorridorDirectionality",value:function(t,e,n,i){void 0===i.properties.neighbours&&(i.properties.neighbours=[]);var r=void 0!==t.properties.swapDirection&&!0===t.properties.swapDirection;t.properties.isAvailableNow&&(void 0===t.properties.bidirectional||!0===t.properties.bidirectional?(i.properties.neighbours.push(e,n),e.properties.neighbours.push(i),n.properties.neighbours.push(i)):r?(n.properties.neighbours.push(i),i.properties.neighbours.push(e)):(e.properties.neighbours.push(i),i.properties.neighbours.push(n)))}},{key:"_comparePointsByDistanceFromReference",value:function(t,e,n){var r=i.distance(t,e),o=i.distance(t,n);return r>o?1:o>r?-1:0}},{key:"_checkShortPath",value:function(t,e){var n=this._getFixPointInArea(t,!0),r=this._getFixPointInArea(e,!0);if(n.properties.corridorIndex===r.properties.corridorIndex){var o=this.corridorLineFeatures[n.properties.corridorIndex];if(!o.properties.isAvailableNow)return!1;if(void 0===o.properties.bidirectional||!0===o.properties.bidirectional)return!0;var a=o.geometry.coordinates,s=i.bearing(a[0],a[1]),u=i.bearing(t,e),l=parseInt(s-u);return void 0!==o.properties.swapDirection&&o.properties.swapDirection?0!==l:0===l}return!0}},{key:"_checkTimeBased",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=!0;if(void 0!==t.properties.workingHours){var i=e.getDay(),r=t.properties.workingHours[i],o=parseInt(e.getHours()),a=parseInt(e.getMinutes()),s=60*o+a;if(0===r.length)return!1;var u=r[0].split(":"),l=parseInt(u[0]),c=parseInt(u[1]),h=60*l+c,p=r[1].split(":"),f=parseInt(p[0]),d=parseInt(p[1]),g=60*f+d;if(0===h&&h===g)return!0;n=s>=h&&s<=g}return n}},{key:"_checkAvailablePath",value:function(t){var e=!0;return void 0!==t.properties.available&&(e=t.properties.available),e}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},J3it:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("4USb");e.default=function(t){this.id=t.id?t.id:i.v4()+":"+i.v4(),this.organization_id=t.organization_id,this.organization_name=t.organization_name,this.visitor_id=t.visitor_id?t.visitor_id:i.v4(),this.createdAt=t.createdAt?t.createdAt:new Date}},J6Nv:function(t,e){e.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}},J9h5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pulsingDot=e.popupImage=e.floorchangeUpImage=e.floorchangeDownImage=e.person=e.chevron=e.defaultIcon=e.marker=e.routeB=e.routeA=e.door=e.ticketGate=e.staircase=e.poi=e.landmark=e.decision=e.hazard=e.entrance=e.escalator=e.elevator=void 0,e.elevator="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAFfgAABX4BPgLDIQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAA+pSURBVHic7Z17fFTlmce/z5kzyWQyl1yogqJQEESoYne9QAhoRC2tq36Uql01Vru6ih9dFfGylUrBov1YqLrqqrS1FuxWi7eq9W6jkASs3YqyyFWRikiEkJnJ5Doz590/kmAucznnzCUJ5PvfnHPe53ny/vKe857nvRxhgNNQVVSkOY0JorSJhqgJgkwENVxBvoAb8ADOzssjQFhBs0AbIl8qpTZqSjYpjA2xAsemkhMagv3316RG+juA3tSvLRmpR6IVSuQUgVOBsRl2sU3BOyLqXac4q9xl9V9k2H5aDAhBwrXFx0YNo1LgPOConDoXtgo8J8qxwlu+b0NOfccNp59oWuUeEZO8ixFVqWByf8XRi3Ugyx2RyB88FU27+yOAnAsSqvVOQGmLlGI2oOXav0kiiDwlKrbYV964OZeOcyZIYJX/n8QhC1HqewxcIXpjIPKKIdxZXBb4IBcOsy5I/doSnx6LLkLJdYAj2/6yRFQJD7S35/30kIo94Ww6ypogSiHBav9VItwDlGTLT46pQ8mtvvLAChFUNhxkRZD6tSUj9WjsV8CsbNgfALyi47yqsHzvrkwbzrgggWr/RQLLAF+mbQ8wQkpxZdH04MpMGs2YIKp2ZEFIhR9DqcpM2RwMiLDMGwz+h3yPtozYy4SR8NrCQ2NR/XlgaibsDT6kRjOi53lnhPekbSldA6Fa7wRlaK8Bo9K1Ncj5TDBmpfvektb7QGiVd5oytBqGxAAYrdBqQ7XesnSM2G4hDauLTtVEvQh40wngACSkiZztnRZYZaewLUFC1cXlBsYbAgV2yifCMOCmJS28Wh1hbqWLay7IS8verj0GF97azPqtMVvljxvv4I/3uhkxzPKNpFk04wxfWWOt1YKWPTWsLpqsMF7OtBgAi5a18sSL7dTtU9z+Xy38qSqSlr2//l/MthgAH22J8df1tsq7laG92LjGc4zVgpYEaVhTNFoT4xXAb9VRKp56PcJ9T37dc1QKrl7cwodb7FfozJN0xoy0/5gcO1Jj5sm63eKlsZjjzYaaIkvPV9PRqipcWkw9B3KY9diSs/rvUa67p7nP8ZZWxQXzmvjiK8OWXW+h8MJ9hQwrsn5nHlYkPH9fIR63/Y6owOGaUivVBkzfe00LEnT6HwS+bSuyJHy606ByfjORaPzzdfsUF93WTHOrvdTRqBEaKxa7yXOmvraLPCesWOxm1IiMJKVPDDX47zd7sSmPwRrfpQJX2o8pgd2w4qLbmmgIJa/s9Vtj/PuiFgx7DYWyyTr3zTP/yLtvXgFlk23fquIxJ1jtu9jMhSkF6RhQkkfSj6kn0RhcsaCZLTvM1fJLqyIs/k2rbX+XnpVnqtc254J8Lj0rvd5dfOSxULX36FRXJRVEKQRDe4SOmR0Z5c7/buXt9xLcpxKwdHkbT79uv+d19/UFzCpL/J8/q0xn8fUu2/ZT4FFoD6W6KKkgjbVFP1QdMz8yylOvR3j4aeu5OKXghl/Y73k5NHh0vjtuz2vsSI1H57txZHcs8/Rgje/SZBck7EKE3vOWqoi2GSjNdFTjzwlRt8/++M6sMp2n7y20XX7LDoPTrw4TDHfE4PcIbz3mYfyonIws1xkRmVBcEQjEO5kwAhXR7iILYgBMHJveSG665ceP0nhikZsCl+B2Cb+7y50rMQAO1ZwsSnQybgsJvusbh0M+BjLa1ejCMGBnnYFho5Hk52EnlRGXUGcL8XlyPvkmohQTiqYHP+19In6F69pPUCorYgBoGhyZmT5+WvSDEF04gfnAj3qf6BNRZ+vYyOCdITJYiKgYRxedEtze/WCfViCa3KIsiLFrj8HCR1upej/K3oAiZvPlbbDi0OAbxULFiU4WXJNv5XbqFAe3AnO6H+zRQjqHYncA+WYs7tpjcPrV9nNNBxojD9V4e5mH4aWmb4WtmhE7svvQbw85jaheiUkxABb/um1IjG7srDO421o2wWVoeo/3kh6CKNTlVqy9VpPeeMWByKvVVuuk5yyd/YI01BQdDzLJiqm9gaxM3hvUfGX9hffb4driY7t+7H+oa4ZRiWS/G1jgEqYe58BXKOzea/D+hlhaHYEjR2hMHt/RB1m3Ocbnu+0bc2hw0rd0Di0VQk2KNR/FaLGZ9reCoYxLgNuhey9L5NxsOy4/XufxRW4OLfla+PVbY1zy42Z2fGmtIjUN7rrWxbUX5qN1tvOYAQ8/3caCR1otp+pHH6bxP/e4mdQtC7C7XvGjBc3UrLOWBLWKUpxLpyACnUOzMbU9aak4+MvNL9cbM1Kj+rceCgv6tsJtnxuUXdZIm4Xb721X5PPjf4ufmV20rJWly80nLwvyhTXLPXzz8L5d1nCzouyHYUv/MMFq6yPcUd1xROmUfTs1AEeU0yxbsMg138+PKwbAUUdonHea+SG9fCdc/4PEncEbLs63NEJ4/kxnXDEAPG5hzoXZGB/piR4xToPOh7oSKrLtcPLRyd81U53vzpiRDryFiZ93fo8krOB4HDcuRWzjc5C0EKMC9vey1CnZ9tfUnPzhGO47xyEhjSlsdVxj3l5TS+Zis4+cCqA11ngOAY7ItrtXU7yzpDrfnZ11Bhs+STxI9eGWGLssvLBmMrY0GB16z1uqKeUcnwtvy19qZ81H8Xsry55t5+8brY0C3rSkJW6XtKVVMXdJiyVb72+I8fgL7XHP1ayL8uSf45/LOFHGa2CkHHjPBG0ROG9uM/c+0cb2LwxiRsfMwBvubeHW+61VIMB762OcMaeJP1VFaGpRhJsVL1RFmHl1E3/72PoQ79ylLdy0pIX1Wzvei7Z/YfDzx9uYfXMz7TlLSDiOlkC1/16BW+wUt9LtPZiw0+0FEPi5hjAuw/EMYZ9xuiiG59Kj7oBSv1DgEsLNivqgQqWRnXC7hNLOqaL1AWV7hiOASEdsHrfQ0toRW9T+1GLLKGS4Dsqbi/0DhpcKd1zl4pxTnBR5v/a3s87gD69FWLq8jZY285X5nTKdGy/JZ8qxeo/UyZqPotz/ZBtvrjWf7ihwCfMq8/nX7zo5/JCv318aQooX343ws1+12kkaWkZQXglW+z/D5goos8+Qf57o4NklhRT7Egu/cXuMc29oMjU9aOEcFzdeknzY5pcr2lj4WOqxieGlwosPeDh6dOIXyfqgYvbNTXywyVxzsfsMAbZrZHkF1IhhWkoxAI75poOVSwrRU7wUX3NBXkoxAOZW5nPV+clTHk4dnllSmFQM6LiNPbe0sEdSNEt4NbIwTbQ7C+e4UorRxeTxDi4/J3ElDisSFlxtfqrnT69J7vvK8/I5NkXapIsSv3CnBd828Wpk8QHi9wjnVljI8kFSQWaf7sTtMh+uxy3MnpnY/2VnW4tt9kxn0hxaJtCAxmwZn3a8jstiovTYcY6Et4bTTrJWgR1l4k8vGzFMY+IYa0nDApdQNjmricbGrAoycay9yXDHJKioSWOs25uUYNqp3disimiRRk1lUZBSv73m/Y3i+OXsLE07JEFrs2MLEseWCQQaNcmiIFbu9z3KJRjIKrBhL1EMrnx7sSUaZMsEChXSlFCXNQ82ycWM2wGx+2cvBKnTNMWm/g5kiA6UYpOGyJb+DmSILmSLhsRyuuvmEMkwNms4GBJkgGBEtc2a7+TGeuDz/g5mCD4rrggEuqYBvdnf0RzsiOrQQOv4of7Sv+EMYQhvQ6cguhH9C2RnH9ohTKEcEquCTkEKZzR/CZl/uJvdNqM7SsHWf8QvZ8fe5s/il9mWwIdde+mgYIN3Wvgr6L5gR8nTmXb0yMo27niolT0N5hrflh0Gl/0k8Wzz2fOaePatiKmZ7YYBz7wVYfa8prjnq9dFqZxvfq+VPQ2KOx5q5dFnMrIbbA9Eqf11vz+DEKjxjxXFVixkFcwO4Ra4hOrfejjqiMQZ1pdWRbhsfrOpyj5zqs7KXyTfyeGCW5p4Y03qcXVNg+U/c3P2jMSp/W2fG5RfETa9VsTiEK5hiIwpnhbYAd1aSNG04CcoWWPFkllaWjsmsiWjPqBMr+kwM+HA7KQEw+jwnYxws8rawh0F1V1iQO81hqJWZMXrEAnRYEWv391+OI2VQE7meg8BQJOheLb7gR6C+E5urFdCxjcrGyI+SvFw0fRgQ/djfZ6yent0iQLrs5+HsISCFt0Z/WXv430E8VQ07Rb4XW7COngR5DeeKU19Bgfj90M1tRTI7tLTg5uIiqk+rQMSCOIvC21TYHpr0yGsIbC09y5AXSR8U2uP5C0Uxc7shXXQ8lnYVXhXopMJBTmkYk/YgLnZiengRZTMPeyEXQlfLZLOFvOXB58ReCfjUR28vOWbHng+2QVJBRFBRXRHJbA33Ug++Tx5XiRRhjceu/YYSdeStLQqS9tGpYptW4rzJtntiERTfp/LVCIxWO37LsjL9BLQyhrDwgLh9Cl6XIetbYo31kYt7U8yaayDcUfG/3/assPg40/NL33SNPjOVCf5ceYhK+DNNVFLK7PiJBdjSjizaFow5UCg6cxuqNp/t4L/7H5saNFnfPoKIov85YEFZsqannHsdQUXgNR0P5bNea6Dld51omCVLxJI2KvqjWlB5AQiMZecJfBR17FzTrW+POBA58ypPepkXUx3nC0V5l+yLf+LN9eWHh4xorXAkYFGxfk3N/G/NhbqH4gUFgjvrfBwxHANYIeOs8zq51lt3XMaq0smGcRWA8XtEfj9K+38eXWEDzbFDtpt/0aN0Pj1AjcnfcsBsE8zYtO9M8IfW7Uz9Nm8zJP7z+Z10bjKM9HQHK+Rg92EBgn/0ByxWd6p4Y12DaS1Abt3RvhjHecUBevTsXMgIPChjnNqOmJAmoIAFJbv3aXr0TOArEyQGBxIjRixMzLxffWMfKLAM6WpzrcrOB0lC4GDqcsVU4rbfdMC0zPxpWjIwsquhuqiCg1+D2pEpm0PLNQuzdAu9s4IvJtJqxn/iEdxeaAqqmsnAa9l2vYA4hWdvBMzLQZkee1jaLX3X5RoDwKjs+knh2xWwrVmkoR2yepnbnzTG1+O6o7JiHqAwf1siSphaVsk74RsigE5XB0criocbuTpNyrFdYD9T6zlliBK7nc4I4/EmyGSDXKerg1VeYcp3XEdoq4HSnLt3yT7UPKg5MUe7FzylzP6LX++72/Ffq3FuEiEy4Gp/RVHT6RGUE9EdMcfS6fsC/VLBP3htDcd39vVLleK2cBROXUubBXFMyjjCd/0xn5fsz8gBOlO/dqSkXokWqFETpGOz76OzbCLbQreEVHvOsVZ5S6r/yLD9tNiwAnSm4aqoiLNaUwQpU00RE0QZCKo4Qg+lHg6NvHcvyteGKQRUWEUIUS+VEpt1JRsUhgbYgWOTSUnNAzocef/B67bg9Z9wGWWAAAAAElFTkSuQmCC",e.escalator="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAFfgAABX4BPgLDIQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAA3ZSURBVHic7Z15lBXVncc/v6p6vb9+vciikgQYwaZPXMhBZWmUdsKMBycyJpPjDIIhi+OMh6g5Z2KYxIxBQpRFhWA0alSQQBQScFBBo4GwdANncmYUDwpoRnFklV7e6/Vt9Zs/mu50N72896re0t1+/ntVdX/3V/V999ZdfveWkOHU7SwqMjx2mahRbouWCVIOOlIhWyAPKAA85y4PA40KzQJBRE6q6nuGymHFPhTNNQ+XTKrzp+9u+kfS7UB3avaXjLLCkUoVuU5gBvBXLmfxgcIfRXSXRzw786bWHHfZviMyQpDG6uLLIrY9T+Bm4JKUZi68L7BZ1Fznrag9lNK8e3QnTTTtzrswKllzEJ2ncEW6/OjGWyDPm+Hwbwoqm06lw4GUCxKo9pahxgOqfA0wUp1/jIQReUE0uqSwouFIKjNOmSD1u31fElMWoTqLzBWiOzYi22zhP4qn1v9PKjJMuiA1+0sKrWjkAVQWAGay80sSERVWhUJZPxle+WljMjNKmiCqiH+v73YRHgRKkpVPijmNyr2FFfXrRNBkZJAUQWr2l4yyItGngRuSYT8D2GbhuT2/4uwJtw27Lkj9Xt8tAk8BhW7bzjACqnynaLp/k5tGXRNEq0flBrTxSVTnuWVzICDCU16//y6ZRdAVe24YadyfPyIasbYAU9ywN/CQKsOO3Oy9tvFTx5acGghUe8vUNl4DvuDU1gDnI8G+wWm/xVF/ILDbO01to4rPxAAYrRjVgWrvVCdGEi4hdXuKZhiiWwGvEwcGIQFD5CveafW7E0mckCCBvcUVNvbvBXITST8EaBbDnlk4taE63oRxC1K3p+gKQ3QX4Is37RCjxjCj071TGt+LJ1FcgtTtKxptRO0qkIvi821oonBcRaYVT6s/FmuamF/qupMcI6qbPxMjdgQuNlQ36SGyYk0TsyB+j281MDEhz4Y2VwXqfCtjvTimKstfVTgXlXWJ+/QZoLf6KgIb+ruqX0HOdfz+i7ZggpQRjsD6bSE2bA9x8KhNMKyMGmEwq8Lirn/K5uLhA2VKpYNGwZ7UX8exT0FUkYYq3w5tCzZIGcfP2PzjwmYOHo32eD43W1i9MJevz/T0eD6DedNX4Z/Z1wV9/s0aqou+kWox6huU2fc09SoGQEtQ+efFzWzdFU6hZ67wZX9V4dy+Lui1hAQOeEs1bBwBSl13qw9+uLqVX7wY28Dp8BLh7Y1e8nIyIngmVk7bYSkrrqyv7+lkryVEw8ZiUixGS1BZszUU8/VnapXNfxhwpWSE4eGB3k72KIh/V+E44PakudQLh/5s09QS38zogXd6r9oyF/2X+j2+sT2dsXq83jJ+jGrP55JIrT/+aeqaBNK00xJUqt6K8tEJm1NnbcKRnq/z5gnDioXLx5tcPt7EdN7A8wD3Ad/qfuK8h+7fVTgO1TmOs0yAEl/874LSBNIcO2mz9Lkgm3eEaWmNT9ARJcI3bsri7jnZFOQl/u4SYW79Lt/iouv8H3Y+fp7WYsj3SVO4zmXjzLhvcuqV8bn66p4wV9/awPptobjFADhdqyxbE2TybY386V1H1aVHTO7tfrCLII3780eocJuTXJyQ7YFvzY552IeLhhnMnhF7X+TF18Pcdl8zrbG3G3rl/07Z3HR3E/sO9lLPxcb8ht0Fwzof6CKIHbHmAdlOcnDKD76ZTdno/itpw4BV9+bG3OR94fUw/7qkmYiLbYCmFmXej5o5edZO1ESObVhd+iVd7lzR+YladouCPGHzI/lcPr73qig3W3jqx3n8zZTY2h2/eS3EnUuaiSb83Hrn0zpl0S+dBJx0jdLp+HvVVRVdaaimJH41Ftway9qwPcSCB1uSIkY7hgGHXypkREliL3nTMC4vmFr3DnRqZRm2PQ/JnB6vx4L5N2Ux/6bY3yndWb8txIKHWrCTKAaAbcMb+8LMvTExX221bwUWQudmr8hsV7xzkZNnbbbsCHPwqE3UVsaOMrixwtNnddbOr18N8d2lyRejnY9PJZ6RKrPpLEjdvqLRRNXtpWMJY9uwfG2QR38dpCXYtWn60LNBvnyNxeM/yuu1ilj3aoi7UigGtA2KOqCsZn/JqNLJtZ8YAGaE691xyzmqsOChFn72TOt5YrTz5oEIM77TyKma888//0rqxQAYXuys+26F7evhXCtLhUoXfHKFDdtDrN/Wf0fhxBmbnz3T2uXY2pdD3L0s9WIAXPJ5h+MpYldCxztEr3PqkFuseD62JuRl40x+ckdOx++1W0PcsyI9YuRmC399tdOhP5kBYDRUFQwHPufYKxc4eszmfz/p/4leNs5k68r8jrGvtVtD3L08PWIA/H2lB2++4xbq6MABb6mh6hnvhlNuEEtLpbsYa86JoUlZz9Q/JT5h0Z05/V8YCxHGG2Bf6o4157SG+n6q3cV47j9D3JNGMbI98OR9vbf24se81LAhYwTpi+5iPLMlxPdWpE8MX4HwwtL8mIdvYkL1UgthXHKWL7pHdzF+tSXEvz2SHjGyPDB7hoefLshlZKnrIxvjLFFGum3VTbqL8fTmEN9/NLli5OUIV3/R5KJhBlnnRvcvvMCgbIzB9VdZFBYkZ4hJkZEWqDdDtjw5j+5iPPW7EPeuTJ4YpT7h37+dw9wbPeRmp/6ZCOq1QFIakRgr3cV48rchfrAqeWKUjzXZuCyPz41MX0SkgtciA1dATSo32fJIfkfVsGJtkMVPt/aTKnG+NMHkpUfz8SWpKooDr0WKY3b7o7sYy9cG+enQEAPAK/69vhB/2ZEtrbz3YZQRJUZHNfX4xiA/XN2a1Grq5Z/nc0FRRogBELSABjJkL5IJY/4yz7FsTZAlvxoyJaOdBoM2QTKKISoGQIOl0JBJbi19LnjesLqbZLAYCDRYkkEl5KFngzz47NAUA0DRgKHC6XQ7AskXY2JZZosBIMhpw1AOp9uRleuTK0b5WJNNyzNbDABVDluIHE3XkKm/UbnvsVaef8WF2M5eKB9rsnVVPsOKM1uMNuSohUSPoMkdLjhxxuZsvVIbaBM+0Kjs/u8Im94IO43W6JMJYwaSGAD2EQuTIyRh6vP9j20e3xhk+96Ik9jXhJkwpq3TN3DEADtiHBEA/17fx7g0rx4Mw5KnW3nshWBSwzf7YiCKAXzkq/CPaQ8DesMNi60hmLOwiVUbPhMjXkTbNDDafugOpwZV4dv3N/PmAUfrJRwxsczk9ScGnhgAtvAHOCeIZUd2gLOJ3Jd3h3llT/pWxE4YMzCatr2gpkR3wjlB8q9tPgk42itwxVpXNuVMiIHXmuqKwiHvtMYz0HnBjsqLiRr88LjN233svJBM2qup4a6F4qQeUe149h2CqKHrSLDaeueD9IhRNtpg47IBW021Y9uG0bHTUocgRdP8f0ZlXyIWT/cQhZ5sJpaZ/P6XBQO6ZAAo7O2841zXNYaiCe2JleqRl0FSMgAwYF23351+eOxNQHO8Rr9wYeoiNdreGQO/ZJyjyVZ+1/lAlydZeE1DjQpPxGt1YpmJlYKtBtpLRpF3UIiBKr8omu6v63zsvL+2FYqsUGiJx/DwEuF6x+sj+qZstMHLPx80JQOFFssTeaT78fMEKahsOiWwNt4M7r8jB0+SNLny0kFVTQEgyDMFk5vOmxzsufI39GEgrjGQL15icsc/uL8JRNlog03LB081dY6wRvW80gG9COKbGvhAIeatTdtZfGcO8xJcq90TE8vMQVVNtSPwcPddgNrptXkUCmctEuWTeDIyDFi9MJfl38t1tMTLNOCbs7PY/tjA7oH3wkeNOfmLezvZ593W7/F9XYSNieR6ulZ5aUeY7VVhjhyzOfmp3Wd/JT9XGH2RwczJFrf8rYfysQP1g259IypfLZxev6XX830lTtc2sYMYZ9vEiqBhy5wHnHXVraHJKTMc6ff7XP12sUsn134CehskY+Z9yBBV4dZYvq8b05iHryKwXWCpc7+GKrKkaJo/plnZmAehvDn++0GqEndqaKKwuzBc32urqjsxCyKTCEdz5EaBg4m5NiR5K2qZX5HK2DvZcTfym6tLLw7bkWrg8/GmHWIcs/BMjffzrHGPm+dNrTluYM4C6vq9eOhSa9jRWYl8KzehiQxvRe0hW+WrZNBShgwiYIjc7L228d1EEjsal2jYXVBuG+ZrZMhuQhnAx4YZvSHeL7N1xtFUn/faxnctPJMV3nFiZzAg8LaFZ4oTMcChIAD5FWdPWFZkJpBQgMTgQKrEjs504/vqrkyGF0xuOl14wj8dlUXAQPx+RKJEVVlYOK1+uhtfioYkbHJSt7eo0oD1oBe6bTuz0BOGbczxXlu/y02rroeLFFfU74xYxtXAa27bziC2WWRd5bYYkORtgAJ7vH+nYqwGRicznxRyRIU7Yx2XSoSkBlQVTm94JWKZVyC6ioH9bomo8HAwnDUpmWJACjfKatyZP9LOsu5RZQGQn6p8HeJHZaXpCT/RU4RIMkj5hHVgp/cCtcwFiH6XDNljpQdqUVktWdHVhdc01KQy47RFENT+qdhntNi3iDAfmJIuP7oiVYKuCVvmxtLJtYG0eJCOTLsTqPaWocZ8Vb4GXJLSzIX3Rfktaq8pnN5wNKV59+hOhlGzv2SUFY5Uqsh10hZc4fZXGz5Q+KOI7vKIZ2fe1JrjLtt3RMYJ0p26nUVFhscuEzXKbdEyQcpBRyIUolLQtolnx654jSANiDaiBBA5qarvGSqHFftQNNc8XDKpzp/O++mP/wfhZ//KTP56sQAAAABJRU5ErkJggg==",e.entrance="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAVfElEQVR4nO2da2yU15nH/+e9zNX3GXvswTYQTAAbbAdIG2ySEichJbtZ7a6UzWplqqYfVknVqlVX6YdUimijNl1ppSStyJckYLXeJi1VUEW47G5Ci8EYDMbhYsAXDDg2vt8Ye8bzXs7ZD6/fmXfGlxmPZ+wx4S8dzYwv7zxzfvOc51yfF3ioh3qoh3qoh3qoB0JkuQ2IQWSO57O91sXmeR3+u2VVsgMhCNpIong9n5jhkUXxelmUjECMFcwZCjE8zldmE4tQ6PSjGvZ6ycHEFQhjsdtPCDFWKgeAKykpEUtLSy25ubnm8vJyR3Fx8Vqn07nGYrHkW63WfEEQcjmOS+U4zkIIsXAcZwYASqmfMTZFKZ1SVXVCkqR+n8/3lcfjudfX19fV3Nx8p6GhYay/v99/8+ZNaWBgQIEGw1goDGBYFB9O+wiL07IDmQUED0D48MMPcysrK7+RlZVVbrVat5jN5kc4jkshhJgJIabpRzGKz8AYYzKlVGKMSZRSP6V00uv13h4bG7ve1dV17c9//vOl/fv3DwBQAMjTj0ZIUYFZ0UDCQPAA+I8//ti1c+fO5zIyMr4limIxx3FOnufTOY5Li6edulRV9ciyfF9RlJHx8fEbnZ2dpw8cOHCmpqZmEICEIByj58wJZkUCmQ3EyZMnH9m8efM/2u32XaIobhBFMT/etkUSY4xOTU31eL3ezr6+voZPP/30xJtvvnkLGhQJM71mBpgVBYQErdWDtNDU1FRWWFi4x263V5rN5q0cx2XG055YpSjK2NjYWMvAwMD5U6dOnfz+979/FRoUo9coCMYZMMbYigFi8AoOgHDhwoVNa9eufcFut1eZzeYKQoglnnbES5RS/+joaFNPT0/9F1988flPfvKTmwD8mB3MsnaXZxVjLKQgtGky7du3z9nV1fWvk5OTRyilMlshopTKfX19Xxw7duwH27dv3wwgH0A2gHQANgCm6c84X9d76cVmwuAACAAsly9f/ubIyMivFUW5u8z1G7O8Xm/31atX3//lL3/5dwAeAeAGkAUgBYBl+rPqY6XlF5sJQ9y3b19WZ2fnSz6fr265KzRe6u/vP/XJJ5/8+2OPPVYGoBCat6QBsAIQkSxQWBiMDz74wDU4OPgfiqJ0LnclxluTk5PdDQ0Nv3766ae/CWAtgFwAGdCasKSBEogXH330kXt8fPwdVVXvL3flJUqyLHuuXbtWU1VVVQGgCMEmzI7QuLK8ME6cOFE0MTFxkFI6tdyVlmipqurv6Og4XF1d/RyAR6EF/Jih8HGEwUEb5K3dsWPHWzab7V8IIeY4XT9pRQjhMzIy1m3bti3X4/G0Nzc3Txp+veCucDyA6F094cSJE4UVFRW/stls/0QIMcXh2itChBA+LS1tdXl5uaurq+v6zZs3pxA6nU8RJZjFAgmMM2pra127d+9+0263vzw96fe10jSUNVu3bk1ra2u7cevWLT+WeJ3F2LXNGR0d/a+vQ8yIJFVV/c3NzTUlJSWVADYgGFMS3vviAAivvfZaZm9v7w9UVR1d7spIFkmSNH706NFf5efnfxNaoHdD6xJboQ0e5wQSa5NFAPD5+fni/v37d61atepNQRBWxXitB048z5tdLldhWlraV8eOHetFMI5EnPOKBUhgSuTIkSObNm3a9IbFYvlGLIY/yDKbzRlutzvD5/O1X7x4cRxBIPNCEWJ4LwKA27dvX/rmzZv/zWaz7Y7VaMoAr6RCVqnh0ksvjgBWEw8TH9/3z8/P3/HKK6+0nz59erClpUVFcD1FB6OG/89CLSAAeLfbbTpz5sw/FxYW/ifP8+5YDR71qmjt98InqRA4LtbLLEoMgKRQbMi1oSAz/j11r9c7ePjw4feqq6v/B4BnukxCm8aXEdYlXoiHBNY0amtr12dnZ7+0GBiMAWM+BT6ZwW41I9Uigi5ik0QsIkTz0lt9Hkz6aeR/iEE2my27oqLi2e9+97ttNTU17QhdFjbCYMDCmyzO5XKJxcXFL9rt9ucXaywDIPIc7BYBdqsASpcHiEngtRcJUmFhYUV1dfX12trabkVRZMyEEmi6FhLUOQBCQ0PDN/Ly8l4VRXHtYg0d96mY8FNYTALMIo8ldhAQon0phj1+ZNoFOO2xhNTI4jiOt9vtos1m6/rb3/42BA2CvtIYWJ8HtEqORoG5Krfb/YLFYtmWALsfaDmdzuJnn322AoAZ2mKWGdpAMWRRa0FA6uvrS+x2e8XXYdIw3uJ53rR27drS1157rQgaDDO02eAFAwnMVz366KMvmEym0gTZ/MArOzv70ZdeeqkSGggjkMB6fLRAuP379zttNltFojatfR0kiqK9qKhoy9atWzMRBBLSbEULhN+9e/cOURSLEmdudIYksDO0JMrIyMj/3ve+twUaDL3w0yUikEAwz87Ofobn+byEWhtBKgM4QsBzK5eK1WrNrqysfByaZ+geImIhQN5//33X9M5Ca2LNnV9+WUVn/wTGvFLcpzmWSoIgmN1u94YdO3ZkYWZw5+cDQqANBIVdu3Y9zvN8zhLYO7cxBFBUiv9tvofPL/fB61chCisTis1my3r55Zc3CYKgN1l6HIkIhFRVVVkdDsc2nuczlsLY+UQAeKYUnLh0D59f7YPPTyGswObLbDanlpeXb8zKyrIgGEdERAACAHxBQYHFZrOVchyXmnBLoxQvCjjfMYb/u3wPkkLBr7BIL4qibfXq1UUZGRn6KmLUTRYpKytzmkymdUiCTV8AQKmKtatykJebjTOtwzh26R78ioplmiyOVSQjIyN/48aN6dBA6CVyDNm8efO6hIw9CCAKBGaRB6dPKkUpkyigqNCJXFc2GtpHcPzSPcgy066zQmQymew7d+5cBQMMANxcs2mBQzXp6emPJGIXCQFgNwnItPMA4RZ0+kpVKUSBQ1GBC4wB59qHABC8sM0Nk8CBUpZk5wJmiud5saioyI3geZl5gegiNpstP1F7rASewCJykNWFV6CqAKLAY32hCwTAubZBEMLw7cfcsJp5yEpyI+F5XsjNzc1G2Gnj+YAQAJzFYilIFBCRJxB4AIREHIETAogCB2OnSvMUHutXa1Aa2gZBQLC7PA92Cw8piaFwHCdmZWWFAyERmyxBEFyEzPl380pWKca9Crx+fco/VBMyg0cCVBq5x0AIMDmlXctuGJ6qKoXA8ygqdAFgOHNzCDxH8GxZLuwWHn45OaFwHMenpqZmIfSMfUQPIdMBPaZoOTop42TLENr7vLCa+RlMZMYgqdpybjRvIFMGz5QKh0kIuZSqUvA8h3WFuWAMOH1zCIQwVG3JQ4o1aaEQk8lkR+iR8IjffLKYtQ+PT0VL9wRaByXk52TMWDMnWPjeylyXE1npdqhhS+CUMggch6LVuQAY6m4Og4HgmS0u2C1CUjZfgiCYscAmCxzH2WJ/SwZR4ODOzsSmonyo4bWIGF0PmPValDHwHIf1q/PAcRxO3xwCAOwqccFqXvol4kgSRVEHEgwREf6HLPaELIG274kjAIvTOGG+LjKbhlK0Ohcqpfj8ygA4EHx7qxtAcnWHp+ey9EqJuEBFwh5XjPRKJ4RoGWUY1ZrL5P0kgbqO2HtijPkW804MAKXadpvF7ruKpj4JIVBVFbe6+jA4PILny1x4siRb22GSTO4BQFEUyfCSAFHsy6KUemN/SwJZoejuHwFlCljYvitGALLASqKUIT/PiZysNChhcYQjBCpl6OzuR0//MJ7cmIWnt+QgxSIkZU9LlmV/+M+iATLjn6JVuk3A1rXpSLdNwjzL5IusApI6nZsigggAWaFo6RqDzW5DnjMNimFnLMdxUCnFra/60N07hJ0bHagqzYU9SWEAM4BE3LnIAIBS6pl+vuAWOMMuoqrYgYr1mbOONTySNjBUomjetYGhjK+GPPBLSsjveI6DpKrouNuHgcFhPFXsxDNbXEhNYhgAmCRJeusT2E4ayUOYJEl9VqtViWWCUeAI0m0i0uf4fZoKjE8BCo28eYEQwOMVYDGFbrbkeQ6yrKB9GsaTmxx4riwXNhMPfxKOPXRRSlWPxzOCsCNvcwEJbG30er3daWlpUiJmfBWVQaUEihrZRQjRpmKMnsbzHCRZQcfdPgwOjeDJTU48V5YLi5jcMABAVVV5cHCwH2HpBiMt6zCPx9NDKZUTYZSsMvhkFVHwmCFeAKRpzxgcGsbOjQ48X+6GSeAhq8kNAwAopXJvb+8Qwk5XzQeEAWADAwN3oaUjiqsYgElJwciEBElRF5T8i+c5yJIWM4aGhlG50Ynd5W7wnNbLWglSVVVpb2/vQ1gizrmABFzo0qVLtxRFmYi7RQxQFAZZURc4aCPTnjGIgUEdRh4EbvHjnKWU3++fbGho0M8fBrwkkofQ+vr6Ua/X24EkSc7FEQ537w2if3AYFRsceK4sDyLHYYU4hi42NDTU3draqvdgA+cOI8aQrq6uqZGRkRZVVePvJTGKqgoqN2Th+ce0JVt1BXkGAEiSNHn79u1bo6OjMkJjyJweEmiyWlpapK6urquyLN9fInvnFAOQlWrG329fhae35MAicismZhjl9/snm5qaOsfGxox5G1VE02RNTEyoBw8evOT3+/uXwtg5jWGAwHOoKnXhWyU5sIgrozc1mzwez3BtbW27qqr6ydzA8baIvSwAam1t7fDo6OgVVVUXNdG4WJlFHmtyUpBmNSXlglM0UhTFd+fOnfbr1697oEFQDEWNBETPUatcv369brm9hCfaesdKbKZ0eTye4ZMnTzZDq1f9AKieF3heIEAQilxTU3PR5/PdSaSxkaRlLl5OCxavsbGx3t/97nftCAIx5gOO6CF6sFEOHTo00tfX16goiifRRj+okiRpsqWl5Vp7e7sHod4ROCYdrYcoAKTjx48fv3///uVEGv0gq7e3t/XAgQONCHqHH8HEzFEDCTRbr7/+ese9e/fOUUqXNbivRCmK4r9+/frVw4cP38P0FxxhzRWiGBgChmYLgFxfX//X0dHR5ngZqp8bXO6SaPX09LQcOnToErS61EHo+U4C3d5odyTqUKRXX3312uOPP/7XjIyMrTzPL2pHirYBQes1qZQtW2oNRWUJ7SwoiuK7ePHixYMHD95BMG4Ymys9xUZUuU6MzZYCwP/73//+eHZ29paCgoJ/iNlKou0M80kq6IQEWWHLlnzGO6WA0cQknwGAGzdunP3Nb35zHkHvmBE7EGGBKlwhwf3dd9/tqqqqOuZ0OsutVmthLEYSABk2AQ67iCmZQpYTsuQSlfIyTEi3JSbPyf379+8dP378XF1d3RCCMKamSziQqLMB6V6ijyilt99+++y6deuOFRcXvxqrsWkWHsV5Vm3FcBnFcQTmBB0gvXDhwun33nvvKkKbKh2GHj8CK7Qx51zs7u6mKSkpQyUlJbmpqanrYroI0Y4kmAVuWYuJJwk5fdXa2nrmF7/4xZGmpqYRaCC8huJDMH4EvpELBaJbzQEg9fX1E8XFxWPr168vM5vNSXF3nGTRyMjI3d/+9rd/rKmp6YQGwwcNxOT0cz9CbwYDYHGJlAkA0t7ePl5eXq4UFBRs029b93WXJEkTn3766R/ffvvtZp/Pp8cLHYYXwSZrxsGZRQMZGhqira2tPU888YTF6XRu4jjua5fV2ihFUXx1dXWf/ehHP/q8v79/Elrl+wBMIOgdejCfkYI81jSxIa97enrUCxcutD311FPpDodjAyEkXkn+V5RUVfU3NjaeqK6uPtzd3T2BYFM1iaB36IPBGRlJgTjeHaG3t1ft7OzsqKyszJ0+ubuyTo4vUpRS5erVq6f27t37ye3btz2YHUZ4UzWjexnXb3JHR4ff5/N1lJaWOlJTUws4LuIp3wdCiqL4b9y4Uf/666//qbGxcRgzg3jEpkrXYmOIUQwALl26NHn58uUr27dvtzocjqIHPabIsuxtbGw88Z3vfOfj8+fPRwtjTsXDQ4yuxwDgzp07/rNnz9544oknRIfD8chi57ySVVNTU+Nnzpw5unfv3sO3bt26D63S9WYqPIgHZnQR59zvs2kGlP7+fvnLL79sdzqdvS6XK89msznj9F5Jod7e3hu1tbX//bOf/azu7t27HoTCCA/i88YNo+IZQ0J2cQNAT0+PfPTo0S6bzXY7Ly/PnJmZ+QiJx/1Jl1GMMbWlpeXUu++++6ef//znV0ZHR/VBnrGJ0kfjC4IBxDmo6zYbiyzL7OTJk4NjY2Odbrfbl5WV5RZFMSUB75tweTye/rq6us/eeuutz/7whz/oe56Ngz4dhg5pQTCAxAIBDFskr1y54jl37lx7enr6V1arVUpPT8/jeX5F3KdKkqSJa9eunTp06NBnb7zxxummpiY9eM8GI3ysETUMIM7nUhljxhsR8wgm57JAu7uMFYBtz549eT/84Q+fKSsr2+lyubYkKxhVVaWenp6WxsbGxnfeeef82bNnhxGctdVH4HqPyugVIWscC3nPuAMBEA5FgAZGT7Gtg7H89Kc/LX7xxRcr16xZU5aTk7PBZDIlRdY6v9/v6evr62htbW05dOhQ04cfftiJ0KVX4/yUb/q5cTk25rtHJwQIEAJFzwWle4sRjAWAee/evatfeeWVXWvWrNmclpbmSktLc4uiuIgMEguXJEme8fHxgfHx8cHW1tabH3zwwbm//OUvvQjdP6Wv9OkQjAtNehOljzNiWuRJGJDAG2hgdCi6t+hgdDgWAOaUlBTLj3/840179uzZsWbNms2pqak5ZrM5xWQypcTbVmjnJyempqYmxsbG+tva2lqOHDny5YEDB25PTEzowdi4d8q40uc3FKNXRH2/wrmUcCDArN5ibMb0GGPMYWsqLS1Nr66u3rht27aNq1evXu9wOApEUbQLgiByHCfyPC9OT81E+gyMUqqoqipTSmVFUWRJkryDg4NfdXZ2dl68eLG9tra2c/qsRmDrLEJ3FeqVP2V4PduNWRa99LkkQIAAFCA0pZ3RY4xeE0idmpOTY83MzLSuX78+tbKyMr+oqMidm5vrdDgcOampqQ6LxWIXBMFqMpmsoihaGGNEURSfJEk+WZan/H7/xPj4+OjQ0FB/b2/vcFtbW199fX1vZ2fnxOjoqDw8PKx7gxHEbDCMe6jC7yUFxhiLxxBrOQZpIQm7EJqV05h625gb3ZiOm0fw9g6zldnE5ijGPWfhXqFXvnEztF5o2HXipuUcNRsrkTcUHY4RjP5cMPxdIOmX4RGY+ZmMMwjU8Gg8KGOEIRuK8eyGXhICQlcyTGOEe8xscEJy28KQNBLzQ4kEI9xDwkvgZBMSDEJXMgDRZaxMY5zhMROU8W8iNVtzNVV6JRu//TTs+Yy7qCVa/w+SVb5l2/X/uwAAAABJRU5ErkJggg==",e.hazard="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAKJUlEQVR4nO2ce3CU1RXAf+fbjTFREdC2IAX70Grk4dhBrLUqtlaG1kdGpNraarWVZ7KbVVo66tg4gmV8kI0bxOgf0vEP/2Aq2td0asfpUx2nVsAirfZh65gEFYKxiiS73+kfWSWw90vu3f32keH7/cNk77nnHs7dc797zr37QURERERERERERERERERFkWobUAzaSj0e64Br8x9tYhI/kHYGq2lXMcSrbUBReKwHVoz4JEU/9cDKKllUNOMuAjTJWcDTgHdIk49wnqT5UxXMKppD/xM1jbYTR+jGbLeH0q1LqKu0XaUwriaAvXwP5fRRJGbSwE0VsycExs0SpCs5kTg7gKPGEN2Hxyzp4F+VsKtUxk8ExOlibOcDNOBzf7nNCYtxMQGa5ErgYocuCzTB18plT5jU/BKkrUzA4yVgmmPXPoQmSbO3HHaFRe1HwHDC5ep8gCkoa8M2J2xqOgI0yZnAM0CsSBU+whckzTMhmhUqNRsB2k4c6KZ458M4yA1qdgLoJwWcEYKm2RxJMgQ9ZaEmlyBNMgPYARwdksr3yDFLuvh3SPpCo1YjIEN4zgdoJMaGEPWFRs1NgCZZBFxaBtULtY3Ly6C3JGpqCSpiz789/+8cS/nX8TlNMgy4W1ceaisCYqzB3vk+ynI8bgB8yz7T8LijOOPKQ81MgKaYix50yDIW3XIfT0sHzwEPOvRr0VY+52he2aiJCdDFxPCd9vy7GOSWD//yWQ30WPb18OjO5xlVpyYmgBNIAJ+1llfaZCP9H/wpGQYQVjmMOIe9tDjIl42qP4T1RqaTYwdwjFUH4deSZoFRV5KfA1+1HPpdhFmS5lVL+bJQ/QjwyWDrfNhHbpTnhNACvGup6yiUDkvZslHVCdAEX0G5zLqDcIdk+Gdg8/C3+U4HE5o14TB+GajaBOgSGhGn7HQHE7l3TKlJ3IWwzVqrkNEVoWbdTlQvAhpYA3zCUloRWmwuXkk7WZQWQC11TyfO7ZayoVOVh7AmmQM8j/3FsIekkyVOYyR4COG7luI5hHmS5i8uY4RBxSNA2/EYrvPbOv8t4txsati9kAm7FzLB2CvGauANyzFiKN26uKSzh6Ko/BK0h5XglImm5F7eMjUMNrB2sJ41pjbpYA/qlBvM5QSWO8iHQkWXIG1jKspLwESrDsLvSHOBGNbznkXMxedZQDzhnCmP8axxzARPIlxoaeIAHqdJB69bypdMZSNAyWDrfNhPlmUm5x9SuvBU6db5gUvaCuB9yzEnkCNtKRsKFZsAbWMhsMi+A2uli7+ZmnqzJBlRulCY0zuJVpOs3McrwI+sxxWu0BSXWMuXSEWWIF1CIw38FfikXQdeZoDTZVPhN/f1y5guw2cGh+7d3xNl5tTHC0sL2s4R9LMVaLI0+b8MMVPu53+W8kVTmQho5HZsnQ+Kx3KT8wHECzyubFTMiV0+f1iGfW4wgzpus5QtibJHgKaYjc/zYH015GHp5HpTQ08zzQhbRh0Pmqdt4QljW5KHgW9b2pHFZ55keMFSvijKGgHajpd/WNo6f3e+tl9A30UchYxdPBPIvHlpQHEvyyrgTUtb4vlzg7L6qLxLUD/LgLOt5YVVkjE7yG+0Ll1MH4qZSwuygd2oeYIDOJO9LHWQd6ZsS5CuYAp17MR+2/l7Oplv2na+tog5Md+pdJFDmHfCY4WlBQUhyW+AL1rqGiBHk3RZn7g5Ub4IqCONvfMHkYA9fzue5zuVLoDhPMFUWhBQYizHJTeIWVRhi6QsE6BJFgBXOnRZJ2l2mhp6t9EibqWLYYS5PQGHN7KelxHudtB2lbZZn7Q5EfoSpCka8HkR+LRll1d4mzmmbeeblzN1SNkJHFukOe/k4jRN31xYWsj/1ngrcKqVJuE/xJkp91ifuFkRfgT43Ia988FjRdCef2j4imKxzgc4JpY1lxYkw358h9xAOfGgmxghEWoEaIqZ+LyA7bZTeETSXGNq6m1moQq/DMUun0unPcHPjG1JHgG+aakqi89cyTicuI1BaBGgII57/j3EzeXinktoVC+8y7QidL2xOODYMU4KzOVuo3TIuUF4S1CCG4BzrOWF1XKP+cBE49yOWpcubMaaMZQ1lxbyZw3GA58AzqKf74RjWEhLkN7E8WTZCRxv2eWPdHKeadvZdxmzfc+pdGFLVj3mTftJYWkhnxs8Bcy31NUPNEknu0o1KpwIyNKJvfOz+LQE7fnVc1rGXIiLb14+ZLgA2ALWb1uZhIaTG5Q8AdrGfODrDl3uCnqI9W1nmbqULtw5s2+rubQgHexwcqpwtSb5cqkGlbQE5ffS24BTLLu8Sh2zTHvpNxYzJZt1Kl0Uy0A2R9OMnxaWForIYf7B28wO2kbbUFoEeNyKvfNBaAlKZHJDTqWLUphQF1BakA724TtdkT+JiU4P8MIxi+2oN/IZcmwH6i27PCqdfMPU0LOIBfj8qlhbikGEi6c+xi9MbZrkUeAqS1WD+JwhGV4qxo6iIkBByLERe+cPkDPv+V9bTAN+5X9Ap8qGvosCX/7RBgeuv4/BEQgPaJFf5uKWoDauw76cC8rqoHJuLOtYugiPE/2jzaUF6WQX4lB2EM4lYX3SdkhXR3QlxxFnJ/ARuw48x2TOlvbC33H1LmKmupQuwifrw9yPbynclWk7Hv38Afi8pa491NEUlFwG4R4BcdZj63zI4rHU5HwFUbfSRTmIexKQG7Tj47EMGLLUNZksd7ka4DQB2sr5wLesOwjrJc1WU1Nvs2PpolwoZ/VuM5cWpIMXweGilnKNJviSy/DWS1CYd2t6LuH4/DJmmz2Xm34PTp2ypXD5yN9pehH4lKWuwPMNE/YRsJebsXc+eLQEXmyKk6Z2nA8wyScgN3iQ91Cn95GezAT7g3+rCNAEJyNsB4601LtZOs2vDOttZr4KT9mOXUkULpq2hSeNbQk2I1xhqWo/whlBx6wjsTvoFjZi7/wBPFJBjVMf57fUwo8DXcnSSh0XYpet1wMbFfPN7pGM6QhNcC04PVhuqeT17koh99OHOlxXVM4nOfaGZdQJ0BSTEaet1Z/pYaOD/PhiMhvA/DuEANbrTaM/60aPgBx3Ax+1HCyHsFQ2k7OUH3fk85ml2OcGx5Fl3WgCgROgKc5FuM7aOqWzGj9yqzTSyXagy6HL9ZrggqBG4wRoO0fg8wD2O5XXyPJDB6PGN/u4FaxfcSAIG7XVXLg074L6+T5wmoNJ06njHa3ZV+NVnVOIsQoK32Na8A3XFCfhsx1oqIRlhxH7gdOlk7+P/LBwCRp+8XXk/PCph8Jzg4MmQNu4Gko/aI4IZD7Jgy8wfDgbuppjeZ+dwNSKm3V4sYtBmj544dSBCNjPHUTOrwQfo/7AL3gOTIBaX1CNKBU9cDlh5DPA9tWPESEyMgJ+XEU7Di9G+Do+4sPhC0bCtcBxFTfq8GA3sInJpV3mioiIiIiIiIiIiIiIiIiIiIgYn/wfm7XBpi1H58YAAAAASUVORK5CYII=",e.decision="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABmJLR0QA/wD/AP+gvaeTAAAJm0lEQVR4nO2de4wdVR3HP7ttt7uVvgu0sq1tqVQeLY8isTw0BUQsKSiiIqFqojEhWBXUajFqiTFogkUwUXkEHzESTUhbXxF8BKGhpEsrtKgElRYK2yJuC1tp2bLb8Y/fvb1zfjP37rzOOXPv7ieZZM/mzvl9z5yZM+fx+52BUUYZpT5tvgUk5K3AEmA+MK9yzAS6gMlAR+V3A0A/cAjYA+wEnq0cPZV0qSlrhZwIXAlcALwDOLagfPcAm4GHgPXACwXl25KcAKwBtgKBg2MI2AR8BpjuoHxNw+nAnUgz46Ii4o7XgZ8CJ1ku67D4bLJOBtYBlyb4bbWp2YG8B3YCLwL7kPfGwcrvJgDjgWlAN/KumQ8sBpYCxw1jZwj4GfBlYG/yojQ3E4FbgcPUv2MPARuBjwFzC7S9APgk8ADwRgP7rwCrgDEF2i4lFyAv0noXYguwEpjkQMsM4Drg6QZ6epCnrOVoA75I/bvyV8A7PWlrB94HPFZHWx/wXk/arNAJ3E98Yf8OXORPmkEb8FHk3RHXI7vJn7Ti6ELaa13AN5Au7jh/0uoyBbiH+BvoZo+6cjMB+APRQr0EXOhRV1JWAq8R1f9tn6Ky0g78mmhhHmX4rmeZOAvpcuty3OBTVBZuJlqITbjpPRXNQmTMo5tcX52Q1FyGvATDBXgEOManqJycQvRl34tMcJaamcjoOSx8J60xV3Q+0cHsg14VJeAnREfcS7wqKpYbiTbFV3lV1IBzgSOYYj/hVVHxtCHT9uEy7kJ6lKWiHdhG9L1R1vWWPMwG/kfJxycrMAUOAmd4VWSXr2CWt5+S9SD1APAHfuVYpxPprITLvMqrohCnYr47hpAl2FbnBswKeQZpur3zQ0xhG/3KccZk4ABm2b3PCrcTHTAt86rILd/DLPu9fuWIR0hY0G5as2dVj7Mxy7+XnM1W3jZvhUr/BhE2UtiKzHNVOR54e54M81bIZSr925z5NRsB8Dv1P32TOuMYzN7VQUo4YnXA5ZjN1l98CVmqhDzmS4hnpmFeh/3keI/mabIWq/T2HHk1M/sw3yNTkOmVTOSpkEUqvSNHXs3Okyp9etaMxuYQcYpKP5UjryyMBc5EPBSnA68i6/VbkbVwl2wHlofSpyFL2E55CrPtnOvI7qnAj5EKiPMMGUA8XS5xpAdkmSGs4Q6Hto/Sq0RMtGxvDDLNPUh8RcQdG5A23TZXKLs/z5pRniZraujvQWSNwBbtyFNxbeh/h4E/IeswBxAfsEWI493kym+uQNZlzkOmyG3xX5WeYdFWLBMw74j/WLb3VWXvPmBWnd9OBL6B+SRtsKzvbUrfNsv2IsxSAv5p0dZJSPxG1da6hOddjen9YtNldQbm9dhl0VYsx+OuQr4fsrOFdCECYaeL+4uXdpSpmNfjOYu2YpmiBDxvyc4YJFYj63rDktC5/djzJT4O83r825KdunQqAS9ZsnOWspF2INuG6ZCQeQQ9DG/GvB5PZ80o60j9sEqPzypgGF4Ffo9MTWxEJjPTEAAvh9K2ej+6tzpoyU5DBqjdEa/7EJCQ/dR0zrdkYz7mE/JE1ozyzGXtD/09HnNcUhZmURuTHMFeIKd2lT2QNaM8FaJf5HNz5GWLD1CbCn+UWrRu0XSr9Iuxv0pAK1fIm4DVofQvLNrSFbIna0atXCFfo9ar2gncbdHWCSrtpUJ6VXpujryKZjnwhcrfAfBZpBNii8IqJCuzic72lsVBbh4SylzV9R0HNv+MeS224TBAaRwSUK+nusvgz9sJPE5N0ybcRPpuIHo9bL6zDNbEGF9HOfxa76KmqQ94iyO7XcjmB/q6fMi24elE/Vl/ZNtoQq6hpmkIeI9j+x3Aw5jXZjf2ZjEA+Loy+BzlCOZchBlT7iuAZg7RG/ZTtoy1EY2JKEPIWifiZFDV9Ef87uKjb9oeW4bOUYb6sPw4JuTT1DTtRdZqfDINc0EtQPaMTESaF/G7VHo9dvv2Sfl46O9vYW8pICn7iPr7Jl6tTFMhZ6v0QynOtUUHplPael9CFA+o9NKkJ6apEL0fofbW88FkamsRR7C3cpmWrSq90IYRvQlLGaJOZ1PT49pbsRF6jT3x7G+aJyTcvQ2w64eVhcC3gBBVr8oqiZ0I0zjKDWBWSgf+Vwr3IUFC4/EwodeADpXWS96F8ATmYzgSQp+zsgDzWv016YlpmqzdKn1OinNHGjrOMPGW5mkq5BGV/mCKc0ca71fph20YmYcZU3iYFCPQEcQcoiN1a1uYb1aGfmnLUELOAL5UOVZTjh3e7sa8Ro/bNLZMGQswQwRcc5vScrVHLSA7d+v4lcttG31QGexHopp8oCvkI550gHzj5HmlZwsOdrZYgOkAHSATejrm0AVlqZBJmEvH1Xdsrl0d0nAV0aZrDxKp5JJblQYfPb+ZxO8bv7rRSTbQCzEBMpr/HO4WiI4FLq4cFyKLVS5ZSrSZqjo4ePEx+GaMmGrb2QzbiWelG/Gy0fsTB8haiJ46ccrnqf8Ziu046GU4ZBmy41G9SOD7EA8U71xE/Gceqo4QrbCHVhtSlrgyDiIbY5aqnFMRvyi9d29AihWzEnMu8ZXRQ8k3i16MeAyGRSeNnC0zd2CW6W9IN7spvlN1Kab4vZSkbc1IFxKLHy6Ta0e8XIwluuR7vVdF+ViFWZZemuTJCHMTZiF24X6cUASdRMcaa7wqysgkzIDLAAmiaTbWYpbhFdxsaGOFtZiFOYjMhTULeluPZr2pjtKF7GqgR/FeR7IJGUd0/WcXErvY1OgvJwTILG3Z0d3cgBJsJV4U9xIt3HVeFTXmeqJ67/GqqGAmIAMpPd1Qxs8FfZjopOEOWnBP4pMxgzEDZFLyGp+iFCuJTpT2Yck3twycj/S0wgUeQtZQfHMj0SfjNWQOq6VZQbQrGSDvGR8Dx06iX5cLKhqXNzivpVhGNBavOmF3pkMdpxF1ka0+GS63mS0F5yHOEXF35lrsPi2TgFswt5iqHntojeWCTMwh+rm96vEvJM67yEWfMUhUbL3FtB6iG8mMOLqA24lf2AqQCruWfAGmncjH68PRuuHjCDJYbcbJT2tcAjxL/AULkPWIW0i3K9yJSCDoyw3yfQbxWhklhi5kE+RD1L+AAfAP5KlagWxi3FU5Flb+d3vlN43y6EO62y72Qml6uoE7iX6duYhjAPguEk8+SkpmIp7t9bw90hy9SPNla6vYEcVYZN5rI/Hjl3pHP7J10pXk+/CAM0rlR5SQcch0xrsRD5dual3VFyrHk8j3eTcjc1OjjDJKS/B/+/QdvZ909d8AAAAASUVORK5CYII=",e.landmark="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAABmJLR0QA/wD/AP+gvaeTAAAEf0lEQVR4nO3cTU8bRxjA8WddBKkgH6BSVfUb9JSPUKnqB+AYKcUJxwoCJS+0uG820Cio5BKh9hCl6aW3tE0r9dCSYhtsY4yJnRq7OLFbB+OYuN5d7+7szk4P1SJTiirv7K537fkdDZ4Z/Q/WwywAwDAM07+4Tt9w6eoSOe1rK6GJjtfzugEzb3r7rTdPvPbgx5+oD+NFvm4fwOtYQEodf2Zd+eyLUz8DzwwNbksKen9hauw74LhTv6+XmAp47d2xE68TQqDwpAy/rCUEXhDriqrNDQmle4FAQLPkpC5lWcB25UoVVqPJ5v5BTdEwDkkwcntpclQyfUoXsyWgoXpQh4cbSaFYqhAAfXkAuBuBiQuNjk/pYrYGNNTqLyC8kZLyxacEA3cHQPk4ODH+rNO93ciRgIa/mgJEN9NSOrPLAcfd14h2fX7SXzC1mEs4GtAgtiRIpLMotpXBLwH3QFG1D0JT72SpFu2SrgQ0IKTCViaHw7EthRAuJqny1cXLF9ctWdwhXQ1o0DCGx7tFshqOt5CmFbw0S7oioIEQAr8VnsDP4URLVpR9SUIf7r1+9t43o6PYlg0t4KqABgIAhWIJVqNJsdHgBRWr80O873YgcEG2dWMTXBmwXblShV83kvyflQOMdX0R6QPLN6bPi44d4H+4PqCh+vwQIrGUkC+WCYC+LBL95tKk/9Dxg/yLZwIaGk0eovEd6VEuTwhwd5GCPlmcufhHt87juYAGsSVBYjuLYqkM9gF8L8na7OLMWM7pc3g2oAEhFRLprBZNbGsEuChC8sz81KW4U/t7PqBBVTVIZXJkLbYlaVjPIaTOLUz7v7V7354JaMBYh+zuHlmNbIqKivZkBc3aOZT3XEDD0QVvOCHwvH0XvD0bsF25UoWH68nms2oNaRgHrbzg7YuAhupBHSLxbeH3p2VdJ/otKy54+yqgoVZ/AWuxlFzYKxHg4A4mykdmL3j7MqChyQsQSaTldCYPHAf3VRMXvH39XHhkZBhee/WVM8PDL+vg486BTs51uoapX+3wuqNRJ5oQFaRSjTp9FdC4AY/EUgoBiCmSMht6zx8GAIBpv6k1+yJg+zMYH+F+UFU0F5z2P7Ji7Z4O2GjysL65I+08zhPgfF8hSf504cp4yco9ejJgtfbPvJcvlgnhyC295bsZuna+bsdePRXw6CeO/RrSdBxEeGDF7ttrzwc89jOvINYVpM3Vz6pfr4yPq07s79mAVo4iNDwX8NgoQiCuyMp12lGEhmcCGqNIPJnFHIClowgN1wc8MYrIkuWjCA3XBnRyFKHhuoDdGEVouCJg2yjC84J46PQoQqOrAd0yitDoSkC3jSI0HA3o1lGEhiMB3T6K0LA1oFdGERq2BPTaKELDsoBeHkVomAoY/PzL/3x9aHAwLSPvjSI0Og54eMif+gfXK6GJNwDAc6MIjb5+LmwFFpASC0iJBaTEAlJiASmxgJRYQEosICUWkBILSIkFpMQCUmIBKbGAlFhASiwgJRaQEgtIiQWkZOqpXL/+x16GYRjmuL8BujV+3sKfOScAAAAASUVORK5CYII=",e.poi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAA0YSURBVHic7ZxrcFzFlcf/3fcxGs2MpNHbSLItG5AJibEtIfmxWSJjp9YFdgi78CGuFDFFUvshGwIhZLOPrIvKPtjAVliKbAhV2bAphy0egSCgXJKMVVnHGGswfgB62EiypPHMaEYzo3nfV/d+wKYc0OPe8b2jpOLfV3Wf0/PX7e5zT5++wFWucpWr/OlClnsAAHD4C18QywjpopK0SxCELYzzNs6YH5x/ND5COIAEoXSYGcZRZhgHFcaOdw8M6Ms78mUW8K3u7i4iSd8knN8hezyGt67O462qEl0+H2SX6/faqoUClEwGmWRSz0SjWTWbFYggvKRp2lPbDh0aXKafsDwCHt2+vVOUpCcJpZ+tX7OmzN/URCW325INrVBAIhhkkXPnFDB2imnaNzcfPvyOQ0NekJIKGNi9u9xQ1ScJsHdFW5tcvWoVoZRekU3GGGYnJnh4ZEQFIf+jp1L3b33rrbxNQ16Skgl47NZbP0NE8XVPbW39qvXry0VZttW+riiYPHUqm5mdjRjAbVt7e4dtdbAAJRHw4lrX13TDDZ7a1auv7JFbguj4OAsND2d0w9hRirXRcQGPbt/eKUhS/+r2dl9FXZ3T7gAAqUgEE+++mwZj27v6+gJO+nJUwCPd3W2SJB1fvWlTRUVDg5OuPkUqEuETJ06kOOc3b+7rO+uUH8emU2D37nJJlg+uWLfOV2rxAKCioYE0trVVUEE4eHTLFmtbvAUcE1BXlB/7amrq61pbly3WrG9tJZ7q6kbB53vcKR+OCPj2zp0dhJCvttx0U7kT9k1DCFauX18OYN/vdu7c4IQL0QmjoPQ/r2lrk4sJVVLRKOYiEWSSSeiKAgAQXS54/X5U1dfDZ3EjEl0uNK5bJ0dGRp4AcIvlAS2B7dPrWHd3Oy0r+78bd+xwWwmSC+k0Jj/4AEySUHX7Hng3dUCs8gMAtGQC2RMBJHpehWjoaLnxRpR5PKZtM8PAe/39ed0wtm7r6ztp+Uctgv1PoCzf37BmjWxFvEw8jomTJ1F7z72ovn0PyCf6CpWVKFu1GtVfuhOJV1/BuV/+Aq0bNsBTXW3KPhUENLS2yuGxsW8BuNfKz1nStp3G3ti1y0U4v9Pf3CyY7aNks5g4fRrNf/9PqNlzx6fEuxxCKarvuBNNf/cDjJ86DSWbNT226pUrBcLYXe/fdZetr0C2ClitqltdHo8ulZWZ7jM1NIT6fffBs6nddB9vewfq7tmHqWHzb2tSWRlkj8fIxONdpjuZwFYBObDDV19veudNR6PQBQH+XbdZ9uW/bTc0EGRiMdN9Kurq3JzSnZadLYKtAoqyvM1TVSWZbZ+YmYF/zx0Asb6XEUpRvedLSMzMmO7j8ftlURS3WXa2CPY+gZxf67KwO2aTSXg2mp+6n6R8YzuyiYTp9rLXC4Pz64p2OA/2CmgYfivrn57NQqotPsEg19VDzeXMt3e5wBnzF+1wHmwVkHHuoqL5yIhzDlLE9C0WIooAY+b/wyawVUACMM656faS1ws1an4N+yRadAZyuYW3Rc7BAfMDNIGtAlJBSBuqarq91+9HJnC8aH+Z42/D6zc/Iw1VhSAIqaIdzoO9yQRC5nRNM928qq4Oidd6wBmz7IobBhKv96Cqvt50H13TQChNWna2CHZnY0aVdNp0Y19dHSRmIPHqy5YdxV9+ERIl8NbWmu5TyGQAzkcsO1sEe3dhXT+UTSbNz2EALTfcgOgvn0X2HfOZ90xgELHnDqBl3TpL48smEophGG9a6rQE9u7CwGA2HjcfVwBweTxYfdNNmP63H2L21VcWnc6cMcRf+TWCj/4zWjdsgJWYEwBys7N5Bth6RmJrNqac0sFcKuU2dB2ChXDGW1OD6zs7MfXKS0j+5tcfpbPab4bUuAIAoIUuIHMxnSUT4PrOTmu7LwBD15HPZMo8hNgqoO1B2OCuXQMt69ffUtnYWFT/dDSKZCSCdCIBPZMBAIheL3zV1ahqaIDPwpp3OXOhECZPn36z8+DBW4sysAC25wOZrj83Fwp1VDY2WptfF/HV1VnOOpshEQpldE37ld12bT8TIZr2m0QoJDDDsNt00TDDwFwkInJB6LHbtu0Cdg4MhIkgvDUXDtttumiSoRAXKP3ttt7e4l97FsCRUzlDVZ+cnZiwNeK/EmYnJtKGrv/ECduOCKgw1pNLp418avk1zCWTyKfT2qTf/5oT9h0RsHtgQOeG8dTM+LilmNAJomNjWc75T+5+4QVHFmXHKhNEXX8iGQySS2e7y4GWzyMZDlPC2BNO+XBMwI6BgRil9Ofhs2eXTcHw2bMKBOGZrkOHZp3y4WitnmoY/x6fnGRWUlx2oSsKEsEgo4w95qQfRwX8s/7+SVB6IHzuXMmfwvDoqALOn+3s7Z1y0o+jAgKAoCjfj50/b1g5BL9SCuk04tPThqBp/+i0L8cF7BgYiMEwngp+8EHGaV+XCA4NZcDYkx0DA+YPjYvEcQEBIG8Yj2RiMTUbjzvuKx2LIRuLFQS3+xHHnaFEAnYPDGQMxv5m+syZNCwcOhVD8MyZtGEY3+ro6SlJDFoSAQFgS3//c1o+P54Mhx1TMHHhAlcVZXzLm2/+r1M+PknJBCQAVznfGzxzJmfl4MksuqYheOZMjqjqV4jNR5eLUTIBAWBbb+97HHgpPDJie2AYGhpSGSEvdh4+/L7dthejpAICQCGd/vbs1JRi54aSjccRDwYVNZ1+wDajJim5gJ8/ciTBGfve1KlTaStVDAvBGcPkyZMZzvnDnz9yxHylkU2UXEAA2NLf/19aoXAicvbsFU/l8OioqqtqYEtf30/tGJtVlkVAAODAvpkPP1Sv5A2lkM0iOjamcs5trXu2wrIJ2NXbO06Ah8cCgXxRpR2cY+L48RyAh7p6e8ftH6E5lk1AALi5t/enej4fiJw7ZzmuCY+OqpqiBDr7+n7mxNjMUpLivOefP+rOe6V1BLSZAo0AXyEIpAmEtErJREvzfz/edn1XJ3FXVpqyl0smMToY4FP3PjisV/inCefjhsGDnOICZyTCwabdGW347ru3On7x2lYB9+/ndO3mdz/HudFBKL1RoqSDgVzPDKNWEoW8LIsokyUqS6LLJYmCLImQJQH8dwPA6y+jratr0WsOwEdTd/jYMdDb7wS23gJVM6BqOhRVN1RdVwqqxlTVgKbrbioIMcoxojEjQBh/3yA0MP72pvf27yfW14wFuCIBnw4EJM8M7wQhf04F+heMsQ5ZFNUKr5t4y12+8jKZustkuF0SCF3cVeKxf4UvPYdrrlu8hDk4OopspR9V3/nbRdtxxpFXNOQKKvIFlWVyhXQ6W+CKpsuU0kFmsIOcst82y9nj3d3dRX/9oygBn31jcKMsCt9gnH9FFkXir/TI/kq3q8JbDlk0fcfm92CFAuLfvR9Nq1ZiobKQuVAI05NTqPnRE6AWarEvR9UNpNI5JFJ5JZnKqYqqcSqQA0zVf7b3tk7L18BMC/h0T6DcI5FvCJR+RyCkuqG20tVQ6xPcZfZd/NHGPkT8hz9A2+bNnyoeUnM5jBw7hup/eATSmrW2+cwXVERiaSMym1QYR8xg/HFprvCM2fVzSQH37+f02i3v/DUFebTSWy62XFNdVul17P4yMi+/AP3wIVzX0f7xesgZw+jgIKTtX4T3y3/lmO+5dB7nQ/FCKp3TCMd3R9/e9MxS6+WiAv6qJ1DLZfq6t1z+zNrmeq/Pa2uB+/xwjsSP/gWeVBLNFwsop4eGka3yw//Q94u6lGOVVKaAD6dmMtmC8p5O9dvv2dG14KnegqM58NppP5WME00rqq5ZtaLG3m+ULAHLZjH7vQfQvGolQAimJydR++iPQSx+nOdKmQjOqsFoclrJoH3flzfOW1u9YMxAZeM/6ut8JRcPAKjHg8oHHsbk8DAmh4ZQ9e2HSy4eAKxuqpHr/d7msnK+4NHogvWBjLG/XNlYXXLxLiGvvRa+vV8DAFs3DausXFEjR2bTdwG4b76/L1xgSQlx+PhiScq371jeAQAAOD7+itw8LDyFQV6cDMdLX1LwB8b5UFylhDy/0N8XFJCpwoPRWPrC+Quzqh2Jzz82OOeYCMbUaCIzXciRhxZqZyqMcZdJn13bXFdeVbG8XzEpFYlUFmPT0Vxe0U4XHcZc4vJA2utxC6ubatxOBtLLyVw6j/ELsXwmU9BtCaQv5+meQLlXxn2UCA8SQmoba32uxtpK0c5XueUgX1ARmU1poeicyhmPGpw/JqeUn9v2Kjcfz74xuFGk5OsgZK9dyYRS8alkgqYzDnaA6OwZR5MJ82FnOstu/qDTWQtRbEJVkkQQAgiUglICSigEgXx8m51zDsPgYJyBMQ6DMXAOaJr+x51QNcullL4g0CbGUEuAOgLeIklCC4AGzkktAJFx7gGYzDhkMO7igHBxkAYoUSiBClCVEpLlnOuUIMYIwoZmTHOQKQ5ECeFRxviFUqX0r3KVq1zlT5n/B4HKFM4hiX7YAAAAAElFTkSuQmCC",e.staircase="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAFfgAABX4BPgLDIQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAABTESURBVHic7Z15YBTl+cc/78xsSDbZ7CYoIAJyCRErqKCGHEAUFUFQqq3W++dZLR5VW+tVRWs9ilWqLWqrpfJTq2Bp8aKCRszBZeUwyCEqqIQzJLs5dpOdmbd/TLK7OTbZZA8S7PefZOd43nfm+77vc7zP+46gm6Oy0OVSbGaWkMooU8gsgRgFsp+EXgLsQBpga7zcD9RIqBNQjxC7pZSbFSm2SMxNRoq6JXNcpfvQPU3HEIe6Ai1RsSpzgObXC6QQEwVMAobFuIjtEj4SQq6wCVuhPadiV4zlR4VuQUhNacYJumleLmAmMDyhhQu+EPAPIdUFjryDmxJadpvVOUSo/dh+lCGSLkHIyyWMOVT1aIH1IF5W/f7X0gpq9xyKCiScEE+pIwupPCQlFwBKosuPEH6E+LuQxiPpedVbE1lwwgip+th5slDFbKScSvcloiVMhHjXFPw6I6dqXSIKjDshFasy0zVDfwgpZgFqvMuLE3QpmNvQkPRgn4L9NfEsKG6ESIlwFzuvE4JHgcx4lZNg7EWKX6bnVS0QAhmPAuJCSMWqzAGabvwZmBIP+d0A72rYrkvNO1Aea8ExJ6Sq2HmRgBeA9FjL7mbwSMm1rnz3wlgKjRkhsnRAikfWPI+Ul8dKZk+AELzgcLtvEVOpj4m8WAipWZXa19C1xcD4WMjreRAliqnPdEyo2R+1pGgFeEodWdJUlgLHRCurh2OHwJwSrd8SlT/g+diRK02lhP+RATBYopR6Sh050Qjpcg+pLHJNUoRcAjiiqcBhCI8ixHRHbtXHXbm5S4R4ijPyTMz3BaR05f5IcaBK8uLiBpaW+vl2jwnAwH4KU3JsXDMziSNc3SI22hbqhGKemZ5TXdrZGzv9RJVFrjGKkCsAZ2fv7Qz+8YGfWY95qfW27X+lpgie/VUKPzzD1ub5boAKRTXyHeNrNnfmpk4RUrnSNVgxzBIQ/TtXt85hyQo/V9xXh2zkQlHg6D4KQsB3e01Mq7MgBLz8GzszJnZPUiTskkLkZuRW7Yz0nogJkYUke2zOUuCkLtUuQhx0S8ZcVI2nxmLjx2fZeGRWCn0yrarur5Tc+6yX1//tB8CZJlj/uoNMZ7cdvtamZ7jzxPE0RHJxxFaW2+Z8hjiTAfD8m/UBMi6cbOOF++0BMgCOzBC8cL+dH59l9Qp3jeS5RTHxyeKFUzyVzqcjvTgiQtwl6ZcJuLbrdYoc7xTpgDVMPXxTMiJMw599YzKK0vyebowb3cXpl0RyYYeEWBNKYl70dYoMO3dbCmJwf4X+fcJXr/+RCsMGWOe/3mUmpG7RQTzvKXaM7OiqdgmREoGpzMPK7EgI/F1o7DIugfCYI02iPNvRRe0SUl3qulJamR8Jw/CBVpV2lJuU7wvf8sv3m3z5nXV+6ICeMgHJZHdJ+mXtXRD2STyrHb2llHNiX6f2ceFkS1mbJtz/J1/Y1v/APF/A/J2WryWodjGAFHMqC12ucKfDEiL9ysNA77hUqh1cOzOJ3o0m7KLlfq5/uI59B4Os7K+UXP9wHW+8HzR7f3phr0RXMxr0VWw8FO5kmzaMe0X6sajic+CQNL3i9ToX3F6Lr9Fy76mOYTvwS0mWK9/9VcsTbRNS4no5kRNN3+4xWVNm8N0+EylhUD8FU8KDz/kCMayWyEgXPHt3Cufm9zgyAJCSv7ry3Ve3PN6KkMbesZk4ZYjoBpRtN1i10WB1mc6qjQbl+1u/dEWBYwcpfPmtycB+CuX7TBRVcNwQhXNybVx/QRIuR7f1ziOBXxqMdE10fx16sNWQJBTxCxlDMqprJWvKrJe/cqPBfz43wgYMQ2GasHWHRZSnRvLaY6mccVoPUt4dwyZUfgncGHqwWRNrnIrdCUStJYs+1bn/Tz7WbzXa9RN6OwXZozXGj1EZNkDhoFtStt2kZINO2XYjoC9SkgUr/pLGyME9xsSNBD7FNAaFTv02a3Kmrl1ODMgoXqcz8/baNp28wf0Vxo/WGD9aJXu0xohjlLDhkfJ9Jvf/ycei5X68PsnPHq3j/XlpgZDJYYBkU9EuA55qOtDsVbiL08tAHB9tKQXX1fDpZgOArMEKE8dpjB+tkT1a5agjOvc2fQ2Qd1U1X3xjdZXHbk3mxh/1KDO3I6xz5rlPbvoRIKSyxHWiImXU+atrNxlMvsHKthw1VKXor2lobWikmjrJN3tMRg3tWF2VbtCZdnMtpgn2ZMHqBWkMOurw6SaqooxOy6n8DEIcQ8U0Y2LmvvTPYNj/+guSAmTsPmCyaLmfXzzlJf/qGgZN8TD+ihoe/rOvQ5k5YzSuPi8JgDqf5JYnvD0lfhURTGle2vR/sJkJcV60gg+6JYs/tDxoR6oIzFn8q9DPCRdWc82DdbzwZgMbtxkYjcp681eRRWpn35jMgL5WdQvX6rz6XkTzPT0CUhJ49wpYU7PEYOnYK+814K23mu5PpthITbFGxEdfqg8bxc0ZE5mFnWYXPHVnMKfinmd87D7QmkyvT7J8tc78JQ2s+ETvKT0pq2JV5gBoJETVOT1aiVI2H66uPt8aYlZu1Nn8taXgR49QefsPqYwfHTTuJmdH7mmfNV7jJ1MsuVXVkjuetIY7XwO8XeTn6gfrGHpuNRfcUcutT3iZcVstZ91Yw56K7s+K5jdPh0ZCpKAgWoGFa3W+agyH552ocdwQq+XP/1eQpJsv7sW4USrrtljd5eg+Clnt+BW79plMvqGG839eG5jWfezW5ICl9k6Rnx/eUcvw6R4uvbuON5f7qfM1f/lrygwuu6c22seLP4RZAAEdIidGKy+0d1wz02rFlR7Jvz6yXn5GumDGJBtF64xA0HByB573XxY3sHaTQeFanbvmWr3B5RDM/WVw6PpgtU51bZAEl0Nw6dQkHr81JTDjuHaTQdl2I9pHjDPEJACtuiStjykZGI2oCrfkvRJLmffNFExvjL6+tjRUpySRnAQfrPEH7jvj1PYJKfo0qHhefa+BGZM0zsm1cXaOxuXTkljwjsVsplNwbr6N8wpsTByrYWsU62uQPDDPIvLbvSY/GN6tF3AN9qx29NaktI2A6Oakd5ab6I0NcEqeLfBC5i8J9porZ1i95oPV1kvWVJh0SnhCauok67Y0b9W3PeEle4FGRrpg7l0pTByncYRLkH+y1srXcddI3ikKkj+wbw/wW3RGaGB2OPHeEYYPVFAVMExYWuzns5lJrNtqBIKD40drZA1W2LnbDHjcY0epONPCR2tXbjQCJAthGQ17KiS/eMrLXx6woyrwozObGwRen+T9lTqLC/0sLdXxNuqTUUNVjh/WrXtHI9SRmgkjow1ip6cJrpyRxEv/bGDvQUne/zVfF3nbZVaoo6l3AEw+rX3rqnhd8Nr7r0vmdy/X4/VJFi7zc16Bn+kTrPu99ZJlTSSU6K2Ueka64Pn7UsLGy7oVpBypITg2FssXfzsrGXeN5M3l/mbHrzg3iSk51tAUSkiH+qORECGs4S49TXDn770AzHrUy8oNBrsPmPy7VG8znG9PFpw7QWP2jcn0P7IHDFcWjhXuYudKIDsW0qSEd4v9vPxWA0IILjrbxvkFNoSw0nuGTPNQXSvJdAq+fCs9bNS2ulYyeKoH3YDjhqisWpCGlHDZPXW8XeRv+yYsC+ucXBvTJ2qcfqpGSq+e0C1CIUo0kI5YLTUUAqbl25jWxrTq6rKgeVpwitZuCD1Uf+SdpAZkP3dfCjf8hmbKum+mYNoEGzMm2sg7KWhh9UQIpEMDkZAkuM4MV6H6IzQa7EgVvPqonW/3mHy9y6RPb4URg5TDZn5EgkMjQSugNm4LmrATx7ZPyMqNQUJ+PsfL7Od9nHCsygnDVU7KUjk7R2NCBzJigb8taeiUej12kELuiVHVy6GRoDTRfZXWo/WyWSGT9jCwn8KasiCBVdWSok/1gKPYywZP/DyFqxp9m3jhtjnewBRyJLhyelJMCEmI5ktrjPz6DfDVS1KSwxf73L12Lj1HZ90Wg/XbDDZsM/hmd/DN1Pvh1ie8pPSyDIfDCRpQTQL2IjkpS6V0g45pwivv+bl2ZvjWnWSDM07TmmWZVHokG7YZLC3ReeHNegwT7nnGy4Vn2lDjrEOOOUrhoZuSI7ouSlQnjJALzrDxx9ethTV3Pe1lZ7nJaaNVjh+qcsxRHSvmjHTBpHEak8ZpeOsl85c0cKBKsqZMbxbOjwecDsH5BQnpidWahOpEjFlfhazh0A34w2v18Jr1254syBqicPxQ1fo7TOW4oSr9erdds7GjVOYvsf4v224yfnS8a58YCKjWhNVD4o4lK4K+g6YS8DPAmif/dLMRyFRpQqZTMGqoZVXd8pNgpsmwkOUH27/t7mH1yCGRHk0K9oo4T6h5fZJlqywLyeUQlC1yULrBYP1Wg5f+WR92Ru+gW1K8Tqd4nc7Y49SABTNsYNA32f5N5yPVbxf5OVDZ8UMnevpXIPZqimRLvMtdtioYeZ2So+FIFZydo3Fmtsa8hZZecTkEb81N5bPtBp99YTb+NXA3zhR+9oVJ7omWvL6ZgjS7oKZOBhbtdAa/X1DPfz7vfj1LSrZoCLEt3k1hcWFwuJoxKagcN2wzqPRYZU8YqzF6hMroEcHWv2yVzoV3WtOvX5cHX6AQ1rC1YZvBzt0mvgZIjq9LkiCIbRrC2IqMn91Y6w0OVym9BAUhk1JFISGSvDYcqlAzcmd580YztJEQ07QmyLqa8zv/IXuHofn25m1iC3OrhsrWKCcMw8Lrk1x0V10gqHj6qRr2EIdwxSdBQiaMbT2BdEx/yxw2TWvNYSiGDQwS8OV3RpcJOW+SrdvEwkxd2aqkn1ZdAXwba+Fen+THd9UFwh0pvQSzLg6OK37diuqCpROyBrcmpJeNQIbJjt1ms5G1uaXVE5ZFd4gdGQVVVU1pQMtiKdlbL7n4V3V8/J9GMpIFrz9uJ2dMcFhaUxacWMo/WQs7bAzpb714r0+yN2St4bABIZbWYUCIkBYHmvVDfgii1fKqrsDXAJfcXcdHn4SQ8ZidieOCZJgmzH01uB3G5OzwnvbgoxWK11v/7yg36dfbIqLZkNVIyMqNemAevz3sj8DkTTRMwQfQSIhm6h/qik0SZaDR1wCX3l3Lh2uCZLzxuL1ZqNw04WePevl3qXXNkRmi3UWbTT0ELEKyT7AIOcIlcKYJ3DUyQMjCZX5eXNwjc36lKoxCaEyUS51QtxuIaq/Aej9cdk8ty1cHyVj4RNtkNCVK2zR47j57IAe4LQw+OoSQFltoDOxnndtT0bOHLAmbHLk1+yB0BZUUryPkA10RWO+Hy++tDZi39mTBwt/ZyTupfTJefMDeYfbiiEFBQj75XKdpgVe9n8Bi0bYWfz5wQ3JEOzx0h2wUIeXrTf8H3oZU5AIh+TVdGLbumBMcguzJgoVz7M38irbIeOlBezMnMRxOOFZlyNEKX+8yWbZK595nfZw4UuW1pQ0cdFu6oC1SJ47VGDuqJ+RiYZqKsqDpR6AJuXLdXyLFys5KK9tu8P/vWi861mSA1YIfvSW4FdOzf6/n2tl1gTn6NLvgnms6nqvorpBQHLrjXLM+LYVc0PqW9rFsVXANxr3X9mpFxk2/7ToZTTgn18a8e+2thqb+RyosmmPvSZvPtIICzd55s76u2MyF0q88ifWxrYhQXRc0IUPX/Rkm/Oy3Xl5bGh0ZANt2mvjqJbde0osPVut8t8/k+GEqBadobN1hsnWHVcbWr3uccq81JW+GHmhGSPpp1RVVJc55QnJHpBJD03T+8Go9OWM0nGmCmx+LDRlg+Re3PuFtdmxHudksP6snQkr+6Mp3V4Yea6UNtQZ9jm7Tbop0T95peRp9MwV7D0rWbjIYeZ6HXkki4IXbNHhpdo/cICaukODVbPrvWx5vRUhaQe0ed7Hzb8BPIxGckix4+ZFULr6rlkqPRDdAbyQjJVkw/yF7ILc3FrhyehKnd5BoB91/UzOBeDEtu3Zvy+NtP5kin8QU14Y93wLZJ6isfcXBYy/5+HCtZf38YLjKXVf1ivkimTEj1EQlHMQTfmnIVr0DwrxwZ45ne1Wx82kBd0ZawpEZgifviOvO44cNBDzpbLELUBPC9usGf9JsIfkuftX63mJHTXLqw+FOhh2S+hTsr6kqct4u4I341Mtam/jWio4tpZUbuv2+vBFDSHF7/3HldeHOt6sjnHnuRdUlzo/itTPprr1mK3P2MMfy9Pyqxe1d0K4pIgTSr6mXAwdiWq3vJ/aofr3D/WQ6tKJ6Zx/8zl2cfgWIt4njFzonjNW45vyOU0fGjOgRAcOWMKTg0ki+rxuRWevM87znKXY+LuHu6OvWNob0Vw4HczYMxCOu3KoPI7ky4hbvSHY/AKKk65X6fkLCx+n+qrBWVUtETIgYh99IFtMEbOxa1b6XWG9o6nRRQMRmYqd0Qua4SremaFOBbzpdte8fdmrYpvXOPujpzE2dVtL2nIpdCupUoLLDi7+/OKiYxtSufCv3f5/Niz0S/9m8JlR/nDbKVNSlEN1uQocRvlFUY0pnv8wWiqj8CseEms81bNkSPotGzuEAARs0bOOjIQNi4Oil5h0o1zT9TKDTCRKHD0SJMI0zY/F99Zh43mnZtXvTy935SDEb6H4rYeIHQ0p+lZ5blR+LL0VDHNaoVxa7ChR4BeRRsZbdvSDLFVO5xDGhakUspcY8NpWRV1Woa8qpwNJYy+5GeFcj6ZRYkwFx3sXBU+Q4VwrlGWBwPMtJILZKwU2uXHdEcamuIK6ZAOn51W/rmjoGIefSs3WLLgVP1vuTxsWTDEjQPicANYWp/cwk7TYpmQWkJqrcKOFGiqdVm39eWxki8UDCc789hY4jpKbOQsibScCWHl3EQaR4RiQZzzQu+UsYDlky/sFPMpyK17xICK4Cxh+qejSHKBHI+X5NfaOzQcGY1eBQFNoS1vd2lauk5AJgeEILF3whJIuQ5vz0/OptCS27zep0M1Ssyhyg+fUCKcREYSVXRP3VhhbYLuEjIeQKm7AV2nMqdsVYflTodoS0RGWhy6XYzCwhlVGmkFkCMQpkPwTpSJFmbeIZ2BWvBkQ1QtYg8SDEbinlZkWKLRJzk5GibskcV+k+lM/TEf4LUCv274bICPEAAAAASUVORK5CYII=",e.ticketGate="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAABmJLR0QA/wD/AP+gvaeTAAADiUlEQVR4nO2cv2sUQRTHPyZGQ7QQUbG4axUUUQkWoqUgFloErMUUWgqC2IiCBFHwH/APMKKNYJFGEIKJlcZfhKBCCjH+Nmo0aiTJWcwcN3fs7e3evJ3dw/eBI5e3c9/35mXuO3vcbkBRFEVRFEVJwaoO0SwcW4HLwIcMtGeBa8DODLRzpRc4DowBFechjas9ZnP2ZpDHizJwA3gLzADDQClm/AAwTW1i38i+gW6OaVtDM9LOx4sS8Jn6v3TFxqKSXnLGTADHgD6yb2CfzTXhxIYixqedjzfDNsGITVCyzyv2mMuQjS8AJ4Au51jWDazSBZy0NVSAiw3j08xHhBkrXnZiZRubcWKHgGVb+OEInVANrHLE1rIMHHTiSecjRpKEG4B3Nna6iU7oBgKcoVbnehsL3kB3yZfto7rkr9sxV+3v96h/27rk0cAuYNQev2JjSeYjSglzrtVourP22GZgHvNW2RWjk0cDAfoxtf0ENtF6Polotkra4RRmB7wNPBHUleIRcAdYg6k1OHG71k3gjX2+t4VOXisQYJ8d8xpTc2F24UX780UCnTwbuAJ4RX3NwTaRZgW6/nHOQ8eXpLoXqK+5XZ3UJGngbg8dX5Lq7qGgDfwKdHvo+JJUtxtTq0gDJXfhUWBJUC8rloD7UmKSDXwmqJU1z6WEJBuYZAcuCmK1SjbwpaBW1hSygR8FtbLmk5SQZAN/CGplzVweSVtt+0m/Fcv7NAZgdcz4VPWtTDowhuqXRX8FtEKxQK3uYEitnCKsQDEdSQ/8L5Fo4DiCZ/YBEalbooHLBPYSIYLXrR4YgXqgJyE8MC+PDFJXCA/MyyMLV5d6YATqgZ6oB3qiHhgQ9cAI1AM90c/Cnuhn4YCoB0agHuiJeqAn6oEBUQ+MQD3QE/VAT9QDA6IeGIF6oCehPXCbQD6pHB3jgWuBQeABMCmQrxWTNtegzd2MwntgP+YW/Dnntd9tbL94dbAd8+8Evjj5fgG3gAMpdIJfpe+yDnN/8GNnfAV4aONxK0KKXuAocJfaKqsAU8BZYGOL1wdv4DjwFLOy5p1x1X8CsSOLYhKyBbMq3zt1/cGsyinMJW6NBG/gb+fYIuZ+swGgJ4si2qQHU9MItVu8KpjaGwnewGr8PPX3nRWVMqZWkStU0xA8YcaIzEdPpD3RBnqiDfSknav0O9Hv4vCaj65ARVEURVEURVGUjuMfWbTN9E0AqgAAAAAASUVORK5CYII=",e.door="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABmJLR0QA/wD/AP+gvaeTAAAC60lEQVR4nO3dMWsUQQCG4TcXLBRsooWdGAMWgphekYjlpcgfCNikPTtby5S2dtZpjFhqIZLGyoBa2CkkkICHRUBBNGcxJ5ybi7e7mZ395vI9sBBIMjObN7dzF9gcTI9zwArwFNgHdoFumws6jS4C94FN4DswKBw77S3t9LgMrAEvgJ8cjVA8rAGLwCNgm8kBHKQBs8AS8Bj4TPkf/rivtZrOAsvAE2CP8hE+AuvALWBmzOetgjlgFdgADigX4DewBTwEro0Z00EqqropD4AfwEugB1yaML6DlHCd8Bu9BRxSLkKf8MhZBc5XmGtSkKpPCo47snqdM0u4pq8Dnyh/kl8Ie8gycKbm3KmCDMjkdU6XapvyNuEp7WKk+VMGyeKSuMP/T+AX8Bp4AFxpYH4HKRi36Cqbcuz5cxs/uuKCVwh/+Gtr/qzGn4k9IEcX2cQcbc7f6PidmIPZyTmIGAcR4yBiHESMg4hxEDEOIsZBxDiIGAcR4yBiHESMg4hxEDEOIsZBxDiIGAcR4yBiHESMg4hxEDEOIsZBxDiIGAcR4yBiHESMg4hxEDEOIsZBxOQcZIHwbzU+AFdbXou0VDdFPh+Z41nC+bO/6bMp30bm6Cecv9Hxc75kTaWcg7w55mMrSHXJWiBs6O/5d1PP+pLl+9TFxs/5kjWVHESMg4hxEDEOIsZBxDiIGAcR4yBiHESMg4hxEDEOIsZBxDiIGAcR4yBiHESMg4hxEDEOIsZBxDiIGAcR4yBiHESMg4hxEDEOIsZBxDiIGAcR4yBiHESMg4hJEaQH3Ew0VxnSb9ed4qbPvw6At8Cr4fEOOEwwf/EcY/9QU9/UWtmkN7gf/e8Lm8R/BKV8g/udSGtuVBfYo/rJxQqUKsju8FyjavLhNg/cGx53gQsVv7/uJa7t++RPJOViUwVykJqaCpR1EBUdwr7RI+wjfervQUmfpsam+tvTAW4Ad4Al4DYwV3Ms1XPM3jywBmwAXxF5IRfbH0Ok4hC5QW8AAAAAAElFTkSuQmCC",e.routeA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAEbUlEQVRoge2aXYhVVRTHf3dIZ0zUsWZknBTHyYKocPzsQexFH0wpTWgSaxqDgqCExHzoKSIF3/RBMBQRCizFKEqajKGHCrMPFcY+xo8mR1KpMdNRtBzH48Nam31nvOfsve+cc6+Ifzjsc89Z6/9f+5x99l577wu3CXIZcg8H6oHR+rsXOAX0ZaiZCiqBpcBWoBMJOBp09AG/Au8CTwHDyhJpDGqBdcA5BgZ9DegGOvQ4qdfybf4G3gLGljzqPFQAK4Hz2MAOAGuAGUjTGoxK4DHgTaRyxu8s8BLZNvWCqAX25gWyB5hdBM9coD2P52OgOqUYnWgAjqjwX8CTKXAuwzbNDqSTyBT1QJcK/gSMT5G7AfhZuTuBmhS5B6AS+QYiYB8wKgONe4BDqvENcFcGGmxUgWMqmBXqkB4uAtamTT4T6Af+B6YF+C3CfsiLAvzmIF31VeDhAD8nTM+yPtBvJ7YiHwb6blK/zwL9YjFDCc8DYwL8qoEryJvs1/OQrrUGuARcBx51GVd4EL6o5TbgQkAgzwJVwKfIU60CmgP8zwLbkUFyRYBfQeSAM8gbmRro+636NSOVMj1RCGapX3eg3014SIlOBfpNQZpEL3A38jYuKNeDATw5ZNCNgAeSDF1Nq0nL7wLEAVo0iE+Ay8B/SBMDWB7AY8YsgOlJhq6KmKdwJEA8Bzyv5x/kXTfnrYQlh0Z7SpKRqyImve4JEH4caFSf9rzrXyJpewOSLPrCaCcOwq6KmFT8aoBwi5a7GDgbvAbsHmTjgytaViUZuSpyUUvfvGoE8Iyef4G80fyjTe81q60PzNiV2PW7krJzWtZ6ij6NnaMnjcijgSUM/IbiYLT/TTJyVeSolr75jmkyPdi3ORijkOBewK8iRrvTM4aCaMROoFw9TT12Tp6UWE5Tm37gPgdnDukgImCyR7yJ6FaiJofdGrX7zYPzF7V9w2E3Xe1Ough9cq29Wi522JmxY4cH504tVzjszDT6cw9OJ+YjT6WL+OZlnpwzlVDcj6QwSc0wBxxXm3kB8caiAjihhAtibDbo/f0BvN+rz4aY+wuwCaNPy/HCaiX9kdKtPe1XzdVpklYhGXAEPJEmcQwWqtYZJHtOFauwy0BZvxXT7F7PgnwEcFoFnstCQNGiGqfxT2OC0aoiPcC4DPjHIVPcCBn5M0Ubxa2K+MCsurS5DNPAJGQKGyGJX1pYrJwXVaMkeFVF/0lJtEG5IuC1FPi8kQM+UuFDDO2jrETGJ7MYV/I9kmpsCrF5CDxblOMEcO/QwyoOTcgqSQS8XIT/K+p7GXd2nTlMl9xHfC5WCAvV5zol6Gp98Q5SmV78nuwj2L3HtzOMKxg54H0ksD9Jns01YvO29yjDx+3CcOArJMDfKTyNnYDdumun8M7vLYGRwNdIoEeR3SeDWuTPAhGyBJvF1l2qGIMdFzqQLrUaOIgdd8r6B4EQ1GB3aH/AVuwwZRwrikUddj8+0vO6RI9bGBOBP/SYWOZYhoxGPe7ABzcANvIdFIEv9s4AAAAASUVORK5CYII=",e.routeB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAEWElEQVRoge3aXYhVVRQH8N9IOZqZWo5MljUNBUGGX30SQZCRCWVERBQWQUJQQSI9RA8RFfQSFAVF0Uu9VBA9KIlkRUXfljWJaOWofWhqmWkZaXp72Ptwrlfn7HNnzpmx6A+Hc+6cdf7/te7de6119h7+I+iokXs0puKE+Hk3fsT+GjUrQSeuw3NYJzjcaDn2Yy2ewTU4dkQ8HQBdeAQ7Her039iMvnh8F//WbLMdD2DSsHvdhFG4G7vkjn2GezFHGFqt6MSFuE8ILnvuZ9yu3qF+RHRhRZMjy3DBIHguxcomntcwsSIfk+jB+ii8DVdXwHmjfGj2CUmiVkxFfxRchZMr5O7Bmsi9DpMr5D4EncIcaOADjK9B40Ssjhrv4ZgaNDweBb6JgnWhW8hwDTxcNfl5OIC/MKvA7kWH147sOICfsFR6Xl0ipOp9OGcojrciyyyPJuyKAmk9nkhwPRXtlg7a6xbMiYS7MCFhmwWyFr0tx0VYLPwqWTBXFnBNxu84iHMH736O7Jt5rIRtFsgXBTYz5O3L8wm+J9vQLkQHtkayGSXsywRCnpmWJezOj3abU8KjEvfPFrLIFnyZImsDx8XzuoTdKqEfOw1nFRmmApkZzx8mXSuPBYJT+4QuuAhZzYLZRYapgpN9C+tT3rVgPOY2fR6HabhMCOQPLMS3Jbgy7TOLjFKBZO31jhKCzejFGwPc68dteLckV6ZdWIRTgWSt+L6Sohn24OOWv00SfpVevCMM15uwKcH1ZzyPKTJKBbInntvtqzbgigHuXS6k1YvxNqYLQ20gZLXrtyLB1GTfGc9dCbt28Cauj9c9uDlhn2n/WmSUCuTreK603xEq//Z4PSdhm2kXpupUIH3xPFu1r6Fj5ZO3aFWlQ96krikiTAXSL7TUU5Sr7GVxi3x+FnUBs4Sh9T02FhGWeXFZgUVC/k+1Hhk6hezUjOOFOXGD8GpLaH9eKeDJ2v3XS+oWYq5QYfulh1c7bfw2xQsWHULBbAiZbsgYJeT6BuYlbFOB/IL3cT9OSnDNkzeMqSlQGksi6aeGb+3po6i5pErSMcK6bQNXVUk8AOZHra3yTrkyLJYvA9X9q3wcte6pg3ys8F7SkK7GQ8HCqLElataCW6PIDqG2VI0pwjpwQ6g1tWJ5FHqpBu6XI/fyGrgPw+nCpk0D11bIuyBy7okaw4I75XWhCtGeyNXAXRXwlUYHXo3Cqw1tUnYK9SlbjBv2PZKJ8hbi6SHwPBs5NklX+9owE3ujI4sG8fwd8dm98hWbEUOWkvdL92LNmB+fOWgYUm1ZPCQEs1u5b3a6fO/xwRr9ahsd8s73B5xRYNsr79teMAKTO4XReEtwcANOOYLNqfKtu5WOvPN7VGCcsPDWEBYuupvudQmLDg1hTauOrbtKMUFeF/qElDoRn8vrzoj+g0A7mCzfof1EHthXRrBWDBbd8v34RrzuLnziKMY0YRlnY7z+VyPbQ/wfZfAP++My3madvrIAAAAASUVORK5CYII=",e.marker="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAABfklEQVRIie3WMU/CQBQH8NfaD+RgIuJEWP0c7C4aBpyMTIY4aVxNnB3UCLakTgxOJiY0aSElkVDUNoECLeVdz+kMKYYo7cEg/+nSXvq7XK7vHcCKIkQf5PIlysaXxf2Z99zgWjb7DW9I0guZTAqpavVWAKDRuYnDm3t7AADQ63aho2mDwPdtgng0RrzOqCpyh1mGjgOdet31XNenhBRHiOcZVfW5w9MLsHR9OHAcApSeSZSebslyjzvM4vX7YBnG0LUsAUTxAhBPthXF5g6zBKMRvDcantNuU6D0igbBcUpV37jDLDgew4dpBp/NJqGieEfCsJCuVDTuMAtBBNs0savrKAhCLUA83FWUZ+4wS0gI2K0WtQzDp2GohYQc7MiyPD1HjCXEiJTkx6JbPZmz1YnAM4cLoJAul+cerlhwnN9pITiJAvIn+MeSWS4vVDJ/BUebhJdAk5gLL70tsjHPi8BMcvkSvXl6pdNXIB5ZWeVaw2v4n8D3D4/LXsfy8gV9n0oC7aAw4wAAAABJRU5ErkJggg==",e.defaultIcon=e.poi,e.chevron="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAABvElEQVRoge3YWUsCURiA4TPdVdBGli1E20XLr+gHB923WFdt0k6aQZlB+guCIHi7mCXBwY7fOJ5Pm/faYc7D6DnjZ0xWls6AEWAXeAE2XK9HVIDY57cGsOV6XR0VIA5orQFsul6fVQHiMAYRVlePCRBHbRBh78C66/XGBoxaIpoxa67X3RKw1wEi7A1YSXttQx1+/ktwjyVjTAFYFlybTsAw8TuVmidjHX/vWP8GU0XZ18x2G+4bTEGIeQYWXBui8M+WYyGmohFzkgAz79oQlRDzpA0zBpwJMWVgzrUhChgfNMy5EFMC8q4NUQHmYlAwEwkwt8C0a0MUMAVcCzFFwLO5T6ev8ZK+jTGfwmtnTW/W2D7838mp8Gk0gG3XhqSIOhrGSiQ7S3RMYPB3KukZomPykhBR04SQnhk1NIyNgEngUoh4GxTEqmuDAXL4rxKSqmiYqASIu35HzCRAvKJhghIg7oWICrDo2tANhI6JCfLX8TIpDxd6MY0vG2N2PM/7EFybTvhnRlHTkxCH/bZbQtNEJC4LjH5EWICJ28Ee0TQBsQl/O35oQtwAOdfrEgXkgSv8v7V6xjdZWd3pB9JxAjY9tg5oAAAAAElFTkSuQmCC",e.person="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH0AAADICAYAAADFh+7jAAABG2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+Gkqr6gAAAYJpQ0NQc1JHQiBJRUM2MTk2Ni0yLjEAACiRdZG7SwNBEIc/EyU+UdDCwuIUtVKJEYI2Fgm+QC1iBF9NcsklQi4edycSbAXbgIJo46vQv0BbwVoQFEUQS7FWtFE554wQETPLzn7725lhdxY80YyqW+V+0LO2GRkJKTOzc4rvkTJqqKKb1phqGRNTw1FK2tuNRItddbu1Ssf9azWJpKVCWaXwoGqYtvCo8PiKbbi8KdykpmMJ4WPhLlMuKHzt6vECP7mcKvCHy2Y0EgZPg7CS+sXxX6ymTV1YXk67nllWf+7jvqQ2mZ2ekrVNZgsWEUYIoTDGEGGC9DIgPijdCdAjO0rk+7/zJ1mSXFW8QQ6TRVKksekSdVmqJ2XVRE/KyJBz+/+3r5bWFyhUrw1BxYPjvHSAbwM+847zvu84nwfgvYezbDF/aQ/6X0XPF7X2Xahfg5PzohbfgtN1aL4zYmbsW/LK9GgaPB9B3Sw0XkL1fKFnP+cc3kJ0Vb7qArZ3oFPi6xe+AG2WZ+kub0h6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAN0UlEQVR4nO2deYxdVR3HP2/KdJkWUloKWNtOK7QFLCVFFmFYRnaQsKhYQUwxhjQEjYCQiAsuJLIGRRSCiRZFwtKAAiIgQUeWshhBWorI0ilFsKW0pQsDnU5n/OM3r30zvPfm3nvO+Z1z7zuf5Jc2ad873/P7vnvPXc75nRKRNOwATAImAzsCLcBooBnoAt7v/3M1sBx4z4vKISj5FpATJgKzEMN3SPG594DXgSVAtwNdmYim12cccDByZJuwGXgOeAnYairKlGh6dUrAQcB+lr93A/AXYK3l703FMJ+NB8pw4FhgpoPvHgFMB9YB6x18fyKi6QMZBZwC7O6wjWHAnsCHyAWfOtH07QwDTgR2UWpvCvAuHo74aPp2jgRaldtsBVYAH2g22qTZWMDMBGZ4aLcZOA7lgy+aLvfdB3psfydgH80Go+kwG3my5pM5yF2DCo1u+nDs34tnYSSwr1ZjjW76ZGRcDYE9tBpqdNOn+hZQwdj+cE4jm96E+TN120zVaKSRTR+L4sVTQlQeDDWy6b6v2KsxWqORaHpYqGiKpodFNN0xPb4FVGGLRiONbPr7vgVUoUujkUY2XSXBKYmmO2ajbwFVUNHUyKZ3AWt8ixjECo1GGtl0kLnpodADvKXRUKOb3ulbQAVvonRH0eimrwVW+hbRz1KthhrddICnfQtAxvK3tRqLpsM7wDLPGp7VbCyaLjyNzEP3wb9QXvESp0AL3cAqZPWJ5lKvFcBjiu0B0fRKNiGPZqcqtbcOeBAPCxqj6QNZg5g/BbdH/ErgIWQ1qzrR9I+yBrmSbiXdWvSk/Ad4FI/r1aPp1dmEFBMYDexs6Tu7gEXAP4E+S9+Zibg+fWh2RQoTfCzj57cgV+hLCOQdfjQ9OeOQi7ypDD2BsRu5Ml+OPF5VmRyRlGh6NlqAMcjpv4XthYbKxYbWA73e1EUikUgkEolEIpFIJBKJRCKRSCQSUaXIL1xGIkUBpyJvyMbX+XMUMnninf5YXfH3l4C/I9ObCkGRTN8ZaAMOBw4DDsBeTZle5J343/rjMcJcAFl4xgBzgRuBxYgxfUrRgxz9c3EzpSpSwTDgeOD3yHtrLZPrxZvAt5GhImKR2cC1yIRF3ybXii7gV8BejnLQEOwOXAy8gH9D00Q38BPkQjKSkKOAhUjyfBtoEq/29yVSg3HARcDL+DfLdiwgjvcD+DTwW2Q7C9/muIxVQLudlOWTFmA+8Dz+zdCMzcBZFvKXK0YAFyDruHwb4Ct6ge+YJjIPNCNH9pv4T3oocTMFXVLWBMxD1oT5TnKI8QBy9isMuyHPqH0nNvT4XdYEh0YbUg/Nd0LzEt/NluZwuBBZrOc7kXmKXuALWZLtmx2Bu/CfwLxGF/IqODeMAf6B/8TlPd4m+xp4VZqBh/GfsKLEnenSr08JuBX/iSpaHJvGBG2uxn+Cihiv4Pj+PetToQuAH9sUEtnGeLZPxwqGQ9Gdj9aI8QGKe68OxQ7kbyZLXuOehJ445yL8J6NRYitSwNA6acb0jwN3E97+pEWlhFSmftSniIX4//U3WqzG45u4ExIIjOEmvpLAH+uUkCU9vjtfK4o+v876diNJdnY4FdjPdsOGdAO3I5MN7/ArxTkHA/trN1quWhxCvApcAkyo0NcZgC7XcU0df6xzsqNOpIlu5LXt0Xx0lW1rAPo0orOGP054xlEnksQy4FJk6lUt5nnUpx0q79uP8NS5DcD5JLveWOBJo4+4MkE+jPGR0PuASSk0dnrQ6CteS5GXTAxHtrTQ6lAvcqpOQ6uivlBiTsocVaXWKXQGUsBei2uRNW1paHegI3ScTqA8A71f7yKylfBYoKgxlHglQ54+Qq0jXasA0TrgTLJtaNNuV0oumI5U5TCilumdpl+ckMuANzJ8rhW9nRJD4wxXXzwe96eqt8j+Bmmegr5Q498Zc7aNWkf6GuR+2SVXkX3byXaLOvLGXkh1rekuvtzlAob/YVaIp9OhNpPQLHPWg9zxWJ1Ld6ZDwRca6Gp1qMs0vuehzS3Ab4BpBjndRgk3z947kVqsWZnnQJON6AF2Qp6c+Wi/G6ljNyV7aoU2y8J6MR+Pb7GsyVY826/vCs86NgM3YbguzubcuOtNhPSz3KIem3F1v779A9DShzwD+VqG/AJyylpkQcR9mJ3WQe7NfSezVpxUodPXKb5a3EbGlUxjgAcNGr6aZK9Kh+IcAw0uowdZo1/G9yl+cCzEoLDROcg9fNLGlmL3CdItKdrWjPJ4XmYm4S39OjdxlqvQAnwZeIjq9VtXIZWTTjBppAbLq7QXQpTH80oeCEBXZaxEztjGNAETkXKfcxh4irPNVPwnrlacWEXvMQHoGhyXJ0l0SJyN/6RViy3U/rEvDkBfZXQBk2xcXGmxp28BNXiO2vu5XKUpJAGjgNPyZLrxkyZHdNT5t9uAe5V0JGWPPJne6ltADTqG+PdzkYvbUPiEbwFpCOmBR5LxvJLPBqC1HEsS6A2CEvJM2XfCBsczKfpwbQB6+4CNeTm9TyDMYggdKf7vxcB1jnSkYa1vAUkZTnhPuPqofn8+FJd71vxwBs3e+C/+Ta6MpON5NS7F34/4soyavfAE/o2ujDTjeTXakXnsmpp7gWl5GdNBebluAjosfH42sjAxy7z/LDxCeHmsi++xcHBkGc9rsR/wV8d6N5Gze3QI6126yXhej3akPKgLzec50OucCYSzFafpeD4URwNPWtSb671i7sa/4X3ovUg5HqkulVVnLwXYI+Yk/Bveh93xPAknkX7xyTLgNGWdTmjC/6Z+rsbzJLQjCxs21NDWiwwLn6fOnDitJck2uRxZSeKLd5ClRJs8ahiJFI6Ygsxcehcpt/Y6MlGicExBd81YtXiEMN8FFJr5+B/X78TOtO5ICv6If+N/6byXkQHsgix59m38Dx33MzKIEwjjlev5rjsaGcg1+Dd9KzDXdUcj2ykhs059G7+ZwDfSKxrNmC2wtBUbgYMc9zVSQQvwFP6NX40UA4ooMQ5ZKevb+DdIV9i44ZmA2UOPSUjSfRu/FPkRRhJwFebP1mcip1nfxj+FbmHlXDIceaGxBVn+bMKByIWVb+MfRC40IzWYy/ZkvY75K8xjCGNlzG3k842mCoMnB9o4Ss5AHp74Nv7nhv0oJDNwd5ScV+O7tcPnPIAgqbfAz0b9uR/U+X7NmG+hL4VgBDL7o16ybEzwu2GINjRiKzKdqeE5i2QJMyqLhQwTtydsy2V8CBxl2Jfck3SCfw/wOcO2mpGVm76NX41h/dY8szfpj5LPGLY5Gr+7S5bjYRr0Vu6npE/WBsx3Gh6PbI3h2/gLDPuRO0aSruxoZazCvMzYZGBFxvZtxYfAvob9yBWmBQGXYT4u7s3Qdw6u40XMtjfJFY9jnrDFwFhDHQeju81otfiqYR9ywT7YS9jjmNeSPw6/q2KfMNSfC67HbtLuJ9v2nZV8Cb/P6Qs942YUst2E7aTdgvkt0Ncd6Eoa1UqIF4Z5uEvcNRb0/cihvnqxEvOzVbDY2BOmXlxiQeONjjXWilMtaA+O2egkz/RquAm4S0lrZdxkqDtIbG75VS96MN92egTwgpLechhvoBsac9Bbe7YO89s4gFnAB0qay7GbBd3B8Gf0EmdzetI3FXX3UaB1cba38BwqZlnUXkJ2p9LSXohxvQV4Hr2kLXLQh93Rm0v/kgP96tyJ7lF+jqN+aJ7md3XUBxW+j67hti7gqjEeeRWq0Y8vOuqDc05Hv1LEDY77dIdSP2503A8nHImf15WuJyQcq9SP3I3rvgx/SqFvJaRmukZ/nIzrLuqgHYFsLutjtebNCm30AQsU2gE5eILnCPzNQHF5ATeY/ZX6FHydOp+G9wG/cN/FbTThZj7A4Fiq1aEsHI7/OWbaM0rvs6i9XkywLdzGmH448kzdZ8WFe9HfTrJDqZ12pXYScxj+qz1sBT7puqNVaMhxPQTD+4BbXXe0Blrj+otaHRqKUAzvxu+2Uxrjei+Wx/UsY3obUhZkjE0hGbkCWeXiiw6FNkp4vl9vI4wjvA+p9+57xafWuK55OzqANmpvGKMdL+Jv85xKCj2uH0o4hq9FNs4JBa1xfRdbgpOM6YciU4VCOLI2AacgNeZCoUOhDdVxPaQjfCPyICg0tMZ11/MEADiEaHgStMZ1508co+HpyN24PphDgPUKnSiK4QAXoZMPJ/XnPkU0PAta47r1+rIjgZeVxBfJcNAb1xfbFn6lgugiGl5Ga1wfb0vwAcgqz2h4dr6FTo5MK2ZuQ3s5btEMB7ke0siTlXG9VUlskQ0HGdffw32urIzrpysIHcrww2x0JADux32+eoGdTEQ2YV5j1YRNwIkUp4Zah0IbJQxfOPk0vWiGg95kyWkmH27Cz2vKIhoOsgZ/vUI7k00+3IQUw9WkqIaDjLePK7Rj9MNqAt6yJCQJRTa8TIdCG2+bfoFWdYUiXaXXY1/cX70bbwPS6lhkIxlexmVFzKdtifyTQ5GNZjjAmbjL5/m2RE5EJhxGw+3QjIy7tvP5JJZrCphurRENH8h87ObzfWC6C6H3WBLY6IaXuQJ7pn/DlchxmBv/GrInSkT4NeaGL0BhNc/ZpJ8J0oNskqtVAiQvDAN+BmwhvdmrgNM0xU4k+VX9EuAgTXE5ZAbwB5IbvhBHs1+TnDKmIb+2NuSHMAFZYfJcRfhcOZo32oCTkYLFs5DnJCWkEmUnUtXjHtzUtwXg/0qsA4OTWMKaAAAAAElFTkSuQmCC",e.floorchangeDownImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M0Y2MDk5Q0IyM0EyMTFFOEExQkQ5MDk1RDU5RTBCQ0UiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6M0Y2MDk5Q0MyM0EyMTFFOEExQkQ5MDk1RDU5RTBCQ0UiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozRjYwOTlDOTIzQTIxMUU4QTFCRDkwOTVENTlFMEJDRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozRjYwOTlDQTIzQTIxMUU4QTFCRDkwOTVENTlFMEJDRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsNnVNkAAAJISURBVHja7NxNSsNAGAbgxD+KUnWhUCi9hrtewWO51RMUFAaXQg/QhYuCV9CtpQtxZXelxG9kAjZN0kky881k8r7wUkpKJn0ozQ+ZREmSRNkyZEx9pa6piYGu1frGtjd8x8oB4C11Ywgu241af7CAx9SlJby0SzUOC+BBxJsb6sDyGAM1Dku4Aa8DG4cdMLgAEIAABCAAEQACEIAARAAIQAACEAEgAAEIQASAAAQgABEAAhCAAEQACEAAAhABIAABCEAkkyPNz/WphwbGO2P6XnKcSwPrkXf9/5R+ouQu/RH1mbqK7N5V73tXymGU51UEOKR+dhwuW+kx1AV8BFhun7JWcd7EmjiOv+jlCruInXyT15ZLEWACq8J9RqxzGPMBqty86x4H3sMqNw+6hzHyZzrBTmOrk/QvT3e2pjxwFoD7q0hPJKpOdwXiP7w6gF1HFNlT2LoTrruIKPLO/5vMWO8Soii6eNJ0yn8XEEXZlScTz0wIGVHsu2xn6qETISLuxTMJGBqiFp5pwBTxpeV4L1Wuttt4bswJddpSvKna/sglYFsRK+PZBGwbYi0824BtQayNxwHoO2IjPC5AXxEb43EC+oZoBI8b0BdEY3guAF0jGsVzBZgizpjxZqbxXALKnDIiztR4UUiAXIjW8HwAtI1oFc8XQFuI1vF8AjSNyILnG6ApRDY8HwGbIrLi+QpYF5Edz2fAqohO8HwHlDmnvu3Bk8v7rjbQd0CZC+q8AG+ulkcALE+PekddKLiFet9zvWFZq18BBgDKKe48BY2GvQAAAABJRU5ErkJggg==",e.floorchangeUpImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Mzc3ODM3OTQyM0EyMTFFODk5MzVCRjg5RkE3NDIwNEMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Mzc3ODM3OTUyM0EyMTFFODk5MzVCRjg5RkE3NDIwNEMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozNzc4Mzc5MjIzQTIxMUU4OTkzNUJGODlGQTc0MjA0QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozNzc4Mzc5MzIzQTIxMUU4OTkzNUJGODlGQTc0MjA0QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pv4uuuEAAAJCSURBVHja7NxPasJAGAXwxP6hFGwP4L53cOEJeoXuixfxGF1V6E4Q6tJFF0KPULptcdEWCuJKavpNOwEdJzpJZr6ZJO/BI5CECfk5MirEVpIk0WYDyBl1QH2nJnI7kPu9RrX68woM8JI6k3BqZ/I4ADPSpj5n4KUVxy8AuJtz6vQAXtqpPB+ABfC8IoYIWATPG2JogGXwvCCGBGgDjx0xFECbeKyIIQC6wGND9A3oEo8F0ScgB55zRF+Ap4x4m4indQAUNzFmxks7to3IDegTzwkiJ2AIeNYRuQBDwrOKyAEYIp41RNeAIeNZQXQJWAW80oiuAKuEVwrRBWAV8Qoj2gY8oo4qipd2JO+DHVBcdFhxvLRDU0RbgHXCy4VoA7COeMaIZQHrjGeEWAawCXgHEYsCNglvL2IRwCbiZSLmBWwynhYxDyDwNIimgDH1DnBbFR6xKWAfYNr2dYCxunDEcfxCm6sIUfNKVjsuOsAEVpkfpGN1X0tz3heotPnU7dQBTmClzcTo+x2lQ33DorFV4dHRLSK6GSgeK+hSH6jLhs+6pXToSpfIZBFRz2nn+dV2T66p9ww3fUN9tDDOD3WhvlvVHBsMtLD4anLNmm+uKdrC2gBAAAIQgAgAAQhAACIABCAAAYgAEIAABCACQAACEIAIAAEIQAAiAAQgAAGIABCAAAQgAsDKAn7U7Dr/YfwL0BPqPHL7OMJcXofFKusxB1dZUW+pa0fjr+X4q7rOwDQ96pO8URuzbiXH63Fbif4KMAA5SHWvsbuuvQAAAABJRU5ErkJggg==",e.popupImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAACMCAYAAACuwEE+AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Q0RCNzBCQjQ5QkNGMTFFRDg3QjVERTUyNTA3RDg4QTUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Q0RCNzBCQjU5QkNGMTFFRDg3QjVERTUyNTA3RDg4QTUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDREI3MEJCMjlCQ0YxMUVEODdCNURFNTI1MDdEODhBNSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDREI3MEJCMzlCQ0YxMUVEODdCNURFNTI1MDdEODhBNSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnxS85oAAARhSURBVHja7Js7axRRGIZ3QlQkUYyiQWMsVAwKNhrFJoXWdkr0F4iKdhaWgiixUAiiBNJYKYKlIKlE7byAlfFuYbxf8UaiSdb3w7NmncyevRt2zvPAy7LJZop3nnwzc2Y2ymazGYBSaaICQBioG835b6IoqlS6bqVH2aSsU5a737VR8Yzwyb0+V+4pt5Qbyh1lstyN/XPaYm9yKROT4oQyYpshDRETqE/pKFeYv45UIIxNjdPKKDugYWP7rl9ZUG9hepW3FJ6avFF21kOYWcoABac2Z90+rokwrcoQpaY+V5SWaoVpdhui0DByOX7lXK4wZygxuPRXKkwv5QWbHYWEifJFyVu4W6wMK4tYAwuSd8pa5UN84a7QrYHjyBI0NjCOJf0iacJ0Ko+V2fQWNGPKKuVFsQmzH1lAzFH2FZswze7eUDt9gXiprJAjE4UmzGZkgTyWKRvyfxAXZisdQYxtPmE20g/E6PYJs4Z+IEaXT5il9AM+J+LCtNIPxJjnu6zmOycwDTkSFZowAF4QBhAGEAYQBhAGEAYAYQBhAGEAYQBhAGEAEAYQBhAGEAYQBhAGAGEAYQBhAGEAYQAQBhAGEAYQBhAGEAYAYQBhAGEAYQBhAGEAEAYQBhAGEAYQBhAGAGEAYQBhAGEAYQAQBhAGEAYQBhAGEAYAYQBhAGEAYQBhAGEAEAYQBhAGEAYQBhAGAGEAYQBhAGEAYQAQBhAGEAYQBhAGEAYAYaD2wvyiEogx5hPmK/2Az4m4MK/oB3xOxIV5SD8Q44FPmDv0AzFu+4S5Sj/gcyLKZrNTb6LIBHqmrKAnEE+V1dk8SeITZlI5T0/guKBkfRPGXjqUJ8oc+gqaUWWlXSXlO5K00vtCGaSv4BnIJCyzJE0YY6FyX1lMb0HyVulSPtubYhPG+KgcoLdg2Z+TZRpmTy4JnHEnPSSc9HsdKSJMs3KFEoPJZbfPKxbGaFWGKDP1scHQUvQoVIIwxix31kyx6cxZt48ztRImR687g6bkdOS1sqPYTq9GGKNNOe0Wdii9MTPqTm4XlLLDqxUmx3LlhDLCDmiYPFf63Gp+yeQ7UmjhrhxsLadb6VE2KeucTG0sZ8won5wgw8pN5Ubmz+Mrk+Vu6J9hUsWEaQSOzMB/8eG0lVirQ1Ij0OTWFib+gyj2n3vJBjXCNDZ2YmfPdYzXUZZxd+9tXhoLDE0YY73yo06Txrb5zd2syyBMethdxwmzK83FhSqMcbIOspxKe2khC2M31q7V6NBk27ieSbhZhzDpYonyssqTYPtbexqtPYTCQhfG2Kz8dJfClVw+23fQt4RSFsL8YU8VE+ZgSEUhzBSDZU4Z++y50EpCmCnsqzS3Szyfsc/cVeYiTLjCGJ3K+yLS2BXRF2V1iAUhzHS2OmEmPYei7aGWgzDJHPJMmKMhF4MwhbkYmzJ2KLKHo5sQBmGSmK88cussFlvgWxJ6KQjjx54Y/J4JbHEOYarDnqTfSw3ThfktwAB+TNocUCnWeAAAAABJRU5ErkJggg==",e.pulsingDot={width:120,height:120,data:new Uint8Array(57600),onAdd:function(t,e){var n=document.createElement("canvas");n.width=this.width,n.height=this.height,this.context=n.getContext("2d"),this.map=t},render:function(t,e){var n=performance.now()%1e3/1e3,i=42*n+18,r=this.context,o=this.map;return r.clearRect(0,0,this.width,this.height),r.beginPath(),r.arc(this.width/2,this.height/2,i,0,2*Math.PI),r.fillStyle="rgba(189,82,255,"+(1-n)+")",r.fill(),r.beginPath(),r.arc(this.width/2,this.height/2,18,0,2*Math.PI),r.fillStyle="rgb(189,82,255)",r.strokeStyle="white",r.lineWidth=2+4*(1-n),r.fill(),r.stroke(),this.data=r.getImageData(0,0,this.width,this.height).data,o.triggerRepaint(),!0}}},JEQr:function(t,e,n){"use strict";var i=n("xTJ+"),r=n("yK9s"),o=n("OH9c"),a={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var u,l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(u=n("tQ2B")),u),transformRequest:[function(t,e){return r(e,"Accept"),r(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)||e&&"application/json"===e["Content-Type"]?(s(e,"application/json"),function(t,e,n){if(i.isString(t))try{return(0,JSON.parse)(t),i.trim(t)}catch(r){if("SyntaxError"!==r.name)throw r}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional,n=!(e&&e.silentJSONParsing)&&"json"===this.responseType;if(n||e&&e.forcedJSONParsing&&i.isString(t)&&t.length)try{return JSON.parse(t)}catch(r){if(n){if("SyntaxError"===r.name)throw o(r,this,"E_JSON_PARSE");throw r}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],function(t){l.headers[t]={}}),i.forEach(["post","put","patch"],function(t){l.headers[t]=i.merge(a)}),t.exports=l},JKJh:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("2o5z")),r=o(n("QTq/"));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){if(!1===Array.isArray(t)||0===t.length)throw new Error("No points were given.");return t.reduce(function(t,e){var n=(0,i.default)(e),o=(0,r.default)(e);return{maxLat:Math.max(n,t.maxLat),minLat:Math.min(n,t.minLat),maxLng:Math.max(o,t.maxLng),minLng:Math.min(o,t.minLng)}},{maxLat:-1/0,minLat:1/0,maxLng:-1/0,minLng:1/0})}},Jlhj:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PlaceModel=void 0;var o=function(t){function e(e){var n=t.call(this,e)||this;return n.name=e.name,n.address=e.address,n.location=e.location?e.location:{lat:60.1669635,lng:24.9217484},n.tags=e.tags,n.remoteId=e.remote_id,n}return r(e,t),Object.defineProperty(e.prototype,"hasLocation",{get:function(){return!isNaN(this.location.lat)&&!isNaN(this.location.lng)},enumerable:!1,configurable:!0}),e}(n("Ow4I").default);e.PlaceModel=o},JzKC:function(t,e,n){var i=n("Wogr"),r=n("aZ40");e.mul=function(t,e){var n=new i(t.length+e.length-1);n.fill(0);for(var o=0;o<t.length;o++)for(var a=0;a<e.length;a++)n[o+a]^=r.mul(t[o],e[a]);return n},e.mod=function(t,e){for(var n=new i(t);n.length-e.length>=0;){for(var o=n[0],a=0;a<e.length;a++)n[a]^=r.mul(e[a],o);for(var s=0;s<n.length&&0===n[s];)s++;n=n.slice(s)}return n},e.generateECPolynomial=function(t){for(var n=new i([1]),o=0;o<t;o++)n=e.mul(n,[1,r.exp(o)]);return n}},KXza:function(t,e,n){"use strict";var i=n("oGbY"),r=n("ncV3");function o(t){r.call(this,t)}(o.prototype=Object.create(r.prototype)).constructor=o,o.prototype.sendRequest=i.browserSend,o.prototype.abortRequest=i.browserAbort,t.exports=function(t){return new o(t)}},KcL1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=u(n("Zdlu")),r=u(n("dkTa")),o=u(n("rT3r")),a=u(n("vONA")),s=u(n("eRSq"));function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach(function(e){h(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default=function t(e){if((0,i.default)(e))return Number(e);if((0,r.default)(e))return(0,o.default)(e);if((0,a.default)(e)){var n=(0,s.default)(e);return Array.isArray(e)?e.map(function(e,n){return[0,1].includes(n)?t(e):e}):c(c(c({},e),n.latitude&&h({},n.latitude,t(e[n.latitude]))),n.longitude&&h({},n.longitude,t(e[n.longitude])))}return Array.isArray(e)?e.map(function(e){return(0,a.default)(e)?t(e):e}):e}},KtRk:function(t,e,n){"use strict";var i=n("U6jy"),r=n("pit/");t.exports=i(r,{file:function(t){if("undefined"!=typeof window){if(t instanceof global.Blob||t instanceof global.ArrayBuffer)return;return"Blob or ArrayBuffer"}if("string"!=typeof t&&void 0===t.pipe)return"Filename or Readable stream"},date:function(t){if("boolean"==typeof t)return"date";try{var e=new Date(t);if(e.getTime&&isNaN(e.getTime()))return"date"}catch(n){return"date"}},coordinates:function(t){return r.tuple(r.number,r.number)(t)},assertShape:function(t,e){return r.assert(r.strictShape(t),e)}})},LFDd:function(t,e,n){"use strict";var i=n("U6jy"),r=n("KtRk"),o=n("baNz"),a=n("eFQn"),s=n("Cu2R"),u={},l=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];u.forwardGeocode=function(t){r.assertShape({query:r.required(r.string),mode:r.oneOf("mapbox.places","mapbox.places-permanent"),countries:r.arrayOf(r.string),proximity:r.coordinates,types:r.arrayOf(r.oneOf(l)),autocomplete:r.boolean,bbox:r.arrayOf(r.number),limit:r.number,language:r.arrayOf(r.string),routing:r.boolean})(t),t.mode=t.mode||"mapbox.places";var e=a(i({country:t.countries},o(t,["proximity","types","autocomplete","bbox","limit","language","routing"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:o(t,["mode","query"]),query:e})},u.reverseGeocode=function(t){r.assertShape({query:r.required(r.coordinates),mode:r.oneOf("mapbox.places","mapbox.places-permanent"),countries:r.arrayOf(r.string),types:r.arrayOf(r.oneOf(l)),bbox:r.arrayOf(r.number),limit:r.number,language:r.arrayOf(r.string),reverseMode:r.oneOf("distance","score"),routing:r.boolean})(t),t.mode=t.mode||"mapbox.places";var e=a(i({country:t.countries},o(t,["country","types","bbox","limit","language","reverseMode","routing"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:o(t,["mode","query"]),query:e})},t.exports=s(u)},LYNF:function(t,e,n){"use strict";var i=n("OH9c");t.exports=function(t,e,n,r,o){var a=new Error(t);return i(a,e,n,r,o)}},LiP9:function(t,e,n){"use strict";(function(t){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a,s=n("WVt+"),u=n("nbsC");a=function(){return t={970:function(t){!function(t){function e(t){switch(t.length){case 0:return Ti();case 1:return $o(t[0]);default:return function(t){return ga(function(t){return new Ni(t,!1)}(t))}(t)}}function n(t){return t.length-1|0}function i(t,e){if(null==e){var n=0,i=t.length-1|0;if(n<=i)do{var r=n;if(n=n+1|0,null==t[r])return r}while(n<=i)}else{var o=0,a=t.length-1|0;if(o<=a)do{var s=o;if(o=o+1|0,Du(e,t[s]))return s}while(o<=a)}return-1}function r(t,e,n,i,r,o,a,s,u){return 0!=(1&s)&&(e=", "),0!=(2&s)&&(n=""),0!=(4&s)&&(i=""),0!=(8&s)&&(r=-1),0!=(16&s)&&(o="..."),0!=(32&s)&&(a=null),function(t,e,n,i,r,o,a){return function(t,e,n,i,r,o,a,s){e.append_2(i),Mo();var u=0,l=t,c=0,h=l.length;t:for(;c<h;){var p=l[c];if(c=c+1|0,(u=u+1|0)>1&&(e.append_2(n),Mo()),!(o<0||u<=o))break t;dr(e,p,s)}return o>=0&&u>o&&(e.append_2(a),Mo()),e.append_2(r),Mo(),e}(t,Hs(),e,n,i,r,o,a).toString()}(t,e,n,i,r,o,a)}function a(t,e){for(var n=t,i=0,r=n.length;i<r;){var o=n[i];i=i+1|0,e.add_18(o),Mo()}return e}function l(t){this._$this_withIndex=t}function c(t,e,n,i,r,o,a,s,u){return 0!=(1&s)&&(e=", "),0!=(2&s)&&(n=""),0!=(4&s)&&(i=""),0!=(8&s)&&(r=-1),0!=(16&s)&&(o="..."),0!=(32&s)&&(a=null),function(t,e,n,i,r,o,a){return g(t,Hs(),e,n,i,r,o,a).toString()}(t,e,n,i,r,o,a)}function h(t){if(t.isEmpty_29())throw sc("List is empty.");return t.get_29(Oi(t))}function p(t){if(t.isEmpty_29())throw sc("List is empty.");return t.get_29(0)}function f(t,e){return Cl(t,mu)?t.contains_27(e):function(t,e){if(Cl(t,cu))return t.indexOf_6(e);for(var n=0,i=t.iterator_39();i.hasNext_14();){var r=i.next_14();if(Qo(n),Mo(),Du(e,r))return n;n=n+1|0,Mo()}return-1}(t,e)>=0}function d(t,e){for(var n=t.iterator_39();n.hasNext_14();){var i=n.next_14();e.add_18(i),Mo()}return e}function g(t,e,n,i,r,o,a,s){e.append_2(i),Mo();var u=0,l=t.iterator_39();t:for(;l.hasNext_14();){var c=l.next_14();if((u=u+1|0)>1&&(e.append_2(n),Mo()),!(o<0||u<=o))break t;dr(e,c,s)}return o>=0&&u>o&&(e.append_2(a),Mo()),e.append_2(r),Mo(),e}function m(t){if(Cl(t,mu)){var e;switch(t._get_size__29()){case 0:e=Ti();break;case 1:e=$o(Cl(t,cu)?t.get_29(0):t.iterator_39().next_14());break;default:e=y(t)}return e}return zi(_(t))}function _(t){return Cl(t,mu)?y(t):d(t,fa())}function y(t){return ga(t)}function v(t){return 1===t._get_size__29()?t.get_29(0):null}function b(t,e){return e<=Vo()._MIN_VALUE_5?To()._EMPTY:xl(t,e-1|0)}function w(t,e){return t<e?e:t}function x(t,e){return t>e?e:t}function k(t){var e;switch(Tu(t)){case 0:throw sc("Char sequence is empty.");case 1:e=Au(t,0);break;default:throw ec("Char sequence has more than one element.")}return e}function E(t,e){if(!(e>=0))throw ec(Fu("Requested character count "+e+" is less than zero."));var n=x(e,t.length);return t.substring(n)}function S(t){this._this$0=t}function C(){}function I(){A=this}var A,P,T,O,L,M,N,R,D,z,F,B,j,V,U,q,G,H,W,Y,Z,X,K,$,J,Q,tt,et,nt,it,rt,ot,at,st,ut,lt,ct,ht,pt,ft,dt,gt,mt,_t,yt,vt,bt,wt,xt,kt,Et,St,Ct,It,At,Pt,Tt,Ot,Lt,Mt,Nt,Rt,Dt,zt,Ft,Bt,jt,Vt,Ut,qt,Gt,Ht,Wt,Yt,Zt,Xt,Kt,$t,Jt,Qt,te,ee,ne,ie,re,oe,ae,se,ue,le,ce,he,pe,fe,de,ge,me,_e,ye,ve,be,we,xe,ke,Ee,Se,Ce,Ie,Ae,Pe,Te,Oe,Le,Me,Ne,Re,De,ze,Fe,Be,je,Ve,Ue,qe,Ge,He,We,Ye,Ze,Xe,Ke,$e,Je,Qe,tn,en,nn,rn,on,an,sn,un,ln,cn,hn,pn,fn,dn,gn,mn,_n,yn,vn,bn,wn,xn,kn,En,Sn,Cn,In,An,Pn,Tn,On,Ln,Mn,Nn,Rn,Dn,zn,Fn,Bn,jn,Vn,Un,qn,Gn,Hn,Wn,Yn,Zn,Xn,Kn,$n,Jn,Qn,ti,ei,ni,ii,ri,oi,ai,si,ui,li,ci,hi,pi,fi,di,gi,mi,_i;function yi(){return null==A&&new I,A}function vi(t){this._$entryIterator=t}function bi(t,e){return e===t?"(this Map)":wu(e)}function wi(t,e){var n;t:do{for(var i=t._get_entries__5().iterator_39();i.hasNext_14();){var r=i.next_14();if(Du(r._get_key__3(),e)){n=r;break t}}n=null}while(0);return n}function xi(){P=this}function ki(){return null==P&&new xi,P}function Ei(t){this._this$0_0=t,Pi.call(this)}function Si(t){this._this$0_1=t}function Ci(){ki(),this.__keys=null,this.__values=null}function Ii(){T=this}function Ai(){return null==T&&new Ii,T}function Pi(){Ai(),C.call(this)}function Ti(){return null==O&&new Mi,O}function Oi(t){return t._get_size__29()-1|0}function Li(t){return t.length>0?Xl(t):Ti()}function Mi(){O=this,this._serialVersionUID=new Ju(-1478467534,-1720727600)}function Ni(t,e){this._values=t,this._isVarargs=e}function Ri(){L=this}function Di(){return null==L&&new Ri,L}function zi(t){switch(t._get_size__29()){case 0:return Ti();case 1:return $o(t.get_29(0));default:return t}}function Fi(t,e){this._index=t,this._value=e}function Bi(t){for(var e=fa(),n=t.iterator_39();n.hasNext_14();)$i(e,n.next_14()),Mo();return e}function ji(t){this._iteratorFactory=t}function Vi(t,e){return Cl(t,mu)?t._get_size__29():e}function Ui(t){this._iterator=t,this._index_0=0}function qi(){}function Gi(t){return t.length>0?(e=t,Xi(n=Ha(t.length),e),n):Hi();var e,n}function Hi(){var t=(null==M&&new Yi,M);return Cl(t,lu)?t:Hu()}function Wi(t){var e=Ha(t.length);return Xi(e,t),e}function Yi(){M=this,this._serialVersionUID_0=new Ju(-888910638,1920087921)}function Zi(t,e){return function(t,e){for(var n=e.iterator_39();n.hasNext_14();){var i=n.next_14(),r=i.component1(),o=i.component2();t.put_4(r,o),Mo()}}(e,t),e}function Xi(t,e){for(var n=e,i=0,r=n.length;i<r;){var o=n[i];i=i+1|0;var a=o.component1(),s=o.component2();t.put_4(a,s),Mo()}}function Ki(t,e){return function(t,e){if(Cl(t,qi))return t.getOrImplicitDefault(e);var n;t:do{var i=t.get_17(e);if(null!=i||t.containsKey_8(e)){n=null==i||Pl(i)?i:Hu();break t}throw sc("Key "+e+" is missing in the map.")}while(0);return n}(t,e)}function $i(t,e){if(Cl(e,mu))return t.addAll_10(e);for(var n=!1,i=e.iterator_39();i.hasNext_14();){var r=i.next_14();t.add_18(r)&&(n=!0)}return n}function Ji(t){if(t.isEmpty_29())throw sc("List is empty.");return t.removeAt_2(Oi(t))}function Qi(){}function tr(t){this._this$0_2=t,this._iterator_0=this._this$0_2._sequence.iterator_39()}function er(t,e){this._sequence=t,this._transformer=e}function nr(){N=this,this._serialVersionUID_1=new Ju(1993859828,793161749)}function ir(){return null==N&&new nr,N}function rr(){return ir()}function or(){}function ar(){R=this,this._star=new ur(null,null)}function sr(){return null==R&&new ar,R}function ur(t,e){if(sr(),this._variance=t,this._type=e,null==this._variance!=(null==this._type))throw ec(Fu(null==this._variance?"Star projection must have no type specified.":"The projection variance "+this._variance+" requires type to be specified."))}function lr(){if(B)return Mo();B=!0,D=new cr("INVARIANT",0),z=new cr("IN",1),F=new cr("OUT",2)}function cr(t,e){bu.call(this,t,e)}function hr(){return lr(),D}function pr(){return lr(),z}function fr(){return lr(),F}function dr(t,e,n){null!=n?(t.append_2(n(e)),Mo()):null==e||Ol(e)?(t.append_2(e),Mo()):e instanceof au?(t.append_1(e),Mo()):(t.append_2(wu(e)),Mo())}function gr(t,e,n){if(t.equals(e))return!0;if(!n)return!1;var i,r=Ys(t),o=Ys(e);if(r.equals(o))i=!0;else{var a=Au(r.toString().toLowerCase(),0),s=o.toString().toLowerCase();i=a.equals(Au(s,0))}return i}function mr(t){return function(t,e){for(var n=function(t){return function(t){return zi(function(t){return function(t,e){for(var n=t.iterator_39();n.hasNext_14();){var i=n.next_14();e.add_18(i),Mo()}return e}(t,fa())}(t))}(function(t){return function(t,e,n,i,r,o){return function(t,e,n,i){return function(t,e){return new er(t,e)}(function(t,e,n,i,r,o,a){return function(t,e,n,i,r){var o,a=Xl(["\r\n","\n","\r"]);return new Pr(t,0,0,(o=new Or(a,!1),function(t,e){return o.invoke_10(t,e)}))}(t)}(t),(r=new Tr(t),function(t){return r.invoke_8(t)}));var r}(t)}(t)}(t))}(t),i=fa(),r=n.iterator_39();r.hasNext_14();){var o=r.next_14();kr(o)&&(i.add_18(o),Mo())}for(var a=i,s=da(Vi(a,10)),u=a.iterator_39();u.hasNext_14();){var l=u.next_14();s.add_18(_r(l)),Mo()}for(var c=function(t){var e=t.iterator_39();if(!e.hasNext_14())return null;for(var n=e.next_14();e.hasNext_14();){var i=e.next_14();Lu(n,i)>0&&(n=i)}return n}(s),h=null==c?0:c,p=(ml("".length,n._get_size__29()),function(t){var e,n;return 0===Tu("")?(n=new yr,e=function(t){return n.invoke_6(t)}):e=function(t){var e=new vr("");return function(t){return e.invoke_6(t)}}(),e}()),f=Oi(n),d=fa(),m=0,_=n.iterator_39();_.hasNext_14();){var y=_.next_14(),v=m;m=v+1|0;var b,w=Qo(v);if(0!==w&&w!==f||!tu(y)){var x,k=E(y,h);b=null==(x=null==k?null:p(k))?y:x}else b=null;null==b||(d.add_18(b),Mo()),Mo()}return function(t,e,n,i,r,o,a,s,u,l){return g(t,e,"\n","","",-1,"...",null)}(d,qs()).toString()}(t)}function _r(t){var e;t:do{var n=0,i=Tu(t)-1|0;if(n<=i)do{var r=n;if(n=n+1|0,!Zs(Au(t,r))){e=r;break t}}while(n<=i);e=-1}while(0);return-1===e?t.length:e}function yr(){}function vr(t){this._$indent=t}function br(t){return function(t,e){Xs(10),Mo();var n,i,r,o=t.length;if(0===o)return null;var a=Au(t,0);if(a.compareTo_9(new au(48))<0){if(1===o)return null;if(n=1,a.equals(new au(45)))i=!0,r=Vo()._MIN_VALUE_5;else{if(!a.equals(new au(43)))return null;i=!1,r=0|-Vo()._MAX_VALUE_5}}else n=0,i=!1,r=0|-Vo()._MAX_VALUE_5;var s=(0|-Vo()._MAX_VALUE_5)/36|0,u=s,l=0,c=n;if(c<o)do{var h=c;c=c+1|0;var p=Js(Au(t,h),10);if(p<0)return null;if(l<u){if(u!==s)return null;if(l<(u=r/10|0))return null}if((l=ml(l,10))<(r+p|0))return null;l=l-p|0}while(c<o);return i?l:0|-l}(t)}function wr(t){throw yc("Invalid number format: '"+t+"'")}function xr(t){return function(t,e){Xs(10),Mo();var n,i,r,o=t.length;if(0===o)return null;var a=Au(t,0);if(a.compareTo_9(new au(48))<0){if(1===o)return null;if(n=1,a.equals(new au(45)))i=!0,$u(),r=new Ju(0,-2147483648);else{if(!a.equals(new au(43)))return null;i=!1,$u(),r=new Ju(-1,2147483647).unaryMinus_4()}}else n=0,i=!1,$u(),r=new Ju(-1,2147483647).unaryMinus_4();$u();var s=new Ju(-1,2147483647).unaryMinus_4().div_27(wl(36)),u=s,l=new Ju(0,0),c=n;if(c<o)do{var h=c;c=c+1|0;var p=Js(Au(t,h),10);if(p<0)return null;if(l.compareTo_48(u)<0){if(!u.equals(s))return null;if(u=r.div_27(wl(10)),l.compareTo_48(u)<0)return null}if((l=l.times_27(wl(10))).compareTo_48(r.plus_27(wl(p)))<0)return null;l=l.minus_28(wl(p))}while(c<o);return i?l:l.unaryMinus_4()}(t)}function kr(t){return!tu(t)}function Er(t){return Tu(t)-1|0}function Sr(t,e,n,i,r,o){var a=o?function(t,e){return Co().fromClosedRange(t,e,-1)}(x(n,Er(t)),w(i,0)):xl(w(n,0),x(i,Tu(t)));if("string"==typeof t&&"string"==typeof e){var s=a._first_1,u=a._last,l=a._step_0;if(l>0&&s<=u||l<0&&u<=s)do{var c=s;if(s=s+l|0,nu(e,0,t,c,Tu(e),r))return c}while(c!==u)}else{var h=a._first_1,p=a._last,f=a._step_0;if(f>0&&h<=p||f<0&&p<=h)do{var d=h;if(h=h+f|0,Cr(e,0,t,d,Tu(e),r))return d}while(d!==p)}return-1}function Cr(t,e,n,i,r,o){if(i<0||e<0||e>(Tu(t)-r|0)||i>(Tu(n)-r|0))return!1;var a=0;if(a<r)do{var s=a;if(a=a+1|0,!gr(Au(t,e+s|0),Au(n,i+s|0),o))return!1}while(a<r);return!0}function Ir(t){if(t._nextSearchIndex<0)t._nextState=0,t._nextItem=null;else{var e;if(t._this$0_3._limit>0){var n=t;n._counter=n._counter+1|0,e=n._counter>=t._this$0_3._limit}else e=!1;if(e||t._nextSearchIndex>Tu(t._this$0_3._input))t._nextItem=xl(t._currentStartIndex,Er(t._this$0_3._input)),t._nextSearchIndex=-1;else{var i=t._this$0_3._getNextMatch(t._this$0_3._input,t._nextSearchIndex);if(null==i)t._nextItem=xl(t._currentStartIndex,Er(t._this$0_3._input)),t._nextSearchIndex=-1;else{var r=i,o=r.component1(),a=r.component2();t._nextItem=b(t._currentStartIndex,o),t._currentStartIndex=o+a|0,t._nextSearchIndex=t._currentStartIndex+(0===a?1:0)|0}}t._nextState=1}}function Ar(t){this._this$0_3=t,this._nextState=-1,this._currentStartIndex=function(t,e,n){if(0>n)throw ec("Cannot coerce value to an empty range: maximum "+n+" is less than minimum 0.");return t<0?0:t>n?n:t}(this._this$0_3._startIndex,0,Tu(this._this$0_3._input)),this._nextSearchIndex=this._currentStartIndex,this._nextItem=null,this._counter=0}function Pr(t,e,n,i){this._input=t,this._startIndex=e,this._limit=n,this._getNextMatch=i}function Tr(t){this._$this_splitToSequence=t}function Or(t,e){this._$delimitersList=t,this._$ignoreCase=e}function Lr(){}function Mr(t){this._initializer=t,this.__value=Rr()}function Nr(){j=this}function Rr(){return null==j&&new Nr,j}function Dr(t,e){this._first=t,this._second=e}function zr(t,e){return new Dr(t,e)}function Fr(t,e,n){this._first_0=t,this._second_0=e,this._third=n}function Br(){V=this,this._MIN_VALUE=0,this._MAX_VALUE=-1,this._SIZE_BYTES=1,this._SIZE_BITS=8}function jr(){return null==V&&new Br,V}function Vr(t,e){return Lu(255&t,255&e)}function Ur(t){return(255&t).toString()}function qr(t){jr(),this._data=t}function Gr(){U=this,this._MIN_VALUE_0=0,this._MAX_VALUE_0=-1,this._SIZE_BYTES_0=4,this._SIZE_BITS_0=32}function Hr(){return null==U&&new Gr,U}function Wr(t,e){return ho(t,e)}function Yr(t){return wl(t).and(new Ju(-1,0)).toString()}function Zr(t){Hr(),this._data_0=t}function Xr(){q=this,this._MIN_VALUE_1=new Ju(0,0),this._MAX_VALUE_1=new Ju(-1,-1),this._SIZE_BYTES_1=8,this._SIZE_BITS_1=64}function Kr(){return null==q&&new Xr,q}function $r(t,e){return po(t,e)}function Jr(t){return function(t,e){if(t.compareTo_48(new Ju(0,0))>=0)return Lc(t,e);var n=t.ushr_0(1).div_27(wl(e)).shl_0(1),i=t.minus_28(n.times_27(wl(e)));return i.compareTo_48(wl(e))>=0&&(i=i.minus_28(wl(e)),n=n.plus_27(wl(1))),Lc(n,e)+Lc(i,e)}(t,10)}function Qr(t){Kr(),this._data_1=t}function to(){G=this,this._MIN_VALUE_2=0,this._MAX_VALUE_2=-1,this._SIZE_BYTES_2=2,this._SIZE_BITS_2=16}function eo(){return null==G&&new to,G}function no(t,e){return Lu(65535&t,65535&e)}function io(t){return(65535&t).toString()}function ro(t){eo(),this._data_2=t}function oo(t){return function(t,e){Xs(10),Mo();var n=t.length;if(0===n)return null;Kr();var i,r=new Ju(-1,-1),o=Au(t,0);if(o.compareTo_9(new au(48))<0){if(1===n||!o.equals(new au(43)))return null;i=1}else i=0;var a=new Ju(477218588,119304647),s=a,u=wl(10),l=new Ju(0,0),c=i;if(c<n)do{var h=c;c=c+1|0;var p=Js(Au(t,h),10);if(p<0)return null;if(po(l,s)>0){if(!Du(new Qr(s),new Qr(a)))return null;if(po(l,s=fo(r,u))>0)return null}var f=l=l.times_27(u),d=l,g=wl(p).and(new Ju(-1,0));if(po(l=d.plus_27(g),f)<0)return null}while(c<n);return l}(t)}function ao(t){var e,n=function(t){return co(t,10)}(t);return null==(null==n?null:new Zr(n))?wr(t):e=n,e}function so(t){var e,n=oo(t);return null==(null==n?null:new Qr(n))?wr(t):e=n,e}function uo(t){var e,n=function(t){return function(t,e){var n=co(t,10);if(null==(null==n?null:new Zr(n)))return null;var i=n;return jr(),ho(i,255)>0?null:_l(i)}(t)}(t);return null==(null==n?null:new qr(n))?wr(t):e=n,e}function lo(t){var e,n=function(t){return function(t,e){var n=co(t,10);if(null==(null==n?null:new Zr(n)))return null;var i=n;return eo(),ho(i,65535)>0?null:vl(i)}(t)}(t);return null==(null==n?null:new ro(n))?wr(t):e=n,e}function co(t,e){Xs(e),Mo();var n=t.length;if(0===n)return null;Hr();var i,r=Au(t,0);if(r.compareTo_9(new au(48))<0){if(1===n||!r.equals(new au(43)))return null;i=1}else i=0;var o,a=119304647,s=a,u=e,l=0,c=i;if(c<n)do{var h=c;c=c+1|0;var p=Js(Au(t,h),e);if(p<0)return null;if(ho(l,s)>0){if(!Du(new Zr(s),new Zr(a)))return null;if(o=u,ho(l,s=wl(-1).and(new Ju(-1,0)).div_27(wl(o).and(new Ju(-1,0))).toInt_5())>0)return null}var f=l=ml(l,u);if(ho(l=l+p|0,f)<0)return null}while(c<n);return l}function ho(t,e){return Lu(t^Vo()._MIN_VALUE_5,e^Vo()._MIN_VALUE_5)}function po(t,e){$u();var n=t.xor(new Ju(0,-2147483648));return $u(),n.compareTo_48(e.xor(new Ju(0,-2147483648)))}function fo(t,e){var n=t,i=e;if(i.compareTo_48(new Ju(0,0))<0)return po(t,e)<0?new Ju(0,0):new Ju(1,0);if(n.compareTo_48(new Ju(0,0))>=0)return n.div_27(i);var r=n.ushr_0(1).div_27(i).shl_0(1),o=po(n.minus_28(r.times_27(i)),i)>=0?1:0;return r.plus_27(wl(o))}function go(){}function mo(){}function _o(){}function yo(){}function vo(){}function bo(){}function wo(){}function xo(){}function ko(){}function Eo(t,e,n){ko.call(this),this._step=n,this._finalElement=e,this._hasNext=this._step>0?t<=e:t>=e,this._next=this._hasNext?t:this._finalElement}function So(){H=this}function Co(){return null==H&&new So,H}function Io(t,e,n){if(Co(),0===n)throw ec("Step must be non-zero.");if(n===Vo()._MIN_VALUE_5)throw ec("Step must be greater than Int.MIN_VALUE to avoid overflow on negation.");this._first_1=t,this._last=function(t,e,n){var i;if(n>0)i=t>=e?e:e-No(e,t,n)|0;else{if(!(n<0))throw ec("Step is zero.");i=t<=e?e:e+No(t,e,0|-n)|0}return i}(t,e,n),this._step_0=n}function Ao(){}function Po(){W=this,this._EMPTY=new Oo(1,0)}function To(){return null==W&&new Po,W}function Oo(t,e){To(),Io.call(this,t,e,1)}function Lo(){Y=this}function Mo(){return null==Y&&new Lo,Y}function No(t,e,n){return Ro(Ro(t,n)-Ro(e,n)|0,n)}function Ro(t,e){var n=t%e;return n>=0?n:n+e|0}function Do(){Z=this,this._MIN_VALUE_3=-128,this._MAX_VALUE_3=127,this._SIZE_BYTES_3=1,this._SIZE_BITS_3=8}function zo(){return null==Z&&new Do,Z}function Fo(){X=this,this._MIN_VALUE_4=-32768,this._MAX_VALUE_4=32767,this._SIZE_BYTES_4=2,this._SIZE_BITS_4=16}function Bo(){return null==X&&new Fo,X}function jo(){K=this,this._MIN_VALUE_5=-2147483648,this._MAX_VALUE_5=2147483647,this._SIZE_BYTES_5=4,this._SIZE_BITS_5=32}function Vo(){return null==K&&new jo,K}function Uo(){$=this,this._MIN_VALUE_6=14e-46,this._MAX_VALUE_6=34028235e31,this._POSITIVE_INFINITY=1/0,this._NEGATIVE_INFINITY=-1/0,this._NaN=NaN,this._SIZE_BYTES_6=4,this._SIZE_BITS_6=32}function qo(){return null==$&&new Uo,$}function Go(){J=this,this._MIN_VALUE_7=5e-324,this._MAX_VALUE_7=17976931348623157e292,this._POSITIVE_INFINITY_0=1/0,this._NEGATIVE_INFINITY_0=-1/0,this._NaN_0=NaN,this._SIZE_BYTES_7=8,this._SIZE_BITS_7=64}function Ho(){return null==J&&new Go,J}function Wo(){Q=this}function Yo(){return null==Q&&new Wo,Q}function Zo(){tt=this}function Xo(){return null==tt&&new Zo,tt}function Ko(){}function $o(t){return 0===(e=[t]).length?fa():ga(new Ni(e,!0));var e}function Jo(t){return Xi(n=Aa((e=[t]).length),e),n;var e,n}function Qo(t){return t<0&&function(){throw mc("Index overflow has happened.")}(),t}function ta(t){return void 0!==t.toArray?t.toArray():ea(t)}function ea(t){for(var e=[],n=t.iterator_39();n.hasNext_14();)e.push(n.next_14());return e}function na(){C.call(this)}function ia(t){this._$this=t,this._index_1=0,this._last_0=-1}function ra(t,e){this._$this_0=t,ia.call(this,t),yi().checkPositionIndex(e,this._$this_0._get_size__29()),this._set_index__0(e)}function oa(t,e,n){aa.call(this),this._list=t,this._fromIndex=e,this.__size=0,yi().checkRangeIndexes(this._fromIndex,n,this._list._get_size__29()),this.__size=n-this._fromIndex|0}function aa(){na.call(this),this._modCount=0}function sa(t){this._$entryIterator_0=t}function ua(t,e){this._key=t,this.__value_0=e}function la(){pa.call(this)}function ca(t){this._this$0_4=t,pa.call(this)}function ha(){Ci.call(this),this.__keys_0=null,this.__values_0=null}function pa(){na.call(this)}function fa(){return t=Object.create(_a.prototype),_a.call(t,[]),t;var t}function da(t){return e=Object.create(_a.prototype),_a.call(e,[]),e;var e}function ga(t){return function(t,e){return _a.call(e,ta(t)),e}(t,Object.create(_a.prototype))}function ma(t,e){return yi().checkElementIndex(e,t._get_size__29()),e}function _a(t){aa.call(this),this._array=t,this._isReadOnly=!1}function ya(t,e){if(function(){if(null!=et)return et;Mo(),et=!1;var t=[],e=0;if(e<600)do{var n=e;e=e+1|0,t.push(n)}while(e<600);var i,r=(i=new wa,function(t,e){return i.invoke_14(t,e)});t.sort(r);var o=1,a=t.length;if(o<a)do{var s=o;o=o+1|0;var u=t[s-1|0],l=t[s];if((3&u)==(3&l)&&u>=l)return!1}while(o<a);return et=!0,!0}()){var i=(r=new ba(e),function(t,e){return r.invoke_12(t,e)});t.sort(i)}else!function(t,e,n,i){var r=va(t,xu(Array(t.length),null),0,n,i);if(r!==t){var o=0;if(o<=n)do{var a=o;o=o+1|0,t[a]=r[a]}while(a!==n)}}(t,0,n(t),e);var r}function va(t,e,n,i,r){if(n===i)return t;var o=(n+i|0)/2|0,a=va(t,e,n,o,r),s=va(t,e,o+1|0,i,r),u=a===e?t:e,l=n,c=o+1|0,h=n;if(h<=i)do{var p=h;if(h=h+1|0,l<=o&&c<=i){var f=a[l],d=s[c];r.compare(f,d)<=0?(u[p]=f,l=l+1|0,Mo()):(u[p]=d,c=c+1|0,Mo())}else l<=o?(u[p]=a[l],l=l+1|0,Mo()):(u[p]=s[c],c=c+1|0,Mo(),Mo())}while(p!==i);return u}function ba(t){this._$comparator=t}function wa(){}function xa(){nt=this}function ka(){}function Ea(t){this._$this_1=t,la.call(this)}function Sa(t){return function(t,e){ha.call(e),Pa.call(e),e._internalMap=t,e._equality=t._get_equality__0()}(new Fa((null==nt&&new xa,nt)),t),t}function Ca(){return Sa(Object.create(Pa.prototype))}function Ia(t,e,n){if(Sa(n),!(t>=0))throw ec(Fu("Negative initial capacity: "+t));if(!(e>=0))throw ec(Fu("Non-positive load factor: "+e));return n}function Aa(t){return function(t,e){return Ia(t,0,e),e}(t,Object.create(Pa.prototype))}function Pa(){this.__entries=null}function Ta(){return t=Object.create(Ma.prototype),pa.call(t),Ma.call(t),t._map=Ca(),t;var t}function Oa(t){return function(t,e){return function(t,e,n){pa.call(n),Ma.call(n),n._map=function(t,e){return Ia(t,0,Object.create(Pa.prototype))}(t)}(t,0,e),e}(t,Object.create(Ma.prototype))}function La(t,e){return pa.call(e),Ma.call(e),e._map=t,e}function Ma(){}function Na(t,e){var n=Da(t,t._equality_0.getHashCode_0(e));if(null==n)return null;var i=n;if(null!=i&&Al(i))return Ra(i,t,e);var r=i;return t._equality_0.equals_1(r._get_key__3(),e)?r:null}function Ra(t,e,n){var i;t:do{for(var r=t,o=0,a=r.length;o<a;){var s=r[o];if(o=o+1|0,e._equality_0.equals_1(s._get_key__3(),n)){i=s;break t}}i=null}while(0);return i}function Da(t,e){var n=t._backingMap[e];return void 0===n?null:n}function za(t){this._this$0_5=t,this._state=-1,this._keys=Object.keys(this._this$0_5._backingMap),this._keyIndex=-1,this._chainOrEntry=null,this._isChain=!1,this._itemIndex=-1,this._lastEntry=null}function Fa(t){this._equality_0=t,this._backingMap=this.createJsMap_0(),this._size=0}function Ba(){}function ja(t){this._$this_2=t,this._last_1=null,this._next_0=null,this._next_0=this._$this_2._$this_4._head}function Va(t,e,n){this._$this_3=t,ua.call(this,e,n),this._next_1=null,this._prev=null}function Ua(t){this._$this_4=t,la.call(this)}function qa(){return Sa(t=Object.create(Wa.prototype)),Wa.call(t),t._map_0=Ca(),t;var t}function Ga(t,e,n){return Ia(t,e,n),Wa.call(n),n._map_0=Ca(),n}function Ha(t){return function(t,e){return Ga(t,0,e),e}(t,Object.create(Wa.prototype))}function Wa(){this._head=null,this._isReadOnly_0=!1}function Ya(t){return function(t,e){return function(t,e,n){La(function(t,e){return Ga(t,0,Object.create(Wa.prototype))}(t),n),Za.call(n)}(t,0,e),e}(t,Object.create(Za.prototype))}function Za(){}function Xa(){}function Ka(){}function $a(t){if(Ja(t))throw ec("Cannot round NaN value.");return t>Vo()._MAX_VALUE_5?Vo()._MAX_VALUE_5:t<Vo()._MIN_VALUE_5?Vo()._MIN_VALUE_5:yl(Math.round(t))}function Ja(t){return!(t==t)}function Qa(t){return!function(t){var e;return qo(),t===1/0?e=!0:(qo(),e=t===-1/0),e}(t)&&!function(t){return!(t==t)}(t)}function ts(t){return!function(t){var e;return Ho(),t===1/0?e=!0:(Ho(),e=t===-1/0),e}(t)&&!Ja(t)}function es(t){return(t instanceof rs?t:Hu())._get_jClass__2()}function ns(){}function is(){}function rs(t){this._jClass=t}function os(t,e,n){rs.call(this,t),this._givenSimpleName=e,this._isInstanceFunction=n}function as(){it=this,rs.call(this,Object),this._simpleName="Nothing"}function ss(){return null==it&&new as,it}function us(){}function ls(t){rs.call(this,t);var e=t.$metadata$;this._simpleName_0=null==e?null:e.simpleName}function cs(){}function hs(){}function ps(){}function fs(t,e,n){return new ms(t,Xl(e),n)}function ds(t){return sr().invariant(t)}function gs(t){this._this$0_6=t}function ms(t,e,n){this._classifier=t,this._arguments=e,this._isMarkedNullable=n}function _s(){}function ys(){}function vs(){}function bs(){}function ws(){}function xs(){}function ks(){}function Es(){}function Ss(){}function Cs(){}function Is(){}function As(){}function Ps(){}function Ts(){}function Os(){}function Ls(){}function Ms(){}function Ns(){}function Rs(){}function Ds(t){this._$arity=t}function zs(){var t;ot=this,this._anyClass=new os(Object,"Any",(t=new _s,function(e){return t.invoke_58(e)})),this._numberClass=new os(Number,"Number",function(){var t=new ys;return function(e){return t.invoke_58(e)}}()),this._nothingClass=ss();var e=Boolean;this._booleanClass=new os(e,"Boolean",function(){var t=new vs;return function(e){return t.invoke_58(e)}}()),this._byteClass=new os(Number,"Byte",function(){var t=new bs;return function(e){return t.invoke_58(e)}}()),this._shortClass=new os(Number,"Short",function(){var t=new ws;return function(e){return t.invoke_58(e)}}()),this._intClass=new os(Number,"Int",function(){var t=new xs;return function(e){return t.invoke_58(e)}}()),this._floatClass=new os(Number,"Float",function(){var t=new ks;return function(e){return t.invoke_58(e)}}()),this._doubleClass=new os(Number,"Double",function(){var t=new Es;return function(e){return t.invoke_58(e)}}()),this._arrayClass=new os(Array,"Array",function(){var t=new Ss;return function(e){return t.invoke_58(e)}}()),this._stringClass=new os(String,"String",function(){var t=new Cs;return function(e){return t.invoke_58(e)}}());var n=Error;this._throwableClass=new os(n,"Throwable",function(){var t=new Is;return function(e){return t.invoke_58(e)}}()),this._booleanArrayClass=new os(Array,"BooleanArray",function(){var t=new As;return function(e){return t.invoke_58(e)}}());var i=Uint16Array;this._charArrayClass=new os(i,"CharArray",function(){var t=new Ps;return function(e){return t.invoke_58(e)}}());var r=Int8Array;this._byteArrayClass=new os(r,"ByteArray",function(){var t=new Ts;return function(e){return t.invoke_58(e)}}());var o=Int16Array;this._shortArrayClass=new os(o,"ShortArray",function(){var t=new Os;return function(e){return t.invoke_58(e)}}());var a=Int32Array;this._intArrayClass=new os(a,"IntArray",function(){var t=new Ls;return function(e){return t.invoke_58(e)}}()),this._longArrayClass=new os(Array,"LongArray",function(){var t=new Ms;return function(e){return t.invoke_58(e)}}());var s=Float32Array;this._floatArrayClass=new os(s,"FloatArray",function(){var t=new Ns;return function(e){return t.invoke_58(e)}}());var u=Float64Array;this._doubleArrayClass=new os(u,"DoubleArray",function(){var t=new Rs;return function(e){return t.invoke_58(e)}}())}function Fs(){return null==ot&&new zs,ot}function Bs(t){return Array.isArray(t)?function(t){var e;switch(t.length){case 1:e=js(t[0]);break;case 0:e=ss();break;default:e=new us}return e}(t):js(t)}function js(t){if(t===String)return Fs()._stringClass;var e,n=t.$metadata$;if(null!=n){var i;if(null==n.$kClass$){var r=new ls(t);n.$kClass$=r,i=r}else i=n.$kClass$;e=i}else e=new ls(t);return e}function Vs(t){var e;switch(o(t)){case"string":e=Fs()._stringClass;break;case"number":e=Pc(t,0)===t?Fs()._intClass:Fs()._doubleClass;break;case"boolean":e=Fs()._booleanClass;break;case"function":e=Fs().functionClass(t.length);break;default:var n;if(Ll(t))n=Fs()._booleanArrayClass;else if(Rl(t))n=Fs()._charArrayClass;else if(Ml(t))n=Fs()._byteArrayClass;else if(Nl(t))n=Fs()._shortArrayClass;else if(Dl(t))n=Fs()._intArrayClass;else if(Fl(t))n=Fs()._longArrayClass;else if(zl(t))n=Fs()._floatArrayClass;else if(Bl(t))n=Fs()._doubleArrayClass;else if(Cl(t,is))n=Bs(is);else if(Al(t))n=Fs()._arrayClass;else{var i=Object.getPrototypeOf(t).constructor;n=i===Object?Fs()._anyClass:i===Error?Fs()._throwableClass:js(i)}e=n}return e}function Us(){}function qs(t){return Gs(e=Object.create(Ws.prototype)),e;var e}function Gs(t){return Ws.call(t,""),t}function Hs(){return Gs(Object.create(Ws.prototype))}function Ws(t){this._string=void 0!==t?t:""}function Ys(t){var e=t.toString().toUpperCase();return e.length>1?t:Au(e,0)}function Zs(t){return function(t){var e=t.toInt_5();return 9<=e&&e<=13||28<=e&&e<=32||160===e||e>4096&&(5760===e||8192<=e&&e<=8202||8232===e||8233===e||8239===e||8287===e||12288===e)}(t)}function Xs(t){if(!(2<=t&&t<=36))throw ec("radix "+t+" was not in valid range 2..36");return t}function Ks(t){var e=+t;return(Ja(e)&&!Qs(t)||0===e&&tu(t))&&wr(t),e}function $s(t){var e,n=br(t);return null==n?wr(t):e=n,e}function Js(t,e){var n=t.compareTo_9(new au(48))>=0&&t.compareTo_9(new au(57))<=0?t.minus(new au(48)):t.compareTo_9(new au(65))>=0&&t.compareTo_9(new au(90))<=0?t.minus(new au(65))+10|0:t.compareTo_9(new au(97))>=0&&t.compareTo_9(new au(122))<=0?t.minus(new au(97))+10|0:-1;return n>=e?-1:n}function Qs(t){switch(t.toLowerCase()){case"nan":case"+nan":case"-nan":return!0;default:return!1}}function tu(t){return 0===Tu(t)||function(t,e){var n=t.match("^[\\s\\xA0]+$");return null!=n&&!(0===n.length)}("string"==typeof t?t:Fu(t))}function eu(t,e,n){var i;if(null==t)i=null==e;else if(n)if(null==e)i=!1;else{var r=t.toLowerCase(),o=e.toLowerCase();i=r===o||r.toUpperCase()===o.toUpperCase()}else i=t==e;return i}function nu(t,e,n,i,r,o){return Cr(t,e,n,i,r,o)}function iu(t){return Tu(t)>0?t.substring(0,1).toUpperCase()+t.substring(1):t}function ru(){at=this,this._MIN_VALUE_8=new au(0),this._MAX_VALUE_8=new au(65535),this._MIN_HIGH_SURROGATE=new au(55296),this._MAX_HIGH_SURROGATE=new au(56319),this._MIN_LOW_SURROGATE=new au(56320),this._MAX_LOW_SURROGATE=new au(57343),this._MIN_SURROGATE=new au(55296),this._MAX_SURROGATE=new au(57343),this._SIZE_BYTES_8=2,this._SIZE_BITS_8=16}function ou(){return null==at&&new ru,at}function au(t){ou(),this._value_0=65535&t}function su(){}function uu(){}function lu(){}function cu(){}function hu(){}function pu(){}function fu(){}function du(){}function gu(){}function mu(){}function _u(){}function yu(){}function vu(){st=this}function bu(t,e){null==st&&new vu,this._name=t,this._ordinal=e}function wu(t){var e=null==t?null:Fu(t);return null==e?"null":e}function xu(t,e){var n=0,i=t.length-1|0;if(n<=i)do{var r=n;n=n+1|0,t[r]=e}while(r!==i);return t}function ku(t){return new Cu(t)}function Eu(t){var e=xu(Array(t),!1);return e.$type$="BooleanArray",e}function Su(t){var e,n=Array(t);if(ou(),0<new au(0).toInt_5()?e=!0:(ou(),e=0>new au(65535).toInt_5()),e)throw ec("Invalid Char code: 0");var i=xu(n,new au(vl(0)));return i.$type$="CharArray",i}function Cu(t){this._$array=t,this._index_2=0}function Iu(t){return Pc(t,0)===t?yl(t):(lt[0]=t,ml(ct[pt],31)+ct[ht]|0)}function Au(t,e){var n;if(Pu(t)){var i,r=t.charCodeAt(e);if(ou(),r<new au(0).toInt_5()?i=!0:(ou(),i=r>new au(65535).toInt_5()),i)throw ec("Invalid Char code: "+r);n=new au(vl(r))}else n=t.get_29(e);return n}function Pu(t){return"string"==typeof t}function Tu(t){return Pu(t)?t.length:t._get_length__0()}function Ou(){}function Lu(t,e){var n;switch(o(t)){case"number":n="number"==typeof e?Mu(t,e):e instanceof Ju?Mu(t,e.toDouble_4()):Nu(t,e);break;case"string":case"boolean":n=Nu(t,e);break;default:n=function(t,e){return t.compareTo_14(e)}(t,e)}return n}function Mu(t,e){var n;if(t<e)n=-1;else if(t>e)n=1;else if(t===e){var i;if(0!==t)i=0;else{var r=1/t;i=r===1/e?0:r<0?-1:1}n=i}else n=t!=t?e!=e?0:1:-1;return n}function Nu(t,e){return t<e?-1:t>e?1:0}function Ru(t){if(!Ac("kotlinHashCodeValue$",t)){var e=Pc(4294967296*Math.random(),0),n=new Object;n.value=e,n.enumerable=!1,Object.defineProperty(t,"kotlinHashCodeValue$",n)}return t.kotlinHashCodeValue$}function Du(t,e){return null==t?null==e:null!=e&&("object"==o(t)&&"function"==typeof t.equals?t.equals(e):t!=t?e!=e:"number"==typeof t&&"number"==typeof e?t===e&&(0!==t||1/t==1/e):t===e)}function zu(t){if(null==t)return 0;var e;switch(o(t)){case"object":e="function"==typeof t.hashCode?t.hashCode():Ru(t);break;case"function":e=Ru(t);break;case"number":e=Iu(t);break;case"boolean":e=t?1:0;break;default:e=Bu(function(t){return String(t)}(t))}return e}function Fu(t){return null==t?"null":El(t)?"[...]":t.toString()}function Bu(t){var e=0,n=0,i=t.length-1|0;if(n<=i)do{var r=n;n=n+1|0;var o=t.charCodeAt(r);e=ml(e,31)+o|0}while(r!==i);return e}function ju(t,e){null!=Error.captureStackTrace?Error.captureStackTrace(t,e):t.stack=(new Error).stack}function Vu(t,e,n){Error.call(t),function(t,e,n){if(!Uu(t,"message")){var i;if(null==e){var r;if(null!==e){var o=null==n?null:n.toString();r=null==o?void 0:o}else r=void 0;i=r}else i=e;t.message=i}Uu(t,"cause")||(t.cause=n),t.name=Object.getPrototypeOf(t).constructor.name}(t,e,n)}function Uu(t,e){return Object.getPrototypeOf(t).hasOwnProperty(e)}function qu(t){var e;return null==t?function(){throw bc()}():e=t,e}function Gu(){throw xc()}function Hu(){throw Ec()}function Wu(t){throw Cc("lateinit property "+t+" has not been initialized")}function Yu(t){return new Mr(t)}function Zu(t,e){for(var n=t.length,i=e.length,r=0,o=e;r<n&&r<i;){var a=r,s=r;r=s+1|0,o[a]=t[s]}return e}function Xu(t,e,n){var i=t.slice(0,e);void 0!==t.$type$&&(i.$type$=t.$type$);var r=t.length;if(e>r)for(i.length=e;r<e;){var o=r;r=o+1|0,i[o]=n}return i}function Ku(){ft=this,this._MIN_VALUE_9=new Ju(0,-2147483648),this._MAX_VALUE_9=new Ju(-1,2147483647),this._SIZE_BYTES_9=8,this._SIZE_BITS_9=64}function $u(){return null==ft&&new Ku,ft}function Ju(t,e){$u(),xo.call(this),this._low=t,this._high=e}function Qu(t,e){if(ol(t,e))return 0;var n=ul(t),i=ul(e);return n&&!i?-1:!n&&i?1:ul(el(t,e))?-1:1}function tl(t,e){var n=0,i=0,r=0,o=0;return n=(n=n+((i=(i=i+((r=(r=r+((o=o+((65535&t._low)+(65535&e._low)|0)|0)>>>16)|0)+((t._low>>>16)+(e._low>>>16)|0)|0)>>>16)|0)+((65535&t._high)+(65535&e._high)|0)|0)>>>16)|0)+((t._high>>>16)+(e._high>>>16)|0)|0,new Ju((r&=65535)<<16|(o&=65535),(n&=65535)<<16|(i&=65535))}function el(t,e){return tl(t,e.unaryMinus_4())}function nl(t,e){if(ll(t))return dt;if(ll(e))return dt;if(ol(t,yt))return cl(e)?yt:dt;if(ol(e,yt))return cl(t)?yt:dt;if(ul(t))return ul(e)?nl(hl(t),hl(e)):hl(nl(hl(t),e));if(ul(e))return hl(nl(t,hl(e)));if(pl(t,vt)&&pl(e,vt))return fl(rl(t)*rl(e));var n=t._high>>>16,i=65535&t._high,r=t._low>>>16,o=65535&t._low,a=e._high>>>16,s=65535&e._high,u=e._low>>>16,l=65535&e._low,c=0,h=0,p=0,f=0;return p=p+((f=f+ml(o,l)|0)>>>16)|0,f&=65535,h=(h=h+((p=p+ml(r,l)|0)>>>16)|0)+((p=(p&=65535)+ml(o,u)|0)>>>16)|0,p&=65535,c=(c=(c=c+((h=h+ml(i,l)|0)>>>16)|0)+((h=(h&=65535)+ml(r,u)|0)>>>16)|0)+((h=(h&=65535)+ml(o,s)|0)>>>16)|0,h&=65535,c=c+(((ml(n,l)+ml(i,u)|0)+ml(r,s)|0)+ml(o,a)|0)|0,new Ju(p<<16|f,(c&=65535)<<16|h)}function il(t,e){var n=63&e;return 0===n?t:n<32?new Ju(t._low<<n,t._high<<n|t._low>>>(32-n|0)):new Ju(0,t._low<<(n-32|0))}function rl(t){return 4294967296*t._high+function(t){return t._low>=0?t._low:4294967296+t._low}(t)}function ol(t,e){return t._high===e._high&&t._low===e._low}function al(t,e){if(e<2||36<e)throw $l("radix out of range: "+e);if(ll(t))return"0";if(ul(t)){if(ol(t,yt)){var n=sl(e),i=t.div_27(n),r=el(nl(i,n),t).toInt_5();return al(i,e)+r.toString(e)}return"-"+al(hl(t),e)}for(var o=fl(Math.pow(e,6)),a=t,s="";;){var u=a.div_27(o),l=el(a,nl(u,o)).toInt_5().toString(e);if(ll(a=u))return l+s;for(;l.length<6;)l="0"+l;s=l+s}}function sl(t){return new Ju(t,t<0?-1:0)}function ul(t){return t._high<0}function ll(t){return 0===t._high&&0===t._low}function cl(t){return 1==(1&t._low)}function hl(t){return t.unaryMinus_4()}function pl(t,e){return Qu(t,e)<0}function fl(t){if(Ja(t))return dt;if(t<=-0x8000000000000000)return yt;if(t+1>=0x8000000000000000)return _t;if(t<0)return hl(fl(-t));var e=4294967296;return new Ju(Pc(t%e,0),Pc(t/e,0))}function dl(t,e){return Qu(t,e)>0}function gl(t,e){return Qu(t,e)>=0}function ml(t,e){return Pc(Oc(t,4294901760)*Oc(e,65535)+Oc(t,65535)*e,0)}function _l(t){return function(t){return t<<24>>24}(t)}function yl(t){return t instanceof Ju?t.toInt_5():function(t){return t>2147483647?2147483647:t<-2147483648?-2147483648:Pc(t,0)}(t)}function vl(t){return function(t){return t<<16>>16}(t)}function bl(t){var e,n=65535&yl(t);if(ou(),n<new au(0).toInt_5()?e=!0:(ou(),e=n>new au(65535).toInt_5()),e)throw ec("Invalid Char code: "+n);return new au(vl(n))}function wl(t){return sl(t)}function xl(t,e){return new Oo(t,e)}function kl(t,e,n,i,r){var o,a;return i.get=i,i.set=r,i.callableName=t,o=i,a=function(t,e,n){var i=bt[t][null==e?0:1];return 0==i.interfaces.length&&i.interfaces.push(n),i}(e,r,n),o.$metadata$=a,o.constructor=o,o}function El(t){return!!Sl(t)||ArrayBuffer.isView(t)}function Sl(t){return Array.isArray(t)}function Cl(t,e){var n=t.constructor;return null!=n&&Il(n,e)}function Il(t,e){if(t===e)return!0;var n=t.$metadata$;if(null!=n)for(var i=n.interfaces,r=0,o=i.length;r<o;){var a=i[r];if(r=r+1|0,Il(a,e))return!0}var s=null!=t.prototype?Object.getPrototypeOf(t.prototype):null,u=null!=s?s.constructor:null;return null!=u&&Il(u,e)}function Al(t){return!!Sl(t)&&!t.$type$}function Pl(t){switch(o(t)){case"string":case"number":case"boolean":case"function":return!0;default:return Tc(t,Object)}}function Tl(t){return"number"==typeof t||t instanceof Ju}function Ol(t){return"string"==typeof t||Cl(t,es(Bs(mo)))}function Ll(t){return!!Sl(t)&&"BooleanArray"===t.$type$}function Ml(t){return Tc(t,Int8Array)}function Nl(t){return Tc(t,Int16Array)}function Rl(t){return!!Sl(t)&&"CharArray"===t.$type$}function Dl(t){return Tc(t,Int32Array)}function zl(t){return Tc(t,Float32Array)}function Fl(t){return!!Sl(t)&&"LongArray"===t.$type$}function Bl(t){return Tc(t,Float64Array)}function jl(t,e){if(!(e>=0))throw ec(Fu("Invalid new array size: "+e+"."));var n=Zu(t,Su(e));return n.$type$="CharArray",n}function Vl(t,e){if(!(e>=0))throw ec(Fu("Invalid new array size: "+e+"."));return Zu(t,new Float64Array(e))}function Ul(t,e){if(!(e>=0))throw ec(Fu("Invalid new array size: "+e+"."));return Zu(t,new Float32Array(e))}function ql(t,e){if(!(e>=0))throw ec(Fu("Invalid new array size: "+e+"."));var n=Xu(t,e,new Ju(0,0));return n.$type$="LongArray",n}function Gl(t,e){if(!(e>=0))throw ec(Fu("Invalid new array size: "+e+"."));return Zu(t,new Int32Array(e))}function Hl(t,e){if(!(e>=0))throw ec(Fu("Invalid new array size: "+e+"."));return Zu(t,new Int16Array(e))}function Wl(t,e){if(!(e>=0))throw ec(Fu("Invalid new array size: "+e+"."));return Zu(t,new Int8Array(e))}function Yl(t,e){if(!(e>=0))throw ec(Fu("Invalid new array size: "+e+"."));var n=Xu(t,e,!1);return n.$type$="BooleanArray",n}function Zl(t,e){return function(t,e){var n=t,i=e;if(n===i)return!0;if(null==n||null==i||!El(i)||n.length!=i.length)return!1;var r=0,o=n.length;if(r<o)do{var a=r;if(r=r+1|0,!Du(n[a],i[a]))return!1}while(r<o);return!0}(t,e)}function Xl(t){return new _a(t)}function Kl(t,e){return Vu(e,t,void 0),Jl.call(e),e}function $l(t){var e=Kl(t,Object.create(Jl.prototype));return ju(e,$l),e}function Jl(){ju(this,Jl)}function Ql(){var t,e=(ic(t=Object.create(nc.prototype)),nc.call(t),t);return ju(e,Ql),e}function tc(t,e){return rc(t,e),nc.call(e),e}function ec(t){var e=tc(t,Object.create(nc.prototype));return ju(e,ec),e}function nc(){ju(this,nc)}function ic(t){return function(t){Vu(t,void 0,void 0),Jl.call(t)}(t),oc.call(t),t}function rc(t,e){return Kl(t,e),oc.call(e),e}function oc(){ju(this,oc)}function ac(){var t,e=(ic(t=Object.create(uc.prototype)),uc.call(t),t);return ju(e,ac),e}function sc(t){var e=function(t,e){return rc(t,e),uc.call(e),e}(t,Object.create(uc.prototype));return ju(e,sc),e}function uc(){ju(this,uc)}function lc(t){var e=function(t,e){return rc(t,e),cc.call(e),e}(t,Object.create(cc.prototype));return ju(e,lc),e}function cc(){ju(this,cc)}function hc(t){var e=function(t,e){return rc(t,e),pc.call(e),e}(t,Object.create(pc.prototype));return ju(e,hc),e}function pc(){ju(this,pc)}function fc(){var t,e=(ic(t=Object.create(gc.prototype)),gc.call(t),t);return ju(e,fc),e}function dc(t){var e=function(t,e){return rc(t,e),gc.call(e),e}(t,Object.create(gc.prototype));return ju(e,dc),e}function gc(){ju(this,gc)}function mc(t){var e=function(t,e){return rc(t,e),_c.call(e),e}(t,Object.create(_c.prototype));return ju(e,mc),e}function _c(){ju(this,_c)}function yc(t){var e=function(t,e){return tc(t,e),vc.call(e),e}(t,Object.create(vc.prototype));return ju(e,yc),e}function vc(){ju(this,vc)}function bc(){var t,e=(ic(t=Object.create(wc.prototype)),wc.call(t),t);return ju(e,bc),e}function wc(){ju(this,wc)}function xc(){var t,e=(ic(t=Object.create(kc.prototype)),kc.call(t),t);return ju(e,xc),e}function kc(){ju(this,kc)}function Ec(){var t,e=(ic(t=Object.create(Sc.prototype)),Sc.call(t),t);return ju(e,Ec),e}function Sc(){ju(this,Sc)}function Cc(t){var e=function(t,e){return rc(t,e),Ic.call(e),e}(t,Object.create(Ic.prototype));return ju(e,Cc),e}function Ic(){ju(this,Ic)}function Ac(t,e){return function(t,e){return t in e}(t,e)}function Pc(t,e){return function(t,e){return t|e}(t,e)}function Tc(t,e){return function(t,e){return t instanceof e}(t,e)}function Oc(t,e){return function(t,e){return t&e}(t,e)}function Lc(t,e){return al(t,Xs(e))}function Mc(){}function Nc(){}function Rc(){}function Dc(t){this._this$0_7=t}function zc(t){cp.call(this),this._baseClass=t;var e,n=(null==zt&&new Qh,zt);this._descriptor=new fh(_h("kotlinx.serialization.Polymorphic",n,[],(e=new Dc(this),function(t){return e.invoke_94(t),Mo()}),4),this._baseClass)}function Fc(t,e,n){var i,r=t.findPolymorphicSerializerOrNull_2(e,n);return null==r?function(t,e){var n=t._get_simpleName__4();hp(null==n?""+t:n,e)}(Vs(n),t._get_baseClass__0()):i=r,i}function Bc(t,e,n){var i,r=t.findPolymorphicSerializerOrNull_1(e,n);return null==r?hp(n,t._get_baseClass__0()):i=r,i}function jc(){}function Vc(){}function Uc(){}function qc(t){var e=function(t,e){return Gc.call(e,"An unknown field for index "+t),e}(t,Object.create(Gc.prototype));return ju(e,qc),e}function Gc(t){Yc(t,this),ju(this,Gc)}function Hc(t){var e=function(t,e){return Wc.call(e,"Field '"+t+"' is required, but it was missing",null),e}(t,Object.create(Wc.prototype));return ju(e,Hc),e}function Wc(t,e){!function(t,e,n){(function(t,e,n){(function(t,e,n){(function(t,e,n){Vu(n,t,e),Jl.call(n)})(t,e,n),oc.call(n)})(t,e,n),nc.call(n)})(t,e,n),Xc.call(n)}(t,e,this),ju(this,Wc)}function Yc(t,e){return tc(t,e),Xc.call(e),e}function Zc(t){var e=Yc(t,Object.create(Xc.prototype));return ju(e,Zc),e}function Xc(){ju(this,Xc)}function Kc(t,e){var n,i=$c(t,e,!0);return null==i?function(t){throw Zc("Serializer for class '"+t._get_simpleName__4()+"' is not found.\nMark the class as @Serializable or provide the serializer explicitly.\nOn Kotlin/JS explicitly declared serializer should be used for interfaces and enums without @Serializable annotation")}(Zp(e)):n=i,n}function $c(t,e,n){for(var i=Zp(e),r=e._get_isMarkedNullable__0(),o=e._get_arguments__0(),a=da(Vi(o,10)),s=o.iterator_39();s.hasNext_14();){var u,l=s.next_14();t:do{var c=l._type;if(null==c)throw ec(Fu("Star projections in type arguments are not allowed, but had "+e));u=c;break t}while(0);a.add_18(u),Mo()}var h,p=a;if(p.isEmpty_29()){var f=Jc(i);h=null==f?t.getContextual$default(i,null,2,null):f}else h=function(t,e,n,i){var r;if(i){for(var o=da(Vi(e,10)),a=e.iterator_39();a.hasNext_14();){var s=a.next_14();o.add_18(Kc(t,s)),Mo()}r=o}else{for(var u=da(Vi(e,10)),l=e.iterator_39();l.hasNext_14();){var c=Qc(t,l.next_14());if(null==c)return null;u.add_18(c),Mo()}r=u}var h,p=r,f=n;if(f.equals(Bs(mu))||f.equals(Bs(cu))||f.equals(Bs(hu))||f.equals(Bs(_a)))h=new Ip(p.get_29(0));else if(f.equals(Bs(Ma)))h=new Tp(p.get_29(0));else if(f.equals(Bs(fu))||f.equals(Bs(pu))||f.equals(Bs(Za)))h=new Op(p.get_29(0));else if(f.equals(Bs(Pa)))h=new Lp(p.get_29(0),p.get_29(1));else if(f.equals(Bs(lu))||f.equals(Bs(gu))||f.equals(Bs(Wa)))h=new Ap(p.get_29(0),p.get_29(1));else if(f.equals(Bs(uu)))h=new Hf(p.get_29(0),p.get_29(1));else if(f.equals(Bs(Dr)))h=function(t,e){return new Yf(t,e)}(p.get_29(0),p.get_29(1));else if(f.equals(Bs(Fr)))h=new Xf(p.get_29(0),p.get_29(1),p.get_29(2));else{if(function(t){return t.equals(Fs()._get_arrayClass_())}(n)){var d=e.get_29(0)._get_classifier__0(),g=new Cp(null!=d&&Cl(d,is)?d:Hu(),p.get_29(0));return Cl(g,Mc)?g:Hu()}var m=ad(n,ta(p).slice());h=null==m?function(t,e,n){var i=Jc(e);return null==i?t.getContextual_0(e,n):i}(t,n,p):m}return h}(t,p,i,n);var d,g=h;return null==(d=null==g?null:null!=g&&Cl(g,Mc)?g:Hu())?null:function(t,e){return e?function(t){return t._get_descriptor__66()._get_isNullable__17()?Cl(t,Mc)?t:Hu():new qp(t)}(t):Cl(t,Mc)?t:Hu()}(d,r)}function Jc(t){var e=function(t){var e,n=ad(t,[]);if(null==n){var i=es(t).Companion,r=null==i?null:i.serializer();e=null!=r&&Cl(r,Mc)?r:null}else e=n;return e}(t);return null==e?function(t){var e=Qt.get_17(t);return null==e||Cl(e,Mc)?e:Hu()}(t):e}function Qc(t,e){return $c(t,e,!1)}function th(t){return Kc(he,t)}function eh(t){return kf()}function nh(t){return null==ee&&new Ef,ee}function ih(t){return Cf()}function rh(t){return null==ie&&new If,ie}function oh(t){return null==re&&new Af,re}function ah(t){return Tf()}function sh(t){return null==ae&&new Of,ae}function uh(t){return null==se&&new Lf,se}function lh(t){return Nf()}function ch(t){return null==jt&&new Bp,jt}function hh(t,e){return new Ap(t,e)}function ph(t){return new Ip(t)}function fh(t,e){this._original=t,this._kClass=e,this._serialName=this._original._get_serialName__17()+"<"+this._kClass._get_simpleName__4()+">"}function dh(){}function gh(t){this._$this_elementDescriptors=t,this._elementsLeft=this._$this_elementDescriptors._get_elementsCount__17()}function mh(t){this._$this_elementDescriptors_0=t}function _h(t,n,i,r,o,a){var s;return 0!=(8&o)&&(s=new Eh,r=function(t){return s.invoke_94(t),Mo()}),function(t,n,i,r){if(tu(t))throw ec(Fu("Blank serial names are prohibited"));if(Du(n,qh()))throw ec(Fu("For StructureKind.CLASS please use 'buildClassSerialDescriptor' instead"));var o=new yh(t);return r(o),new xh(t,n,o._elementNames._get_size__29(),e(i),o)}(t,n,i,r)}function yh(t){this._serialName_0=t,this._isNullable=!1,this._annotations=Ti(),this._elementNames=fa(),this._uniqueNames=Ta(),this._elementDescriptors=fa(),this._elementAnnotations=fa(),this._elementOptionality=fa()}function vh(t){var e=t.__hashCode$delegate;return kl("_hashCode",1,cs,function(t){return vh(t)},null),e._get_value__15()}function bh(t){this._this$0_8=t}function wh(t){this._this$0_9=t}function xh(t,e,n,i,r){var o,a;this._serialName_1=t,this._kind=e,this._elementsCount=n,this._annotations_0=r._annotations,this._serialNames=d(o=r._elementNames,Oa(Vi(o,12))),this._elementNames_0=ta(r._elementNames),this._elementDescriptors_0=Wp(r._elementDescriptors),this._elementAnnotations_0=ta(r._elementAnnotations),this._elementOptionality_0=function(t){for(var e=Eu(t._get_size__29()),n=0,i=t.iterator_39();i.hasNext_14();){var r=i.next_14(),o=n;n=o+1|0,e[o]=r}return e}(r._elementOptionality);for(var s=function(t){return new ji((e=new l(t),function(){return e.invoke_97()}));var e}(this._elementNames_0),u=da(Vi(s,10)),c=s.iterator_39();c.hasNext_14();){var h=c.next_14();u.add_18(zr(h._value,h._index)),Mo()}this._name2Index=function(t){if(Cl(t,mu)){var e;switch(t._get_size__29()){case 0:e=Hi();break;case 1:e=Jo(Cl(t,cu)?t.get_29(0):t.iterator_39().next_14());break;default:e=Zi(t,Ha(t._get_size__29()))}return e}return function(t){var e;switch(t._get_size__29()){case 0:e=Hi();break;case 1:default:e=t}return e}(Zi(t,qa()))}(u),this._typeParametersDescriptors=Wp(i),this.__hashCode$delegate=Yu((a=new bh(this),function(){return a.invoke_97()}))}function kh(t,n,i,r,o){var a;return 0!=(4&r)&&(a=new Sh,i=function(t){return a.invoke_94(t),Mo()}),function(t,n,i){if(tu(t))throw ec(Fu("Blank serial names are prohibited"));var r=new yh(t);return i(r),new xh(t,qh(),r._elementNames._get_size__29(),e(n),r)}(t,n,i)}function Eh(){}function Sh(){}function Ch(){wt=this,Th.call(this)}function Ih(){return null==wt&&new Ch,wt}function Ah(){xt=this,Th.call(this)}function Ph(){return null==xt&&new Ah,xt}function Th(){}function Oh(){kt=this,Vh.call(this)}function Lh(){Et=this,Vh.call(this)}function Mh(){St=this,Vh.call(this)}function Nh(){Ct=this,Vh.call(this)}function Rh(){It=this,Vh.call(this)}function Dh(){At=this,Vh.call(this)}function zh(){Pt=this,Vh.call(this)}function Fh(){Tt=this,Vh.call(this)}function Bh(){Ot=this,Vh.call(this)}function jh(){return null==Ot&&new Bh,Ot}function Vh(){Th.call(this)}function Uh(){Lt=this,Kh.call(this)}function qh(){return null==Lt&&new Uh,Lt}function Gh(){Mt=this,Kh.call(this)}function Hh(){return null==Mt&&new Gh,Mt}function Wh(){Nt=this,Kh.call(this)}function Yh(){return null==Nt&&new Wh,Nt}function Zh(){Rt=this,Kh.call(this)}function Xh(){return null==Rt&&new Zh,Rt}function Kh(){Th.call(this)}function $h(){Dt=this,tp.call(this)}function Jh(){return null==Dt&&new $h,Dt}function Qh(){zt=this,tp.call(this)}function tp(){Th.call(this)}function ep(){}function np(){}function ip(){}function rp(){Ft=this,this._DECODE_DONE=-1,this._UNKNOWN_NAME=-3}function op(){return null==Ft&&new rp,Ft}function ap(){}function sp(){}function up(){}function lp(t,e){var n=e.decodeStringElement_9(t._get_descriptor__66(),0),i=Bc(t,e,n),r=t._get_descriptor__66();return e.decodeSerializableElement$default_9(r,1,i,null,8,null)}function cp(){}function hp(t,e){var n="in the scope of '"+e._get_simpleName__4()+"'";throw Zc(null==t?"Class discriminator was missing and no default polymorphic serializers were registered "+n:"Class '"+t+"' is not registered for polymorphic serialization "+n+".\nMark the base class as 'sealed' or register the serializer explicitly.")}function pp(){}function fp(t){dp.call(this,t),this._serialName_2=t._get_serialName__17()+"Array"}function dp(t){this._elementDescriptor=t,this._elementsCount_0=1}function gp(t){dp.call(this,t)}function mp(t){dp.call(this,t)}function _p(t,e){yp.call(this,"kotlin.collections.LinkedHashMap",t,e)}function yp(t,e,n){this._serialName_3=t,this._keyDescriptor=e,this._valueDescriptor=n,this._elementsCount_1=2}function vp(t){dp.call(this,t)}function bp(t){dp.call(this,t)}function wp(t,e){yp.call(this,"kotlin.collections.HashMap",t,e)}function xp(t){Ep.call(this,t),this._descriptor_0=new fp(t._get_descriptor__66())}function kp(){}function Ep(t){Sp.call(this),this._elementSerializer=t}function Sp(){}function Cp(t,e){Ep.call(this,e),this._kClass_0=t,this._descriptor_1=new gp(e._get_descriptor__66())}function Ip(t){Ep.call(this,t),this._descriptor_2=new mp(t._get_descriptor__66())}function Ap(t,e){Pp.call(this,t,e),this._descriptor_3=new _p(t._get_descriptor__66(),e._get_descriptor__66())}function Pp(t,e){Sp.call(this),this._keySerializer=t,this._valueSerializer=e}function Tp(t){Ep.call(this,t),this._descriptor_4=new vp(t._get_descriptor__66())}function Op(t){Ep.call(this,t),this._descriptor_5=new bp(t._get_descriptor__66())}function Lp(t,e){Pp.call(this,t,e),this._descriptor_6=new wp(t._get_descriptor__66(),e._get_descriptor__66())}function Mp(t,e){this._this$0_10=t,this._$serialName=e}function Np(t,e){this._values_0=e;var n,i=Ih();this._descriptor_7=_h(t,i,[],(n=new Mp(this,t),function(t){return n.invoke_94(t),Mo()}),4)}function Rp(t,e){return new Dp(t,new zp(e))}function Dp(t,e){nf.call(this,t,e,1),this._isInline=!0}function zp(t){this._$primitiveSerializer=t}function Fp(){Bt=this,this._descriptor_8=Rp("kotlin.UInt",ah(Vo()))}function Bp(){jt=this,this._descriptor_9=Rp("kotlin.ULong",oh($u()))}function jp(){Vt=this,this._descriptor_10=Rp("kotlin.UByte",uh(zo()))}function Vp(){Ut=this,this._descriptor_11=Rp("kotlin.UShort",sh(Bo()))}function Up(t){return Yp(t)}function qp(t){this._serializer=t,this._descriptor_12=new Gp(this._serializer._get_descriptor__66())}function Gp(t){this._original_0=t,this._serialName_4=this._original_0._get_serialName__17()+"?",this._serialNames_0=Yp(this._original_0)}function Hp(t,e){this._objectInstance=e;var n=Xh();this._descriptor_13=_h(t,n,[],null,12)}function Wp(t){var e,n;return null==(n=null==(e=null==t||t.isEmpty_29()?null:t)?null:ta(e))?qt:n}function Yp(t){if(Cl(t,pp))return t._get_serialNames__3();var e=Oa(t._get_elementsCount__17()),n=0,i=t._get_elementsCount__17();if(n<i)do{var r=n;n=n+1|0;var o=t.getElementName_17(r);e.add_18(o),Mo()}while(n<i);return e}function Zp(t){var e=t._get_classifier__0();if(null==e||!Cl(e,is))throw lc(Fu("Only KClass supported as classifier, got "+e));var n=e;return Cl(n,is)?n:Hu()}function Xp(t,e){var n=Bu(t._get_serialName__17());n=ml(31,n)+function(t){return function(t){var e=t;if(null==e)return 0;var n=1,i=0,r=e.length;if(i<r)do{var o=i;i=i+1|0,n=ml(n,31)+zu(e[o])|0}while(i<r);return n}(t)}(e)|0;for(var i=function(t){return new mh(t)}(t),r=1,o=i.iterator_39();o.hasNext_14();){var a=o.next_14(),s=ml(31,r),u=a._get_serialName__17(),l=null==u?null:zu(u);r=s+(null==l?0:l)|0}for(var c=r,h=1,p=i.iterator_39();p.hasNext_14();){var f=p.next_14(),d=ml(31,h),g=f._get_kind__17(),m=null==g?null:zu(g);h=d+(null==m?0:m)|0}var _=h;return n=ml(31,n)+c|0,ml(31,n)+_|0}function Kp(t){var e=t._childSerializers$delegate;return kl("childSerializers",1,cs,function(t){return Kp(t)},null),e._get_value__15()}function $p(t){var e=t.__hashCode$delegate_0;return kl("_hashCode",1,cs,function(t){return $p(t)},null),e._get_value__15()}function Jp(t){this._this$0_11=t}function Qp(t){this._this$0_12=t}function tf(t){this._this$0_13=t}function ef(t){this._this$0_14=t}function nf(t,e,n){this._serialName_5=t,this._generatedSerializer=e,this._elementsCount_2=n,this._added=-1;for(var i=0,r=this._elementsCount_2,o=xu(Array(r),null);i<r;)o[i]="[UNINITIALIZED]",i=i+1|0;var a;this._names=o,this._propertiesAnnotations=xu(Array(this._elementsCount_2),null),this._classAnnotations=null,this._elementsOptionality=Eu(this._elementsCount_2),this._indices=Hi(),this._childSerializers$delegate=Yu((a=new Jp(this),function(){return a.invoke_97()})),this._typeParameterDescriptors$delegate=Yu(function(t){var e=new Qp(t);return function(){return e.invoke_97()}}(this)),this.__hashCode$delegate_0=Yu(function(t){var e=new tf(t);return function(){return e.invoke_97()}}(this))}function rf(){}function of(){}function af(){Ht=this,xp.call(this,nh(ou()))}function sf(){Wt=this,xp.call(this,ih(Ho()))}function uf(){Yt=this,xp.call(this,rh(qo()))}function lf(){Zt=this,xp.call(this,oh($u()))}function cf(){Xt=this,xp.call(this,ah(Vo()))}function hf(){Kt=this,xp.call(this,sh(Bo()))}function pf(){$t=this,xp.call(this,uh(zo()))}function ff(){Jt=this,xp.call(this,lh(Xo()))}function df(t){kp.call(this),this._buffer=t,this._position=t.length,this.ensureCapacity_8(10)}function gf(t){kp.call(this),this._buffer_0=t,this._position_0=t.length,this.ensureCapacity_8(10)}function mf(t){kp.call(this),this._buffer_1=t,this._position_1=t.length,this.ensureCapacity_8(10)}function _f(t){kp.call(this),this._buffer_2=t,this._position_2=t.length,this.ensureCapacity_8(10)}function yf(t){kp.call(this),this._buffer_3=t,this._position_3=t.length,this.ensureCapacity_8(10)}function vf(t){kp.call(this),this._buffer_4=t,this._position_4=t.length,this.ensureCapacity_8(10)}function bf(t){kp.call(this),this._buffer_5=t,this._position_5=t.length,this.ensureCapacity_8(10)}function wf(t){kp.call(this),this._buffer_6=t,this._position_6=t.length,this.ensureCapacity_8(10)}function xf(){te=this,this._descriptor_14=new zf("kotlin.String",jh())}function kf(){return null==te&&new xf,te}function Ef(){ee=this,this._descriptor_15=new zf("kotlin.Char",(null==St&&new Mh,St))}function Sf(){ne=this,this._descriptor_16=new zf("kotlin.Double",(null==Tt&&new Fh,Tt))}function Cf(){return null==ne&&new Sf,ne}function If(){ie=this,this._descriptor_17=new zf("kotlin.Float",(null==Pt&&new zh,Pt))}function Af(){re=this,this._descriptor_18=new zf("kotlin.Long",(null==At&&new Dh,At))}function Pf(){oe=this,this._descriptor_19=new zf("kotlin.Int",(null==It&&new Rh,It))}function Tf(){return null==oe&&new Pf,oe}function Of(){ae=this,this._descriptor_20=new zf("kotlin.Short",(null==Ct&&new Nh,Ct))}function Lf(){se=this,this._descriptor_21=new zf("kotlin.Byte",(null==Et&&new Lh,Et))}function Mf(){ue=this,this._descriptor_22=new zf("kotlin.Boolean",(null==kt&&new Oh,kt))}function Nf(){return null==ue&&new Mf,ue}function Rf(){le=this,this._$$delegate_0=new Hp("kotlin.Unit",Mo())}function Df(t){throw lc("Primitive descriptor does not have elements")}function zf(t,e){this._serialName_6=t,this._kind_0=e}function Ff(){Uf.call(this)}function Bf(t,e,n){t.pushTag_0(e);var i=n();return t._flag||(t.popTag_5(),Mo()),t._flag=!1,i}function jf(t,e,n){this._this$0_15=t,this._$deserializer=e,this._$previousValue=n}function Vf(t,e,n){this._this$0_16=t,this._$deserializer_0=e,this._$previousValue_0=n}function Uf(){this._tagStack=fa(),this._flag=!1}function qf(t,e){this._key_0=t,this._value_1=e}function Gf(t,e){this._$keySerializer=t,this._$valueSerializer=e}function Hf(t,e){Kf.call(this,t,e);var n,i=Yh();this._descriptor_23=_h("kotlin.collections.Map.Entry",i,[],(n=new Gf(t,e),function(t){return n.invoke_94(t),Mo()}),4)}function Wf(t,e){this._$keySerializer_0=t,this._$valueSerializer_0=e}function Yf(t,e){var n;Kf.call(this,t,e),this._descriptor_24=kh("kotlin.Pair",[],(n=new Wf(t,e),function(t){return n.invoke_94(t),Mo()}),2)}function Zf(t){this._this$0_17=t}function Xf(t,e,n){var i;this._aSerializer=t,this._bSerializer=e,this._cSerializer=n,this._descriptor_25=kh("kotlin.Triple",[],(i=new Zf(this),function(t){return i.invoke_94(t),Mo()}),2)}function Kf(t,e){this._keySerializer_0=t,this._valueSerializer_0=e}function $f(){}function Jf(t,e,n,i){$f.call(this),this._class2ContextualFactory=t,this._polyBase2Serializers=e,this._polyBase2NamedSerializers=n,this._polyBase2DefaultProvider=i}function Qf(){}function td(){}function ed(){}function nd(t){this._$serializer=t}function id(){}function rd(){}function od(t,e){if(!(0<=e&&e<=(t.length-1|0)))throw hc("Index "+e+" out of bounds "+function(t){return new Oo(0,n(t))}(t));return t[e]}function ad(t,e){var n;try{var i,r=function(t,e){if(t instanceof rs&&e instanceof rs){var n,i=e._get_jClass__2().$metadata$,r=null==i?null:i.associatedObjectKey;if(null==(n=null==r?null:r))return null;var o=n,a=t._get_jClass__2().$metadata$,s=null==a?null:a.associatedObjects;if(null==s)return null;var u=s[o];return null==u?null:u()}return null}(t,Bs(rd));if(null!=r&&Cl(r,Mc))i=null!=r&&Cl(r,Mc)?r:Hu();else if(null!=r&&Cl(r,of)){var o=r.serializer(e.slice());i=Cl(o,Mc)?o:Hu()}else i=function(t){var e=es(t).$metadata$;return"interface"==(null==e?null:e.kind)}(t)?new zc(t):null;n=i}catch(t){n=null}return n}function sd(){var t;pe=this,ld.call(this,(t=Object.create(pd.prototype),pd.call(t,!1,!1,!1,!1,!1,"    ",!1,!1,"type",!1,!0),t),he)}function ud(){return null==pe&&new sd,pe}function ld(t,e){ud(),this._configuration=t,this._serializersModule=e,this._schemaCache=new Kg}function cd(t){this._encodeDefaults=t._configuration._encodeDefaults_0,this._ignoreUnknownKeys=t._configuration._ignoreUnknownKeys_0,this._isLenient=t._configuration._isLenient_0,this._allowStructuredMapKeys=t._configuration._allowStructuredMapKeys_0,this._prettyPrint=t._configuration._prettyPrint_0,this._prettyPrintIndent=t._configuration._prettyPrintIndent_0,this._coerceInputValues=t._configuration._coerceInputValues_0,this._useArrayPolymorphism=t._configuration._useArrayPolymorphism_0,this._classDiscriminator=t._configuration._classDiscriminator_0,this._allowSpecialFloatingPointValues=t._configuration._allowSpecialFloatingPointValues_0,this._useAlternativeNames=t._configuration._useAlternativeNames_0,this._serializersModule_0=t._get_serializersModule__18()}function hd(t,e){ld.call(this,t,e),function(t){if(Du(t._get_serializersModule__18(),he))return Mo();var e=new Zg(t._get_configuration__3()._useArrayPolymorphism_0,t._get_configuration__3()._classDiscriminator_0);t._get_serializersModule__18().dumpTo_0(e)}(this)}function pd(t,e,n,i,r,o,a,s,u,l,c){this._encodeDefaults_0=t,this._ignoreUnknownKeys_0=e,this._isLenient_0=n,this._allowStructuredMapKeys_0=i,this._prettyPrint_0=r,this._prettyPrintIndent_0=o,this._coerceInputValues_0=a,this._useArrayPolymorphism_0=s,this._classDiscriminator_0=u,this._allowSpecialFloatingPointValues_0=l,this._useAlternativeNames_0=c}function fd(t){this._baseClass_0=t;var e="JsonContentPolymorphicSerializer<"+this._baseClass_0._get_simpleName__4()+">",n=Jh();this._descriptor_26=_h(e,n,[],null,12)}function dd(){}function gd(){fe=this}function md(){null==fe&&new gd}function _d(){de=this}function yd(){}function vd(t){null==de&&new _d,md.call(this),this._content=t}function bd(){ge=this}function wd(){null==ge&&new bd,md.call(this)}function xd(t){return null==t?Cd():new Id(t,!0)}function kd(t){return null==t?Cd():new Id(t,!1)}function Ed(t){var e,n=t instanceof vd?t:null;return null==n?Ad(t,"JsonObject"):e=n,e}function Sd(){me=this,wd.call(this),this._content_0="null"}function Cd(){return null==me&&new Sd,me}function Id(t,e){wd.call(this),this._isString=e,this._content_1=Fu(t)}function Ad(t,e){throw ec("Element "+Vs(t)+" is not a "+e)}function Pd(){_e=this}function Td(t){null==_e&&new Pd,md.call(this),this._content_2=t}function Od(t){return function(t){return!!eu(t,"true",!0)||!eu(t,"false",!0)&&null}(t._get_content__1())}function Ld(t){return $s(t._get_content__1())}function Md(){ye=this;var t=th(fs(Bs(Pa),[ds(fs(Fs()._get_stringClass_(),[],!1)),ds(fs(Bs(md),[],!1))],!1));this._$$delegate_0_0=(Cl(t,Mc)?t:Hu())._get_descriptor__66(),this._serialName_7="kotlinx.serialization.json.JsonObject"}function Nd(){ve=this,this._descriptor_27=(null==ye&&new Md,ye)}function Rd(){return null==ve&&new Nd,ve}function Dd(){}function zd(){}function Fd(){}function Bd(){}function jd(){}function Vd(){}function Ud(){be=this;var t,e=Jh();this._descriptor_28=_h("kotlinx.serialization.json.JsonElement",e,[],(t=new Vd,function(e){return t.invoke_94(e),Mo()}),4)}function qd(){return null==be&&new Ud,be}function Gd(){we=this;var t=jh();this._descriptor_29=_h("kotlinx.serialization.json.JsonPrimitive",t,[],null,12)}function Hd(){return null==we&&new Gd,we}function Wd(){xe=this;var t=Ih();this._descriptor_30=_h("kotlinx.serialization.json.JsonNull",t,[],null,12)}function Yd(){return null==xe&&new Wd,xe}function Zd(t){!function(t){if(null==(Cl(t,og)?t:null))throw lc("This serializer can be used only with Json format.Expected Encoder to be JsonEncoder, got "+Vs(t))}(t),Mo()}function Xd(t){ng(t),Mo()}function Kd(t){return new rg(t)}function $d(){ke=this,this._descriptor_31=function(t,e){if(tu(t))throw ec(Fu("Blank serial names are prohibited"));return function(t,e){return function(t){for(var e=Qt._get_keys__5().iterator_39();e.hasNext_14();){var n=iu(qu(e.next_14()._get_simpleName__4()));if(eu(t,"kotlin."+n,!0)||eu(t,n,!0))throw ec(mr("\n                The name of serial descriptor should uniquely identify associated serializer.\n                For serial name "+t+" there already exist "+iu(n)+"Serializer.\n                Please refer to SerialDescriptor documentation for additional information.\n            "))}}(t),new zf(t,e)}(t,e)}("kotlinx.serialization.json.JsonLiteral",jh())}function Jd(){return null==ke&&new $d,ke}function Qd(){Ee=this;var t=th(fs(Bs(cu),[ds(fs(Bs(md),[],!1))],!1));this._$$delegate_0_1=(Cl(t,Mc)?t:Hu())._get_descriptor__66(),this._serialName_8="kotlinx.serialization.json.JsonArray"}function tg(){Se=this,this._descriptor_32=(null==Ee&&new Qd,Ee)}function eg(){return null==Se&&new tg,Se}function ng(t){var e=Cl(t,dd)?t:null;if(null==e)throw lc("This serializer can be used only with Json format.Expected Decoder to be JsonDecoder, got "+Vs(t));return e}function ig(t){var e=t._original$delegate;return kl("original",1,cs,function(t){return ig(t)},null),e._get_value__15()}function rg(t){this._$deferred=t,this._original$delegate=Yu(this._$deferred)}function og(){}function ag(){}function sg(t,e){this._sb=t,this._json=e,this._level=0,this._writingFirst=!0}function ug(t,e){sg.call(this,t,e)}function lg(t){_g.call(this,t),ju(this,lg)}function cg(t,e,n){return yg(t,e+"\nJSON input: "+vg(n,t))}function hg(t){_g.call(this,t),ju(this,hg)}function pg(t,e){return new hg("Unexpected special floating-point value "+t+". By default, non-finite floating point values are prohibited because they do not conform JSON specification. It is possible to deserialize them using 'JsonBuilder.allowSpecialFloatingPointValues = true'\nCurrent output: "+bg(e,0,1))}function fg(t){return new hg("Value of type '"+t._get_serialName__17()+"' can't be used in JSON as a key in the map. It should have either primitive or enum kind, but its kind is '"+t._get_kind__17()+"'.\nUse 'allowStructuredMapKeys = true' in 'Json {}' builder to convert such maps to [key1, value1, key2, value2,...] arrays.")}function dg(t,e){t.fail$default("Unexpected special floating-point value "+e+". By default, non-finite floating point values are prohibited because they do not conform JSON specification. It is possible to deserialize them using 'JsonBuilder.allowSpecialFloatingPointValues = true'",0,2,null)}function gg(t,e,n){return yg(-1,function(t,e,n){return"Unexpected special floating-point value "+t+" with key "+e+". By default, non-finite floating point values are prohibited because they do not conform JSON specification. It is possible to deserialize them using 'JsonBuilder.allowSpecialFloatingPointValues = true'\nCurrent output: "+bg(n,0,1)}(t,e,n))}function mg(t,e){return yg(-1,"Encountered unknown key '"+t+"'.\nUse 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.\nCurrent input: "+bg(e,0,1))}function _g(t){Yc(t,this),ju(this,_g)}function yg(t,e){return new lg(t>=0?"Unexpected JSON token at offset "+t+": "+e:e)}function vg(t,e){if(t.length<200)return t;if(-1===e){var n=t.length-60|0;return n<=0?t:"....."+t.substring(n)}var i=e-30|0,r=e+30|0,o=i<=0?"":".....",a=r>=t.length?"":".....",s=w(i,0),u=x(r,t.length);return o+t.substring(s,u)+a}function bg(t,e,n,i){return 0!=(1&n)&&(e=-1),vg(t,e)}function wg(t,e){var n=e;return!(n.equals(new au(125))||n.equals(new au(93))||n.equals(new au(58))||n.equals(new au(44)))}function xg(t,e){t._currentPosition=t._currentPosition-1|0,Mo(),e.equals(new au(34))&&"null"===t.consumeStringLenient()&&t.fail("Expected string literal but 'null' literal was found.\nUse 'coerceInputValues = true' in 'Json {}` builder to coerce nulls to default values.",t._currentPosition-4|0),kg(t,Lg(e))}function kg(t,e){var n=1===e?"quotation mark '\"'":4===e?"comma ','":5===e?"semicolon ':'":6===e?"start of the object '{'":7===e?"end of the object '}'":8===e?"start of the array '['":9===e?"end of the array ']'":"valid token",i=t._currentPosition===t._source.length||t._currentPosition<=0?"EOF":Au(t._source,t._currentPosition-1|0).toString();t.fail("Expected "+n+", but had '"+i+"' instead",t._currentPosition-1|0)}function Eg(t){var e=t._currentPosition;t:for(;e<t._source.length;){var n=Au(t._source,e);if(!(n.equals(new au(32))||n.equals(new au(10))||n.equals(new au(13))||n.equals(new au(9))))break t;e=e+1|0,Mo()}return t._currentPosition=e,e}function Sg(t,e,n){for(var i=n,r=e,o=t._source,a=Au(o,i);!a.equals(new au(34));)a.equals(new au(92))?r=i=Cg(t,r,i):(i=i+1|0)>=o.length&&t.fail("EOF",i),a=Au(o,i);var s=r===e?o.substring(r,i):function(t,e,n){!function(t,e,n){t._escapedString.append_3(t._source,e,n),Mo()}(t,e,n);var i=t._escapedString.toString();return t._escapedString.setLength(0),i}(t,r,i);return t._currentPosition=i+1|0,s}function Cg(t,e,n){return t._escapedString.append_3(t._source,e,n),Mo(),function(t,e){var n=e,i=n;n=i+1|0;var r=Au(t._source,i);if(r.equals(new au(117)))return function(t,e,n){return(n+4|0)>=e.length&&t.fail$default("Unexpected EOF during unicode escape",0,2,null),t._escapedString.append_1(bl((((Ag(t,e,n)<<12)+(Ag(t,e,n+1|0)<<8)|0)+(Ag(t,e,n+2|0)<<4)|0)+Ag(t,e,n+3|0)|0)),Mo(),n+4|0}(t,t._source,n);var o=function(t){return t<117?Fg()._ESCAPE_2_CHAR[t]:new au(0)}(r.toInt_5());return o.equals(new au(0))&&t.fail$default("Invalid escaped char '"+r+"'",0,2,null),t._escapedString.append_1(o),Mo(),n}(t,n+1|0)}function Ig(t){var e=qu(t._peekedString);return t._peekedString=null,e}function Ag(t,e,n){var i,r=Au(e,n);return new au(48)<=r&&r<=new au(57)?i=r.toInt_5()-48|0:new au(97)<=r&&r<=new au(102)?i=10+(r.toInt_5()-97|0)|0:new au(65)<=r&&r<=new au(70)?i=10+(r.toInt_5()-65|0)|0:t.fail$default("Invalid toHexChar char '"+r+"' in unicode escape",0,2,null),i}function Pg(t,e){var n=e;n===t._source.length&&t.fail$default("EOF",0,2,null);var i,r=n;switch(n=r+1|0,32|Au(t._source,r).toInt_5()){case 116:Tg(t,"rue",n),i=!0;break;case 102:Tg(t,"alse",n),i=!1;break;default:var o="Expected valid boolean literal prefix, but had '"+t.consumeStringLenient()+"'";t.fail$default(o,0,2,null)}return i}function Tg(t,e,n){(t._source.length-n|0)<e.length&&t.fail$default("Unexpected end of boolean literal",0,2,null);var i=0,r=Tu(e)-1|0;if(i<=r)do{var o=i;i=i+1|0;var a=Au(e,o),s=Au(t._source,n+o|0);if(a.toInt_5()!==(32|s.toInt_5())){var u="Expected valid boolean literal prefix, but had '"+t.consumeStringLenient()+"'";t.fail$default(u,0,2,null)}}while(i<=r);t._currentPosition=n+e.length|0}function Og(t){this._source=t,this._currentPosition=0,this._peekedString=null,this._escapedString=Hs()}function Lg(t){return t.toInt_5()<126?Fg()._CHAR_TO_TOKEN[t.toInt_5()]:0}function Mg(t,e,n){n.equals(new au(117))||(t._ESCAPE_2_CHAR[n.toInt_5()]=bl(e))}function Ng(t,e,n){return Mg(t,e.toInt_5(),n)}function Rg(t,e,n){t._CHAR_TO_TOKEN[e]=n}function Dg(t,e,n){return Rg(t,e.toInt_5(),n)}function zg(){Ce=this,this._ESCAPE_2_CHAR=Su(117),this._CHAR_TO_TOKEN=new Int8Array(126),function(t){var e=0;if(e<=31)do{var n=e;e=e+1|0,Mg(t,n,new au(117))}while(e<=31);Mg(t,8,new au(98)),Mg(t,9,new au(116)),Mg(t,10,new au(110)),Mg(t,12,new au(102)),Mg(t,13,new au(114)),Ng(t,new au(47),new au(47)),Ng(t,new au(34),new au(34)),Ng(t,new au(92),new au(92))}(this),function(t){var e=0;if(e<=32)do{var n=e;e=e+1|0,Rg(t,n,127)}while(e<=32);Rg(t,9,3),Rg(t,10,3),Rg(t,13,3),Rg(t,32,3),Dg(t,new au(44),4),Dg(t,new au(58),5),Dg(t,new au(123),6),Dg(t,new au(125),7),Dg(t,new au(91),8),Dg(t,new au(93),9),Dg(t,new au(34),1),Dg(t,new au(92),2)}(this)}function Fg(){return null==Ce&&new zg,Ce}function Bg(t,e,n){var i=t.getElementIndex_17(n);if(op(),-3!==i)return i;if(!e._configuration._useAlternativeNames_0)return i;var r,o,a,s=e._schemaCache.getOrPut(t,Ie,(r=new qg(t),(o=function(){return r.invoke_97()}).callableName=r._get_name__1(),o)).get_17(n);return null==s?(op(),a=-3):a=s,a}function jg(t,e,n){var i=Bg(t,e,n);if(op(),-3===i)throw Zc(t._get_serialName__17()+" does not contain element with name '"+n+"'");return i}function Vg(t){var e=null,n=0,i=t._get_elementsCount__17();if(n<i)do{var r=n;n=n+1|0;for(var o=t.getElementAnnotations_17(r),a=fa(),s=o.iterator_39();s.hasNext_14();){var u=s.next_14();u instanceof ag&&(a.add_18(u),Mo())}var l=v(a),c=null==l?null:l._names_0;if(null==c);else{for(var h=ku(c);h.hasNext_14();){var p=h.next_14();null==e&&(e=Fm(t._get_elementsCount__17())),Ug(qu(e),t,p,r)}Mo()}Mo()}while(n<i);var f=e;return null==f?Hi():f}function Ug(t,e,n,i){if((Cl(t,lu)?t:Hu()).containsKey_8(n))throw new _g("The suggested name '"+n+"' for property "+e.getElementName_17(i)+" is already one of the names for property "+e.getElementName_17(Ki(t,n))+" in "+e);t.put_4(n,i),Mo()}function qg(t){this._$boundThis=t}function Gg(t,e){var n;return n=t._isLenient_1||!e?t._lexer.consumeStringLenient():t._lexer.consumeString(),e||"null"!==n?new Id(n,e):Cd()}function Hg(t,e){this._lexer=e,this._isLenient_1=t._isLenient_0}function Wg(t,e){if(!(e instanceof cp)||t._get_json__9()._configuration._useArrayPolymorphism_0)return e.deserialize_70(t);var n=t.decodeJsonElement_5(),i=e._get_descriptor__66();if(!(n instanceof vd))throw yg(-1,"Expected "+Bs(vd)+" as the serialized body of "+i._get_serialName__17()+", but had "+Vs(n));var r,o=n,a=t._get_json__9()._configuration._classDiscriminator_0,s=o.get_16(a),u=null==s?null:function(t){var e,n=t instanceof wd?t:null;return null==n?Ad(t,"JsonPrimitive"):e=n,e}(s),l=null==u?null:u._get_content__1(),c=e.findPolymorphicSerializerOrNull_1(t,l);null==c?function(t,e){throw cg(-1,"Polymorphic serializer was not found for "+(null==t?"missing class discriminator ('null')":"class discriminator '"+t+"'"),e.toString())}(l,o):r=c;var h=r;return function(t,e,n,i){return new fm(t,n,e,i._get_descriptor__66()).decodeSerializableValue_18(i)}(t._get_json__9(),a,o,Cl(h,Nc)?h:Hu())}function Yg(t,e,n){var i=e instanceof cp?e:Hu(),r=Fc(i,t,Pl(n)?n:Hu());return function(t,e,n){if(!(t instanceof jc))return Mo();if(Up(e._get_descriptor__66()).contains_27(n)){var i=t._get_descriptor__66()._get_serialName__17();throw lc(Fu("Sealed class '"+e._get_descriptor__66()._get_serialName__17()+"' cannot be serialized as base class '"+i+"' because it has property name that conflicts with JSON class discriminator '"+n+"'. You can either change class discriminator in JsonConfiguration, rename property with @SerialName annotation or fall back to array polymorphism"))}}(i,r,t._get_json__9()._configuration._classDiscriminator_0),function(t){if(t instanceof Ch)throw lc(Fu("Enums cannot be serialized polymorphically with 'type' parameter. You can use 'JsonBuilder.useArrayPolymorphism' instead"));if(t instanceof Vh)throw lc(Fu("Primitives cannot be serialized polymorphically with 'type' parameter. You can use 'JsonBuilder.useArrayPolymorphism' instead"));if(t instanceof tp)throw lc(Fu("Actual serializer for polymorphic cannot be polymorphic itself"))}(r._get_descriptor__66()._get_kind__17()),r}function Zg(t,e){this._useArrayPolymorphism_1=t,this._discriminator=e}function Xg(){}function Kg(){this._map_1=Fm(1)}function $g(t,e,n){var i=e.getElementDescriptor_17(n);if(!i._get_isNullable__17()&&!t._lexer_0.tryConsumeNotNull())return!0;if(Du(i._get_kind__17(),Ih())){var r=t._lexer_0.peekString(t._configuration_0._isLenient_0);if(null==r)return!1;var o=Bg(i,t._json_0,r);if(op(),-3===o)return t._lexer_0.consumeString(),Mo(),!0}return!1}function Jg(t,e){return t._configuration_0._ignoreUnknownKeys_0?t._lexer_0.skipElement(t._configuration_0._isLenient_0):t._lexer_0.failOnUnknownKey(e),t._lexer_0.tryConsumeComma()}function Qg(t){return t._configuration_0._isLenient_0?t._lexer_0.consumeStringLenient():t._lexer_0.consumeKeyString()}function tm(t,e,n){ep.call(this),this._json_0=t,this._mode=e,this._lexer_0=n,this._serializersModule_1=this._json_0._get_serializersModule__18(),this._currentIndex=-1,this._configuration_0=this._json_0._configuration}function em(t,e){ep.call(this),this._lexer_1=t,this._serializersModule_2=e._get_serializersModule__18()}function nm(t,e,n,i){np.call(this),this._composer=t,this._json_1=e,this._mode_0=n,this._modeReuseCache=i,this._serializersModule_3=this._json_1._get_serializersModule__18(),this._configuration_1=this._json_1._configuration,this._forceQuoting=!1,this._writePolymorphic=!1;var r=this._mode_0._get_ordinal__0();null!=this._modeReuseCache&&(null===this._modeReuseCache[r]&&this._modeReuseCache[r]===this||(this._modeReuseCache[r]=this))}function im(t){return!!t._get_isInline__17()&&Ae.contains_27(t)}function rm(t){var e=15&t;return bl(e<10?e+new au(48).toInt_5()|0:(e-10|0)+new au(97).toInt_5()|0)}function om(t,e){t.append_1(new au(34)),Mo();var n=0,i=0,r=Tu(e)-1|0;if(i<=r)do{var o=i;i=i+1|0;var a=Au(e,o).toInt_5();a<Pe.length&&null!=Pe[a]&&(t.append_3(e,n,o),Mo(),t.append_5(Pe[a]),Mo(),n=o+1|0)}while(i<=r);0!==n?(t.append_3(e,n,e.length),Mo()):(t.append_5(e),Mo()),t.append_1(new au(34)),Mo()}function am(t){var e=t._get_currentTagOrNull__5(),n=null==e?null:t.currentElement_3(e);return null==n?t._get_value__15():n}function sm(t,e){throw cg(-1,"Failed to parse '"+e+"'",Fu(am(t)))}function um(t,e){Ff.call(this),this._json_2=t,this._value_2=e,this._configuration_2=this._get_json__9()._configuration}function lm(t,e,n,i,r,o,a){return 0!=(4&r)&&(n=null),0!=(8&r)&&(i=null),fm.call(a,t,e,n,i),a}function cm(t,e,n,i,r,o){return lm(t,e,n,i,r,0,Object.create(fm.prototype))}function hm(t,e,n,i){var r,o=e.getElementDescriptor_17(n);if(t.currentElement_3(i)instanceof Sd&&!o._get_isNullable__17())return!0;if(Du(o._get_kind__17(),Ih())){var a=t.currentElement_3(i),s=a instanceof wd?a:null,u=null==s||(r=s)instanceof Sd?null:r._get_content__1();if(null==u)return!1;var l=u,c=Bg(o,t._get_json__9(),l);if(op(),-3===c)return!0}return!1}function pm(t){this._$boundThis_0=t}function fm(t,e,n,i){um.call(this,t,e),this._value_3=e,this._polyDiscriminator=n,this._polyDescriptor=i,this._position_7=0}function dm(t,e){um.call(this,t,e),this._value_4=e,this._size_0=this._value_4._get_size__29(),this._currentIndex_0=-1}function gm(t,e){um.call(this,t,e),this._value_5=e,this.pushTag_0("primitive")}function mm(t,e){lm(t,e,null,null,12,0,this),this._value_6=e,this._keys_0=m(this._value_6._get_keys__5()),this._size_1=ml(this._keys_0._get_size__29(),2),this._position_8=-1}function _m(){if(Ne)return Mo();Ne=!0,Te=new ym("OBJ",0,new au(123),new au(125)),Oe=new ym("LIST",1,new au(91),new au(93)),Le=new ym("MAP",2,new au(123),new au(125)),Me=new ym("POLY_OBJ",3,new au(91),new au(93))}function ym(t,e,n,i){bu.call(this,t,e),this._begin=n,this._end=i}function vm(t,e){var n,i=e._get_kind__17();if(i instanceof tp)n=Em();else if(Du(i,Hh()))n=xm();else if(Du(i,Yh())){var r,o=bm(e.getElementDescriptor_17(0)),a=o._get_kind__17();if(a instanceof Vh||Du(a,Ih()))r=km();else{if(!t._configuration._allowStructuredMapKeys_0)throw fg(o);r=xm()}n=r}else n=wm();return n}function bm(t){return t._get_isInline__17()?t.getElementDescriptor_17(0):t}function wm(){return _m(),Te}function xm(){return _m(),Oe}function km(){return _m(),Le}function Em(){return _m(),Me}function Sm(t){np.call(this),this._json_3=t,this._result=null}function Cm(){if(Fe)return Mo();Fe=!0,Re=new Om("OBJ",0),De=new Om("MAP",1),ze=new Om("LIST",2)}function Im(t){var e=t._current;if(null!=e)return e;Wu("current")}function Am(){Be=this}function Pm(){return null==Be&&new Am,Be}function Tm(t,e){this._writeMode=t,this._jsObject=e,this._index_3=0}function Om(t,e){bu.call(this,t,e)}function Lm(t,e){var n,i=e;return i.equals(Mm())||i.equals(Nm())?n={}:i.equals(Rm())?n=[]:Gu(),n}function Mm(){return Cm(),Re}function Nm(){return Cm(),De}function Rm(){return Cm(),ze}function Dm(t,e){np.call(this),this._json_4=t,this._encodeNullAsUndefined=e,this._result_0=Pm(),this._currentName=null,this._currentElementIsMapKey=!1,this._writePolymorphic_0=!1}function zm(){this._sb_0=qs()}function Fm(t){return Aa(t)}function Bm(){je=this,this._LOCALIZATION_AR="ar",this._LOCALIZATION_EN="en",this._LOCALIZATION_FI="fi"}function jm(){return null==je&&new Bm,je}function Vm(){}function Um(t,e){jm(),this._guidanceTextGenerator=function(t,e,n){var i,r=n;jm(),"ar"===r?i='{"lang":"ar","route_ready":"\u0623\u0644\u0645\u064e\u0633\u0627\u0631\u0652 \u062c\u0627\u0647\u0632 \u0645\u064f\u0633\u062a\u0648\u0649 \u0627\u0644\u062f\u064d\u0642\u0629 \u0663 \u0623\u0645\u062a\u0627\u0631 \u062a\u0642\u0631\u064a\u0628\u0627\u064b","update_turn_confirmation":"\u0648\u0627\u0635\u0650\u0644\u0652 \u0627\u0644\u062a\u064e\u0642\u064e\u062f\u064f\u0645 \u0644\u0644\u0623\u0645\u0627\u0645\u0652","update_turn":"\u0628\u0639\u062f {{distance}} {{distanceUnit}} {{direction}}","update_turn_left_hard":"\u0625\u0633\u0652\u062a\u064e\u062f\u0650\u0631\u0652 \u0625\u0644\u0649 \u0623\u0642\u0652\u0635\u0649 \u0627\u0644\u064a\u064e\u0633\u0627\u0631\u0652","update_turn_left":"\u0625\u0633\u0652\u062a\u064e\u062f\u0650\u0631\u0652 \u0625\u0644\u0649 \u0627\u0644\u064a\u064e\u0633\u0627\u0631\u0652","update_turn_left_slight":"\u0625\u0633\u0652\u062a\u064e\u062f\u0650\u0631\u0652 \u0625\u0644\u0649 \u0627\u0644\u064a\u064e\u0633\u0627\u0631\u0652 \u0642\u0644\u064a\u0644\u0627\u064b","update_turn_straight":"\u0648\u0627\u0635\u0650\u0644\u0652 \u0627\u0644\u062a\u064e\u0642\u064e\u062f\u064f\u0645\u0652 \u0625\u0644\u0649 \u0627\u0644\u0623\u0645\u0627\u0645\u0652","update_turn_right_slight":"\u0625\u0633\u0652\u062a\u064e\u062f\u0650\u0631\u0652 \u0625\u0644\u0649 \u0627\u0644\u064a\u0645\u064a\u0646 \u0642\u064e\u0644\u064a\u0644\u0627\u064b","update_turn_right":"\u0625\u0633\u0652\u062a\u064e\u062f\u0650\u0631\u0652 \u0625\u0644\u0649 \u0627\u0644\u064a\u0645\u064a\u0646","update_turn_right_hard":"\u0625\u0633\u0652\u062a\u064e\u062f\u0650\u0631\u0652 \u0625\u0644\u0649 \u0623\u0642\u0635\u0649 \u0627\u0644\u064a\u0645\u064a\u0646","update_turn_around":"\u0625\u0633\u0652\u062a\u064e\u062f\u0650\u0631\u0652 \u0648 \u062a\u064e\u0648\u064e\u062c\u064e\u0647\u0652 \u0641\u064a \u0627\u0644\u0625\u062a\u0650\u062c\u0627\u0647 \u0627\u0644\u0645\u064f\u0639\u0627\u0643\u0650\u0633\u0652","update_waypoint":"you will reach waypoint {{waypointTitle}}, then {{turn}}","update_destination":"\u0633\u064e\u0648\u0641\u064e \u062a\u064e\u0635\u0652\u0644\u0652 \u0625\u0644\u0649 \u0627\u0644\u0645\u0643\u0627\u0646\u0652 \u0627\u0644\u0645\u064e\u0642\u0652\u0635\u0648\u062f\u0652","update_levelchange_elevator":"\u0628\u0639\u062f {{distance}} {{distanceUnit}} \u0625\u0633\u062a\u064e\u062e\u0652\u062f\u0650\u0645\u0652 \u0627\u0644\u0645\u0650\u0635\u0652\u0639\u064e\u062f\u0652 \u0648\u062a\u064e\u0648\u064e\u062c\u064e\u0647 \u0625\u0644\u0649 {{levelTo}}","update_levelchange_escalator":"\u0628\u0639\u062f {{distance}} {{distanceUnit}} \u0625\u0633\u062a\u064e\u062e\u0652\u062f\u0650\u0645\u0652 \u0627\u0644\u0633\u0650\u0644\u064e\u0645\u0652 \u0627\u0644\u0643\u064e\u0647\u0652\u0631\u064f\u0628\u0627\u0626\u064a {{levelDirection}}","update_levelchange_stairs":"\u0628\u0639\u062f {{distance}} {{distanceUnit}} \u0625\u0633\u062a\u064e\u062e\u0652\u062f\u0650\u0645\u0652 \u0627\u0644\u0623\u062f\u0652\u0631\u064e\u0627\u062c\u0652 {{levelDirection}}","immediate_turn_left_hard":"\u0625\u0633\u0652\u062a\u064e\u062f\u0650\u0631\u0652 \u0625\u0644\u0649 \u0623\u0642\u0635\u0649 \u0627\u0644\u064a\u064e\u0633\u0627\u0631\u0652","immediate_turn_left":"\u0625\u0633\u0652\u062a\u064e\u062f\u0650\u0631\u0652 \u0625\u0644\u0649 \u0627\u0644\u064a\u064e\u0633\u0627\u0631\u0652","immediate_turn_left_slight":"\u0625\u0633\u0652\u062a\u064e\u062f\u0650\u0631\u0652 \u0625\u0644\u0649 \u0627\u0644\u064a\u064e\u0633\u0627\u0631\u0652 \u0642\u0644\u064a\u0644\u0627\u064b","immediate_turn_straight":"\u0648\u0627\u0635\u0650\u0644\u0652 \u0627\u0644\u062a\u064e\u0642\u064e\u062f\u064f\u0645\u0652 \u0625\u0644\u0649 \u0627\u0644\u0623\u0645\u0627\u0645\u0652","immediate_turn_right_slight":"\u0625\u0633\u0652\u062a\u064e\u062f\u0650\u0631\u0652 \u0625\u0644\u0649 \u0627\u0644\u064a\u0645\u064a\u0646 \u0642\u064e\u0644\u064a\u0644\u0627\u064b","immediate_turn_right":"\u0625\u0633\u0652\u062a\u064e\u062f\u0650\u0631\u0652 \u0625\u0644\u0649 \u0627\u0644\u064a\u0645\u064a\u0646","immediate_turn_right_hard":"\u0625\u0633\u0652\u062a\u064e\u062f\u0650\u0631\u0652 \u0625\u0644\u0649 \u0623\u0642\u0635\u0649 \u0627\u0644\u064a\u0645\u064a\u0646","immediate_turn_around":"\u0625\u0633\u0652\u062a\u064e\u062f\u0650\u0631\u0652 \u0648 \u062a\u064e\u0648\u064e\u062c\u064e\u0647\u0652 \u0641\u064a \u0627\u0644\u0625\u062a\u0650\u062c\u064e\u0627\u0647 \u0627\u0644\u0645\u064f\u0639\u0627\u0643\u0650\u0633\u0652","immediate_waypoint":"You have reached waypoint {{waypointTitle}}. {{turn}}","immediate_levelchange_elevator":"\u0625\u0633\u0652\u062a\u064e\u062e\u0652\u062f\u0650\u0645\u0652 \u0627\u0644\u0645\u0650\u0635\u0652\u0639\u064e\u062f\u0652 {{headingDirection}} \u0625\u0644\u0649 \u0627\u0644\u0637\u0627\u0628\u0650\u0642\u0652 {{levelTo}}","immediate_levelchange_escalator":"\u0625\u0633\u0652\u062a\u064e\u062e\u0652\u062f\u0650\u0645\u0652 \u0627\u0644\u0633\u0650\u0644\u064e\u0645\u0652 \u0627\u0644\u0643\u064e\u0647\u0652\u0631\u064f\u0628\u0627\u0626\u064a {{direction}}","immediate_levelchange_stairs":"\u0625\u0633\u0652\u062a\u064e\u062e\u0652\u062f\u0650\u0645\u0652 \u0627\u0644\u0623\u062f\u0652\u0631\u0627\u062c\u0652 {{direction}} \u0625\u0644\u0649 \u0627\u0644\u0637\u0627\u0628\u0650\u0642\u0652 {{levelTo}}","direction_up":"\u0635\u0639\u0648\u062f\u0627\u064b","direction_down":"\u0646\u064f\u0632\u064f\u0648\u0644\u0627\u064b","immediate_levelchange_side_left":"\u0625\u0644\u0649 \u064a\u0633\u0627\u0631\u0650\u0643\u064e","immediate_levelchange_side_right":"\u0625\u0644\u0649 \u064a\u064e\u0645\u0650\u064a\u0646\u0650\u0643\u064e","immediate_levelchange_side_ahead":"\u0623\u0645\u0627\u0645\u064e\u0643\u0652","next_step_destination":"\u062b\u064f\u0645\u064e \u062a\u064e\u0635\u0650\u0644\u0652 \u0625\u0644\u0649 \u0627\u0644\u0645\u064e\u0643\u0627\u0646\u0652 \u0627\u0644\u0645\u064e\u0642\u0652\u0635\u0648\u062f\u0652 \u0628\u0639\u062f {{distance}} {{distanceUnit}}","next_step_landmarks":"\u062b\u064f\u0645\u064e \u062a\u064e\u0642\u064e\u062f\u064e\u0645\u0652 {{distance}} {{distanceUnit}}{{#hasPassingLandmarks}} \u0628\u0650\u0645\u064f\u062d\u0627\u0630\u0627\u062a\u0652 {{/hasPassingLandmarks}}{{#passingLandmarks}}{{landmark}} {{landmarkPosition}}{{#notLast}}, {{/notLast}}{{/passingLandmarks}}{{#hasTowardsLandmarks}} \u0628\u0650\u0625\u062a\u0650\u062c\u0627\u0647\u0652 {{/hasTowardsLandmarks}}{{#towardsLandmarks}}{{#notFirst}}{{#notLast}}, {{/notLast}}{{#isLast}} \u0648 {{/isLast}}{{/notFirst}}{{landmark}}{{/towardsLandmarks}}","next_step_landmarks_landmark_position_left":"\u0625\u0644\u0649 \u064a\u0633\u0627\u0631\u0650\u0643\u064e","next_step_landmarks_landmark_position_right":"\u0625\u0644\u0649 \u064a\u064e\u0645\u0650\u064a\u0646\u0650\u0643\u064e","next_step_levelchanger_elevator":"\u062b\u064f\u0645\u064e \u0633\u064e\u0648\u0652\u0641\u064e \u062a\u064e\u0635\u0650\u0644\u0652 \u0625\u0644\u0649 \u0645\u0650\u0635\u0652\u0639\u064e\u062f\u0652 \u0628\u064e\u0639\u062f {{distance}} {{distanceUnit}}","next_step_levelchanger_escalator":"\u062b\u064f\u0645\u064e \u0633\u064e\u0648\u0641\u064e \u062a\u064e\u0635\u0650\u0644\u0652 \u0625\u0644\u0649 \u0627\u0644\u062f\u064e\u0631\u064e\u062c\u0652 \u0627\u0644\u0643\u064e\u0647\u0652\u0631\u064f\u0628\u064e\u0627\u0626\u064a \u0628\u064e\u0639\u0652\u062f {{distance}} {{distanceUnit}}","next_step_levelchanger_stairs":"\u062b\u064f\u0645\u064e \u0633\u064e\u0648\u0641\u064e \u062a\u064e\u0635\u0650\u0644\u0652 \u0625\u0644\u0649 \u0627\u0644\u0623\u062f\u0652\u0631\u064e\u0627\u062c\u0650 \u0628\u064e\u0639\u062f\u0652 {{distance}} {{distanceUnit}}","passing_landmark":"\u0623\u0646\u062a\u064e \u062a\u064e\u0645\u064f\u0631\u0652 \u0628\u0650\u062c\u0627\u0646\u0650\u0628\u0652 {{#leftLandmarks}}{{landmark}}{{/leftLandmarks}} {{#hasLeftLandmarks}}\u0625\u0644\u0649 \u064a\u064e\u0633\u064e\u0627\u0631\u0650\u0643\u0652{{#hasRightLandmarks}}, {{/hasRightLandmarks}}{{/hasLeftLandmarks}} {{#rightLandmarks}}{{landmark}}{{/rightLandmarks}} {{#hasRightLandmarks}}\u0625\u0644\u0649 \u064a\u0645\u0650\u064a\u0646\u0650\u0643{{/hasRightLandmarks}}","destination_arriving":"\u0623\u0646\u0652\u062a\u064e \u062a\u064e\u0635\u0650\u0644\u0652 \u0625\u0644\u0649 \u0627\u0644\u0645\u064e\u0643\u0627\u0646\u0652 \u0627\u0644\u0645\u064e\u0642\u0652\u0635\u064f\u0648\u062f\u0652","destination_arrived":"\u0644\u064e\u0642\u064e\u062f\u0652 \u0648\u064e\u0635\u064e\u0644\u0652\u062a\u0652 \u0625\u0644\u0649 {{destination}} \u0628\u0650\u0625\u062a\u0650\u062c\u0627\u0647 \u0627\u0644\u0633\u0627\u0639\u064e\u0629 {{hours}}","state_calculating":"","state_recalculating":"\u064a\u062c\u0631\u064a \u0625\u0639\u0627\u062f\u064e\u0629\u0652 \u0627\u0644\u062d\u0650\u0633\u064e\u0627\u0628\u064f","state_route_not_found":"\u0644\u0627 \u064a\u0648\u062c\u064e\u062f\u0652 \u0645\u064e\u0633\u0627\u0631\u0652","state_route_osrm_error":"Unable to reach calculation server, check connection or try later.","state_canceled":"\u062a\u064e\u0645\u064e \u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u0645\u064e\u0633\u0627\u0631\u0652","hazard":"\u062a\u064e\u0648\u064e\u0642\u064e\u0649 \u0645\u0650\u0646\u0652 {{title}} {{side}}","hazard_side_left":"\u0625\u0644\u0649 \u064a\u0633\u0627\u0631\u0650\u0643\u064e","hazard_side_right":"\u0625\u0644\u0649 \u064a\u064e\u0645\u0650\u064a\u0646\u0650\u0643\u064e","hazard_side_ahead":"\u0623\u0645\u0627\u0645\u064e\u0643\u064e","decision":"\u0623\u0646\u062a\u064e \u0627\u0644\u0623\u0646\u0652 \u0641\u064a {{title}}","segment_enter":"\u0623\u0646\u062a\u064e \u0627\u0644\u0623\u0646\u0652 \u0641\u064a {{title}}","segment_leave":"\u0644\u064e\u0642\u064e\u062f\u0652 \u062e\u064e\u0631\u064e\u062c\u0652\u062a\u064e \u0645\u0650\u0646\u0652 {{title}}","heading_correction":"\u0635\u064e\u062d\u0650\u062d\u0652 \u0645\u064e\u0633\u0627\u0631\u064e\u0643\u0652 \u0625\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u064e\u0629 {{hours}}","heading_start":"\u0625\u0628\u0652\u062f\u064e\u0621 \u0645\u064e\u0633\u0627\u0631\u064e\u0643\u0652 \u0628\u0627\u0644\u0625\u062a\u0650\u062c\u064e\u0627\u0647 \u0625\u0644\u0649 \u0627\u0644\u0633\u064e\u0627\u0639\u064e\u0629 {{hours}}","heading_wrong_way":"\u0625\u0633\u0652\u062a\u064e\u062f\u0650\u0631\u0652\u060c \u0623\u0646\u0652\u062a\u064e \u062a\u064e\u0645\u0652\u0634\u064a \u0628\u0627\u0644\u0625\u062a\u0650\u062c\u064e\u0627\u0647\u0652 \u0627\u0644\u062e\u064e\u0627\u0637\u0650\u0626","exit_levelchanger_elevator":"{{nextStepDirection}}","exit_levelchanger_escalator":"{{nextStepDirection}}","exit_levelchanger_stairs":" {{nextStepDirection}}","level":{"zero":"\u0637\u0648\u0627\u0628\u0650\u0642\u0652","one":"\u0637\u0627\u0628\u0650\u0642\u0652","two":"\u0637\u0627\u0628\u0650\u0642\u0627\u0646\u0652","few":"\u0637\u064e\u0648\u064e\u0627\u0628\u0650\u0642\u0652","more":"\u0637\u064e\u0648\u064e\u0627\u0628\u0650\u0642\u0652","other":"\u0637\u064e\u0648\u064e\u0627\u0628\u0650\u0642\u0652"},"units":{"meter":{"zero":"\u0645\u0650\u062a\u0652\u0631\u0652","one":"\u0645\u0650\u062a\u0652\u0631\u0652","two":"\u0645\u0650\u062a\u0652\u0631\u064e\u0627\u0646\u0652","few":"\u0623\u0645\u0652\u062a\u064e\u0627\u0631\u0652","more":"\u0645\u0650\u062a\u0652\u0631\u0652","other":"\u0623\u0645\u0652\u062a\u064e\u0627\u0631\u0652"},"meters":{"zero":"\u0645\u0650\u062a\u0652\u0631\u0652","one":"\u0645\u0650\u062a\u0652\u0631\u0652","two":"\u0645\u0650\u062a\u0652\u0631\u064e\u0627\u0646\u0652","few":"\u0623\u0645\u0652\u062a\u064e\u0627\u0631\u0652","more":"\u0645\u0650\u062a\u0652\u0631\u0652","other":"\u0623\u0645\u0652\u062a\u064e\u0627\u0631\u0652"},"steps":{"zero":"\u062e\u0650\u0637\u0652\u0648\u064e\u0629","one":"\u062e\u0650\u0637\u0652\u0648\u064e\u0629","two":"\u062e\u0650\u0637\u0652\u0648\u062a\u064e\u0627\u0646","few":"\u062e\u064e\u0637\u064e\u0648\u064e\u0627\u062a\u0652","more":"\u062e\u0650\u0637\u0652\u0648\u064e\u0629","other":"\u062e\u0650\u0637\u0652\u0648\u064e\u0629"}}}':(jm(),"en"===r?i='{"lang":"en","route_ready":"Route ready, accuracy around 3 meters.","update_turn_confirmation":"Keep going forward.","update_turn":"In {{distance}} {{distanceUnit}} {{direction}}.","update_turn_left_hard":"turn hard left","update_turn_left":"turn left","update_turn_left_slight":"turn slight left","update_turn_straight":"continue straight","update_turn_right_slight":"turn slight right","update_turn_right":"turn right","update_turn_right_hard":"turn hard right","update_turn_around":"turn around","update_waypoint":"you will reach waypoint {{waypointTitle}}, then {{turn}}","update_destination":"you will arrive at your destination","update_levelchange_elevator":"In {{distance}} {{distanceUnit}} use the elevator to level {{levelTo}}.","update_levelchange_escalator":"In {{distance}} {{distanceUnit}} use the escalator {{levelDirection}}.","update_levelchange_stairs":"In {{distance}} {{distanceUnit}} use the stairs {{levelDirection}}.","immediate_turn_left_hard":"Turn hard left.","immediate_turn_left":"Turn left.","immediate_turn_left_slight":"Turn slight left.","immediate_turn_straight":"Continue straight.","immediate_turn_right_slight":"Turn slight right.","immediate_turn_right":"Turn right.","immediate_turn_right_hard":"Turn hard right.","immediate_turn_around":"Turn around.","immediate_waypoint":"You have reached waypoint {{waypointTitle}}. {{turn}}","immediate_levelchange_elevator":"Use the elevator {{headingDirection}} to level {{levelTo}}.","immediate_levelchange_escalator":"Use the escalator {{headingDirection}}.","immediate_levelchange_stairs":"Use the stairs {{headingDirection}} to level {{levelTo}}.","direction_up":"up","direction_down":"down","immediate_levelchange_side_left":"on your left","immediate_levelchange_side_right":"on your right","immediate_levelchange_side_ahead":"ahead of you","next_step_destination":"Then you will reach your destination in {{distance}} {{distanceUnit}}.","next_step_landmarks":"Then continue {{distance}} {{distanceUnit}}{{#hasPassingLandmarks}} passing {{/hasPassingLandmarks}}{{#passingLandmarks}}{{landmark}} {{landmarkPosition}}{{#notLast}}, {{/notLast}}{{/passingLandmarks}}{{#hasTowardsLandmarks}} towards {{/hasTowardsLandmarks}}{{#towardsLandmarks}}{{#notFirst}}{{#notLast}}, {{/notLast}}{{#isLast}} and {{/isLast}}{{/notFirst}}{{landmark}}{{/towardsLandmarks}}.","next_step_landmarks_landmark_position_left":"on the left","next_step_landmarks_landmark_position_right":"on the right","next_step_levelchanger_elevator":"Then in {{distance}} {{distanceUnit}} you will reach an elevator.","next_step_levelchanger_escalator":"Then in {{distance}} {{distanceUnit}} you will reach an escalator.","next_step_levelchanger_stairs":"Then in {{distance}} {{distanceUnit}} you will reach stairs.","passing_landmark":"You are passing {{#leftLandmarks}}{{landmark}}{{/leftLandmarks}} {{#hasLeftLandmarks}}on your left{{#hasRightLandmarks}}, {{/hasRightLandmarks}}{{/hasLeftLandmarks}} {{#rightLandmarks}}{{landmark}}{{/rightLandmarks}} {{#hasRightLandmarks}}on your right{{/hasRightLandmarks}}.","destination_arriving":"You are arriving at the destination.","destination_arrived":"You arrived at the destination {{destination}} at {{hours}} o\'clock.","state_calculating":"","state_recalculating":"Recalculating.","state_route_not_found":"Route not found.","state_route_osrm_error":"Unable to reach calculation server, check connection or try later.","state_canceled":"Route canceled.","hazard":"Watch out for {{title}} {{side}}.","hazard_side_left":"on your left","hazard_side_right":"on your right","hazard_side_ahead":"ahead of you","decision":"You are at {{title}}.","segment_enter":"You are in {{title}}.","segment_leave":"Exiting {{title}}.","heading_correction":"Correct your heading to {{hours}} o\'clock","heading_start":"Start route at your {{hours}} o\'clock.","heading_wrong_way":"You are walking wrong way. Turn around.","exit_levelchanger_elevator":"{{nextStepDirection}}.","exit_levelchanger_escalator":"{{nextStepDirection}}.","exit_levelchanger_stairs":"{{nextStepDirection}}.","level":{"zero":"levels","one":"level","two":"levels","few":"levels","more":"levels","other":"levels"},"units":{"meter":{"zero":"meters","one":"meter","two":"meters","few":"meters","more":"meters","other":"meters"},"meters":{"zero":"meters","one":"meter","two":"meters","few":"meters","more":"meters","other":"meters"},"steps":{"zero":"step","one":"step","two":"steps","few":"steps","more":"steps","other":"steps"},"kilometers":{"zero":"kilometers","one":"kilometer","two":"kilometers","few":"kilometers","more":"kilometers","other":"kilometers"}}}':(jm(),i="fi"===r?'{"lang":"fi","route_ready":"Reitti on valmis, tarkkuus noin 3 metri\xe4.","update_turn_confirmation":"Jatka eteenp\xe4in.","update_turn":"kulje {{distance}}  {{distanceUnit}}, sitten {{direction}}.","update_turn_left_hard":"k\xe4\xe4nny jyrk\xe4sti vasempaan","update_turn_left":"k\xe4\xe4nny vasempaan","update_turn_left_slight":"k\xe4\xe4nny loivasti vasempaan","update_turn_straight":"jatka suoraan","update_turn_right_slight":"k\xe4\xe4nny loivasti oikeaan","update_turn_right":"k\xe4\xe4nny oikeaan","update_turn_right_hard":"k\xe4\xe4nny jyrk\xe4sti oikeaan","update_turn_around":"k\xe4\xe4nny ymp\xe4ri","update_waypoint":"saavut v\xe4lietapille {{waypointTitle}}, jonka j\xe4lkeen {{turn}}","update_destination":"saavut kohteeseesi","update_levelchange_elevator":"kulje {{distance}} {{distanceUnit}}, sen j\xe4lkeen siirry hissill\xe4 kerrokseen {{levelTo}}.","update_levelchange_escalator":"kulje {{distance}} {{distanceUnit}}, sen j\xe4lkeen siirry liukuportailla {{levelDirection}}.","update_levelchange_stairs":"kulje viel\xe4 {{distance}} {{distanceUnit}}, sen j\xe4lkeen siirry portailla kerrokseen {{levelDirection}}.","immediate_turn_left_hard":"K\xe4\xe4nny jyrk\xe4sti vasempaan.","immediate_turn_left":"K\xe4\xe4nny vasempaan.","immediate_turn_left_slight":"K\xe4\xe4nny loivasti vasempaan.","immediate_turn_straight":"Jatka suoraan.","immediate_turn_right_slight":"K\xe4\xe4nny loivasti oikeaan.","immediate_turn_right":"K\xe4\xe4nny oikeaan.","immediate_turn_right_hard":"K\xe4\xe4nny jyrk\xe4sti oikeaan.","immediate_turn_around":"K\xe4\xe4nny ymp\xe4ri.","immediate_waypoint":"Olet saapunut v\xe4lietappiin {{waypointTitle}}. {{turn}}","immediate_levelchange_elevator":"K\xe4yt\xe4 hissi\xe4 {{headingDirection}} siirty\xe4ksesi kerrokseen {{levelTo}}.","immediate_levelchange_escalator":"K\xe4yt\xe4 liukuportaita {{headingDirection}}.","immediate_levelchange_stairs":"K\xe4yt\xe4 portaita {{headingDirection}} siirty\xe4ksesi kerrokseen {{levelTo}}.","direction_up":"yl\xf6s","direction_down":"alas","immediate_levelchange_side_left":"vasemmalla","immediate_levelchange_side_right":"oikealla","immediate_levelchange_side_ahead":"edess\xe4si","next_step_destination":"Sen j\xe4lkeen kohteeseesi on {{distance}} {{distanceUnit}}.","next_step_landmarks":"Jonka j\xe4lkeen jatka {{distance}} {{distanceUnit}}{{#hasPassingLandmarks}} ohittaen {{/hasPassingLandmarks}}{{#passingLandmarks}}{{landmark}} {{landmarkPosition}}{{#notLast}}, {{/notLast}}{{/passingLandmarks}}{{#hasTowardsLandmarks}} kohti {{/hasTowardsLandmarks}}{{#towardsLandmarks}}{{#notFirst}}{{#notLast}}, {{/notLast}}{{#isLast}} ja {{/isLast}}{{/notFirst}}{{landmark}}{{/towardsLandmarks}}.","next_step_landmarks_landmark_position_left":"vasemmalla","next_step_landmarks_landmark_position_right":"oikealla","next_step_levelchanger_elevator":"Jonka j\xe4lkeen on {{distance}} {{distanceUnit}} matkaa hissille.","next_step_levelchanger_escalator":"Jonka j\xe4lkeen on {{distance}} {{distanceUnit}} matkaa liukuportaille.","next_step_levelchanger_stairs":"Jonka j\xe4lkeen on {{distance}} {{distanceUnit}} matkaa portaille.","passing_landmark":"Olet ohittamassa {{#leftLandmarks}}{{landmark}}{{/leftLandmarks}} {{#hasLeftLandmarks}}vasemmalla{{#hasRightLandmarks}}, {{/hasRightLandmarks}}{{/hasLeftLandmarks}} {{#rightLandmarks}}{{landmark}}{{/rightLandmarks}} {{#hasRightLandmarks}}oikealla{{/hasRightLandmarks}}.","destination_arriving":"Saavut kohteeseen.","destination_arrived":"Olet saapunut kohteeseen {{destination}} joka on kellonsuunnassa {{hours}}.","state_calculating":"Lasketaan.","state_recalculating":"Lasketaan uudelleen.","state_route_not_found":"Reitti\xe4 ei l\xf6ydetty.","state_route_osrm_error":"Palvelimeen ei saatu yhteytt\xe4, ole hyv\xe4 ja tarkista yhteys, jonka j\xe4lkeen yrit\xe4 uudelleen.","state_canceled":"Reitti peruutettu.","hazard":"Varo {{title}} {{side}}.","hazard_side_left":"vasemmalla","hazard_side_right":"oikealla","hazard_side_ahead":"edess\xe4si","decision":"Olet {{title}}.","segment_enter":"Olet {{title}}.","segment_leave":"Poistutaan {{title}}.","heading_correction":"Korjaa suuntaasi kellon suuntaan {{hours}}","heading_start":"Aloita navigointi kellon suuuntaan {{hours}}","heading_wrong_way":"K\xe4velet v\xe4\xe4r\xe4\xe4n suuntaan, ole hyv\xe4 ja k\xe4\xe4nny ymp\xe4ri","exit_levelchanger_elevator":"{{nextStepDirection}}.","exit_levelchanger_escalator":"{{nextStepDirection}}.","exit_levelchanger_stairs":"{{nextStepDirection}}.","level":{"zero":"kerrosta","one":"kerros","two":"kerrosta","few":"kerrosta","more":"kerrosta","other":"kerrosta"},"units":{"meter":{"zero":"metri\xe4","one":"metri","two":"metri\xe4","few":"metri\xe4","more":"metri\xe4","other":"metri\xe4"},"meters":{"zero":"metri\xe4","one":"metri","two":"metri\xe4","few":"metri\xe4","more":"metri\xe4","other":"metri\xe4"},"steps":{"zero":"askelta","one":"askel","two":"askelta","few":"askelta","more":"askelta","other":"askelta"},"kilometers":{"zero":"kilometri\xe4","one":"kilometri","two":"kilometri\xe4","few":"kilometri\xe4","more":"kilometri\xe4","other":"kilometri\xe4"}}}':'{"lang":"en","route_ready":"Route ready, accuracy around 3 meters.","update_turn_confirmation":"Keep going forward.","update_turn":"In {{distance}} {{distanceUnit}} {{direction}}.","update_turn_left_hard":"turn hard left","update_turn_left":"turn left","update_turn_left_slight":"turn slight left","update_turn_straight":"continue straight","update_turn_right_slight":"turn slight right","update_turn_right":"turn right","update_turn_right_hard":"turn hard right","update_turn_around":"turn around","update_waypoint":"you will reach waypoint {{waypointTitle}}, then {{turn}}","update_destination":"you will arrive at your destination","update_levelchange_elevator":"In {{distance}} {{distanceUnit}} use the elevator to level {{levelTo}}.","update_levelchange_escalator":"In {{distance}} {{distanceUnit}} use the escalator {{levelDirection}}.","update_levelchange_stairs":"In {{distance}} {{distanceUnit}} use the stairs {{levelDirection}}.","immediate_turn_left_hard":"Turn hard left.","immediate_turn_left":"Turn left.","immediate_turn_left_slight":"Turn slight left.","immediate_turn_straight":"Continue straight.","immediate_turn_right_slight":"Turn slight right.","immediate_turn_right":"Turn right.","immediate_turn_right_hard":"Turn hard right.","immediate_turn_around":"Turn around.","immediate_waypoint":"You have reached waypoint {{waypointTitle}}. {{turn}}","immediate_levelchange_elevator":"Use the elevator {{headingDirection}} to level {{levelTo}}.","immediate_levelchange_escalator":"Use the escalator {{headingDirection}}.","immediate_levelchange_stairs":"Use the stairs {{headingDirection}} to level {{levelTo}}.","direction_up":"up","direction_down":"down","immediate_levelchange_side_left":"on your left","immediate_levelchange_side_right":"on your right","immediate_levelchange_side_ahead":"ahead of you","next_step_destination":"Then you will reach your destination in {{distance}} {{distanceUnit}}.","next_step_landmarks":"Then continue {{distance}} {{distanceUnit}}{{#hasPassingLandmarks}} passing {{/hasPassingLandmarks}}{{#passingLandmarks}}{{landmark}} {{landmarkPosition}}{{#notLast}}, {{/notLast}}{{/passingLandmarks}}{{#hasTowardsLandmarks}} towards {{/hasTowardsLandmarks}}{{#towardsLandmarks}}{{#notFirst}}{{#notLast}}, {{/notLast}}{{#isLast}} and {{/isLast}}{{/notFirst}}{{landmark}}{{/towardsLandmarks}}.","next_step_landmarks_landmark_position_left":"on the left","next_step_landmarks_landmark_position_right":"on the right","next_step_levelchanger_elevator":"Then in {{distance}} {{distanceUnit}} you will reach an elevator.","next_step_levelchanger_escalator":"Then in {{distance}} {{distanceUnit}} you will reach an escalator.","next_step_levelchanger_stairs":"Then in {{distance}} {{distanceUnit}} you will reach stairs.","passing_landmark":"You are passing {{#leftLandmarks}}{{landmark}}{{/leftLandmarks}} {{#hasLeftLandmarks}}on your left{{#hasRightLandmarks}}, {{/hasRightLandmarks}}{{/hasLeftLandmarks}} {{#rightLandmarks}}{{landmark}}{{/rightLandmarks}} {{#hasRightLandmarks}}on your right{{/hasRightLandmarks}}.","destination_arriving":"You are arriving at the destination.","destination_arrived":"You arrived at the destination {{destination}} at {{hours}} o\'clock.","state_calculating":"","state_recalculating":"Recalculating.","state_route_not_found":"Route not found.","state_route_osrm_error":"Unable to reach calculation server, check connection or try later.","state_canceled":"Route canceled.","hazard":"Watch out for {{title}} {{side}}.","hazard_side_left":"on your left","hazard_side_right":"on your right","hazard_side_ahead":"ahead of you","decision":"You are at {{title}}.","segment_enter":"You are in {{title}}.","segment_leave":"Exiting {{title}}.","heading_correction":"Correct your heading to {{hours}} o\'clock","heading_start":"Start route at your {{hours}} o\'clock.","heading_wrong_way":"You are walking wrong way. Turn around.","exit_levelchanger_elevator":"{{nextStepDirection}}.","exit_levelchanger_escalator":"{{nextStepDirection}}.","exit_levelchanger_stairs":"{{nextStepDirection}}.","level":{"zero":"levels","one":"level","two":"levels","few":"levels","more":"levels","other":"levels"},"units":{"meter":{"zero":"meters","one":"meter","two":"meters","few":"meters","more":"meters","other":"meters"},"meters":{"zero":"meters","one":"meter","two":"meters","few":"meters","more":"meters","other":"meters"},"steps":{"zero":"step","one":"step","two":"steps","few":"steps","more":"steps","other":"steps"},"kilometers":{"zero":"kilometers","one":"kilometer","two":"kilometers","few":"kilometers","more":"kilometers","other":"kilometers"}}}'));var o,a,s=i,u=ud(),l=Kc(u._get_serializersModule__18(),fs(Bs(W_),[],!1)),c=u.decodeFromString_2(Cl(l,Mc)?l:Hu(),s),h=new iv,p=(o=new Vm,a=function(t){return o.invoke_98(t),Mo()},function(t,e){var n=new cd(t);return e(n),new hd(n.build_8(),n._serializersModule_0)}(ud(),a)),f=Kc(p._get_serializersModule__18(),fs(Bs(cu),[ds(fs(Bs(V_),[],!1))],!1)),d=p.decodeFromString_2(Cl(f,Mc)?f:Hu(),e);h.updateFeatureList(d);var g=h;return new Tv(new Gm,g,new Lv,c)}(0,t,e)}function qm(){}function Gm(){this._resources=new qm}function Hm(){Ve=this}function Wm(t){return t instanceof vd?t:Hu()}function Ym(t){return(t instanceof wd?t:Hu())._get_content__1()}function Zm(t,e){return t.containsKey_7(e)}function Xm(){Ue=this}function Km(){return null==Ue&&new Xm,Ue}function $m(){qe=this;var t=new nf("com.mapbox.geojson.Feature",this,4);t.addElement_0("type",!0),t.addElement_0("id",!0),t.addElement_0("geometry",!0),t.addElement_0("properties",!0),this._descriptor_33=t}function Jm(){return null==qe&&new $m,qe}function Qm(){Km(),this._type_0="Feature",this._internalId=null,this._internalGeometry=null,this._internalProperties=new vd(Hi())}function t_(t){null==t._internalProperties&&(t._internalProperties=new vd(Hi()));var e=qu(t._internalProperties).get_16("level"),n=null==e?null:Fu(e),i=null==n?null:$s(n);return null==i?0:i}function e_(t){var e=t._internalProperties,n=null==e?null:e.get_16("fixed"),i=null==n?null:Fu(n),r=null==i?null:function(t){return null!=t&&"true"===t.toLowerCase()}(i);return null!=r&&r}function n_(){Ge=this}function i_(){null==Ge&&new n_}function r_(){He=this,fd.call(this,Bs(i_))}function o_(){return null==He&&new r_,He}function a_(){We=this}function s_(){return null==We&&new a_,We}function u_(){Ye=this;var t=new nf("com.mapbox.geojson.LineString",this,2);t.addElement_0("type",!0),t.addElement_0("coordinates",!0),this._descriptor_34=t}function l_(){return null==Ye&&new u_,Ye}function c_(){s_(),i_.call(this),this._type_1="LineString",this._internalCoordinates=[]}function h_(){Ze=this}function p_(){Xe=this;var t=new nf("com.mapbox.geojson.MultiLineString",this,2);t.addElement_0("type",!0),t.addElement_0("coordinates",!0),this._descriptor_35=t}function f_(){return null==Xe&&new p_,Xe}function d_(){}function g_(){Ke=this}function m_(){$e=this;var t=new nf("com.mapbox.geojson.MultiPolygon",this,2);t.addElement_0("type",!0),t.addElement_0("coordinates",!0),this._descriptor_36=t}function __(){return null==$e&&new m_,$e}function y_(){}function v_(){Je=this}function b_(){return null==Je&&new v_,Je}function w_(){Qe=this;var t=new nf("com.mapbox.geojson.Point",this,2);t.addElement_0("type",!0),t.addElement_0("coordinates",!0),this._descriptor_37=t}function x_(){return null==Qe&&new w_,Qe}function k_(t,e,n,i){return function(t,e,n,i,r){return i_.call(r),r._type_4=0==(1&t)?"Point":e,r._coordinates_0=0==(2&t)?[]:n,r}(t,e,n,0,Object.create(E_.prototype))}function E_(){b_(),i_.call(this),this._type_4="Point",this._coordinates_0=[]}function S_(){tn=this}function C_(){en=this;var t=new nf("com.mapbox.geojson.Polygon",this,2);t.addElement_0("type",!0),t.addElement_0("coordinates",!0),this._descriptor_38=t}function I_(){return null==en&&new C_,en}function A_(){}function P_(){nn=this,this._UNIT_METERS="meters"}function T_(){return null==nn&&new P_,nn}function O_(){rn=this}function L_(){return null==rn&&new O_,rn}function M_(){on=this}function N_(t,e){for(var n,i=qa(),r=e._get_entries__5().iterator_39();r.hasNext_14();){var o=r.next_14();t:do{if(null==o._get_value__15()){Mo();break t}var a,s=o._get_value__15();if(null!=s&&Cl(s,lu)){var u=o._get_value__15();a=N_(t,null!=u&&Cl(u,lu)?u:Hu())}else if(null!=s&&"boolean"==typeof s){var l=o._get_value__15();a=null==(n=null!=l&&"boolean"==typeof l?l:Hu())?Cd():new Id(n,!1)}else if(Tl(s)){var c=o._get_value__15();a=kd(Tl(c)?c:Hu())}else if(null!=s&&"string"==typeof s){var h=o._get_value__15();a=xd(null!=h&&"string"==typeof h?h:Hu())}else a=null;var p=a;if(null!=p){var f=o._get_key__3();i.put_4(f,p),Mo()}}while(0)}return new vd(i)}function R_(){}function D_(t){this._template=t}function z_(){an=this}function F_(){this._proximi_quantities=""}function B_(){sn=this,this._plurals=new F_}function j_(){un=this;var t=new nf("io.proximi.mapbox.data.model.Feature",this,3);t.addElement_0("id",!0),t.addElement_0("geometry",!0),t.addElement_0("properties",!0),this._descriptor_39=t}function V_(){}function U_(){ln=this;var t=new nf("io.proximi.mapbox.data.model.GuidanceTranslation.QuantityString",this,6);t.addElement_0("zero",!1),t.addElement_0("one",!1),t.addElement_0("two",!1),t.addElement_0("few",!1),t.addElement_0("more",!1),t.addElement_0("other",!1),this._descriptor_40=t}function q_(){return null==ln&&new U_,ln}function G_(){}function H_(){cn=this;var t=new nf("io.proximi.mapbox.data.model.GuidanceTranslation",this,64);t.addElement_0("lang",!1),t.addElement_0("route_ready",!1),t.addElement_0("update_turn",!1),t.addElement_0("update_turn_confirmation",!1),t.addElement_0("update_turn_left_hard",!1),t.addElement_0("update_turn_left",!1),t.addElement_0("update_turn_left_slight",!1),t.addElement_0("update_turn_straight",!1),t.addElement_0("update_turn_right_slight",!1),t.addElement_0("update_turn_right",!1),t.addElement_0("update_turn_right_hard",!1),t.addElement_0("update_turn_around",!1),t.addElement_0("update_waypoint",!1),t.addElement_0("update_destination",!1),t.addElement_0("update_levelchange_elevator",!1),t.addElement_0("update_levelchange_escalator",!1),t.addElement_0("update_levelchange_stairs",!1),t.addElement_0("immediate_turn_left_hard",!1),t.addElement_0("immediate_turn_left",!1),t.addElement_0("immediate_turn_left_slight",!1),t.addElement_0("immediate_turn_straight",!1),t.addElement_0("immediate_turn_right_slight",!1),t.addElement_0("immediate_turn_right",!1),t.addElement_0("immediate_turn_right_hard",!1),t.addElement_0("immediate_turn_around",!1),t.addElement_0("immediate_waypoint",!1),t.addElement_0("immediate_levelchange_elevator",!1),t.addElement_0("immediate_levelchange_escalator",!1),t.addElement_0("immediate_levelchange_stairs",!1),t.addElement_0("direction_up",!1),t.addElement_0("direction_down",!1),t.addElement_0("immediate_levelchange_side_left",!1),t.addElement_0("immediate_levelchange_side_right",!1),t.addElement_0("immediate_levelchange_side_ahead",!1),t.addElement_0("next_step_destination",!1),t.addElement_0("next_step_landmarks",!1),t.addElement_0("next_step_landmarks_landmark_position_left",!1),t.addElement_0("next_step_landmarks_landmark_position_right",!1),t.addElement_0("next_step_levelchanger_elevator",!1),t.addElement_0("next_step_levelchanger_escalator",!1),t.addElement_0("next_step_levelchanger_stairs",!1),t.addElement_0("exit_levelchanger_elevator",!0),t.addElement_0("exit_levelchanger_escalator",!0),t.addElement_0("exit_levelchanger_stairs",!0),t.addElement_0("passing_landmark",!1),t.addElement_0("destination_arriving",!1),t.addElement_0("destination_arrived",!1),t.addElement_0("state_calculating",!1),t.addElement_0("state_recalculating",!1),t.addElement_0("state_route_not_found",!1),t.addElement_0("state_route_osrm_error",!1),t.addElement_0("state_canceled",!1),t.addElement_0("hazard",!1),t.addElement_0("hazard_side_left",!1),t.addElement_0("hazard_side_right",!1),t.addElement_0("hazard_side_ahead",!1),t.addElement_0("decision",!1),t.addElement_0("segment_enter",!1),t.addElement_0("segment_leave",!1),t.addElement_0("heading_correction",!1),t.addElement_0("heading_start",!1),t.addElement_0("heading_wrong_way",!1),t.addElement_0("level",!1),t.addElement_0("units",!1),this._descriptor_41=t}function W_(){}function Y_(t,e){var n=1,i=0;if(i<e)do{i=i+1|0,n*=10}while(i<e);return function(t){if(t%.5!=0)return Math.round(t);var e=Math.floor(t);return e%2==0?e:Math.ceil(t)}(t*n)/n}function Z_(){if(kn)return Mo();kn=!0,hn=new X_("DECISION_POINT",0),pn=new X_("DOOR",1),fn=new X_("ELEVATOR",2),dn=new X_("ENTRANCE",3),gn=new X_("ESCALATOR",4),mn=new X_("HAZARD",5),_n=new X_("LANDMARK",6),yn=new X_("OUTDOOR_CONNECTOR",7),new X_("PATH",8),vn=new X_("POI",9),new X_("ROUTABLE_AREA",10),new X_("SEGMENT",11),bn=new X_("STAIRCASE",12),wn=new X_("TICKET_GATE",13),xn=new X_("OTHER",14)}function X_(t,e){bu.call(this,t,e)}function K_(){return Z_(),hn}function $_(){return Z_(),fn}function J_(){return Z_(),gn}function Q_(){return Z_(),mn}function ty(){return Z_(),bn}function ey(){En=this}function ny(){Sn=this;var t=new nf("io.proximi.mapbox.library.Route.RouteNode",this,10);t.addElement_0("bearingFromLastStep",!1),t.addElement_0("coordinates",!1),t.addElement_0("direction",!1),t.addElement_0("distanceFromLastStep",!1),t.addElement_0("level",!1),t.addElement_0("levelChangerId",!1),t.addElement_0("isWaypoint",!1),t.addElement_0("waypointId",!1),t.addElement_0("lineStringFeatureFromLastStep",!1),t.addElement_0("instruction",!0),this._descriptor_42=t}function iy(){return null==Sn&&new ny,Sn}function ry(t,e,n,i,r,o,a,s,u){null==En&&new ey,this._bearingFromLastNode=t,this._coordinates_2=e,this._direction=n,this._distanceFromLastNode=i,this._level_0=r,this._levelChangerId=o,this._isWaypoint=a,this._waypointId=s,this._lineStringFeatureTo=u,this._instruction=null}function oy(t,e,n){if(0===e)return wy();if(e===Oi(n))return By();var i=n.get_29(e-1|0)._node,r=n.get_29(e)._node,o=n.get_29(e+1|0)._node,a=Zm(qu(r.properties()),"type")?Ym(qu(qu(r.properties()).get_16("type"))):"";if("elevator"===a&&t_(r)>t_(o))return My();if("escalator"===a&&t_(r)>t_(o))return Ny();if("staircase"===a&&t_(r)>t_(o))return Ry();if("elevator"===a&&t_(r)<t_(o))return Ty();if("escalator"===a&&t_(r)<t_(o))return Oy();if("staircase"===a&&t_(r)<t_(o))return Ly();if("elevator"===a&&t_(i)!==t_(r))return Dy();if("escalator"===a&&t_(i)!==t_(r))return zy();if("staircase"===a&&t_(i)!==t_(r))return Fy();var s,u=n.get_29(e)._pathToNode,l=null==u?null:u.geometry(),c=null==l?null:l.coordinates_0(),h=n.get_29(e+1|0)._pathToNode,p=null==h?null:h.geometry(),f=null==p?null:p.coordinates_0(),d=null==c?null:c.get_29(Oi(c)-1|0),g=null==f?null:f.get_29(1),m=L_(),_=d,y=null==_?i.geometry():_,v=r.geometry(),b=m.bearing(y,v),w=L_(),x=r.geometry(),k=g;s=null==k?o.geometry():k;var E=w.bearing(x,s)-b;return E>180?E-=360:E<-180&&(E+=360),jv(E)}function ay(){Cn=this}function sy(){In=this;var t=new nf("io.proximi.mapbox.library.Route",this,7);t.addElement_0("distanceMeters",!1),t.addElement_0("distanceCustom",!0),t.addElement_0("distanceCustomUnit",!0),t.addElement_0("destination",!1),t.addElement_0("configuration",!1),t.addElement_0("lastNodeWithPathIndex",!0),t.addElement_0("steps",!1),this._descriptor_43=t}function uy(){null==Cn&&new ay,this._distanceCustom=null,this._distanceCustomUnit=null,this._lastNodeWithPathIndex=0}function ly(){}function cy(){}function hy(){}function py(){An=this}function fy(){Pn=this;var t=new nf("io.proximi.mapbox.library.RouteConfiguration",this,4);t.addElement_0("start",!1),t.addElement_0("destination",!1),t.addElement_0("waypointList",!1),t.addElement_0("wayfindingOptions",!1),this._descriptor_44=t}function dy(){return null==Pn&&new fy,Pn}function gy(t,e,n,i){null==An&&new py,this._start=t,this._destination_0=e,this._waypointList=n,this._wayfindingOptions=i}function my(){Xn=this}function _y(){return null==Xn&&new my,Xn}function yy(){return[wy(),xy(),ky(),Ey(),Sy(),Cy(),Iy(),Ay(),Py(),Ty(),Oy(),Ly(),My(),Ny(),Ry(),Dy(),zy(),Fy(),By()]}function vy(){if(Kn)return Mo();Kn=!0,Tn=new by("START",0),On=new by("TURN_AROUND",1),Ln=new by("HARD_LEFT",2),Mn=new by("LEFT",3),Nn=new by("SLIGHT_LEFT",4),Rn=new by("STRAIGHT",5),Dn=new by("SLIGHT_RIGHT",6),zn=new by("RIGHT",7),Fn=new by("HARD_RIGHT",8),Bn=new by("UP_ELEVATOR",9),jn=new by("UP_ESCALATOR",10),Vn=new by("UP_STAIRS",11),Un=new by("DOWN_ELEVATOR",12),qn=new by("DOWN_ESCALATOR",13),Gn=new by("DOWN_STAIRS",14),Hn=new by("EXIT_ELEVATOR",15),Wn=new by("EXIT_ESCALATOR",16),Yn=new by("EXIT_STAIRS",17),Zn=new by("FINISH",18),_y()}function by(t,e){bu.call(this,t,e)}function wy(){return vy(),Tn}function xy(){return vy(),On}function ky(){return vy(),Ln}function Ey(){return vy(),Mn}function Sy(){return vy(),Nn}function Cy(){return vy(),Rn}function Iy(){return vy(),Dn}function Ay(){return vy(),zn}function Py(){return vy(),Fn}function Ty(){return vy(),Bn}function Oy(){return vy(),jn}function Ly(){return vy(),Vn}function My(){return vy(),Un}function Ny(){return vy(),qn}function Ry(){return vy(),Gn}function Dy(){return vy(),Hn}function zy(){return vy(),Wn}function Fy(){return vy(),Yn}function By(){return vy(),Zn}function jy(t,e,n,i,r,o,a,s,u,l){this._nodeIndex=t,this._stepBearing=e,this._stepDirection=n,this._stepDistance=i,this._stepDistanceTotal=r,this._nextStepBearing=o,this._nextStepDistance=a,this._nextStepDirection=s,this._pathLengthRemaining=u,this._position_9=l}function Vy(){if(si)return Mo();si=!0,$n=new Uy("CALCULATING",0),Jn=new Uy("RECALCULATING",1),Qn=new Uy("DIRECTION_SOON",2),ti=new Uy("DIRECTION_IMMEDIATE",3),ei=new Uy("DIRECTION_NEW",4),ni=new Uy("DIRECTION_UPDATE",5),ii=new Uy("FINISHED",6),ri=new Uy("CANCELED",7),oi=new Uy("ROUTE_NOT_FOUND",8),ai=new Uy("ROUTE_OSRM_NETWORK_ERROR",9)}function Uy(t,e){bu.call(this,t,e)}function qy(){return Vy(),ti}function Gy(){return Vy(),ei}function Hy(t,e,n,i){this._unitName=t,this._unitConversionToMeters=e,this._minValueInMeters=n,this._decimals=i}function Wy(t,e,n,i){this._value_7=t,this._valueRounded=e,this._valueString=n,this._unitName_0=i}function Yy(){ui=this,this._DEFAULT=new Xy(Li([new Hy("meters",1,0,0),new Hy("kilometers",.001,800,1),new Hy("kilometers",.001,2e3,0)]))}function Zy(){return null==ui&&new Yy,ui}function Xy(t){Zy(),this._stageList=t}function Ky(){li=this}function $y(){ci=this;var t=new nf("io.proximi.mapbox.library.WayfindingOptions",this,9);t.addElement_0("avoidBarriers",!0),t.addElement_0("avoidElevators",!0),t.addElement_0("avoidEscalators",!0),t.addElement_0("avoidNarrowPaths",!0),t.addElement_0("avoidRamps",!0),t.addElement_0("avoidRevolvingDoors",!0),t.addElement_0("avoidStaircases",!0),t.addElement_0("avoidTicketGates",!0),t.addElement_0("pathFixDistance",!0),this._descriptor_45=t}function Jy(){return null==ci&&new $y,ci}function Qy(t,e,n,i,r,o,a,s,u){null==li&&new Ky,this._avoidBarriers=t,this._avoidElevators=e,this._avoidEscalators=n,this._avoidNarrowPaths=i,this._avoidRamps=r,this._avoidRevolvingDoors=o,this._avoidStaircases=a,this._avoidTicketGates=s,this._pathFixDistance=u}function tv(t,e){if(!(t.geometry()instanceof c_))return Ho(),1/0;var n=(null==on&&new M_,on),i=t.geometry(),r=n.nearestPointOnLine(e,(i instanceof c_?i:Hu()).coordinates_0()),o=L_(),a=r.geometry(),s=a instanceof E_?a:Hu();return T_(),o.distance(e,s,"meters")}function ev(t,e){var n=L_();return T_(),n.distance(t,e,"meters")}function nv(t,e){var n;if(t.getLevel()===e)n=!0;else{var i=t.getLevels();n=!0===(null==i?null:i.contains_27(e))}return n}function iv(){this._exitBufferDistance=4,this._decisionCallback=null,this._hazardCallback=null,this._segmentCallback=null,this._landmarkCallback=null,this._decisionList=Ti(),this._hazardList=Ti(),this._segmentList=Ti(),this._levelChangerList=Ti(),this._landmarkList=Ti(),this._ignoredFeatureIdList=Ti(),this._enteredHazardList=Ti(),this._exitedHazardList=Ti(),this._currentHazardList=Ti(),this._enteredSegmentList=Ti(),this._exitedSegmentList=Ti(),this._currentSegmentList=Ti(),this._currentSegmentLastLocationMap=Ca(),this._enteredDecisionList=Ti(),this._exitedDecisionList=Ti(),this._currentDecisionList=Ti(),this._currentLandmarkList=Ti(),this._enteredLandmarkList=Ti(),this._exitedLandmarkList=Ti()}function rv(){hi=this}function ov(){pi=this;var t=new nf("io.proximi.mapbox.navigation.GuidanceTextGenerator.LevelChangerData",this,9);t.addElement_0("distance",!1),t.addElement_0("distanceUnit",!1),t.addElement_0("headingTo",!1),t.addElement_0("headingDirection",!1),t.addElement_0("levelFrom",!1),t.addElement_0("levelsChanged",!1),t.addElement_0("levelUnitString",!1),t.addElement_0("levelDirection",!1),t.addElement_0("levelTo",!1),this._descriptor_46=t}function av(){fi=this}function sv(){di=this;var t=new nf("io.proximi.mapbox.navigation.GuidanceTextGenerator.TurnData",this,3);t.addElement_0("distance",!1),t.addElement_0("distanceUnit",!1),t.addElement_0("direction",!1),this._descriptor_47=t}function uv(t,e,n,i){return function(t,e,n,i,r){return 0!=(2&n)&&(e=null),Cv.call(r,t,e),r}(t,e,n,0,Object.create(Cv.prototype))}function lv(t){var e=t._textData;if(null!=e)return e;Wu("textData")}function cv(t,e){var n,i=e._stepDirection;if(i.equals(xy())||i.equals(ky())||i.equals(Ey())||i.equals(Sy())||i.equals(Cy())||i.equals(Iy())||i.equals(Ay())||i.equals(Py())||i.equals(By()))n=function(t,e){var n=function(t,e){var n,i=t._conversion.convert(e._stepDistance),r=i._valueString,o=kv(t,i._unitName_0,i._value_7),a=xv(t,e._stepDirection);if(qu(t._route)._nodeList.get_29(e._nodeIndex)._isWaypoint){var s=t._mustache.compile(lv(t)._updateWaypoint),u=Wi([new Dr("turn",a)]),l=qu(t._route)._nodeList.get_29(e._nodeIndex)._waypointId;if(null==l);else{var c=qu(t._route)._configuration_3.getWaypointById(l),h=null==c?null:c.getTitle();u.put_4("waypointTitle",null==h?"":h)}Mo(),n=s.execute_0(u)}else n=a;return new wv(r,o,n)}(t,e);return function(t,e){var n=ud(),i=Kc(n._get_serializersModule__18(),fs(Bs(wv),[],!1)),r=n.encodeToString_2(Cl(i,Mc)?i:Hu(),e);return t.execute_1(r)}(t._mustache.compile(lv(t)._updateTurn),n)}(t,e);else{if(!(i.equals(Ty())||i.equals(Oy())||i.equals(Ly())||i.equals(My())||i.equals(Ny())||i.equals(Ry())))throw lc(Fu("Unsupported step direction."));n=function(t,e){var n,i=t._featureManager.getLevelChangerById(qu(qu(t._route)._nodeList.get_29(e._nodeIndex)._levelChangerId)),r=vv(t,i,e),o=e._stepDirection;if(o.equals(Ty()))n=bv(t,lv(t)._updateLevelchangeElevator,e);else if(o.equals(My()))n=bv(t,lv(t)._updateLevelchangeElevator,e);else if(o.equals(Oy()))n=bv(t,lv(t)._updateLevelchangeEscalator,e);else if(o.equals(Ny()))n=bv(t,lv(t)._updateLevelchangeEscalator,e);else if(o.equals(Ly()))n=bv(t,lv(t)._updateLevelchangeStairs,e);else{if(!o.equals(Ry()))throw lc(Fu("Unsupported direction found."));n=bv(t,lv(t)._updateLevelchangeStairs,e)}return Mv(t._mustache.compile(n),r)}(t,e)}return n}function hv(t,e){var n=t._conversion.convert(e),i=Gi([new Dr("distance",n._valueString),new Dr("distanceUnit",kv(t,n._unitName_0,n._value_7))]);return t._mustache.compile(lv(t)._nextStepDestination).execute_0(i)}function pv(t,e,n){var i,r=qu(t._route)._nodeList.get_29(e)._bearingFromLastNode,o=qu(t._route)._nodeList.get_29(e)._distanceFromLastNode,a=t._conversion.convert(o),s=Wi([new Dr("distance",a._valueString),new Dr("distanceUnit",kv(t,a._unitName_0,a._value_7))]);if(!n.isEmpty_29()){for(var u=fa(),l=fa(),c=fa(),h=n.iterator_39();h.hasNext_14();){var p=h.next_14();nv(p,qu(t._route)._nodeList.get_29(e)._level_0)&&(c.add_18(p),Mo())}for(var f=c,d=fa(),g=f.iterator_39();g.hasNext_14();){var y,v=g.next_14(),b=v.getRange();if(null!=b&&null!=qu(t._route)._nodeList.get_29(e)._lineStringFeatureTo){var w=qu(qu(t._route)._nodeList.get_29(e)._lineStringFeatureTo),x=v._featureGeometry;y=tv(w,x instanceof E_?x:Hu())<b}else y=!1;y&&(d.add_18(v),Mo())}for(var k=function(t,e){if(Cl(t,mu)){if(t._get_size__29()<=1)return m(t);var n=ta(t),i=Al(n)?n:Hu();return function(t,e){t.length>1&&ya(t,e)}(i,e),Xl(i)}var r=_(t);return function(t,e){!function(t,e){if(t._get_size__29()<=1)return Mo();var n=ta(t);ya(n,e);var i=0,r=n.length;if(i<r)do{var o=i;i=i+1|0,t.set_2(o,n[o]),Mo()}while(i<r)}(t,e)}(r,e),r}(d,new Iv((i=new Av(t,e),function(t,e){return i.invoke_100(t,e)}))).iterator_39();k.hasNext_14();){var E=k.next_14();t:do{var S=qu(E.pointToPointDistance(qu(t._route)._nodeList.get_29(e-1|0)._coordinates_2)),C=L_(),I=qu(t._route)._nodeList.get_29(e-1|0)._coordinates_2,A=E._featureGeometry,P=Sv(0,r-C.bearing(I,A instanceof E_?A:Hu()));if(Math.abs(P)>90){Mo();break t}var T=qa(),O=E.getTitle();if(T.put_4("landmark",null==O?"":O),Mo(),Math.abs(P)<20&&S>o)l.add_18(T),Mo();else if(P>0){var L=lv(t)._nextStepLandmarksLandmarkPositionLeft;T.put_4("landmarkPosition",L),Mo(),u.add_18(T),Mo()}else{var M=lv(t)._nextStepLandmarksLandmarkPositionRight;T.put_4("landmarkPosition",M),Mo(),u.add_18(T),Mo()}}while(0)}fv(0,u),fv(0,l),s.put_4("passingLandmarks",u),Mo(),s.put_4("towardsLandmarks",l),Mo();var N=!u.isEmpty_29();s.put_4("hasPassingLandmarks",N),Mo();var R=!l.isEmpty_29();s.put_4("hasTowardsLandmarks",R),Mo()}return t._mustache.compile(lv(t)._nextStepLandmarks).execute(s)}function fv(t,e){for(var n=0,i=e.iterator_39();i.hasNext_14();){var r=i.next_14(),o=n;n=o+1|0;var a=Qo(o);0===a?(r.put_4("isFirst",!0),Mo(),r.put_4("notFirst",!1),Mo()):(r.put_4("isFirst",!1),Mo(),r.put_4("notFirst",!0),Mo()),a===(e._get_size__29()-1|0)?(r.put_4("isLast",!0),Mo(),r.put_4("notLast",!1),Mo()):(r.put_4("isLast",!1),Mo(),r.put_4("notLast",!0),Mo())}}function dv(t,e,n,i){var r;t:do{for(var o=n.iterator_39();o.hasNext_14();){var a=o.next_14();if(a._id==qu(t._route)._nodeList.get_29(e._nodeIndex-2|0)._levelChangerId){r=a;break t}}throw sc("Collection contains no element matching the predicate.")}while(0);var s,u=r,l=L_(),c=qu(t._route)._nodeList.get_29(e._nodeIndex-2|0)._coordinates_2,h=u._featureGeometry,p=l.bearing(c,h instanceof E_?h:Hu());t:do{for(var f=n.iterator_39();f.hasNext_14();){var d=f.next_14();if(d._id==qu(t._route)._nodeList.get_29(e._nodeIndex-1|0)._levelChangerId){s=d;break t}}throw sc("Collection contains no element matching the predicate.")}while(0);var g,m=s,_=L_(),y=m._featureGeometry,v=_.bearing(y instanceof E_?y:Hu(),qu(t._route)._nodeList.get_29(e._nodeIndex-1|0)._coordinates_2),b=Sv(0,v-p),w=qu(t._route)._nodeList.get_29(e._nodeIndex-2|0)._direction;if(w.equals(Ty())||w.equals(My()))g=lv(t)._exitLevelChangerElevator;else if(w.equals(Oy())||w.equals(Ny()))g=lv(t)._exitLevelChangerEscalator;else{if(!w.equals(Ly())&&!w.equals(Ry()))throw lc(Fu("Unsupported direction!"));g=lv(t)._exitLevelChangerStairs}var x,k,E=g,S=i,C=null==S?Nv(qu(t._route)._nodeList.get_29(e._nodeIndex)._bearingFromLastNode-v):S,I=Gi([new Dr("exitHours",(x=b,k=Nv(x),k<-165?6:k<-135?7:k<-105?8:k<-75?9:k<-45?10:k<-15?11:k<15?12:k<45?1:k<75?2:k<105?3:k<135?4:k<165?5:6).toString()),new Dr("exitDegreesInt",$a(b).toString()),new Dr("exitDegreesDec",Ev(b)),new Dr("nextStepHours",Ov(C)),new Dr("nextStepDegreesInt",$a(C).toString()),new Dr("nextStepDegreesDec",Ev(C)),new Dr("nextStepDirection",xv(t,jv(C))),new Dr("levelchanger",u)]);return t._mustache.compile(E).execute(I)}function gv(t,e,n,i){var r,o=qu(t._route)._nodeList.get_29(e);t:do{for(var a=i.iterator_39();a.hasNext_14();){var s=a.next_14();if(s._id==o._levelChangerId){r=s;break t}}r=null}while(0);var u,l=r,c=t._conversion.convert(n),h=Wi([new Dr("distance",c._valueString),new Dr("distanceUnit",kv(t,c._unitName_0,c._value_7)),new Dr("levelchanger",null==l?null:l.getTitle())]),p=null==l?null:l.getType();if(Du(p,$_()))u=lv(t)._nextStepLevelchangerElevator;else if(Du(p,J_()))u=lv(t)._nextStepLevelchangerEscalator;else{if(!Du(p,ty()))throw lc(Fu("Unsupported POI type!"));u=lv(t)._nextStepLevelchangerStairs}return t._mustache.compile(u).execute_0(h)}function mv(t){var e=h(qu(t._route)._nodeList)._bearingFromLastNode,n=L_().bearing(h(qu(t._route)._nodeList)._coordinates_2,qu(t._route)._get_destinationPoint_()),i=ev(h(qu(t._route)._nodeList)._coordinates_2,qu(t._route)._get_destinationPoint_())>.5?Nv(n-e):0,r=Wi([new Dr("destination",qu(t._route)._get_destinationTitle_()),new Dr("degreesInt",$a(i).toString()),new Dr("degreesDec",Ev(i)),new Dr("hours",Ov(i))]);return t._mustache.escapeHTML(!1).compile(lv(t)._destinationArrived).execute(r)}function _v(t){var e=qu(qu(t._route)._get_destinationProperties_());if(!Zm(e,"wayfinding_metadata"))return"";var n,i=Wm(e.get_16("wayfinding_metadata"));return c(t._guidanceTts._destinationMetadataKeys,"",null,null,0,null,(n=new Pv(i,t),function(t){return n.invoke_102(t)}),30)}function yv(t,e,n,i,r,o,a,s,u){null==hi&&new rv,this._distance=t,this._distanceUnit=e,this._headingTo=n,this._headingDirection=i,this._levelFrom=r,this._levelsChanged=o,this._levelUnitString=a,this._levelDirection=s,this._levelTo=u}function vv(t,e,n){var i,r=t._conversion.convert(n._stepDistance),o=r._valueString,a=kv(t,r._unitName_0,r._value_7),s=qu(t._route)._nodeList.get_29(n._nodeIndex),u=qu(t._route)._nodeList.get_29(n._nodeIndex+1|0),l=t._levelOverrideMap,c=null==l?null:l.get_17(s._level_0),h=null==c?s._level_0:c,p=t._levelOverrideMap,f=null==p?null:p.get_17(u._level_0),d=null==f?u._level_0:f,g=h<d?lv(t)._directionUp:lv(t)._directionDown,m=(i=h-d|0)<0?0|-i:i,_=lv(t)._levels.getStringForQuantity_0(t._context,m),y=L_(),v=e._featureGeometry,b=Nv(y.bearing(n._position_9,v instanceof E_?v:Hu())-n._stepBearing),w=b<-20?lv(t)._immediateLevelchangeSideLeft:b>20?lv(t)._immediateLevelchangeSideRight:lv(t)._immediateLevelchangeSideAhead;return new yv(o,a,yl(b),w,h,m,_,g,d)}function bv(t,e,n){var i=t._featureManager.getLevelChangerById(qu(qu(t._route)._nodeList.get_29(n._nodeIndex)._levelChangerId)),r=vv(t,i,n);return Mv(t._mustache.compile(e),r)}function wv(t,e,n){null==fi&&new av,this._distance_0=t,this._distanceUnit_0=e,this._direction_0=n}function xv(t,e){var n,i=e;if(i.equals(ky()))n=lv(t)._updateTurnLeftHard;else if(i.equals(Ey()))n=lv(t)._updateTurnLeft;else if(i.equals(Sy()))n=lv(t)._updateTurnLeftSlight;else if(i.equals(Cy()))n=lv(t)._updateTurnStraight;else if(i.equals(Iy()))n=lv(t)._updateTurnRightSlight;else if(i.equals(Ay()))n=lv(t)._updateTurnRight;else if(i.equals(Py()))n=lv(t)._updateTurnRightHard;else if(i.equals(xy()))n=lv(t)._updateTurnAround;else{if(!i.equals(By()))throw lc(Fu("Unsupported direction."));n=lv(t)._updateDestination}return n}function kv(t,e,n){var i=lv(t)._units.get_17(e);if(null==i)throw lc(Fu("No translations found for unit: "+e));return i.getStringForQuantity(t._context,n)}function Ev(t,e){return Y_(t,1).toString()}function Sv(t,e){return e>180?e-360:e<-180?e+360:e}function Cv(t,e){this._updateText=t,this._additionalText=e}function Iv(t){this._function=t}function Av(t,e){this._this$0_18=t,this._$nodeIndex=e}function Pv(t,e){this._$metadata=t,this._this$0_19=e}function Tv(t,e,n,i){this._context=t,this._featureManager=e,this._guidanceTts=n,this._route=null,this._levelChangerMetadataKeys=Ti(),this._conversion=Zy()._DEFAULT,this._levelOverrideMap=null,this._mustache=(null==an&&new z_,an).compiler().escapeHTML(!1),null!=i&&(this._textData=i)}function Ov(t){var e=Nv(t);return e<-165?6:e<-135?7:e<-105?8:e<-75?9:e<-45?10:e<-15?11:e<15?12:e<45?1:e<75?2:e<105?3:e<135?4:e<165?5:6}function Lv(){this._destinationMetadataKeys=Ti()}function Mv(t,e){var n=ud(),i=Kc(n._get_serializersModule__18(),fs(Bs(yv),[],!1)),r=n.encodeToString_2(Cl(i,Mc)?i:Hu(),e);return t.execute_1(r)}function Nv(t){return t>180?t-360:t<-180?t+360:t}function Rv(t,e,n,i,r,o){this._from=t,this._toConnector=e,this._toDestination=n,this._toWaypoint=i,this._campusId=r,this._splits=o,this._wayfindingPath=null,this._osrmPath=null,this._pathWeight=null,this._sumWeight=null,this._bestSplit=null}function Dv(t,e,n,i,r,o){this._node=t,this._pathToNode=e,this._campusId_0=n,this._level_1=i,this._connector=r,this._waypoint=o}function zv(t,e,n){if(0===e)return null;var i=n.get_29(e-1|0).geometry(),r=n.get_29(e).geometry(),o=s_().fromLngLats(Li([i,r])),a=Km().fromGeometry(o);return function(t,e){var n=qa(),i=t._internalProperties,r=null==i?null:i._get_entries__5();if(null==r);else{for(var o=r.iterator_39();o.hasNext_14();){var a=o.next_14(),s=a._get_key__3(),u=a._get_value__15();n.put_4(s,u),Mo()}Mo()}Mo();var l=kd(e);n.put_4("level",l),Mo(),t._internalProperties=new vd(n)}(a,t_(n.get_29(e))),a}function Fv(){gi=this}function Bv(){return null==gi&&new Fv,gi}function jv(t){var e=Nv(t);return Math.abs(e)<22.5?Cy():Math.abs(e)>157.5?xy():e<-112.5?ky():e<=-67.5?Ey():e<=-22.5?Sy():e>157.5?Py():e>=67.5?Ay():e>=22.5?Iy():Cy()}function Vv(){mi=this}function Uv(){return null==mi&&new Vv,mi}function qv(){Uv(),this._language="en"}(Pi.prototype=Object.create(C.prototype)).constructor=Pi,(Ei.prototype=Object.create(Pi.prototype)).constructor=Ei,(cr.prototype=Object.create(bu.prototype)).constructor=cr,(Eo.prototype=Object.create(ko.prototype)).constructor=Eo,(Oo.prototype=Object.create(Io.prototype)).constructor=Oo,(na.prototype=Object.create(C.prototype)).constructor=na,(ra.prototype=Object.create(ia.prototype)).constructor=ra,(aa.prototype=Object.create(na.prototype)).constructor=aa,(oa.prototype=Object.create(aa.prototype)).constructor=oa,(pa.prototype=Object.create(na.prototype)).constructor=pa,(la.prototype=Object.create(pa.prototype)).constructor=la,(ca.prototype=Object.create(pa.prototype)).constructor=ca,(ha.prototype=Object.create(Ci.prototype)).constructor=ha,(_a.prototype=Object.create(aa.prototype)).constructor=_a,(Ea.prototype=Object.create(la.prototype)).constructor=Ea,(Pa.prototype=Object.create(ha.prototype)).constructor=Pa,(Ma.prototype=Object.create(pa.prototype)).constructor=Ma,(Va.prototype=Object.create(ua.prototype)).constructor=Va,(Ua.prototype=Object.create(la.prototype)).constructor=Ua,(Wa.prototype=Object.create(Pa.prototype)).constructor=Wa,(Za.prototype=Object.create(Ma.prototype)).constructor=Za,(os.prototype=Object.create(rs.prototype)).constructor=os,(as.prototype=Object.create(rs.prototype)).constructor=as,(ls.prototype=Object.create(rs.prototype)).constructor=ls,(Ju.prototype=Object.create(xo.prototype)).constructor=Ju,(Jl.prototype=Object.create(Error.prototype)).constructor=Jl,(oc.prototype=Object.create(Jl.prototype)).constructor=oc,(nc.prototype=Object.create(oc.prototype)).constructor=nc,(uc.prototype=Object.create(oc.prototype)).constructor=uc,(cc.prototype=Object.create(oc.prototype)).constructor=cc,(pc.prototype=Object.create(oc.prototype)).constructor=pc,(gc.prototype=Object.create(oc.prototype)).constructor=gc,(_c.prototype=Object.create(oc.prototype)).constructor=_c,(vc.prototype=Object.create(nc.prototype)).constructor=vc,(wc.prototype=Object.create(oc.prototype)).constructor=wc,(kc.prototype=Object.create(oc.prototype)).constructor=kc,(Sc.prototype=Object.create(oc.prototype)).constructor=Sc,(Ic.prototype=Object.create(oc.prototype)).constructor=Ic,(zc.prototype=Object.create(cp.prototype)).constructor=zc,(jc.prototype=Object.create(cp.prototype)).constructor=jc,(Xc.prototype=Object.create(nc.prototype)).constructor=Xc,(Gc.prototype=Object.create(Xc.prototype)).constructor=Gc,(Wc.prototype=Object.create(Xc.prototype)).constructor=Wc,(Ch.prototype=Object.create(Th.prototype)).constructor=Ch,(Ah.prototype=Object.create(Th.prototype)).constructor=Ah,(Vh.prototype=Object.create(Th.prototype)).constructor=Vh,(Oh.prototype=Object.create(Vh.prototype)).constructor=Oh,(Lh.prototype=Object.create(Vh.prototype)).constructor=Lh,(Mh.prototype=Object.create(Vh.prototype)).constructor=Mh,(Nh.prototype=Object.create(Vh.prototype)).constructor=Nh,(Rh.prototype=Object.create(Vh.prototype)).constructor=Rh,(Dh.prototype=Object.create(Vh.prototype)).constructor=Dh,(zh.prototype=Object.create(Vh.prototype)).constructor=zh,(Fh.prototype=Object.create(Vh.prototype)).constructor=Fh,(Bh.prototype=Object.create(Vh.prototype)).constructor=Bh,(Kh.prototype=Object.create(Th.prototype)).constructor=Kh,(Uh.prototype=Object.create(Kh.prototype)).constructor=Uh,(Gh.prototype=Object.create(Kh.prototype)).constructor=Gh,(Wh.prototype=Object.create(Kh.prototype)).constructor=Wh,(Zh.prototype=Object.create(Kh.prototype)).constructor=Zh,(tp.prototype=Object.create(Th.prototype)).constructor=tp,($h.prototype=Object.create(tp.prototype)).constructor=$h,(Qh.prototype=Object.create(tp.prototype)).constructor=Qh,(fp.prototype=Object.create(dp.prototype)).constructor=fp,(gp.prototype=Object.create(dp.prototype)).constructor=gp,(mp.prototype=Object.create(dp.prototype)).constructor=mp,(_p.prototype=Object.create(yp.prototype)).constructor=_p,(vp.prototype=Object.create(dp.prototype)).constructor=vp,(bp.prototype=Object.create(dp.prototype)).constructor=bp,(wp.prototype=Object.create(yp.prototype)).constructor=wp,(Ep.prototype=Object.create(Sp.prototype)).constructor=Ep,(xp.prototype=Object.create(Ep.prototype)).constructor=xp,(Cp.prototype=Object.create(Ep.prototype)).constructor=Cp,(Ip.prototype=Object.create(Ep.prototype)).constructor=Ip,(Pp.prototype=Object.create(Sp.prototype)).constructor=Pp,(Ap.prototype=Object.create(Pp.prototype)).constructor=Ap,(Tp.prototype=Object.create(Ep.prototype)).constructor=Tp,(Op.prototype=Object.create(Ep.prototype)).constructor=Op,(Lp.prototype=Object.create(Pp.prototype)).constructor=Lp,(Dp.prototype=Object.create(nf.prototype)).constructor=Dp,(af.prototype=Object.create(xp.prototype)).constructor=af,(sf.prototype=Object.create(xp.prototype)).constructor=sf,(uf.prototype=Object.create(xp.prototype)).constructor=uf,(lf.prototype=Object.create(xp.prototype)).constructor=lf,(cf.prototype=Object.create(xp.prototype)).constructor=cf,(hf.prototype=Object.create(xp.prototype)).constructor=hf,(pf.prototype=Object.create(xp.prototype)).constructor=pf,(ff.prototype=Object.create(xp.prototype)).constructor=ff,(df.prototype=Object.create(kp.prototype)).constructor=df,(gf.prototype=Object.create(kp.prototype)).constructor=gf,(mf.prototype=Object.create(kp.prototype)).constructor=mf,(_f.prototype=Object.create(kp.prototype)).constructor=_f,(yf.prototype=Object.create(kp.prototype)).constructor=yf,(vf.prototype=Object.create(kp.prototype)).constructor=vf,(bf.prototype=Object.create(kp.prototype)).constructor=bf,(wf.prototype=Object.create(kp.prototype)).constructor=wf,(Ff.prototype=Object.create(Uf.prototype)).constructor=Ff,(Hf.prototype=Object.create(Kf.prototype)).constructor=Hf,(Yf.prototype=Object.create(Kf.prototype)).constructor=Yf,(Jf.prototype=Object.create($f.prototype)).constructor=Jf,(Qf.prototype=Object.create(ed.prototype)).constructor=Qf,(td.prototype=Object.create(ed.prototype)).constructor=td,(sd.prototype=Object.create(ld.prototype)).constructor=sd,(hd.prototype=Object.create(ld.prototype)).constructor=hd,(vd.prototype=Object.create(md.prototype)).constructor=vd,(wd.prototype=Object.create(md.prototype)).constructor=wd,(Sd.prototype=Object.create(wd.prototype)).constructor=Sd,(Id.prototype=Object.create(wd.prototype)).constructor=Id,(Td.prototype=Object.create(md.prototype)).constructor=Td,(ug.prototype=Object.create(sg.prototype)).constructor=ug,(_g.prototype=Object.create(Xc.prototype)).constructor=_g,(lg.prototype=Object.create(_g.prototype)).constructor=lg,(hg.prototype=Object.create(_g.prototype)).constructor=hg,(tm.prototype=Object.create(ep.prototype)).constructor=tm,(em.prototype=Object.create(ep.prototype)).constructor=em,(nm.prototype=Object.create(np.prototype)).constructor=nm,(um.prototype=Object.create(Ff.prototype)).constructor=um,(fm.prototype=Object.create(um.prototype)).constructor=fm,(dm.prototype=Object.create(um.prototype)).constructor=dm,(gm.prototype=Object.create(um.prototype)).constructor=gm,(mm.prototype=Object.create(fm.prototype)).constructor=mm,(ym.prototype=Object.create(bu.prototype)).constructor=ym,(Sm.prototype=Object.create(np.prototype)).constructor=Sm,(Om.prototype=Object.create(bu.prototype)).constructor=Om,(Dm.prototype=Object.create(np.prototype)).constructor=Dm,(r_.prototype=Object.create(fd.prototype)).constructor=r_,(c_.prototype=Object.create(i_.prototype)).constructor=c_,(d_.prototype=Object.create(i_.prototype)).constructor=d_,(y_.prototype=Object.create(i_.prototype)).constructor=y_,(E_.prototype=Object.create(i_.prototype)).constructor=E_,(A_.prototype=Object.create(i_.prototype)).constructor=A_,(X_.prototype=Object.create(bu.prototype)).constructor=X_,(by.prototype=Object.create(bu.prototype)).constructor=by,(Uy.prototype=Object.create(bu.prototype)).constructor=Uy,l.prototype.invoke_97=function(){return ku(this._$this_withIndex)},l.$metadata$={kind:"class",interfaces:[]},S.prototype.invoke_0=function(t){return t===this._this$0?"(this Collection)":wu(t)},S.prototype.invoke_103=function(t){return this.invoke_0(null==t||Pl(t)?t:Hu())},S.$metadata$={kind:"class",interfaces:[]},C.prototype.contains_27=function(t){var e;t:do{if(Cl(this,mu)&&this.isEmpty_29()){e=!1;break t}for(var n=this.iterator_39();n.hasNext_14();)if(Du(n.next_14(),t)){e=!0;break t}e=!1}while(0);return e},C.prototype.containsAll_22=function(t){var e;t:do{if(Cl(t,mu)&&t.isEmpty_29()){e=!0;break t}for(var n=t.iterator_39();n.hasNext_14();){var i=n.next_14();if(!this.contains_27(i)){e=!1;break t}}e=!0}while(0);return e},C.prototype.isEmpty_29=function(){return 0===this._get_size__29()},C.prototype.toString=function(){return c(this,", ","[","]",0,null,(t=new S(this),function(e){return t.invoke_0(e)}),24);var t},C.prototype.toArray=function(){return ea(this)},C.$metadata$={simpleName:"AbstractCollection",kind:"class",interfaces:[mu]},I.prototype.checkElementIndex=function(t,e){if(t<0||t>=e)throw hc("index: "+t+", size: "+e)},I.prototype.checkPositionIndex=function(t,e){if(t<0||t>e)throw hc("index: "+t+", size: "+e)},I.prototype.checkRangeIndexes=function(t,e,n){if(t<0||e>n)throw hc("fromIndex: "+t+", toIndex: "+e+", size: "+n);if(t>e)throw ec("fromIndex: "+t+" > toIndex: "+e)},I.prototype.checkBoundsIndexes=function(t,e,n){if(t<0||e>n)throw hc("startIndex: "+t+", endIndex: "+e+", size: "+n);if(t>e)throw ec("startIndex: "+t+" > endIndex: "+e)},I.prototype.orderedHashCode=function(t){for(var e=1,n=t.iterator_39();n.hasNext_14();){var i=n.next_14(),r=ml(31,e),o=null==i?null:zu(i);e=r+(null==o?0:o)|0}return e},I.prototype.orderedEquals=function(t,e){if(t._get_size__29()!==e._get_size__29())return!1;for(var n=e.iterator_39(),i=t.iterator_39();i.hasNext_14();)if(!Du(i.next_14(),n.next_14()))return!1;return!0},I.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},vi.prototype.hasNext_14=function(){return this._$entryIterator.hasNext_14()},vi.prototype.next_14=function(){return this._$entryIterator.next_14()._get_key__3()},vi.$metadata$={kind:"class",interfaces:[yo]},xi.prototype.entryHashCode=function(t){var e=t._get_key__3(),n=null==e?null:zu(e),i=null==n?0:n,r=t._get_value__15(),o=null==r?null:zu(r);return i^(null==o?0:o)},xi.prototype.entryToString=function(t){return t._get_key__3()+"="+t._get_value__15()},xi.prototype.entryEquals=function(t,e){return!(null==e||!Cl(e,uu))&&!!Du(t._get_key__3(),e._get_key__3())&&Du(t._get_value__15(),e._get_value__15())},xi.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},Ei.prototype.contains_20=function(t){return this._this$0_0.containsKey_8(t)},Ei.prototype.contains_27=function(t){return!(null!=t&&!Pl(t))&&this.contains_20(null==t||Pl(t)?t:Hu())},Ei.prototype.iterator_39=function(){return new vi(this._this$0_0._get_entries__5().iterator_39())},Ei.prototype._get_size__29=function(){return this._this$0_0._get_size__29()},Ei.$metadata$={kind:"class",interfaces:[]},Si.prototype.invoke_2=function(t){return this._this$0_1.toString_0(t)},Si.prototype.invoke_103=function(t){return this.invoke_2(null!=t&&Cl(t,uu)?t:Hu())},Si.$metadata$={kind:"class",interfaces:[]},Ci.prototype.containsKey_8=function(t){return!(null==wi(this,t))},Ci.prototype.containsEntry_5=function(t){if(null==t||!Cl(t,uu))return!1;var e=t._get_key__3(),n=t._get_value__15(),i=(Cl(this,lu)?this:Hu()).get_17(e);return!(!Du(n,i)||null==i&&!(Cl(this,lu)?this:Hu()).containsKey_8(e))},Ci.prototype.equals=function(t){if(t===this)return!0;if(null==t||!Cl(t,lu))return!1;if(this._get_size__29()!==t._get_size__29())return!1;var e;t:do{var n=t._get_entries__5();if(Cl(n,mu)&&n.isEmpty_29()){e=!0;break t}for(var i=n.iterator_39();i.hasNext_14();){var r=i.next_14();if(!this.containsEntry_5(r)){e=!1;break t}}e=!0}while(0);return e},Ci.prototype.get_17=function(t){var e=wi(this,t);return null==e?null:e._get_value__15()},Ci.prototype.hashCode=function(){return zu(this._get_entries__5())},Ci.prototype.isEmpty_29=function(){return 0===this._get_size__29()},Ci.prototype._get_size__29=function(){return this._get_entries__5()._get_size__29()},Ci.prototype._get_keys__5=function(){return null==this.__keys&&(this.__keys=new Ei(this)),qu(this.__keys)},Ci.prototype.toString=function(){var t;return c(this._get_entries__5(),", ","{","}",0,null,(t=new Si(this),function(e){return t.invoke_2(e)}),24)},Ci.prototype.toString_0=function(t){return bi(this,t._get_key__3())+"="+bi(this,t._get_value__15())},Ci.$metadata$={simpleName:"AbstractMap",kind:"class",interfaces:[lu]},Ii.prototype.unorderedHashCode=function(t){for(var e=0,n=t.iterator_39();n.hasNext_14();){var i=n.next_14(),r=e,o=null==i?null:zu(i);e=r+(null==o?0:o)|0}return e},Ii.prototype.setEquals=function(t,e){return t._get_size__29()===e._get_size__29()&&t.containsAll_22(e)},Ii.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},Pi.prototype.equals=function(t){return t===this||!(null==t||!Cl(t,fu))&&Ai().setEquals(this,t)},Pi.prototype.hashCode=function(){return Ai().unorderedHashCode(this)},Pi.$metadata$={simpleName:"AbstractSet",kind:"class",interfaces:[fu]},Mi.prototype.equals=function(t){return!(null==t||!Cl(t,cu))&&t.isEmpty_29()},Mi.prototype.hashCode=function(){return 1},Mi.prototype.toString=function(){return"[]"},Mi.prototype._get_size__29=function(){return 0},Mi.prototype.isEmpty_29=function(){return!0},Mi.prototype.contains_7=function(t){return!1},Mi.prototype.contains_27=function(t){return!1},Mi.prototype.containsAll_6=function(t){return t.isEmpty_29()},Mi.prototype.containsAll_22=function(t){return this.containsAll_6(t)},Mi.prototype.get_29=function(t){throw hc("Empty list doesn't contain element at index "+t+".")},Mi.prototype.indexOf=function(t){return-1},Mi.prototype.indexOf_6=function(t){return-1},Mi.prototype.iterator_39=function(){return Di()},Mi.prototype.listIterator_4=function(t){if(0!==t)throw hc("Index: "+t);return Di()},Mi.prototype.subList_4=function(t,e){if(0===t&&0===e)return this;throw hc("fromIndex: "+t+", toIndex: "+e)},Mi.$metadata$={simpleName:"EmptyList",kind:"object",interfaces:[cu,Ka,Xa]},Ni.prototype._get_size__29=function(){return this._values.length},Ni.prototype.isEmpty_29=function(){return 0===this._values.length},Ni.prototype.contains_5=function(t){return function(t,e){return i(t,e)>=0}(this._values,t)},Ni.prototype.contains_27=function(t){return!(null!=t&&!Pl(t))&&this.contains_5(null==t||Pl(t)?t:Hu())},Ni.prototype.containsAll_4=function(t){var e;t:do{if(Cl(t,mu)&&t.isEmpty_29()){e=!0;break t}for(var n=t.iterator_39();n.hasNext_14();){var i=n.next_14();if(!this.contains_5(i)){e=!1;break t}}e=!0}while(0);return e},Ni.prototype.containsAll_22=function(t){return this.containsAll_4(t)},Ni.prototype.iterator_39=function(){return ku(this._values)},Ni.$metadata$={simpleName:"ArrayAsCollection",kind:"class",interfaces:[mu]},Ri.prototype.hasNext_14=function(){return!1},Ri.prototype.hasPrevious_1=function(){return!1},Ri.prototype.next_14=function(){throw ac()},Ri.prototype.previous_1=function(){throw ac()},Ri.$metadata$={simpleName:"EmptyIterator",kind:"object",interfaces:[vo]},Fi.prototype.toString=function(){return"IndexedValue(index="+this._index+", value="+this._value+")"},Fi.prototype.hashCode=function(){return ml(this._index,31)+(null==this._value?0:zu(this._value))|0},Fi.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof Fi))return!1;var e=t instanceof Fi?t:Hu();return this._index===e._index&&!!Du(this._value,e._value)},Fi.$metadata$={simpleName:"IndexedValue",kind:"class",interfaces:[]},ji.prototype.iterator_39=function(){return new Ui(this._iteratorFactory())},ji.$metadata$={simpleName:"IndexingIterable",kind:"class",interfaces:[su]},Ui.prototype.hasNext_14=function(){return this._iterator.hasNext_14()},Ui.prototype.next_14=function(){var t=this._index_0;return this._index_0=t+1|0,new Fi(Qo(t),this._iterator.next_14())},Ui.$metadata$={simpleName:"IndexingIterator",kind:"class",interfaces:[yo]},qi.$metadata$={simpleName:"MapWithDefault",kind:"interface",interfaces:[lu]},Yi.prototype.equals=function(t){return!(null==t||!Cl(t,lu))&&t.isEmpty_29()},Yi.prototype.hashCode=function(){return 0},Yi.prototype.toString=function(){return"{}"},Yi.prototype._get_size__29=function(){return 0},Yi.prototype.isEmpty_29=function(){return!0},Yi.prototype.containsKey_0=function(t){return!1},Yi.prototype.containsKey_8=function(t){return!(null!=t&&!Pl(t))&&this.containsKey_0(null==t||Pl(t)?t:Hu())},Yi.prototype.get_1=function(t){return null},Yi.prototype.get_17=function(t){return null==t||Pl(t)?this.get_1(null==t||Pl(t)?t:Hu()):null},Yi.prototype._get_entries__5=function(){return ir()},Yi.prototype._get_keys__5=function(){return ir()},Yi.$metadata$={simpleName:"EmptyMap",kind:"object",interfaces:[lu,Ka]},Qi.$metadata$={simpleName:"Sequence",kind:"interface",interfaces:[]},tr.prototype.next_14=function(){return this._this$0_2._transformer(this._iterator_0.next_14())},tr.prototype.hasNext_14=function(){return this._iterator_0.hasNext_14()},tr.$metadata$={kind:"class",interfaces:[yo]},er.prototype.iterator_39=function(){return new tr(this)},er.$metadata$={simpleName:"TransformingSequence",kind:"class",interfaces:[Qi]},nr.prototype.equals=function(t){return!(null==t||!Cl(t,fu))&&t.isEmpty_29()},nr.prototype.hashCode=function(){return 0},nr.prototype.toString=function(){return"[]"},nr.prototype._get_size__29=function(){return 0},nr.prototype.isEmpty_29=function(){return!0},nr.prototype.contains_7=function(t){return!1},nr.prototype.contains_27=function(t){return!1},nr.prototype.containsAll_6=function(t){return t.isEmpty_29()},nr.prototype.containsAll_22=function(t){return this.containsAll_6(t)},nr.prototype.iterator_39=function(){return Di()},nr.$metadata$={simpleName:"EmptySet",kind:"object",interfaces:[fu,Ka]},or.$metadata$={simpleName:"KClassifier",kind:"interface",interfaces:[]},ar.prototype.invariant=function(t){return new ur(hr(),t)},ar.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},ur.prototype.toString=function(){var t,e=this._variance;return null==e?t="*":Du(e,hr())?t=wu(this._type):Du(e,pr())?t="in "+this._type:Du(e,fr())?t="out "+this._type:Gu(),t},ur.prototype.hashCode=function(){return ml(null==this._variance?0:this._variance.hashCode(),31)+(null==this._type?0:zu(this._type))|0},ur.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof ur))return!1;var e=t instanceof ur?t:Hu();return!!Du(this._variance,e._variance)&&!!Du(this._type,e._type)},ur.$metadata$={simpleName:"KTypeProjection",kind:"class",interfaces:[]},cr.$metadata$={simpleName:"KVariance",kind:"class",interfaces:[]},yr.prototype.invoke_6=function(t){return t},yr.prototype.invoke_103=function(t){return this.invoke_6(null!=t&&"string"==typeof t?t:Hu())},yr.$metadata$={kind:"class",interfaces:[]},vr.prototype.invoke_6=function(t){return this._$indent+t},vr.prototype.invoke_103=function(t){return this.invoke_6(null!=t&&"string"==typeof t?t:Hu())},vr.$metadata$={kind:"class",interfaces:[]},Ar.prototype.next_14=function(){if(-1===this._nextState&&Ir(this),0===this._nextState)throw ac();var t=this._nextItem,e=t instanceof Oo?t:Hu();return this._nextItem=null,this._nextState=-1,e},Ar.prototype.hasNext_14=function(){return-1===this._nextState&&Ir(this),1===this._nextState},Ar.$metadata$={kind:"class",interfaces:[yo]},Pr.prototype.iterator_39=function(){return new Ar(this)},Pr.$metadata$={simpleName:"DelimitedRangesSequence",kind:"class",interfaces:[Qi]},Tr.prototype.invoke_8=function(t){return Fu((n=this._$this_splitToSequence,i=(e=t)._get_start_(),r=e._get_endInclusive_()+1|0,Pu(n)?n.substring(i,r):n.subSequence_1(i,r)));var e,n,i,r},Tr.prototype.invoke_103=function(t){return this.invoke_8(t instanceof Oo?t:Hu())},Tr.$metadata$={kind:"class",interfaces:[]},Or.prototype.invoke_10=function(t,e){var n=function(t,e,n,i,r){if(!i&&1===e._get_size__29()){var o,a=function(t){if(Cl(t,cu))return function(t){var e;switch(t._get_size__29()){case 0:throw sc("List is empty.");case 1:e=t.get_29(0);break;default:throw ec("List has more than one element.")}return e}(t);var e=t.iterator_39();if(!e.hasNext_14())throw sc("Collection is empty.");var n=e.next_14();if(e.hasNext_14())throw ec("Collection has more than one element.");return n}(e);return(o=function(t,e,n,i,r,o){return function(t,e,n,i){return"string"!=typeof t?function(t,e,n,i,r,o,a,s){return Sr(t,e,n,i,!1,!1)}(t,e,n,Tu(t)):t.indexOf(e,n)}(t,e,n)}(t,a,n))<0?null:zr(o,a)}var s=xl(w(n,0),Tu(t));if("string"==typeof t){var u=s._first_1,l=s._last,c=s._step_0;if(c>0&&u<=l||c<0&&l<=u)do{var h,p=u;u=u+c|0;t:do{for(var f=e.iterator_39();f.hasNext_14();){var d=f.next_14();if(nu(d,0,t,p,d.length,i)){h=d;break t}}h=null}while(0);if(null!=h)return zr(p,h)}while(p!==l)}else{var g=s._first_1,m=s._last,_=s._step_0;if(_>0&&g<=m||_<0&&m<=g)do{var y,v=g;g=g+_|0;t:do{for(var b=e.iterator_39();b.hasNext_14();){var x=b.next_14();if(Cr(x,0,t,v,x.length,i)){y=x;break t}}y=null}while(0);if(null!=y)return zr(v,y)}while(v!==m)}return null}(t,this._$delimitersList,e,this._$ignoreCase);return null==n?null:zr(n._first,n._second.length)},Or.prototype.invoke_101=function(t,e){var n=null!=t&&Ol(t)?t:Hu();return this.invoke_10(n,null!=e&&"number"==typeof e?e:Hu())},Or.$metadata$={kind:"class",interfaces:[]},Lr.$metadata$={simpleName:"Lazy",kind:"interface",interfaces:[]},Mr.prototype._get_value__15=function(){this.__value===Rr()&&(this.__value=qu(this._initializer)(),this._initializer=null);var t=this.__value;return null==t||Pl(t)?t:Hu()},Mr.prototype.isInitialized=function(){return!(this.__value===Rr())},Mr.prototype.toString=function(){return this.isInitialized()?wu(this._get_value__15()):"Lazy value not initialized yet."},Mr.$metadata$={simpleName:"UnsafeLazyImpl",kind:"class",interfaces:[Lr,Ka]},Nr.$metadata$={simpleName:"UNINITIALIZED_VALUE",kind:"object",interfaces:[]},Dr.prototype.toString=function(){return"("+this._first+", "+this._second+")"},Dr.prototype.component1=function(){return this._first},Dr.prototype.component2=function(){return this._second},Dr.prototype.hashCode=function(){return ml(null==this._first?0:zu(this._first),31)+(null==this._second?0:zu(this._second))|0},Dr.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof Dr))return!1;var e=t instanceof Dr?t:Hu();return!!Du(this._first,e._first)&&!!Du(this._second,e._second)},Dr.$metadata$={simpleName:"Pair",kind:"class",interfaces:[Ka]},Fr.prototype.toString=function(){return"("+this._first_0+", "+this._second_0+", "+this._third+")"},Fr.prototype.hashCode=function(){var t=null==this._first_0?0:zu(this._first_0);return t=ml(t,31)+(null==this._second_0?0:zu(this._second_0))|0,ml(t,31)+(null==this._third?0:zu(this._third))|0},Fr.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof Fr))return!1;var e=t instanceof Fr?t:Hu();return!!Du(this._first_0,e._first_0)&&!!Du(this._second_0,e._second_0)&&!!Du(this._third,e._third)},Fr.$metadata$={simpleName:"Triple",kind:"class",interfaces:[Ka]},Br.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},qr.prototype.compareTo_0=function(t){return Vr(this._data,t)},qr.prototype.compareTo_14=function(t){return function(t,e){return Vr(t._data,e instanceof qr?e._data:Hu())}(this,t)},qr.prototype.toString=function(){return Ur(this._data)},qr.prototype.hashCode=function(){return this._data},qr.prototype.equals=function(t){return function(t,e){return e instanceof qr&&t===(e instanceof qr?e._data:Hu())}(this._data,t)},qr.$metadata$={simpleName:"UByte",kind:"class",interfaces:[_o]},Gr.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},Zr.prototype.compareTo_2=function(t){return Wr(this._data_0,t)},Zr.prototype.compareTo_14=function(t){return function(t,e){return Wr(t._data_0,e instanceof Zr?e._data_0:Hu())}(this,t)},Zr.prototype.toString=function(){return Yr(this._data_0)},Zr.prototype.hashCode=function(){return this._data_0},Zr.prototype.equals=function(t){return function(t,e){return e instanceof Zr&&t===(e instanceof Zr?e._data_0:Hu())}(this._data_0,t)},Zr.$metadata$={simpleName:"UInt",kind:"class",interfaces:[_o]},Xr.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},Qr.prototype.compareTo_4=function(t){return $r(this._data_1,t)},Qr.prototype.compareTo_14=function(t){return function(t,e){return $r(t._data_1,e instanceof Qr?e._data_1:Hu())}(this,t)},Qr.prototype.toString=function(){return Jr(this._data_1)},Qr.prototype.hashCode=function(){return this._data_1.hashCode()},Qr.prototype.equals=function(t){return function(t,e){if(!(e instanceof Qr))return!1;var n=e instanceof Qr?e._data_1:Hu();return!!t.equals(n)}(this._data_1,t)},Qr.$metadata$={simpleName:"ULong",kind:"class",interfaces:[_o]},to.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},ro.prototype.compareTo_6=function(t){return no(this._data_2,t)},ro.prototype.compareTo_14=function(t){return function(t,e){return no(t._data_2,e instanceof ro?e._data_2:Hu())}(this,t)},ro.prototype.toString=function(){return io(this._data_2)},ro.prototype.hashCode=function(){return this._data_2},ro.prototype.equals=function(t){return function(t,e){return e instanceof ro&&t===(e instanceof ro?e._data_2:Hu())}(this._data_2,t)},ro.$metadata$={simpleName:"UShort",kind:"class",interfaces:[_o]},go.$metadata$={simpleName:"Annotation",kind:"interface",interfaces:[]},mo.$metadata$={simpleName:"CharSequence",kind:"interface",interfaces:[]},_o.$metadata$={simpleName:"Comparable",kind:"interface",interfaces:[]},yo.$metadata$={simpleName:"Iterator",kind:"interface",interfaces:[]},vo.$metadata$={simpleName:"ListIterator",kind:"interface",interfaces:[yo]},bo.$metadata$={simpleName:"MutableListIterator",kind:"interface",interfaces:[vo,wo]},wo.$metadata$={simpleName:"MutableIterator",kind:"interface",interfaces:[yo]},xo.$metadata$={simpleName:"Number",kind:"class",interfaces:[]},ko.prototype.next_14=function(){return this.nextInt_0()},ko.$metadata$={simpleName:"IntIterator",kind:"class",interfaces:[yo]},Eo.prototype.hasNext_14=function(){return this._hasNext},Eo.prototype.nextInt_0=function(){var t=this._next;if(t===this._finalElement){if(!this._hasNext)throw ac();this._hasNext=!1}else this._next=this._next+this._step|0;return t},Eo.$metadata$={simpleName:"IntProgressionIterator",kind:"class",interfaces:[]},So.prototype.fromClosedRange=function(t,e,n){return new Io(t,e,n)},So.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},Io.prototype._get_first__0=function(){return this._first_1},Io.prototype._get_last__2=function(){return this._last},Io.prototype.iterator_39=function(){return new Eo(this._first_1,this._last,this._step_0)},Io.prototype.isEmpty_29=function(){return this._step_0>0?this._first_1>this._last:this._first_1<this._last},Io.prototype.equals=function(t){return t instanceof Io&&(!(!this.isEmpty_29()||!t.isEmpty_29())||this._first_1===t._first_1&&this._last===t._last&&this._step_0===t._step_0)},Io.prototype.hashCode=function(){return this.isEmpty_29()?-1:ml(31,ml(31,this._first_1)+this._last|0)+this._step_0|0},Io.prototype.toString=function(){return this._step_0>0?this._first_1+".."+this._last+" step "+this._step_0:this._first_1+" downTo "+this._last+" step "+(0|-this._step_0)},Io.$metadata$={simpleName:"IntProgression",kind:"class",interfaces:[su]},Ao.$metadata$={simpleName:"ClosedRange",kind:"interface",interfaces:[]},Po.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},Oo.prototype._get_start_=function(){return this._get_first__0()},Oo.prototype._get_endInclusive_=function(){return this._get_last__2()},Oo.prototype.isEmpty_29=function(){return this._get_first__0()>this._get_last__2()},Oo.prototype.equals=function(t){return t instanceof Oo&&(!(!this.isEmpty_29()||!t.isEmpty_29())||this._get_first__0()===t._get_first__0()&&this._get_last__2()===t._get_last__2())},Oo.prototype.hashCode=function(){return this.isEmpty_29()?-1:ml(31,this._get_first__0())+this._get_last__2()|0},Oo.prototype.toString=function(){return this._get_first__0()+".."+this._get_last__2()},Oo.$metadata$={simpleName:"IntRange",kind:"class",interfaces:[Ao]},Lo.prototype.toString=function(){return"kotlin.Unit"},Lo.$metadata$={simpleName:"Unit",kind:"object",interfaces:[]},Do.prototype._get_MIN_VALUE__3=function(){return this._MIN_VALUE_3},Do.prototype._get_MAX_VALUE__3=function(){return this._MAX_VALUE_3},Do.prototype._get_SIZE_BYTES__3=function(){return this._SIZE_BYTES_3},Do.prototype._get_SIZE_BITS__3=function(){return this._SIZE_BITS_3},Do.$metadata$={simpleName:"ByteCompanionObject",kind:"object",interfaces:[]},Object.defineProperty(Do.prototype,"MIN_VALUE",{configurable:!0,get:Do.prototype._get_MIN_VALUE__3}),Object.defineProperty(Do.prototype,"MAX_VALUE",{configurable:!0,get:Do.prototype._get_MAX_VALUE__3}),Object.defineProperty(Do.prototype,"SIZE_BYTES",{configurable:!0,get:Do.prototype._get_SIZE_BYTES__3}),Object.defineProperty(Do.prototype,"SIZE_BITS",{configurable:!0,get:Do.prototype._get_SIZE_BITS__3}),Fo.prototype._get_MIN_VALUE__3=function(){return this._MIN_VALUE_4},Fo.prototype._get_MAX_VALUE__3=function(){return this._MAX_VALUE_4},Fo.prototype._get_SIZE_BYTES__3=function(){return this._SIZE_BYTES_4},Fo.prototype._get_SIZE_BITS__3=function(){return this._SIZE_BITS_4},Fo.$metadata$={simpleName:"ShortCompanionObject",kind:"object",interfaces:[]},Object.defineProperty(Fo.prototype,"MIN_VALUE",{configurable:!0,get:Fo.prototype._get_MIN_VALUE__3}),Object.defineProperty(Fo.prototype,"MAX_VALUE",{configurable:!0,get:Fo.prototype._get_MAX_VALUE__3}),Object.defineProperty(Fo.prototype,"SIZE_BYTES",{configurable:!0,get:Fo.prototype._get_SIZE_BYTES__3}),Object.defineProperty(Fo.prototype,"SIZE_BITS",{configurable:!0,get:Fo.prototype._get_SIZE_BITS__3}),jo.prototype._get_MIN_VALUE__3=function(){return this._MIN_VALUE_5},jo.prototype._get_MAX_VALUE__3=function(){return this._MAX_VALUE_5},jo.prototype._get_SIZE_BYTES__3=function(){return this._SIZE_BYTES_5},jo.prototype._get_SIZE_BITS__3=function(){return this._SIZE_BITS_5},jo.$metadata$={simpleName:"IntCompanionObject",kind:"object",interfaces:[]},Object.defineProperty(jo.prototype,"MIN_VALUE",{configurable:!0,get:jo.prototype._get_MIN_VALUE__3}),Object.defineProperty(jo.prototype,"MAX_VALUE",{configurable:!0,get:jo.prototype._get_MAX_VALUE__3}),Object.defineProperty(jo.prototype,"SIZE_BYTES",{configurable:!0,get:jo.prototype._get_SIZE_BYTES__3}),Object.defineProperty(jo.prototype,"SIZE_BITS",{configurable:!0,get:jo.prototype._get_SIZE_BITS__3}),Uo.prototype._get_MIN_VALUE__3=function(){return this._MIN_VALUE_6},Uo.prototype._get_MAX_VALUE__3=function(){return this._MAX_VALUE_6},Uo.prototype._get_POSITIVE_INFINITY__0=function(){return this._POSITIVE_INFINITY},Uo.prototype._get_NEGATIVE_INFINITY__0=function(){return this._NEGATIVE_INFINITY},Uo.prototype._get_NaN__0=function(){return this._NaN},Uo.prototype._get_SIZE_BYTES__3=function(){return this._SIZE_BYTES_6},Uo.prototype._get_SIZE_BITS__3=function(){return this._SIZE_BITS_6},Uo.$metadata$={simpleName:"FloatCompanionObject",kind:"object",interfaces:[]},Object.defineProperty(Uo.prototype,"MIN_VALUE",{configurable:!0,get:Uo.prototype._get_MIN_VALUE__3}),Object.defineProperty(Uo.prototype,"MAX_VALUE",{configurable:!0,get:Uo.prototype._get_MAX_VALUE__3}),Object.defineProperty(Uo.prototype,"POSITIVE_INFINITY",{configurable:!0,get:Uo.prototype._get_POSITIVE_INFINITY__0}),Object.defineProperty(Uo.prototype,"NEGATIVE_INFINITY",{configurable:!0,get:Uo.prototype._get_NEGATIVE_INFINITY__0}),Object.defineProperty(Uo.prototype,"NaN",{configurable:!0,get:Uo.prototype._get_NaN__0}),Object.defineProperty(Uo.prototype,"SIZE_BYTES",{configurable:!0,get:Uo.prototype._get_SIZE_BYTES__3}),Object.defineProperty(Uo.prototype,"SIZE_BITS",{configurable:!0,get:Uo.prototype._get_SIZE_BITS__3}),Go.prototype._get_MIN_VALUE__3=function(){return this._MIN_VALUE_7},Go.prototype._get_MAX_VALUE__3=function(){return this._MAX_VALUE_7},Go.prototype._get_POSITIVE_INFINITY__0=function(){return this._POSITIVE_INFINITY_0},Go.prototype._get_NEGATIVE_INFINITY__0=function(){return this._NEGATIVE_INFINITY_0},Go.prototype._get_NaN__0=function(){return this._NaN_0},Go.prototype._get_SIZE_BYTES__3=function(){return this._SIZE_BYTES_7},Go.prototype._get_SIZE_BITS__3=function(){return this._SIZE_BITS_7},Go.$metadata$={simpleName:"DoubleCompanionObject",kind:"object",interfaces:[]},Object.defineProperty(Go.prototype,"MIN_VALUE",{configurable:!0,get:Go.prototype._get_MIN_VALUE__3}),Object.defineProperty(Go.prototype,"MAX_VALUE",{configurable:!0,get:Go.prototype._get_MAX_VALUE__3}),Object.defineProperty(Go.prototype,"POSITIVE_INFINITY",{configurable:!0,get:Go.prototype._get_POSITIVE_INFINITY__0}),Object.defineProperty(Go.prototype,"NEGATIVE_INFINITY",{configurable:!0,get:Go.prototype._get_NEGATIVE_INFINITY__0}),Object.defineProperty(Go.prototype,"NaN",{configurable:!0,get:Go.prototype._get_NaN__0}),Object.defineProperty(Go.prototype,"SIZE_BYTES",{configurable:!0,get:Go.prototype._get_SIZE_BYTES__3}),Object.defineProperty(Go.prototype,"SIZE_BITS",{configurable:!0,get:Go.prototype._get_SIZE_BITS__3}),Wo.$metadata$={simpleName:"StringCompanionObject",kind:"object",interfaces:[]},Zo.$metadata$={simpleName:"BooleanCompanionObject",kind:"object",interfaces:[]},Ko.$metadata$={simpleName:"Comparator",kind:"interface",interfaces:[]},na.prototype.addAll_10=function(t){this.checkIsMutable_12();for(var e=!1,n=t.iterator_39();n.hasNext_14();){var i=n.next_14();this.add_18(i)&&(e=!0)}return e},na.prototype.toJSON=function(){return this.toArray()},na.prototype.checkIsMutable_12=function(){},na.$metadata$={simpleName:"AbstractMutableCollection",kind:"class",interfaces:[_u]},ia.prototype._set_index__0=function(t){this._index_1=t},ia.prototype._get_index__0=function(){return this._index_1},ia.prototype._set_last__0=function(t){this._last_0=t},ia.prototype._get_last__2=function(){return this._last_0},ia.prototype.hasNext_14=function(){return this._index_1<this._$this._get_size__29()},ia.prototype.next_14=function(){if(!this.hasNext_14())throw ac();var t=this._index_1;return this._index_1=t+1|0,this._last_0=t,this._$this.get_29(this._last_0)},ia.$metadata$={simpleName:"IteratorImpl",kind:"class",interfaces:[wo]},ra.prototype.hasPrevious_1=function(){return this._get_index__0()>0},ra.prototype.previous_1=function(){if(!this.hasPrevious_1())throw ac();var t=this;return t._set_index__0(t._get_index__0()-1|0),this._set_last__0(t._get_index__0()),this._$this_0.get_29(this._get_last__2())},ra.$metadata$={simpleName:"ListIteratorImpl",kind:"class",interfaces:[bo]},oa.prototype.add_9=function(t,e){yi().checkPositionIndex(t,this.__size),this._list.add_9(this._fromIndex+t|0,e),this.__size=this.__size+1|0,Mo()},oa.prototype.get_29=function(t){return yi().checkElementIndex(t,this.__size),this._list.get_29(this._fromIndex+t|0)},oa.prototype.removeAt_2=function(t){yi().checkElementIndex(t,this.__size);var e=this._list.removeAt_2(this._fromIndex+t|0);return this.__size=this.__size-1|0,Mo(),e},oa.prototype.set_2=function(t,e){return yi().checkElementIndex(t,this.__size),this._list.set_2(this._fromIndex+t|0,e)},oa.prototype._get_size__29=function(){return this.__size},oa.prototype.checkIsMutable_12=function(){return this._list.checkIsMutable_12()},oa.$metadata$={simpleName:"SubList",kind:"class",interfaces:[Xa]},aa.prototype._set_modCount__0=function(t){this._modCount=t},aa.prototype._get_modCount__0=function(){return this._modCount},aa.prototype.add_18=function(t){return this.checkIsMutable_12(),this.add_9(this._get_size__29(),t),!0},aa.prototype.iterator_39=function(){return new ia(this)},aa.prototype.contains_27=function(t){return this.indexOf_6(t)>=0},aa.prototype.indexOf_6=function(t){var e=0,n=Oi(this);if(e<=n)do{var i=e;if(e=e+1|0,Du(this.get_29(i),t))return i}while(i!==n);return-1},aa.prototype.listIterator_4=function(t){return new ra(this,t)},aa.prototype.subList_4=function(t,e){return new oa(this,t,e)},aa.prototype.equals=function(t){return t===this||!(null==t||!Cl(t,cu))&&yi().orderedEquals(this,t)},aa.prototype.hashCode=function(){return yi().orderedHashCode(this)},aa.$metadata$={simpleName:"AbstractMutableList",kind:"class",interfaces:[hu]},sa.prototype.hasNext_14=function(){return this._$entryIterator_0.hasNext_14()},sa.prototype.next_14=function(){return this._$entryIterator_0.next_14()._get_key__3()},sa.$metadata$={kind:"class",interfaces:[wo]},ua.prototype._get_key__3=function(){return this._key},ua.prototype._get_value__15=function(){return this.__value_0},ua.prototype.setValue_1=function(t){var e=this.__value_0;return this.__value_0=t,e},ua.prototype.hashCode=function(){return ki().entryHashCode(this)},ua.prototype.toString=function(){return ki().entryToString(this)},ua.prototype.equals=function(t){return ki().entryEquals(this,t)},ua.$metadata$={simpleName:"SimpleEntry",kind:"class",interfaces:[du]},la.prototype.contains_27=function(t){return this.containsEntry_4(t)},la.$metadata$={simpleName:"AbstractEntrySet",kind:"class",interfaces:[]},ca.prototype.add_5=function(t){throw dc("Add is not supported on keys")},ca.prototype.add_18=function(t){return this.add_5(null==t||Pl(t)?t:Hu())},ca.prototype.contains_20=function(t){return this._this$0_4.containsKey_8(t)},ca.prototype.contains_27=function(t){return!(null!=t&&!Pl(t))&&this.contains_20(null==t||Pl(t)?t:Hu())},ca.prototype.iterator_39=function(){return new sa(this._this$0_4._get_entries__5().iterator_39())},ca.prototype._get_size__29=function(){return this._this$0_4._get_size__29()},ca.prototype.checkIsMutable_12=function(){return this._this$0_4.checkIsMutable_12()},ca.$metadata$={kind:"class",interfaces:[]},ha.prototype._get_keys__5=function(){return null==this.__keys_0&&(this.__keys_0=new ca(this)),qu(this.__keys_0)},ha.prototype.putAll_1=function(t){this.checkIsMutable_12();for(var e=t._get_entries__5().iterator_39();e.hasNext_14();){var n=e.next_14(),i=n._get_key__3(),r=n._get_value__15();this.put_4(i,r),Mo()}},ha.prototype.checkIsMutable_12=function(){},ha.$metadata$={simpleName:"AbstractMutableMap",kind:"class",interfaces:[gu]},pa.prototype.equals=function(t){return t===this||!(null==t||!Cl(t,fu))&&Ai().setEquals(this,t)},pa.prototype.hashCode=function(){return Ai().unorderedHashCode(this)},pa.$metadata$={simpleName:"AbstractMutableSet",kind:"class",interfaces:[pu]},_a.prototype.ensureCapacity_8=function(t){},_a.prototype._get_size__29=function(){return this._array.length},_a.prototype.get_29=function(t){var e=this._array[ma(this,t)];return null==e||Pl(e)?e:Hu()},_a.prototype.set_2=function(t,e){this.checkIsMutable_12(),ma(this,t),Mo();var n=this._array[t];this._array[t]=e;var i=n;return null==i||Pl(i)?i:Hu()},_a.prototype.add_18=function(t){this.checkIsMutable_12(),this._array.push(t);var e=this._get_modCount__0();return this._set_modCount__0(e+1|0),Mo(),!0},_a.prototype.add_9=function(t,e){this.checkIsMutable_12(),this._array.splice(function(t,e){return yi().checkPositionIndex(e,t._get_size__29()),e}(this,t),0,e);var n=this._get_modCount__0();this._set_modCount__0(n+1|0),Mo()},_a.prototype.addAll_10=function(t){if(this.checkIsMutable_12(),t.isEmpty_29())return!1;var e=this._array,n=ta(t);this._array=e.concat(n);var i=this._get_modCount__0();return this._set_modCount__0(i+1|0),Mo(),!0},_a.prototype.removeAt_2=function(t){this.checkIsMutable_12(),ma(this,t),Mo();var e=this._get_modCount__0();return this._set_modCount__0(e+1|0),Mo(),t===Oi(this)?this._array.pop():this._array.splice(t,1)[0]},_a.prototype.indexOf_6=function(t){return i(this._array,t)},_a.prototype.toString=function(){return r(this._array,", ","[","]",0,null,(t=new Ou,function(e){return t.invoke_58(e)}),24);var t},_a.prototype.toArray_0=function(){return[].slice.call(this._array)},_a.prototype.toArray=function(){return this.toArray_0()},_a.prototype.checkIsMutable_12=function(){if(this._isReadOnly)throw fc()},_a.$metadata$={simpleName:"ArrayList",kind:"class",interfaces:[hu,Xa]},ba.prototype.invoke_12=function(t,e){return this._$comparator.compare(t,e)},ba.prototype.invoke_101=function(t,e){var n=null==t||Pl(t)?t:Hu();return this.invoke_12(n,null==e||Pl(e)?e:Hu())},ba.$metadata$={kind:"class",interfaces:[]},wa.prototype.invoke_14=function(t,e){return(3&t)-(3&e)|0},wa.prototype.invoke_101=function(t,e){var n=null!=t&&"number"==typeof t?t:Hu();return this.invoke_14(n,null!=e&&"number"==typeof e?e:Hu())},wa.$metadata$={kind:"class",interfaces:[]},xa.prototype.equals_1=function(t,e){return Du(t,e)},xa.prototype.getHashCode_0=function(t){var e=null==t?null:zu(t);return null==e?0:e},xa.$metadata$={simpleName:"HashCode",kind:"object",interfaces:[ka]},ka.$metadata$={simpleName:"EqualityComparator",kind:"interface",interfaces:[]},Ea.prototype.add_13=function(t){throw dc("Add is not supported on entries")},Ea.prototype.add_18=function(t){return this.add_13(null!=t&&Cl(t,du)?t:Hu())},Ea.prototype.containsEntry_4=function(t){return this._$this_1.containsEntry_5(t)},Ea.prototype.iterator_39=function(){return this._$this_1._internalMap.iterator_39()},Ea.prototype._get_size__29=function(){return this._$this_1._get_size__29()},Ea.$metadata$={simpleName:"EntrySet",kind:"class",interfaces:[]},Pa.prototype.containsKey_8=function(t){return this._internalMap.contains_20(t)},Pa.prototype._get_entries__5=function(){return null==this.__entries&&(this.__entries=this.createEntrySet_0()),qu(this.__entries)},Pa.prototype.createEntrySet_0=function(){return new Ea(this)},Pa.prototype.get_17=function(t){return this._internalMap.get_17(t)},Pa.prototype.put_4=function(t,e){return this._internalMap.put_4(t,e)},Pa.prototype._get_size__29=function(){return this._internalMap._get_size__29()},Pa.$metadata$={simpleName:"HashMap",kind:"class",interfaces:[gu]},Ma.prototype._get_map__0=function(){return this._map},Ma.prototype.add_18=function(t){return null==this._map.put_4(t,this)},Ma.prototype.contains_27=function(t){return this._map.containsKey_8(t)},Ma.prototype.isEmpty_29=function(){return this._map.isEmpty_29()},Ma.prototype.iterator_39=function(){return this._map._get_keys__5().iterator_39()},Ma.prototype._get_size__29=function(){return this._map._get_size__29()},Ma.$metadata$={simpleName:"HashSet",kind:"class",interfaces:[pu]},za.prototype.hasNext_14=function(){return-1===this._state&&(this._state=function(t){if(null!=t._chainOrEntry&&t._isChain){var e=t._chainOrEntry.length,n=t;if(n._itemIndex=n._itemIndex+1|0,n._itemIndex<e)return 0}var i=t;if(i._keyIndex=i._keyIndex+1|0,i._keyIndex<t._keys.length){t._chainOrEntry=t._this$0_5._backingMap[t._keys[t._keyIndex]];var r=t._chainOrEntry;return t._isChain=null!=r&&Al(r),t._itemIndex=0,0}return t._chainOrEntry=null,1}(this)),0===this._state},za.prototype.next_14=function(){if(!this.hasNext_14())throw ac();var t=this._isChain?this._chainOrEntry[this._itemIndex]:this._chainOrEntry;return this._lastEntry=t,this._state=-1,t},za.$metadata$={kind:"class",interfaces:[wo]},Fa.prototype._get_equality__0=function(){return this._equality_0},Fa.prototype._get_size__29=function(){return this._size},Fa.prototype.put_4=function(t,e){var n=this._equality_0.getHashCode_0(t),i=Da(this,n);if(null==i)this._backingMap[n]=new ua(t,e);else{if(null==i||!Al(i)){var r=i;if(this._equality_0.equals_1(r._get_key__3(),t))return r.setValue_1(e);var o=[r,new ua(t,e)];return this._backingMap[n]=o,this._size=this._size+1|0,Mo(),null}var a=i,s=Ra(a,this,t);if(null!=s)return s.setValue_1(e);a.push(new ua(t,e))}return this._size=this._size+1|0,Mo(),null},Fa.prototype.contains_20=function(t){return!(null==Na(this,t))},Fa.prototype.get_17=function(t){var e=Na(this,t);return null==e?null:e._get_value__15()},Fa.prototype.iterator_39=function(){return new za(this)},Fa.$metadata$={simpleName:"InternalHashCodeMap",kind:"class",interfaces:[Ba]},Ba.prototype.createJsMap_0=function(){var t=Object.create(null);return t.foo=1,delete t.foo,t},Ba.$metadata$={simpleName:"InternalMap",kind:"interface",interfaces:[yu]},ja.prototype.hasNext_14=function(){return!(null===this._next_0)},ja.prototype.next_14=function(){if(!this.hasNext_14())throw ac();var t=qu(this._next_0);this._last_1=t;var e=t._next_1;return this._next_0=e!==this._$this_2._$this_4._head?e:null,t},ja.$metadata$={simpleName:"EntryIterator",kind:"class",interfaces:[wo]},Va.prototype.setValue_1=function(t){return this._$this_3.checkIsMutable_12(),ua.prototype.setValue_1.call(this,t)},Va.$metadata$={simpleName:"ChainEntry",kind:"class",interfaces:[]},Ua.prototype.add_13=function(t){throw dc("Add is not supported on entries")},Ua.prototype.add_18=function(t){return this.add_13(null!=t&&Cl(t,du)?t:Hu())},Ua.prototype.containsEntry_4=function(t){return this._$this_4.containsEntry_5(t)},Ua.prototype.iterator_39=function(){return new ja(this)},Ua.prototype._get_size__29=function(){return this._$this_4._get_size__29()},Ua.prototype.checkIsMutable_12=function(){return this._$this_4.checkIsMutable_12()},Ua.$metadata$={simpleName:"EntrySet",kind:"class",interfaces:[]},Wa.prototype.containsKey_8=function(t){return this._map_0.containsKey_8(t)},Wa.prototype.createEntrySet_0=function(){return new Ua(this)},Wa.prototype.get_17=function(t){var e=this._map_0.get_17(t);return null==e?null:e._get_value__15()},Wa.prototype.put_4=function(t,e){this.checkIsMutable_12();var n=this._map_0.get_17(t);if(null==n){var i=new Va(this,t,e);return this._map_0.put_4(t,i),Mo(),function(t,e){if(null!=t._next_1||null!=t._prev)throw lc(Fu("Check failed."));var n=e._head;if(null==n)e._head=t,t._next_1=t,t._prev=t;else{var i,r=n._prev;t:do{if(null==r)throw lc(Fu("Required value was null."));i=r;break t}while(0);var o=i;t._prev=o,t._next_1=n,n._prev=t,o._next_1=t}}(i,this),null}return n.setValue_1(e)},Wa.prototype._get_size__29=function(){return this._map_0._get_size__29()},Wa.prototype.checkIsMutable_12=function(){if(this._isReadOnly_0)throw fc()},Wa.$metadata$={simpleName:"LinkedHashMap",kind:"class",interfaces:[gu]},Za.prototype.checkIsMutable_12=function(){return this._get_map__0().checkIsMutable_12()},Za.$metadata$={simpleName:"LinkedHashSet",kind:"class",interfaces:[pu]},Xa.$metadata$={simpleName:"RandomAccess",kind:"interface",interfaces:[]},Ka.$metadata$={simpleName:"Serializable",kind:"interface",interfaces:[]},ns.$metadata$={simpleName:"KCallable",kind:"interface",interfaces:[]},is.$metadata$={simpleName:"KClass",kind:"interface",interfaces:[or]},rs.prototype._get_jClass__2=function(){return this._jClass},rs.prototype.equals=function(t){return t instanceof rs&&Du(this._get_jClass__2(),t._get_jClass__2())},rs.prototype.hashCode=function(){var t=this._get_simpleName__4(),e=null==t?null:Bu(t);return null==e?0:e},rs.prototype.toString=function(){return"class "+this._get_simpleName__4()},rs.$metadata$={simpleName:"KClassImpl",kind:"class",interfaces:[is]},os.prototype.equals=function(t){return t instanceof os&&!!rs.prototype.equals.call(this,t)&&this._givenSimpleName===t._givenSimpleName},os.prototype._get_simpleName__4=function(){return this._givenSimpleName},os.prototype.isInstance_4=function(t){return this._isInstanceFunction(t)},os.$metadata$={simpleName:"PrimitiveKClassImpl",kind:"class",interfaces:[]},as.prototype._get_simpleName__4=function(){return this._simpleName},as.prototype.isInstance_4=function(t){return!1},as.prototype._get_jClass__2=function(){throw dc("There's no native JS class for Nothing type")},as.prototype.equals=function(t){return t===this},as.prototype.hashCode=function(){return 0},as.$metadata$={simpleName:"NothingKClassImpl",kind:"object",interfaces:[]},us.prototype._get_simpleName__4=function(){throw lc(Fu("Unknown simpleName for ErrorKClass"))},us.prototype.isInstance_4=function(t){throw lc(Fu("Can's check isInstance on ErrorKClass"))},us.prototype.equals=function(t){return t===this},us.prototype.hashCode=function(){return 0},us.$metadata$={simpleName:"ErrorKClass",kind:"class",interfaces:[is]},ls.prototype._get_simpleName__4=function(){return this._simpleName_0},ls.prototype.isInstance_4=function(t){return function(t,e){if(e===Object)return Pl(t);if(null==t||null==e||"object"!=o(t)&&"function"!=typeof t)return!1;if("function"==typeof e&&Tc(t,e))return!0;var n=function(t){return Object.getPrototypeOf(t)}(e),i=null==n?null:n.constructor;if(null!=i&&Ac("$metadata$",i)&&"object"===i.$metadata$.kind)return t===e;var r=e.$metadata$;return null==r?Tc(t,e):"interface"===r.kind&&null!=t.constructor&&Il(t.constructor,e)}(t,this._get_jClass__2())},ls.$metadata$={simpleName:"SimpleKClassImpl",kind:"class",interfaces:[]},cs.$metadata$={simpleName:"KProperty1",kind:"interface",interfaces:[hs]},hs.$metadata$={simpleName:"KProperty",kind:"interface",interfaces:[ns]},ps.$metadata$={simpleName:"KType",kind:"interface",interfaces:[]},gs.prototype.invoke_16=function(t){return null==(e=t)._variance?"*":function(t){var e,n=t;return n.equals(hr())?e="":n.equals(pr())?e="in ":n.equals(fr())?e="out ":Gu(),e}(e._variance)+wu(e._type);var e},gs.prototype.invoke_103=function(t){return this.invoke_16(t instanceof ur?t:Hu())},gs.$metadata$={kind:"class",interfaces:[]},ms.prototype._get_classifier__0=function(){return this._classifier},ms.prototype._get_arguments__0=function(){return this._arguments},ms.prototype._get_isMarkedNullable__0=function(){return this._isMarkedNullable},ms.prototype.equals=function(t){return!!(t instanceof ms&&Du(this._classifier,t._classifier)&&Du(this._arguments,t._arguments))&&this._isMarkedNullable===t._isMarkedNullable},ms.prototype.hashCode=function(){return ml(ml(zu(this._classifier),31)+zu(this._arguments)|0,31)+(0|this._isMarkedNullable)|0},ms.prototype.toString=function(){var t,e=this._classifier,n=Cl(e,is)?e:null,i=null==n?Fu(this._classifier):null!=n._get_simpleName__4()?n._get_simpleName__4():"(non-denotable type)",r=this._arguments.isEmpty_29()?"":c(this._arguments,", ","<",">",0,null,(t=new gs(this),function(e){return t.invoke_16(e)}),24),o=this._isMarkedNullable?"?":"";return function(t,e){var n=null==t?null:Fu(t),i=null==n?"null":n,r=null==e?null:Fu(e);return i+(null==r?"null":r)}(i,r)+o},ms.$metadata$={simpleName:"KTypeImpl",kind:"class",interfaces:[ps]},_s.prototype.invoke_58=function(t){return Pl(t)},_s.prototype.invoke_103=function(t){return this.invoke_58(null==t||Pl(t)?t:Hu())},_s.$metadata$={kind:"class",interfaces:[]},ys.prototype.invoke_58=function(t){return Tl(t)},ys.prototype.invoke_103=function(t){return this.invoke_58(null==t||Pl(t)?t:Hu())},ys.$metadata$={kind:"class",interfaces:[]},vs.prototype.invoke_58=function(t){return null!=t&&"boolean"==typeof t},vs.prototype.invoke_103=function(t){return this.invoke_58(null==t||Pl(t)?t:Hu())},vs.$metadata$={kind:"class",interfaces:[]},bs.prototype.invoke_58=function(t){return null!=t&&"number"==typeof t},bs.prototype.invoke_103=function(t){return this.invoke_58(null==t||Pl(t)?t:Hu())},bs.$metadata$={kind:"class",interfaces:[]},ws.prototype.invoke_58=function(t){return null!=t&&"number"==typeof t},ws.prototype.invoke_103=function(t){return this.invoke_58(null==t||Pl(t)?t:Hu())},ws.$metadata$={kind:"class",interfaces:[]},xs.prototype.invoke_58=function(t){return null!=t&&"number"==typeof t},xs.prototype.invoke_103=function(t){return this.invoke_58(null==t||Pl(t)?t:Hu())},xs.$metadata$={kind:"class",interfaces:[]},ks.prototype.invoke_58=function(t){return null!=t&&"number"==typeof t},ks.prototype.invoke_103=function(t){return this.invoke_58(null==t||Pl(t)?t:Hu())},ks.$metadata$={kind:"class",interfaces:[]},Es.prototype.invoke_58=function(t){return null!=t&&"number"==typeof t},Es.prototype.invoke_103=function(t){return this.invoke_58(null==t||Pl(t)?t:Hu())},Es.$metadata$={kind:"class",interfaces:[]},Ss.prototype.invoke_58=function(t){return null!=t&&Al(t)},Ss.prototype.invoke_103=function(t){return this.invoke_58(null==t||Pl(t)?t:Hu())},Ss.$metadata$={kind:"class",interfaces:[]},Cs.prototype.invoke_58=function(t){return null!=t&&"string"==typeof t},Cs.prototype.invoke_103=function(t){return this.invoke_58(null==t||Pl(t)?t:Hu())},Cs.$metadata$={kind:"class",interfaces:[]},Is.prototype.invoke_58=function(t){return t instanceof Error},Is.prototype.invoke_103=function(t){return this.invoke_58(null==t||Pl(t)?t:Hu())},Is.$metadata$={kind:"class",interfaces:[]},As.prototype.invoke_58=function(t){return null!=t&&Ll(t)},As.prototype.invoke_103=function(t){return this.invoke_58(null==t||Pl(t)?t:Hu())},As.$metadata$={kind:"class",interfaces:[]},Ps.prototype.invoke_58=function(t){return null!=t&&Rl(t)},Ps.prototype.invoke_103=function(t){return this.invoke_58(null==t||Pl(t)?t:Hu())},Ps.$metadata$={kind:"class",interfaces:[]},Ts.prototype.invoke_58=function(t){return null!=t&&Ml(t)},Ts.prototype.invoke_103=function(t){return this.invoke_58(null==t||Pl(t)?t:Hu())},Ts.$metadata$={kind:"class",interfaces:[]},Os.prototype.invoke_58=function(t){return null!=t&&Nl(t)},Os.prototype.invoke_103=function(t){return this.invoke_58(null==t||Pl(t)?t:Hu())},Os.$metadata$={kind:"class",interfaces:[]},Ls.prototype.invoke_58=function(t){return null!=t&&Dl(t)},Ls.prototype.invoke_103=function(t){return this.invoke_58(null==t||Pl(t)?t:Hu())},Ls.$metadata$={kind:"class",interfaces:[]},Ms.prototype.invoke_58=function(t){return null!=t&&Fl(t)},Ms.prototype.invoke_103=function(t){return this.invoke_58(null==t||Pl(t)?t:Hu())},Ms.$metadata$={kind:"class",interfaces:[]},Ns.prototype.invoke_58=function(t){return null!=t&&zl(t)},Ns.prototype.invoke_103=function(t){return this.invoke_58(null==t||Pl(t)?t:Hu())},Ns.$metadata$={kind:"class",interfaces:[]},Rs.prototype.invoke_58=function(t){return null!=t&&Bl(t)},Rs.prototype.invoke_103=function(t){return this.invoke_58(null==t||Pl(t)?t:Hu())},Rs.$metadata$={kind:"class",interfaces:[]},Ds.prototype.invoke_58=function(t){return"function"==typeof t&&t.length===this._$arity},Ds.prototype.invoke_103=function(t){return this.invoke_58(null==t||Pl(t)?t:Hu())},Ds.$metadata$={kind:"class",interfaces:[]},zs.prototype._get_anyClass_=function(){return this._anyClass},zs.prototype._get_numberClass_=function(){return this._numberClass},zs.prototype._get_nothingClass_=function(){return this._nothingClass},zs.prototype._get_booleanClass_=function(){return this._booleanClass},zs.prototype._get_byteClass_=function(){return this._byteClass},zs.prototype._get_shortClass_=function(){return this._shortClass},zs.prototype._get_intClass_=function(){return this._intClass},zs.prototype._get_floatClass_=function(){return this._floatClass},zs.prototype._get_doubleClass_=function(){return this._doubleClass},zs.prototype._get_arrayClass_=function(){return this._arrayClass},zs.prototype._get_stringClass_=function(){return this._stringClass},zs.prototype._get_throwableClass_=function(){return this._throwableClass},zs.prototype._get_booleanArrayClass_=function(){return this._booleanArrayClass},zs.prototype._get_charArrayClass_=function(){return this._charArrayClass},zs.prototype._get_byteArrayClass_=function(){return this._byteArrayClass},zs.prototype._get_shortArrayClass_=function(){return this._shortArrayClass},zs.prototype._get_intArrayClass_=function(){return this._intArrayClass},zs.prototype._get_longArrayClass_=function(){return this._longArrayClass},zs.prototype._get_floatArrayClass_=function(){return this._floatArrayClass},zs.prototype._get_doubleArrayClass_=function(){return this._doubleArrayClass},zs.prototype.functionClass=function(t){var e,n,i=rt[t];if(null==i){var r=new os(Function,"Function"+t,(n=new Ds(t),function(t){return n.invoke_58(t)}));rt[t]=r,e=r}else e=i;return e},zs.$metadata$={simpleName:"PrimitiveClasses",kind:"object",interfaces:[]},Object.defineProperty(zs.prototype,"anyClass",{configurable:!0,get:zs.prototype._get_anyClass_}),Object.defineProperty(zs.prototype,"numberClass",{configurable:!0,get:zs.prototype._get_numberClass_}),Object.defineProperty(zs.prototype,"nothingClass",{configurable:!0,get:zs.prototype._get_nothingClass_}),Object.defineProperty(zs.prototype,"booleanClass",{configurable:!0,get:zs.prototype._get_booleanClass_}),Object.defineProperty(zs.prototype,"byteClass",{configurable:!0,get:zs.prototype._get_byteClass_}),Object.defineProperty(zs.prototype,"shortClass",{configurable:!0,get:zs.prototype._get_shortClass_}),Object.defineProperty(zs.prototype,"intClass",{configurable:!0,get:zs.prototype._get_intClass_}),Object.defineProperty(zs.prototype,"floatClass",{configurable:!0,get:zs.prototype._get_floatClass_}),Object.defineProperty(zs.prototype,"doubleClass",{configurable:!0,get:zs.prototype._get_doubleClass_}),Object.defineProperty(zs.prototype,"arrayClass",{configurable:!0,get:zs.prototype._get_arrayClass_}),Object.defineProperty(zs.prototype,"stringClass",{configurable:!0,get:zs.prototype._get_stringClass_}),Object.defineProperty(zs.prototype,"throwableClass",{configurable:!0,get:zs.prototype._get_throwableClass_}),Object.defineProperty(zs.prototype,"booleanArrayClass",{configurable:!0,get:zs.prototype._get_booleanArrayClass_}),Object.defineProperty(zs.prototype,"charArrayClass",{configurable:!0,get:zs.prototype._get_charArrayClass_}),Object.defineProperty(zs.prototype,"byteArrayClass",{configurable:!0,get:zs.prototype._get_byteArrayClass_}),Object.defineProperty(zs.prototype,"shortArrayClass",{configurable:!0,get:zs.prototype._get_shortArrayClass_}),Object.defineProperty(zs.prototype,"intArrayClass",{configurable:!0,get:zs.prototype._get_intArrayClass_}),Object.defineProperty(zs.prototype,"longArrayClass",{configurable:!0,get:zs.prototype._get_longArrayClass_}),Object.defineProperty(zs.prototype,"floatArrayClass",{configurable:!0,get:zs.prototype._get_floatArrayClass_}),Object.defineProperty(zs.prototype,"doubleArrayClass",{configurable:!0,get:zs.prototype._get_doubleArrayClass_}),Us.$metadata$={simpleName:"Appendable",kind:"interface",interfaces:[]},Ws.prototype._get_length__0=function(){return this._string.length},Ws.prototype.get_29=function(t){var e=this._string;if(!(t>=0&&t<=Er(e)))throw hc("index: "+t+", length: "+this._get_length__0()+"}");return Au(e,t)},Ws.prototype.subSequence_1=function(t,e){return this._string.substring(t,e)},Ws.prototype.append_1=function(t){return this._string=this._string+t,this},Ws.prototype.append_2=function(t){return this._string=this._string+wu(t),this},Ws.prototype.append_3=function(t,e,n){return this.appendRange(null==t?"null":t,e,n)},Ws.prototype.append_4=function(t){return this._string=this._string+wu(t),this},Ws.prototype.append_5=function(t){return this._string=this._string+(null==t?"null":t),this},Ws.prototype.setLength=function(t){if(t<0)throw ec("Negative new length: "+t+".");if(t<=this._get_length__0())this._string=this._string.substring(0,t);else{var e=this._get_length__0();if(e<t)do{e=e+1|0,this._string=this._string+new au(0)}while(e<t)}},Ws.prototype.toString=function(){return this._string},Ws.prototype.appendRange=function(t,e,n){var i=Fu(t);return yi().checkBoundsIndexes(e,n,i.length),this._string=this._string+i.substring(e,n),this},Ws.$metadata$={simpleName:"StringBuilder",kind:"class",interfaces:[Us,mo]},ru.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},au.prototype.compareTo_9=function(t){return this._value_0-t._value_0|0},au.prototype.compareTo_14=function(t){return this.compareTo_9(t instanceof au?t:Hu())},au.prototype.minus=function(t){return this._value_0-t._value_0|0},au.prototype.toInt_5=function(){return this._value_0},au.prototype.equals=function(t){return t===this||t instanceof au&&this._value_0===t._value_0},au.prototype.hashCode=function(){return this._value_0},au.prototype.toString=function(){return String.fromCharCode(this._value_0)},au.$metadata$={simpleName:"Char",kind:"class",interfaces:[_o]},su.$metadata$={simpleName:"Iterable",kind:"interface",interfaces:[]},uu.$metadata$={simpleName:"Entry",kind:"interface",interfaces:[]},lu.$metadata$={simpleName:"Map",kind:"interface",interfaces:[]},cu.$metadata$={simpleName:"List",kind:"interface",interfaces:[mu]},hu.$metadata$={simpleName:"MutableList",kind:"interface",interfaces:[cu,_u]},pu.$metadata$={simpleName:"MutableSet",kind:"interface",interfaces:[fu,_u]},fu.$metadata$={simpleName:"Set",kind:"interface",interfaces:[mu]},du.$metadata$={simpleName:"MutableEntry",kind:"interface",interfaces:[uu]},gu.$metadata$={simpleName:"MutableMap",kind:"interface",interfaces:[lu]},mu.$metadata$={simpleName:"Collection",kind:"interface",interfaces:[su]},_u.$metadata$={simpleName:"MutableCollection",kind:"interface",interfaces:[mu,yu]},yu.$metadata$={simpleName:"MutableIterable",kind:"interface",interfaces:[su]},vu.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},bu.prototype._get_ordinal__0=function(){return this._ordinal},bu.prototype.compareTo_11=function(t){return Lu(this._ordinal,t._ordinal)},bu.prototype.compareTo_14=function(t){return this.compareTo_11(t instanceof bu?t:Hu())},bu.prototype.equals=function(t){return this===t},bu.prototype.hashCode=function(){return Ru(this)},bu.prototype.toString=function(){return this._name},bu.$metadata$={simpleName:"Enum",kind:"class",interfaces:[_o]},Cu.prototype.hasNext_14=function(){return!(this._index_2===this._$array.length)},Cu.prototype.next_14=function(){if(this._index_2===this._$array.length)throw sc(""+this._index_2);var t=this._index_2;return this._index_2=t+1|0,this._$array[t]},Cu.$metadata$={kind:"class",interfaces:[yo]},Ou.prototype.invoke_58=function(t){return Fu(t)},Ou.prototype.invoke_103=function(t){return this.invoke_58(null==t||Pl(t)?t:Hu())},Ou.$metadata$={kind:"class",interfaces:[]},Ku.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},Ju.prototype.compareTo_48=function(t){return Qu(this,t)},Ju.prototype.compareTo_14=function(t){return this.compareTo_48(t instanceof Ju?t:Hu())},Ju.prototype.plus_27=function(t){return tl(this,t)},Ju.prototype.minus_28=function(t){return el(this,t)},Ju.prototype.times_27=function(t){return nl(this,t)},Ju.prototype.div_27=function(t){return function(t,e){if(ll(e))throw $l("division by zero");if(ll(t))return dt;if(ol(t,yt)){if(ol(e,gt)||ol(e,mt))return yt;if(ol(e,yt))return gt;var n=il(function(t,e){return new Ju(t._low>>>1|t._high<<31,t._high>>1)}(t).div_27(e),1);return ol(n,dt)?ul(e)?gt:mt:tl(n,el(t,nl(e,n)).div_27(e))}if(ol(e,yt))return dt;if(ul(t))return ul(e)?hl(t).div_27(hl(e)):hl(hl(t).div_27(e));if(ul(e))return hl(t.div_27(hl(e)));for(var i=dt,r=t;gl(r,e);){for(var o=rl(r)/rl(e),a=(function(){var t=Math;return t.max.apply(t,[].concat([].slice.call(new Float64Array([1,Math.floor(o)]))))}).call(this),s=Math.ceil(Math.log(a)/Math.LN2),u=s<=48?1:Math.pow(2,s-48),l=fl(a),c=nl(l,e);ul(c)||dl(c,r);)c=nl(l=fl(a-=u),e);ll(l)&&(l=gt),i=tl(i,l),r=el(r,c)}return i}(this,t)},Ju.prototype.unaryMinus_4=function(){return this.inv_0().plus_27(new Ju(1,0))},Ju.prototype.shl_0=function(t){return il(this,t)},Ju.prototype.ushr_0=function(t){return e=this,0==(n=63&t)?e:n<32?new Ju(e._low>>>n|e._high<<(32-n|0),e._high>>>n):new Ju(32===n?e._high:e._high>>>(n-32|0),0);var e,n},Ju.prototype.and=function(t){return new Ju(this._low&t._low,this._high&t._high)},Ju.prototype.xor=function(t){return new Ju(this._low^t._low,this._high^t._high)},Ju.prototype.inv_0=function(){return new Ju(~this._low,~this._high)},Ju.prototype.toByte_4=function(){return _l(this._low)},Ju.prototype.toShort_4=function(){return vl(this._low)},Ju.prototype.toInt_5=function(){return this._low},Ju.prototype.toDouble_4=function(){return rl(this)},Ju.prototype.valueOf=function(){return this.toDouble_4()},Ju.prototype.equals=function(t){return t instanceof Ju&&ol(this,t)},Ju.prototype.hashCode=function(){return this._low^this._high},Ju.prototype.toString=function(){return al(this,10)},Ju.$metadata$={simpleName:"Long",kind:"class",interfaces:[_o]},Jl.$metadata$={simpleName:"Exception",kind:"class",interfaces:[]},nc.$metadata$={simpleName:"IllegalArgumentException",kind:"class",interfaces:[]},oc.$metadata$={simpleName:"RuntimeException",kind:"class",interfaces:[]},uc.$metadata$={simpleName:"NoSuchElementException",kind:"class",interfaces:[]},cc.$metadata$={simpleName:"IllegalStateException",kind:"class",interfaces:[]},pc.$metadata$={simpleName:"IndexOutOfBoundsException",kind:"class",interfaces:[]},gc.$metadata$={simpleName:"UnsupportedOperationException",kind:"class",interfaces:[]},_c.$metadata$={simpleName:"ArithmeticException",kind:"class",interfaces:[]},vc.$metadata$={simpleName:"NumberFormatException",kind:"class",interfaces:[]},wc.$metadata$={simpleName:"NullPointerException",kind:"class",interfaces:[]},kc.$metadata$={simpleName:"NoWhenBranchMatchedException",kind:"class",interfaces:[]},Sc.$metadata$={simpleName:"ClassCastException",kind:"class",interfaces:[]},Ic.$metadata$={simpleName:"UninitializedPropertyAccessException",kind:"class",interfaces:[]},Mc.$metadata$={simpleName:"KSerializer",kind:"interface",interfaces:[Rc,Nc]},Nc.$metadata$={simpleName:"DeserializationStrategy",kind:"interface",interfaces:[]},Rc.$metadata$={simpleName:"SerializationStrategy",kind:"interface",interfaces:[]},Dc.prototype.invoke_94=function(t){var e=eh(Yo())._get_descriptor__66();t.element$default("type",e,null,!1,12,null);var n=_h("kotlinx.serialization.Polymorphic<"+this._this$0_7._baseClass._get_simpleName__4()+">",Ph(),[],null,12);t.element$default("value",n,null,!1,12,null)},Dc.prototype.invoke_103=function(t){return this.invoke_94(t instanceof yh?t:Hu()),Mo()},Dc.$metadata$={kind:"class",interfaces:[]},zc.prototype._get_baseClass__0=function(){return this._baseClass},zc.prototype._get_descriptor__66=function(){return this._descriptor},zc.prototype.toString=function(){return"kotlinx.serialization.PolymorphicSerializer(baseClass: "+this._baseClass+")"},zc.$metadata$={simpleName:"PolymorphicSerializer",kind:"class",interfaces:[]},jc.$metadata$={simpleName:"SealedClassSerializer",kind:"class",interfaces:[]},Vc.$metadata$={simpleName:"StringFormat",kind:"interface",interfaces:[Uc]},Uc.$metadata$={simpleName:"SerialFormat",kind:"interface",interfaces:[]},Gc.$metadata$={simpleName:"UnknownFieldException",kind:"class",interfaces:[]},Wc.$metadata$={simpleName:"MissingFieldException",kind:"class",interfaces:[]},Xc.$metadata$={simpleName:"SerializationException",kind:"class",interfaces:[]},fh.prototype.getElementAnnotations_17=function(t){return this._original.getElementAnnotations_17(t)},fh.prototype.getElementDescriptor_17=function(t){return this._original.getElementDescriptor_17(t)},fh.prototype.getElementIndex_17=function(t){return this._original.getElementIndex_17(t)},fh.prototype.getElementName_17=function(t){return this._original.getElementName_17(t)},fh.prototype._get_elementsCount__17=function(){return this._original._get_elementsCount__17()},fh.prototype._get_isInline__17=function(){return this._original._get_isInline__17()},fh.prototype._get_isNullable__17=function(){return this._original._get_isNullable__17()},fh.prototype._get_kind__17=function(){return this._original._get_kind__17()},fh.prototype._get_serialName__17=function(){return this._serialName},fh.prototype.equals=function(t){var e=t instanceof fh?t:null;if(null==e)return!1;var n=e;return!!Du(this._original,n._original)&&n._kClass.equals(this._kClass)},fh.prototype.hashCode=function(){return ml(31,this._kClass.hashCode())+Bu(this._serialName)|0},fh.prototype.toString=function(){return"ContextDescriptor(kClass: "+this._kClass+", original: "+this._original+")"},fh.$metadata$={simpleName:"ContextDescriptor",kind:"class",interfaces:[dh]},dh.prototype._get_isNullable__17=function(){return!1},dh.prototype._get_isInline__17=function(){return!1},dh.$metadata$={simpleName:"SerialDescriptor",kind:"interface",interfaces:[]},gh.prototype.hasNext_14=function(){return this._elementsLeft>0},gh.prototype.next_14=function(){var t=this._$this_elementDescriptors._get_elementsCount__17(),e=this._elementsLeft;return this._elementsLeft=e-1|0,this._$this_elementDescriptors.getElementDescriptor_17(t-e|0)},gh.$metadata$={kind:"class",interfaces:[yo]},mh.prototype.iterator_2_0=function(){return new gh(this._$this_elementDescriptors_0)},mh.prototype.iterator_39=function(){return this.iterator_2_0()},mh.$metadata$={simpleName:"<no name provided>_1",kind:"class",interfaces:[su]},yh.prototype.element=function(t,e,n,i){if(!this._uniqueNames.add_18(t))throw ec(Fu("Element with name '"+t+"' is already registered"));this._elementNames.add_18(t),Mo(),this._elementDescriptors.add_18(e),Mo(),this._elementAnnotations.add_18(n),Mo(),this._elementOptionality.add_18(i),Mo()},yh.prototype.element$default=function(t,e,n,i,r,o){return 0!=(4&r)&&(n=Ti()),0!=(8&r)&&(i=!1),this.element(t,e,n,i)},yh.$metadata$={simpleName:"ClassSerialDescriptorBuilder",kind:"class",interfaces:[]},bh.prototype.invoke_97=function(){return Xp(this._this$0_8,this._this$0_8._typeParametersDescriptors)},bh.$metadata$={kind:"class",interfaces:[]},wh.prototype.invoke_102=function(t){return this._this$0_9.getElementName_17(t)+": "+this._this$0_9.getElementDescriptor_17(t)._get_serialName__17()},wh.prototype.invoke_103=function(t){return this.invoke_102(null!=t&&"number"==typeof t?t:Hu())},wh.$metadata$={kind:"class",interfaces:[]},xh.prototype._get_serialName__17=function(){return this._serialName_1},xh.prototype._get_kind__17=function(){return this._kind},xh.prototype._get_elementsCount__17=function(){return this._elementsCount},xh.prototype._get_serialNames__3=function(){return this._serialNames},xh.prototype.getElementName_17=function(t){return od(this._elementNames_0,t)},xh.prototype.getElementIndex_17=function(t){var e,n=this._name2Index.get_17(t);return null==n?(op(),e=-3):e=n,e},xh.prototype.getElementAnnotations_17=function(t){return od(this._elementAnnotations_0,t)},xh.prototype.getElementDescriptor_17=function(t){return od(this._elementDescriptors_0,t)},xh.prototype.equals=function(t){var e;t:do{if(this===t){e=!0;break t}if(!(t instanceof xh)){e=!1;break t}if(this._get_serialName__17()!==t._get_serialName__17()){e=!1;break t}if(!Zl(this._typeParametersDescriptors,t._typeParametersDescriptors)){e=!1;break t}if(this._get_elementsCount__17()!==t._get_elementsCount__17()){e=!1;break t}var n=0,i=this._get_elementsCount__17();if(n<i)do{var r=n;if(n=n+1|0,this.getElementDescriptor_17(r)._get_serialName__17()!==t.getElementDescriptor_17(r)._get_serialName__17()){e=!1;break t}if(!Du(this.getElementDescriptor_17(r)._get_kind__17(),t.getElementDescriptor_17(r)._get_kind__17())){e=!1;break t}}while(n<i);e=!0}while(0);return e},xh.prototype.hashCode=function(){return vh(this)},xh.prototype.toString=function(){var t;return c(b(0,this._elementsCount),", ",this._serialName_1+"(",")",0,null,(t=new wh(this),function(e){return t.invoke_102(e)}),24)},xh.$metadata$={simpleName:"SerialDescriptorImpl",kind:"class",interfaces:[dh,pp]},Eh.prototype.invoke_94=function(t){return Mo()},Eh.prototype.invoke_103=function(t){return this.invoke_94(t instanceof yh?t:Hu()),Mo()},Eh.$metadata$={kind:"class",interfaces:[]},Sh.prototype.invoke_94=function(t){return Mo()},Sh.prototype.invoke_103=function(t){return this.invoke_94(t instanceof yh?t:Hu()),Mo()},Sh.$metadata$={kind:"class",interfaces:[]},Ch.$metadata$={simpleName:"ENUM",kind:"object",interfaces:[]},Ah.$metadata$={simpleName:"CONTEXTUAL",kind:"object",interfaces:[]},Th.prototype.toString=function(){return qu(Vs(this)._get_simpleName__4())},Th.prototype.hashCode=function(){return Bu(this.toString())},Th.$metadata$={simpleName:"SerialKind",kind:"class",interfaces:[]},Oh.$metadata$={simpleName:"BOOLEAN",kind:"object",interfaces:[]},Lh.$metadata$={simpleName:"BYTE",kind:"object",interfaces:[]},Mh.$metadata$={simpleName:"CHAR",kind:"object",interfaces:[]},Nh.$metadata$={simpleName:"SHORT",kind:"object",interfaces:[]},Rh.$metadata$={simpleName:"INT",kind:"object",interfaces:[]},Dh.$metadata$={simpleName:"LONG",kind:"object",interfaces:[]},zh.$metadata$={simpleName:"FLOAT",kind:"object",interfaces:[]},Fh.$metadata$={simpleName:"DOUBLE",kind:"object",interfaces:[]},Bh.$metadata$={simpleName:"STRING",kind:"object",interfaces:[]},Vh.$metadata$={simpleName:"PrimitiveKind",kind:"class",interfaces:[]},Uh.$metadata$={simpleName:"CLASS",kind:"object",interfaces:[]},Gh.$metadata$={simpleName:"LIST",kind:"object",interfaces:[]},Wh.$metadata$={simpleName:"MAP",kind:"object",interfaces:[]},Zh.$metadata$={simpleName:"OBJECT",kind:"object",interfaces:[]},Kh.$metadata$={simpleName:"StructureKind",kind:"class",interfaces:[]},$h.$metadata$={simpleName:"SEALED",kind:"object",interfaces:[]},Qh.$metadata$={simpleName:"OPEN",kind:"object",interfaces:[]},tp.$metadata$={simpleName:"PolymorphicKind",kind:"class",interfaces:[]},ep.prototype.decodeValue_1=function(){throw Zc(Vs(this)+" can't retrieve untyped values")},ep.prototype.decodeNotNullMark_9=function(){return!0},ep.prototype.decodeNull_9=function(){return null},ep.prototype.decodeBoolean_9=function(){var t=this.decodeValue_1();return"boolean"==typeof t?t:Hu()},ep.prototype.decodeByte_9=function(){var t=this.decodeValue_1();return"number"==typeof t?t:Hu()},ep.prototype.decodeShort_9=function(){var t=this.decodeValue_1();return"number"==typeof t?t:Hu()},ep.prototype.decodeInt_9=function(){var t=this.decodeValue_1();return"number"==typeof t?t:Hu()},ep.prototype.decodeLong_9=function(){var t=this.decodeValue_1();return t instanceof Ju?t:Hu()},ep.prototype.decodeFloat_9=function(){var t=this.decodeValue_1();return"number"==typeof t?t:Hu()},ep.prototype.decodeDouble_9=function(){var t=this.decodeValue_1();return"number"==typeof t?t:Hu()},ep.prototype.decodeChar_9=function(){var t=this.decodeValue_1();return t instanceof au?t:Hu()},ep.prototype.decodeString_9=function(){var t=this.decodeValue_1();return"string"==typeof t?t:Hu()},ep.prototype.decodeEnum_9=function(t){var e=this.decodeValue_1();return"number"==typeof e?e:Hu()},ep.prototype.decodeInline_9=function(t){return this},ep.prototype.decodeSerializableValue_19=function(t,e){return this.decodeSerializableValue_18(t)},ep.prototype.beginStructure_14=function(t){return this},ep.prototype.endStructure_14=function(t){},ep.prototype.decodeBooleanElement_9=function(t,e){return this.decodeBoolean_9()},ep.prototype.decodeByteElement_9=function(t,e){return this.decodeByte_9()},ep.prototype.decodeShortElement_9=function(t,e){return this.decodeShort_9()},ep.prototype.decodeIntElement_9=function(t,e){return this.decodeInt_9()},ep.prototype.decodeLongElement_9=function(t,e){return this.decodeLong_9()},ep.prototype.decodeFloatElement_9=function(t,e){return this.decodeFloat_9()},ep.prototype.decodeDoubleElement_9=function(t,e){return this.decodeDouble_9()},ep.prototype.decodeCharElement_9=function(t,e){return this.decodeChar_9()},ep.prototype.decodeStringElement_9=function(t,e){return this.decodeString_9()},ep.prototype.decodeSerializableElement_9=function(t,e,n,i){return this.decodeSerializableValue_19(n,i)},ep.prototype.decodeNullableSerializableElement_9=function(t,e,n,i){return n._get_descriptor__66()._get_isNullable__17()||this.decodeNotNullMark_9()?this.decodeSerializableValue_19(n,i):this.decodeNull_9()},ep.$metadata$={simpleName:"AbstractDecoder",kind:"class",interfaces:[ip,ap]},np.prototype.beginStructure_14=function(t){return this},np.prototype.endStructure_14=function(t){},np.prototype.encodeElement_2=function(t,e){return!0},np.prototype.encodeValue_2=function(t){throw Zc("Non-serializable "+Vs(t)+" is not supported by "+Vs(this)+" encoder")},np.prototype.encodeNull_3=function(){throw Zc("'null' is not supported by default")},np.prototype.encodeBoolean_3=function(t){return this.encodeValue_2(t)},np.prototype.encodeByte_3=function(t){return this.encodeValue_2(t)},np.prototype.encodeShort_3=function(t){return this.encodeValue_2(t)},np.prototype.encodeInt_3=function(t){return this.encodeValue_2(t)},np.prototype.encodeLong_3=function(t){return this.encodeValue_2(t)},np.prototype.encodeFloat_3=function(t){return this.encodeValue_2(t)},np.prototype.encodeDouble_3=function(t){return this.encodeValue_2(t)},np.prototype.encodeChar_3=function(t){return this.encodeValue_2(t)},np.prototype.encodeString_3=function(t){return this.encodeValue_2(t)},np.prototype.encodeEnum_3=function(t,e){return this.encodeValue_2(e)},np.prototype.encodeInline_3=function(t){return this},np.prototype.encodeBooleanElement_3=function(t,e,n){this.encodeElement_2(t,e)&&this.encodeBoolean_3(n)},np.prototype.encodeByteElement_3=function(t,e,n){this.encodeElement_2(t,e)&&this.encodeByte_3(n)},np.prototype.encodeShortElement_3=function(t,e,n){this.encodeElement_2(t,e)&&this.encodeShort_3(n)},np.prototype.encodeIntElement_3=function(t,e,n){this.encodeElement_2(t,e)&&this.encodeInt_3(n)},np.prototype.encodeLongElement_3=function(t,e,n){this.encodeElement_2(t,e)&&this.encodeLong_3(n)},np.prototype.encodeFloatElement_3=function(t,e,n){this.encodeElement_2(t,e)&&this.encodeFloat_3(n)},np.prototype.encodeDoubleElement_3=function(t,e,n){this.encodeElement_2(t,e)&&this.encodeDouble_3(n)},np.prototype.encodeCharElement_3=function(t,e,n){this.encodeElement_2(t,e)&&this.encodeChar_3(n)},np.prototype.encodeStringElement_3=function(t,e,n){this.encodeElement_2(t,e)&&this.encodeString_3(n)},np.prototype.encodeSerializableElement_3=function(t,e,n,i){this.encodeElement_2(t,e)&&this.encodeSerializableValue_3(n,i)},np.prototype.encodeNullableSerializableElement_3=function(t,e,n,i){this.encodeElement_2(t,e)&&this.encodeNullableSerializableValue_3(n,i)},np.$metadata$={simpleName:"AbstractEncoder",kind:"class",interfaces:[sp,up]},ip.prototype.decodeSerializableValue_18=function(t){return t.deserialize_70(this)},ip.$metadata$={simpleName:"Decoder",kind:"interface",interfaces:[]},rp.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},ap.prototype.decodeSequentially_9=function(){return!1},ap.prototype.decodeCollectionSize_9=function(t){return-1},ap.prototype.decodeSerializableElement$default_9=function(t,e,n,i,r,o){return 0!=(8&r)&&(i=null),null==o?this.decodeSerializableElement_9(t,e,n,i):o(t,e,n,i)},ap.$metadata$={simpleName:"CompositeDecoder",kind:"interface",interfaces:[]},sp.prototype.encodeNotNullMark_3=function(){},sp.prototype.beginCollection_3=function(t,e){return this.beginStructure_14(t)},sp.prototype.encodeSerializableValue_3=function(t,e){t.serialize_107(this,e)},sp.prototype.encodeNullableSerializableValue_3=function(t,e){if(t._get_descriptor__66()._get_isNullable__17())return this.encodeSerializableValue_3(Cl(t,Rc)?t:Hu(),e);null==e?this.encodeNull_3():(this.encodeNotNullMark_3(),this.encodeSerializableValue_3(t,e))},sp.$metadata$={simpleName:"Encoder",kind:"interface",interfaces:[]},up.prototype.shouldEncodeElementDefault_3=function(t,e){return!0},up.$metadata$={simpleName:"CompositeEncoder",kind:"interface",interfaces:[]},cp.prototype.serialize_107=function(t,e){var n=Fc(this,t,e),i=this._get_descriptor__66(),r=t.beginStructure_14(i),o=null;try{r.encodeStringElement_3(this._get_descriptor__66(),0,n._get_descriptor__66()._get_serialName__17());var a=this._get_descriptor__66();r.encodeSerializableElement_3(a,1,Cl(n,Rc)?n:Hu(),e)}catch(t){throw t instanceof Error?(o=t,t):t}finally{null==o&&r.endStructure_14(i)}},cp.prototype.deserialize_70=function(t){var e;t:do{var n=this._get_descriptor__66(),i=t.beginStructure_14(n),r=null;try{var o,a=null,s=null;if(i.decodeSequentially_9())return lp(this,i);e:for(;;){var u=i.decodeElementIndex_9(this._get_descriptor__66());if(op(),-1===u)break e;if(0===u)a=i.decodeStringElement_9(this._get_descriptor__66(),u);else{if(1!==u)throw Zc("Invalid index in polymorphic deserialization of "+(null==a?"unknown class":a)+"\n Expected 0, 1 or DECODE_DONE(-1), but found "+u);var l;n:do{var c=a;if(null==c)throw ec(Fu("Cannot read polymorphic value before its type token"));l=c;break n}while(0);var h=Bc(this,i,a=l),p=this._get_descriptor__66();s=i.decodeSerializableElement$default_9(p,u,h,null,8,null)}}e:do{var f=s;if(null==f)throw ec(Fu("Polymorphic value has not been read for class "+a));o=f;break e}while(0);var d=o;e=Pl(d)?d:Hu();break t}catch(t){throw t instanceof Error?(r=t,t):t}finally{null==r&&i.endStructure_14(n)}}while(0);return e},cp.prototype.findPolymorphicSerializerOrNull_1=function(t,e){return t._get_serializersModule__18().getPolymorphic_2(this._get_baseClass__0(),e)},cp.prototype.findPolymorphicSerializerOrNull_2=function(t,e){return t._get_serializersModule__18().getPolymorphic_1(this._get_baseClass__0(),e)},cp.$metadata$={simpleName:"AbstractPolymorphicSerializer",kind:"class",interfaces:[Mc]},pp.$metadata$={simpleName:"CachedNames",kind:"interface",interfaces:[]},fp.prototype._get_serialName__17=function(){return this._serialName_2},fp.$metadata$={simpleName:"PrimitiveArrayDescriptor",kind:"class",interfaces:[]},dp.prototype._get_kind__17=function(){return Hh()},dp.prototype._get_elementsCount__17=function(){return this._elementsCount_0},dp.prototype.getElementName_17=function(t){return t.toString()},dp.prototype.getElementIndex_17=function(t){var e=br(t);if(null==e)throw ec(t+" is not a valid list index");return e},dp.prototype.getElementAnnotations_17=function(t){if(!(t>=0))throw ec(Fu("Illegal index "+t+", "+this._get_serialName__17()+" expects only non-negative indices"));return Ti()},dp.prototype.getElementDescriptor_17=function(t){if(!(t>=0))throw ec(Fu("Illegal index "+t+", "+this._get_serialName__17()+" expects only non-negative indices"));return this._elementDescriptor},dp.prototype.equals=function(t){return this===t||t instanceof dp&&!(!Du(this._elementDescriptor,t._elementDescriptor)||this._get_serialName__17()!==t._get_serialName__17())},dp.prototype.hashCode=function(){return ml(zu(this._elementDescriptor),31)+Bu(this._get_serialName__17())|0},dp.prototype.toString=function(){return this._get_serialName__17()+"("+this._elementDescriptor+")"},dp.$metadata$={simpleName:"ListLikeDescriptor",kind:"class",interfaces:[dh]},gp.prototype._get_serialName__17=function(){return"kotlin.Array"},gp.$metadata$={simpleName:"ArrayClassDesc",kind:"class",interfaces:[]},mp.prototype._get_serialName__17=function(){return"kotlin.collections.ArrayList"},mp.$metadata$={simpleName:"ArrayListClassDesc",kind:"class",interfaces:[]},_p.$metadata$={simpleName:"LinkedHashMapClassDesc",kind:"class",interfaces:[]},yp.prototype._get_serialName__17=function(){return this._serialName_3},yp.prototype._get_kind__17=function(){return Yh()},yp.prototype._get_elementsCount__17=function(){return this._elementsCount_1},yp.prototype.getElementName_17=function(t){return t.toString()},yp.prototype.getElementIndex_17=function(t){var e=br(t);if(null==e)throw ec(t+" is not a valid map index");return e},yp.prototype.getElementAnnotations_17=function(t){if(!(t>=0))throw ec(Fu("Illegal index "+t+", "+this._get_serialName__17()+" expects only non-negative indices"));return Ti()},yp.prototype.getElementDescriptor_17=function(t){var e;if(!(t>=0))throw ec(Fu("Illegal index "+t+", "+this._get_serialName__17()+" expects only non-negative indices"));switch(t%2){case 0:e=this._keyDescriptor;break;case 1:e=this._valueDescriptor;break;default:throw lc(Fu("Unreached"))}return e},yp.prototype.equals=function(t){return this===t||t instanceof yp&&this._get_serialName__17()===t._get_serialName__17()&&!!Du(this._keyDescriptor,t._keyDescriptor)&&!!Du(this._valueDescriptor,t._valueDescriptor)},yp.prototype.hashCode=function(){var t=Bu(this._get_serialName__17());return t=ml(31,t)+zu(this._keyDescriptor)|0,ml(31,t)+zu(this._valueDescriptor)|0},yp.prototype.toString=function(){return this._get_serialName__17()+"("+this._keyDescriptor+", "+this._valueDescriptor+")"},yp.$metadata$={simpleName:"MapLikeDescriptor",kind:"class",interfaces:[dh]},vp.prototype._get_serialName__17=function(){return"kotlin.collections.HashSet"},vp.$metadata$={simpleName:"HashSetClassDesc",kind:"class",interfaces:[]},bp.prototype._get_serialName__17=function(){return"kotlin.collections.LinkedHashSet"},bp.$metadata$={simpleName:"LinkedHashSetClassDesc",kind:"class",interfaces:[]},wp.$metadata$={simpleName:"HashMapClassDesc",kind:"class",interfaces:[]},xp.prototype._get_descriptor__66=function(){return this._descriptor_0},xp.prototype.builderSize_14=function(t){return t._get_position__7()},xp.prototype.toResult_14=function(t){return t.build_8()},xp.prototype.checkCapacity_14=function(t,e){return t.ensureCapacity_8(e)},xp.prototype.collectionIterator=function(t){throw lc(Fu("This method lead to boxing and must not be used, use writeContents instead"))},xp.prototype.collectionIterator_14=function(t){return this.collectionIterator(null==t||Pl(t)?t:Hu())},xp.prototype.insert_8=function(t,e,n){throw lc(Fu("This method lead to boxing and must not be used, use Builder.append instead"))},xp.prototype.builder_16=function(){return this.toBuilder_30(this.empty_7())},xp.prototype.serialize_3=function(t,e){var n=this.collectionSize_29(e),i=t.beginCollection_3(this._descriptor_0,n);this.writeContent_15(i,e,n),i.endStructure_14(this._descriptor_0)},xp.prototype.serialize_107=function(t,e){return this.serialize_3(t,null==e||Pl(e)?e:Hu())},xp.prototype.serialize_12=function(t,e){return this.serialize_3(t,null==e||Pl(e)?e:Hu())},xp.prototype.deserialize_70=function(t){return this.merge_5(t,null)},xp.$metadata$={simpleName:"PrimitiveArraySerializer",kind:"class",interfaces:[]},kp.prototype.ensureCapacity$default_7=function(t,e,n){return 0!=(1&e)&&(t=this._get_position__7()+1|0),null==n?this.ensureCapacity_8(t):n(t)},kp.$metadata$={simpleName:"PrimitiveArrayBuilder",kind:"class",interfaces:[]},Ep.prototype.serialize_12=function(t,e){var n=this.collectionSize_29(e),i=t.beginCollection_3(this._get_descriptor__66(),n),r=this.collectionIterator_14(e),o=0;if(o<n)do{var a=o;o=o+1|0,i.encodeSerializableElement_3(this._get_descriptor__66(),a,this._elementSerializer,r.next_14())}while(o<n);i.endStructure_14(this._get_descriptor__66())},Ep.prototype.serialize_107=function(t,e){return this.serialize_12(t,null==e||Pl(e)?e:Hu())},Ep.prototype.readAll_5=function(t,e,n,i){if(!(i>=0))throw ec(Fu("Size must be known in advance when using READ_ALL"));var r=0;if(r<i)do{var o=r;r=r+1|0,this.readElement_24(t,n+o|0,e,!1)}while(r<i)},Ep.prototype.readElement_24=function(t,e,n,i){var r=this._get_descriptor__66();this.insert_8(n,e,t.decodeSerializableElement$default_9(r,e,this._elementSerializer,null,8,null))},Ep.$metadata$={simpleName:"ListLikeSerializer",kind:"class",interfaces:[]},Sp.prototype.merge_5=function(t,e){var n=null==e?null:this.toBuilder_30(e),i=null==n?this.builder_16():n,r=this.builderSize_14(i),o=t.beginStructure_14(this._get_descriptor__66());if(o.decodeSequentially_9())this.readAll_5(o,i,r,function(t,e,n){var i=e.decodeCollectionSize_9(t._get_descriptor__66());return t.checkCapacity_14(n,i),i}(this,o,i));else t:for(;;){var a=o.decodeElementIndex_9(this._get_descriptor__66());if(op(),-1===a)break t;this.readElement$default_5(o,r+a|0,i,!1,8,null)}return o.endStructure_14(this._get_descriptor__66()),this.toResult_14(i)},Sp.prototype.deserialize_70=function(t){return this.merge_5(t,null)},Sp.prototype.readElement$default_5=function(t,e,n,i,r,o){return 0!=(8&r)&&(i=!0),null==o?this.readElement_24(t,e,n,i):o(t,e,n,i)},Sp.$metadata$={simpleName:"AbstractCollectionSerializer",kind:"class",interfaces:[Mc]},Cp.prototype._get_descriptor__66=function(){return this._descriptor_1},Cp.prototype.collectionSize_1=function(t){return t.length},Cp.prototype.collectionSize_29=function(t){return this.collectionSize_1(null!=t&&Al(t)?t:Hu())},Cp.prototype.collectionIterator_2=function(t){return ku(t)},Cp.prototype.collectionIterator_14=function(t){return this.collectionIterator_2(null!=t&&Al(t)?t:Hu())},Cp.prototype.builder_16=function(){return fa()},Cp.prototype.builderSize_2=function(t){return t._get_size__29()},Cp.prototype.builderSize_14=function(t){return this.builderSize_2(t instanceof _a?t:Hu())},Cp.prototype.toResult_2=function(t){return ta(t)},Cp.prototype.toResult_14=function(t){return this.toResult_2(t instanceof _a?t:Hu())},Cp.prototype.toBuilder_2=function(t){return ga(Xl(t))},Cp.prototype.toBuilder_30=function(t){return this.toBuilder_2(null!=t&&Al(t)?t:Hu())},Cp.prototype.checkCapacity_2=function(t,e){return t.ensureCapacity_8(e)},Cp.prototype.checkCapacity_14=function(t,e){return this.checkCapacity_2(t instanceof _a?t:Hu(),e)},Cp.prototype.insert_1=function(t,e,n){t.add_9(e,n)},Cp.prototype.insert_8=function(t,e,n){var i=t instanceof _a?t:Hu();return this.insert_1(i,e,null==n||Pl(n)?n:Hu())},Cp.$metadata$={simpleName:"ReferenceArraySerializer",kind:"class",interfaces:[]},Ip.prototype._get_descriptor__66=function(){return this._descriptor_2},Ip.prototype.collectionSize_3=function(t){return t._get_size__29()},Ip.prototype.collectionSize_29=function(t){return this.collectionSize_3(null!=t&&Cl(t,cu)?t:Hu())},Ip.prototype.collectionIterator_4=function(t){return t.iterator_39()},Ip.prototype.collectionIterator_14=function(t){return this.collectionIterator_4(null!=t&&Cl(t,cu)?t:Hu())},Ip.prototype.builder_16=function(){return fa()},Ip.prototype.builderSize_4=function(t){return t._get_size__29()},Ip.prototype.builderSize_14=function(t){return this.builderSize_4(t instanceof _a?t:Hu())},Ip.prototype.toResult_4=function(t){return t},Ip.prototype.toResult_14=function(t){return this.toResult_4(t instanceof _a?t:Hu())},Ip.prototype.toBuilder_4=function(t){var e=t instanceof _a?t:null;return null==e?ga(t):e},Ip.prototype.toBuilder_30=function(t){return this.toBuilder_4(null!=t&&Cl(t,cu)?t:Hu())},Ip.prototype.checkCapacity_4=function(t,e){return t.ensureCapacity_8(e)},Ip.prototype.checkCapacity_14=function(t,e){return this.checkCapacity_4(t instanceof _a?t:Hu(),e)},Ip.prototype.insert_3=function(t,e,n){t.add_9(e,n)},Ip.prototype.insert_8=function(t,e,n){var i=t instanceof _a?t:Hu();return this.insert_3(i,e,null==n||Pl(n)?n:Hu())},Ip.$metadata$={simpleName:"ArrayListSerializer",kind:"class",interfaces:[]},Ap.prototype._get_descriptor__66=function(){return this._descriptor_3},Ap.prototype.collectionSize_12=function(t){return t._get_size__29()},Ap.prototype.collectionSize_29=function(t){return this.collectionSize_12(null!=t&&Cl(t,lu)?t:Hu())},Ap.prototype.collectionIterator_13=function(t){return t._get_entries__5().iterator_39()},Ap.prototype.collectionIterator_14=function(t){return this.collectionIterator_13(null!=t&&Cl(t,lu)?t:Hu())},Ap.prototype.builder_16=function(){return qa()},Ap.prototype.builderSize_6=function(t){return t._get_size__29()},Ap.prototype.builderSize_14=function(t){return this.builderSize_6(t instanceof Wa?t:Hu())},Ap.prototype.toResult_6=function(t){return t},Ap.prototype.toResult_14=function(t){return this.toResult_6(t instanceof Wa?t:Hu())},Ap.prototype.toBuilder_13=function(t){var e=t instanceof Wa?t:null;return null==e?function(t,e){return Sa(e),Wa.call(e),e._map_0=Ca(),e.putAll_1(t),e}(t,Object.create(Wa.prototype)):e},Ap.prototype.toBuilder_30=function(t){return this.toBuilder_13(null!=t&&Cl(t,lu)?t:Hu())},Ap.prototype.checkCapacity_6=function(t,e){},Ap.prototype.checkCapacity_14=function(t,e){return this.checkCapacity_6(t instanceof Wa?t:Hu(),e)},Ap.$metadata$={simpleName:"LinkedHashMapSerializer",kind:"class",interfaces:[]},Pp.prototype.readAll_5=function(t,e,n,i){if(!(i>=0))throw ec(Fu("Size must be known in advance when using READ_ALL"));var r=function(t,e){return Co().fromClosedRange(t._first_1,t._last,t._step_0>0?2:-2)}(b(0,ml(i,2))),o=r._first_1,a=r._last,s=r._step_0;if(s>0&&o<=a||s<0&&a<=o)do{var u=o;o=o+s|0,this.readElement_24(t,n+u|0,e,!1)}while(u!==a)},Pp.prototype.readElement_24=function(t,e,n,i){var r,o=this._get_descriptor__66(),a=t.decodeSerializableElement$default_9(o,e,this._keySerializer,null,8,null);if(i){var s=t.decodeElementIndex_9(this._get_descriptor__66());if(s!==(e+1|0))throw ec(Fu("Value must follow key in a map, index for key: "+e+", returned index for value: "+s));r=s}else r=e+1|0;var u,l=r;if(!n.containsKey_8(a)||this._valueSerializer._get_descriptor__66()._get_kind__17()instanceof Vh){var c=this._get_descriptor__66();u=t.decodeSerializableElement$default_9(c,l,this._valueSerializer,null,8,null)}else u=t.decodeSerializableElement_9(this._get_descriptor__66(),l,this._valueSerializer,Ki(n,a));n.put_4(a,u),Mo()},Pp.prototype.serialize_12=function(t,e){for(var n=this.collectionSize_29(e),i=t.beginCollection_3(this._get_descriptor__66(),n),r=0,o=this.collectionIterator_14(e);o.hasNext_14();){var a=o.next_14(),s=a._get_key__3(),u=a._get_value__15(),l=this._get_descriptor__66(),c=r;r=c+1|0,i.encodeSerializableElement_3(l,c,this._keySerializer,s);var h=this._get_descriptor__66(),p=r;r=p+1|0,i.encodeSerializableElement_3(h,p,this._valueSerializer,u)}i.endStructure_14(this._get_descriptor__66())},Pp.prototype.serialize_107=function(t,e){return this.serialize_12(t,null==e||Pl(e)?e:Hu())},Pp.$metadata$={simpleName:"MapLikeSerializer",kind:"class",interfaces:[]},Tp.prototype._get_descriptor__66=function(){return this._descriptor_4},Tp.prototype.collectionSize_10=function(t){return t._get_size__29()},Tp.prototype.collectionSize_29=function(t){return this.collectionSize_10(null!=t&&Cl(t,fu)?t:Hu())},Tp.prototype.collectionIterator_11=function(t){return t.iterator_39()},Tp.prototype.collectionIterator_14=function(t){return this.collectionIterator_11(null!=t&&Cl(t,fu)?t:Hu())},Tp.prototype.builder_16=function(){return Ta()},Tp.prototype.builderSize_9=function(t){return t._get_size__29()},Tp.prototype.builderSize_14=function(t){return this.builderSize_9(t instanceof Ma?t:Hu())},Tp.prototype.toResult_9=function(t){return t},Tp.prototype.toResult_14=function(t){return this.toResult_9(t instanceof Ma?t:Hu())},Tp.prototype.toBuilder_11=function(t){var e=t instanceof Ma?t:null;return null==e?function(t){return function(t,e){return pa.call(e),Ma.call(e),e._map=Aa(t._get_size__29()),e.addAll_10(t),Mo(),e}(t,Object.create(Ma.prototype))}(t):e},Tp.prototype.toBuilder_30=function(t){return this.toBuilder_11(null!=t&&Cl(t,fu)?t:Hu())},Tp.prototype.checkCapacity_9=function(t,e){},Tp.prototype.checkCapacity_14=function(t,e){return this.checkCapacity_9(t instanceof Ma?t:Hu(),e)},Tp.prototype.insert_5=function(t,e,n){t.add_18(n),Mo()},Tp.prototype.insert_8=function(t,e,n){var i=t instanceof Ma?t:Hu();return this.insert_5(i,e,null==n||Pl(n)?n:Hu())},Tp.$metadata$={simpleName:"HashSetSerializer",kind:"class",interfaces:[]},Op.prototype._get_descriptor__66=function(){return this._descriptor_5},Op.prototype.collectionSize_10=function(t){return t._get_size__29()},Op.prototype.collectionSize_29=function(t){return this.collectionSize_10(null!=t&&Cl(t,fu)?t:Hu())},Op.prototype.collectionIterator_11=function(t){return t.iterator_39()},Op.prototype.collectionIterator_14=function(t){return this.collectionIterator_11(null!=t&&Cl(t,fu)?t:Hu())},Op.prototype.builder_16=function(){return t=Object.create(Za.prototype),La(qa(),t),Za.call(t),t;var t},Op.prototype.builderSize_11=function(t){return t._get_size__29()},Op.prototype.builderSize_14=function(t){return this.builderSize_11(t instanceof Za?t:Hu())},Op.prototype.toResult_11=function(t){return t},Op.prototype.toResult_14=function(t){return this.toResult_11(t instanceof Za?t:Hu())},Op.prototype.toBuilder_11=function(t){var e=t instanceof Za?t:null;return null==e?function(t){return function(t,e){return La(qa(),e),Za.call(e),e.addAll_10(t),Mo(),e}(t,Object.create(Za.prototype))}(t):e},Op.prototype.toBuilder_30=function(t){return this.toBuilder_11(null!=t&&Cl(t,fu)?t:Hu())},Op.prototype.checkCapacity_11=function(t,e){},Op.prototype.checkCapacity_14=function(t,e){return this.checkCapacity_11(t instanceof Za?t:Hu(),e)},Op.prototype.insert_7=function(t,e,n){t.add_18(n),Mo()},Op.prototype.insert_8=function(t,e,n){var i=t instanceof Za?t:Hu();return this.insert_7(i,e,null==n||Pl(n)?n:Hu())},Op.$metadata$={simpleName:"LinkedHashSetSerializer",kind:"class",interfaces:[]},Lp.prototype._get_descriptor__66=function(){return this._descriptor_6},Lp.prototype.collectionSize_12=function(t){return t._get_size__29()},Lp.prototype.collectionSize_29=function(t){return this.collectionSize_12(null!=t&&Cl(t,lu)?t:Hu())},Lp.prototype.collectionIterator_13=function(t){return t._get_entries__5().iterator_39()},Lp.prototype.collectionIterator_14=function(t){return this.collectionIterator_13(null!=t&&Cl(t,lu)?t:Hu())},Lp.prototype.builder_16=function(){return Ca()},Lp.prototype.builderSize_13=function(t){return t._get_size__29()},Lp.prototype.builderSize_14=function(t){return this.builderSize_13(t instanceof Pa?t:Hu())},Lp.prototype.toResult_13=function(t){return t},Lp.prototype.toResult_14=function(t){return this.toResult_13(t instanceof Pa?t:Hu())},Lp.prototype.toBuilder_13=function(t){var e=t instanceof Pa?t:null;return null==e?function(t,e){return Sa(e),e.putAll_1(t),e}(t,Object.create(Pa.prototype)):e},Lp.prototype.toBuilder_30=function(t){return this.toBuilder_13(null!=t&&Cl(t,lu)?t:Hu())},Lp.prototype.checkCapacity_13=function(t,e){},Lp.prototype.checkCapacity_14=function(t,e){return this.checkCapacity_13(t instanceof Pa?t:Hu(),e)},Lp.$metadata$={simpleName:"HashMapSerializer",kind:"class",interfaces:[]},Mp.prototype.invoke_94=function(t){for(var e=this._this$0_10._values_0,n=0,i=e.length;n<i;){var r=e[n];n=n+1|0;var o=_h(this._$serialName+"."+r._name,Xh(),[],null,12);t.element$default(r._name,o,null,!1,12,null)}},Mp.prototype.invoke_103=function(t){return this.invoke_94(t instanceof yh?t:Hu()),Mo()},Mp.$metadata$={kind:"class",interfaces:[]},Np.prototype._get_descriptor__66=function(){return this._descriptor_7},Np.prototype.serialize_107=function(t,e){var n,o,a=i(this._values_0,e);if(-1===a)throw Zc(e+" is not a valid enum "+this._descriptor_7._get_serialName__17()+", must be one of "+(null==(o=null==(n=this._values_0)?null:r(n,", ","[","]",0,null,null,56))?"null":o));t.encodeEnum_3(this._descriptor_7,a)},Np.prototype.deserialize_70=function(t){var e=t.decodeEnum_9(this._descriptor_7);if(!(0<=e&&e<=(this._values_0.length-1|0)))throw Zc(e+" is not among valid "+this._descriptor_7._get_serialName__17()+" enum values, values size is "+this._values_0.length);return this._values_0[e]},Np.prototype.toString=function(){return"kotlinx.serialization.internal.EnumSerializer<"+this._descriptor_7._get_serialName__17()+">"},Np.$metadata$={simpleName:"EnumSerializer",kind:"class",interfaces:[Mc]},Dp.prototype._get_isInline__17=function(){return this._isInline},Dp.prototype.hashCode=function(){return ml(nf.prototype.hashCode.call(this),31)},Dp.prototype.equals=function(t){var e;t:do{if(this===t){e=!0;break t}if(!(t instanceof Dp)){e=!1;break t}if(this._get_serialName__17()!==t._get_serialName__17()){e=!1;break t}var n=t;if(!n._isInline||!Zl(this._get_typeParameterDescriptors__0(),n._get_typeParameterDescriptors__0())){e=!1;break t}if(this._get_elementsCount__17()!==t._get_elementsCount__17()){e=!1;break t}var i=0,r=this._get_elementsCount__17();if(i<r)do{var o=i;if(i=i+1|0,this.getElementDescriptor_17(o)._get_serialName__17()!==t.getElementDescriptor_17(o)._get_serialName__17()){e=!1;break t}if(!Du(this.getElementDescriptor_17(o)._get_kind__17(),t.getElementDescriptor_17(o)._get_kind__17())){e=!1;break t}}while(i<r);e=!0}while(0);return e},Dp.$metadata$={simpleName:"InlineClassDescriptor",kind:"class",interfaces:[]},zp.prototype.childSerializers_15=function(){return[this._$primitiveSerializer]},zp.prototype._get_descriptor__66=function(){throw lc(Fu("unsupported"))},zp.prototype.serialize_107=function(t,e){throw lc(Fu("unsupported"))},zp.prototype.deserialize_70=function(t){throw lc(Fu("unsupported"))},zp.$metadata$={kind:"class",interfaces:[rf]},Fp.prototype._get_descriptor__66=function(){return this._descriptor_8},Fp.prototype.serialize_19=function(t,e){var n=t.encodeInline_3(this._descriptor_8);null==n||(n.encodeInt_3(e),Mo()),Mo()},Fp.prototype.serialize_107=function(t,e){return this.serialize_19(t,e instanceof Zr?e._data_0:Hu())},Fp.prototype.deserialize_15=function(t){return t.decodeInline_9(this._descriptor_8).decodeInt_9()},Fp.prototype.deserialize_70=function(t){return new Zr(this.deserialize_15(t))},Fp.$metadata$={simpleName:"UIntSerializer",kind:"object",interfaces:[Mc]},Bp.prototype._get_descriptor__66=function(){return this._descriptor_9},Bp.prototype.serialize_21=function(t,e){var n=t.encodeInline_3(this._descriptor_9);null==n||(n.encodeLong_3(e),Mo()),Mo()},Bp.prototype.serialize_107=function(t,e){return this.serialize_21(t,e instanceof Qr?e._data_1:Hu())},Bp.prototype.deserialize_17=function(t){return t.decodeInline_9(this._descriptor_9).decodeLong_9()},Bp.prototype.deserialize_70=function(t){return new Qr(this.deserialize_17(t))},Bp.$metadata$={simpleName:"ULongSerializer",kind:"object",interfaces:[Mc]},jp.prototype._get_descriptor__66=function(){return this._descriptor_10},jp.prototype.serialize_23=function(t,e){var n=t.encodeInline_3(this._descriptor_10);null==n||(n.encodeByte_3(e),Mo()),Mo()},jp.prototype.serialize_107=function(t,e){return this.serialize_23(t,e instanceof qr?e._data:Hu())},jp.prototype.deserialize_19=function(t){return t.decodeInline_9(this._descriptor_10).decodeByte_9()},jp.prototype.deserialize_70=function(t){return new qr(this.deserialize_19(t))},jp.$metadata$={simpleName:"UByteSerializer",kind:"object",interfaces:[Mc]},Vp.prototype._get_descriptor__66=function(){return this._descriptor_11},Vp.prototype.serialize_25=function(t,e){var n=t.encodeInline_3(this._descriptor_11);null==n||(n.encodeShort_3(e),Mo()),Mo()},Vp.prototype.serialize_107=function(t,e){return this.serialize_25(t,e instanceof ro?e._data_2:Hu())},Vp.prototype.deserialize_21=function(t){return t.decodeInline_9(this._descriptor_11).decodeShort_9()},Vp.prototype.deserialize_70=function(t){return new ro(this.deserialize_21(t))},Vp.$metadata$={simpleName:"UShortSerializer",kind:"object",interfaces:[Mc]},qp.prototype._get_descriptor__66=function(){return this._descriptor_12},qp.prototype.serialize_27=function(t,e){null!=e?(t.encodeNotNullMark_3(),t.encodeSerializableValue_3(this._serializer,e)):t.encodeNull_3()},qp.prototype.serialize_107=function(t,e){return this.serialize_27(t,null==e||Pl(e)?e:Hu())},qp.prototype.deserialize_70=function(t){return t.decodeNotNullMark_9()?t.decodeSerializableValue_18(this._serializer):t.decodeNull_9()},qp.prototype.equals=function(t){return this===t||!(null==t||!Vs(this).equals(Vs(t)))&&(t instanceof qp||Hu(),Mo(),!!Du(this._serializer,t._serializer))},qp.prototype.hashCode=function(){return zu(this._serializer)},qp.$metadata$={simpleName:"NullableSerializer",kind:"class",interfaces:[Mc]},Gp.prototype.getElementAnnotations_17=function(t){return this._original_0.getElementAnnotations_17(t)},Gp.prototype.getElementDescriptor_17=function(t){return this._original_0.getElementDescriptor_17(t)},Gp.prototype.getElementIndex_17=function(t){return this._original_0.getElementIndex_17(t)},Gp.prototype.getElementName_17=function(t){return this._original_0.getElementName_17(t)},Gp.prototype._get_elementsCount__17=function(){return this._original_0._get_elementsCount__17()},Gp.prototype._get_isInline__17=function(){return this._original_0._get_isInline__17()},Gp.prototype._get_kind__17=function(){return this._original_0._get_kind__17()},Gp.prototype._get_serialName__17=function(){return this._serialName_4},Gp.prototype._get_serialNames__3=function(){return this._serialNames_0},Gp.prototype._get_isNullable__17=function(){return!0},Gp.prototype.equals=function(t){return this===t||t instanceof Gp&&!!Du(this._original_0,t._original_0)},Gp.prototype.toString=function(){return this._original_0+"?"},Gp.prototype.hashCode=function(){return ml(zu(this._original_0),31)},Gp.$metadata$={simpleName:"SerialDescriptorForNullable",kind:"class",interfaces:[dh,pp]},Hp.prototype._get_descriptor__66=function(){return this._descriptor_13},Hp.prototype.serialize_107=function(t,e){t.beginStructure_14(this._descriptor_13).endStructure_14(this._descriptor_13)},Hp.prototype.deserialize_70=function(t){return t.beginStructure_14(this._descriptor_13).endStructure_14(this._descriptor_13),this._objectInstance},Hp.$metadata$={simpleName:"ObjectSerializer",kind:"class",interfaces:[Mc]},Jp.prototype.invoke_97=function(){var t=this._this$0_11._generatedSerializer,e=null==t?null:t.childSerializers_15();return null==e?[]:e},Jp.$metadata$={kind:"class",interfaces:[]},Qp.prototype.invoke_97=function(){var t,e=this._this$0_12._generatedSerializer,n=null==e?null:e.typeParametersSerializers_15();if(null==n)t=null;else{for(var i=da(),r=ku(n);r.hasNext_14();){var o=r.next_14();i.add_18(o._get_descriptor__66()),Mo()}t=i}return Wp(t)},Qp.$metadata$={kind:"class",interfaces:[]},tf.prototype.invoke_97=function(){return Xp(this._this$0_13,this._this$0_13._get_typeParameterDescriptors__0())},tf.$metadata$={kind:"class",interfaces:[]},ef.prototype.invoke_102=function(t){return this._this$0_14.getElementName_17(t)+": "+this._this$0_14.getElementDescriptor_17(t)._get_serialName__17()},ef.prototype.invoke_103=function(t){return this.invoke_102(null!=t&&"number"==typeof t?t:Hu())},ef.$metadata$={kind:"class",interfaces:[]},nf.prototype._get_serialName__17=function(){return this._serialName_5},nf.prototype._get_elementsCount__17=function(){return this._elementsCount_2},nf.prototype._get_kind__17=function(){return qh()},nf.prototype._get_serialNames__3=function(){return this._indices._get_keys__5()},nf.prototype._get_typeParameterDescriptors__0=function(){var t=this._typeParameterDescriptors$delegate;return kl("typeParameterDescriptors",1,cs,function(t){return t._get_typeParameterDescriptors__0()},null),t._get_value__15()},nf.prototype.addElement_0=function(t,e){var n=this;n._added=n._added+1|0,this._names[n._added]=t,this._elementsOptionality[this._added]=e,this._propertiesAnnotations[this._added]=null,this._added===(this._elementsCount_2-1|0)&&(this._indices=function(t){var e=Ca(),n=0,i=t._names.length-1|0;if(n<=i)do{var r=n;n=n+1|0,e.put_4(t._names[r],r),Mo()}while(n<=i);return e}(this))},nf.prototype.getElementDescriptor_17=function(t){return od(Kp(this),t)._get_descriptor__66()},nf.prototype.getElementAnnotations_17=function(t){var e=od(this._propertiesAnnotations,t);return null==e?Ti():e},nf.prototype.getElementName_17=function(t){return od(this._names,t)},nf.prototype.getElementIndex_17=function(t){var e,n=this._indices.get_17(t);return null==n?(op(),e=-3):e=n,e},nf.prototype.equals=function(t){var e;t:do{if(this===t){e=!0;break t}if(!(t instanceof nf)){e=!1;break t}if(this._get_serialName__17()!==t._get_serialName__17()){e=!1;break t}var n=t;if(!Zl(this._get_typeParameterDescriptors__0(),n._get_typeParameterDescriptors__0())){e=!1;break t}if(this._get_elementsCount__17()!==t._get_elementsCount__17()){e=!1;break t}var i=0,r=this._get_elementsCount__17();if(i<r)do{var o=i;if(i=i+1|0,this.getElementDescriptor_17(o)._get_serialName__17()!==t.getElementDescriptor_17(o)._get_serialName__17()){e=!1;break t}if(!Du(this.getElementDescriptor_17(o)._get_kind__17(),t.getElementDescriptor_17(o)._get_kind__17())){e=!1;break t}}while(i<r);e=!0}while(0);return e},nf.prototype.hashCode=function(){return $p(this)},nf.prototype.toString=function(){var t;return c(b(0,this._elementsCount_2),", ",this._get_serialName__17()+"(",")",0,null,(t=new ef(this),function(e){return t.invoke_102(e)}),24)},nf.$metadata$={simpleName:"PluginGeneratedSerialDescriptor",kind:"class",interfaces:[dh,pp]},rf.prototype.typeParametersSerializers_15=function(){return Gt},rf.$metadata$={simpleName:"GeneratedSerializer",kind:"interface",interfaces:[Mc]},of.$metadata$={simpleName:"SerializerFactory",kind:"interface",interfaces:[]},af.prototype.collectionSize_14=function(t){return t.length},af.prototype.collectionSize_29=function(t){return this.collectionSize_14(null!=t&&Rl(t)?t:Hu())},af.prototype.toBuilder_15=function(t){return new df(t)},af.prototype.toBuilder_30=function(t){return this.toBuilder_15(null!=t&&Rl(t)?t:Hu())},af.prototype.empty_7=function(){return Su(0)},af.prototype.readElement_9=function(t,e,n,i){n.append_15(t.decodeCharElement_9(this._get_descriptor__66(),e))},af.prototype.readElement_24=function(t,e,n,i){return this.readElement_9(t,e,n instanceof df?n:Hu(),i)},af.prototype.writeContent_0=function(t,e,n){var i=0;if(i<n)do{var r=i;i=i+1|0,t.encodeCharElement_3(this._get_descriptor__66(),r,e[r])}while(i<n)},af.prototype.writeContent_15=function(t,e,n){return this.writeContent_0(t,null!=e&&Rl(e)?e:Hu(),n)},af.$metadata$={simpleName:"CharArraySerializer",kind:"object",interfaces:[Mc]},sf.prototype.collectionSize_16=function(t){return t.length},sf.prototype.collectionSize_29=function(t){return this.collectionSize_16(null!=t&&Bl(t)?t:Hu())},sf.prototype.toBuilder_17=function(t){return new gf(t)},sf.prototype.toBuilder_30=function(t){return this.toBuilder_17(null!=t&&Bl(t)?t:Hu())},sf.prototype.empty_7=function(){return new Float64Array(0)},sf.prototype.readElement_11=function(t,e,n,i){n.append_7(t.decodeDoubleElement_9(this._get_descriptor__66(),e))},sf.prototype.readElement_24=function(t,e,n,i){return this.readElement_11(t,e,n instanceof gf?n:Hu(),i)},sf.prototype.writeContent_2=function(t,e,n){var i=0;if(i<n)do{var r=i;i=i+1|0,t.encodeDoubleElement_3(this._get_descriptor__66(),r,e[r])}while(i<n)},sf.prototype.writeContent_15=function(t,e,n){return this.writeContent_2(t,null!=e&&Bl(e)?e:Hu(),n)},sf.$metadata$={simpleName:"DoubleArraySerializer",kind:"object",interfaces:[Mc]},uf.prototype.collectionSize_18=function(t){return t.length},uf.prototype.collectionSize_29=function(t){return this.collectionSize_18(null!=t&&zl(t)?t:Hu())},uf.prototype.toBuilder_19=function(t){return new mf(t)},uf.prototype.toBuilder_30=function(t){return this.toBuilder_19(null!=t&&zl(t)?t:Hu())},uf.prototype.empty_7=function(){return new Float32Array(0)},uf.prototype.readElement_13=function(t,e,n,i){n.append_8(t.decodeFloatElement_9(this._get_descriptor__66(),e))},uf.prototype.readElement_24=function(t,e,n,i){return this.readElement_13(t,e,n instanceof mf?n:Hu(),i)},uf.prototype.writeContent_4=function(t,e,n){var i=0;if(i<n)do{var r=i;i=i+1|0,t.encodeFloatElement_3(this._get_descriptor__66(),r,e[r])}while(i<n)},uf.prototype.writeContent_15=function(t,e,n){return this.writeContent_4(t,null!=e&&zl(e)?e:Hu(),n)},uf.$metadata$={simpleName:"FloatArraySerializer",kind:"object",interfaces:[Mc]},lf.prototype.collectionSize_20=function(t){return t.length},lf.prototype.collectionSize_29=function(t){return this.collectionSize_20(null!=t&&Fl(t)?t:Hu())},lf.prototype.toBuilder_21=function(t){return new _f(t)},lf.prototype.toBuilder_30=function(t){return this.toBuilder_21(null!=t&&Fl(t)?t:Hu())},lf.prototype.empty_7=function(){return(t=xu(Array(0),new Ju(0,0))).$type$="LongArray",t;var t},lf.prototype.readElement_15=function(t,e,n,i){n.append_14(t.decodeLongElement_9(this._get_descriptor__66(),e))},lf.prototype.readElement_24=function(t,e,n,i){return this.readElement_15(t,e,n instanceof _f?n:Hu(),i)},lf.prototype.writeContent_6=function(t,e,n){var i=0;if(i<n)do{var r=i;i=i+1|0,t.encodeLongElement_3(this._get_descriptor__66(),r,e[r])}while(i<n)},lf.prototype.writeContent_15=function(t,e,n){return this.writeContent_6(t,null!=e&&Fl(e)?e:Hu(),n)},lf.$metadata$={simpleName:"LongArraySerializer",kind:"object",interfaces:[Mc]},cf.prototype.collectionSize_22=function(t){return t.length},cf.prototype.collectionSize_29=function(t){return this.collectionSize_22(null!=t&&Dl(t)?t:Hu())},cf.prototype.toBuilder_23=function(t){return new yf(t)},cf.prototype.toBuilder_30=function(t){return this.toBuilder_23(null!=t&&Dl(t)?t:Hu())},cf.prototype.empty_7=function(){return new Int32Array(0)},cf.prototype.readElement_17=function(t,e,n,i){n.append_10(t.decodeIntElement_9(this._get_descriptor__66(),e))},cf.prototype.readElement_24=function(t,e,n,i){return this.readElement_17(t,e,n instanceof yf?n:Hu(),i)},cf.prototype.writeContent_8=function(t,e,n){var i=0;if(i<n)do{var r=i;i=i+1|0,t.encodeIntElement_3(this._get_descriptor__66(),r,e[r])}while(i<n)},cf.prototype.writeContent_15=function(t,e,n){return this.writeContent_8(t,null!=e&&Dl(e)?e:Hu(),n)},cf.$metadata$={simpleName:"IntArraySerializer",kind:"object",interfaces:[Mc]},hf.prototype.collectionSize_24=function(t){return t.length},hf.prototype.collectionSize_29=function(t){return this.collectionSize_24(null!=t&&Nl(t)?t:Hu())},hf.prototype.toBuilder_25=function(t){return new vf(t)},hf.prototype.toBuilder_30=function(t){return this.toBuilder_25(null!=t&&Nl(t)?t:Hu())},hf.prototype.empty_7=function(){return new Int16Array(0)},hf.prototype.readElement_19=function(t,e,n,i){n.append_11(t.decodeShortElement_9(this._get_descriptor__66(),e))},hf.prototype.readElement_24=function(t,e,n,i){return this.readElement_19(t,e,n instanceof vf?n:Hu(),i)},hf.prototype.writeContent_10=function(t,e,n){var i=0;if(i<n)do{var r=i;i=i+1|0,t.encodeShortElement_3(this._get_descriptor__66(),r,e[r])}while(i<n)},hf.prototype.writeContent_15=function(t,e,n){return this.writeContent_10(t,null!=e&&Nl(e)?e:Hu(),n)},hf.$metadata$={simpleName:"ShortArraySerializer",kind:"object",interfaces:[Mc]},pf.prototype.collectionSize_26=function(t){return t.length},pf.prototype.collectionSize_29=function(t){return this.collectionSize_26(null!=t&&Ml(t)?t:Hu())},pf.prototype.toBuilder_27=function(t){return new bf(t)},pf.prototype.toBuilder_30=function(t){return this.toBuilder_27(null!=t&&Ml(t)?t:Hu())},pf.prototype.empty_7=function(){return new Int8Array(0)},pf.prototype.readElement_21=function(t,e,n,i){n.append_12(t.decodeByteElement_9(this._get_descriptor__66(),e))},pf.prototype.readElement_24=function(t,e,n,i){return this.readElement_21(t,e,n instanceof bf?n:Hu(),i)},pf.prototype.writeContent_12=function(t,e,n){var i=0;if(i<n)do{var r=i;i=i+1|0,t.encodeByteElement_3(this._get_descriptor__66(),r,e[r])}while(i<n)},pf.prototype.writeContent_15=function(t,e,n){return this.writeContent_12(t,null!=e&&Ml(e)?e:Hu(),n)},pf.$metadata$={simpleName:"ByteArraySerializer",kind:"object",interfaces:[Mc]},ff.prototype.collectionSize_28=function(t){return t.length},ff.prototype.collectionSize_29=function(t){return this.collectionSize_28(null!=t&&Ll(t)?t:Hu())},ff.prototype.toBuilder_29=function(t){return new wf(t)},ff.prototype.toBuilder_30=function(t){return this.toBuilder_29(null!=t&&Ll(t)?t:Hu())},ff.prototype.empty_7=function(){return Eu(0)},ff.prototype.readElement_23=function(t,e,n,i){n.append_13(t.decodeBooleanElement_9(this._get_descriptor__66(),e))},ff.prototype.readElement_24=function(t,e,n,i){return this.readElement_23(t,e,n instanceof wf?n:Hu(),i)},ff.prototype.writeContent_14=function(t,e,n){var i=0;if(i<n)do{var r=i;i=i+1|0,t.encodeBooleanElement_3(this._get_descriptor__66(),r,e[r])}while(i<n)},ff.prototype.writeContent_15=function(t,e,n){return this.writeContent_14(t,null!=e&&Ll(e)?e:Hu(),n)},ff.$metadata$={simpleName:"BooleanArraySerializer",kind:"object",interfaces:[Mc]},df.prototype._get_position__7=function(){return this._position},df.prototype.ensureCapacity_8=function(t){this._buffer.length<t&&(this._buffer=jl(this._buffer,w(t,ml(this._buffer.length,2))))},df.prototype.append_15=function(t){this.ensureCapacity$default_7(0,1,null);var e=this._buffer,n=this._position;this._position=n+1|0,e[n]=t},df.prototype.build_8=function(){return jl(this._buffer,this._position)},df.$metadata$={simpleName:"CharArrayBuilder",kind:"class",interfaces:[]},gf.prototype._get_position__7=function(){return this._position_0},gf.prototype.ensureCapacity_8=function(t){this._buffer_0.length<t&&(this._buffer_0=Vl(this._buffer_0,w(t,ml(this._buffer_0.length,2))))},gf.prototype.append_7=function(t){this.ensureCapacity$default_7(0,1,null);var e=this._buffer_0,n=this._position_0;this._position_0=n+1|0,e[n]=t},gf.prototype.build_8=function(){return Vl(this._buffer_0,this._position_0)},gf.$metadata$={simpleName:"DoubleArrayBuilder",kind:"class",interfaces:[]},mf.prototype._get_position__7=function(){return this._position_1},mf.prototype.ensureCapacity_8=function(t){this._buffer_1.length<t&&(this._buffer_1=Ul(this._buffer_1,w(t,ml(this._buffer_1.length,2))))},mf.prototype.append_8=function(t){this.ensureCapacity$default_7(0,1,null);var e=this._buffer_1,n=this._position_1;this._position_1=n+1|0,e[n]=t},mf.prototype.build_8=function(){return Ul(this._buffer_1,this._position_1)},mf.$metadata$={simpleName:"FloatArrayBuilder",kind:"class",interfaces:[]},_f.prototype._get_position__7=function(){return this._position_2},_f.prototype.ensureCapacity_8=function(t){this._buffer_2.length<t&&(this._buffer_2=ql(this._buffer_2,w(t,ml(this._buffer_2.length,2))))},_f.prototype.append_14=function(t){this.ensureCapacity$default_7(0,1,null);var e=this._buffer_2,n=this._position_2;this._position_2=n+1|0,e[n]=t},_f.prototype.build_8=function(){return ql(this._buffer_2,this._position_2)},_f.$metadata$={simpleName:"LongArrayBuilder",kind:"class",interfaces:[]},yf.prototype._get_position__7=function(){return this._position_3},yf.prototype.ensureCapacity_8=function(t){this._buffer_3.length<t&&(this._buffer_3=Gl(this._buffer_3,w(t,ml(this._buffer_3.length,2))))},yf.prototype.append_10=function(t){this.ensureCapacity$default_7(0,1,null);var e=this._buffer_3,n=this._position_3;this._position_3=n+1|0,e[n]=t},yf.prototype.build_8=function(){return Gl(this._buffer_3,this._position_3)},yf.$metadata$={simpleName:"IntArrayBuilder",kind:"class",interfaces:[]},vf.prototype._get_position__7=function(){return this._position_4},vf.prototype.ensureCapacity_8=function(t){this._buffer_4.length<t&&(this._buffer_4=Hl(this._buffer_4,w(t,ml(this._buffer_4.length,2))))},vf.prototype.append_11=function(t){this.ensureCapacity$default_7(0,1,null);var e=this._buffer_4,n=this._position_4;this._position_4=n+1|0,e[n]=t},vf.prototype.build_8=function(){return Hl(this._buffer_4,this._position_4)},vf.$metadata$={simpleName:"ShortArrayBuilder",kind:"class",interfaces:[]},bf.prototype._get_position__7=function(){return this._position_5},bf.prototype.ensureCapacity_8=function(t){this._buffer_5.length<t&&(this._buffer_5=Wl(this._buffer_5,w(t,ml(this._buffer_5.length,2))))},bf.prototype.append_12=function(t){this.ensureCapacity$default_7(0,1,null);var e=this._buffer_5,n=this._position_5;this._position_5=n+1|0,e[n]=t},bf.prototype.build_8=function(){return Wl(this._buffer_5,this._position_5)},bf.$metadata$={simpleName:"ByteArrayBuilder",kind:"class",interfaces:[]},wf.prototype._get_position__7=function(){return this._position_6},wf.prototype.ensureCapacity_8=function(t){this._buffer_6.length<t&&(this._buffer_6=Yl(this._buffer_6,w(t,ml(this._buffer_6.length,2))))},wf.prototype.append_13=function(t){this.ensureCapacity$default_7(0,1,null);var e=this._buffer_6,n=this._position_6;this._position_6=n+1|0,e[n]=t},wf.prototype.build_8=function(){return Yl(this._buffer_6,this._position_6)},wf.$metadata$={simpleName:"BooleanArrayBuilder",kind:"class",interfaces:[]},xf.prototype._get_descriptor__66=function(){return this._descriptor_14},xf.prototype.serialize_38=function(t,e){return t.encodeString_3(e)},xf.prototype.serialize_107=function(t,e){return this.serialize_38(t,null!=e&&"string"==typeof e?e:Hu())},xf.prototype.deserialize_70=function(t){return t.decodeString_9()},xf.$metadata$={simpleName:"StringSerializer",kind:"object",interfaces:[Mc]},Ef.prototype._get_descriptor__66=function(){return this._descriptor_15},Ef.prototype.serialize_40=function(t,e){return t.encodeChar_3(e)},Ef.prototype.serialize_107=function(t,e){return this.serialize_40(t,e instanceof au?e:Hu())},Ef.prototype.deserialize_70=function(t){return t.decodeChar_9()},Ef.$metadata$={simpleName:"CharSerializer",kind:"object",interfaces:[Mc]},Sf.prototype._get_descriptor__66=function(){return this._descriptor_16},Sf.prototype.serialize_42=function(t,e){return t.encodeDouble_3(e)},Sf.prototype.serialize_107=function(t,e){return this.serialize_42(t,null!=e&&"number"==typeof e?e:Hu())},Sf.prototype.deserialize_70=function(t){return t.decodeDouble_9()},Sf.$metadata$={simpleName:"DoubleSerializer",kind:"object",interfaces:[Mc]},If.prototype._get_descriptor__66=function(){return this._descriptor_17},If.prototype.serialize_44=function(t,e){return t.encodeFloat_3(e)},If.prototype.serialize_107=function(t,e){return this.serialize_44(t,null!=e&&"number"==typeof e?e:Hu())},If.prototype.deserialize_70=function(t){return t.decodeFloat_9()},If.$metadata$={simpleName:"FloatSerializer",kind:"object",interfaces:[Mc]},Af.prototype._get_descriptor__66=function(){return this._descriptor_18},Af.prototype.serialize_46=function(t,e){return t.encodeLong_3(e)},Af.prototype.serialize_107=function(t,e){return this.serialize_46(t,e instanceof Ju?e:Hu())},Af.prototype.deserialize_70=function(t){return t.decodeLong_9()},Af.$metadata$={simpleName:"LongSerializer",kind:"object",interfaces:[Mc]},Pf.prototype._get_descriptor__66=function(){return this._descriptor_19},Pf.prototype.serialize_48=function(t,e){return t.encodeInt_3(e)},Pf.prototype.serialize_107=function(t,e){return this.serialize_48(t,null!=e&&"number"==typeof e?e:Hu())},Pf.prototype.deserialize_70=function(t){return t.decodeInt_9()},Pf.$metadata$={simpleName:"IntSerializer",kind:"object",interfaces:[Mc]},Of.prototype._get_descriptor__66=function(){return this._descriptor_20},Of.prototype.serialize_50=function(t,e){return t.encodeShort_3(e)},Of.prototype.serialize_107=function(t,e){return this.serialize_50(t,null!=e&&"number"==typeof e?e:Hu())},Of.prototype.deserialize_70=function(t){return t.decodeShort_9()},Of.$metadata$={simpleName:"ShortSerializer",kind:"object",interfaces:[Mc]},Lf.prototype._get_descriptor__66=function(){return this._descriptor_21},Lf.prototype.serialize_52=function(t,e){return t.encodeByte_3(e)},Lf.prototype.serialize_107=function(t,e){return this.serialize_52(t,null!=e&&"number"==typeof e?e:Hu())},Lf.prototype.deserialize_70=function(t){return t.decodeByte_9()},Lf.$metadata$={simpleName:"ByteSerializer",kind:"object",interfaces:[Mc]},Mf.prototype._get_descriptor__66=function(){return this._descriptor_22},Mf.prototype.serialize_54=function(t,e){return t.encodeBoolean_3(e)},Mf.prototype.serialize_107=function(t,e){return this.serialize_54(t,null!=e&&"boolean"==typeof e?e:Hu())},Mf.prototype.deserialize_70=function(t){return t.decodeBoolean_9()},Mf.$metadata$={simpleName:"BooleanSerializer",kind:"object",interfaces:[Mc]},Rf.prototype.deserialize_42=function(t){this._$$delegate_0.deserialize_70(t)},Rf.prototype.deserialize_70=function(t){return this.deserialize_42(t),Mo()},Rf.prototype.serialize_56=function(t,e){this._$$delegate_0.serialize_107(t,Mo())},Rf.prototype.serialize_107=function(t,e){return this.serialize_56(t,e instanceof Lo?e:Hu())},Rf.prototype._get_descriptor__66=function(){return this._$$delegate_0._descriptor_13},Rf.$metadata$={simpleName:"UnitSerializer",kind:"object",interfaces:[Mc]},zf.prototype._get_serialName__17=function(){return this._serialName_6},zf.prototype._get_kind__17=function(){return this._kind_0},zf.prototype._get_elementsCount__17=function(){return 0},zf.prototype.getElementName_17=function(t){Df()},zf.prototype.getElementIndex_17=function(t){Df()},zf.prototype.getElementDescriptor_17=function(t){Df()},zf.prototype.getElementAnnotations_17=function(t){Df()},zf.prototype.toString=function(){return"PrimitiveDescriptor("+this._serialName_6+")"},zf.$metadata$={simpleName:"PrimitiveSerialDescriptor",kind:"class",interfaces:[dh]},Ff.prototype.getTag_5=function(t,e){return this.nested_4(this.elementName_4(t,e))},Ff.prototype.nested_4=function(t){var e=this._get_currentTagOrNull__5();return this.composeName_4(null==e?"":e,t)},Ff.prototype.elementName_4=function(t,e){return t.getElementName_17(e)},Ff.prototype.composeName_4=function(t,e){return 0===Tu(t)?e:t+"."+e},Ff.$metadata$={simpleName:"NamedValueDecoder",kind:"class",interfaces:[]},jf.prototype.invoke_97=function(){return this._this$0_15.decodeSerializableValue_19(this._$deserializer,this._$previousValue)},jf.$metadata$={kind:"class",interfaces:[]},Vf.prototype.invoke_97=function(){return this._this$0_16.decodeNotNullMark_9()?this._this$0_16.decodeSerializableValue_19(this._$deserializer_0,this._$previousValue_0):this._this$0_16.decodeNull_9()},Vf.$metadata$={kind:"class",interfaces:[]},Uf.prototype._get_serializersModule__18=function(){return he},Uf.prototype.decodeTaggedValue_0=function(t){throw Zc(Vs(this)+" can't retrieve untyped values")},Uf.prototype.decodeTaggedNotNullMark_2=function(t){return!0},Uf.prototype.decodeTaggedBoolean_2=function(t){var e=this.decodeTaggedValue_0(t);return"boolean"==typeof e?e:Hu()},Uf.prototype.decodeTaggedByte_2=function(t){var e=this.decodeTaggedValue_0(t);return"number"==typeof e?e:Hu()},Uf.prototype.decodeTaggedShort_2=function(t){var e=this.decodeTaggedValue_0(t);return"number"==typeof e?e:Hu()},Uf.prototype.decodeTaggedInt_2=function(t){var e=this.decodeTaggedValue_0(t);return"number"==typeof e?e:Hu()},Uf.prototype.decodeTaggedLong_2=function(t){var e=this.decodeTaggedValue_0(t);return e instanceof Ju?e:Hu()},Uf.prototype.decodeTaggedFloat_2=function(t){var e=this.decodeTaggedValue_0(t);return"number"==typeof e?e:Hu()},Uf.prototype.decodeTaggedDouble_2=function(t){var e=this.decodeTaggedValue_0(t);return"number"==typeof e?e:Hu()},Uf.prototype.decodeTaggedChar_2=function(t){var e=this.decodeTaggedValue_0(t);return e instanceof au?e:Hu()},Uf.prototype.decodeTaggedString_2=function(t){var e=this.decodeTaggedValue_0(t);return"string"==typeof e?e:Hu()},Uf.prototype.decodeTaggedEnum_2=function(t,e){var n=this.decodeTaggedValue_0(t);return"number"==typeof n?n:Hu()},Uf.prototype.decodeTaggedInline_2=function(t,e){return this.pushTag_0(t),this},Uf.prototype.decodeSerializableValue_19=function(t,e){return this.decodeSerializableValue_18(t)},Uf.prototype.decodeInline_9=function(t){return this.decodeTaggedInline_2(this.popTag_5(),t)},Uf.prototype.decodeNotNullMark_9=function(){var t=this._get_currentTagOrNull__5();return null!=t&&this.decodeTaggedNotNullMark_2(t)},Uf.prototype.decodeNull_9=function(){return null},Uf.prototype.decodeBoolean_9=function(){return this.decodeTaggedBoolean_2(this.popTag_5())},Uf.prototype.decodeByte_9=function(){return this.decodeTaggedByte_2(this.popTag_5())},Uf.prototype.decodeShort_9=function(){return this.decodeTaggedShort_2(this.popTag_5())},Uf.prototype.decodeInt_9=function(){return this.decodeTaggedInt_2(this.popTag_5())},Uf.prototype.decodeLong_9=function(){return this.decodeTaggedLong_2(this.popTag_5())},Uf.prototype.decodeFloat_9=function(){return this.decodeTaggedFloat_2(this.popTag_5())},Uf.prototype.decodeDouble_9=function(){return this.decodeTaggedDouble_2(this.popTag_5())},Uf.prototype.decodeChar_9=function(){return this.decodeTaggedChar_2(this.popTag_5())},Uf.prototype.decodeString_9=function(){return this.decodeTaggedString_2(this.popTag_5())},Uf.prototype.decodeEnum_9=function(t){return this.decodeTaggedEnum_2(this.popTag_5(),t)},Uf.prototype.beginStructure_14=function(t){return this},Uf.prototype.endStructure_14=function(t){},Uf.prototype.decodeBooleanElement_9=function(t,e){return this.decodeTaggedBoolean_2(this.getTag_5(t,e))},Uf.prototype.decodeByteElement_9=function(t,e){return this.decodeTaggedByte_2(this.getTag_5(t,e))},Uf.prototype.decodeShortElement_9=function(t,e){return this.decodeTaggedShort_2(this.getTag_5(t,e))},Uf.prototype.decodeIntElement_9=function(t,e){return this.decodeTaggedInt_2(this.getTag_5(t,e))},Uf.prototype.decodeLongElement_9=function(t,e){return this.decodeTaggedLong_2(this.getTag_5(t,e))},Uf.prototype.decodeFloatElement_9=function(t,e){return this.decodeTaggedFloat_2(this.getTag_5(t,e))},Uf.prototype.decodeDoubleElement_9=function(t,e){return this.decodeTaggedDouble_2(this.getTag_5(t,e))},Uf.prototype.decodeCharElement_9=function(t,e){return this.decodeTaggedChar_2(this.getTag_5(t,e))},Uf.prototype.decodeStringElement_9=function(t,e){return this.decodeTaggedString_2(this.getTag_5(t,e))},Uf.prototype.decodeSerializableElement_9=function(t,e,n,i){var r;return Bf(this,this.getTag_5(t,e),(r=new jf(this,n,i),function(){return r.invoke_97()}))},Uf.prototype.decodeNullableSerializableElement_9=function(t,e,n,i){var r;return Bf(this,this.getTag_5(t,e),(r=new Vf(this,n,i),function(){return r.invoke_97()}))},Uf.prototype._get_currentTagOrNull__5=function(){return(t=this._tagStack).isEmpty_29()?null:t.get_29(t._get_size__29()-1|0);var t},Uf.prototype.pushTag_0=function(t){this._tagStack.add_18(t),Mo()},Uf.prototype.popTag_5=function(){var t=this._tagStack.removeAt_2(Oi(this._tagStack));return this._flag=!0,t},Uf.$metadata$={simpleName:"TaggedDecoder",kind:"class",interfaces:[ip,ap]},qf.prototype._get_key__3=function(){return this._key_0},qf.prototype._get_value__15=function(){return this._value_1},qf.prototype.toString=function(){return"MapEntry(key="+this._key_0+", value="+this._value_1+")"},qf.prototype.hashCode=function(){return ml(null==this._key_0?0:zu(this._key_0),31)+(null==this._value_1?0:zu(this._value_1))|0},qf.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof qf))return!1;var e=t instanceof qf?t:Hu();return!!Du(this._key_0,e._key_0)&&!!Du(this._value_1,e._value_1)},qf.$metadata$={simpleName:"MapEntry",kind:"class",interfaces:[uu]},Gf.prototype.invoke_94=function(t){var e=this._$keySerializer._get_descriptor__66();t.element$default("key",e,null,!1,12,null);var n=this._$valueSerializer._get_descriptor__66();t.element$default("value",n,null,!1,12,null)},Gf.prototype.invoke_103=function(t){return this.invoke_94(t instanceof yh?t:Hu()),Mo()},Gf.$metadata$={kind:"class",interfaces:[]},Hf.prototype._get_descriptor__66=function(){return this._descriptor_23},Hf.prototype._get_key__4=function(t){return t._get_key__3()},Hf.prototype._get_key__8=function(t){return this._get_key__4(null!=t&&Cl(t,uu)?t:Hu())},Hf.prototype._get_value__6=function(t){return t._get_value__15()},Hf.prototype._get_value__10=function(t){return this._get_value__6(null!=t&&Cl(t,uu)?t:Hu())},Hf.prototype.toResult_25=function(t,e){return new qf(t,e)},Hf.$metadata$={simpleName:"MapEntrySerializer",kind:"class",interfaces:[]},Wf.prototype.invoke_94=function(t){var e=this._$keySerializer_0._get_descriptor__66();t.element$default("first",e,null,!1,12,null);var n=this._$valueSerializer_0._get_descriptor__66();t.element$default("second",n,null,!1,12,null)},Wf.prototype.invoke_103=function(t){return this.invoke_94(t instanceof yh?t:Hu()),Mo()},Wf.$metadata$={kind:"class",interfaces:[]},Yf.prototype._get_descriptor__66=function(){return this._descriptor_24},Yf.prototype._get_key__6=function(t){return t._first},Yf.prototype._get_key__8=function(t){return this._get_key__6(t instanceof Dr?t:Hu())},Yf.prototype._get_value__8=function(t){return t._second},Yf.prototype._get_value__10=function(t){return this._get_value__8(t instanceof Dr?t:Hu())},Yf.prototype.toResult_25=function(t,e){return zr(t,e)},Yf.$metadata$={simpleName:"PairSerializer",kind:"class",interfaces:[]},Zf.prototype.invoke_94=function(t){var e=this._this$0_17._aSerializer._get_descriptor__66();t.element$default("first",e,null,!1,12,null);var n=this._this$0_17._bSerializer._get_descriptor__66();t.element$default("second",n,null,!1,12,null);var i=this._this$0_17._cSerializer._get_descriptor__66();t.element$default("third",i,null,!1,12,null)},Zf.prototype.invoke_103=function(t){return this.invoke_94(t instanceof yh?t:Hu()),Mo()},Zf.$metadata$={kind:"class",interfaces:[]},Xf.prototype._get_descriptor__66=function(){return this._descriptor_25},Xf.prototype.serialize_60=function(t,e){var n=t.beginStructure_14(this._descriptor_25);n.encodeSerializableElement_3(this._descriptor_25,0,this._aSerializer,e._first_0),n.encodeSerializableElement_3(this._descriptor_25,1,this._bSerializer,e._second_0),n.encodeSerializableElement_3(this._descriptor_25,2,this._cSerializer,e._third),n.endStructure_14(this._descriptor_25)},Xf.prototype.serialize_107=function(t,e){return this.serialize_60(t,e instanceof Fr?e:Hu())},Xf.prototype.deserialize_70=function(t){var e=t.beginStructure_14(this._descriptor_25);return e.decodeSequentially_9()?function(t,e){var n=e.decodeSerializableElement$default_9(t._descriptor_25,0,t._aSerializer,null,8,null),i=e.decodeSerializableElement$default_9(t._descriptor_25,1,t._bSerializer,null,8,null),r=e.decodeSerializableElement$default_9(t._descriptor_25,2,t._cSerializer,null,8,null);return e.endStructure_14(t._descriptor_25),new Fr(n,i,r)}(this,e):function(t,e){var n=ce,i=ce,r=ce;t:for(;;){var o=e.decodeElementIndex_9(t._descriptor_25);if(op(),-1===o)break t;if(0===o)n=e.decodeSerializableElement$default_9(t._descriptor_25,0,t._aSerializer,null,8,null);else if(1===o)i=e.decodeSerializableElement$default_9(t._descriptor_25,1,t._bSerializer,null,8,null);else{if(2!==o)throw Zc("Unexpected index "+o);r=e.decodeSerializableElement$default_9(t._descriptor_25,2,t._cSerializer,null,8,null)}}if(e.endStructure_14(t._descriptor_25),n===ce)throw Zc("Element 'first' is missing");if(i===ce)throw Zc("Element 'second' is missing");if(r===ce)throw Zc("Element 'third' is missing");return new Fr(null==n||Pl(n)?n:Hu(),null==i||Pl(i)?i:Hu(),null==r||Pl(r)?r:Hu())}(this,e)},Xf.$metadata$={simpleName:"TripleSerializer",kind:"class",interfaces:[Mc]},Kf.prototype.serialize_62=function(t,e){var n=t.beginStructure_14(this._get_descriptor__66());n.encodeSerializableElement_3(this._get_descriptor__66(),0,this._keySerializer_0,this._get_key__8(e)),n.encodeSerializableElement_3(this._get_descriptor__66(),1,this._valueSerializer_0,this._get_value__10(e)),n.endStructure_14(this._get_descriptor__66())},Kf.prototype.serialize_107=function(t,e){return this.serialize_62(t,null==e||Pl(e)?e:Hu())},Kf.prototype.deserialize_70=function(t){var e=t.beginStructure_14(this._get_descriptor__66());if(e.decodeSequentially_9()){var n=this._get_descriptor__66(),i=e.decodeSerializableElement$default_9(n,0,this._keySerializer_0,null,8,null),r=this._get_descriptor__66(),o=e.decodeSerializableElement$default_9(r,1,this._valueSerializer_0,null,8,null);return this.toResult_25(i,o)}var a=ce,s=ce;t:for(;;){var u=e.decodeElementIndex_9(this._get_descriptor__66());if(op(),-1===u)break t;if(0===u){var l=this._get_descriptor__66();a=e.decodeSerializableElement$default_9(l,0,this._keySerializer_0,null,8,null)}else{if(1!==u)throw Zc("Invalid index: "+u);var c=this._get_descriptor__66();s=e.decodeSerializableElement$default_9(c,1,this._valueSerializer_0,null,8,null)}}if(e.endStructure_14(this._get_descriptor__66()),a===ce)throw Zc("Element 'key' is missing");if(s===ce)throw Zc("Element 'value' is missing");var h=null==a||Pl(a)?a:Hu();return this.toResult_25(h,null==s||Pl(s)?s:Hu())},Kf.$metadata$={simpleName:"KeyValueSerializer",kind:"class",interfaces:[Mc]},$f.prototype.getContextual$default=function(t,e,n,i){return 0!=(2&n)&&(e=Ti()),null==i?this.getContextual_0(t,e):i(t,e)},$f.$metadata$={simpleName:"SerializersModule",kind:"class",interfaces:[]};Jf.prototype.getPolymorphic_1=function(t,e){if(!t.isInstance_4(e))return null;var n=this._polyBase2Serializers.get_17(t),i=null==n?null:n.get_17(Vs(e));return null!=i&&Cl(i,Rc)?i:null},Jf.prototype.getPolymorphic_2=function(t,e){var n=this._polyBase2NamedSerializers.get_17(t),i=null==n?null:(null!=n&&Cl(n,lu)?n:Hu()).get_17(e),r=null!=i&&Cl(i,Mc)?i:null;if(null!=r)return r;var o=this._polyBase2DefaultProvider.get_17(t),a=null!=o&&"function"==typeof o?o:null;return null==a?null:a(e)},Jf.prototype.getContextual_0=function(t,e){var n=this._class2ContextualFactory.get_17(t),i=null==n?null:n.invoke_85(e);return null==i||Cl(i,Mc)?i:null},Jf.prototype.dumpTo_0=function(t){for(var e=this._class2ContextualFactory._get_entries__5().iterator_39();e.hasNext_14();){var n=e.next_14(),i=n._get_key__3(),r=n._get_value__15(),o=r;if(o instanceof Qf){var a=Cl(i,is)?i:Hu(),s=r._serializer_0;t.contextual_2(a,Cl(s,Mc)?s:Hu())}else o instanceof td&&t.contextual_1(i,r._provider)}for(var u=this._polyBase2Serializers._get_entries__5().iterator_39();u.hasNext_14();)for(var l=u.next_14(),c=l._get_key__3(),h=l._get_value__15()._get_entries__5().iterator_39();h.hasNext_14();){var p=h.next_14(),f=p._get_key__3(),d=p._get_value__15(),g=Cl(c,is)?c:Hu(),m=Cl(f,is)?f:Hu();t.polymorphic_0(g,m,Cl(d,Mc)?d:Hu())}for(var _=this._polyBase2DefaultProvider._get_entries__5().iterator_39();_.hasNext_14();){var y=_.next_14(),v=y._get_key__3(),b=y._get_value__15(),w=Cl(v,is)?v:Hu();t.polymorphicDefault_0(w,"function"==typeof b?b:Hu())}},Jf.$metadata$={simpleName:"SerialModuleImpl",kind:"class",interfaces:[]},Qf.$metadata$={simpleName:"Argless",kind:"class",interfaces:[]},td.$metadata$={simpleName:"WithTypeArguments",kind:"class",interfaces:[]},ed.$metadata$={simpleName:"ContextualProvider",kind:"class",interfaces:[]},nd.prototype.invoke_85=function(t){return this._$serializer},nd.prototype.invoke_103=function(t){return this.invoke_85(null!=t&&Cl(t,cu)?t:Hu())},nd.$metadata$={kind:"class",interfaces:[]},id.prototype.contextual_2=function(t,e){return this.contextual_1(t,(n=new nd(e),function(t){return n.invoke_85(t)}));var n},id.$metadata$={simpleName:"SerializersModuleCollector",kind:"interface",interfaces:[]},rd.$metadata$={simpleName:"SerializableWith",kind:"class",interfaces:[go],associatedObjectKey:0},sd.$metadata$={simpleName:"Default",kind:"object",interfaces:[]},ld.prototype._get_configuration__3=function(){return this._configuration},ld.prototype._get_serializersModule__18=function(){return this._serializersModule},ld.prototype.encodeToString_2=function(t,e){var n,i,r,o=new zm;try{var a=wm(),s=[wm(),xm(),km(),Em()].length;return(n=o,i=a,r=xu(Array(s),null),function(t,e,n,i,r){return nm.call(r,new sg(t,e),e,n,i),r}(n,this,i,r,Object.create(nm.prototype))).encodeSerializableValue_3(t,e),o.toString()}finally{o.release()}},ld.prototype.decodeFromString_2=function(t,e){var n=new Og(e),i=new tm(this,wm(),n).decodeSerializableValue_18(t);return n.expectEof(),i},ld.prototype.decodeFromJsonElement_1=function(t,e){return function(t,e,n){var i,r=e;return r instanceof vd?i=cm(t,e,null,null,12):r instanceof Td?i=new dm(t,e):r instanceof Id||Du(r,Cd())?i=new gm(t,e instanceof wd?e:Hu()):Gu(),i.decodeSerializableValue_18(n)}(this,e,t)},ld.$metadata$={simpleName:"Json",kind:"class",interfaces:[Vc]},cd.prototype.build_8=function(){if(this._useArrayPolymorphism&&"type"!==this._classDiscriminator)throw ec(Fu("Class discriminator should not be specified when array polymorphism is specified"));if(this._prettyPrint){if("    "!==this._prettyPrintIndent){var t;t:do{for(var e=this._prettyPrintIndent,n=0,i=e.length;n<i;){var r=Au(e,n);if(n=n+1|0,!(r.equals(new au(32))||r.equals(new au(9))||r.equals(new au(13))||r.equals(new au(10)))){t=!1;break t}}t=!0}while(0);if(!t)throw ec(Fu("Only whitespace, tab, newline and carriage return are allowed as pretty print symbols. Had "+this._prettyPrintIndent))}}else if("    "!==this._prettyPrintIndent)throw ec(Fu("Indent should not be specified when default printing mode is used"));return new pd(this._encodeDefaults,this._ignoreUnknownKeys,this._isLenient,this._allowStructuredMapKeys,this._prettyPrint,this._prettyPrintIndent,this._coerceInputValues,this._useArrayPolymorphism,this._classDiscriminator,this._allowSpecialFloatingPointValues,this._useAlternativeNames)},cd.$metadata$={simpleName:"JsonBuilder",kind:"class",interfaces:[]},hd.$metadata$={simpleName:"JsonImpl",kind:"class",interfaces:[]},pd.prototype.toString=function(){return"JsonConfiguration(encodeDefaults="+this._encodeDefaults_0+", ignoreUnknownKeys="+this._ignoreUnknownKeys_0+", isLenient="+this._isLenient_0+", allowStructuredMapKeys="+this._allowStructuredMapKeys_0+", prettyPrint="+this._prettyPrint_0+", prettyPrintIndent='"+this._prettyPrintIndent_0+"', coerceInputValues="+this._coerceInputValues_0+", useArrayPolymorphism="+this._useArrayPolymorphism_0+", classDiscriminator='"+this._classDiscriminator_0+"', allowSpecialFloatingPointValues="+this._allowSpecialFloatingPointValues_0+")"},pd.$metadata$={simpleName:"JsonConfiguration",kind:"class",interfaces:[]},fd.prototype._get_descriptor__66=function(){return this._descriptor_26},fd.prototype.serialize_107=function(t,e){var n,i=t._get_serializersModule__18().getPolymorphic_1(this._baseClass_0,e),r=null==i?Jc(Vs(e)):i;null==r?function(t,e,n){var i=e._get_simpleName__4();throw Zc("Class '"+(null==i?""+e:i)+"' is not registered for polymorphic serialization in the scope of '"+n._get_simpleName__4()+"'.\nMark the base class as 'sealed' or register the serializer explicitly.")}(0,Vs(e),this._baseClass_0):n=r;var o=n;(Cl(o,Mc)?o:Hu()).serialize_107(t,e)},fd.prototype.deserialize_70=function(t){var e=ng(t),n=e.decodeJsonElement_5(),i=this.selectDeserializer_0(n),r=Cl(i,Mc)?i:Hu();return e._get_json__9().decodeFromJsonElement_1(r,n)},fd.$metadata$={simpleName:"JsonContentPolymorphicSerializer",kind:"class",interfaces:[Mc]},dd.$metadata$={simpleName:"JsonDecoder",kind:"interface",interfaces:[ip,ap]},gd.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},md.$metadata$={simpleName:"JsonElement",kind:"class",interfaces:[],associatedObjects:{0:qd}},_d.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},yd.prototype.invoke_87=function(t){var e=t._get_key__3(),n=t._get_value__15(),i=Hs();return om(i,e),i.append_1(new au(58)),Mo(),i.append_4(n),Mo(),i.toString()},yd.prototype.invoke_103=function(t){return this.invoke_87(null!=t&&Cl(t,uu)?t:Hu())},yd.$metadata$={kind:"class",interfaces:[]},vd.prototype.containsKey_7=function(t){return this._content.containsKey_8(t)},vd.prototype.containsKey_8=function(t){return null!=t&&"string"==typeof t&&this.containsKey_7(null!=t&&"string"==typeof t?t:Hu())},vd.prototype.get_16=function(t){return this._content.get_17(t)},vd.prototype.get_17=function(t){return null==t||"string"!=typeof t?null:this.get_16(null!=t&&"string"==typeof t?t:Hu())},vd.prototype.isEmpty_29=function(){return this._content.isEmpty_29()},vd.prototype._get_entries__5=function(){return this._content._get_entries__5()},vd.prototype._get_keys__5=function(){return this._content._get_keys__5()},vd.prototype._get_size__29=function(){return this._content._get_size__29()},vd.prototype.equals=function(t){return Du(this._content,t)},vd.prototype.hashCode=function(){return zu(this._content)},vd.prototype.toString=function(){var t;return c(this._content._get_entries__5(),",","{","}",0,null,(t=new yd,function(e){return t.invoke_87(e)}),24)},vd.$metadata$={simpleName:"JsonObject",kind:"class",interfaces:[lu],associatedObjects:{0:Rd}},bd.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},wd.prototype.toString=function(){return this._get_content__1()},wd.$metadata$={simpleName:"JsonPrimitive",kind:"class",interfaces:[],associatedObjects:{0:Hd}},Sd.prototype._get_content__1=function(){return this._content_0},Sd.$metadata$={simpleName:"JsonNull",kind:"object",interfaces:[]},Id.prototype._get_content__1=function(){return this._content_1},Id.prototype.toString=function(){var t;if(this._isString){var e=Hs();om(e,this._content_1),t=e.toString()}else t=this._content_1;return t},Id.prototype.equals=function(t){return this===t||!(null==t||!Vs(this).equals(Vs(t)))&&(t instanceof Id||Hu(),Mo(),this._isString===t._isString&&this._content_1===t._content_1)},Id.prototype.hashCode=function(){return ml(31,0|this._isString)+Bu(this._content_1)|0},Id.$metadata$={simpleName:"JsonLiteral",kind:"class",interfaces:[]},Pd.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},Td.prototype.contains_26=function(t){return this._content_2.contains_27(t)},Td.prototype.contains_27=function(t){return t instanceof md&&this.contains_26(t instanceof md?t:Hu())},Td.prototype.containsAll_21=function(t){return this._content_2.containsAll_22(t)},Td.prototype.containsAll_22=function(t){return this.containsAll_21(t)},Td.prototype.get_29=function(t){return this._content_2.get_29(t)},Td.prototype.indexOf_5=function(t){return this._content_2.indexOf_6(t)},Td.prototype.indexOf_6=function(t){return t instanceof md?this.indexOf_5(t instanceof md?t:Hu()):-1},Td.prototype.isEmpty_29=function(){return this._content_2.isEmpty_29()},Td.prototype.iterator_39=function(){return this._content_2.iterator_39()},Td.prototype.listIterator_4=function(t){return this._content_2.listIterator_4(t)},Td.prototype.subList_4=function(t,e){return this._content_2.subList_4(t,e)},Td.prototype._get_size__29=function(){return this._content_2._get_size__29()},Td.prototype.equals=function(t){return Du(this._content_2,t)},Td.prototype.hashCode=function(){return zu(this._content_2)},Td.prototype.toString=function(){return c(this._content_2,",","[","]",0,null,null,56)},Td.$metadata$={simpleName:"JsonArray",kind:"class",interfaces:[cu],associatedObjects:{0:eg}},Md.prototype.getElementAnnotations_17=function(t){return this._$$delegate_0_0.getElementAnnotations_17(t)},Md.prototype.getElementDescriptor_17=function(t){return this._$$delegate_0_0.getElementDescriptor_17(t)},Md.prototype.getElementIndex_17=function(t){return this._$$delegate_0_0.getElementIndex_17(t)},Md.prototype.getElementName_17=function(t){return this._$$delegate_0_0.getElementName_17(t)},Md.prototype._get_elementsCount__17=function(){return this._$$delegate_0_0._get_elementsCount__17()},Md.prototype._get_isInline__17=function(){return this._$$delegate_0_0._get_isInline__17()},Md.prototype._get_isNullable__17=function(){return this._$$delegate_0_0._get_isNullable__17()},Md.prototype._get_kind__17=function(){return this._$$delegate_0_0._get_kind__17()},Md.prototype._get_serialName__17=function(){return this._serialName_7},Md.$metadata$={simpleName:"JsonObjectDescriptor",kind:"object",interfaces:[dh]},Nd.prototype._get_descriptor__66=function(){return this._descriptor_27},Nd.prototype.serialize_65=function(t,e){Zd(t),hh(eh(Yo()),qd()).serialize_107(t,e)},Nd.prototype.serialize_107=function(t,e){return this.serialize_65(t,e instanceof vd?e:Hu())},Nd.prototype.deserialize_70=function(t){return Xd(t),new vd(hh(eh(Yo()),qd()).deserialize_70(t))},Nd.$metadata$={simpleName:"JsonObjectSerializer",kind:"object",interfaces:[Mc]},Dd.prototype.invoke_97=function(){return Hd()._descriptor_29},Dd.$metadata$={kind:"class",interfaces:[]},zd.prototype.invoke_97=function(){return Yd()._descriptor_30},zd.$metadata$={kind:"class",interfaces:[]},Fd.prototype.invoke_97=function(){return Jd()._descriptor_31},Fd.$metadata$={kind:"class",interfaces:[]},Bd.prototype.invoke_97=function(){return Rd()._descriptor_27},Bd.$metadata$={kind:"class",interfaces:[]},jd.prototype.invoke_97=function(){return eg()._descriptor_32},jd.$metadata$={kind:"class",interfaces:[]},Vd.prototype.invoke_94=function(t){var e,n=Kd((e=new Dd,function(){return e.invoke_97()}));t.element$default("JsonPrimitive",n,null,!1,12,null);var i=Kd(function(){var t=new zd;return function(){return t.invoke_97()}}());t.element$default("JsonNull",i,null,!1,12,null);var r=Kd(function(){var t=new Fd;return function(){return t.invoke_97()}}());t.element$default("JsonLiteral",r,null,!1,12,null);var o=Kd(function(){var t=new Bd;return function(){return t.invoke_97()}}());t.element$default("JsonObject",o,null,!1,12,null);var a=Kd(function(){var t=new jd;return function(){return t.invoke_97()}}());t.element$default("JsonArray",a,null,!1,12,null)},Vd.prototype.invoke_103=function(t){return this.invoke_94(t instanceof yh?t:Hu()),Mo()},Vd.$metadata$={kind:"class",interfaces:[]},Ud.prototype._get_descriptor__66=function(){return this._descriptor_28},Ud.prototype.serialize_67=function(t,e){Zd(t);var n=e;n instanceof wd?t.encodeSerializableValue_3(Hd(),e):n instanceof vd?t.encodeSerializableValue_3(Rd(),e):n instanceof Td&&t.encodeSerializableValue_3(eg(),e)},Ud.prototype.serialize_107=function(t,e){return this.serialize_67(t,e instanceof md?e:Hu())},Ud.prototype.deserialize_70=function(t){return ng(t).decodeJsonElement_5()},Ud.$metadata$={simpleName:"JsonElementSerializer",kind:"object",interfaces:[Mc]},Gd.prototype._get_descriptor__66=function(){return this._descriptor_29},Gd.prototype.serialize_69=function(t,e){var n;if(Zd(t),e instanceof Sd)n=t.encodeSerializableValue_3(Yd(),Cd());else{var i=Jd();n=t.encodeSerializableValue_3(i,e instanceof Id?e:Hu())}return n},Gd.prototype.serialize_107=function(t,e){return this.serialize_69(t,e instanceof wd?e:Hu())},Gd.prototype.deserialize_70=function(t){var e=ng(t).decodeJsonElement_5();if(!(e instanceof wd))throw cg(-1,"Unexpected JSON element, expected JsonPrimitive, had "+Vs(e),Fu(e));return e},Gd.$metadata$={simpleName:"JsonPrimitiveSerializer",kind:"object",interfaces:[Mc]},Wd.prototype._get_descriptor__66=function(){return this._descriptor_30},Wd.prototype.serialize_71=function(t,e){Zd(t),t.encodeNull_3()},Wd.prototype.serialize_107=function(t,e){return this.serialize_71(t,e instanceof Sd?e:Hu())},Wd.prototype.deserialize_70=function(t){if(Xd(t),t.decodeNotNullMark_9())throw new lg("Expected 'null' literal");return t.decodeNull_9(),Mo(),Cd()},Wd.$metadata$={simpleName:"JsonNullSerializer",kind:"object",interfaces:[Mc]},$d.prototype._get_descriptor__66=function(){return this._descriptor_31},$d.prototype.serialize_73=function(t,e){if(Zd(t),e._isString)return t.encodeString_3(e._content_1);var n=xr(e._get_content__1());if(null!=n)return t.encodeLong_3(n);Mo();var i=oo(e._content_1);if(null!=(null==i?null:new Qr(i))){var r=t.encodeInline_3(ch(Kr())._get_descriptor__66());return null==r||(r.encodeLong_3(i),Mo()),Mo(),Mo()}Mo();var o=function(t){var e=+t;return Ja(e)&&!Qs(t)||0===e&&tu(t)?null:e}(e._get_content__1());if(null!=o)return t.encodeDouble_3(o);Mo();var a=Od(e);if(null!=a)return t.encodeBoolean_3(a);Mo(),t.encodeString_3(e._content_1)},$d.prototype.serialize_107=function(t,e){return this.serialize_73(t,e instanceof Id?e:Hu())},$d.prototype.deserialize_70=function(t){var e=ng(t).decodeJsonElement_5();if(!(e instanceof Id))throw cg(-1,"Unexpected JSON element, expected JsonLiteral, had "+Vs(e),Fu(e));return e},$d.$metadata$={simpleName:"JsonLiteralSerializer",kind:"object",interfaces:[Mc]},Qd.prototype.getElementAnnotations_17=function(t){return this._$$delegate_0_1.getElementAnnotations_17(t)},Qd.prototype.getElementDescriptor_17=function(t){return this._$$delegate_0_1.getElementDescriptor_17(t)},Qd.prototype.getElementIndex_17=function(t){return this._$$delegate_0_1.getElementIndex_17(t)},Qd.prototype.getElementName_17=function(t){return this._$$delegate_0_1.getElementName_17(t)},Qd.prototype._get_elementsCount__17=function(){return this._$$delegate_0_1._get_elementsCount__17()},Qd.prototype._get_isInline__17=function(){return this._$$delegate_0_1._get_isInline__17()},Qd.prototype._get_isNullable__17=function(){return this._$$delegate_0_1._get_isNullable__17()},Qd.prototype._get_kind__17=function(){return this._$$delegate_0_1._get_kind__17()},Qd.prototype._get_serialName__17=function(){return this._serialName_8},Qd.$metadata$={simpleName:"JsonArrayDescriptor",kind:"object",interfaces:[dh]},tg.prototype._get_descriptor__66=function(){return this._descriptor_32},tg.prototype.serialize_75=function(t,e){Zd(t),ph(qd()).serialize_107(t,e)},tg.prototype.serialize_107=function(t,e){return this.serialize_75(t,e instanceof Td?e:Hu())},tg.prototype.deserialize_70=function(t){return Xd(t),new Td(ph(qd()).deserialize_70(t))},tg.$metadata$={simpleName:"JsonArraySerializer",kind:"object",interfaces:[Mc]},rg.prototype._get_serialName__17=function(){return ig(this)._get_serialName__17()},rg.prototype._get_kind__17=function(){return ig(this)._get_kind__17()},rg.prototype._get_elementsCount__17=function(){return ig(this)._get_elementsCount__17()},rg.prototype.getElementName_17=function(t){return ig(this).getElementName_17(t)},rg.prototype.getElementIndex_17=function(t){return ig(this).getElementIndex_17(t)},rg.prototype.getElementAnnotations_17=function(t){return ig(this).getElementAnnotations_17(t)},rg.prototype.getElementDescriptor_17=function(t){return ig(this).getElementDescriptor_17(t)},rg.$metadata$={kind:"class",interfaces:[dh]},og.$metadata$={simpleName:"JsonEncoder",kind:"interface",interfaces:[sp,up]},ag.$metadata$={simpleName:"JsonNames",kind:"class",interfaces:[go]},sg.prototype.indent_0=function(){this._writingFirst=!0,this._level=this._level+1|0,Mo()},sg.prototype.unIndent_0=function(){this._level=this._level-1|0,Mo()},sg.prototype.nextItem_0=function(){if(this._writingFirst=!1,this._json._configuration._prettyPrint_0){this.print_13("\n");var t=this._level,e=0;if(e<t)do{e=e+1|0,this.print_13(this._json._configuration._prettyPrintIndent_0)}while(e<t)}},sg.prototype.space_0=function(){this._json._configuration._prettyPrint_0&&this.print_12(new au(32))},sg.prototype.print_12=function(t){return this._sb.append_15(t)},sg.prototype.print_13=function(t){return this._sb.append_16(t)},sg.prototype.print_14=function(t){return this._sb.append_16(t.toString())},sg.prototype.print_15=function(t){return this._sb.append_16(t.toString())},sg.prototype.print_10=function(t){return this._sb.append_14(wl(t))},sg.prototype.print_11=function(t){return this._sb.append_14(wl(t))},sg.prototype.print_8=function(t){return this._sb.append_14(wl(t))},sg.prototype.print_9=function(t){return this._sb.append_14(t)},sg.prototype.print_16=function(t){return this._sb.append_16(t.toString())},sg.prototype.printQuoted_0=function(t){return this._sb.appendQuoted(t)},sg.$metadata$={simpleName:"Composer",kind:"class",interfaces:[]},ug.prototype.print_8=function(t){return sg.prototype.print_13.call(this,Yr(t))},ug.prototype.print_9=function(t){return sg.prototype.print_13.call(this,Jr(t))},ug.prototype.print_10=function(t){return sg.prototype.print_13.call(this,Ur(t))},ug.prototype.print_11=function(t){return sg.prototype.print_13.call(this,io(t))},ug.$metadata$={simpleName:"ComposerForUnsignedNumbers",kind:"class",interfaces:[]},lg.$metadata$={simpleName:"JsonDecodingException",kind:"class",interfaces:[]},hg.$metadata$={simpleName:"JsonEncodingException",kind:"class",interfaces:[]},_g.$metadata$={simpleName:"JsonException",kind:"class",interfaces:[]},Og.prototype.expectEof=function(){if(10!==this.consumeNextToken_1()){var t="Expected EOF, but had "+Au(this._source,this._currentPosition-1|0)+" instead";this.fail$default(t,0,2,null)}},Og.prototype.tryConsumeComma=function(){var t=Eg(this);return t!==this._source.length&&!!Au(this._source,t).equals(new au(44))&&(this._currentPosition=this._currentPosition+1|0,Mo(),!0)},Og.prototype.canConsumeValue=function(){for(var t=this._currentPosition;t<this._source.length;){var e=Au(this._source,t);if(!(e.equals(new au(32))||e.equals(new au(10))||e.equals(new au(13))||e.equals(new au(9))))return this._currentPosition=t,wg(0,e);t=t+1|0,Mo()}return this._currentPosition=t,!1},Og.prototype.consumeNextToken=function(t){var e=this.consumeNextToken_1();return e!==t&&kg(this,t),e},Og.prototype.consumeNextToken_0=function(t){for(var e=this._source;this._currentPosition<e.length;){var n=this._currentPosition;this._currentPosition=n+1|0;var i=Au(e,n);if(!(i.equals(new au(32))||i.equals(new au(10))||i.equals(new au(13))||i.equals(new au(9)))){if(i.equals(t))return Mo();xg(this,t)}}xg(this,t)},Og.prototype.peekNextToken=function(){for(var t=this._source;this._currentPosition<t.length;){var e=Au(t,this._currentPosition);if(!(e.equals(new au(32))||e.equals(new au(10))||e.equals(new au(13))||e.equals(new au(9))))return Lg(e);this._currentPosition=this._currentPosition+1|0,Mo()}return 10},Og.prototype.consumeNextToken_1=function(){for(var t=this._source;this._currentPosition<t.length;){var e=this._currentPosition;this._currentPosition=e+1|0;var n=Lg(Au(t,e));if(3!==n)return n}return 10},Og.prototype.tryConsumeNotNull=function(){var t=Eg(this);if((this._source.length-t|0)<4)return!0;var e=0;if(e<=3)do{var n=e;if(e=e+1|0,!Au("null",n).equals(Au(this._source,t+n|0)))return!0}while(e<=3);return this._currentPosition=t+4|0,!1},Og.prototype.peekString=function(t){var e,n=this.peekNextToken();if(t){if(1!==n&&0!==n)return null;e=this.consumeStringLenient()}else{if(1!==n)return null;e=this.consumeString()}var i=e;return this._peekedString=i,i},Og.prototype.consumeKeyString=function(){this.consumeNextToken_0(new au(34));var t=this._currentPosition,e=new au(34),n=function(t,e,n,i){var r,o;if("string"!=typeof t)r=function(t,e,n,i){if(1===e.length&&"string"==typeof t){var r=t,o=function(t){var e;switch(t.length){case 0:throw sc("Array is empty.");case 1:e=t[0];break;default:throw ec("Array has more than one element.")}return e}(e).toString();return r.indexOf(o,n)}var a=w(n,0),s=Er(t);if(a<=s)do{var u=a;a=a+1|0;var l,c=Au(t,u);t:do{for(var h=e,p=0,f=h.length;p<f;){var d=h[p];if(p=p+1|0,gr(d,c,!1)){l=!0;break t}}l=!1}while(0);if(l)return u}while(u!==s);return-1}(t,((o=[e].slice()).$type$="CharArray",o),n);else{var a=t,s=e.toString();r=a.indexOf(s,n)}return r}(this._source,e,t);-1===n&&kg(this,1);var i=t;if(i<n)do{var r=i;if(i=i+1|0,Au(this._source,r).equals(new au(92)))return Sg(this,this._currentPosition,r)}while(i<n);return this._currentPosition=n+1|0,this._source.substring(t,n)},Og.prototype.consumeString=function(){return null!=this._peekedString?Ig(this):this.consumeKeyString()},Og.prototype.consumeStringLenient=function(){if(null!=this._peekedString)return Ig(this);var t=Eg(this);t>=this._source.length&&this.fail("EOF",t);var e=Lg(Au(this._source,t));if(1===e)return this.consumeString();if(0!==e){var n="Expected beginning of the string, but got "+Au(this._source,t);this.fail$default(n,0,2,null)}for(;t<this._source.length&&0===Lg(Au(this._source,t));)t=t+1|0,Mo();var i=this._source.substring(this._currentPosition,t);return this._currentPosition=t,i},Og.prototype.skipElement=function(t){var e=fa(),n=this.peekNextToken();if(8!==n&&6!==n)return this.consumeStringLenient(),Mo(),Mo();for(;;)if(1!==(n=this.peekNextToken())){var i=n;if(8===i||6===i)e.add_18(n),Mo();else if(9===i){if(8!==h(e))throw cg(this._currentPosition,"found ] instead of }",this._source);Ji(e),Mo()}else if(7===i){if(6!==h(e))throw cg(this._currentPosition,"found } instead of ]",this._source);Ji(e),Mo()}else 10===i&&this.fail$default("Unexpected end of input due to malformed JSON during ignoring unknown keys",0,2,null);if(this.consumeNextToken_1(),Mo(),0===e._get_size__29())return Mo()}else t?(this.consumeStringLenient(),Mo()):(this.consumeKeyString(),Mo())},Og.prototype.toString=function(){return"JsonReader(source='"+this._source+"', currentPosition="+this._currentPosition+")"},Og.prototype.failOnUnknownKey=function(t){var e=function(t,e,n,i,r,o){return function(t,e,n,i){return i||"string"!=typeof t?Sr(t,e,n,0,i,!0):t.lastIndexOf(e,n)}(t,e,Er(t),!1)}(this._source.substring(0,this._currentPosition),t);this.fail("Encountered an unknown key '"+t+"'.\nUse 'ignoreUnknownKeys = true' in 'Json {}' builder to ignore unknown keys.",e)},Og.prototype.fail=function(t,e){throw cg(e,t,this._source)},Og.prototype.fail$default=function(t,e,n,i){return 0!=(2&n)&&(e=this._currentPosition),this.fail(t,e)},Og.prototype.consumeNumericLiteral=function(){var t,e=Eg(this);e===this._source.length&&this.fail$default("EOF",0,2,null),Au(this._source,e).equals(new au(34))?((e=e+1|0)===this._source.length&&this.fail$default("EOF",0,2,null),t=!0):t=!1;var n,i=t,r=new Ju(0,0),o=!1,a=e,s=!0;t:for(;s;){var u=Au(this._source,e);if(u.equals(new au(45)))e!==a&&this.fail$default("Unexpected symbol '-' in numeric literal",0,2,null),o=!0,e=e+1|0,Mo();else{if(0!==Lg(u))break t;e=e+1|0,Mo(),s=!(e===this._source.length);var l=u.minus(new au(48));0<=l&&l<=9||this.fail$default("Unexpected symbol '"+u+"' in numeric literal",0,2,null),(r=r.times_27(wl(10)).minus_28(wl(l))).compareTo_48(new Ju(0,0))>0&&this.fail$default("Numeric value overflow",0,2,null)}}if((a===e||o&&a===(e-1|0))&&this.fail$default("Expected numeric literal",0,2,null),i&&(s||this.fail$default("EOF",0,2,null),Au(this._source,e).equals(new au(34))||this.fail$default("Expected closing quotation mark",0,2,null),e=e+1|0,Mo()),this._currentPosition=e,o)n=r;else{var c=r;$u(),c.equals(new Ju(0,-2147483648))?this.fail$default("Numeric value overflow",0,2,null):n=r.unaryMinus_4()}return n},Og.prototype.consumeBoolean=function(){return Pg(this,Eg(this))},Og.prototype.consumeBooleanLenient=function(){var t,e=Eg(this);e===this._source.length&&this.fail$default("EOF",0,2,null),Au(this._source,e).equals(new au(34))?(e=e+1|0,Mo(),t=!0):t=!1;var n=t,i=Pg(this,e);return n&&(this._currentPosition===this._source.length&&this.fail$default("EOF",0,2,null),Au(this._source,this._currentPosition).equals(new au(34))||this.fail$default("Expected closing quotation mark",0,2,null),this._currentPosition=this._currentPosition+1|0,Mo()),i},Og.$metadata$={simpleName:"JsonLexer",kind:"class",interfaces:[]},zg.$metadata$={simpleName:"CharMappings",kind:"object",interfaces:[]},qg.prototype.invoke_97=function(){return Vg(this._$boundThis)},qg.prototype._get_name__1=function(){return"buildAlternativeNamesMap"},qg.$metadata$={kind:"class",interfaces:[]},Hg.prototype.read=function(){var t,e=this._lexer.peekNextToken();return 1===e?t=Gg(this,!0):0===e?t=Gg(this,!1):6===e?t=function(t){var e=t._lexer.consumeNextToken(6);4===t._lexer.peekNextToken()&&t._lexer.fail$default("Unexpected leading comma",0,2,null);for(var n=qa();t._lexer.canConsumeValue();){var i=t._isLenient_1?t._lexer.consumeStringLenient():t._lexer.consumeString();t._lexer.consumeNextToken(5),Mo();var r=t.read();n.put_4(i,r),Mo(),4!==(e=t._lexer.consumeNextToken_1())&&7!==e&&t._lexer.fail$default("Expected end of the object or comma",0,2,null)}return 6===e?(t._lexer.consumeNextToken(7),Mo()):4===e&&t._lexer.fail$default("Unexpected trailing comma",0,2,null),new vd(n)}(this):8===e?t=function(t){var e=t._lexer.consumeNextToken_1();4===t._lexer.peekNextToken()&&t._lexer.fail$default("Unexpected leading comma",0,2,null);for(var n=fa();t._lexer.canConsumeValue();){var i=t.read();if(n.add_18(i),Mo(),4!==(e=t._lexer.consumeNextToken_1())){var r=t._lexer;9===e||r.fail("Expected end of the array or comma",r._currentPosition)}}return 8===e?(t._lexer.consumeNextToken(9),Mo()):4===e&&t._lexer.fail$default("Unexpected trailing comma",0,2,null),new Td(n)}(this):this._lexer.fail$default("Can't begin reading element, unexpected token",0,2,null),t},Hg.$metadata$={simpleName:"JsonTreeReader",kind:"class",interfaces:[]},Zg.prototype.contextual_1=function(t,e){},Zg.prototype.polymorphic_0=function(t,e,n){var i=n._get_descriptor__66();!function(t,e,n){var i=e._get_kind__17();if(i instanceof tp||Du(i,Ph()))throw ec("Serializer for "+n._get_simpleName__4()+" can't be registered as a subclass for polymorphic serialization because its kind "+i+" is not concrete. To work with multiple hierarchies, register it as a base class.");if(t._useArrayPolymorphism_1)return Mo();if(Du(i,Hh())||Du(i,Yh())||i instanceof Vh||i instanceof Ch)throw ec("Serializer for "+n._get_simpleName__4()+" of kind "+i+" cannot be serialized polymorphically with class discriminator.")}(this,i,e),this._useArrayPolymorphism_1||function(t,e,n){var i=0,r=e._get_elementsCount__17();if(i<r)do{var o=i;i=i+1|0;var a=e.getElementName_17(o);if(a===t._discriminator)throw ec("Polymorphic serializer for "+n+" has property '"+a+"' that conflicts with JSON class discriminator. You can either change class discriminator in JsonConfiguration, rename property with @SerialName annotation or fall back to array polymorphism")}while(i<r)}(this,i,e)},Zg.prototype.polymorphicDefault_0=function(t,e){},Zg.$metadata$={simpleName:"PolymorphismValidator",kind:"class",interfaces:[id]},Xg.$metadata$={simpleName:"Key",kind:"class",interfaces:[]},Kg.prototype.set_3=function(t,e,n){var i,r=this._map_1,o=r.get_17(t);if(null==o){var a=Fm(1);r.put_4(t,a),Mo(),i=a}else i=o;var s=i,u=e instanceof Xg?e:Hu(),l=Pl(n)?n:Hu();s.put_4(u,l),Mo()},Kg.prototype.getOrPut=function(t,e,n){var i=this.get_19(t,e);if(null!=i)return i;Mo();var r=n();return this.set_3(t,e,r),r},Kg.prototype.get_19=function(t,e){var n=this._map_1.get_17(t),i=null==n?null:n.get_17(e instanceof Xg?e:Hu());return Pl(i)?i:null},Kg.$metadata$={simpleName:"DescriptorSchemaCache",kind:"class",interfaces:[]},tm.prototype._get_json__9=function(){return this._json_0},tm.prototype._get_serializersModule__18=function(){return this._serializersModule_1},tm.prototype.decodeJsonElement_5=function(){return new Hg(this._json_0._configuration,this._lexer_0).read()},tm.prototype.decodeSerializableValue_18=function(t){return Wg(this,t)},tm.prototype.beginStructure_14=function(t){var e,n=vm(this._json_0,t);this._lexer_0.consumeNextToken_0(n._begin),4===(e=this)._lexer_0.peekNextToken()&&e._lexer_0.fail$default("Unexpected leading comma",0,2,null);var i=n;return i.equals(xm())||i.equals(km())||i.equals(Em())?new tm(this._json_0,n,this._lexer_0):this._mode.equals(n)?this:new tm(this._json_0,n,this._lexer_0)},tm.prototype.endStructure_14=function(t){this._lexer_0.consumeNextToken_0(this._mode._end)},tm.prototype.decodeNotNullMark_9=function(){return this._lexer_0.tryConsumeNotNull()},tm.prototype.decodeNull_9=function(){return null},tm.prototype.decodeElementIndex_9=function(t){var e=this._mode;return e.equals(wm())?function(t,e){for(var n=t._lexer_0.tryConsumeComma();t._lexer_0.canConsumeValue();){n=!1;var i=Qg(t);t._lexer_0.consumeNextToken_0(new au(58));var r,o=Bg(e,t._json_0,i);if(op(),-3!==o){if(!t._configuration_0._coerceInputValues_0||!$g(t,e,o))return o;n=t._lexer_0.tryConsumeComma(),r=!1}else r=!0;r&&(n=Jg(t,i))}return n&&t._lexer_0.fail$default("Unexpected trailing comma",0,2,null),op(),-1}(this,t):e.equals(km())?function(t){var e,n=!1,i=!(t._currentIndex%2==0);if(i?-1!==t._currentIndex&&(n=t._lexer_0.tryConsumeComma()):t._lexer_0.consumeNextToken_0(new au(58)),t._lexer_0.canConsumeValue()){if(i)if(-1===t._currentIndex){var r=t._lexer_0;!n||r.fail("Unexpected trailing comma",r._currentPosition)}else{var o=t._lexer_0;n||o.fail("Expected comma after the key-value pair",o._currentPosition)}var a=t;a._currentIndex=a._currentIndex+1|0,e=a._currentIndex}else n&&t._lexer_0.fail$default("Expected '}', but had ',' instead",0,2,null),op(),e=-1;return e}(this):function(t){var e,n=t._lexer_0.tryConsumeComma();if(t._lexer_0.canConsumeValue()){-1===t._currentIndex||n||t._lexer_0.fail$default("Expected end of the array or comma",0,2,null);var i=t;i._currentIndex=i._currentIndex+1|0,e=i._currentIndex}else n&&t._lexer_0.fail$default("Unexpected trailing comma",0,2,null),op(),e=-1;return e}(this)},tm.prototype.decodeBoolean_9=function(){return this._configuration_0._isLenient_0?this._lexer_0.consumeBooleanLenient():this._lexer_0.consumeBoolean()},tm.prototype.decodeByte_9=function(){var t=this._lexer_0.consumeNumericLiteral();return t.equals(wl(t.toByte_4()))||this._lexer_0.fail$default("Failed to parse byte for input '"+t+"'",0,2,null),t.toByte_4()},tm.prototype.decodeShort_9=function(){var t=this._lexer_0.consumeNumericLiteral();return t.equals(wl(t.toShort_4()))||this._lexer_0.fail$default("Failed to parse short for input '"+t+"'",0,2,null),t.toShort_4()},tm.prototype.decodeInt_9=function(){var t=this._lexer_0.consumeNumericLiteral();return t.equals(wl(t.toInt_5()))||this._lexer_0.fail$default("Failed to parse int for input '"+t+"'",0,2,null),t.toInt_5()},tm.prototype.decodeLong_9=function(){return this._lexer_0.consumeNumericLiteral()},tm.prototype.decodeFloat_9=function(){var t;t:do{var e=this._lexer_0,n=e.consumeStringLenient();try{t=Ks(n);break t}catch(t){if(!(t instanceof nc))throw t;e.fail$default("Failed to parse type 'float' for input '"+n+"'",0,2,null)}}while(0);var i=t;if(this._json_0._configuration._allowSpecialFloatingPointValues_0||Qa(i))return i;dg(this._lexer_0,i)},tm.prototype.decodeDouble_9=function(){var t;t:do{var e=this._lexer_0,n=e.consumeStringLenient();try{t=Ks(n);break t}catch(t){if(!(t instanceof nc))throw t;e.fail$default("Failed to parse type 'double' for input '"+n+"'",0,2,null)}}while(0);var i=t;if(this._json_0._configuration._allowSpecialFloatingPointValues_0||ts(i))return i;dg(this._lexer_0,i)},tm.prototype.decodeChar_9=function(){var t=this._lexer_0.consumeStringLenient();return 1!==t.length&&this._lexer_0.fail$default("Expected single char, but got '"+t+"'",0,2,null),Au(t,0)},tm.prototype.decodeString_9=function(){return this._configuration_0._isLenient_0?this._lexer_0.consumeStringLenient():this._lexer_0.consumeString()},tm.prototype.decodeInline_9=function(t){return im(t)?new em(this._lexer_0,this._json_0):ep.prototype.decodeInline_9.call(this,t)},tm.prototype.decodeEnum_9=function(t){return jg(t,this._json_0,this.decodeString_9())},tm.$metadata$={simpleName:"StreamingJsonDecoder",kind:"class",interfaces:[dd]},em.prototype._get_serializersModule__18=function(){return this._serializersModule_2},em.prototype.decodeElementIndex_9=function(t){throw lc(Fu("unsupported"))},em.prototype.decodeInt_9=function(){var t;t:do{var e=this._lexer_1,n=e.consumeStringLenient();try{t=ao(n);break t}catch(t){if(!(t instanceof nc))throw t;e.fail$default("Failed to parse type 'UInt' for input '"+n+"'",0,2,null)}}while(0);return t},em.prototype.decodeLong_9=function(){var t;t:do{var e=this._lexer_1,n=e.consumeStringLenient();try{t=so(n);break t}catch(t){if(!(t instanceof nc))throw t;e.fail$default("Failed to parse type 'ULong' for input '"+n+"'",0,2,null)}}while(0);return t},em.prototype.decodeByte_9=function(){var t;t:do{var e=this._lexer_1,n=e.consumeStringLenient();try{t=uo(n);break t}catch(t){if(!(t instanceof nc))throw t;e.fail$default("Failed to parse type 'UByte' for input '"+n+"'",0,2,null)}}while(0);return t},em.prototype.decodeShort_9=function(){var t;t:do{var e=this._lexer_1,n=e.consumeStringLenient();try{t=lo(n);break t}catch(t){if(!(t instanceof nc))throw t;e.fail$default("Failed to parse type 'UShort' for input '"+n+"'",0,2,null)}}while(0);return t},em.$metadata$={simpleName:"JsonDecoderForUnsignedTypes",kind:"class",interfaces:[]},nm.prototype._get_json__9=function(){return this._json_1},nm.prototype._get_serializersModule__18=function(){return this._serializersModule_3},nm.prototype.shouldEncodeElementDefault_3=function(t,e){return this._configuration_1._encodeDefaults_0},nm.prototype.encodeSerializableValue_3=function(t,e){t:do{if(!(t instanceof cp)||this._get_json__9()._configuration._useArrayPolymorphism_0){t.serialize_107(this,e),Mo();break t}var n=Yg(this,Cl(t,Rc)?t:Hu(),Pl(e)?e:Hu());this._writePolymorphic=!0,n.serialize_107(this,e)}while(0)},nm.prototype.beginStructure_14=function(t){var e=vm(this._json_1,t);if(e._begin.equals(new au(0))||(this._composer.print_12(e._begin),this._composer.indent_0()),this._writePolymorphic&&(this._writePolymorphic=!1,function(t,e){t._composer.nextItem_0(),t.encodeString_3(t._configuration_1._classDiscriminator_0),t._composer.print_12(new au(58)),t._composer.space_0(),t.encodeString_3(e._get_serialName__17())}(this,t)),this._mode_0.equals(e))return this;var n=this._modeReuseCache,i=null==n?null:n[e._get_ordinal__0()];return null==i?new nm(this._composer,this._json_1,e,this._modeReuseCache):i},nm.prototype.endStructure_14=function(t){this._mode_0._end.equals(new au(0))||(this._composer.unIndent_0(),this._composer.nextItem_0(),this._composer.print_12(this._mode_0._end))},nm.prototype.encodeElement_2=function(t,e){var n=this._mode_0;if(n.equals(xm()))this._composer._writingFirst||this._composer.print_12(new au(44)),this._composer.nextItem_0();else if(n.equals(km())){var i;this._composer._writingFirst?(this._forceQuoting=!0,this._composer.nextItem_0()):(e%2==0?(this._composer.print_12(new au(44)),this._composer.nextItem_0(),i=!0):(this._composer.print_12(new au(58)),this._composer.space_0(),i=!1),this._forceQuoting=i)}else n.equals(Em())?(0===e&&(this._forceQuoting=!0),1===e&&(this._composer.print_12(new au(44)),this._composer.space_0(),this._forceQuoting=!1)):(this._composer._writingFirst||this._composer.print_12(new au(44)),this._composer.nextItem_0(),this.encodeString_3(t.getElementName_17(e)),this._composer.print_12(new au(58)),this._composer.space_0());return!0},nm.prototype.encodeInline_3=function(t){return im(t)?new nm(new ug(this._composer._sb,this._json_1),this._json_1,this._mode_0,null):np.prototype.encodeInline_3.call(this,t)},nm.prototype.encodeNull_3=function(){this._composer.print_13("null")},nm.prototype.encodeBoolean_3=function(t){this._forceQuoting?this.encodeString_3(t.toString()):this._composer.print_16(t)},nm.prototype.encodeByte_3=function(t){this._forceQuoting?this.encodeString_3(t.toString()):this._composer.print_10(t)},nm.prototype.encodeShort_3=function(t){this._forceQuoting?this.encodeString_3(t.toString()):this._composer.print_11(t)},nm.prototype.encodeInt_3=function(t){this._forceQuoting?this.encodeString_3(t.toString()):this._composer.print_8(t)},nm.prototype.encodeLong_3=function(t){this._forceQuoting?this.encodeString_3(t.toString()):this._composer.print_9(t)},nm.prototype.encodeFloat_3=function(t){if(this._forceQuoting?this.encodeString_3(t.toString()):this._composer.print_14(t),!this._configuration_1._allowSpecialFloatingPointValues_0&&!Qa(t))throw pg(t,this._composer._sb.toString())},nm.prototype.encodeDouble_3=function(t){if(this._forceQuoting?this.encodeString_3(t.toString()):this._composer.print_15(t),!this._configuration_1._allowSpecialFloatingPointValues_0&&!ts(t))throw pg(t,this._composer._sb.toString())},nm.prototype.encodeChar_3=function(t){this.encodeString_3(t.toString())},nm.prototype.encodeString_3=function(t){return this._composer.printQuoted_0(t)},nm.prototype.encodeEnum_3=function(t,e){this.encodeString_3(t.getElementName_17(e))},nm.$metadata$={simpleName:"StreamingJsonEncoder",kind:"class",interfaces:[og]},um.prototype._get_json__9=function(){return this._json_2},um.prototype._get_value__15=function(){return this._value_2},um.prototype._get_serializersModule__18=function(){return this._get_json__9()._get_serializersModule__18()},um.prototype._get_configuration__3=function(){return this._configuration_2},um.prototype.decodeJsonElement_5=function(){return am(this)},um.prototype.decodeSerializableValue_18=function(t){return Wg(this,t)},um.prototype.composeName_4=function(t,e){return e},um.prototype.beginStructure_14=function(t){var e,n=am(this),i=t._get_kind__17();if(Du(i,Hh())||i instanceof tp){var r=this._get_json__9();if(!(n instanceof Td))throw yg(-1,"Expected "+Bs(Td)+" as the serialized body of "+t._get_serialName__17()+", but had "+Vs(n));e=new dm(r,n)}else if(Du(i,Yh())){var o,a=this._get_json__9(),s=bm(t.getElementDescriptor_17(0)),u=s._get_kind__17();if(u instanceof Vh||Du(u,Ih())){var l=this._get_json__9();if(!(n instanceof vd))throw yg(-1,"Expected "+Bs(vd)+" as the serialized body of "+t._get_serialName__17()+", but had "+Vs(n));o=new mm(l,n)}else{if(!a._configuration._allowStructuredMapKeys_0)throw fg(s);var c=this._get_json__9();if(!(n instanceof Td))throw yg(-1,"Expected "+Bs(Td)+" as the serialized body of "+t._get_serialName__17()+", but had "+Vs(n));o=new dm(c,n)}e=o}else{var h=this._get_json__9();if(!(n instanceof vd))throw yg(-1,"Expected "+Bs(vd)+" as the serialized body of "+t._get_serialName__17()+", but had "+Vs(n));e=cm(h,n,null,null,12)}return e},um.prototype.endStructure_14=function(t){},um.prototype.decodeNotNullMark_9=function(){return!(am(this)instanceof Sd)},um.prototype.getValue_3=function(t){var e=this.currentElement_3(t),n=e instanceof wd?e:null;if(null==n)throw cg(-1,"Expected JsonPrimitive at "+t+", found "+e,Fu(am(this)));return n},um.prototype.decodeTaggedEnum_6=function(t,e){return jg(e,this._get_json__9(),this.getValue_3(t)._get_content__1())},um.prototype.decodeTaggedEnum_2=function(t,e){return this.decodeTaggedEnum_6(null!=t&&"string"==typeof t?t:Hu(),e)},um.prototype.decodeTaggedNotNullMark_6=function(t){return!(this.currentElement_3(t)===Cd())},um.prototype.decodeTaggedNotNullMark_2=function(t){return this.decodeTaggedNotNullMark_6(null!=t&&"string"==typeof t?t:Hu())},um.prototype.decodeTaggedBoolean_6=function(t){var e,n=this.getValue_3(t);if(!this._get_json__9()._configuration._isLenient_0&&(n instanceof Id?n:Hu())._isString)throw cg(-1,"Boolean literal for key '"+t+"' should be unquoted.\nUse 'isLenient = true' in 'Json {}` builder to accept non-compliant JSON.",Fu(am(this)));t:do{var i="boolean";try{var r=Od(n);if(null==r)throw Ql();var o,a=r;null==a?sm(this,i):o=a,e=o;break t}catch(t){if(!(t instanceof nc))throw t;sm(this,i)}}while(0);return e},um.prototype.decodeTaggedBoolean_2=function(t){return this.decodeTaggedBoolean_6(null!=t&&"string"==typeof t?t:Hu())},um.prototype.decodeTaggedByte_6=function(t){var e;t:do{var n=this.getValue_3(t),i="byte";try{var r,o=Ld(n),a=zo()._MIN_VALUE_3,s=o<=zo()._MAX_VALUE_3&&a<=o?_l(o):null;null==s?sm(this,i):r=s,e=r;break t}catch(t){if(!(t instanceof nc))throw t;sm(this,i)}}while(0);return e},um.prototype.decodeTaggedByte_2=function(t){return this.decodeTaggedByte_6(null!=t&&"string"==typeof t?t:Hu())},um.prototype.decodeTaggedShort_6=function(t){var e;t:do{var n=this.getValue_3(t),i="short";try{var r,o=Ld(n),a=Bo()._MIN_VALUE_4,s=o<=Bo()._MAX_VALUE_4&&a<=o?vl(o):null;null==s?sm(this,i):r=s,e=r;break t}catch(t){if(!(t instanceof nc))throw t;sm(this,i)}}while(0);return e},um.prototype.decodeTaggedShort_2=function(t){return this.decodeTaggedShort_6(null!=t&&"string"==typeof t?t:Hu())},um.prototype.decodeTaggedInt_6=function(t){var e;t:do{var n=this.getValue_3(t);try{var i,r=Ld(n);null==r?sm(this,"int"):i=r,e=i;break t}catch(t){if(!(t instanceof nc))throw t;sm(this,"int")}}while(0);return e},um.prototype.decodeTaggedInt_2=function(t){return this.decodeTaggedInt_6(null!=t&&"string"==typeof t?t:Hu())},um.prototype.decodeTaggedLong_6=function(t){var e;t:do{var n=this.getValue_3(t),i="long";try{var r,o=function(t){var e,n=xr(t);return null==n?wr(t):e=n,e}(n._get_content__1());null==o?sm(this,i):r=o,e=r;break t}catch(t){if(!(t instanceof nc))throw t;sm(this,i)}}while(0);return e},um.prototype.decodeTaggedLong_2=function(t){return this.decodeTaggedLong_6(null!=t&&"string"==typeof t?t:Hu())},um.prototype.decodeTaggedFloat_6=function(t){var e;t:do{var n=this.getValue_3(t),i="float";try{var r,o=Ks(n._get_content__1());null==o?sm(this,i):r=o,e=r;break t}catch(t){if(!(t instanceof nc))throw t;sm(this,i)}}while(0);var a=e;if(this._get_json__9()._configuration._allowSpecialFloatingPointValues_0||Qa(a))return a;throw gg(a,t,Fu(am(this)))},um.prototype.decodeTaggedFloat_2=function(t){return this.decodeTaggedFloat_6(null!=t&&"string"==typeof t?t:Hu())},um.prototype.decodeTaggedDouble_6=function(t){var e;t:do{var n=this.getValue_3(t),i="double";try{var r,o=Ks(n._get_content__1());null==o?sm(this,i):r=o,e=r;break t}catch(t){if(!(t instanceof nc))throw t;sm(this,i)}}while(0);var a=e;if(this._get_json__9()._configuration._allowSpecialFloatingPointValues_0||ts(a))return a;throw gg(a,t,Fu(am(this)))},um.prototype.decodeTaggedDouble_2=function(t){return this.decodeTaggedDouble_6(null!=t&&"string"==typeof t?t:Hu())},um.prototype.decodeTaggedChar_6=function(t){var e;t:do{var n=this.getValue_3(t),i="char";try{var r,o=k(n._get_content__1());null==o?sm(this,i):r=o,e=r;break t}catch(t){if(!(t instanceof nc))throw t;sm(this,i)}}while(0);return e},um.prototype.decodeTaggedChar_2=function(t){return this.decodeTaggedChar_6(null!=t&&"string"==typeof t?t:Hu())},um.prototype.decodeTaggedString_6=function(t){var e=this.getValue_3(t);if(!this._get_json__9()._configuration._isLenient_0&&!(e instanceof Id?e:Hu())._isString)throw cg(-1,"String literal for key '"+t+"' should be quoted.\nUse 'isLenient = true' in 'Json {}` builder to accept non-compliant JSON.",Fu(am(this)));return e._get_content__1()},um.prototype.decodeTaggedString_2=function(t){return this.decodeTaggedString_6(null!=t&&"string"==typeof t?t:Hu())},um.prototype.decodeTaggedInline_6=function(t,e){return im(e)?new em(new Og(this.getValue_3(t)._get_content__1()),this._get_json__9()):Ff.prototype.decodeTaggedInline_2.call(this,t,e)},um.prototype.decodeTaggedInline_2=function(t,e){return this.decodeTaggedInline_6(null!=t&&"string"==typeof t?t:Hu(),e)},um.$metadata$={simpleName:"AbstractJsonTreeDecoder",kind:"class",interfaces:[dd]},pm.prototype.invoke_97=function(){return Vg(this._$boundThis_0)},pm.prototype._get_name__1=function(){return"buildAlternativeNamesMap"},pm.$metadata$={kind:"class",interfaces:[]},fm.prototype._get_value__15=function(){return this._value_3},fm.prototype.decodeElementIndex_9=function(t){for(;this._position_7<t._get_elementsCount__17();){var e=this._position_7;this._position_7=e+1|0;var n=this.getTag_5(t,e),i=this._get_value__15();if((Cl(i,lu)?i:Hu()).containsKey_8(n)&&(!this._get_configuration__3()._coerceInputValues_0||!hm(this,t,this._position_7-1|0,n)))return this._position_7-1|0}return op(),-1},fm.prototype.elementName_4=function(t,e){var n=t.getElementName_17(e);if(!this._get_configuration__3()._useAlternativeNames_0)return n;if(this._get_value__15()._get_keys__5().contains_27(n))return n;var i,r,o,a=this._get_json__9()._schemaCache.getOrPut(t,Ie,(i=new pm(t),(r=function(){return i.invoke_97()}).callableName=i._get_name__1(),r)),s=this._get_value__15()._get_keys__5();t:do{for(var u=s.iterator_39();u.hasNext_14();){var l=u.next_14();if(a.get_17(l)===e){o=l;break t}}o=null}while(0);return null==o?n:o},fm.prototype.currentElement_3=function(t){return Ki(this._get_value__15(),t)},fm.prototype.beginStructure_14=function(t){return t===this._polyDescriptor?this:um.prototype.beginStructure_14.call(this,t)},fm.prototype.endStructure_14=function(t){var e;if(this._get_configuration__3()._ignoreUnknownKeys_0||t._get_kind__17()instanceof tp)return Mo();if(this._get_configuration__3()._useAlternativeNames_0){var n=Up(t),i=this._get_json__9()._schemaCache.get_19(t,Ie),r=null==i?null:i._get_keys__5();e=function(t,e){var n=function(t){return Cl(t,mu)?t._get_size__29():null}(e),i=null==n?null:t._get_size__29()+n|0,r=Ya(null==i?ml(t._get_size__29(),2):i);return r.addAll_10(t),Mo(),$i(r,e),Mo(),r}(n,null==r?rr():r)}else e=Up(t);for(var o=e,a=this._get_value__15()._get_keys__5().iterator_39();a.hasNext_14();){var s=a.next_14();if(!o.contains_27(s)&&s!==this._polyDiscriminator)throw mg(s,this._get_value__15().toString())}},fm.$metadata$={simpleName:"JsonTreeDecoder",kind:"class",interfaces:[]},dm.prototype._get_value__15=function(){return this._value_4},dm.prototype.elementName_4=function(t,e){return e.toString()},dm.prototype.currentElement_3=function(t){return this._value_4.get_29($s(t))},dm.prototype.decodeElementIndex_9=function(t){for(;this._currentIndex_0<(this._size_0-1|0);)return this._currentIndex_0=this._currentIndex_0+1|0,Mo(),this._currentIndex_0;return op(),-1},dm.$metadata$={simpleName:"JsonTreeListDecoder",kind:"class",interfaces:[]},gm.prototype._get_value__15=function(){return this._value_5},gm.prototype.decodeElementIndex_9=function(t){return 0},gm.prototype.currentElement_3=function(t){if("primitive"!==t)throw ec(Fu("This input can only handle primitives with 'primitive' tag"));return this._value_5},gm.$metadata$={simpleName:"JsonPrimitiveDecoder",kind:"class",interfaces:[]},mm.prototype._get_value__15=function(){return this._value_6},mm.prototype.elementName_4=function(t,e){return this._keys_0.get_29(e/2|0)},mm.prototype.decodeElementIndex_9=function(t){for(;this._position_8<(this._size_1-1|0);)return this._position_8=this._position_8+1|0,Mo(),this._position_8;return op(),-1},mm.prototype.currentElement_3=function(t){return this._position_8%2==0?xd(t):Ki(this._value_6,t)},mm.prototype.endStructure_14=function(t){},mm.$metadata$={simpleName:"JsonTreeMapDecoder",kind:"class",interfaces:[]},ym.$metadata$={simpleName:"WriteMode",kind:"class",interfaces:[]},Sm.prototype._get_json__9=function(){return this._json_3},Sm.prototype._get_serializersModule__18=function(){return this._json_3._get_serializersModule__18()},Sm.prototype.encodeNull_3=function(){this._result=null},Sm.prototype.encodeLong_3=function(t){var e,n=t.toDouble_4();if(!this._json_3._configuration._isLenient_0&&(e=t,e.compareTo_48(new Ju(0,0))<0?e.unaryMinus_4():e).toDouble_4()>9007199254740991)throw ec(t+" can't be deserialized to number due to a potential precision loss. Use the JsonConfiguration option isLenient to serialise anyway");this.encodeValue_2(n)},Sm.prototype.encodeChar_3=function(t){this.encodeValue_2(t.toString())},Sm.prototype.encodeValue_2=function(t){this._result=t},Sm.prototype.encodeEnum_3=function(t,e){this.encodeValue_2(t.getElementName_17(e))},Sm.prototype.endStructure_14=function(t){},Sm.$metadata$={simpleName:"DynamicPrimitiveEncoder",kind:"class",interfaces:[og]},Am.$metadata$={simpleName:"NoOutputMark",kind:"object",interfaces:[]},Tm.prototype._get_parent_=function(){var t=this._parent;if(null!=t)return t;Wu("parent")},Tm.$metadata$={simpleName:"Node",kind:"class",interfaces:[]},Om.$metadata$={simpleName:"WriteMode",kind:"class",interfaces:[]},Dm.prototype._get_json__9=function(){return this._json_4},Dm.prototype._get_serializersModule__18=function(){return this._json_4._get_serializersModule__18()},Dm.prototype.encodeElement_2=function(t,e){var n;return Im(this)._index_3=e,this._currentDescriptor=t,Im(this)._writeMode.equals(Nm())?this._currentElementIsMapKey=Im(this)._index_3%2==0:(n=!!Im(this)._writeMode.equals(Rm())&&t._get_kind__17()instanceof tp,this._currentName=n?e.toString():t.getElementName_17(e)),!0},Dm.prototype.encodeValue_2=function(t){this._currentElementIsMapKey?this._currentName=Fu(t):this._result_0===Pm()?this._result_0=t:Im(this)._jsObject[this._currentName]=t},Dm.prototype.encodeChar_3=function(t){this.encodeValue_2(t.toString())},Dm.prototype.encodeNull_3=function(){if(this._currentElementIsMapKey)this._currentName=null;else{if(this._encodeNullAsUndefined)return Mo();Im(this)._jsObject[this._currentName]=null}},Dm.prototype.encodeEnum_3=function(t,e){this.encodeValue_2(t.getElementName_17(e))},Dm.prototype.encodeLong_3=function(t){var e=t.toDouble_4(),n=Math.abs(e)>9007199254740991;if(!this._json_4._configuration._isLenient_0&&n)throw ec(t+" can't be serialized to number due to a potential precision loss. Use the JsonConfiguration option isLenient to serialize anyway");if(this._currentElementIsMapKey&&n)throw ec("Long with value "+t+" can't be used in json as map key, because its value is larger than Number.MAX_SAFE_INTEGER");this.encodeValue_2(e)},Dm.prototype.encodeFloat_3=function(t){this.encodeDouble_3(t)},Dm.prototype.encodeDouble_3=function(t){if(this._currentElementIsMapKey){var e=!(Math.floor(t)===t);if(!ts(t)||e)throw ec("Double with value "+t+" can't be used in json as map key, because its value is not an integer.")}this.encodeValue_2(t)},Dm.prototype.shouldEncodeElementDefault_3=function(t,e){return this._json_4._configuration._encodeDefaults_0},Dm.prototype.encodeSerializableValue_3=function(t,e){t:do{if(!(t instanceof cp)||this._get_json__9()._configuration._useArrayPolymorphism_0){t.serialize_107(this,e),Mo();break t}var n=Yg(this,Cl(t,Rc)?t:Hu(),Pl(e)?e:Hu());this._writePolymorphic_0=!0,n.serialize_107(this,e)}while(0)},Dm.prototype.beginStructure_14=function(t){if(this._currentElementIsMapKey)throw ec("Value of type "+t._get_serialName__17()+" can't be used in json as map key. It should have either primitive or enum kind, but its kind is "+t._get_kind__17()+".");var e=this.selectMode(t);if(this._result_0===Pm())this._result_0=Lm(0,e),this._current=new Tm(e,this._result_0),Im(this)._parent=Im(this);else{var n=Lm(0,e);Im(this)._jsObject[this._currentName]=n,function(t,e,n){var i=new Tm(n,e);i._parent=Im(t),t._current=i}(this,n,e)}return this._writePolymorphic_0&&(this._writePolymorphic_0=!1,Im(this)._jsObject[this._json_4._configuration._classDiscriminator_0]=t._get_serialName__17()),Im(this)._index_3=0,this},Dm.prototype.endStructure_14=function(t){var e;(e=this)._current=Im(e)._get_parent_(),e._currentElementIsMapKey=!1},Dm.prototype.selectMode=function(t){var e,n=t._get_kind__17();if(Du(n,qh())||Du(n,Xh())||Du(n,Ph()))e=Mm();else if(Du(n,Hh())||n instanceof tp)e=Rm();else if(Du(n,Yh()))e=Nm();else{if(n instanceof Vh||Du(n,Ih()))throw lc(Fu("DynamicObjectSerializer does not support serialization of singular primitive values or enum types."));Gu()}return e},Dm.$metadata$={simpleName:"DynamicObjectEncoder",kind:"class",interfaces:[og]},zm.prototype.append_14=function(t){this._sb_0.append_4(t),Mo()},zm.prototype.append_15=function(t){this._sb_0.append_1(t),Mo()},zm.prototype.append_16=function(t){this._sb_0.append_5(t),Mo()},zm.prototype.appendQuoted=function(t){om(this._sb_0,t)},zm.prototype.toString=function(){return this._sb_0.toString()},zm.prototype.release=function(){},zm.$metadata$={simpleName:"JsonStringBuilder",kind:"class",interfaces:[]},Bm.prototype._get_LOCALIZATION_AR_=function(){return this._LOCALIZATION_AR},Bm.prototype._get_LOCALIZATION_EN_=function(){return this._LOCALIZATION_EN},Bm.prototype._get_LOCALIZATION_FI_=function(){return this._LOCALIZATION_FI},Bm.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},Object.defineProperty(Bm.prototype,"LOCALIZATION_AR",{configurable:!0,get:Bm.prototype._get_LOCALIZATION_AR_}),Object.defineProperty(Bm.prototype,"LOCALIZATION_EN",{configurable:!0,get:Bm.prototype._get_LOCALIZATION_EN_}),Object.defineProperty(Bm.prototype,"LOCALIZATION_FI",{configurable:!0,get:Bm.prototype._get_LOCALIZATION_FI_}),Vm.prototype.invoke_98=function(t){t._ignoreUnknownKeys=!0},Vm.prototype.invoke_103=function(t){return this.invoke_98(t instanceof cd?t:Hu()),Mo()},Vm.$metadata$={kind:"class",interfaces:[]},Um.prototype.generateRoute=function(t,e){return this.generateRoute_0(t,void 0===e?null:e)},Um.prototype.generateRoute_0=function(t,e){var n,i=ud(),r=Kc(i._get_serializersModule__18(),fs(Bs(cu),[ds(fs(Bs(Qm),[],!1))],!1)),o=i.decodeFromString_2(Cl(r,Mc)?r:Hu(),t),a=e;if(null==a)n=null;else{var s=ud(),u=Kc(s._get_serializersModule__18(),fs(Bs(Qm),[],!1));n=s.decodeFromString_2(Cl(u,Mc)?u:Hu(),a)}var l=(null==n&&h(o),new Rv(p(o),null,h(o),null,null,Ti()));l._wayfindingPath=o;var c,f=l,d=Bv().convertWayfindingSplitToSteps(f,!1,!1),g=function(t,e,n){uy.call(n),n._destination=t._destination_0,n._configuration_3=t;for(var i=0,r=n,o=da(Vi(e,10)),a=0,s=e.iterator_39();s.hasNext_14();){var u=s.next_14(),l=a;a=l+1|0;var c,h=Qo(l),p=u._node.geometry(),f=p instanceof E_?p:Hu(),d=0===h?0:(C=e.get_29(h-1|0)._node,I=u._node,A=C.geometry(),P=I.geometry(),L_().bearing(A,P)),g=oy(0,h,e),m=u._level_1,_=!(null==u._waypoint),y=u._waypoint,v=null==y?null:y.id();if(null!=u._pathToNode){var b=L_(),w=qu(u._pathToNode).geometry();T_(),c=b.length_0(w,"meters")}else c=0;var x=c;i+=x;var k=!Zm(qu((S=u._node).properties()),"type")||"elevator"!==Ym(qu(qu(S.properties()).get_16("type")))&&"escalator"!==Ym(qu(qu(S.properties()).get_16("type")))&&"staircase"!==Ym(qu(qu(S.properties()).get_16("type")))?null:qu(u._node.id()),E=u._pathToNode;null!=E&&(n._lastNodeWithPathIndex=h),o.add_18(new ry(d,f,g,x,m,k,_,v,E)),Mo()}var S,C,I,A,P;return r._nodeList=o,n._distanceMeters=i,n}(new gy(null,h(o),Ti(),(c=Object.create(Qy.prototype),Qy.call(c,!1,!1,!1,!1,!1,!1,!1,!1,0),c)),d,Object.create(uy.prototype));this._guidanceTextGenerator.generateStaticInstructionsForRoute(g);var m=ud(),_=Kc(m._get_serializersModule__18(),fs(Bs(uy),[],!1));return function(t,e,n){if(e._get_descriptor__66()._get_kind__17()instanceof Vh||e._get_descriptor__66()._get_kind__17()instanceof Ch){var i=new Sm(t);return i.encodeSerializableValue_3(e,n),i._result}var r=new Dm(t,!1);return r.encodeSerializableValue_3(e,n),r._result_0}(m,Cl(_,Mc)?_:Hu(),g)},Um.prototype.generateRoute$default=function(t,e,n,i){return 0!=(2&n)&&(e=null),this.generateRoute_0(t,e)},Um.$metadata$={simpleName:"RouteFactory",kind:"class",interfaces:[]},qm.prototype.getQuantityString=function(t,e){return 0===e?"ZERO":1===e?"ONE":2===e?"TWO":2<=e&&e<=4?"FEW":5<=e&&e<=100?"MANY":"OTHER"},qm.$metadata$={simpleName:"Resources",kind:"class",interfaces:[]},Gm.prototype._get_resources_=function(){return this._resources},Gm.$metadata$={simpleName:"Context",kind:"class",interfaces:[]},Object.defineProperty(Gm.prototype,"resources",{configurable:!0,get:Gm.prototype._get_resources_}),Hm.prototype.e=function(t,e){(function(){var n=console;return n.log.apply(n,[].concat([t,e]))}).call(this)},Hm.$metadata$={simpleName:"Log",kind:"object",interfaces:[]},Xm.prototype.fromGeometry=function(t){var e=new Qm;return e._internalGeometry=t,e},Xm.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},$m.prototype._get_descriptor__66=function(){return this._descriptor_33},$m.prototype.childSerializers_15=function(){return[kf(),new qp(kf()),new qp(o_()),new qp(Rd())]},$m.prototype.deserialize_70=function(t){var e,n,i,r,o,a,s=this._descriptor_33,u=!0,l=0,c=0,h=null,p=null,f=null,d=null,g=t.beginStructure_14(s);if(g.decodeSequentially_9())h=g.decodeStringElement_9(s,0),c|=1,p=g.decodeNullableSerializableElement_9(s,1,kf(),p),c|=2,f=g.decodeNullableSerializableElement_9(s,2,o_(),f),c|=4,d=g.decodeNullableSerializableElement_9(s,3,Rd(),d),c|=8;else for(;u;)switch(l=g.decodeElementIndex_9(s)){case-1:u=!1;break;case 0:h=g.decodeStringElement_9(s,0),c|=1;break;case 1:p=g.decodeNullableSerializableElement_9(s,1,kf(),p),c|=2;break;case 2:f=g.decodeNullableSerializableElement_9(s,2,o_(),f),c|=4;break;case 3:d=g.decodeNullableSerializableElement_9(s,3,Rd(),d),c|=8;break;default:throw qc(l)}return g.endStructure_14(s),e=c,n=h,i=p,r=f,o=d,(a=Object.create(Qm.prototype))._type_0=0==(1&e)?"Feature":n,a._internalId=0==(2&e)?null:i,a._internalGeometry=0==(4&e)?null:r,a._internalProperties=0==(8&e)?new vd(Hi()):o,a},$m.prototype.serialize_77=function(t,e){var n=this._descriptor_33,i=t.beginStructure_14(n);(i.shouldEncodeElementDefault_3(n,0)||"Feature"!==e._type_0)&&i.encodeStringElement_3(n,0,e._type_0),(i.shouldEncodeElementDefault_3(n,1)||null!=e._internalId)&&i.encodeNullableSerializableElement_3(n,1,kf(),e._internalId),(i.shouldEncodeElementDefault_3(n,2)||null!=e._internalGeometry)&&i.encodeNullableSerializableElement_3(n,2,o_(),e._internalGeometry),(!!i.shouldEncodeElementDefault_3(n,3)||!Du(e._internalProperties,new vd(Hi())))&&i.encodeNullableSerializableElement_3(n,3,Rd(),e._internalProperties),i.endStructure_14(n)},$m.prototype.serialize_107=function(t,e){return this.serialize_77(t,e instanceof Qm?e:Hu())},$m.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[rf]},Qm.prototype.getStringProperty=function(t){var e=this._internalProperties,n=null==e?null:e.get_16(t);return null==n?null:Fu(n)},Qm.prototype.id=function(){return this._internalId},Qm.prototype.geometry=function(){return this._internalGeometry},Qm.prototype.properties=function(){return this._internalProperties},Qm.$metadata$={simpleName:"Feature",kind:"class",interfaces:[],associatedObjects:{0:Jm}},n_.prototype.serializer=function(){return o_()},n_.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},i_.$metadata$={simpleName:"Geometry",kind:"class",interfaces:[],associatedObjects:{0:o_}},r_.prototype.selectDeserializer_0=function(t){var e,n=Ed(t).get_16("type");switch(null==n?null:Ym(n)){case"Point":e=b_().serializer();break;case"LineString":e=s_().serializer_3();break;case"MultiLineString":e=(null==Ze&&new h_,Ze).serializer_3();break;case"Polygon":e=(null==tn&&new S_,tn).serializer_3();break;case"MultiPolygon":e=(null==Ke&&new g_,Ke).serializer_3();break;default:var i=Ed(t).get_16("type"),r="error deserializing "+(null==i?null:Fu(i));throw lc(Fu(r))}return e},r_.$metadata$={simpleName:"GeometryDeserializer",kind:"object",interfaces:[]},a_.prototype.fromLngLats=function(t){for(var e=new c_,n=e,i=da(Vi(t,10)),r=t.iterator_39();r.hasNext_14();){var o=r.next_14();i.add_18([o._coordinates_0[0],o._coordinates_0[1]]),Mo()}return n._internalCoordinates=ta(i),e},a_.prototype.serializer_3=function(){return l_()},a_.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},u_.prototype._get_descriptor__66=function(){return this._descriptor_34},u_.prototype.childSerializers_15=function(){return[kf(),new Cp(Fs()._get_arrayClass_(),new Cp(Fs()._get_doubleClass_(),Cf()))]},u_.prototype.deserialize_70=function(t){var e=this._descriptor_34,n=!0,i=0,r=0,o=null,a=null,s=t.beginStructure_14(e);if(s.decodeSequentially_9())o=s.decodeStringElement_9(e,0),r|=1,a=s.decodeSerializableElement_9(e,1,new Cp(Fs()._get_arrayClass_(),new Cp(Fs()._get_doubleClass_(),Cf())),a),r|=2;else for(;n;)switch(i=s.decodeElementIndex_9(e)){case-1:n=!1;break;case 0:o=s.decodeStringElement_9(e,0),r|=1;break;case 1:a=s.decodeSerializableElement_9(e,1,new Cp(Fs()._get_arrayClass_(),new Cp(Fs()._get_doubleClass_(),Cf())),a),r|=2;break;default:throw qc(i)}return s.endStructure_14(e),function(t,e,n,i,r){return i_.call(r),r._type_1=0==(1&t)?"LineString":e,r._internalCoordinates=0==(2&t)?[]:n,r}(r,o,a,0,Object.create(c_.prototype))},u_.prototype.serialize_80=function(t,e){var n=this._descriptor_34,i=t.beginStructure_14(n);(i.shouldEncodeElementDefault_3(n,0)||"LineString"!==e._type_1)&&i.encodeStringElement_3(n,0,e._type_1),(!!i.shouldEncodeElementDefault_3(n,1)||!Du(e._internalCoordinates,[]))&&i.encodeSerializableElement_3(n,1,new Cp(Fs()._get_arrayClass_(),new Cp(Fs()._get_doubleClass_(),Cf())),e._internalCoordinates),i.endStructure_14(n)},u_.prototype.serialize_107=function(t,e){return this.serialize_80(t,e instanceof c_?e:Hu())},u_.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[rf]},c_.prototype.coordinates_0=function(){for(var t=this._internalCoordinates,e=da(),n=t,i=0,r=n.length;i<r;){var o=n[i];i=i+1|0,e.add_18(b_().fromLngLat(o[0],o[1])),Mo()}return e},c_.$metadata$={simpleName:"LineString",kind:"class",interfaces:[],associatedObjects:{0:l_}},h_.prototype.serializer_3=function(){return f_()},h_.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},p_.prototype._get_descriptor__66=function(){return this._descriptor_35},p_.prototype.childSerializers_15=function(){return[kf(),new Cp(Fs()._get_arrayClass_(),new Cp(Fs()._get_arrayClass_(),new Cp(Fs()._get_doubleClass_(),Cf())))]},p_.prototype.deserialize_70=function(t){var e=this._descriptor_35,n=!0,i=0,r=0,o=null,a=null,s=t.beginStructure_14(e);if(s.decodeSequentially_9())o=s.decodeStringElement_9(e,0),r|=1,a=s.decodeSerializableElement_9(e,1,new Cp(Fs()._get_arrayClass_(),new Cp(Fs()._get_arrayClass_(),new Cp(Fs()._get_doubleClass_(),Cf()))),a),r|=2;else for(;n;)switch(i=s.decodeElementIndex_9(e)){case-1:n=!1;break;case 0:o=s.decodeStringElement_9(e,0),r|=1;break;case 1:a=s.decodeSerializableElement_9(e,1,new Cp(Fs()._get_arrayClass_(),new Cp(Fs()._get_arrayClass_(),new Cp(Fs()._get_doubleClass_(),Cf()))),a),r|=2;break;default:throw qc(i)}return s.endStructure_14(e),function(t,e,n,i,r){return i_.call(r),r._type_2=0==(1&t)?"MultiLineString":e,r._internalCoordinates_0=0==(2&t)?[]:n,r}(r,o,a,0,Object.create(d_.prototype))},p_.prototype.serialize_82=function(t,e){var n=this._descriptor_35,i=t.beginStructure_14(n);(i.shouldEncodeElementDefault_3(n,0)||"MultiLineString"!==e._type_2)&&i.encodeStringElement_3(n,0,e._type_2),(!!i.shouldEncodeElementDefault_3(n,1)||!Du(e._internalCoordinates_0,[]))&&i.encodeSerializableElement_3(n,1,new Cp(Fs()._get_arrayClass_(),new Cp(Fs()._get_arrayClass_(),new Cp(Fs()._get_doubleClass_(),Cf()))),e._internalCoordinates_0),i.endStructure_14(n)},p_.prototype.serialize_107=function(t,e){return this.serialize_82(t,e instanceof d_?e:Hu())},p_.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[rf]},d_.$metadata$={simpleName:"MultiLineString",kind:"class",interfaces:[],associatedObjects:{0:f_}},g_.prototype.serializer_3=function(){return __()},g_.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},m_.prototype._get_descriptor__66=function(){return this._descriptor_36},m_.prototype.childSerializers_15=function(){return[kf(),new Ip(new Ip(new Ip(new Cp(Fs()._get_doubleClass_(),Cf()))))]},m_.prototype.deserialize_70=function(t){var e,n,i,r,o=this._descriptor_36,a=!0,s=0,u=0,l=null,c=null,h=t.beginStructure_14(o);if(h.decodeSequentially_9())l=h.decodeStringElement_9(o,0),u|=1,c=h.decodeSerializableElement_9(o,1,new Ip(new Ip(new Ip(new Cp(Fs()._get_doubleClass_(),Cf())))),c),u|=2;else for(;a;)switch(s=h.decodeElementIndex_9(o)){case-1:a=!1;break;case 0:l=h.decodeStringElement_9(o,0),u|=1;break;case 1:c=h.decodeSerializableElement_9(o,1,new Ip(new Ip(new Ip(new Cp(Fs()._get_doubleClass_(),Cf())))),c),u|=2;break;default:throw qc(s)}return h.endStructure_14(o),e=u,n=l,i=c,r=Object.create(y_.prototype),i_.call(r),r._type_3=0==(1&e)?"MultiPolygon":n,r._coordinates=0==(2&e)?Ti():i,r},m_.prototype.serialize_84=function(t,e){var n=this._descriptor_36,i=t.beginStructure_14(n);(i.shouldEncodeElementDefault_3(n,0)||"MultiPolygon"!==e._type_3)&&i.encodeStringElement_3(n,0,e._type_3),(!!i.shouldEncodeElementDefault_3(n,1)||!Du(e._coordinates,Ti()))&&i.encodeSerializableElement_3(n,1,new Ip(new Ip(new Ip(new Cp(Fs()._get_doubleClass_(),Cf())))),e._coordinates),i.endStructure_14(n)},m_.prototype.serialize_107=function(t,e){return this.serialize_84(t,e instanceof y_?e:Hu())},m_.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[rf]},y_.$metadata$={simpleName:"MultiPolygon",kind:"class",interfaces:[],associatedObjects:{0:__}},v_.prototype.fromLngLat=function(t,e){var n=new E_;return n._coordinates_0=[t,e],n},v_.prototype.serializer=function(){return x_()},v_.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},w_.prototype._get_descriptor__66=function(){return this._descriptor_37},w_.prototype.childSerializers_15=function(){return[kf(),new Cp(Fs()._get_doubleClass_(),Cf())]},w_.prototype.deserialize_70=function(t){var e=this._descriptor_37,n=!0,i=0,r=0,o=null,a=null,s=t.beginStructure_14(e);if(s.decodeSequentially_9())o=s.decodeStringElement_9(e,0),r|=1,a=s.decodeSerializableElement_9(e,1,new Cp(Fs()._get_doubleClass_(),Cf()),a),r|=2;else for(;n;)switch(i=s.decodeElementIndex_9(e)){case-1:n=!1;break;case 0:o=s.decodeStringElement_9(e,0),r|=1;break;case 1:a=s.decodeSerializableElement_9(e,1,new Cp(Fs()._get_doubleClass_(),Cf()),a),r|=2;break;default:throw qc(i)}return s.endStructure_14(e),k_(r,o,a)},w_.prototype.serialize_86=function(t,e){var n=this._descriptor_37,i=t.beginStructure_14(n);(i.shouldEncodeElementDefault_3(n,0)||"Point"!==e._type_4)&&i.encodeStringElement_3(n,0,e._type_4),(!!i.shouldEncodeElementDefault_3(n,1)||!Du(e._coordinates_0,[]))&&i.encodeSerializableElement_3(n,1,new Cp(Fs()._get_doubleClass_(),Cf()),e._coordinates_0),i.endStructure_14(n)},w_.prototype.serialize_107=function(t,e){return this.serialize_86(t,e instanceof E_?e:Hu())},w_.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[rf]},Object.defineProperty(w_.prototype,"descriptor",{configurable:!0,get:w_.prototype._get_descriptor__66}),E_.prototype._set_type_=function(t){this._type_4=t},E_.prototype._get_type_=function(){return this._type_4},E_.prototype._set_coordinates_=function(t){this._coordinates_0=t},E_.prototype._get_coordinates_=function(){return this._coordinates_0},E_.$metadata$={simpleName:"Point",kind:"class",interfaces:[],associatedObjects:{0:x_}},Object.defineProperty(E_.prototype,"type",{configurable:!0,get:E_.prototype._get_type_,set:E_.prototype._set_type_}),Object.defineProperty(E_.prototype,"coordinates",{configurable:!0,get:E_.prototype._get_coordinates_,set:E_.prototype._set_coordinates_}),S_.prototype.serializer_3=function(){return I_()},S_.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},C_.prototype._get_descriptor__66=function(){return this._descriptor_38},C_.prototype.childSerializers_15=function(){return[kf(),new Ip(new Ip(new Cp(Fs()._get_doubleClass_(),Cf())))]},C_.prototype.deserialize_70=function(t){var e,n,i,r,o=this._descriptor_38,a=!0,s=0,u=0,l=null,c=null,h=t.beginStructure_14(o);if(h.decodeSequentially_9())l=h.decodeStringElement_9(o,0),u|=1,c=h.decodeSerializableElement_9(o,1,new Ip(new Ip(new Cp(Fs()._get_doubleClass_(),Cf()))),c),u|=2;else for(;a;)switch(s=h.decodeElementIndex_9(o)){case-1:a=!1;break;case 0:l=h.decodeStringElement_9(o,0),u|=1;break;case 1:c=h.decodeSerializableElement_9(o,1,new Ip(new Ip(new Cp(Fs()._get_doubleClass_(),Cf()))),c),u|=2;break;default:throw qc(s)}return h.endStructure_14(o),e=u,n=l,i=c,r=Object.create(A_.prototype),i_.call(r),r._type_5=0==(1&e)?"Polygon":n,r._coordinates_1=0==(2&e)?Ti():i,r},C_.prototype.serialize_88=function(t,e){var n=this._descriptor_38,i=t.beginStructure_14(n);(i.shouldEncodeElementDefault_3(n,0)||"Polygon"!==e._type_5)&&i.encodeStringElement_3(n,0,e._type_5),(!!i.shouldEncodeElementDefault_3(n,1)||!Du(e._coordinates_1,Ti()))&&i.encodeSerializableElement_3(n,1,new Ip(new Ip(new Cp(Fs()._get_doubleClass_(),Cf()))),e._coordinates_1),i.endStructure_14(n)},C_.prototype.serialize_107=function(t,e){return this.serialize_88(t,e instanceof A_?e:Hu())},C_.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[rf]},A_.$metadata$={simpleName:"Polygon",kind:"class",interfaces:[],associatedObjects:{0:I_}},P_.$metadata$={simpleName:"TurfConstants",kind:"object",interfaces:[]},O_.prototype.distance=function(t,e,n){return Ks(Fu(function(t,e,n){return s.distance(t,e,n)}(t._coordinates_0,e._coordinates_0,n)))},O_.prototype.length_0=function(t,e){return Ks(Fu(function(t,e){return s.length(s.lineString(t),{units:e})}(t._internalCoordinates,e)))},O_.prototype.bearing=function(t,e){return Ks(Fu(s.bearing(t._coordinates_0,e._coordinates_0)))},O_.$metadata$={simpleName:"TurfMeasurement",kind:"object",interfaces:[]},M_.prototype.nearestPointOnLine=function(t,e){return function(t,e){return s.nearestPointOnLine(t,e)}(s_().fromLngLats(e),t)},M_.$metadata$={simpleName:"TurfMisc",kind:"object",interfaces:[]},R_.prototype.escapeHTML=function(t){return this},R_.prototype.compile=function(t){return new D_(null==t?"":t)},R_.$metadata$={simpleName:"Compiler",kind:"class",interfaces:[]},D_.prototype.execute=function(t){var e=N_(this,t),n=ud(),i=Kc(n._get_serializersModule__18(),fs(Bs(vd),[],!1)),r=n.encodeToString_2(Cl(i,Mc)?i:Hu(),e);return this.execute_1(r)},D_.prototype.execute_0=function(t){var e=ud(),n=Kc(e._get_serializersModule__18(),fs(Bs(lu),[ds(fs(Fs()._get_stringClass_(),[],!1)),ds(fs(Fs()._get_stringClass_(),[],!0))],!1)),i=e.encodeToString_2(Cl(n,Mc)?n:Hu(),t);return this.execute_1(i)},D_.prototype.execute_1=function(t){return Fu(u.render(this._template,JSON.parse(t)))},D_.$metadata$={simpleName:"Template",kind:"class",interfaces:[]},z_.prototype.compiler=function(){return new R_},z_.$metadata$={simpleName:"Mustache",kind:"object",interfaces:[]},F_.$metadata$={simpleName:"Plurals",kind:"class",interfaces:[]},B_.$metadata$={simpleName:"R",kind:"object",interfaces:[]},j_.prototype._get_descriptor__66=function(){return this._descriptor_39},j_.prototype.childSerializers_15=function(){return[new qp(kf()),new qp(o_()),new qp(Rd())]},j_.prototype.deserialize_70=function(t){var e,n,i,r,o,a=this._descriptor_39,s=!0,u=0,l=0,c=null,h=null,p=null,f=t.beginStructure_14(a);if(f.decodeSequentially_9())c=f.decodeNullableSerializableElement_9(a,0,kf(),c),l|=1,h=f.decodeNullableSerializableElement_9(a,1,o_(),h),l|=2,p=f.decodeNullableSerializableElement_9(a,2,Rd(),p),l|=4;else for(;s;)switch(u=f.decodeElementIndex_9(a)){case-1:s=!1;break;case 0:c=f.decodeNullableSerializableElement_9(a,0,kf(),c),l|=1;break;case 1:h=f.decodeNullableSerializableElement_9(a,1,o_(),h),l|=2;break;case 2:p=f.decodeNullableSerializableElement_9(a,2,Rd(),p),l|=4;break;default:throw qc(u)}return f.endStructure_14(a),e=l,n=c,i=h,r=p,(o=Object.create(V_.prototype))._id=0==(1&e)?null:n,o._featureGeometry=0==(2&e)?null:i,o._featureProperties=0==(4&e)?null:r,o},j_.prototype.serialize_90=function(t,e){var n=this._descriptor_39,i=t.beginStructure_14(n);(i.shouldEncodeElementDefault_3(n,0)||null!=e._id)&&i.encodeNullableSerializableElement_3(n,0,kf(),e._id),(i.shouldEncodeElementDefault_3(n,1)||null!=e._featureGeometry)&&i.encodeNullableSerializableElement_3(n,1,o_(),e._featureGeometry),(i.shouldEncodeElementDefault_3(n,2)||null!=e._featureProperties)&&i.encodeNullableSerializableElement_3(n,2,Rd(),e._featureProperties),i.endStructure_14(n)},j_.prototype.serialize_107=function(t,e){return this.serialize_90(t,e instanceof V_?e:Hu())},j_.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[rf]},V_.prototype.getLevel=function(){throw lc(Fu("dummy function!"))},V_.prototype.getTitle=function(){throw lc(Fu("dummy function!"))},V_.prototype.getLevels=function(){throw lc(Fu("dummy function!"))},V_.prototype.getType=function(){var t=this._featureProperties,e=(null==t||t.get_16("type"),this._featureProperties),n=null==e?null:e.get_16("type");switch(null==n?null:Ym(n)){case"decision":return K_();case"door":return Z_(),pn;case"elevator":return $_();case"entrance":return Z_(),dn;case"escalator":return J_();case"hazard":return Q_();case"landmark":return Z_(),_n;case"poi":return Z_(),vn;case"staircase":return ty();case"ticket_gate":return Z_(),wn;case"outdoor_connector":return Z_(),yn;default:return Z_(),xn}},V_.prototype.getRange=function(){throw lc(Fu("dummy function!"))},V_.prototype.pointToPointDistance=function(t){var e=this._featureGeometry;return null==e?null:e instanceof E_?L_().distance(e,t,"meters"):null},V_.$metadata$={simpleName:"Feature",kind:"class",interfaces:[],associatedObjects:{0:function(){return null==un&&new j_,un}}},U_.prototype._get_descriptor__66=function(){return this._descriptor_40},U_.prototype.childSerializers_15=function(){return[new qp(kf()),new qp(kf()),new qp(kf()),new qp(kf()),new qp(kf()),new qp(kf())]},U_.prototype.deserialize_70=function(t){var e=this._descriptor_40,n=!0,i=0,r=0,o=null,a=null,s=null,u=null,l=null,c=null,h=t.beginStructure_14(e);if(h.decodeSequentially_9())o=h.decodeNullableSerializableElement_9(e,0,kf(),o),r|=1,a=h.decodeNullableSerializableElement_9(e,1,kf(),a),r|=2,s=h.decodeNullableSerializableElement_9(e,2,kf(),s),r|=4,u=h.decodeNullableSerializableElement_9(e,3,kf(),u),r|=8,l=h.decodeNullableSerializableElement_9(e,4,kf(),l),r|=16,c=h.decodeNullableSerializableElement_9(e,5,kf(),c),r|=32;else for(;n;)switch(i=h.decodeElementIndex_9(e)){case-1:n=!1;break;case 0:o=h.decodeNullableSerializableElement_9(e,0,kf(),o),r|=1;break;case 1:a=h.decodeNullableSerializableElement_9(e,1,kf(),a),r|=2;break;case 2:s=h.decodeNullableSerializableElement_9(e,2,kf(),s),r|=4;break;case 3:u=h.decodeNullableSerializableElement_9(e,3,kf(),u),r|=8;break;case 4:l=h.decodeNullableSerializableElement_9(e,4,kf(),l),r|=16;break;case 5:c=h.decodeNullableSerializableElement_9(e,5,kf(),c),r|=32;break;default:throw qc(i)}return h.endStructure_14(e),function(t,e,n,i,r,o,a,s,u){if(0==(1&t))throw Hc("zero");if(u._zero=e,0==(2&t))throw Hc("one");if(u._one=n,0==(4&t))throw Hc("two");if(u._two=i,0==(8&t))throw Hc("few");if(u._few=r,0==(16&t))throw Hc("more");if(u._many=o,0==(32&t))throw Hc("other");return u._other=a,u}(r,o,a,s,u,l,c,0,Object.create(G_.prototype))},U_.prototype.serialize_92=function(t,e){var n=this._descriptor_40,i=t.beginStructure_14(n);i.encodeNullableSerializableElement_3(n,0,kf(),e._zero),i.encodeNullableSerializableElement_3(n,1,kf(),e._one),i.encodeNullableSerializableElement_3(n,2,kf(),e._two),i.encodeNullableSerializableElement_3(n,3,kf(),e._few),i.encodeNullableSerializableElement_3(n,4,kf(),e._many),i.encodeNullableSerializableElement_3(n,5,kf(),e._other),i.endStructure_14(n)},U_.prototype.serialize_107=function(t,e){return this.serialize_92(t,e instanceof G_?e:Hu())},U_.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[rf]},G_.prototype.getStringForQuantity=function(t,e){return this.getStringForQuantity_0(t,$a(e))},G_.prototype.getStringForQuantity_0=function(t,e){var n,i,r=t._resources.getQuantityString((null==sn&&new B_,sn)._plurals._proximi_quantities,e);switch(r){case"ZERO":n=this._zero;break;case"ONE":n=this._one;break;case"TWO":n=this._two;break;case"FEW":n=this._few;break;case"MANY":n=this._many;break;case"OTHER":n=this._other;break;default:n=null}return null!=n?i=n:((null==Ve&&new Hm,Ve).e("GuidanceTranslation","Missing translation for quantity "+r),i=""),i},G_.prototype.toString=function(){return"QuantityString(zero="+this._zero+", one="+this._one+", two="+this._two+", few="+this._few+", many="+this._many+", other="+this._other+")"},G_.prototype.hashCode=function(){var t=null==this._zero?0:Bu(this._zero);return t=ml(t,31)+(null==this._one?0:Bu(this._one))|0,t=ml(t,31)+(null==this._two?0:Bu(this._two))|0,t=ml(t,31)+(null==this._few?0:Bu(this._few))|0,t=ml(t,31)+(null==this._many?0:Bu(this._many))|0,ml(t,31)+(null==this._other?0:Bu(this._other))|0},G_.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof G_))return!1;var e=t instanceof G_?t:Hu();return this._zero==e._zero&&this._one==e._one&&this._two==e._two&&this._few==e._few&&this._many==e._many&&this._other==e._other},G_.$metadata$={simpleName:"QuantityString",kind:"class",interfaces:[],associatedObjects:{0:q_}},H_.prototype._get_descriptor__66=function(){return this._descriptor_41},H_.prototype.childSerializers_15=function(){return[kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),new qp(kf()),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),new qp(kf()),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),kf(),q_(),new Ap(kf(),q_())]},H_.prototype.deserialize_70=function(t){var e=this._descriptor_41,n=!0,i=0,r=0,o=0,a=null,s=null,u=null,l=null,c=null,h=null,p=null,f=null,d=null,g=null,m=null,_=null,y=null,v=null,b=null,w=null,x=null,k=null,E=null,S=null,C=null,I=null,A=null,P=null,T=null,O=null,L=null,M=null,N=null,R=null,D=null,z=null,F=null,B=null,j=null,V=null,U=null,q=null,G=null,H=null,W=null,Y=null,Z=null,X=null,K=null,$=null,J=null,Q=null,tt=null,et=null,nt=null,it=null,rt=null,ot=null,at=null,st=null,ut=null,lt=null,ct=null,ht=null,pt=null,ft=null,dt=null,gt=null,mt=t.beginStructure_14(e);if(mt.decodeSequentially_9())a=mt.decodeStringElement_9(e,0),r|=1,s=mt.decodeStringElement_9(e,1),r|=2,u=mt.decodeStringElement_9(e,2),r|=4,l=mt.decodeStringElement_9(e,3),r|=8,c=mt.decodeStringElement_9(e,4),r|=16,h=mt.decodeStringElement_9(e,5),r|=32,p=mt.decodeStringElement_9(e,6),r|=64,f=mt.decodeStringElement_9(e,7),r|=128,d=mt.decodeStringElement_9(e,8),r|=256,g=mt.decodeStringElement_9(e,9),r|=512,m=mt.decodeStringElement_9(e,10),r|=1024,_=mt.decodeStringElement_9(e,11),r|=2048,y=mt.decodeNullableSerializableElement_9(e,12,kf(),y),r|=4096,v=mt.decodeStringElement_9(e,13),r|=8192,b=mt.decodeStringElement_9(e,14),r|=16384,w=mt.decodeStringElement_9(e,15),r|=32768,x=mt.decodeStringElement_9(e,16),r|=65536,k=mt.decodeStringElement_9(e,17),r|=131072,E=mt.decodeStringElement_9(e,18),r|=262144,S=mt.decodeStringElement_9(e,19),r|=524288,C=mt.decodeStringElement_9(e,20),r|=1048576,I=mt.decodeStringElement_9(e,21),r|=2097152,A=mt.decodeStringElement_9(e,22),r|=4194304,P=mt.decodeStringElement_9(e,23),r|=8388608,T=mt.decodeStringElement_9(e,24),r|=16777216,O=mt.decodeNullableSerializableElement_9(e,25,kf(),O),r|=33554432,L=mt.decodeStringElement_9(e,26),r|=67108864,M=mt.decodeStringElement_9(e,27),r|=134217728,N=mt.decodeStringElement_9(e,28),r|=268435456,R=mt.decodeStringElement_9(e,29),r|=536870912,D=mt.decodeStringElement_9(e,30),r|=1073741824,z=mt.decodeStringElement_9(e,31),r|=-2147483648,F=mt.decodeStringElement_9(e,32),o|=1,B=mt.decodeStringElement_9(e,33),o|=2,j=mt.decodeStringElement_9(e,34),o|=4,V=mt.decodeStringElement_9(e,35),o|=8,U=mt.decodeStringElement_9(e,36),o|=16,q=mt.decodeStringElement_9(e,37),o|=32,G=mt.decodeStringElement_9(e,38),o|=64,H=mt.decodeStringElement_9(e,39),o|=128,W=mt.decodeStringElement_9(e,40),o|=256,Y=mt.decodeStringElement_9(e,41),o|=512,Z=mt.decodeStringElement_9(e,42),o|=1024,X=mt.decodeStringElement_9(e,43),o|=2048,K=mt.decodeStringElement_9(e,44),o|=4096,$=mt.decodeStringElement_9(e,45),o|=8192,J=mt.decodeStringElement_9(e,46),o|=16384,Q=mt.decodeStringElement_9(e,47),o|=32768,tt=mt.decodeStringElement_9(e,48),o|=65536,et=mt.decodeStringElement_9(e,49),o|=131072,nt=mt.decodeStringElement_9(e,50),o|=262144,it=mt.decodeStringElement_9(e,51),o|=524288,rt=mt.decodeStringElement_9(e,52),o|=1048576,ot=mt.decodeStringElement_9(e,53),o|=2097152,at=mt.decodeStringElement_9(e,54),o|=4194304,st=mt.decodeStringElement_9(e,55),o|=8388608,ut=mt.decodeStringElement_9(e,56),o|=16777216,lt=mt.decodeStringElement_9(e,57),o|=33554432,ct=mt.decodeStringElement_9(e,58),o|=67108864,ht=mt.decodeStringElement_9(e,59),o|=134217728,pt=mt.decodeStringElement_9(e,60),o|=268435456,ft=mt.decodeStringElement_9(e,61),o|=536870912,dt=mt.decodeSerializableElement_9(e,62,q_(),dt),o|=1073741824,gt=mt.decodeSerializableElement_9(e,63,new Ap(kf(),q_()),gt),o|=-2147483648;else for(;n;)switch(i=mt.decodeElementIndex_9(e)){case-1:n=!1;break;case 0:a=mt.decodeStringElement_9(e,0),r|=1;break;case 1:s=mt.decodeStringElement_9(e,1),r|=2;break;case 2:u=mt.decodeStringElement_9(e,2),r|=4;break;case 3:l=mt.decodeStringElement_9(e,3),r|=8;break;case 4:c=mt.decodeStringElement_9(e,4),r|=16;break;case 5:h=mt.decodeStringElement_9(e,5),r|=32;break;case 6:p=mt.decodeStringElement_9(e,6),r|=64;break;case 7:f=mt.decodeStringElement_9(e,7),r|=128;break;case 8:d=mt.decodeStringElement_9(e,8),r|=256;break;case 9:g=mt.decodeStringElement_9(e,9),r|=512;break;case 10:m=mt.decodeStringElement_9(e,10),r|=1024;break;case 11:_=mt.decodeStringElement_9(e,11),r|=2048;break;case 12:y=mt.decodeNullableSerializableElement_9(e,12,kf(),y),r|=4096;break;case 13:v=mt.decodeStringElement_9(e,13),r|=8192;break;case 14:b=mt.decodeStringElement_9(e,14),r|=16384;break;case 15:w=mt.decodeStringElement_9(e,15),r|=32768;break;case 16:x=mt.decodeStringElement_9(e,16),r|=65536;break;case 17:k=mt.decodeStringElement_9(e,17),r|=131072;break;case 18:E=mt.decodeStringElement_9(e,18),r|=262144;break;case 19:S=mt.decodeStringElement_9(e,19),r|=524288;break;case 20:C=mt.decodeStringElement_9(e,20),r|=1048576;break;case 21:I=mt.decodeStringElement_9(e,21),r|=2097152;break;case 22:A=mt.decodeStringElement_9(e,22),r|=4194304;break;case 23:P=mt.decodeStringElement_9(e,23),r|=8388608;break;case 24:T=mt.decodeStringElement_9(e,24),r|=16777216;break;case 25:O=mt.decodeNullableSerializableElement_9(e,25,kf(),O),r|=33554432;break;case 26:L=mt.decodeStringElement_9(e,26),r|=67108864;break;case 27:M=mt.decodeStringElement_9(e,27),r|=134217728;break;case 28:N=mt.decodeStringElement_9(e,28),r|=268435456;break;case 29:R=mt.decodeStringElement_9(e,29),r|=536870912;break;case 30:D=mt.decodeStringElement_9(e,30),r|=1073741824;break;case 31:z=mt.decodeStringElement_9(e,31),r|=-2147483648;break;case 32:F=mt.decodeStringElement_9(e,32),o|=1;break;case 33:B=mt.decodeStringElement_9(e,33),o|=2;break;case 34:j=mt.decodeStringElement_9(e,34),o|=4;break;case 35:V=mt.decodeStringElement_9(e,35),o|=8;break;case 36:U=mt.decodeStringElement_9(e,36),o|=16;break;case 37:q=mt.decodeStringElement_9(e,37),o|=32;break;case 38:G=mt.decodeStringElement_9(e,38),o|=64;break;case 39:H=mt.decodeStringElement_9(e,39),o|=128;break;case 40:W=mt.decodeStringElement_9(e,40),o|=256;break;case 41:Y=mt.decodeStringElement_9(e,41),o|=512;break;case 42:Z=mt.decodeStringElement_9(e,42),o|=1024;break;case 43:X=mt.decodeStringElement_9(e,43),o|=2048;break;case 44:K=mt.decodeStringElement_9(e,44),o|=4096;break;case 45:$=mt.decodeStringElement_9(e,45),o|=8192;break;case 46:J=mt.decodeStringElement_9(e,46),o|=16384;break;case 47:Q=mt.decodeStringElement_9(e,47),o|=32768;break;case 48:tt=mt.decodeStringElement_9(e,48),o|=65536;break;case 49:et=mt.decodeStringElement_9(e,49),o|=131072;break;case 50:nt=mt.decodeStringElement_9(e,50),o|=262144;break;case 51:it=mt.decodeStringElement_9(e,51),o|=524288;break;case 52:rt=mt.decodeStringElement_9(e,52),o|=1048576;break;case 53:ot=mt.decodeStringElement_9(e,53),o|=2097152;break;case 54:at=mt.decodeStringElement_9(e,54),o|=4194304;break;case 55:st=mt.decodeStringElement_9(e,55),o|=8388608;break;case 56:ut=mt.decodeStringElement_9(e,56),o|=16777216;break;case 57:lt=mt.decodeStringElement_9(e,57),o|=33554432;break;case 58:ct=mt.decodeStringElement_9(e,58),o|=67108864;break;case 59:ht=mt.decodeStringElement_9(e,59),o|=134217728;break;case 60:pt=mt.decodeStringElement_9(e,60),o|=268435456;break;case 61:ft=mt.decodeStringElement_9(e,61),o|=536870912;break;case 62:dt=mt.decodeSerializableElement_9(e,62,q_(),dt),o|=1073741824;break;case 63:gt=mt.decodeSerializableElement_9(e,63,new Ap(kf(),q_()),gt),o|=-2147483648;break;default:throw qc(i)}return mt.endStructure_14(e),function(t,e,n,i,r,o,a,s,u,l,c,h,p,f,d,g,m,_,y,v,b,w,x,k,E,S,C,I,A,P,T,O,L,M,N,R,D,z,F,B,j,V,U,q,G,H,W,Y,Z,X,K,$,J,Q,tt,et,nt,it,rt,ot,at,st,ut,lt,ct,ht,pt,ft,dt){if(0==(1&t))throw Hc("lang");if(dt._lang=i,0==(2&t))throw Hc("route_ready");if(dt._routeReady=r,0==(4&t))throw Hc("update_turn");if(dt._updateTurn=o,0==(8&t))throw Hc("update_turn_confirmation");if(dt._updateTurnConfirmation=a,0==(16&t))throw Hc("update_turn_left_hard");if(dt._updateTurnLeftHard=s,0==(32&t))throw Hc("update_turn_left");if(dt._updateTurnLeft=u,0==(64&t))throw Hc("update_turn_left_slight");if(dt._updateTurnLeftSlight=l,0==(128&t))throw Hc("update_turn_straight");if(dt._updateTurnStraight=c,0==(256&t))throw Hc("update_turn_right_slight");if(dt._updateTurnRightSlight=h,0==(512&t))throw Hc("update_turn_right");if(dt._updateTurnRight=p,0==(1024&t))throw Hc("update_turn_right_hard");if(dt._updateTurnRightHard=f,0==(2048&t))throw Hc("update_turn_around");if(dt._updateTurnAround=d,0==(4096&t))throw Hc("update_waypoint");if(dt._updateWaypoint=g,0==(8192&t))throw Hc("update_destination");if(dt._updateDestination=m,0==(16384&t))throw Hc("update_levelchange_elevator");if(dt._updateLevelchangeElevator=_,0==(32768&t))throw Hc("update_levelchange_escalator");if(dt._updateLevelchangeEscalator=y,0==(65536&t))throw Hc("update_levelchange_stairs");if(dt._updateLevelchangeStairs=v,0==(131072&t))throw Hc("immediate_turn_left_hard");if(dt._immediateTurnLeftHard=b,0==(262144&t))throw Hc("immediate_turn_left");if(dt._immediateTurnLeft=w,0==(524288&t))throw Hc("immediate_turn_left_slight");if(dt._immediateTurnLeftSlight=x,0==(1048576&t))throw Hc("immediate_turn_straight");if(dt._immediateTurnStraight=k,0==(2097152&t))throw Hc("immediate_turn_right_slight");if(dt._immediateTurnRightSlight=E,0==(4194304&t))throw Hc("immediate_turn_right");if(dt._immediateTurnRight=S,0==(8388608&t))throw Hc("immediate_turn_right_hard");if(dt._immediateTurnRightHard=C,0==(16777216&t))throw Hc("immediate_turn_around");if(dt._immediateTurnAround=I,0==(33554432&t))throw Hc("immediate_waypoint");if(dt._immediateWaypoint=A,0==(67108864&t))throw Hc("immediate_levelchange_elevator");if(dt._immediateLevelchangeElevator=P,0==(134217728&t))throw Hc("immediate_levelchange_escalator");if(dt._immediateLevelchangeEscalator=T,0==(268435456&t))throw Hc("immediate_levelchange_stairs");if(dt._immediateLevelchangeStairs=O,0==(536870912&t))throw Hc("direction_up");if(dt._directionUp=L,0==(1073741824&t))throw Hc("direction_down");if(dt._directionDown=M,0==(-2147483648&t))throw Hc("immediate_levelchange_side_left");if(dt._immediateLevelchangeSideLeft=N,0==(1&e))throw Hc("immediate_levelchange_side_right");if(dt._immediateLevelchangeSideRight=R,0==(2&e))throw Hc("immediate_levelchange_side_ahead");if(dt._immediateLevelchangeSideAhead=D,0==(4&e))throw Hc("next_step_destination");if(dt._nextStepDestination=z,0==(8&e))throw Hc("next_step_landmarks");if(dt._nextStepLandmarks=F,0==(16&e))throw Hc("next_step_landmarks_landmark_position_left");if(dt._nextStepLandmarksLandmarkPositionLeft=B,0==(32&e))throw Hc("next_step_landmarks_landmark_position_right");if(dt._nextStepLandmarksLandmarkPositionRight=j,0==(64&e))throw Hc("next_step_levelchanger_elevator");if(dt._nextStepLevelchangerElevator=V,0==(128&e))throw Hc("next_step_levelchanger_escalator");if(dt._nextStepLevelchangerEscalator=U,0==(256&e))throw Hc("next_step_levelchanger_stairs");if(dt._nextStepLevelchangerStairs=q,dt._exitLevelChangerElevator=0==(512&e)?"":G,dt._exitLevelChangerEscalator=0==(1024&e)?"":H,dt._exitLevelChangerStairs=0==(2048&e)?"":W,0==(4096&e))throw Hc("passing_landmark");if(dt._passingLandmark=Y,0==(8192&e))throw Hc("destination_arriving");if(dt._destinationArriving=Z,0==(16384&e))throw Hc("destination_arrived");if(dt._destinationArrived=X,0==(32768&e))throw Hc("state_calculating");if(dt._stateCalculating=K,0==(65536&e))throw Hc("state_recalculating");if(dt._stateRecalculating=$,0==(131072&e))throw Hc("state_route_not_found");if(dt._stateRouteNotFound=J,0==(262144&e))throw Hc("state_route_osrm_error");if(dt._stateRouteOsrmError=Q,0==(524288&e))throw Hc("state_canceled");if(dt._stateCanceled=tt,0==(1048576&e))throw Hc("hazard");if(dt._hazard=et,0==(2097152&e))throw Hc("hazard_side_left");if(dt._hazardSideLeft=nt,0==(4194304&e))throw Hc("hazard_side_right");if(dt._hazardSideRight=it,0==(8388608&e))throw Hc("hazard_side_ahead");if(dt._hazardSideAhead=rt,0==(16777216&e))throw Hc("decision");if(dt._decision=ot,0==(33554432&e))throw Hc("segment_enter");if(dt._segmentEnter=at,0==(67108864&e))throw Hc("segment_leave");if(dt._segmentLeave=st,0==(134217728&e))throw Hc("heading_correction");if(dt._headingCorrection=ut,0==(268435456&e))throw Hc("heading_start");if(dt._headingStart=lt,0==(536870912&e))throw Hc("heading_wrong_way");if(dt._headingWrongWay=ct,0==(1073741824&e))throw Hc("level");if(dt._levels=ht,0==(-2147483648&e))throw Hc("units");return dt._units=pt,dt}(r,o,0,a,s,u,l,c,h,p,f,d,g,m,_,y,v,b,w,x,k,E,S,C,I,A,P,T,O,L,M,N,R,D,z,F,B,j,V,U,q,G,H,W,Y,Z,X,K,$,J,Q,tt,et,nt,it,rt,ot,at,st,ut,lt,ct,ht,pt,ft,dt,gt,0,Object.create(W_.prototype))},H_.prototype.serialize_94=function(t,e){var n=this._descriptor_41,i=t.beginStructure_14(n);i.encodeStringElement_3(n,0,e._lang),i.encodeStringElement_3(n,1,e._routeReady),i.encodeStringElement_3(n,2,e._updateTurn),i.encodeStringElement_3(n,3,e._updateTurnConfirmation),i.encodeStringElement_3(n,4,e._updateTurnLeftHard),i.encodeStringElement_3(n,5,e._updateTurnLeft),i.encodeStringElement_3(n,6,e._updateTurnLeftSlight),i.encodeStringElement_3(n,7,e._updateTurnStraight),i.encodeStringElement_3(n,8,e._updateTurnRightSlight),i.encodeStringElement_3(n,9,e._updateTurnRight),i.encodeStringElement_3(n,10,e._updateTurnRightHard),i.encodeStringElement_3(n,11,e._updateTurnAround),i.encodeNullableSerializableElement_3(n,12,kf(),e._updateWaypoint),i.encodeStringElement_3(n,13,e._updateDestination),i.encodeStringElement_3(n,14,e._updateLevelchangeElevator),i.encodeStringElement_3(n,15,e._updateLevelchangeEscalator),i.encodeStringElement_3(n,16,e._updateLevelchangeStairs),i.encodeStringElement_3(n,17,e._immediateTurnLeftHard),i.encodeStringElement_3(n,18,e._immediateTurnLeft),i.encodeStringElement_3(n,19,e._immediateTurnLeftSlight),i.encodeStringElement_3(n,20,e._immediateTurnStraight),i.encodeStringElement_3(n,21,e._immediateTurnRightSlight),i.encodeStringElement_3(n,22,e._immediateTurnRight),i.encodeStringElement_3(n,23,e._immediateTurnRightHard),i.encodeStringElement_3(n,24,e._immediateTurnAround),i.encodeNullableSerializableElement_3(n,25,kf(),e._immediateWaypoint),i.encodeStringElement_3(n,26,e._immediateLevelchangeElevator),i.encodeStringElement_3(n,27,e._immediateLevelchangeEscalator),i.encodeStringElement_3(n,28,e._immediateLevelchangeStairs),i.encodeStringElement_3(n,29,e._directionUp),i.encodeStringElement_3(n,30,e._directionDown),i.encodeStringElement_3(n,31,e._immediateLevelchangeSideLeft),i.encodeStringElement_3(n,32,e._immediateLevelchangeSideRight),i.encodeStringElement_3(n,33,e._immediateLevelchangeSideAhead),i.encodeStringElement_3(n,34,e._nextStepDestination),i.encodeStringElement_3(n,35,e._nextStepLandmarks),i.encodeStringElement_3(n,36,e._nextStepLandmarksLandmarkPositionLeft),i.encodeStringElement_3(n,37,e._nextStepLandmarksLandmarkPositionRight),i.encodeStringElement_3(n,38,e._nextStepLevelchangerElevator),i.encodeStringElement_3(n,39,e._nextStepLevelchangerEscalator),i.encodeStringElement_3(n,40,e._nextStepLevelchangerStairs),(i.shouldEncodeElementDefault_3(n,41)||""!==e._exitLevelChangerElevator)&&i.encodeStringElement_3(n,41,e._exitLevelChangerElevator),(i.shouldEncodeElementDefault_3(n,42)||""!==e._exitLevelChangerEscalator)&&i.encodeStringElement_3(n,42,e._exitLevelChangerEscalator),(i.shouldEncodeElementDefault_3(n,43)||""!==e._exitLevelChangerStairs)&&i.encodeStringElement_3(n,43,e._exitLevelChangerStairs),i.encodeStringElement_3(n,44,e._passingLandmark),i.encodeStringElement_3(n,45,e._destinationArriving),i.encodeStringElement_3(n,46,e._destinationArrived),i.encodeStringElement_3(n,47,e._stateCalculating),i.encodeStringElement_3(n,48,e._stateRecalculating),i.encodeStringElement_3(n,49,e._stateRouteNotFound),i.encodeStringElement_3(n,50,e._stateRouteOsrmError),i.encodeStringElement_3(n,51,e._stateCanceled),i.encodeStringElement_3(n,52,e._hazard),i.encodeStringElement_3(n,53,e._hazardSideLeft),i.encodeStringElement_3(n,54,e._hazardSideRight),i.encodeStringElement_3(n,55,e._hazardSideAhead),i.encodeStringElement_3(n,56,e._decision),i.encodeStringElement_3(n,57,e._segmentEnter),i.encodeStringElement_3(n,58,e._segmentLeave),i.encodeStringElement_3(n,59,e._headingCorrection),i.encodeStringElement_3(n,60,e._headingStart),i.encodeStringElement_3(n,61,e._headingWrongWay),i.encodeSerializableElement_3(n,62,q_(),e._levels),i.encodeSerializableElement_3(n,63,new Ap(kf(),q_()),e._units),i.endStructure_14(n)},H_.prototype.serialize_107=function(t,e){return this.serialize_94(t,e instanceof W_?e:Hu())},H_.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[rf]},W_.$metadata$={simpleName:"GuidanceTranslation",kind:"class",interfaces:[],associatedObjects:{0:function(){return null==cn&&new H_,cn}}},X_.prototype.isLevelChanger=function(){return!(!this.equals($_())&&!this.equals(J_()))||this.equals(ty())},X_.$metadata$={simpleName:"ProximiioFeatureType",kind:"class",interfaces:[]},ey.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},ny.prototype._get_descriptor__66=function(){return this._descriptor_42},ny.prototype.childSerializers_15=function(){return[Cf(),x_(),new Np("io.proximi.mapbox.library.RouteStepDirection",yy()),Cf(),Tf(),new qp(kf()),Nf(),new qp(kf()),new qp(Jm()),new qp(new Ip(kf()))]},ny.prototype.deserialize_70=function(t){var e=this._descriptor_42,n=!0,i=0,r=0,o=0,a=null,s=null,u=0,l=0,c=null,h=!1,p=null,f=null,d=null,g=t.beginStructure_14(e);if(g.decodeSequentially_9())o=g.decodeDoubleElement_9(e,0),r|=1,a=g.decodeSerializableElement_9(e,1,x_(),a),r|=2,s=g.decodeSerializableElement_9(e,2,new Np("io.proximi.mapbox.library.RouteStepDirection",yy()),s),r|=4,u=g.decodeDoubleElement_9(e,3),r|=8,l=g.decodeIntElement_9(e,4),r|=16,c=g.decodeNullableSerializableElement_9(e,5,kf(),c),r|=32,h=g.decodeBooleanElement_9(e,6),r|=64,p=g.decodeNullableSerializableElement_9(e,7,kf(),p),r|=128,f=g.decodeNullableSerializableElement_9(e,8,Jm(),f),r|=256,d=g.decodeNullableSerializableElement_9(e,9,new Ip(kf()),d),r|=512;else for(;n;)switch(i=g.decodeElementIndex_9(e)){case-1:n=!1;break;case 0:o=g.decodeDoubleElement_9(e,0),r|=1;break;case 1:a=g.decodeSerializableElement_9(e,1,x_(),a),r|=2;break;case 2:s=g.decodeSerializableElement_9(e,2,new Np("io.proximi.mapbox.library.RouteStepDirection",yy()),s),r|=4;break;case 3:u=g.decodeDoubleElement_9(e,3),r|=8;break;case 4:l=g.decodeIntElement_9(e,4),r|=16;break;case 5:c=g.decodeNullableSerializableElement_9(e,5,kf(),c),r|=32;break;case 6:h=g.decodeBooleanElement_9(e,6),r|=64;break;case 7:p=g.decodeNullableSerializableElement_9(e,7,kf(),p),r|=128;break;case 8:f=g.decodeNullableSerializableElement_9(e,8,Jm(),f),r|=256;break;case 9:d=g.decodeNullableSerializableElement_9(e,9,new Ip(kf()),d),r|=512;break;default:throw qc(i)}return g.endStructure_14(e),function(t,e,n,i,r,o,a,s,u,l,c,h,p){if(0==(1&t))throw Hc("bearingFromLastStep");if(p._bearingFromLastNode=e,0==(2&t))throw Hc("coordinates");if(p._coordinates_2=n,0==(4&t))throw Hc("direction");if(p._direction=i,0==(8&t))throw Hc("distanceFromLastStep");if(p._distanceFromLastNode=r,0==(16&t))throw Hc("level");if(p._level_0=o,0==(32&t))throw Hc("levelChangerId");if(p._levelChangerId=a,0==(64&t))throw Hc("isWaypoint");if(p._isWaypoint=s,0==(128&t))throw Hc("waypointId");if(p._waypointId=u,0==(256&t))throw Hc("lineStringFeatureFromLastStep");return p._lineStringFeatureTo=l,p._instruction=0==(512&t)?null:c,p}(r,o,a,s,u,l,c,h,p,f,d,0,Object.create(ry.prototype))},ny.prototype.serialize_96=function(t,e){var n=this._descriptor_42,i=t.beginStructure_14(n);i.encodeDoubleElement_3(n,0,e._bearingFromLastNode),i.encodeSerializableElement_3(n,1,x_(),e._coordinates_2),i.encodeSerializableElement_3(n,2,new Np("io.proximi.mapbox.library.RouteStepDirection",yy()),e._direction),i.encodeDoubleElement_3(n,3,e._distanceFromLastNode),i.encodeIntElement_3(n,4,e._level_0),i.encodeNullableSerializableElement_3(n,5,kf(),e._levelChangerId),i.encodeBooleanElement_3(n,6,e._isWaypoint),i.encodeNullableSerializableElement_3(n,7,kf(),e._waypointId),i.encodeNullableSerializableElement_3(n,8,Jm(),e._lineStringFeatureTo),(i.shouldEncodeElementDefault_3(n,9)||null!=e._instruction)&&i.encodeNullableSerializableElement_3(n,9,new Ip(kf()),e._instruction),i.endStructure_14(n)},ny.prototype.serialize_107=function(t,e){return this.serialize_96(t,e instanceof ry?e:Hu())},ny.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[rf]},ry.prototype.toString=function(){return"RouteNode(bearingFromLastNode="+this._bearingFromLastNode+", coordinates="+this._coordinates_2+", direction="+this._direction+", distanceFromLastNode="+this._distanceFromLastNode+", level="+this._level_0+", levelChangerId="+this._levelChangerId+", isWaypoint="+this._isWaypoint+", waypointId="+this._waypointId+", lineStringFeatureTo="+this._lineStringFeatureTo+")"},ry.prototype.hashCode=function(){var t=Iu(this._bearingFromLastNode);return t=ml(t,31)+zu(this._coordinates_2)|0,t=ml(t,31)+this._direction.hashCode()|0,t=ml(t,31)+Iu(this._distanceFromLastNode)|0,t=ml(t,31)+this._level_0|0,t=ml(t,31)+(null==this._levelChangerId?0:Bu(this._levelChangerId))|0,t=ml(t,31)+(0|this._isWaypoint)|0,t=ml(t,31)+(null==this._waypointId?0:Bu(this._waypointId))|0,ml(t,31)+(null==this._lineStringFeatureTo?0:zu(this._lineStringFeatureTo))|0},ry.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof ry))return!1;var e=t instanceof ry?t:Hu();return!!(Du(this._bearingFromLastNode,e._bearingFromLastNode)&&Du(this._coordinates_2,e._coordinates_2)&&this._direction.equals(e._direction)&&Du(this._distanceFromLastNode,e._distanceFromLastNode)&&this._level_0===e._level_0&&this._levelChangerId==e._levelChangerId&&this._isWaypoint===e._isWaypoint&&this._waypointId==e._waypointId&&Du(this._lineStringFeatureTo,e._lineStringFeatureTo))},ry.$metadata$={simpleName:"RouteNode",kind:"class",interfaces:[],associatedObjects:{0:iy}},ay.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},sy.prototype._get_descriptor__66=function(){return this._descriptor_43},sy.prototype.childSerializers_15=function(){return[Cf(),new qp(Cf()),new qp(kf()),Jm(),dy(),Tf(),new Ip(iy())]},sy.prototype.deserialize_70=function(t){var e=this._descriptor_43,n=!0,i=0,r=0,o=0,a=null,s=null,u=null,l=null,c=0,h=null,p=t.beginStructure_14(e);if(p.decodeSequentially_9())o=p.decodeDoubleElement_9(e,0),r|=1,a=p.decodeNullableSerializableElement_9(e,1,Cf(),a),r|=2,s=p.decodeNullableSerializableElement_9(e,2,kf(),s),r|=4,u=p.decodeSerializableElement_9(e,3,Jm(),u),r|=8,l=p.decodeSerializableElement_9(e,4,dy(),l),r|=16,c=p.decodeIntElement_9(e,5),r|=32,h=p.decodeSerializableElement_9(e,6,new Ip(iy()),h),r|=64;else for(;n;)switch(i=p.decodeElementIndex_9(e)){case-1:n=!1;break;case 0:o=p.decodeDoubleElement_9(e,0),r|=1;break;case 1:a=p.decodeNullableSerializableElement_9(e,1,Cf(),a),r|=2;break;case 2:s=p.decodeNullableSerializableElement_9(e,2,kf(),s),r|=4;break;case 3:u=p.decodeSerializableElement_9(e,3,Jm(),u),r|=8;break;case 4:l=p.decodeSerializableElement_9(e,4,dy(),l),r|=16;break;case 5:c=p.decodeIntElement_9(e,5),r|=32;break;case 6:h=p.decodeSerializableElement_9(e,6,new Ip(iy()),h),r|=64;break;default:throw qc(i)}return p.endStructure_14(e),function(t,e,n,i,r,o,a,s,u,l){if(0==(1&t))throw Hc("distanceMeters");if(l._distanceMeters=e,l._distanceCustom=0==(2&t)?null:n,l._distanceCustomUnit=0==(4&t)?null:i,0==(8&t))throw Hc("destination");if(l._destination=r,0==(16&t))throw Hc("configuration");if(l._configuration_3=o,l._lastNodeWithPathIndex=0==(32&t)?0:a,0==(64&t))throw Hc("steps");return l._nodeList=s,l}(r,o,a,s,u,l,c,h,0,Object.create(uy.prototype))},sy.prototype.serialize_98=function(t,e){var n=this._descriptor_43,i=t.beginStructure_14(n);i.encodeDoubleElement_3(n,0,e._distanceMeters),(i.shouldEncodeElementDefault_3(n,1)||null!=e._distanceCustom)&&i.encodeNullableSerializableElement_3(n,1,Cf(),e._distanceCustom),(i.shouldEncodeElementDefault_3(n,2)||null!=e._distanceCustomUnit)&&i.encodeNullableSerializableElement_3(n,2,kf(),e._distanceCustomUnit),i.encodeSerializableElement_3(n,3,Jm(),e._destination),i.encodeSerializableElement_3(n,4,dy(),e._configuration_3),(i.shouldEncodeElementDefault_3(n,5)||0!==e._lastNodeWithPathIndex)&&i.encodeIntElement_3(n,5,e._lastNodeWithPathIndex),i.encodeSerializableElement_3(n,6,new Ip(iy()),e._nodeList),i.endStructure_14(n)},sy.prototype.serialize_107=function(t,e){return this.serialize_98(t,e instanceof uy?e:Hu())},sy.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[rf]},uy.prototype._get_destinationTitle_=function(){var t=this._get_destinationProperties_(),e=null==t?null:t.get_16("title_i18n"),n=null==e?null:Wm(e),i=null==n?null:n.get_16(Uv().getDefault()._language),r=null==i?null:Ym(i);if(null!=r&&0!==Tu(r))return r;var o=this._get_destinationProperties_(),a=null==o?null:o.get_16("title_i18n"),s=null==a?null:Wm(a),u=null==s?null:s.get_16("en"),l=null==u?null:Ym(u);return null!=l&&0!==Tu(l)?l:this._destination.getStringProperty("title")},uy.prototype._get_destinationPoint_=function(){return this._destination.geometry()},uy.prototype._get_destinationProperties_=function(){return this._destination.properties()},uy.$metadata$={simpleName:"Route",kind:"class",interfaces:[],associatedObjects:{0:function(){return null==In&&new sy,In}}},ly.$metadata$={simpleName:"Waypoint",kind:"interface",interfaces:[]},cy.$metadata$={simpleName:"VariableWaypoint",kind:"class",interfaces:[ly]},hy.$metadata$={simpleName:"SimpleWaypoint",kind:"class",interfaces:[ly]},py.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},fy.prototype._get_descriptor__66=function(){return this._descriptor_44},fy.prototype.childSerializers_15=function(){return[new qp(Jm()),Jm(),new Ip(new zc(Bs(ly))),Jy()]},fy.prototype.deserialize_70=function(t){var e=this._descriptor_44,n=!0,i=0,r=0,o=null,a=null,s=null,u=null,l=t.beginStructure_14(e);if(l.decodeSequentially_9())o=l.decodeNullableSerializableElement_9(e,0,Jm(),o),r|=1,a=l.decodeSerializableElement_9(e,1,Jm(),a),r|=2,s=l.decodeSerializableElement_9(e,2,new Ip(new zc(Bs(ly))),s),r|=4,u=l.decodeSerializableElement_9(e,3,Jy(),u),r|=8;else for(;n;)switch(i=l.decodeElementIndex_9(e)){case-1:n=!1;break;case 0:o=l.decodeNullableSerializableElement_9(e,0,Jm(),o),r|=1;break;case 1:a=l.decodeSerializableElement_9(e,1,Jm(),a),r|=2;break;case 2:s=l.decodeSerializableElement_9(e,2,new Ip(new zc(Bs(ly))),s),r|=4;break;case 3:u=l.decodeSerializableElement_9(e,3,Jy(),u),r|=8;break;default:throw qc(i)}return l.endStructure_14(e),function(t,e,n,i,r,o,a){if(0==(1&t))throw Hc("start");if(a._start=e,0==(2&t))throw Hc("destination");if(a._destination_0=n,0==(4&t))throw Hc("waypointList");if(a._waypointList=i,0==(8&t))throw Hc("wayfindingOptions");return a._wayfindingOptions=r,a}(r,o,a,s,u,0,Object.create(gy.prototype))},fy.prototype.serialize_100=function(t,e){var n=this._descriptor_44,i=t.beginStructure_14(n);i.encodeNullableSerializableElement_3(n,0,Jm(),e._start),i.encodeSerializableElement_3(n,1,Jm(),e._destination_0),i.encodeSerializableElement_3(n,2,new Ip(new zc(Bs(ly))),e._waypointList),i.encodeSerializableElement_3(n,3,Jy(),e._wayfindingOptions),i.endStructure_14(n)},fy.prototype.serialize_107=function(t,e){return this.serialize_100(t,e instanceof gy?e:Hu())},fy.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[rf]},gy.prototype.getWaypointById=function(t){var e;t:do{for(var n=this._waypointList,i=da(Vi(n,10)),r=n.iterator_39();r.hasNext_14();){var o,a=r.next_14(),s=a;if(s instanceof hy)o=$o(a._feature);else{if(!(s instanceof cy))throw lc(Fu("Unsupported waypoint subclass!"));o=a._features}i.add_18(o),Mo()}for(var u=Bi(i).iterator_39();u.hasNext_14();){var l=u.next_14();if(l._id===t){e=l;break t}}e=null}while(0);return e},gy.prototype.toString=function(){return"RouteConfiguration(start="+this._start+", destination="+this._destination_0+", waypointList="+this._waypointList+", wayfindingOptions="+this._wayfindingOptions+")"},gy.prototype.hashCode=function(){var t=null==this._start?0:zu(this._start);return t=ml(t,31)+zu(this._destination_0)|0,t=ml(t,31)+zu(this._waypointList)|0,ml(t,31)+zu(this._wayfindingOptions)|0},gy.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof gy))return!1;var e=t instanceof gy?t:Hu();return!!(Du(this._start,e._start)&&Du(this._destination_0,e._destination_0)&&Du(this._waypointList,e._waypointList)&&Du(this._wayfindingOptions,e._wayfindingOptions))},gy.$metadata$={simpleName:"RouteConfiguration",kind:"class",interfaces:[],associatedObjects:{0:dy}},my.prototype.getLevelChangeList=function(){return Li([My(),Ny(),Ry(),Ty(),Oy(),Ly()])},my.prototype.isLevelChange=function(t){return f(this.getLevelChangeList(),t)},my.prototype.getTurnList=function(){return Li([xy(),ky(),Ey(),Sy(),Cy(),Iy(),Ay(),Py()])},my.prototype.isTurn=function(t){return f(this.getTurnList(),t)},my.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},by.prototype.isTurn_0=function(){return _y().getTurnList().contains_27(this)},by.prototype.isLevelChangeExit=function(){return!(!this.equals(Dy())&&!this.equals(zy()))||this.equals(Fy())},by.$metadata$={simpleName:"RouteStepDirection",kind:"class",interfaces:[]},jy.prototype.toString=function(){return"RouteUpdateData(nodeIndex="+this._nodeIndex+", stepBearing="+this._stepBearing+", stepDirection="+this._stepDirection+", stepDistance="+this._stepDistance+", stepDistanceTotal="+this._stepDistanceTotal+", nextStepBearing="+this._nextStepBearing+", nextStepDistance="+this._nextStepDistance+", nextStepDirection="+this._nextStepDirection+", pathLengthRemaining="+this._pathLengthRemaining+", position="+this._position_9+")"},jy.prototype.hashCode=function(){var t=this._nodeIndex;return t=ml(t,31)+Iu(this._stepBearing)|0,t=ml(t,31)+this._stepDirection.hashCode()|0,t=ml(t,31)+Iu(this._stepDistance)|0,t=ml(t,31)+Iu(this._stepDistanceTotal)|0,t=ml(t,31)+(null==this._nextStepBearing?0:Iu(this._nextStepBearing))|0,t=ml(t,31)+(null==this._nextStepDistance?0:Iu(this._nextStepDistance))|0,t=ml(t,31)+(null==this._nextStepDirection?0:this._nextStepDirection.hashCode())|0,t=ml(t,31)+Iu(this._pathLengthRemaining)|0,ml(t,31)+zu(this._position_9)|0},jy.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof jy))return!1;var e=t instanceof jy?t:Hu();return!!(this._nodeIndex===e._nodeIndex&&Du(this._stepBearing,e._stepBearing)&&this._stepDirection.equals(e._stepDirection)&&Du(this._stepDistance,e._stepDistance)&&Du(this._stepDistanceTotal,e._stepDistanceTotal)&&Du(this._nextStepBearing,e._nextStepBearing)&&Du(this._nextStepDistance,e._nextStepDistance)&&Du(this._nextStepDirection,e._nextStepDirection)&&Du(this._pathLengthRemaining,e._pathLengthRemaining)&&Du(this._position_9,e._position_9))},jy.$metadata$={simpleName:"RouteUpdateData",kind:"class",interfaces:[]},Uy.$metadata$={simpleName:"RouteUpdateType",kind:"class",interfaces:[]},Hy.prototype.toString=function(){return"UnitStage(unitName="+this._unitName+", unitConversionToMeters="+this._unitConversionToMeters+", minValueInMeters="+this._minValueInMeters+", decimals="+this._decimals+")"},Hy.prototype.hashCode=function(){var t=Bu(this._unitName);return t=ml(t,31)+Iu(this._unitConversionToMeters)|0,t=ml(t,31)+Iu(this._minValueInMeters)|0,ml(t,31)+this._decimals|0},Hy.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof Hy))return!1;var e=t instanceof Hy?t:Hu();return this._unitName===e._unitName&&!!Du(this._unitConversionToMeters,e._unitConversionToMeters)&&!!Du(this._minValueInMeters,e._minValueInMeters)&&this._decimals===e._decimals},Hy.$metadata$={simpleName:"UnitStage",kind:"class",interfaces:[]},Wy.prototype.toString=function(){return"ConversionResult(value="+this._value_7+", valueRounded="+this._valueRounded+", valueString="+this._valueString+", unitName="+this._unitName_0+")"},Wy.prototype.hashCode=function(){var t=Iu(this._value_7);return t=ml(t,31)+Iu(this._valueRounded)|0,t=ml(t,31)+Bu(this._valueString)|0,ml(t,31)+Bu(this._unitName_0)|0},Wy.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof Wy))return!1;var e=t instanceof Wy?t:Hu();return!!Du(this._value_7,e._value_7)&&!!Du(this._valueRounded,e._valueRounded)&&this._valueString===e._valueString&&this._unitName_0===e._unitName_0},Wy.$metadata$={simpleName:"ConversionResult",kind:"class",interfaces:[]},Yy.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},Xy.prototype.convert=function(t){var e,n=this._stageList;t:do{for(var i=n.listIterator_4(n._get_size__29());i.hasPrevious_1();){var r=i.previous_1();if(r._minValueInMeters<=t){e=r;break t}}e=null}while(0);var o,a=e;if(null!=a){var s=t*a._unitConversionToMeters,u=Y_(s,a._decimals),l=u.toString();o=new Wy(s,u,l,a._unitName)}else o=Zy()._DEFAULT.convert(t);return o},Xy.$metadata$={simpleName:"UnitConversion",kind:"class",interfaces:[]},Ky.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},$y.prototype._get_descriptor__66=function(){return this._descriptor_45},$y.prototype.childSerializers_15=function(){return[Nf(),Nf(),Nf(),Nf(),Nf(),Nf(),Nf(),Nf(),Cf()]},$y.prototype.deserialize_70=function(t){var e,n,i,r,o,a,s,u,l,c,h,p=this._descriptor_45,f=!0,d=0,g=0,m=!1,_=!1,y=!1,v=!1,b=!1,w=!1,x=!1,k=!1,E=0,S=t.beginStructure_14(p);if(S.decodeSequentially_9())m=S.decodeBooleanElement_9(p,0),g|=1,_=S.decodeBooleanElement_9(p,1),g|=2,y=S.decodeBooleanElement_9(p,2),g|=4,v=S.decodeBooleanElement_9(p,3),g|=8,b=S.decodeBooleanElement_9(p,4),g|=16,w=S.decodeBooleanElement_9(p,5),g|=32,x=S.decodeBooleanElement_9(p,6),g|=64,k=S.decodeBooleanElement_9(p,7),g|=128,E=S.decodeDoubleElement_9(p,8),g|=256;else for(;f;)switch(d=S.decodeElementIndex_9(p)){case-1:f=!1;break;case 0:m=S.decodeBooleanElement_9(p,0),g|=1;break;case 1:_=S.decodeBooleanElement_9(p,1),g|=2;break;case 2:y=S.decodeBooleanElement_9(p,2),g|=4;break;case 3:v=S.decodeBooleanElement_9(p,3),g|=8;break;case 4:b=S.decodeBooleanElement_9(p,4),g|=16;break;case 5:w=S.decodeBooleanElement_9(p,5),g|=32;break;case 6:x=S.decodeBooleanElement_9(p,6),g|=64;break;case 7:k=S.decodeBooleanElement_9(p,7),g|=128;break;case 8:E=S.decodeDoubleElement_9(p,8),g|=256;break;default:throw qc(d)}return S.endStructure_14(p),e=g,n=m,i=_,r=y,o=v,a=b,s=w,u=x,l=k,c=E,(h=Object.create(Qy.prototype))._avoidBarriers=0!=(1&e)&&n,h._avoidElevators=0!=(2&e)&&i,h._avoidEscalators=0!=(4&e)&&r,h._avoidNarrowPaths=0!=(8&e)&&o,h._avoidRamps=0!=(16&e)&&a,h._avoidRevolvingDoors=0!=(32&e)&&s,h._avoidStaircases=0!=(64&e)&&u,h._avoidTicketGates=0!=(128&e)&&l,h._pathFixDistance=0==(256&e)?0:c,h},$y.prototype.serialize_102=function(t,e){var n=this._descriptor_45,i=t.beginStructure_14(n);(i.shouldEncodeElementDefault_3(n,0)||!1!==e._avoidBarriers)&&i.encodeBooleanElement_3(n,0,e._avoidBarriers),(i.shouldEncodeElementDefault_3(n,1)||!1!==e._avoidElevators)&&i.encodeBooleanElement_3(n,1,e._avoidElevators),(i.shouldEncodeElementDefault_3(n,2)||!1!==e._avoidEscalators)&&i.encodeBooleanElement_3(n,2,e._avoidEscalators),(i.shouldEncodeElementDefault_3(n,3)||!1!==e._avoidNarrowPaths)&&i.encodeBooleanElement_3(n,3,e._avoidNarrowPaths),(i.shouldEncodeElementDefault_3(n,4)||!1!==e._avoidRamps)&&i.encodeBooleanElement_3(n,4,e._avoidRamps),(i.shouldEncodeElementDefault_3(n,5)||!1!==e._avoidRevolvingDoors)&&i.encodeBooleanElement_3(n,5,e._avoidRevolvingDoors),(i.shouldEncodeElementDefault_3(n,6)||!1!==e._avoidStaircases)&&i.encodeBooleanElement_3(n,6,e._avoidStaircases),(i.shouldEncodeElementDefault_3(n,7)||!1!==e._avoidTicketGates)&&i.encodeBooleanElement_3(n,7,e._avoidTicketGates),!i.shouldEncodeElementDefault_3(n,8)&&Du(e._pathFixDistance,0)||i.encodeDoubleElement_3(n,8,e._pathFixDistance),i.endStructure_14(n)},$y.prototype.serialize_107=function(t,e){return this.serialize_102(t,e instanceof Qy?e:Hu())},$y.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[rf]},Qy.$metadata$={simpleName:"WayfindingOptions",kind:"class",interfaces:[],associatedObjects:{0:Jy}},iv.prototype._get_landmarkList_=function(){return function(t,e,n){for(var i=fa(),r=t.iterator_39();r.hasNext_14();){var o=r.next_14();f(n,o._id)||(i.add_18(o),Mo())}return i}(this._landmarkList,0,this._ignoredFeatureIdList)},iv.prototype.updateFeatureList=function(t){for(var e=fa(),n=t.iterator_39();n.hasNext_14();){var i=n.next_14();i.getType().equals(K_())&&(e.add_18(i),Mo())}this._decisionList=e;for(var r=fa(),o=t.iterator_39();o.hasNext_14();){var a=o.next_14();a.getType().equals(Q_())&&(r.add_18(a),Mo())}this._hazardList=r;for(var s=fa(),u=t.iterator_39();u.hasNext_14();){var l=u.next_14();l.getType().isLevelChanger()&&(s.add_18(l),Mo())}this._levelChangerList=s},iv.prototype.getLevelChangerById=function(t){var e,n=this._levelChangerList;t:do{for(var i=n.iterator_39();i.hasNext_14();){var r=i.next_14();if(r._id===t){e=r;break t}}e=null}while(0);return qu(e)},iv.$metadata$={simpleName:"GuidanceFeatureManager",kind:"class",interfaces:[]},rv.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},ov.prototype._get_descriptor__66=function(){return this._descriptor_46},ov.prototype.childSerializers_15=function(){return[kf(),kf(),Tf(),kf(),Tf(),Tf(),kf(),kf(),Tf()]},ov.prototype.deserialize_70=function(t){var e=this._descriptor_46,n=!0,i=0,r=0,o=null,a=null,s=0,u=null,l=0,c=0,h=null,p=null,f=0,d=t.beginStructure_14(e);if(d.decodeSequentially_9())o=d.decodeStringElement_9(e,0),r|=1,a=d.decodeStringElement_9(e,1),r|=2,s=d.decodeIntElement_9(e,2),r|=4,u=d.decodeStringElement_9(e,3),r|=8,l=d.decodeIntElement_9(e,4),r|=16,c=d.decodeIntElement_9(e,5),r|=32,h=d.decodeStringElement_9(e,6),r|=64,p=d.decodeStringElement_9(e,7),r|=128,f=d.decodeIntElement_9(e,8),r|=256;else for(;n;)switch(i=d.decodeElementIndex_9(e)){case-1:n=!1;break;case 0:o=d.decodeStringElement_9(e,0),r|=1;break;case 1:a=d.decodeStringElement_9(e,1),r|=2;break;case 2:s=d.decodeIntElement_9(e,2),r|=4;break;case 3:u=d.decodeStringElement_9(e,3),r|=8;break;case 4:l=d.decodeIntElement_9(e,4),r|=16;break;case 5:c=d.decodeIntElement_9(e,5),r|=32;break;case 6:h=d.decodeStringElement_9(e,6),r|=64;break;case 7:p=d.decodeStringElement_9(e,7),r|=128;break;case 8:f=d.decodeIntElement_9(e,8),r|=256;break;default:throw qc(i)}return d.endStructure_14(e),function(t,e,n,i,r,o,a,s,u,l,c,h){if(0==(1&t))throw Hc("distance");if(h._distance=e,0==(2&t))throw Hc("distanceUnit");if(h._distanceUnit=n,0==(4&t))throw Hc("headingTo");if(h._headingTo=i,0==(8&t))throw Hc("headingDirection");if(h._headingDirection=r,0==(16&t))throw Hc("levelFrom");if(h._levelFrom=o,0==(32&t))throw Hc("levelsChanged");if(h._levelsChanged=a,0==(64&t))throw Hc("levelUnitString");if(h._levelUnitString=s,0==(128&t))throw Hc("levelDirection");if(h._levelDirection=u,0==(256&t))throw Hc("levelTo");return h._levelTo=l,h}(r,o,a,s,u,l,c,h,p,f,0,Object.create(yv.prototype))},ov.prototype.serialize_104=function(t,e){var n=this._descriptor_46,i=t.beginStructure_14(n);i.encodeStringElement_3(n,0,e._distance),i.encodeStringElement_3(n,1,e._distanceUnit),i.encodeIntElement_3(n,2,e._headingTo),i.encodeStringElement_3(n,3,e._headingDirection),i.encodeIntElement_3(n,4,e._levelFrom),i.encodeIntElement_3(n,5,e._levelsChanged),i.encodeStringElement_3(n,6,e._levelUnitString),i.encodeStringElement_3(n,7,e._levelDirection),i.encodeIntElement_3(n,8,e._levelTo),i.endStructure_14(n)},ov.prototype.serialize_107=function(t,e){return this.serialize_104(t,e instanceof yv?e:Hu())},ov.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[rf]},av.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},sv.prototype._get_descriptor__66=function(){return this._descriptor_47},sv.prototype.childSerializers_15=function(){return[kf(),kf(),kf()]},sv.prototype.deserialize_70=function(t){var e=this._descriptor_47,n=!0,i=0,r=0,o=null,a=null,s=null,u=t.beginStructure_14(e);if(u.decodeSequentially_9())o=u.decodeStringElement_9(e,0),r|=1,a=u.decodeStringElement_9(e,1),r|=2,s=u.decodeStringElement_9(e,2),r|=4;else for(;n;)switch(i=u.decodeElementIndex_9(e)){case-1:n=!1;break;case 0:o=u.decodeStringElement_9(e,0),r|=1;break;case 1:a=u.decodeStringElement_9(e,1),r|=2;break;case 2:s=u.decodeStringElement_9(e,2),r|=4;break;default:throw qc(i)}return u.endStructure_14(e),function(t,e,n,i,r,o){if(0==(1&t))throw Hc("distance");if(o._distance_0=e,0==(2&t))throw Hc("distanceUnit");if(o._distanceUnit_0=n,0==(4&t))throw Hc("direction");return o._direction_0=i,o}(r,o,a,s,0,Object.create(wv.prototype))},sv.prototype.serialize_106=function(t,e){var n=this._descriptor_47,i=t.beginStructure_14(n);i.encodeStringElement_3(n,0,e._distance_0),i.encodeStringElement_3(n,1,e._distanceUnit_0),i.encodeStringElement_3(n,2,e._direction_0),i.endStructure_14(n)},sv.prototype.serialize_107=function(t,e){return this.serialize_106(t,e instanceof wv?e:Hu())},sv.$metadata$={simpleName:"$serializer",kind:"object",interfaces:[rf]},yv.prototype.toString=function(){return"LevelChangerData(distance="+this._distance+", distanceUnit="+this._distanceUnit+", headingTo="+this._headingTo+", headingDirection="+this._headingDirection+", levelFrom="+this._levelFrom+", levelsChanged="+this._levelsChanged+", levelUnitString="+this._levelUnitString+", levelDirection="+this._levelDirection+", levelTo="+this._levelTo+")"},yv.prototype.hashCode=function(){var t=Bu(this._distance);return t=ml(t,31)+Bu(this._distanceUnit)|0,t=ml(t,31)+this._headingTo|0,t=ml(t,31)+Bu(this._headingDirection)|0,t=ml(t,31)+this._levelFrom|0,t=ml(t,31)+this._levelsChanged|0,t=ml(t,31)+Bu(this._levelUnitString)|0,t=ml(t,31)+Bu(this._levelDirection)|0,ml(t,31)+this._levelTo|0},yv.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof yv))return!1;var e=t instanceof yv?t:Hu();return this._distance===e._distance&&this._distanceUnit===e._distanceUnit&&this._headingTo===e._headingTo&&this._headingDirection===e._headingDirection&&this._levelFrom===e._levelFrom&&this._levelsChanged===e._levelsChanged&&this._levelUnitString===e._levelUnitString&&this._levelDirection===e._levelDirection&&this._levelTo===e._levelTo},yv.$metadata$={simpleName:"LevelChangerData",kind:"class",interfaces:[],associatedObjects:{0:function(){return null==pi&&new ov,pi}}},wv.prototype.toString=function(){return"TurnData(distance="+this._distance_0+", distanceUnit="+this._distanceUnit_0+", direction="+this._direction_0+")"},wv.prototype.hashCode=function(){var t=Bu(this._distance_0);return t=ml(t,31)+Bu(this._distanceUnit_0)|0,ml(t,31)+Bu(this._direction_0)|0},wv.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof wv))return!1;var e=t instanceof wv?t:Hu();return this._distance_0===e._distance_0&&this._distanceUnit_0===e._distanceUnit_0&&this._direction_0===e._direction_0},wv.$metadata$={simpleName:"TurnData",kind:"class",interfaces:[],associatedObjects:{0:function(){return null==di&&new sv,di}}},Cv.prototype.toString=function(){return"RouteUpdateTextResult(updateText="+this._updateText+", additionalText="+this._additionalText+")"},Cv.prototype.hashCode=function(){return ml(Bu(this._updateText),31)+(null==this._additionalText?0:Bu(this._additionalText))|0},Cv.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof Cv))return!1;var e=t instanceof Cv?t:Hu();return this._updateText===e._updateText&&this._additionalText==e._additionalText},Cv.$metadata$={simpleName:"RouteUpdateTextResult",kind:"class",interfaces:[]},Iv.prototype.compare_0=function(t,e){return this._function(t,e)},Iv.prototype.compare=function(t,e){return this.compare_0(t,e)},Iv.$metadata$={simpleName:"sam$kotlin_Comparator$0",kind:"class",interfaces:[Ko]},Av.prototype.invoke_100=function(t,e){return function(t,e){return t===e?0:null==t?-1:null==e?1:Lu(null!=t&&("string"==(i=o(n=t))||"boolean"===i||Tl(n)||Cl(n,es(Bs(_o))))?t:Hu(),e);var n,i}(t.pointToPointDistance(qu(this._this$0_18._route)._nodeList.get_29(this._$nodeIndex-1|0)._coordinates_2),e.pointToPointDistance(qu(this._this$0_18._route)._nodeList.get_29(this._$nodeIndex-1|0)._coordinates_2))},Av.prototype.invoke_101=function(t,e){var n=t instanceof V_?t:Hu();return this.invoke_100(n,e instanceof V_?e:Hu())},Av.$metadata$={kind:"class",interfaces:[]},Pv.prototype.invoke_102=function(t){var e;if(Zm(this._$metadata,t.toString())&&Zm(Wm(this._$metadata.get_16(t.toString())),this._this$0_19._get_language_())){var n=Wm(this._$metadata.get_16(t.toString())).get_16(this._this$0_19._get_language_()),i=null==n?null:Ym(n);e=null==i?"":i}else e="";return e},Pv.prototype.invoke_103=function(t){return this.invoke_102(null!=t&&"number"==typeof t?t:Hu())},Pv.$metadata$={kind:"class",interfaces:[]},Tv.prototype._get_language_=function(){return Uv().getDefault()._language},Tv.prototype.setUnitConversion=function(t){this._conversion=t},Tv.prototype.generateStaticInstructionsForRoute=function(t){var e=function(t,e){var n=t._levelOverrideMap,i=new Tv(t._context,t._featureManager,t._guidanceTts,lv(t));return i.setUnitConversion(i._conversion),i._levelOverrideMap=n,i._route=e,i}(this,t);if(!Du(this._conversion,Zy()._DEFAULT)){var n=this._conversion.convert(t._distanceMeters);t._distanceCustom=n._value_7,t._distanceCustomUnit=n._unitName_0}for(var i=0,r=t._nodeList.iterator_39();r.hasNext_14();){var o=r.next_14();t:do{var a=i;i=a+1|0;var s=Qo(a);if(0===s){Mo();break t}if(o._direction.isLevelChangeExit()){Mo();break t}var u=s>1&&_y().isLevelChange(t._nodeList.get_29(s-2|0)._direction),l=o,c=e.generateUpdateString(Gy(),new jy(s,o._bearingFromLastNode,o._direction,o._distanceFromLastNode,o._distanceFromLastNode,s<Oi(t._nodeList)?t._nodeList.get_29(s+1|0)._bearingFromLastNode:null,s<Oi(t._nodeList)?t._nodeList.get_29(s+1|0)._distanceFromLastNode:null,s<Oi(t._nodeList)?t._nodeList.get_29(s+1|0)._direction:null,0,b_().fromLngLat(0,0)),u),h=fa();Tu(c._updateText)>0&&(h.add_18(c._updateText),Mo());var p=c._additionalText;null!=p&&0!==Tu(p)&&(h.add_18(qu(c._additionalText)),Mo()),l._instruction=h}while(0)}},Tv.prototype.generateUpdateString=function(t,e,n){var i,r=t;r.equals((Vy(),$n))?i=uv(lv(this)._stateCalculating,null,2):r.equals((Vy(),Jn))?i=uv(lv(this)._stateRecalculating,null,2):r.equals((Vy(),oi))?i=uv(lv(this)._stateRouteNotFound,null,2):r.equals((Vy(),ai))?i=uv(lv(this)._stateRouteOsrmError,null,2):r.equals((Vy(),ri))?i=uv(lv(this)._stateCanceled,null,2):r.equals((Vy(),ii))?i=new Cv(mv(this),_v(this)):r.equals(Gy())?i=uv(cv(this,qu(e)),null,2):r.equals((Vy(),ni))?i=uv(function(t,e){var n=Jo(new Dr("update",cv(t,e)));return t._mustache.compile(lv(t)._updateTurnConfirmation).execute_0(n)}(this,qu(e)),null,2):r.equals((Vy(),Qn))?i=uv(cv(this,qu(e)),null,2):r.equals(qy())?i=function(t,e,n,i){var r,o="",a=e._stepDirection;if(a.equals(xy()))r=lv(t)._immediateTurnAround;else if(a.equals(ky()))r=lv(t)._immediateTurnLeftHard;else if(a.equals(Ey()))r=lv(t)._immediateTurnLeft;else if(a.equals(Sy()))r=lv(t)._immediateTurnLeftSlight;else if(a.equals(Cy()))r=lv(t)._immediateTurnStraight;else if(a.equals(Iy()))r=lv(t)._immediateTurnRightSlight;else if(a.equals(Ay()))r=lv(t)._immediateTurnRight;else if(a.equals(Py()))r=lv(t)._immediateTurnRightHard;else if(a.equals(By()))r=mv(t);else if(a.equals(Ty()))r=bv(t,lv(t)._immediateLevelchangeElevator,e);else if(a.equals(Oy()))r=bv(t,lv(t)._immediateLevelchangeEscalator,e);else if(a.equals(Ly()))r=bv(t,lv(t)._immediateLevelchangeStairs,e);else if(a.equals(My()))r=bv(t,lv(t)._immediateLevelchangeElevator,e);else if(a.equals(Ny()))r=bv(t,lv(t)._immediateLevelchangeEscalator,e);else{if(!a.equals(Ry()))throw lc(Fu("Unsupported step direction."));r=bv(t,lv(t)._immediateLevelchangeStairs,e)}var s,u=r;if(qu(t._route)._nodeList.get_29(e._nodeIndex)._isWaypoint){var l=t._mustache.compile(lv(t)._immediateWaypoint),c=Wi([new Dr("turn",u)]),h=qu(t._route)._nodeList.get_29(e._nodeIndex)._waypointId;if(null==h);else{var p=qu(t._route)._configuration_3.getWaypointById(h),f=null==p?null:p.getTitle();c.put_4("waypointTitle",null==f?"":f)}Mo(),s=l.execute_0(c)}else s=u;var d=s;if(e._stepDirection.equals(By())&&(o+=_v(t)),!_y().isLevelChange(e._stepDirection)&&_y().isTurn(e._nextStepDirection)){var g=pv(t,e._nodeIndex+1|0,i);o+=0===Tu(o)?g:" "+g}if(By().equals(e._nextStepDirection)){var m=hv(t,qu(e._nextStepDistance));o+=0===Tu(o)?m:" "+m}if(_y().isLevelChange(e._nextStepDirection)){var _=gv(t,e._nodeIndex+1|0,qu(e._nextStepDistance),n);o+=0===Tu(o)?_:" "+_}return new Cv(d,o)}(this,qu(e),this._featureManager._levelChangerList,this._featureManager._get_landmarkList_()):Gu();var o=i;return n&&null!=e?function(t,e,n,i){if(null==qu(t._route)._nodeList.get_29(e._nodeIndex-1|0)._levelChangerId)return i;var r,o;t:do{for(var a=t._featureManager._levelChangerList.iterator_39();a.hasNext_14();){var s=a.next_14();if(s._id==qu(t._route)._nodeList.get_29(e._nodeIndex-1|0)._levelChangerId){r=s;break t}}r=null}while(0);if(null==r)return i;var u=r._featureGeometry;if(ev(u instanceof E_?u:Hu(),qu(t._route)._nodeList.get_29(e._nodeIndex-1|0)._coordinates_2)<.2){var l;if(qu(t._route)._nodeList.get_29(e._nodeIndex)._direction.isTurn_0()){var c;if(n.equals(qy())){var h=qu(t._route)._nodeList.get_29(e._nodeIndex)._bearingFromLastNode,p=Nv(qu(t._route)._nodeList.get_29(e._nodeIndex+1|0)._bearingFromLastNode-h);c=new Cv(dv(t,e,t._featureManager._levelChangerList,p),null)}else c=new Cv(dv(t,e,t._featureManager._levelChangerList,0),i._updateText);l=c}else l=new Cv(dv(t,e,t._featureManager._levelChangerList,0),i._updateText);o=l}else o=new Cv(function(t,e,n,i,r,o){return dv(t,e,n,null)}(t,e,t._featureManager._levelChangerList),_y().isTurn(e._stepDirection)||_y().isTurn(e._stepDirection)?pv(t,e._nodeIndex,t._featureManager._get_landmarkList_()):By().equals(e._stepDirection)?hv(t,e._stepDistance):_y().isLevelChange(e._stepDirection)?gv(t,e._nodeIndex,e._stepDistance,t._featureManager._levelChangerList):null);return o}(this,e,t,o):o},Tv.$metadata$={simpleName:"GuidanceTextGenerator",kind:"class",interfaces:[]},Lv.$metadata$={simpleName:"GuidanceTts",kind:"class",interfaces:[]},Rv.prototype.toString=function(){return"RouteSplit(from="+this._from+", toConnector="+this._toConnector+", toDestination="+this._toDestination+", toWaypoint="+this._toWaypoint+", campusId="+this._campusId+", splits="+this._splits+")"},Rv.prototype.hashCode=function(){var t=zu(this._from);return t=ml(t,31)+(null==this._toConnector?0:zu(this._toConnector))|0,t=ml(t,31)+(null==this._toDestination?0:zu(this._toDestination))|0,t=ml(t,31)+(null==this._toWaypoint?0:zu(this._toWaypoint))|0,t=ml(t,31)+(null==this._campusId?0:Bu(this._campusId))|0,ml(t,31)+zu(this._splits)|0},Rv.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof Rv))return!1;var e=t instanceof Rv?t:Hu();return!!(Du(this._from,e._from)&&Du(this._toConnector,e._toConnector)&&Du(this._toDestination,e._toDestination)&&Du(this._toWaypoint,e._toWaypoint)&&this._campusId==e._campusId&&Du(this._splits,e._splits))},Rv.$metadata$={simpleName:"RouteSplit",kind:"class",interfaces:[]},Dv.prototype.toString=function(){return"RouteStep(node="+this._node+", pathToNode="+this._pathToNode+", campusId="+this._campusId_0+", level="+this._level_1+", connector="+this._connector+", waypoint="+this._waypoint+")"},Dv.prototype.hashCode=function(){var t=zu(this._node);return t=ml(t,31)+(null==this._pathToNode?0:zu(this._pathToNode))|0,t=ml(t,31)+(null==this._campusId_0?0:Bu(this._campusId_0))|0,t=ml(t,31)+this._level_1|0,t=ml(t,31)+(null==this._connector?0:zu(this._connector))|0,ml(t,31)+(null==this._waypoint?0:zu(this._waypoint))|0},Dv.prototype.equals=function(t){if(this===t)return!0;if(!(t instanceof Dv))return!1;var e=t instanceof Dv?t:Hu();return!!(Du(this._node,e._node)&&Du(this._pathToNode,e._pathToNode)&&this._campusId_0==e._campusId_0&&this._level_1===e._level_1&&Du(this._connector,e._connector)&&Du(this._waypoint,e._waypoint))},Dv.$metadata$={simpleName:"RouteStep",kind:"class",interfaces:[]},Fv.prototype.convertWayfindingSplitToSteps=function(t,e,n){for(var i=n&&e_(p(qu(t._wayfindingPath)))?1:0,r=null!=t._toWaypoint&&e_(h(qu(t._wayfindingPath)))?qu(t._wayfindingPath)._get_size__29()-1|0:qu(t._wayfindingPath)._get_size__29(),o=qu(t._wayfindingPath).subList_4(i,r),a=Oi(o),s=da(Vi(o,10)),u=0,l=o.iterator_39();l.hasNext_14();){var c,f=l.next_14();t:do{var d=u;u=d+1|0;var g=Qo(d);if(e&&0===g||g>a){c=null;break t}var m=t_(f);c=new Dv(f,g>0&&m===t_(o.get_29(g-1|0))?zv(Bv(),g,o):null,t._campusId,m,g===a?t._toConnector:null,g===a?t._toWaypoint:null)}while(0);s.add_18(c),Mo()}return function(t,e){for(var n=t.iterator_39();n.hasNext_14();){var i=n.next_14();null!=i&&(e.add_18(i),Mo())}return e}(s,fa())},Fv.$metadata$={simpleName:"Router",kind:"object",interfaces:[]},Vv.prototype.getDefault=function(){return new qv},Vv.$metadata$={simpleName:"Companion",kind:"object",interfaces:[]},qv.$metadata$={simpleName:"Locale",kind:"class",interfaces:[]},Ci.prototype._get_entries__5=lu.prototype._get_entries__5,ko.prototype.hasNext_14=yo.prototype.hasNext_14,aa.prototype.get_29=cu.prototype.get_29,ha.prototype._get_entries__5=gu.prototype._get_entries__5,Fa.prototype.createJsMap_0=Ba.prototype.createJsMap_0,rs.prototype._get_simpleName__4=is.prototype._get_simpleName__4,rs.prototype.isInstance_4=is.prototype.isInstance_4,cp.prototype._get_descriptor__66=Mc.prototype._get_descriptor__66,xh.prototype._get_isNullable__17=dh.prototype._get_isNullable__17,xh.prototype._get_isInline__17=dh.prototype._get_isInline__17,ep.prototype.decodeSerializableElement$default_9=ap.prototype.decodeSerializableElement$default_9,ep.prototype._get_serializersModule__18=ip.prototype._get_serializersModule__18,ep.prototype.decodeSerializableValue_18=ip.prototype.decodeSerializableValue_18,ep.prototype.decodeSequentially_9=ap.prototype.decodeSequentially_9,ep.prototype.decodeElementIndex_9=ap.prototype.decodeElementIndex_9,ep.prototype.decodeCollectionSize_9=ap.prototype.decodeCollectionSize_9,np.prototype._get_serializersModule__18=sp.prototype._get_serializersModule__18,np.prototype.encodeNotNullMark_3=sp.prototype.encodeNotNullMark_3,np.prototype.beginCollection_3=sp.prototype.beginCollection_3,np.prototype.encodeSerializableValue_3=sp.prototype.encodeSerializableValue_3,np.prototype.encodeNullableSerializableValue_3=sp.prototype.encodeNullableSerializableValue_3,np.prototype.shouldEncodeElementDefault_3=up.prototype.shouldEncodeElementDefault_3,dp.prototype._get_serialName__17=dh.prototype._get_serialName__17,dp.prototype._get_isNullable__17=dh.prototype._get_isNullable__17,dp.prototype._get_isInline__17=dh.prototype._get_isInline__17,fp.prototype._get_isNullable__17=dh.prototype._get_isNullable__17,fp.prototype._get_isInline__17=dh.prototype._get_isInline__17,gp.prototype._get_isNullable__17=dh.prototype._get_isNullable__17,gp.prototype._get_isInline__17=dh.prototype._get_isInline__17,mp.prototype._get_isNullable__17=dh.prototype._get_isNullable__17,mp.prototype._get_isInline__17=dh.prototype._get_isInline__17,yp.prototype._get_isNullable__17=dh.prototype._get_isNullable__17,yp.prototype._get_isInline__17=dh.prototype._get_isInline__17,_p.prototype._get_isNullable__17=dh.prototype._get_isNullable__17,_p.prototype._get_isInline__17=dh.prototype._get_isInline__17,vp.prototype._get_isNullable__17=dh.prototype._get_isNullable__17,vp.prototype._get_isInline__17=dh.prototype._get_isInline__17,bp.prototype._get_isNullable__17=dh.prototype._get_isNullable__17,bp.prototype._get_isInline__17=dh.prototype._get_isInline__17,wp.prototype._get_isNullable__17=dh.prototype._get_isNullable__17,wp.prototype._get_isInline__17=dh.prototype._get_isInline__17,Sp.prototype._get_descriptor__66=Mc.prototype._get_descriptor__66,nf.prototype._get_isNullable__17=dh.prototype._get_isNullable__17,nf.prototype._get_isInline__17=dh.prototype._get_isInline__17,Dp.prototype._get_isNullable__17=dh.prototype._get_isNullable__17,zp.prototype.typeParametersSerializers_15=rf.prototype.typeParametersSerializers_15,zf.prototype._get_isNullable__17=dh.prototype._get_isNullable__17,zf.prototype._get_isInline__17=dh.prototype._get_isInline__17,Uf.prototype.decodeSerializableElement$default_9=ap.prototype.decodeSerializableElement$default_9,Uf.prototype.decodeSerializableValue_18=ip.prototype.decodeSerializableValue_18,Uf.prototype.decodeSequentially_9=ap.prototype.decodeSequentially_9,Uf.prototype.decodeElementIndex_9=ap.prototype.decodeElementIndex_9,Uf.prototype.decodeCollectionSize_9=ap.prototype.decodeCollectionSize_9,Ff.prototype.decodeSerializableValue_18=ip.prototype.decodeSerializableValue_18,Ff.prototype.decodeSerializableElement$default_9=ap.prototype.decodeSerializableElement$default_9,Ff.prototype.decodeSequentially_9=ap.prototype.decodeSequentially_9,Ff.prototype.decodeElementIndex_9=ap.prototype.decodeElementIndex_9,Ff.prototype.decodeCollectionSize_9=ap.prototype.decodeCollectionSize_9,Kf.prototype._get_descriptor__66=Mc.prototype._get_descriptor__66,rg.prototype._get_isNullable__17=dh.prototype._get_isNullable__17,rg.prototype._get_isInline__17=dh.prototype._get_isInline__17,Zg.prototype.contextual_2=id.prototype.contextual_2,tm.prototype.decodeSequentially_9=ap.prototype.decodeSequentially_9,tm.prototype.decodeCollectionSize_9=ap.prototype.decodeCollectionSize_9,tm.prototype.decodeSerializableElement$default_9=ap.prototype.decodeSerializableElement$default_9,em.prototype.decodeSerializableValue_18=ip.prototype.decodeSerializableValue_18,em.prototype.decodeSerializableElement$default_9=ap.prototype.decodeSerializableElement$default_9,em.prototype.decodeSequentially_9=ap.prototype.decodeSequentially_9,em.prototype.decodeCollectionSize_9=ap.prototype.decodeCollectionSize_9,nm.prototype.encodeNotNullMark_3=sp.prototype.encodeNotNullMark_3,nm.prototype.beginCollection_3=sp.prototype.beginCollection_3,nm.prototype.encodeNullableSerializableValue_3=sp.prototype.encodeNullableSerializableValue_3,um.prototype.decodeSerializableElement$default_9=ap.prototype.decodeSerializableElement$default_9,um.prototype.decodeSequentially_9=ap.prototype.decodeSequentially_9,um.prototype.decodeElementIndex_9=ap.prototype.decodeElementIndex_9,um.prototype.decodeCollectionSize_9=ap.prototype.decodeCollectionSize_9,fm.prototype.decodeSerializableElement$default_9=ap.prototype.decodeSerializableElement$default_9,fm.prototype.decodeSequentially_9=ap.prototype.decodeSequentially_9,fm.prototype.decodeCollectionSize_9=ap.prototype.decodeCollectionSize_9,dm.prototype.decodeSerializableElement$default_9=ap.prototype.decodeSerializableElement$default_9,dm.prototype.decodeSequentially_9=ap.prototype.decodeSequentially_9,dm.prototype.decodeCollectionSize_9=ap.prototype.decodeCollectionSize_9,gm.prototype.decodeSerializableElement$default_9=ap.prototype.decodeSerializableElement$default_9,gm.prototype.decodeSequentially_9=ap.prototype.decodeSequentially_9,gm.prototype.decodeCollectionSize_9=ap.prototype.decodeCollectionSize_9,mm.prototype.decodeSerializableElement$default_9=ap.prototype.decodeSerializableElement$default_9,mm.prototype.decodeSequentially_9=ap.prototype.decodeSequentially_9,mm.prototype.decodeCollectionSize_9=ap.prototype.decodeCollectionSize_9,Sm.prototype.encodeNotNullMark_3=sp.prototype.encodeNotNullMark_3,Sm.prototype.beginCollection_3=sp.prototype.beginCollection_3,Sm.prototype.encodeSerializableValue_3=sp.prototype.encodeSerializableValue_3,Sm.prototype.encodeNullableSerializableValue_3=sp.prototype.encodeNullableSerializableValue_3,Sm.prototype.shouldEncodeElementDefault_3=up.prototype.shouldEncodeElementDefault_3,Dm.prototype.encodeNotNullMark_3=sp.prototype.encodeNotNullMark_3,Dm.prototype.beginCollection_3=sp.prototype.beginCollection_3,Dm.prototype.encodeNullableSerializableValue_3=sp.prototype.encodeNullableSerializableValue_3,$m.prototype.typeParametersSerializers_15=rf.prototype.typeParametersSerializers_15,u_.prototype.typeParametersSerializers_15=rf.prototype.typeParametersSerializers_15,p_.prototype.typeParametersSerializers_15=rf.prototype.typeParametersSerializers_15,m_.prototype.typeParametersSerializers_15=rf.prototype.typeParametersSerializers_15,w_.prototype.typeParametersSerializers_15=rf.prototype.typeParametersSerializers_15,C_.prototype.typeParametersSerializers_15=rf.prototype.typeParametersSerializers_15,j_.prototype.typeParametersSerializers_15=rf.prototype.typeParametersSerializers_15,U_.prototype.typeParametersSerializers_15=rf.prototype.typeParametersSerializers_15,H_.prototype.typeParametersSerializers_15=rf.prototype.typeParametersSerializers_15,ny.prototype.typeParametersSerializers_15=rf.prototype.typeParametersSerializers_15,sy.prototype.typeParametersSerializers_15=rf.prototype.typeParametersSerializers_15,fy.prototype.typeParametersSerializers_15=rf.prototype.typeParametersSerializers_15,$y.prototype.typeParametersSerializers_15=rf.prototype.typeParametersSerializers_15,ov.prototype.typeParametersSerializers_15=rf.prototype.typeParametersSerializers_15,sv.prototype.typeParametersSerializers_15=rf.prototype.typeParametersSerializers_15,et=null,rt=xu(Array(0),null),ut=new ArrayBuffer(8),lt=new Float64Array(ut),ct=new Int32Array(ut),lt[0]=-1,pt=1-(ht=0!==ct[0]?1:0)|0,dt=sl(0),gt=sl(1),mt=sl(-1),_t=new Ju(-1,2147483647),yt=new Ju(0,-2147483648),vt=sl(16777216),bt=[[{kind:"class",interfaces:[]},{kind:"class",interfaces:[]}],[{kind:"class",interfaces:[]},{kind:"class",interfaces:[]}],[{kind:"class",interfaces:[]},{kind:"class",interfaces:[]}]],qt=[],Gt=[],Qt=Gi([zr(Fs()._get_stringClass_(),eh(Yo())),zr(Bs(au),nh(ou())),zr(Fs()._get_charArrayClass_(),(null==Ht&&new af,Ht)),zr(Fs()._get_doubleClass_(),ih(Ho())),zr(Fs()._get_doubleArrayClass_(),(null==Wt&&new sf,Wt)),zr(Fs()._get_floatClass_(),rh(qo())),zr(Fs()._get_floatArrayClass_(),(null==Yt&&new uf,Yt)),zr(Bs(Ju),oh($u())),zr(Fs()._get_longArrayClass_(),(null==Zt&&new lf,Zt)),zr(Fs()._get_intClass_(),ah(Vo())),zr(Fs()._get_intArrayClass_(),(null==Xt&&new cf,Xt)),zr(Fs()._get_shortClass_(),sh(Bo())),zr(Fs()._get_shortArrayClass_(),(null==Kt&&new hf,Kt)),zr(Fs()._get_byteClass_(),uh(zo())),zr(Fs()._get_byteArrayClass_(),(null==$t&&new pf,$t)),zr(Fs()._get_booleanClass_(),lh(Xo())),zr(Fs()._get_booleanArrayClass_(),(null==Jt&&new ff,Jt)),zr(Bs(Lo),(Mo(),null==le&&new Rf,le))]),ce=new Object,he=new Jf(Hi(),Hi(),Hi(),Hi()),Ie=new Xg,_i=[(Hr(),null==Bt&&new Fp,Bt)._get_descriptor__66(),ch(Kr())._get_descriptor__66(),(jr(),null==Vt&&new jp,Vt)._get_descriptor__66(),(eo(),null==Ut&&new Vp,Ut)._get_descriptor__66()],Ae=_i.length>0?function(t){var e;switch(t.length){case 0:return rr();case 1:return a(e=[t[0]],Oa(e.length));default:return a(t,Ya(t.length))}}(_i):rr(),Pe=function(){var t=xu(Array(93),null),e=0;if(e<=31)do{var n=e;e=e+1|0;var i=rm(n>>12),r=rm(n>>8),o=rm(n>>4),a=rm(n);t[n]="\\u"+i+r+o+a}while(e<=31);return t[new au(34).toInt_5()]='\\"',t[new au(92).toInt_5()]="\\\\",t[new au(9).toInt_5()]="\\t",t[new au(8).toInt_5()]="\\b",t[new au(10).toInt_5()]="\\n",t[new au(13).toInt_5()]="\\r",t[12]="\\f",t}(),t.RouteFactory=Um;var Gv=t.android||(t.android={}),Hv=Gv.content||(Gv.content={});Hv.Context=Gm,Hv.Context.Resources=qm;var Wv=t.com||(t.com={}),Yv=Wv.mapbox||(Wv.mapbox={}),Zv=Yv.geojson||(Yv.geojson={});Zv.Geometry=i_,Zv.Point=E_,Zv.Point.Point_init_$Create$=k_}(t.exports)}},e={},function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}(970);var t,e},"object"==o(e)&&"object"==o(t)?t.exports=a():void 0===(r="function"==typeof(i=a)?i.apply(e,[]):i)||(t.exports=r)}).call(this,n("YuTi")(t))},Lmem:function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},Lzq4:function(t,e,n){var i=n("u/Db"),r=n("e/Dd");function o(t){this.mode=i.KANJI,this.data=t}o.getBitsLength=function(t){return 13*t},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var n=r.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");n-=49472}t.put(n=192*(n>>>8&255)+(255&n),13)}},t.exports=o},M7lk:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function(t,e){return e.reduce(function(e,n){if(null==t)throw new Error("'".concat(t,"' is no valid coordinate."));return Object.prototype.hasOwnProperty.call(t,n)&&void 0!==n&&void 0===e?(e=n,n):e},void 0)}},MLWZ:function(t,e,n){"use strict";var i=n("xTJ+");function r(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(i.isURLSearchParams(e))o=e.toString();else{var a=[];i.forEach(e,function(t,e){null!=t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),a.push(r(e)+"="+r(t))}))}),o=a.join("&")}if(o){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},MMNp:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Eventable=void 0;var i=function(){function t(){this._observers=[]}return t.prototype.on=function(t){this._observers&&this._observers.push(t)},t.prototype.off=function(t){var e=this._observers?this._observers.findIndex(function(e){return e===t}):0;e>=0&&this._observers&&this._observers.splice(e,1)},t.prototype.notify=function(t,e){var n=this;this._observers&&this._observers.forEach(function(i){return i(t,e,n)})},t}();e.Eventable=i},NBE3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(n("2o5z")),r=s(n("QTq/")),o=s(n("jDUc")),a=s(n("6D9Q"));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){var n=(0,o.default)((0,r.default)(e))-(0,o.default)((0,r.default)(t)),s=Math.log(Math.tan((0,o.default)((0,i.default)(e))/2+Math.PI/4)/Math.tan((0,o.default)((0,i.default)(t))/2+Math.PI/4));return Math.abs(n)>Math.PI&&(n=n>0?-1*(2*Math.PI-n):2*Math.PI+n),((0,a.default)(Math.atan2(n,s))+360)%360}},NPxG:function(t,e,n){var i=n("ekOh"),r=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(t,e){switch(e){case i.L:return r[4*(t-1)+0];case i.M:return r[4*(t-1)+1];case i.Q:return r[4*(t-1)+2];case i.H:return r[4*(t-1)+3];default:return}},e.getTotalCodewordsCount=function(t,e){switch(e){case i.L:return o[4*(t-1)+0];case i.M:return o[4*(t-1)+1];case i.Q:return o[4*(t-1)+2];case i.H:return o[4*(t-1)+3];default:return}}},NV5O:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{u(i.next(t))}catch(e){o(e)}}function s(t){try{u(i.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((i=i.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=n("Ijak"),u=function(t){function e(e){var n=t.call(this,e)||this;return n.startLngLat=e.startLngLat,n.startLevel=e.startLevel,n.startSegmentId=e.startSegmentId,n.startSegmentName=e.startSegmentName,n.startGeofenceId=e.startGeofenceId,n.startGeofenceName=e.startGeofenceName,n.destinationFeatureId=e.destinationFeatureId,n.destinationName=e.destinationName,n.destinationLngLat=e.destinationLngLat,n.destinationLevel=e.destinationLevel,n.foundPath=e.foundPath,n.optionAvoidBarrier=e.optionAvoidBarrier,n.optionAvoidElevators=e.optionAvoidElevators,n.optionAvoidEscalators=e.optionAvoidEscalators,n.optionAvoidNarrowPaths=e.optionAvoidNarrowPaths,n.optionAvoidRamps=e.optionAvoidRamps,n.optionAvoidStaircases=e.optionAvoidStaircases,n.optionAvoidTicketGates=e.optionAvoidTicketGates,n.route=e.route,n.rerouted=e.rerouted,n}return r(e,t),e.prototype.save=function(){return o(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,s.axios.post("v6/geo/wayfinding_logs",[this])];case 1:return e.sent(),[3,3];case 2:return t=e.sent(),console.log("Log saving failed, "+t.message),[3,3];case 3:return[2]}})})},e}(n("J3it").default);e.default=u},"NkL+":function(t,e,n){"use strict";var i=Object.prototype.toString;t.exports=function(t){var e;return"[object Object]"===i.call(t)&&(null===(e=Object.getPrototypeOf(t))||e===Object.getPrototypeOf({}))}},Nrgg:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r=(i=n("wI44"))&&i.__esModule?i:{default:i};e.default=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.default,i=n(t,e),o=Number(e.time)-Number(t.time),a=i/o*1e3;return a}},OChx:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.POI_TYPE=void 0,e.POI_TYPE={POI:"poi",HAZARD:"hazard",DOOR:"door",ENTRANCE:"entrance",TICKET_GATE:"ticket_gate",DECISION:"decision",LANDMARK:"landmark",ELEVATOR:"elevator",ESCALATOR:"escalator",STAIRCASE:"staircase",TEXT:"text"},e.default=function(t,e,n){this.type=t,this.title=e,this.icon=n}},OH9c:function(t,e,n){"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},OTTw:function(t,e,n){"use strict";var i=n("xTJ+");t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=i.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},OTo6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r=(i=n("JKJh"))&&i.__esModule?i:{default:i};e.default=function(t){var e=(0,r.default)(t),n=e.minLng+(e.maxLng-e.minLng)/2;return{latitude:parseFloat((e.minLat+(e.maxLat-e.minLat)/2).toFixed(6)),longitude:parseFloat(n.toFixed(6))}}},Ow4I:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.id=t.id||(t.properties?t.properties.id:void 0),this.createdAt=t.createdAt,this.updatedAt=t.updatedAt}return Object.defineProperty(t.prototype,"exists",{get:function(){return void 0!==this.id},enumerable:!1,configurable:!0}),t}();e.default=i},"P8+q":function(t,e,n){var i;t.exports=i={},i.simpleFilter=function(t,e){return e.filter(function(e){return i.test(t,e)})},i.test=function(t,e){return null!==i.match(t,e)},i.match=function(t,e,n){var i,r=0,o=[],a=e.length,s=0,u=0,l=(n=n||{}).pre||"",c=n.post||"",h=n.caseSensitive&&e||e.toLowerCase();t=n.caseSensitive&&t||t.toLowerCase();for(var p=0;p<a;p++)i=e[p],h[p]===t[r]?(i=l+i+c,r+=1,u+=1+u):u=0,s+=u,o[o.length]=i;return r===t.length?(s=h===t?1/0:s,{rendered:o.join(""),score:s}):null},i.filter=function(t,e,n){return e&&0!==e.length?"string"!=typeof t?e:(n=n||{},e.reduce(function(e,r,o,a){var s=r;n.extract&&(s=n.extract(r));var u=i.match(t,s,n);return null!=u&&(e[e.length]={string:u.rendered,score:u.score,index:o,original:r}),e},[]).sort(function(t,e){return e.score-t.score||t.index-e.index})):[]}},PDX0:function(t,e){(function(e){t.exports=e}).call(this,{})},PKnj:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutProperties=e.PaintProperties=void 0;var o=n("/R7+"),a=function(t){function e(e){var n=t.call(this)||this;return n.circleRadius=e["circle-radius"]||5,n.circleColor=e["circle-color"]||"#000000",n.circleBlur=e["circle-blur"]||0,n.circleOpacity=e["circle-opacity"]||1,n.circleTranslate=e["circle-translate"]||[0,0],n.circleTranslateAnchor=e["circle-translate-anchor"]||"map",n.circlePitchScale=e["circle-pitch-scale"]||"map",n.circlePitchAlignment=e["circle-pitch-alignment"]||"viewport",n.circleStrokeWidth=e["circle-stroke-width"]||1,n.circleStrokeColor=e["circle-stroke-color"]||"#000000",n.circleStrokeOpacity=e["circle-stroke-opacity"]||1,n}return r(e,t),e}(o.Serializable);e.PaintProperties=a;var s=function(t){function e(e){var n=t.call(this)||this;return n.visibility=e.visibility||"visible",n.circleSortKey=e["circle-sort-key"]||0,n}return r(e,t),e}(o.Serializable);e.LayoutProperties=s;var u=function(t){function e(e){var n=t.call(this,e)||this;return n.type="circle",n.paint=new a(e.paint||{}),n.layout=new s(e.layout||{}),n}return r(e,t),e}(o.default);e.default=u},QAZZ:function(t,e,n){var i=n("Rb7d");function r(t,e){var n=t.a/255,i=e+'="'+t.hex+'"';return n<1?i+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':i}function o(t,e,n){var i=t+e;return void 0!==n&&(i+=" "+n),i}e.render=function(t,e,n){var a=i.getOptions(e),s=t.modules.size,u=t.modules.data,l=s+2*a.margin,c=a.color.light.a?"<path "+r(a.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",h="<path "+r(a.color.dark,"stroke")+' d="'+function(t,e,n){for(var i="",r=0,a=!1,s=0,u=0;u<t.length;u++){var l=Math.floor(u%e),c=Math.floor(u/e);l||a||(a=!0),t[u]?(s++,u>0&&l>0&&t[u-1]||(i+=a?o("M",l+n,.5+c+n):o("m",r,0),r=0,a=!1),l+1<e&&t[u+1]||(i+=o("h",s),s=0)):r++}return i}(u,s,a.margin)+'"/>',p='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+'viewBox="0 0 '+l+" "+l+'" shape-rendering="crispEdges">'+c+h+"</svg>\n";return"function"==typeof n&&n(null,p),p}},"QTq/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("jH9d"),r=a(n("M7lk")),o=a(n("KcL1"));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){var n=(0,r.default)(t,i.longitudeKeys);if(null!=n){var a=t[n];return!0===e?a:(0,o.default)(a)}}},QUaw:function(t,e,n){var i=n("Rb7d");e.render=function(t,e,n){var r=n,o=e;void 0!==r||e&&e.getContext||(r=e,e=void 0),e||(o=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),r=i.getOptions(r);var a=i.getImageWidth(t.modules.size,r),s=o.getContext("2d"),u=s.createImageData(a,a);return i.qrToImageData(u.data,t,r),function(t,e,n){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=n,e.width=n,e.style.height=n+"px",e.style.width=n+"px"}(s,o,a),s.putImageData(u,0,0),o},e.renderToDataURL=function(t,n,i){var r=i;return void 0!==r||n&&n.getContext||(r=n,n=void 0),r||(r={}),e.render(t,n,r).toDataURL(r.type||"image/png",(r.rendererOpts||{}).quality)}},"R/WN":function(t,e,n){"use strict";var i=n("U6jy"),r=n("P8+q"),o=n("SX8C"),a=function(t,e,n){return this.options=i({minLength:2,limit:5,filter:!0,hideOnBlur:!0},n=n||{}),this.el=t,this.data=e||[],this.list=new o(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",(function(t){this.handleKeyUp(t.keyCode)}).bind(this),!1),this.el.addEventListener("keydown",(function(t){this.handleKeyDown(t)}).bind(this)),this.el.addEventListener("focus",(function(){this.handleFocus()}).bind(this)),this.el.addEventListener("blur",(function(){this.handleBlur()}).bind(this)),this.el.addEventListener("paste",(function(t){this.handlePaste(t)}).bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};a.prototype.handleKeyUp=function(t){40!==t&&38!==t&&27!==t&&13!==t&&9!==t&&this.handleInputChange(this.el.value)},a.prototype.handleKeyDown=function(t){switch(t.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&t.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next()}},a.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()},a.prototype.handlePaste=function(t){if(t.clipboardData)this.handleInputChange(t.clipboardData.getData("Text"));else{var e=this;setTimeout(function(){e.handleInputChange(t.target.value)},100)}},a.prototype.handleInputChange=function(t){this.query=this.normalize(t),this.list.clear(),this.query.length<this.options.minLength?this.list.draw():this.getCandidates((function(t){for(var e=0;e<t.length&&(this.list.add(t[e]),e!==this.options.limit-1);e++);this.list.draw()}).bind(this))},a.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1},a.prototype.update=function(t){this.data=t,this.handleKeyUp()},a.prototype.clear=function(){this.data=[],this.list.clear()},a.prototype.normalize=function(t){return t.toLowerCase()},a.prototype.match=function(t,e){return t.indexOf(e)>-1},a.prototype.value=function(t){if(this.selected=t,this.el.value=this.getItemValue(t),document.createEvent){var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!1),this.el.dispatchEvent(e)}else this.el.fireEvent("onchange")},a.prototype.getCandidates=function(t){var e={pre:"<strong>",post:"</strong>",extract:(function(t){return this.getItemValue(t)}).bind(this)};t(this.options.filter?r.filter(this.query,this.data,e).map((function(t){return{original:t.original,string:this.render(t.original,t.string)}}).bind(this)):this.data.map((function(t){return{original:t,string:this.render(t)}}).bind(this)))},a.prototype.getItemValue=function(t){return t},a.prototype.render=function(t,e){if(e)return e;for(var n=this.getItemValue(t.original?t.original:t),i=this.normalize(n),r=i.lastIndexOf(this.query);r>-1;){var o=r+this.query.length;n=n.slice(0,r)+"<strong>"+n.slice(r,o)+"</strong>"+n.slice(o),r=i.slice(0,r).lastIndexOf(this.query)}return n},a.prototype.renderError=function(t){this.list.drawError(t)},t.exports=a},Rb7d:function(t,e){function n(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw new Error("Color should be defined as hex string");var e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map(function(t){return[t,t]}))),6===e.length&&e.push("F","F");var n=parseInt(e.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+e.slice(0,6).join("")}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});var e=t.width&&t.width>=21?t.width:void 0;return{width:e,scale:e?4:t.scale||4,margin:null==t.margin||t.margin<0?4:t.margin,color:{dark:n(t.color.dark||"#000000ff"),light:n(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},e.getImageWidth=function(t,n){var i=e.getScale(t,n);return Math.floor((t+2*n.margin)*i)},e.qrToImageData=function(t,n,i){for(var r=n.modules.size,o=n.modules.data,a=e.getScale(r,i),s=Math.floor((r+2*i.margin)*a),u=i.margin*a,l=[i.color.light,i.color.dark],c=0;c<s;c++)for(var h=0;h<s;h++){var p=4*(c*s+h),f=i.color.light;c>=u&&h>=u&&c<s-u&&h<s-u&&(f=l[o[Math.floor((c-u)/a)*r+Math.floor((h-u)/a)]?1:0]),t[p++]=f.r,t[p++]=f.g,t[p++]=f.b,t[p]=f.a}}},"Rn+g":function(t,e,n){"use strict";var i=n("LYNF");t.exports=function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(i("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},"SJ/V":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r=(i=n("wI44"))&&i.__esModule?i:{default:i};e.default=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.default;return n="function"==typeof n?n:r.default,e.slice().sort(function(e,i){return n(t,e)-n(t,i)})}},SX8C:function(t,e,n){"use strict";var i=function(t){return this.component=t,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,t.el.parentNode.insertBefore(this.wrapper,t.el.nextSibling),this};i.prototype.show=function(){this.element.style.display="block"},i.prototype.hide=function(){this.element.style.display="none"},i.prototype.add=function(t){this.items.push(t)},i.prototype.clear=function(){this.items=[],this.active=0},i.prototype.isEmpty=function(){return!this.items.length},i.prototype.isVisible=function(){return"block"===this.element.style.display},i.prototype.draw=function(){if(this.element.innerHTML="",0!==this.items.length){for(var t=0;t<this.items.length;t++)this.drawItem(this.items[t],this.active===t);this.show()}else this.hide()},i.prototype.drawItem=function(t,e){var n=document.createElement("li"),i=document.createElement("a");e&&(n.className+=" active"),i.innerHTML=t.string,n.appendChild(i),this.element.appendChild(n),n.addEventListener("mousedown",(function(){this.selectingListItem=!0}).bind(this)),n.addEventListener("mouseup",(function(){this.handleMouseUp.call(this,t)}).bind(this))},i.prototype.handleMouseUp=function(t){this.selectingListItem=!1,this.component.value(t.original),this.clear(),this.draw()},i.prototype.move=function(t){this.active=t,this.draw()},i.prototype.previous=function(){this.move(0===this.active?this.items.length-1:this.active-1)},i.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)},i.prototype.drawError=function(t){var e=document.createElement("li");e.innerHTML=t,this.element.appendChild(e),this.show()},t.exports=i},SgzI:function(t){t.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},"Smn/":function(t,e,n){"use strict";t.exports=function(t,e){return Object.keys(t).reduce(function(n,i){return n[i]=e(i,t[i]),n},{})}},SntB:function(t,e,n){"use strict";var i=n("xTJ+");t.exports=function(t,e){e=e||{};var n={},r=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function u(t,e){return i.isPlainObject(t)&&i.isPlainObject(e)?i.merge(t,e):i.isPlainObject(e)?i.merge({},e):i.isArray(e)?e.slice():e}function l(r){i.isUndefined(e[r])?i.isUndefined(t[r])||(n[r]=u(void 0,t[r])):n[r]=u(t[r],e[r])}i.forEach(r,function(t){i.isUndefined(e[t])||(n[t]=u(void 0,e[t]))}),i.forEach(o,l),i.forEach(a,function(r){i.isUndefined(e[r])?i.isUndefined(t[r])||(n[r]=u(void 0,t[r])):n[r]=u(void 0,e[r])}),i.forEach(s,function(i){i in e?n[i]=u(t[i],e[i]):i in t&&(n[i]=u(void 0,t[i]))});var c=r.concat(o).concat(a).concat(s),h=Object.keys(t).concat(Object.keys(e)).filter(function(t){return-1===c.indexOf(t)});return i.forEach(h,l),n}},SsYf:function(t,e){t.exports={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}}},TAHI:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{u(i.next(t))}catch(e){o(e)}}function s(t){try{u(i.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.getPlaceById=e.getPlaces=void 0;var o=n("Ijak"),a=n("Jlhj");e.getPlaces=function(t,e,n,s,u,l,c){return i(void 0,void 0,void 0,function(){var i,h,p;return r(this,function(r){switch(r.label){case 0:i="",t&&(i+="?limit="+t),e&&(i+="&skip="+e),n&&(i+="&order="+n),s&&(i+="&dir="+s),u&&(i+="&filterByIndex="+u),l&&(i+="&q="+l),c&&(i+="&filter="+l),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,o.axios.get("core/places"+i)];case 2:return[2,{data:(h=r.sent()).data.map(function(t){return new a.PlaceModel(t)}),total:+h.headers.searchcount}];case 3:throw p=r.sent(),new Error("Retrieving places failed, "+p.message);case 4:return[2]}})})},e.getPlaceById=function(t){return i(void 0,void 0,void 0,function(){var e,n;return r(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,o.axios.get("core/places/"+t)];case 1:return e=i.sent(),[2,new a.PlaceModel(e.data)];case 2:throw n=i.sent(),new Error("Retrieving place by id '"+t+"' failed, "+n.message);case 3:return[2]}})})},e.default={getPlaces:e.getPlaces,getPlaceById:e.getPlaceById}},U6jy:function(t,e){t.exports=function(){for(var t={},e=0;e<arguments.length;e++){var i=arguments[e];for(var r in i)n.call(i,r)&&(t[r]=i[r])}return t};var n=Object.prototype.hasOwnProperty},UnBK:function(t,e,n){"use strict";var i=n("xTJ+"),r=n("xAGQ"),o=n("Lmem"),a=n("JEQr");function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=r.call(t,t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),i.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return s(t),e.data=r.call(t,e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(s(t),e&&e.response&&(e.response.data=r.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},V35J:function(t,e,n){var i=n("Wogr");function r(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new i(t*t),this.data.fill(0),this.reservedBit=new i(t*t),this.reservedBit.fill(0)}r.prototype.set=function(t,e,n,i){var r=t*this.size+e;this.data[r]=n,i&&(this.reservedBit[r]=!0)},r.prototype.get=function(t,e){return this.data[t*this.size+e]},r.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n},r.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},t.exports=r},W5AY:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{u(i.next(t))}catch(e){o(e)}}function s(t){try{u(i.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((i=i.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=n("y8E0"),u=n("kw4C"),l=n("4FaI"),c=function(t){function e(){var e=t.call(this,"route")||this;return e.isEditable=!1,e.changes=[],e.routing=new l.default,e}return r(e,t),e.prototype.toggleAccessible=function(t){this.routing.toggleOnlyAccessible(t)},e.prototype.update=function(t,e){return o(this,void 0,void 0,function(){var n,i,r,o,s;return a(this,function(a){if(this.start=t,this.finish=e,this.data=new u.FeatureCollection({features:[this.start,this.finish].concat(this.lines||[]).filter(function(t){return t})}),this.notify("feature-updated"),t&&e){if(this.notify("loading-start"),n=this.routing.route(t,e),i=null==n?void 0:n.paths,this.route=null==n?void 0:n.paths,this.points=null==n?void 0:n.points,this.levelPaths=null==n?void 0:n.levelPaths,this.levelPoints=null==n?void 0:n.levelPoints,this.details=null==n?void 0:n.details,i){for(r=[],o=0,s=Object.entries(i);o<s.length;o++)r.push(s[o][1]);this.lines=r}else this.lines=[],this.notify("route-undefined");this.data=new u.FeatureCollection({features:[this.start,this.finish].concat(this.lines||[]).filter(function(t){return t})}),this.notify("loading-finished"),this.notify("feature-updated")}return[2]})})},e.prototype.cancel=function(){this.start=void 0,this.finish=void 0,this.lines=void 0,this.route=void 0,this.points=void 0,this.levelPaths=void 0,this.levelPoints=void 0,this.details=void 0,this.data=new u.FeatureCollection({features:[this.start,this.finish].concat(this.lines||[]).filter(function(t){return t})}),this.notify("feature-updated")},e}(s.default);e.default=c},"WVt+":function(t,e,n){!function(t){"use strict";var e=6371008.8,n={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260.511392,inches:39.37*e,kilometers:6371.0088,kilometres:6371.0088,meters:e,metres:e,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:e/1852,radians:1,yards:6967335.223679999},i={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e,yards:1.0936133},r={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function o(t,e,n){void 0===n&&(n={});var i={type:"Feature"};return(0===n.id||n.id)&&(i.id=n.id),n.bbox&&(i.bbox=n.bbox),i.properties=e||{},i.geometry=t,i}function a(t,e,n){switch(t){case"Point":return s(e).geometry;case"LineString":return h(e).geometry;case"Polygon":return l(e).geometry;case"MultiPoint":return g(e).geometry;case"MultiLineString":return d(e).geometry;case"MultiPolygon":return m(e).geometry;default:throw new Error(t+" is invalid")}}function s(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!I(t[0])||!I(t[1]))throw new Error("coordinates must contain numbers");return o({type:"Point",coordinates:t},e,n)}function u(t,e,n){return void 0===n&&(n={}),f(t.map(function(t){return s(t,e)}),n)}function l(t,e,n){void 0===n&&(n={});for(var i=0,r=t;i<r.length;i++){var a=r[i];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}return o({type:"Polygon",coordinates:t},e,n)}function c(t,e,n){return void 0===n&&(n={}),f(t.map(function(t){return l(t,e)}),n)}function h(t,e,n){if(void 0===n&&(n={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return o({type:"LineString",coordinates:t},e,n)}function p(t,e,n){return void 0===n&&(n={}),f(t.map(function(t){return h(t,e)}),n)}function f(t,e){void 0===e&&(e={});var n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function d(t,e,n){return void 0===n&&(n={}),o({type:"MultiLineString",coordinates:t},e,n)}function g(t,e,n){return void 0===n&&(n={}),o({type:"MultiPoint",coordinates:t},e,n)}function m(t,e,n){return void 0===n&&(n={}),o({type:"MultiPolygon",coordinates:t},e,n)}function _(t,e,n){return void 0===n&&(n={}),o({type:"GeometryCollection",geometries:t},e,n)}function y(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n}function v(t,e){void 0===e&&(e="kilometers");var i=n[e];if(!i)throw new Error(e+" units is invalid");return t*i}function b(t,e){void 0===e&&(e="kilometers");var i=n[e];if(!i)throw new Error(e+" units is invalid");return t/i}function w(t,e){return k(b(t,e))}function x(t){var e=t%360;return e<0&&(e+=360),e}function k(t){return t%(2*Math.PI)*180/Math.PI}function E(t){return t%360*Math.PI/180}function S(t,e,n){if(void 0===e&&(e="kilometers"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("length must be a positive number");return v(b(t,e),n)}function C(t,e,n){if(void 0===e&&(e="meters"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("area must be a positive number");var i=r[e];if(!i)throw new Error("invalid original units");var o=r[n];if(!o)throw new Error("invalid final units");return t/i*o}function I(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function A(t){return!!t&&t.constructor===Object}function P(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!I(t))throw new Error("bbox must only contain numbers")})}function T(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}var O=Object.freeze({__proto__:null,earthRadius:e,factors:n,unitsFactors:i,areaFactors:r,feature:o,geometry:a,point:s,points:u,polygon:l,polygons:c,lineString:h,lineStrings:p,featureCollection:f,multiLineString:d,multiPoint:g,multiPolygon:m,geometryCollection:_,round:y,radiansToLength:v,lengthToRadians:b,lengthToDegrees:w,bearingToAzimuth:x,radiansToDegrees:k,degreesToRadians:E,convertLength:S,convertArea:C,isNumber:I,isObject:A,validateBBox:P,validateId:T});function L(t,e,n){if(null!==t)for(var i,r,o,a,s,u,l,c,h=0,p=0,f=t.type,d="FeatureCollection"===f,g="Feature"===f,m=d?t.features.length:1,_=0;_<m;_++){s=(c=!!(l=d?t.features[_].geometry:g?t.geometry:t)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var y=0;y<s;y++){var v=0,b=0;if(null!==(a=c?l.geometries[y]:l)){u=a.coordinates;var w=a.type;switch(h=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(u,p,_,v,b))return!1;p++,v++;break;case"LineString":case"MultiPoint":for(i=0;i<u.length;i++){if(!1===e(u[i],p,_,v,b))return!1;p++,"MultiPoint"===w&&v++}"LineString"===w&&v++;break;case"Polygon":case"MultiLineString":for(i=0;i<u.length;i++){for(r=0;r<u[i].length-h;r++){if(!1===e(u[i][r],p,_,v,b))return!1;p++}"MultiLineString"===w&&v++,"Polygon"===w&&b++}"Polygon"===w&&v++;break;case"MultiPolygon":for(i=0;i<u.length;i++){for(b=0,r=0;r<u[i].length;r++){for(o=0;o<u[i][r].length-h;o++){if(!1===e(u[i][r][o],p,_,v,b))return!1;p++}b++}v++}break;case"GeometryCollection":for(i=0;i<a.geometries.length;i++)if(!1===L(a.geometries[i],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function M(t,e,n,i){var r=n;return L(t,function(t,i,o,a,s){r=0===i&&void 0===n?t:e(r,t,i,o,a,s)},i),r}function N(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length&&!1!==e(t.features[n].properties,n);n++);break;case"Feature":e(t.properties,0)}}function R(t,e,n){var i=n;return N(t,function(t,r){i=0===r&&void 0===n?t:e(i,t,r)}),i}function D(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}function z(t,e,n){var i=n;return D(t,function(t,r){i=0===r&&void 0===n?t:e(i,t,r)}),i}function F(t){var e=[];return L(t,function(t){e.push(t)}),e}function B(t,e){var n,i,r,o,a,s,u,l,c,h,p=0,f="FeatureCollection"===t.type,d="Feature"===t.type,g=f?t.features.length:1;for(n=0;n<g;n++){for(l=f?t.features[n].properties:d?t.properties:{},c=f?t.features[n].bbox:d?t.bbox:void 0,h=f?t.features[n].id:d?t.id:void 0,a=(u=!!(s=f?t.features[n].geometry:d?t.geometry:t)&&"GeometryCollection"===s.type)?s.geometries.length:1,r=0;r<a;r++)if(null!==(o=u?s.geometries[r]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,p,l,c,h))return!1;break;case"GeometryCollection":for(i=0;i<o.geometries.length;i++)if(!1===e(o.geometries[i],p,l,c,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,p,l,c,h))return!1;p++}}function j(t,e,n){var i=n;return B(t,function(t,r,o,a,s){i=0===r&&void 0===n?t:e(i,t,r,o,a,s)}),i}function V(t,e){B(t,function(t,n,i,r,a){var s,u=null===t?null:t.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==e(o(t,i,{bbox:r,id:a}),n,0)&&void 0}switch(u){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<t.coordinates.length;l++)if(!1===e(o({type:s,coordinates:t.coordinates[l]},i),n,l))return!1})}function U(t,e,n){var i=n;return V(t,function(t,r,o){i=0===r&&0===o&&void 0===n?t:e(i,t,r,o)}),i}function q(t,e){V(t,function(t,n,i){var r=0;if(t.geometry){var o=t.geometry.type;if("Point"!==o&&"MultiPoint"!==o){var a,s=0,u=0,l=0;return!1!==L(t,function(o,c,p,f,d){if(void 0===a||n>s||f>u||d>l)return a=o,s=n,u=f,l=d,void(r=0);var g=h([a,o],t.properties);if(!1===e(g,n,i,d,r))return!1;r++,a=o})&&void 0}}})}function G(t,e,n){var i=n,r=!1;return q(t,function(t,o,a,s,u){i=!1===r&&void 0===n?t:e(i,t,o,a,s,u),r=!0}),i}function H(t,e){if(!t)throw new Error("geojson is required");V(t,function(t,n,i){if(null!==t.geometry){var r=t.geometry.coordinates;switch(t.geometry.type){case"LineString":if(!1===e(t,n,i,0,0))return!1;break;case"Polygon":for(var o=0;o<r.length;o++)if(!1===e(h(r[o],t.properties),n,i,o))return!1}}})}function W(t,e,n){var i=n;return H(t,function(t,r,o,a){i=0===r&&void 0===n?t:e(i,t,r,o,a)}),i}function Y(t,e){if(!A(e=e||{}))throw new Error("options is invalid");var n,i=e.featureIndex||0,r=e.multiFeatureIndex||0,o=e.geometryIndex||0,a=e.segmentIndex||0,s=e.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),s=s||t.features[i].properties,n=t.features[i].geometry;break;case"Feature":s=s||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var u=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return a<0&&(a=u.length+a-1),h([u[a],u[a+1]],s,e);case"Polygon":return o<0&&(o=u.length+o),a<0&&(a=u[o].length+a-1),h([u[o][a],u[o][a+1]],s,e);case"MultiLineString":return r<0&&(r=u.length+r),a<0&&(a=u[r].length+a-1),h([u[r][a],u[r][a+1]],s,e);case"MultiPolygon":return r<0&&(r=u.length+r),o<0&&(o=u[r].length+o),a<0&&(a=u[r][o].length-a-1),h([u[r][o][a],u[r][o][a+1]],s,e)}throw new Error("geojson is invalid")}function Z(t,e){if(!A(e=e||{}))throw new Error("options is invalid");var n,i=e.featureIndex||0,r=e.multiFeatureIndex||0,o=e.geometryIndex||0,a=e.coordIndex||0,u=e.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),u=u||t.features[i].properties,n=t.features[i].geometry;break;case"Feature":u=u||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var l=n.coordinates;switch(n.type){case"Point":return s(l,u,e);case"MultiPoint":return r<0&&(r=l.length+r),s(l[r],u,e);case"LineString":return a<0&&(a=l.length+a),s(l[a],u,e);case"Polygon":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),s(l[o][a],u,e);case"MultiLineString":return r<0&&(r=l.length+r),a<0&&(a=l[r].length+a),s(l[r][a],u,e);case"MultiPolygon":return r<0&&(r=l.length+r),o<0&&(o=l[r].length+o),a<0&&(a=l[r][o].length-a),s(l[r][o][a],u,e)}throw new Error("geojson is invalid")}var X=Object.freeze({__proto__:null,coordAll:F,coordEach:L,coordReduce:M,featureEach:D,featureReduce:z,findPoint:Z,findSegment:Y,flattenEach:V,flattenReduce:U,geomEach:B,geomReduce:j,lineEach:H,lineReduce:W,propEach:N,propReduce:R,segmentEach:q,segmentReduce:G});function K(t){var e=[1/0,1/0,-1/0,-1/0];return L(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}function $(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function J(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Q(t){if(t.length>1&&I(t[0])&&I(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return Q(t[0]);throw new Error("coordinates must only contain numbers")}function tt(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)}function et(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)}function nt(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var i=0,r=t.features;i<r.length;i++){var o=r[i];if(!o||"Feature"!==o.type||!o.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!o.geometry||o.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+o.geometry.type)}}function it(t){return"Feature"===t.type?t.geometry:t}function rt(t,e){return"FeatureCollection"===t.type?"FeatureCollection":"GeometryCollection"===t.type?"GeometryCollection":"Feature"===t.type&&null!==t.geometry?t.geometry.type:t.type}K.default=K;var ot=Object.freeze({__proto__:null,getCoord:$,getCoords:J,containsNumber:Q,geojsonType:tt,featureOf:et,collectionOf:nt,getGeom:it,getType:rt}),at=Object.getOwnPropertySymbols,st=Object.prototype.hasOwnProperty,ut=Object.prototype.propertyIsEnumerable;function lt(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var ct=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,i,r=lt(t),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))st.call(n,a)&&(r[a]=n[a]);if(at){i=at(n);for(var s=0;s<i.length;s++)ut.call(n,i[s])&&(r[i[s]]=n[i[s]])}}return r},ht={successCallback:null,verbose:!1},pt={};function ft(t,e,n){n=n||{};for(var i=Object.keys(ht),r=0;r<i.length;r++){var o=i[r],a=n[o];pt[o]=a=null!=a?a:ht[o]}pt.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+e);var s=function(t){var e=[],n=0;return t.cells.forEach(function(i,r){i.forEach(function(i,o){if(void 0!==i&&5!==(p=i).cval&&10!==p.cval&&!gt(i)){var a=function(t,e,n){var i,r,o=t.length,a=[],s=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],u=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],l=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],c=t[e][n],h=c.cval,p=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"][h],f=_t(c,p);a.push([n+f[0],e+f[1]]),f=_t(c,p=l[h]),a.push([n+f[0],e+f[1]]),mt(c);for(var d=n+s[h],g=e+u[h],m=h;d>=0&&g>=0&&g<o&&(d!=n||g!=e)&&void 0!==(c=t[g][d]);){if(0===(h=c.cval)||15===h)return{path:a,info:"mergeable"};p=l[h],i=s[h],r=u[h],5!==h&&10!==h||(5===h?c.flipped?-1===u[m]?(p="left",i=-1,r=0):(p="right",i=1,r=0):-1===s[m]&&(p="bottom",i=0,r=-1):10===h&&(c.flipped?-1===s[m]?(p="top",i=0,r=1):(p="bottom",i=0,r=-1):1===u[m]&&(p="left",i=-1,r=0))),f=_t(c,p),a.push([d+f[0],g+f[1]]),mt(c),d+=i,g+=r,m=h}return{path:a,info:"closed"}}(t.cells,r,o),s=!1;if("mergeable"===a.info)for(var u=a.path[a.path.length-1][0],l=a.path[a.path.length-1][1],c=n-1;c>=0;c--)if(Math.abs(e[c][0][0]-u)<=1e-7&&Math.abs(e[c][0][1]-l)<=1e-7){for(var h=a.path.length-2;h>=0;--h)e[c].unshift(a.path[h]);s=!0;break}s||(e[n++]=a.path)}var p})}),e}(function(t,e){for(var n=t.length-1,i=t[0].length-1,r={rows:n,cols:i,cells:[]},o=0;o<n;++o){r.cells[o]=[];for(var a=0;a<i;++a){var s=0,u=t[o+1][a],l=t[o+1][a+1],c=t[o][a+1],h=t[o][a];if(!(isNaN(u)||isNaN(l)||isNaN(c)||isNaN(h))){s|=u>=e?8:0,s|=l>=e?4:0,s|=c>=e?2:0;var p,f,d,g,m=!1;if(5==(s|=h>=e?1:0)||10===s){var _=(u+l+c+h)/4;5===s&&_<e?(s=10,m=!0):10===s&&_<e&&(s=5,m=!0)}0!==s&&15!==s&&(p=f=d=g=.5,1===s?(d=1-dt(e,u,h),f=1-dt(e,c,h)):2===s?(f=dt(e,h,c),g=1-dt(e,l,c)):3===s?(d=1-dt(e,u,h),g=1-dt(e,l,c)):4===s?(p=dt(e,u,l),g=dt(e,c,l)):5===s?(p=dt(e,u,l),g=dt(e,c,l),f=1-dt(e,c,h),d=1-dt(e,u,h)):6===s?(f=dt(e,h,c),p=dt(e,u,l)):7===s?(d=1-dt(e,u,h),p=dt(e,u,l)):8===s?(d=dt(e,h,u),p=1-dt(e,l,u)):9===s?(f=1-dt(e,c,h),p=1-dt(e,l,u)):10===s?(p=1-dt(e,l,u),g=1-dt(e,l,c),f=dt(e,h,c),d=dt(e,h,u)):11===s?(p=1-dt(e,l,u),g=1-dt(e,l,c)):12===s?(d=dt(e,h,u),g=dt(e,c,l)):13===s?(f=1-dt(e,c,h),g=dt(e,c,l)):14===s?(d=dt(e,h,u),f=dt(e,h,c)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+s),r.cells[o][a]={cval:s,flipped:m,top:p,right:g,bottom:f,left:d})}}}return r}(t,e));return"function"==typeof pt.successCallback&&pt.successCallback(s),s}function dt(t,e,n){return(t-e)/(n-e)}function gt(t){return 0===t.cval||15===t.cval}function mt(t){gt(t)||5===t.cval||10===t.cval||(t.cval=15)}function _t(t,e){return"top"===e?[t.top,1]:"bottom"===e?[t.bottom,0]:"right"===e?[1,t.right]:"left"===e?[0,t.left]:void 0}var yt=vt;function vt(t,e,n,i,r){bt(t,e,n||0,i||t.length-1,r||xt)}function bt(t,e,n,i,r){for(;i>n;){if(i-n>600){var o=i-n+1,a=e-n+1,s=Math.log(o),u=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*u*(o-u)/o)*(a-o/2<0?-1:1);bt(t,e,Math.max(n,Math.floor(e-a*u/o+l)),Math.min(i,Math.floor(e+(o-a)*u/o+l)),r)}var c=t[e],h=n,p=i;for(wt(t,n,e),r(t[i],c)>0&&wt(t,n,i);h<p;){for(wt(t,h,p),h++,p--;r(t[h],c)<0;)h++;for(;r(t[p],c)>0;)p--}0===r(t[n],c)?wt(t,n,p):wt(t,++p,i),p<=e&&(n=p+1),e<=p&&(i=p-1)}}function wt(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function xt(t,e){return t<e?-1:t>e?1:0}yt.default=vt;var kt=St,Et=St;function St(t,e){if(!(this instanceof St))return new St(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function Ct(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function It(t,e){At(t,0,t.children.length,e,t)}function At(t,e,n,i,r){r||(r=Dt(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,a=e;a<n;a++)o=t.children[a],Pt(r,t.leaf?i(o):o);return r}function Pt(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Tt(t,e){return t.minX-e.minX}function Ot(t,e){return t.minY-e.minY}function Lt(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Mt(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Nt(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Rt(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Dt(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function zt(t,e,n,i,r){for(var o,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=i||(o=e+Math.ceil((n-e)/i/2)*i,yt(t,o,e,n,r),a.push(e,o,o,n))}function Ft(t){var e={exports:{}};return t(e,e.exports),e.exports}St.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!Rt(t,e))return n;for(var r,o,a,s,u=[];e;){for(r=0,o=e.children.length;r<o;r++)a=e.children[r],Rt(t,s=e.leaf?i(a):a)&&(e.leaf?n.push(a):Nt(t,s)?this._all(a,n):u.push(a));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!Rt(t,e))return!1;for(var i,r,o,a,s=[];e;){for(i=0,r=e.children.length;i<r;i++)if(o=e.children[i],Rt(t,a=e.leaf?n(o):o)){if(e.leaf||Nt(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=Dt([]),this},remove:function(t,e){if(!t)return this;for(var n,i,r,o,a=this.data,s=this.toBBox(t),u=[],l=[];a||u.length;){if(a||(a=u.pop(),i=u[u.length-1],n=l.pop(),o=!0),a.leaf&&-1!==(r=Ct(t,a.children,e)))return a.children.splice(r,1),u.push(a),this._condense(u),this;o||a.leaf||!Nt(a,s)?i?(n++,a=i.children[n],o=!1):a=null:(u.push(a),l.push(n),n=0,i=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:Tt,compareMinY:Ot,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var r,o=n-e+1,a=this._maxEntries;if(o<=a)return It(r=Dt(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,i-1))),(r=Dt([])).leaf=!1,r.height=i;var s,u,l,c,h=Math.ceil(o/a),p=h*Math.ceil(Math.sqrt(a));for(zt(t,e,n,p,this.compareMinX),s=e;s<=n;s+=p)for(zt(t,s,l=Math.min(s+p-1,n),h,this.compareMinY),u=s;u<=l;u+=h)c=Math.min(u+h-1,l),r.children.push(this._build(t,u,c,i-1));return It(r,this.toBBox),r},_chooseSubtree:function(t,e,n,i){for(var r,o,a,s,u,l,c,h,p,f;i.push(e),!e.leaf&&i.length-1!==n;){for(c=h=1/0,r=0,o=e.children.length;r<o;r++)u=Lt(a=e.children[r]),p=t,f=a,(l=(Math.max(f.maxX,p.maxX)-Math.min(f.minX,p.minX))*(Math.max(f.maxY,p.maxY)-Math.min(f.minY,p.minY))-u)<h?(h=l,c=u<c?u:c,s=a):l===h&&u<c&&(c=u,s=a);e=s||e.children[0]}return e},_insert:function(t,e,n){var i=n?t:(0,this.toBBox)(t),r=[],o=this._chooseSubtree(i,this.data,e,r);for(o.children.push(t),Pt(o,i);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(i,r,e)},_split:function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var o=this._chooseSplitIndex(n,r,i),a=Dt(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,It(n,this.toBBox),It(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=Dt([t,e]),this.data.height=t.height+1,this.data.leaf=!1,It(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,r,o,a,s,u,l,c,h,p,f,d,g,m;for(u=l=1/0,i=e;i<=n-e;i++)h=r=At(t,0,i,this.toBBox),p=o=At(t,i,n,this.toBBox),f=Math.max(h.minX,p.minX),d=Math.max(h.minY,p.minY),g=Math.min(h.maxX,p.maxX),m=Math.min(h.maxY,p.maxY),a=Math.max(0,g-f)*Math.max(0,m-d),s=Lt(r)+Lt(o),a<u?(u=a,c=i,l=s<l?s:l):a===u&&s<l&&(l=s,c=i);return c},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:Tt,r=t.leaf?this.compareMinY:Ot;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var r,o,a=this.toBBox,s=At(t,0,e,a),u=At(t,n-e,n,a),l=Mt(s)+Mt(u);for(r=e;r<n-e;r++)o=t.children[r],Pt(s,t.leaf?a(o):o),l+=Mt(s);for(r=n-e-1;r>=e;r--)o=t.children[r],Pt(u,t.leaf?a(o):o),l+=Mt(u);return l},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)Pt(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():It(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}},kt.default=Et;var Bt=function(t,e,n){var i=t*e,r=jt*t,o=r-(r-t),a=t-o,s=jt*e,u=s-(s-e),l=e-u,c=a*l-(i-o*u-a*u-o*l);return n?(n[0]=c,n[1]=i,n):[c,i]},jt=+(Math.pow(2,27)+1),Vt=function(t,e){var n=0|t.length,i=0|e.length;if(1===n&&1===i)return function(t,e){var n=t+e,i=n-t,r=t-(n-i)+(e-i);return r?[r,n]:[n]}(t[0],e[0]);var r,o,a=new Array(n+i),s=0,u=0,l=0,c=Math.abs,h=t[u],p=c(h),f=e[l],d=c(f);p<d?(o=h,(u+=1)<n&&(p=c(h=t[u]))):(o=f,(l+=1)<i&&(d=c(f=e[l]))),u<n&&p<d||l>=i?(r=h,(u+=1)<n&&(p=c(h=t[u]))):(r=f,(l+=1)<i&&(d=c(f=e[l])));for(var g,m,_=r+o,y=_-r,v=o-y,b=v,w=_;u<n&&l<i;)p<d?(r=h,(u+=1)<n&&(p=c(h=t[u]))):(r=f,(l+=1)<i&&(d=c(f=e[l]))),(v=(o=b)-(y=(_=r+o)-r))&&(a[s++]=v),b=w-((g=w+_)-(m=g-w))+(_-m),w=g;for(;u<n;)(v=(o=b)-(y=(_=(r=h)+o)-r))&&(a[s++]=v),b=w-((g=w+_)-(m=g-w))+(_-m),w=g,(u+=1)<n&&(h=t[u]);for(;l<i;)(v=(o=b)-(y=(_=(r=f)+o)-r))&&(a[s++]=v),b=w-((g=w+_)-(m=g-w))+(_-m),w=g,(l+=1)<i&&(f=e[l]);return b&&(a[s++]=b),w&&(a[s++]=w),s||(a[s++]=0),a.length=s,a},Ut=function(t,e,n){var i=t+e,r=i-t,o=e-r,a=t-(i-r);return n?(n[0]=a+o,n[1]=i,n):[a+o,i]},qt=function(t,e){var n=t.length;if(1===n){var i=Bt(t[0],e);return i[0]?i:[i[1]]}var r=new Array(2*n),o=[.1,.1],a=[.1,.1],s=0;Bt(t[0],e,o),o[0]&&(r[s++]=o[0]);for(var u=1;u<n;++u){Bt(t[u],e,a),Ut(o[1],a[0],o),o[0]&&(r[s++]=o[0]);var l=a[1],c=o[1],h=l+c,p=c-(h-l);o[1]=h,p&&(r[s++]=p)}return o[1]&&(r[s++]=o[1]),0===s&&(r[s++]=0),r.length=s,r},Gt=function(t,e){var n=0|t.length,i=0|e.length;if(1===n&&1===i)return function(t,e){var n=t+e,i=n-t,r=t-(n-i)+(e-i);return r?[r,n]:[n]}(t[0],-e[0]);var r,o,a=new Array(n+i),s=0,u=0,l=0,c=Math.abs,h=t[u],p=c(h),f=-e[l],d=c(f);p<d?(o=h,(u+=1)<n&&(p=c(h=t[u]))):(o=f,(l+=1)<i&&(d=c(f=-e[l]))),u<n&&p<d||l>=i?(r=h,(u+=1)<n&&(p=c(h=t[u]))):(r=f,(l+=1)<i&&(d=c(f=-e[l])));for(var g,m,_=r+o,y=_-r,v=o-y,b=v,w=_;u<n&&l<i;)p<d?(r=h,(u+=1)<n&&(p=c(h=t[u]))):(r=f,(l+=1)<i&&(d=c(f=-e[l]))),(v=(o=b)-(y=(_=r+o)-r))&&(a[s++]=v),b=w-((g=w+_)-(m=g-w))+(_-m),w=g;for(;u<n;)(v=(o=b)-(y=(_=(r=h)+o)-r))&&(a[s++]=v),b=w-((g=w+_)-(m=g-w))+(_-m),w=g,(u+=1)<n&&(h=t[u]);for(;l<i;)(v=(o=b)-(y=(_=(r=f)+o)-r))&&(a[s++]=v),b=w-((g=w+_)-(m=g-w))+(_-m),w=g,(l+=1)<i&&(f=-e[l]);return b&&(a[s++]=b),w&&(a[s++]=w),s||(a[s++]=0),a.length=s,a},Ht=Ft(function(t){function e(t,e){for(var n=new Array(t.length-1),i=1;i<t.length;++i)for(var r=n[i-1]=new Array(t.length-1),o=0,a=0;o<t.length;++o)o!==e&&(r[a++]=t[i][o]);return n}function n(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",n(t.slice(0,e)),",",n(t.slice(e)),")"].join("")}function i(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var r=[],o=0;o<t.length;++o)r.push(["scale(",n(i(e(t,o))),",",(a=o,1&a?"-":""),t[0][o],")"].join(""));return r;var a}function r(t){for(var r=[],o=[],a=function(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var i=0;i<t;++i)e[n][i]=["m",i,"[",t-n-1,"]"].join("")}return e}(t),s=[],u=0;u<t;++u)0==(1&u)?r.push.apply(r,i(e(a,u))):o.push.apply(o,i(e(a,u))),s.push("m"+u);var l=n(r),c=n(o),h="orientation"+t+"Exact",p=["function ",h,"(",s.join(),"){var p=",l,",n=",c,",d=sub(p,n);return d[d.length-1];};return ",h].join("");return new Function("sum","prod","scale","sub",p)(Vt,Bt,qt,Gt)}var o=r(3),a=r(4),s=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var i,r=(t[1]-n[1])*(e[0]-n[0]),a=(t[0]-n[0])*(e[1]-n[1]),s=r-a;if(r>0){if(a<=0)return s;i=r+a}else{if(!(r<0))return s;if(a>=0)return s;i=-(r+a)}var u=33306690738754716e-32*i;return s>=u||s<=-u?s:o(t,e,n)},function(t,e,n,i){var r=t[0]-i[0],o=e[0]-i[0],s=n[0]-i[0],u=t[1]-i[1],l=e[1]-i[1],c=n[1]-i[1],h=t[2]-i[2],p=e[2]-i[2],f=n[2]-i[2],d=o*c,g=s*l,m=s*u,_=r*c,y=r*l,v=o*u,b=h*(d-g)+p*(m-_)+f*(y-v),w=7771561172376103e-31*((Math.abs(d)+Math.abs(g))*Math.abs(h)+(Math.abs(m)+Math.abs(_))*Math.abs(p)+(Math.abs(y)+Math.abs(v))*Math.abs(f));return b>w||-b>w?b:a(t,e,n,i)}];function u(t){var e=s[t.length];return e||(e=s[t.length]=r(t.length)),e.apply(void 0,t)}!function(){for(;s.length<=5;)s.push(r(s.length));for(var e=[],n=["slow"],i=0;i<=5;++i)e.push("a"+i),n.push("o"+i);var o=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(i=2;i<=5;++i)o.push("case ",i,":return o",i,"(",e.slice(0,i).join(),");");o.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(o.join(""));var a=Function.apply(void 0,n);for(t.exports=a.apply(void 0,[u].concat(s)),i=0;i<=5;++i)t.exports[i]=s[i]}()}),Wt=Ht[3],Yt=Xt,Zt=Xt;function Xt(t,e){if(!(this instanceof Xt))return new Xt(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||Kt,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function Kt(t,e){return t<e?-1:t>e?1:0}Xt.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,i=e[t];t>0;){var r=t-1>>1,o=e[r];if(n(i,o)>=0)break;e[t]=o,t=r}e[t]=i},_down:function(t){for(var e=this.data,n=this.compare,i=this.length>>1,r=e[t];t<i;){var o=1+(t<<1),a=o+1,s=e[o];if(a<this.length&&n(e[a],s)<0&&(o=a,s=e[a]),n(s,r)>=0)break;e[t]=s,t=o}e[t]=r}},Yt.default=Zt;var $t=function(t,e){for(var n=t[0],i=t[1],r=!1,o=0,a=e.length-1;o<e.length;a=o++){var s=e[o][0],u=e[o][1],l=e[a][1];u>i!=l>i&&n<(e[a][0]-s)*(i-u)/(l-u)+s&&(r=!r)}return r},Jt=Ht[3],Qt=te;function te(t,e,n){e=Math.max(0,void 0===e?2:e),n=n||0;for(var i,r=function(t){for(var e=t[0],n=t[0],i=t[0],r=t[0],o=0;o<t.length;o++){var a=t[o];a[0]<e[0]&&(e=a),a[0]>i[0]&&(i=a),a[1]<n[1]&&(n=a),a[1]>r[1]&&(r=a)}var s=[e,n,i,r],u=s.slice();for(o=0;o<t.length;o++)$t(t[o],s)||u.push(t[o]);var l=function(t){var e=t.length;if(e<3){for(var n=new Array(e),i=0;i<e;++i)n[i]=i;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:n}var r=new Array(e);for(i=0;i<e;++i)r[i]=i;r.sort(function(e,n){return t[e][0]-t[n][0]||t[e][1]-t[n][1]});var o=[r[0],r[1]],a=[r[0],r[1]];for(i=2;i<e;++i){for(var s=r[i],u=t[s],l=o.length;l>1&&Wt(t[o[l-2]],t[o[l-1]],u)<=0;)l-=1,o.pop();for(o.push(s),l=a.length;l>1&&Wt(t[a[l-2]],t[a[l-1]],u)>=0;)l-=1,a.pop();a.push(s)}n=new Array(a.length+o.length-2);for(var c=0,h=(i=0,o.length);i<h;++i)n[c++]=o[i];for(var p=a.length-2;p>0;--p)n[c++]=a[p];return n}(u),c=[];for(o=0;o<l.length;o++)c.push(u[l[o]]);return c}(t),o=kt(16,["[0]","[1]","[0]","[1]"]).load(t),a=[],s=0;s<r.length;s++){var u=r[s];o.remove(u),i=se(u,i),a.push(i)}var l=kt(16);for(s=0;s<a.length;s++)l.insert(ae(a[s]));for(var c=e*e,h=n*n;a.length;){var p=a.shift(),f=p.p,d=p.next.p,g=ue(f,d);if(!(g<h)){var m=g/c;(u=ee(o,p.prev.p,f,d,p.next.next.p,m,l))&&Math.min(ue(u,f),ue(u,d))<=m&&(a.push(p),a.push(se(u,p)),o.remove(u),l.remove(p),l.insert(ae(p)),l.insert(ae(p.next)))}}p=i;var _=[];do{_.push(p.p),p=p.next}while(p!==i);return _.push(p.p),_}function ee(t,e,n,i,r,o,a){for(var s=new Yt(null,ne),u=t.data;u;){for(var l=0;l<u.children.length;l++){var c=u.children[l],h=u.leaf?le(c,n,i):ie(n,i,c);h>o||s.push({node:c,dist:h})}for(;s.length&&!s.peek().node.children;){var p=s.pop(),f=p.node,d=le(f,e,n),g=le(f,i,r);if(p.dist<d&&p.dist<g&&oe(n,f,a)&&oe(i,f,a))return f}(u=s.pop())&&(u=u.node)}return null}function ne(t,e){return t.dist-e.dist}function ie(t,e,n){if(re(t,n)||re(e,n))return 0;var i=ce(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(0===i)return 0;var r=ce(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(0===r)return 0;var o=ce(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===o)return 0;var a=ce(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===a?0:Math.min(i,r,o,a)}function re(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function oe(t,e,n){for(var i,r,o,a,s=Math.min(t[0],e[0]),u=Math.min(t[1],e[1]),l=Math.max(t[0],e[0]),c=Math.max(t[1],e[1]),h=n.search({minX:s,minY:u,maxX:l,maxY:c}),p=0;p<h.length;p++)if(r=h[p].next.p,o=t,(i=h[p].p)!==(a=e)&&r!==o&&Jt(i,r,o)>0!=Jt(i,r,a)>0&&Jt(o,a,i)>0!=Jt(o,a,r)>0)return!1;return!0}function ae(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function se(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function ue(t,e){var n=t[0]-e[0],i=t[1]-e[1];return n*n+i*i}function le(t,e,n){var i=e[0],r=e[1],o=n[0]-i,a=n[1]-r;if(0!==o||0!==a){var s=((t[0]-i)*o+(t[1]-r)*a)/(o*o+a*a);s>1?(i=n[0],r=n[1]):s>0&&(i+=o*s,r+=a*s)}return(o=t[0]-i)*o+(a=t[1]-r)*a}function ce(t,e,n,i,r,o,a,s){var u,l,c,h,p=n-t,f=i-e,d=a-r,g=s-o,m=t-r,_=e-o,y=p*p+f*f,v=p*d+f*g,b=d*d+g*g,w=p*m+f*_,x=d*m+g*_,k=y*b-v*v,E=k,S=k;0===k?(l=0,E=1,h=x,S=b):(h=y*x-v*w,(l=v*x-b*w)<0?(l=0,h=x,S=b):l>E&&(l=E,h=x+v,S=b)),h<0?(h=0,-w<0?l=0:-w>y?l=E:(l=-w,E=y)):h>S&&(h=S,-w+v<0?l=0:-w+v>y?l=E:(l=-w+v,E=y));var C=(1-(c=0===h?0:h/S))*r+c*a-((1-(u=0===l?0:l/E))*t+u*n),I=(1-c)*o+c*s-((1-u)*e+u*i);return C*C+I*I}function he(t,e){void 0===e&&(e={}),e.concavity=e.concavity||1/0;var n=[];if(L(t,function(t){n.push([t[0],t[1]])}),!n.length)return null;var i=Qt(n,e.concavity);return i.length>3?l([i]):null}function pe(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var i=$(t),r=it(e),o=r.type,a=e.bbox,s=r.coordinates;if(a&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(i,a))return!1;"Polygon"===o&&(s=[s]);for(var u=!1,l=0;l<s.length&&!u;l++)if(fe(i,s[l][0],n.ignoreBoundary)){for(var c=!1,h=1;h<s[l].length&&!c;)fe(i,s[l][h],!n.ignoreBoundary)&&(c=!0),h++;c||(u=!0)}return u}function fe(t,e,n){var i=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var r=0,o=e.length-1;r<e.length;o=r++){var a=e[r][0],s=e[r][1],u=e[o][0],l=e[o][1];if(t[1]*(a-u)+s*(u-t[0])+l*(t[0]-a)==0&&(a-t[0])*(u-t[0])<=0&&(s-t[1])*(l-t[1])<=0)return!n;s>t[1]!=l>t[1]&&t[0]<(u-a)*(t[1]-s)/(l-s)+a&&(i=!i)}return i}function de(t,e){var n=[];return D(t,function(t){var i=!1;if("Point"===t.geometry.type)B(e,function(e){pe(t,e)&&(i=!0)}),i&&n.push(t);else{if("MultiPoint"!==t.geometry.type)throw new Error("Input geometry must be a Point or MultiPoint");var r=[];B(e,function(e){L(t,function(t){pe(t,e)&&(i=!0,r.push(t))})}),i&&n.push(g(r))}}),f(n)}function ge(t,e,n){void 0===n&&(n={});var i=$(t),r=$(e),o=E(r[1]-i[1]),a=E(r[0]-i[0]),s=E(i[1]),u=E(r[1]),l=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(s)*Math.cos(u);return v(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)),n.units)}function me(t,e){var n=!1;return f(function(t){if(t.length<3)return[];t.sort(ye);for(var e,n,i,r=t.length-1,o=t[r].x,a=t[0].x,s=t[r].y,u=s;r--;)t[r].y<s&&(s=t[r].y),t[r].y>u&&(u=t[r].y);var l,c=a-o,h=u-s,p=c>h?c:h,f=.5*(a+o),d=.5*(u+s),g=[new _e({__sentinel:!0,x:f-20*p,y:d-p},{__sentinel:!0,x:f,y:d+20*p},{__sentinel:!0,x:f+20*p,y:d-p})],m=[],_=[];for(r=t.length;r--;){for(_.length=0,l=g.length;l--;)(c=t[r].x-g[l].x)>0&&c*c>g[l].r?(m.push(g[l]),g.splice(l,1)):c*c+(h=t[r].y-g[l].y)*h>g[l].r||(_.push(g[l].a,g[l].b,g[l].b,g[l].c,g[l].c,g[l].a),g.splice(l,1));for(ve(_),l=_.length;l;)n=_[--l],e=_[--l],i=t[r],Math.abs(2*((n.x-e.x)*(i.y-n.y)-(n.y-e.y)*(i.x-n.x)))>1e-12&&g.push(new _e(e,n,i))}for(Array.prototype.push.apply(m,g),r=m.length;r--;)(m[r].a.__sentinel||m[r].b.__sentinel||m[r].c.__sentinel)&&m.splice(r,1);return m}(t.features.map(function(t){var i={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e?i.z=t.properties[e]:3===t.geometry.coordinates.length&&(n=!0,i.z=t.geometry.coordinates[2]),i})).map(function(t){var e=[t.a.x,t.a.y],i=[t.b.x,t.b.y],r=[t.c.x,t.c.y],o={};return n?(e.push(t.a.z),i.push(t.b.z),r.push(t.c.z)):o={a:t.a.z,b:t.b.z,c:t.c.z},l([[e,i,r,e]],o)}))}Qt.default=te;var _e=function(t,e,n){this.a=t,this.b=e,this.c=n;var i,r,o=e.x-t.x,a=e.y-t.y,s=n.x-t.x,u=n.y-t.y,l=o*(t.x+e.x)+a*(t.y+e.y),c=s*(t.x+n.x)+u*(t.y+n.y),h=2*(o*(n.y-e.y)-a*(n.x-e.x));this.x=(u*l-a*c)/h,this.y=(o*c-s*l)/h,this.r=(i=this.x-t.x)*i+(r=this.y-t.y)*r};function ye(t,e){return e.x-t.x}function ve(t){var e,n,i,r,o,a=t.length;t:for(;a;)for(n=t[--a],e=t[--a],i=a;i;)if(o=t[--i],e===(r=t[--i])&&n===o||e===o&&n===r){t.splice(a,2),t.splice(i,2),a-=2;continue t}}function be(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return we(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}}),e.features=t.features.map(function(t){return we(t)}),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return ke(t);default:throw new Error("unknown GeoJSON type")}}function we(t){var e={type:"Feature"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}}),e.properties=xe(t.properties),e.geometry=ke(t.geometry),e}function xe(t){var e={};return t?(Object.keys(t).forEach(function(n){var i=t[n];e[n]="object"==typeof i?null===i?null:Array.isArray(i)?i.map(function(t){return t}):xe(i):i}),e):e}function ke(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map(function(t){return ke(t)}),e):(e.coordinates=Ee(t.coordinates),e)}function Ee(t){var e=t;return"object"!=typeof e[0]?e.slice():e.map(function(t){return Ee(t)})}function Se(t){return t[0].toString()+","+t[1].toString()}function Ce(t){return t}function Ie(t,e){var n=function(t){if(null==t)return Ce;var e,n,i=t.scale[0],r=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,s){s||(e=n=0);var u=2,l=t.length,c=new Array(l);for(c[0]=(e+=t[0])*i+o,c[1]=(n+=t[1])*r+a;u<l;)c[u]=t[u],++u;return c}}(t.transform),i=t.arcs;function r(t,e){e.length&&e.pop();for(var r=i[t<0?~t:t],o=0,a=r.length;o<a;++o)e.push(n(r[o],o));t<0&&function(t,e){for(var n,i=t.length,r=i-e;r<--i;)n=t[r],t[r++]=t[i],t[i]=n}(e,a)}function o(t){return n(t)}function a(t){for(var e=[],n=0,i=t.length;n<i;++n)r(t[n],e);return e.length<2&&e.push(e[0]),e}function s(t){for(var e=a(t);e.length<4;)e.push(e[0]);return e}function u(t){return t.map(s)}return function t(e){var n,i=e.type;switch(i){case"GeometryCollection":return{type:i,geometries:e.geometries.map(t)};case"Point":n=o(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(o);break;case"LineString":n=a(e.arcs);break;case"MultiLineString":n=e.arcs.map(a);break;case"Polygon":n=u(e.arcs);break;case"MultiPolygon":n=e.arcs.map(u);break;default:return null}return{type:i,coordinates:n}}(e)}function Ae(t,e){var n={},i=[],r=[];function o(t){t.forEach(function(e){e.forEach(function(e){(n[e=e<0?~e:e]||(n[e]=[])).push(t)})}),i.push(t)}function a(e){return function(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)o+=(e=r)[0]*(r=t[n])[1]-e[1]*r[0];return Math.abs(o)}(Ie(t,{type:"Polygon",arcs:[e]}).coordinates[0])}return e.forEach(function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":o(e.arcs);break;case"MultiPolygon":e.arcs.forEach(o)}}),i.forEach(function(t){if(!t._){var e=[],i=[t];for(t._=1,r.push(e);t=i.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){n[t<0?~t:t].forEach(function(t){t._||(t._=1,i.push(t))})})})}}),i.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:r.map(function(e){var i,r=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){n[t<0?~t:t].length<2&&r.push(t)})})}),(i=(r=function(t,e){var n={},i={},r={},o=[],a=-1;function s(t,e){for(var i in t){var r=t[i];delete e[r.start],delete r.start,delete r.end,r.forEach(function(t){n[t<0?~t:t]=1}),o.push(r)}}return e.forEach(function(n,i){var r,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(r=e[++a],e[a]=n,e[i]=r)}),e.forEach(function(e){var n,o,a=function(e){var n,i=t.arcs[e<0?~e:e],r=i[0];return t.transform?(n=[0,0],i.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=i[i.length-1],e<0?[n,r]:[r,n]}(e),s=a[0],u=a[1];if(n=r[s])if(delete r[n.end],n.push(e),n.end=u,o=i[u]){delete i[o.start];var l=o===n?n:n.concat(o);i[l.start=n.start]=r[l.end=o.end]=l}else i[n.start]=r[n.end]=n;else if(n=i[u])if(delete i[n.start],n.unshift(e),n.start=s,o=r[s]){delete r[o.end];var c=o===n?n:o.concat(n);i[c.start=o.start]=r[c.end=n.end]=c}else i[n.start]=r[n.end]=n;else i[(n=[e]).start=s]=r[n.end=u]=n}),s(r,i),s(i,r),e.forEach(function(t){n[t<0?~t:t]||o.push([t])}),o}(t,r)).length)>1)for(var o,s,u=1,l=a(r[0]);u<i;++u)(o=a(r[u]))>l&&(s=r[0],r[0]=r[u],r[u]=s,l=o);return r}).filter(function(t){return t.length>0})}}var Pe=Object.prototype.hasOwnProperty;function Te(t,e,n,i,r,o){3===arguments.length&&(i=o=Array,r=null);for(var a=new i(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=new o(t),u=t-1,l=0;l<t;++l)a[l]=r;function c(i,o){for(var l=e(i)&u,c=a[l],h=0;c!=r;){if(n(c,i))return s[l]=o;if(++h>=t)throw new Error("full hashmap");c=a[l=l+1&u]}return a[l]=i,s[l]=o,o}function h(i,o){for(var l=e(i)&u,c=a[l],h=0;c!=r;){if(n(c,i))return s[l];if(++h>=t)throw new Error("full hashmap");c=a[l=l+1&u]}return a[l]=i,s[l]=o,o}function p(i,o){for(var l=e(i)&u,c=a[l],h=0;c!=r;){if(n(c,i))return s[l];if(++h>=t)break;c=a[l=l+1&u]}return o}function f(){for(var t=[],e=0,n=a.length;e<n;++e){var i=a[e];i!=r&&t.push(i)}return t}return{set:c,maybeSet:h,get:p,keys:f}}function Oe(t,e){return t[0]===e[0]&&t[1]===e[1]}var Le=new ArrayBuffer(16),Me=new Float64Array(Le),Ne=new Uint32Array(Le);function Re(t){Me[0]=t[0],Me[1]=t[1];var e=Ne[0]^Ne[1];return 2147483647&(e<<5^e>>7^Ne[2]^Ne[3])}function De(t,e,n,i){ze(t,e,n),ze(t,e,e+i),ze(t,e+i,n)}function ze(t,e,n){for(var i,r=e+(n---e>>1);e<r;++e,--n)i=t[e],t[e]=t[n],t[n]=i}function Fe(t){var e={type:"GeometryCollection",geometries:t.features.map(Be)};return null!=t.bbox&&(e.bbox=t.bbox),e}function Be(t){var e,n=je(t.geometry);for(e in null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),t.properties){n.properties=t.properties;break}return n}function je(t){if(null==t)return{type:null};var e="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(je)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}function Ve(t){var e,n=t[0],i=t[1];return i<n&&(e=n,n=i,i=e),n+31*i}function Ue(t,e){var n,i=t[0],r=t[1],o=e[0],a=e[1];return r<i&&(n=i,i=r,r=n),a<o&&(n=o,o=a,a=n),i===o&&r===a}function qe(t,e){void 0===e&&(e={});var n="object"==typeof e?e.mutate:e;if(!t)throw new Error("geojson is required");var i=rt(t),r=[];switch(i){case"LineString":r=Ge(t);break;case"MultiLineString":case"Polygon":J(t).forEach(function(t){r.push(Ge(t))});break;case"MultiPolygon":J(t).forEach(function(t){var e=[];t.forEach(function(t){e.push(Ge(t))}),r.push(e)});break;case"Point":return t;case"MultiPoint":var a={};J(t).forEach(function(t){var e=t.join("-");Object.prototype.hasOwnProperty.call(a,e)||(r.push(t),a[e]=!0)});break;default:throw new Error(i+" geometry not supported")}return t.coordinates?!0===n?(t.coordinates=r,t):{type:i,coordinates:r}:!0===n?(t.geometry.coordinates=r,t):o({type:i,coordinates:r},t.properties,{bbox:t.bbox,id:t.id})}function Ge(t){var e=J(t);if(2===e.length&&!He(e[0],e[1]))return e;var n=[],i=e.length-1,r=n.length;n.push(e[0]);for(var o=1;o<i;o++){var a=n[n.length-1];e[o][0]===a[0]&&e[o][1]===a[1]||(n.push(e[o]),(r=n.length)>2&&We(n[r-3],n[r-1],n[r-2])&&n.splice(n.length-2,1))}if(n.push(e[e.length-1]),r=n.length,He(e[0],e[e.length-1])&&r<4)throw new Error("invalid polygon");return We(n[r-3],n[r-1],n[r-2])&&n.splice(n.length-2,1),n}function He(t,e){return t[0]===e[0]&&t[1]===e[1]}function We(t,e,n){var i=n[0],r=n[1],o=t[0],a=t[1],s=e[0],u=e[1],l=s-o,c=u-a;return 0==(i-o)*c-(r-a)*l&&(Math.abs(l)>=Math.abs(c)?l>0?o<=i&&i<=s:s<=i&&i<=o:c>0?a<=r&&r<=u:u<=r&&r<=a)}function Ye(t,e,n){var i=e.x,r=e.y,o=n.x-i,a=n.y-r;if(0!==o||0!==a){var s=((t.x-i)*o+(t.y-r)*a)/(o*o+a*a);s>1?(i=n.x,r=n.y):s>0&&(i+=o*s,r+=a*s)}return(o=t.x-i)*o+(a=t.y-r)*a}function Ze(t,e,n,i,r){for(var o,a=i,s=e+1;s<n;s++){var u=Ye(t[s],t[e],t[n]);u>a&&(o=s,a=u)}a>i&&(o-e>1&&Ze(t,e,o,i,r),r.push(t[o]),n-o>1&&Ze(t,o,n,i,r))}function Xe(t,e){var n=t.length-1,i=[t[0]];return Ze(t,0,n,e,i),i.push(t[n]),i}function Ke(t,e,n){if(t.length<=2)return t;var i=void 0!==e?e*e:1;return Xe(t=n?t:function(t,e){for(var n,i,r,o,a,s=t[0],u=[s],l=1,c=t.length;l<c;l++)(o=(i=n=t[l]).x-(r=s).x)*o+(a=i.y-r.y)*a>e&&(u.push(n),s=n);return s!==n&&u.push(n),u}(t,i),i)}function $e(t,e,n){return Ke(t.map(function(t){return{x:t[0],y:t[1],z:t[2]}}),e,n).map(function(t){return t.z?[t.x,t.y,t.z]:[t.x,t.y]})}function Je(t,e,n){return t.map(function(t){var i=t.map(function(t){return{x:t[0],y:t[1]}});if(i.length<4)throw new Error("invalid polygon");for(var r=Ke(i,e,n).map(function(t){return[t.x,t.y]});!Qe(r);)r=Ke(i,e-=.01*e,n).map(function(t){return[t.x,t.y]});return r[r.length-1][0]===r[0][0]&&r[r.length-1][1]===r[0][1]||r.push(r[0]),r})}function Qe(t){return!(t.length<3||3===t.length&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}var tn=function(){function t(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var n=this.points[e],i=this.points[e+1];this.centers.push({x:(n.x+i.x)/2,y:(n.y+i.y)/2,z:(n.z+i.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),e=0;e<this.centers.length-1;e++){var r=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,a=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+r),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+a)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+r),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+a)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}return t.prototype.cacheSteps=function(t){var e=[],n=this.pos(0);e.push(0);for(var i=0;i<this.duration;i+=10){var r=this.pos(i);Math.sqrt((r.x-n.x)*(r.x-n.x)+(r.y-n.y)*(r.y-n.y)+(r.z-n.z)*(r.z-n.z))>t&&(e.push(i),n=r)}return e},t.prototype.vector=function(t){var e=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}},t.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var n=e/this.duration;if(n>=1)return this.points[this.length-1];var i=Math.floor((this.points.length-1)*n);return function(t,e,n,i,r){var o=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:r.x*o[0]+i.x*o[1]+n.x*o[2]+e.x*o[3],y:r.y*o[0]+i.y*o[1]+n.y*o[2]+e.y*o[3],z:r.z*o[0]+i.z*o[1]+n.z*o[2]+e.z*o[3]}}((this.length-1)*n-i,this.points[i],this.controls[i][1],this.controls[i+1][0],this.points[i+1])},t}();function en(t,e){void 0===e&&(e={});for(var n=e.resolution||1e4,i=e.sharpness||.85,r=[],o=it(t).coordinates.map(function(t){return{x:t[0],y:t[1]}}),a=new tn({duration:n,points:o,sharpness:i}),s=function(t){var e=a.pos(t);Math.floor(t/100)%2==0&&r.push([e.x,e.y])},u=0;u<a.duration;u+=10)s(u);return s(a.duration),h(r,e.properties)}function nn(t,e){void 0===e&&(e={});var n=Number(t[0]),i=Number(t[1]),r=Number(t[2]),o=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var a=[n,i];return l([[a,[r,i],[r,o],[n,o],a]],e.properties,{bbox:t,id:e.id})}function rn(t){return nn(K(t))}function on(t){var e=t[0],n=t[1],i=t[2],r=t[3];if(ge(t.slice(0,2),[i,n])>=ge(t.slice(0,2),[e,r])){var o=(n+r)/2;return[e,o-(i-e)/2,i,o+(i-e)/2]}var a=(e+i)/2;return[a-(r-n)/2,n,a+(r-n)/2,r]}function an(t,e,n,i){void 0===i&&(i={});var r=$(t),o=E(r[0]),a=E(r[1]),u=E(n),l=b(e,i.units),c=Math.asin(Math.sin(a)*Math.cos(l)+Math.cos(a)*Math.sin(l)*Math.cos(u));return s([k(o+Math.atan2(Math.sin(u)*Math.sin(l)*Math.cos(a),Math.cos(l)-Math.sin(a)*Math.sin(c))),k(c)],i.properties)}function sn(t,e,n){void 0===n&&(n={});for(var i=n.steps||64,r=n.properties?n.properties:!Array.isArray(t)&&"Feature"===t.type&&t.properties?t.properties:{},o=[],a=0;a<i;a++)o.push(an(t,e,-360*a/i,n).geometry.coordinates);return o.push(o[0]),l([o],r)}function un(t,e,n){if(void 0===n&&(n={}),!0===n.final)return function(t,e){return(un(e,t)+180)%360}(t,e);var i=$(t),r=$(e),o=E(i[0]),a=E(r[0]),s=E(i[1]),u=E(r[1]),l=Math.sin(a-o)*Math.cos(u),c=Math.cos(s)*Math.sin(u)-Math.sin(s)*Math.cos(u)*Math.cos(a-o);return k(Math.atan2(l,c))}function ln(t,e){void 0===e&&(e={});var n=K(t);return s([(n[0]+n[2])/2,(n[1]+n[3])/2],e.properties,e)}function cn(t,e){void 0===e&&(e={});var n=0,i=0,r=0;return L(t,function(t){n+=t[0],i+=t[1],r++},!0),s([n/r,i/r],e.properties)}function hn(t){var e=[];return"FeatureCollection"===t.type?D(t,function(t){L(t,function(n){e.push(s(n,t.properties))})}):L(t,function(n){e.push(s(n,t.properties))}),f(e)}var pn=dn,fn=dn;function dn(t,e,n){n=n||2;var i,r,o,a,s,u,l,c=e&&e.length,h=c?e[0]*n:t.length,p=gn(t,0,h,n,!0),f=[];if(!p)return f;if(c&&(p=function(t,e,n,i){var r,o,a,s=[];for(r=0,o=e.length;r<o;r++)(a=gn(t,e[r]*i,r<o-1?e[r+1]*i:t.length,i,!1))===a.next&&(a.steiner=!0),s.push(Sn(a));for(s.sort(xn),r=0;r<s.length;r++)kn(s[r],n),n=mn(n,n.next);return n}(t,e,p,n)),t.length>80*n){i=o=t[0],r=a=t[1];for(var d=n;d<h;d+=n)(s=t[d])<i&&(i=s),(u=t[d+1])<r&&(r=u),s>o&&(o=s),u>a&&(a=u);l=0!==(l=Math.max(o-i,a-r))?1/l:0}return _n(p,f,n,i,r,l),f}function gn(t,e,n,i,r){var o,a;if(r===Dn(t,e,n,i)>0)for(o=e;o<n;o+=i)a=Mn(o,t[o],t[o+1],a);else for(o=n-i;o>=e;o-=i)a=Mn(o,t[o],t[o+1],a);return a&&Pn(a,a.next)&&(Nn(a),a=a.next),a}function mn(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!Pn(i,i.next)&&0!==An(i.prev,i,i.next))i=i.next;else{if(Nn(i),(i=e=i.prev)===i.next)break;n=!0}}while(n||i!==e);return e}function _n(t,e,n,i,r,o,a){if(t){!a&&o&&function(t,e,n,i){var r=t;do{null===r.z&&(r.z=En(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,n,i,r,o,a,s,u,l=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,i=n,s=0,e=0;e<l&&(s++,i=i.nextZ);e++);for(u=l;s>0||u>0&&i;)0!==s&&(0===u||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,u--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,l*=2}while(a>1)}(r)}(t,i,r,o);for(var s,u,l=t;t.prev!==t.next;)if(s=t.prev,u=t.next,o?vn(t,i,r,o):yn(t))e.push(s.i/n),e.push(t.i/n),e.push(u.i/n),Nn(t),t=u.next,l=u.next;else if((t=u)===l){a?1===a?_n(t=bn(t,e,n),e,n,i,r,o,2):2===a&&wn(t,e,n,i,r,o):_n(mn(t),e,n,i,r,o,1);break}}}function yn(t){var e=t.prev,n=t,i=t.next;if(An(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(Cn(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&An(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function vn(t,e,n,i){var r=t.prev,o=t,a=t.next;if(An(r,o,a)>=0)return!1;for(var s=r.x>o.x?r.x>a.x?r.x:a.x:o.x>a.x?o.x:a.x,u=r.y>o.y?r.y>a.y?r.y:a.y:o.y>a.y?o.y:a.y,l=En(r.x<o.x?r.x<a.x?r.x:a.x:o.x<a.x?o.x:a.x,r.y<o.y?r.y<a.y?r.y:a.y:o.y<a.y?o.y:a.y,e,n,i),c=En(s,u,e,n,i),h=t.prevZ,p=t.nextZ;h&&h.z>=l&&p&&p.z<=c;){if(h!==t.prev&&h!==t.next&&Cn(r.x,r.y,o.x,o.y,a.x,a.y,h.x,h.y)&&An(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,p!==t.prev&&p!==t.next&&Cn(r.x,r.y,o.x,o.y,a.x,a.y,p.x,p.y)&&An(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;h&&h.z>=l;){if(h!==t.prev&&h!==t.next&&Cn(r.x,r.y,o.x,o.y,a.x,a.y,h.x,h.y)&&An(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;p&&p.z<=c;){if(p!==t.prev&&p!==t.next&&Cn(r.x,r.y,o.x,o.y,a.x,a.y,p.x,p.y)&&An(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function bn(t,e,n){var i=t;do{var r=i.prev,o=i.next.next;!Pn(r,o)&&Tn(r,i,i.next,o)&&On(r,o)&&On(o,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(o.i/n),Nn(i),Nn(i.next),i=t=o),i=i.next}while(i!==t);return i}function wn(t,e,n,i,r,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&In(a,s)){var u=Ln(a,s);return a=mn(a,a.next),u=mn(u,u.next),_n(a,e,n,i,r,o),void _n(u,e,n,i,r,o)}s=s.next}a=a.next}while(a!==t)}function xn(t,e){return t.x-e.x}function kn(t,e){if(e=function(t,e){var n,i=e,r=t.x,o=t.y,a=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var s=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&s>a){if(a=s,s===r){if(o===i.y)return i;if(o===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===a)return n.prev;var u,l=n,c=n.x,h=n.y,p=1/0;for(i=n.next;i!==l;)r>=i.x&&i.x>=c&&r!==i.x&&Cn(o<h?r:a,o,c,h,o<h?a:r,o,i.x,i.y)&&((u=Math.abs(o-i.y)/(r-i.x))<p||u===p&&i.x>n.x)&&On(i,t)&&(n=i,p=u),i=i.next;return n}(t,e)){var n=Ln(e,t);mn(n,n.next)}}function En(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Sn(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function Cn(t,e,n,i,r,o,a,s){return(r-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(i-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(r-a)*(i-s)>=0}function In(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Tn(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&On(t,e)&&On(e,t)&&function(t,e){var n=t,i=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)}function An(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Pn(t,e){return t.x===e.x&&t.y===e.y}function Tn(t,e,n,i){return!!(Pn(t,e)&&Pn(n,i)||Pn(t,i)&&Pn(n,e))||An(t,e,n)>0!=An(t,e,i)>0&&An(n,i,t)>0!=An(n,i,e)>0}function On(t,e){return An(t.prev,t,t.next)<0?An(t,e,t.next)>=0&&An(t,t.prev,e)>=0:An(t,e,t.prev)<0||An(t,t.next,e)<0}function Ln(t,e){var n=new Rn(t.i,t.x,t.y),i=new Rn(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function Mn(t,e,n,i){var r=new Rn(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Nn(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Rn(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Dn(t,e,n,i){for(var r=0,o=e,a=n-i;o<n;o+=i)r+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return r}function zn(t){var e=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[r][o][a]);r>0&&n.holes.push(i+=t[r-1].length)}return n}(t),n=pn(e.vertices,e.holes,2),i=[],r=[];n.forEach(function(t,i){var o=n[i];r.push([e.vertices[2*o],e.vertices[2*o+1]])});for(var o=0;o<r.length;o+=3){var a=r.slice(o,o+3);a.push(r[o]),i.push(l([a]))}return i}function Fn(t,e){if(!t)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");var n,i=1/0,r=0;return D(e,function(e,n){var o=ge(t,e);o<i&&(r=n,i=o)}),(n=be(e.features[r])).properties.featureIndex=r,n.properties.distanceToPoint=i,n}function Bn(t){if(!t)throw new Error("geojson is required");var e=[];return V(t,function(t){!function(t,e){var n=[],i=t.geometry;if(null!==i){switch(i.type){case"Polygon":n=J(i);break;case"LineString":n=[J(i)]}n.forEach(function(n){(function(t,e){var n=[];return t.reduce(function(t,i){var r=h([t,i],e);return r.bbox=function(t,e){var n=t[0],i=t[1],r=e[0],o=e[1];return[n<r?n:r,i<o?i:o,n>r?n:r,i>o?i:o]}(t,i),n.push(r),i}),n})(n,t.properties).forEach(function(t){t.id=e.length,e.push(t)})})}}(t,e)}),f(e)}dn.deviation=function(t,e,n,i){var r=e&&e.length,o=Math.abs(Dn(t,0,r?e[0]*n:t.length,n));if(r)for(var a=0,s=e.length;a<s;a++)o-=Math.abs(Dn(t,e[a]*n,a<s-1?e[a+1]*n:t.length,n));var u=0;for(a=0;a<i.length;a+=3){var l=i[a]*n,c=i[a+1]*n,h=i[a+2]*n;u+=Math.abs((t[l]-t[h])*(t[c+1]-t[l+1])-(t[l]-t[c])*(t[h+1]-t[l+1]))}return 0===o&&0===u?0:Math.abs((u-o)/o)},dn.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[r][o][a]);r>0&&n.holes.push(i+=t[r-1].length)}return n},pn.default=fn;var jn=Ft(function(t,e){function n(t,e,n){void 0===n&&(n={});var i={type:"Feature"};return(0===n.id||n.id)&&(i.id=n.id),n.bbox&&(i.bbox=n.bbox),i.properties=e||{},i.geometry=t,i}function i(t,e,i){if(void 0===i&&(i={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!f(t[0])||!f(t[1]))throw new Error("coordinates must contain numbers");return n({type:"Point",coordinates:t},e,i)}function r(t,e,i){void 0===i&&(i={});for(var r=0,o=t;r<o.length;r++){var a=o[r];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:t},e,i)}function o(t,e,i){if(void 0===i&&(i={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return n({type:"LineString",coordinates:t},e,i)}function a(t,e){void 0===e&&(e={});var n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function s(t,e,i){return void 0===i&&(i={}),n({type:"MultiLineString",coordinates:t},e,i)}function u(t,e,i){return void 0===i&&(i={}),n({type:"MultiPoint",coordinates:t},e,i)}function l(t,e,i){return void 0===i&&(i={}),n({type:"MultiPolygon",coordinates:t},e,i)}function c(t,n){void 0===n&&(n="kilometers");var i=e.factors[n];if(!i)throw new Error(n+" units is invalid");return t*i}function h(t,n){void 0===n&&(n="kilometers");var i=e.factors[n];if(!i)throw new Error(n+" units is invalid");return t/i}function p(t){return t%(2*Math.PI)*180/Math.PI}function f(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.earthRadius=6371008.8,e.factors={centimeters:100*e.earthRadius,centimetres:100*e.earthRadius,degrees:e.earthRadius/111325,feet:3.28084*e.earthRadius,inches:39.37*e.earthRadius,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:1e3*e.earthRadius,millimetres:1e3*e.earthRadius,nauticalmiles:e.earthRadius/1852,radians:1,yards:1.0936*e.earthRadius},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1.0936133},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},e.feature=n,e.geometry=function(t,e,n){switch(t){case"Point":return i(e).geometry;case"LineString":return o(e).geometry;case"Polygon":return r(e).geometry;case"MultiPoint":return u(e).geometry;case"MultiLineString":return s(e).geometry;case"MultiPolygon":return l(e).geometry;default:throw new Error(t+" is invalid")}},e.point=i,e.points=function(t,e,n){return void 0===n&&(n={}),a(t.map(function(t){return i(t,e)}),n)},e.polygon=r,e.polygons=function(t,e,n){return void 0===n&&(n={}),a(t.map(function(t){return r(t,e)}),n)},e.lineString=o,e.lineStrings=function(t,e,n){return void 0===n&&(n={}),a(t.map(function(t){return o(t,e)}),n)},e.featureCollection=a,e.multiLineString=s,e.multiPoint=u,e.multiPolygon=l,e.geometryCollection=function(t,e,i){return void 0===i&&(i={}),n({type:"GeometryCollection",geometries:t},e,i)},e.round=function(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n},e.radiansToLength=c,e.lengthToRadians=h,e.lengthToDegrees=function(t,e){return p(h(t,e))},e.bearingToAzimuth=function(t){var e=t%360;return e<0&&(e+=360),e},e.radiansToDegrees=p,e.degreesToRadians=function(t){return t%360*Math.PI/180},e.convertLength=function(t,e,n){if(void 0===e&&(e="kilometers"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("length must be a positive number");return c(h(t,e),n)},e.convertArea=function(t,n,i){if(void 0===n&&(n="meters"),void 0===i&&(i="kilometers"),!(t>=0))throw new Error("area must be a positive number");var r=e.areaFactors[n];if(!r)throw new Error("invalid original units");var o=e.areaFactors[i];if(!o)throw new Error("invalid final units");return t/r*o},e.isNumber=f,e.isObject=function(t){return!!t&&t.constructor===Object},e.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!f(t))throw new Error("bbox must only contain numbers")})},e.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}});function Vn(t,e,n){if(null!==t)for(var i,r,o,a,s,u,l,c,h=0,p=0,f=t.type,d="FeatureCollection"===f,g="Feature"===f,m=d?t.features.length:1,_=0;_<m;_++){s=(c=!!(l=d?t.features[_].geometry:g?t.geometry:t)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var y=0;y<s;y++){var v=0,b=0;if(null!==(a=c?l.geometries[y]:l)){u=a.coordinates;var w=a.type;switch(h=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(u,p,_,v,b))return!1;p++,v++;break;case"LineString":case"MultiPoint":for(i=0;i<u.length;i++){if(!1===e(u[i],p,_,v,b))return!1;p++,"MultiPoint"===w&&v++}"LineString"===w&&v++;break;case"Polygon":case"MultiLineString":for(i=0;i<u.length;i++){for(r=0;r<u[i].length-h;r++){if(!1===e(u[i][r],p,_,v,b))return!1;p++}"MultiLineString"===w&&v++,"Polygon"===w&&b++}"Polygon"===w&&v++;break;case"MultiPolygon":for(i=0;i<u.length;i++){for(b=0,r=0;r<u[i].length;r++){for(o=0;o<u[i][r].length-h;o++){if(!1===e(u[i][r][o],p,_,v,b))return!1;p++}b++}v++}break;case"GeometryCollection":for(i=0;i<a.geometries.length;i++)if(!1===Vn(a.geometries[i],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Un(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length&&!1!==e(t.features[n].properties,n);n++);break;case"Feature":e(t.properties,0)}}function qn(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}function Gn(t,e){var n,i,r,o,a,s,u,l,c,h,p=0,f="FeatureCollection"===t.type,d="Feature"===t.type,g=f?t.features.length:1;for(n=0;n<g;n++){for(l=f?t.features[n].properties:d?t.properties:{},c=f?t.features[n].bbox:d?t.bbox:void 0,h=f?t.features[n].id:d?t.id:void 0,a=(u=!!(s=f?t.features[n].geometry:d?t.geometry:t)&&"GeometryCollection"===s.type)?s.geometries.length:1,r=0;r<a;r++)if(null!==(o=u?s.geometries[r]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,p,l,c,h))return!1;break;case"GeometryCollection":for(i=0;i<o.geometries.length;i++)if(!1===e(o.geometries[i],p,l,c,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,p,l,c,h))return!1;p++}}function Hn(t,e){Gn(t,function(t,n,i,r,o){var a,s=null===t?null:t.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return!1!==e(jn.feature(t,i,{bbox:r,id:o}),n,0)&&void 0}switch(s){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var u=0;u<t.coordinates.length;u++)if(!1===e(jn.feature({type:a,coordinates:t.coordinates[u]},i),n,u))return!1})}function Wn(t,e){Hn(t,function(t,n,i){var r=0;if(t.geometry){var o=t.geometry.type;if("Point"!==o&&"MultiPoint"!==o){var a,s=0,u=0,l=0;return!1!==Vn(t,function(o,c,h,p,f){if(void 0===a||n>s||p>u||f>l)return a=o,s=n,u=p,l=f,void(r=0);var d=jn.lineString([a,o],t.properties);if(!1===e(d,n,i,f,r))return!1;r++,a=o})&&void 0}}})}function Yn(t,e){if(!t)throw new Error("geojson is required");Hn(t,function(t,n,i){if(null!==t.geometry){var r=t.geometry.coordinates;switch(t.geometry.type){case"LineString":if(!1===e(t,n,i,0,0))return!1;break;case"Polygon":for(var o=0;o<r.length;o++)if(!1===e(jn.lineString(r[o],t.properties),n,i,o))return!1}}})}var Zn=Object.defineProperty({coordAll:function(t){var e=[];return Vn(t,function(t){e.push(t)}),e},coordEach:Vn,coordReduce:function(t,e,n,i){var r=n;return Vn(t,function(t,i,o,a,s){r=0===i&&void 0===n?t:e(r,t,i,o,a,s)},i),r},featureEach:qn,featureReduce:function(t,e,n){var i=n;return qn(t,function(t,r){i=0===r&&void 0===n?t:e(i,t,r)}),i},findPoint:function(t,e){if(!jn.isObject(e=e||{}))throw new Error("options is invalid");var n,i=e.featureIndex||0,r=e.multiFeatureIndex||0,o=e.geometryIndex||0,a=e.coordIndex||0,s=e.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),s=s||t.features[i].properties,n=t.features[i].geometry;break;case"Feature":s=s||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var u=n.coordinates;switch(n.type){case"Point":return jn.point(u,s,e);case"MultiPoint":return r<0&&(r=u.length+r),jn.point(u[r],s,e);case"LineString":return a<0&&(a=u.length+a),jn.point(u[a],s,e);case"Polygon":return o<0&&(o=u.length+o),a<0&&(a=u[o].length+a),jn.point(u[o][a],s,e);case"MultiLineString":return r<0&&(r=u.length+r),a<0&&(a=u[r].length+a),jn.point(u[r][a],s,e);case"MultiPolygon":return r<0&&(r=u.length+r),o<0&&(o=u[r].length+o),a<0&&(a=u[r][o].length-a),jn.point(u[r][o][a],s,e)}throw new Error("geojson is invalid")},findSegment:function(t,e){if(!jn.isObject(e=e||{}))throw new Error("options is invalid");var n,i=e.featureIndex||0,r=e.multiFeatureIndex||0,o=e.geometryIndex||0,a=e.segmentIndex||0,s=e.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),s=s||t.features[i].properties,n=t.features[i].geometry;break;case"Feature":s=s||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var u=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return a<0&&(a=u.length+a-1),jn.lineString([u[a],u[a+1]],s,e);case"Polygon":return o<0&&(o=u.length+o),a<0&&(a=u[o].length+a-1),jn.lineString([u[o][a],u[o][a+1]],s,e);case"MultiLineString":return r<0&&(r=u.length+r),a<0&&(a=u[r].length+a-1),jn.lineString([u[r][a],u[r][a+1]],s,e);case"MultiPolygon":return r<0&&(r=u.length+r),o<0&&(o=u[r].length+o),a<0&&(a=u[r][o].length-a-1),jn.lineString([u[r][o][a],u[r][o][a+1]],s,e)}throw new Error("geojson is invalid")},flattenEach:Hn,flattenReduce:function(t,e,n){var i=n;return Hn(t,function(t,r,o){i=0===r&&0===o&&void 0===n?t:e(i,t,r,o)}),i},geomEach:Gn,geomReduce:function(t,e,n){var i=n;return Gn(t,function(t,r,o,a,s){i=0===r&&void 0===n?t:e(i,t,r,o,a,s)}),i},lineEach:Yn,lineReduce:function(t,e,n){var i=n;return Yn(t,function(t,r,o,a){i=0===r&&void 0===n?t:e(i,t,r,o,a)}),i},propEach:Un,propReduce:function(t,e,n){var i=n;return Un(t,function(t,r){i=0===r&&void 0===n?t:e(i,t,r)}),i},segmentEach:Wn,segmentReduce:function(t,e,n){var i=n,r=!1;return Wn(t,function(t,o,a,s,u){i=!1===r&&void 0===n?t:e(i,t,o,a,s,u),r=!0}),i}},"__esModule",{value:!0});function Xn(t){var e=[1/0,1/0,-1/0,-1/0];return Zn.coordEach(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}Xn.default=Xn;var Kn=Object.defineProperty({default:Xn},"__esModule",{value:!0}).default,$n=Zn.featureEach,Jn=jn.featureCollection;function Qn(t){var e=kt(t);return e.insert=function(t){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:Kn(t),kt.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach(function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:Kn(t),e.push(t)}):$n(t,function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:Kn(t),e.push(t)}),kt.prototype.load.call(this,e)},e.remove=function(t,e){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:Kn(t),kt.prototype.remove.call(this,t,e)},e.clear=function(){return kt.prototype.clear.call(this)},e.search=function(t){var e=kt.prototype.search.call(this,this.toBBox(t));return Jn(e)},e.collides=function(t){return kt.prototype.collides.call(this,this.toBBox(t))},e.all=function(){var t=kt.prototype.all.call(this);return Jn(t)},e.toJSON=function(){return kt.prototype.toJSON.call(this)},e.fromJSON=function(t){return kt.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;if(t.bbox)e=t.bbox;else if(Array.isArray(t)&&4===t.length)e=t;else if(Array.isArray(t)&&6===t.length)e=[t[0],t[1],t[3],t[4]];else if("Feature"===t.type)e=Kn(t);else{if("FeatureCollection"!==t.type)throw new Error("invalid geojson");e=Kn(t)}return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}var ti=Qn;function ei(t,e){var n={},i=[];if("LineString"===t.type&&(t=o(t)),"LineString"===e.type&&(e=o(e)),"Feature"===t.type&&"Feature"===e.type&&null!==t.geometry&&null!==e.geometry&&"LineString"===t.geometry.type&&"LineString"===e.geometry.type&&2===t.geometry.coordinates.length&&2===e.geometry.coordinates.length){var r=ni(t,e);return r&&i.push(r),f(i)}var a=ti();return a.load(Bn(e)),D(Bn(t),function(t){D(a.search(t),function(e){var r=ni(t,e);if(r){var o=J(r).join(",");n[o]||(n[o]=!0,i.push(r))}})}),f(i)}function ni(t,e){var n=J(t),i=J(e);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==i.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var r=n[0][0],o=n[0][1],a=n[1][0],u=n[1][1],l=i[0][0],c=i[0][1],h=i[1][0],p=i[1][1],f=(p-c)*(a-r)-(h-l)*(u-o);if(0===f)return null;var d=((h-l)*(o-c)-(p-c)*(r-l))/f,g=((a-r)*(o-c)-(u-o)*(r-l))/f;return d>=0&&d<=1&&g>=0&&g<=1?s([r+d*(a-r),o+d*(u-o)]):null}function ii(t,e,n){void 0===n&&(n={});var i=s([1/0,1/0],{dist:1/0}),r=0;return V(t,function(t){for(var o=J(t),a=0;a<o.length-1;a++){var u=s(o[a]);u.properties.dist=ge(e,u,n);var l=s(o[a+1]);l.properties.dist=ge(e,l,n);var c=ge(u,l,n),p=Math.max(u.properties.dist,l.properties.dist),f=un(u,l),d=an(e,p,f+90,n),g=an(e,p,f-90,n),m=ei(h([d.geometry.coordinates,g.geometry.coordinates]),h([u.geometry.coordinates,l.geometry.coordinates])),_=null;m.features.length>0&&((_=m.features[0]).properties.dist=ge(e,_,n),_.properties.location=r+ge(u,_,n)),u.properties.dist<i.properties.dist&&((i=u).properties.index=a,i.properties.location=r),l.properties.dist<i.properties.dist&&((i=l).properties.index=a+1,i.properties.location=r+c),_&&_.properties.dist<i.properties.dist&&((i=_).properties.index=a),r+=c}}),i}function ri(t,n,i){void 0===i&&(i={});var r=$(t),o=$(n);return o[0]+=o[0]-r[0]>180?-360:r[0]-o[0]>180?360:0,S(function(t,n,i){var r=i=void 0===i?e:Number(i),o=t[1]*Math.PI/180,a=n[1]*Math.PI/180,s=a-o,u=Math.abs(n[0]-t[0])*Math.PI/180;u>Math.PI&&(u-=2*Math.PI);var l=Math.log(Math.tan(a/2+Math.PI/4)/Math.tan(o/2+Math.PI/4)),c=Math.abs(l)>1e-11?s/l:Math.cos(o);return Math.sqrt(s*s+c*c*u*u)*r}(r,o),"meters",i.units)}function oi(t,e,n){if(void 0===n&&(n={}),n.method||(n.method="geodesic"),n.units||(n.units="kilometers"),!t)throw new Error("pt is required");if(Array.isArray(t)?t=s(t):"Point"===t.type?t=o(t):et(t,"Point","point"),!e)throw new Error("line is required");Array.isArray(e)?e=h(e):"LineString"===e.type?e=o(e):et(e,"LineString","line");var i=1/0,r=t.geometry.coordinates;return q(e,function(t){var e=function(t,e,n,i){var r=[n[0]-e[0],n[1]-e[1]],o=ai([t[0]-e[0],t[1]-e[1]],r);if(o<=0)return si(t,e,{method:i.method,units:"degrees"});var a=ai(r,r);if(a<=o)return si(t,n,{method:i.method,units:"degrees"});var s=o/a;return si(t,[e[0]+s*r[0],e[1]+s*r[1]],{method:i.method,units:"degrees"})}(r,t.geometry.coordinates[0],t.geometry.coordinates[1],n);e<i&&(i=e)}),S(i,"degrees",n.units)}function ai(t,e){return t[0]*e[0]+t[1]*e[1]}function si(t,e,n){return"planar"===n.method?ri(t,e,n):ge(t,e,n)}function ui(t,e,n,i,r,o,a,s){var u,l,c,h,p={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(u=(s-o)*(n-t)-(a-r)*(i-e))?null!==p.x&&null!==p.y&&p:(h=(n-t)*(l=e-o)-(i-e)*(c=t-r),l=((a-r)*l-(s-o)*c)/u,c=h/u,p.x=t+l*(n-t),p.y=e+l*(i-e),l>=0&&l<=1&&(p.onLine1=!0),c>=0&&c<=1&&(p.onLine2=!0),!(!p.onLine1||!p.onLine2)&&[p.x,p.y])}function li(t){for(var e=function(t){return"FeatureCollection"!==t.type?f("Feature"!==t.type?[o(t)]:[t]):t}(t),n=ln(e),i=!1,r=0;!i&&r<e.features.length;){var a,u=e.features[r].geometry,l=!1;if("Point"===u.type)n.geometry.coordinates[0]===u.coordinates[0]&&n.geometry.coordinates[1]===u.coordinates[1]&&(i=!0);else if("MultiPoint"===u.type){var c=!1;for(a=0;!c&&a<u.coordinates.length;)n.geometry.coordinates[0]===u.coordinates[a][0]&&n.geometry.coordinates[1]===u.coordinates[a][1]&&(i=!0,c=!0),a++}else if("LineString"===u.type)for(a=0;!l&&a<u.coordinates.length-1;)ci(n.geometry.coordinates[0],n.geometry.coordinates[1],u.coordinates[a][0],u.coordinates[a][1],u.coordinates[a+1][0],u.coordinates[a+1][1])&&(l=!0,i=!0),a++;else if("MultiLineString"===u.type)for(var h=0;h<u.coordinates.length;){l=!1,a=0;for(var p=u.coordinates[h];!l&&a<p.length-1;)ci(n.geometry.coordinates[0],n.geometry.coordinates[1],p[a][0],p[a][1],p[a+1][0],p[a+1][1])&&(l=!0,i=!0),a++;h++}else"Polygon"!==u.type&&"MultiPolygon"!==u.type||pe(n,u)&&(i=!0);r++}if(i)return n;var d=f([]);for(r=0;r<e.features.length;r++)d.features=d.features.concat(hn(e.features[r]).features);return s(Fn(n,d).geometry.coordinates)}function ci(t,e,n,i,r,o){return Math.sqrt((r-n)*(r-n)+(o-i)*(o-i))===Math.sqrt((t-n)*(t-n)+(e-i)*(e-i))+Math.sqrt((r-t)*(r-t)+(o-e)*(o-e))}function hi(t){return j(t,function(t,e){return t+function(t){var e,n=0;switch(t.type){case"Polygon":return pi(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)n+=pi(t.coordinates[e]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(e)},0)}function pi(t){var e=0;if(t&&t.length>0){e+=Math.abs(fi(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(fi(t[n]))}return e}function fi(t){var e,n,i,r,o,a,s=0,u=t.length;if(u>2){for(a=0;a<u;a++)a===u-2?(i=u-2,r=u-1,o=0):a===u-1?(i=u-1,r=0,o=1):(i=a,r=a+1,o=a+2),e=t[i],n=t[r],s+=(di(t[o][0])-di(e[0]))*Math.sin(di(n[1]));s=6378137*s*6378137/2}return s}function di(t){return t*Math.PI/180}function gi(t,e){return void 0===e&&(e={}),G(t,function(t,n){var i=n.geometry.coordinates;return t+ge(i[0],i[1],e)},0)}function mi(t,e,n,i){if(!A(i=i||{}))throw new Error("options is invalid");var r,o=[];if("Feature"===t.type)r=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");r=t.coordinates}for(var a,s,u,l=r.length,c=0,p=0;p<r.length&&!(e>=c&&p===r.length-1);p++){if(c>e&&0===o.length){if(!(a=e-c))return o.push(r[p]),h(o);s=un(r[p],r[p-1])-180,u=an(r[p],a,s,i),o.push(u.geometry.coordinates)}if(c>=n)return(a=n-c)?(s=un(r[p],r[p-1])-180,u=an(r[p],a,s,i),o.push(u.geometry.coordinates),h(o)):(o.push(r[p]),h(o));if(c>=e&&o.push(r[p]),p===r.length-1)return h(o);c+=ge(r[p],r[p+1],i)}if(c<e&&r.length===l)throw new Error("Start position is beyond line");var f=r[r.length-1];return h([f,f])}function _i(t,e,n){void 0===n&&(n={});for(var i=$(t),r=J(e),o=0;o<r.length-1;o++){var a=!1;if(n.ignoreEndVertices&&(0===o&&(a="start"),o===r.length-2&&(a="end"),0===o&&o+1===r.length-1&&(a="both")),yi(r[o],r[o+1],i,a,void 0===n.epsilon?null:n.epsilon))return!0}return!1}function yi(t,e,n,i,r){var o=n[0],a=n[1],s=t[0],u=t[1],l=e[0],c=e[1],h=l-s,p=c-u,f=(n[0]-s)*p-(n[1]-u)*h;if(null!==r){if(Math.abs(f)>r)return!1}else if(0!==f)return!1;return i?"start"===i?Math.abs(h)>=Math.abs(p)?h>0?s<o&&o<=l:l<=o&&o<s:p>0?u<a&&a<=c:c<=a&&a<u:"end"===i?Math.abs(h)>=Math.abs(p)?h>0?s<=o&&o<l:l<o&&o<=s:p>0?u<=a&&a<c:c<a&&a<=u:"both"===i&&(Math.abs(h)>=Math.abs(p)?h>0?s<o&&o<l:l<o&&o<s:p>0?u<a&&a<c:c<a&&a<u):Math.abs(h)>=Math.abs(p)?h>0?s<=o&&o<=l:l<=o&&o<=s:p>0?u<=a&&a<=c:c<=a&&a<=u}function vi(t,e){var n=it(t),i=it(e),r=n.type,o=i.type;switch(r){case"Point":switch(o){case"MultiPoint":return function(t,e){var n,i=!1;for(n=0;n<e.coordinates.length;n++)if(wi(e.coordinates[n],t.coordinates)){i=!0;break}return i}(n,i);case"LineString":return _i(n,i,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return pe(n,i,{ignoreBoundary:!0});default:throw new Error("feature2 "+o+" geometry not supported")}case"MultiPoint":switch(o){case"MultiPoint":return function(t,e){for(var n=0;n<t.coordinates.length;n++){for(var i=!1,r=0;r<e.coordinates.length;r++)wi(t.coordinates[n],e.coordinates[r])&&(i=!0);if(!i)return!1}return!0}(n,i);case"LineString":return function(t,e){for(var n=!1,i=0;i<t.coordinates.length;i++){if(!_i(t.coordinates[i],e))return!1;n||(n=_i(t.coordinates[i],e,{ignoreEndVertices:!0}))}return n}(n,i);case"Polygon":case"MultiPolygon":return function(t,e){for(var n=!0,i=!1,r=0;r<t.coordinates.length;r++){if(!(i=pe(t.coordinates[1],e))){n=!1;break}i=pe(t.coordinates[1],e,{ignoreBoundary:!0})}return n&&i}(n,i);default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"LineString":return function(t,e){for(var n=0;n<t.coordinates.length;n++)if(!_i(t.coordinates[n],e))return!1;return!0}(n,i);case"Polygon":case"MultiPolygon":return function(t,e){if(!bi(K(e),K(t)))return!1;for(var n=!1,i=0;i<t.coordinates.length-1;i++){if(!pe(t.coordinates[i],e))return!1;n||(n=pe(t.coordinates[i],e,{ignoreBoundary:!0})),n||(n=pe(xi(t.coordinates[i],t.coordinates[i+1]),e,{ignoreBoundary:!0}))}return n}(n,i);default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"Polygon":case"MultiPolygon":return function(t,e){var n=K(t);if(!bi(K(e),n))return!1;for(var i=0;i<t.coordinates[0].length;i++)if(!pe(t.coordinates[0][i],e))return!1;return!0}(n,i);default:throw new Error("feature2 "+o+" geometry not supported")}default:throw new Error("feature1 "+r+" geometry not supported")}}function bi(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function wi(t,e){return t[0]===e[0]&&t[1]===e[1]}function xi(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}function ki(t,e,n){void 0===n&&(n={}),n.mask&&!n.units&&(n.units="kilometers");for(var i=[],r=t[0],o=t[1],a=t[2],u=t[3],l=e/ge([r,o],[a,o],n)*(a-r),c=e/ge([r,o],[r,u],n)*(u-o),h=a-r,p=u-o,d=Math.floor(h/l),g=(p-Math.floor(p/c)*c)/2,m=r+(h-d*l)/2;m<=a;){for(var _=o+g;_<=u;){var y=s([m,_],n.properties);n.mask?vi(y,n.mask)&&i.push(y):i.push(y),_+=c}m+=l}return f(i)}function Ei(t,e){void 0===e&&(e={});var n=e.precision,i=e.coordinates,r=e.mutate;if(n=null==n||isNaN(n)?6:n,i=null==i||isNaN(i)?3:i,!t)throw new Error("<geojson> is required");if("number"!=typeof n)throw new Error("<precision> must be a number");if("number"!=typeof i)throw new Error("<coordinates> must be a number");!1!==r&&void 0!==r||(t=JSON.parse(JSON.stringify(t)));var o=Math.pow(10,n);return L(t,function(t){!function(t,e,n){t.length>n&&t.splice(n,t.length);for(var i=0;i<t.length;i++)t[i]=Math.round(t[i]*e)/e}(t,o,i)}),t}function Si(t){if(!t)throw new Error("geojson is required");var e=[];return V(t,function(t){e.push(t)}),f(e)}function Ci(t,e){if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!Ci(t[n],e[n]))return!1}else if(t[n]!==e[n])return!1;return!0}ti.default=Qn;var Ii=function(t,e,n,i,r){this.coord=t,this.param=e,this.ringAndEdgeIn=n,this.ringAndEdgeOut=i,this.nxtIsectAlongEdgeIn=r},Ai=function(t,e,n,i,r,o,a){this.coord=t,this.ringAndEdge1=e,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=i,this.nxtIsectAlongRingAndEdge2=r,this.ringAndEdge1Walkable=o,this.ringAndEdge2Walkable=a};function Pi(t,e){if(void 0===e&&(e=!0),3!=t.length)throw new Error("This function requires an array of three points [x,y]");return(t[1][0]-t[0][0])*(t[2][1]-t[0][1])-(t[1][1]-t[0][1])*(t[2][0]-t[0][0])>=0==e}function Ti(t){for(var e=0,n=0;n<t.length-1;n++)t[n][0]<t[e][0]&&(e=n);if(Pi([t[Li(e-1,t.length-1)],t[e],t[Li(e+1,t.length-1)]],!0))var i=1;else i=-1;return i}function Oi(t,e){if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!Oi(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}function Li(t,e){return(t%e+e)%e}var Mi=Math.PI/180,Ni=180/Math.PI,Ri=function(t,e){this.lon=t,this.lat=e,this.x=Mi*t,this.y=Mi*e};Ri.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},Ri.prototype.antipode=function(){return new Ri(this.lon<0?180+this.lon:-1*(180-this.lon),-1*this.lat)};var Di=function(){this.coords=[],this.length=0};Di.prototype.move_to=function(t){this.length++,this.coords.push(t)};var zi=function(t){this.properties=t||{},this.geometries=[]};zi.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},zi.prototype.wkt=function(){for(var t="",e="LINESTRING(",n=function(t){e+=t[0]+" "+t[1]+","},i=0;i<this.geometries.length;i++){if(0===this.geometries[i].coords.length)return"LINESTRING(empty)";this.geometries[i].coords.forEach(n),t+=e.substring(0,e.length-1)+")"}return t};var Fi=function(t,e,n){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new Ri(t.x,t.y),this.end=new Ri(e.x,e.y),this.properties=n||{};var i=this.start.x-this.end.x,r=Math.pow(Math.sin((this.start.y-this.end.y)/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(i/2),2);if(this.g=2*Math.asin(Math.sqrt(r)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};function Bi(t,e){var n=[],i=ti();return V(e,function(e){if(n.forEach(function(t,e){t.id=e}),n.length){var r=i.search(e);if(r.features.length){var o=Vi(e,r);n=n.filter(function(t){return t.id!==o.id}),i.remove(o),D(ji(o,e),function(t){n.push(t),i.insert(t)})}}else(n=ji(t,e).features).forEach(function(t){t.bbox||(t.bbox=on(K(t)))}),i.load(f(n))}),f(n)}function ji(t,e){var n=[],i=J(t)[0],r=J(t)[t.geometry.coordinates.length-1];if(Ui(i,$(e))||Ui(r,$(e)))return f([t]);var o=ti(),a=Bn(t);o.load(a);var s=o.search(e);if(!s.features.length)return f([t]);var u=Vi(e,s),l=z(a,function(t,i,r){var o=J(i)[1],a=$(e);return r===u.id?(t.push(a),n.push(h(t)),Ui(a,o)?[a]:[a,o]):(t.push(o),t)},[i]);return l.length>1&&n.push(h(l)),f(n)}function Vi(t,e){if(!e.features.length)throw new Error("lines must contain features");if(1===e.features.length)return e.features[0];var n,i=1/0;return D(e,function(e){var r=ii(e,t).properties.dist;r<i&&(n=e,i=r)}),n}function Ui(t,e){return t[0]===e[0]&&t[1]===e[1]}function qi(t,e,n,i,r){void 0===r&&(r={});var o=r.steps||64,a=Gi(n),s=Gi(i),u=Array.isArray(t)||"Feature"!==t.type?{}:t.properties;if(a===s)return h(sn(t,e,r).geometry.coordinates[0],u);for(var l=a,c=a<s?s:s+360,p=l,f=[],d=0;p<c;)f.push(an(t,e,p,r).geometry.coordinates),p=l+360*++d/o;return p>c&&f.push(an(t,e,c,r).geometry.coordinates),h(f,u)}function Gi(t){var e=t%360;return e<0&&(e+=360),e}function Hi(t,e){void 0===e&&(e={});var n=it(t);switch(e.properties||"Feature"!==t.type||(e.properties=t.properties),n.type){case"Polygon":return Wi(n,e);case"MultiPolygon":return function(t,e){void 0===e&&(e={});var n=it(t).coordinates,i=e.properties?e.properties:"Feature"===t.type?t.properties:{},r=[];return n.forEach(function(t){r.push(Yi(t,i))}),f(r)}(n,e);default:throw new Error("invalid poly")}}function Wi(t,e){return void 0===e&&(e={}),Yi(it(t).coordinates,e.properties?e.properties:"Feature"===t.type?t.properties:{})}function Yi(t,e){return t.length>1?d(t,e):h(t[0],e)}function Zi(t,e){var n,i,r;void 0===e&&(e={});var o=e.properties,a=null===(n=e.autoComplete)||void 0===n||n,s=null===(i=e.orderCoords)||void 0===i||i;switch(null!==(r=e.mutate)&&void 0!==r&&r||(t=be(t)),t.type){case"FeatureCollection":var u=[];return t.features.forEach(function(t){u.push(J(Xi(t,{},a,s)))}),m(u,o);default:return Xi(t,o,a,s)}}function Xi(t,e,n,i){e=e||("Feature"===t.type?t.properties:{});var r=it(t),o=r.coordinates,a=r.type;if(!o.length)throw new Error("line must contain coordinates");switch(a){case"LineString":return n&&(o=Ki(o)),l([o],e);case"MultiLineString":var s=[],u=0;return o.forEach(function(t){if(n&&(t=Ki(t)),i){var e=function(t){var e=t[1],n=t[3];return Math.abs(t[0]-t[2])*Math.abs(e-n)}(K(h(t)));e>u?(s.unshift(t),u=e):s.push(t)}else s.push(t)}),l(s,e);default:throw new Error("geometry type "+a+" is not supported")}}function Ki(t){var e=t[0],n=t[t.length-1];return e[0]===n[0]&&e[1]===n[1]||t.push(e),t}function $i(t,e){var n,i,r,o,a,s,u;for(i=1;i<=8;i*=2){for(n=[],o=!(Qi(r=t[t.length-1],e)&i),a=0;a<t.length;a++)(u=!(Qi(s=t[a],e)&i))!==o&&n.push(Ji(r,s,i,e)),u&&n.push(s),r=s,o=u;if(!(t=n).length)break}return n}function Ji(t,e,n,i){return 8&n?[t[0]+(e[0]-t[0])*(i[3]-t[1])/(e[1]-t[1]),i[3]]:4&n?[t[0]+(e[0]-t[0])*(i[1]-t[1])/(e[1]-t[1]),i[1]]:2&n?[i[2],t[1]+(e[1]-t[1])*(i[2]-t[0])/(e[0]-t[0])]:1&n?[i[0],t[1]+(e[1]-t[1])*(i[0]-t[0])/(e[0]-t[0])]:null}function Qi(t,e){var n=0;return t[0]<e[0]?n|=1:t[0]>e[2]&&(n|=2),t[1]<e[1]?n|=4:t[1]>e[3]&&(n|=8),n}function tr(t,e){for(var n=[],i=0,r=t;i<r.length;i++){var o=$i(r[i],e);o.length>0&&(o[0][0]===o[o.length-1][0]&&o[0][1]===o[o.length-1][1]||o.push(o[0]),o.length>=4&&n.push(o))}return n}Fi.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),n=Math.sin(t*this.g)/Math.sin(this.g),i=e*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),r=e*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),o=e*Math.sin(this.start.y)+n*Math.sin(this.end.y),a=Ni*Math.atan2(o,Math.sqrt(Math.pow(i,2)+Math.pow(r,2)));return[Ni*Math.atan2(r,i),a]},Fi.prototype.Arc=function(t,e){var n=[];if(!t||t<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var i=1/(t-1),r=0;r<t;++r){var o=this.interpolate(i*r);n.push(o)}for(var a=!1,s=0,u=e&&e.offset?e.offset:10,l=180-u,c=-180+u,h=360-u,p=1;p<n.length;++p){var f=n[p-1][0],d=n[p][0],g=Math.abs(d-f);g>h&&(d>l&&f<c||f>l&&d<c)?a=!0:g>s&&(s=g)}var m=[];if(a&&s<u){var _=[];m.push(_);for(var y=0;y<n.length;++y){var v=parseFloat(n[y][0]);if(y>0&&Math.abs(v-n[y-1][0])>h){var b=parseFloat(n[y-1][0]),w=parseFloat(n[y-1][1]),x=parseFloat(n[y][0]),k=parseFloat(n[y][1]);if(b>-180&&b<c&&180===x&&y+1<n.length&&n[y-1][0]>-180&&n[y-1][0]<c){_.push([-180,n[y][1]]),y++,_.push([n[y][0],n[y][1]]);continue}if(b>l&&b<180&&-180===x&&y+1<n.length&&n[y-1][0]>l&&n[y-1][0]<180){_.push([180,n[y][1]]),y++,_.push([n[y][0],n[y][1]]);continue}if(b<c&&x>l){var E=b;b=x,x=E;var S=w;w=k,k=S}if(b>l&&x<c&&(x+=360),b<=180&&x>=180&&b<x){var C=(180-b)/(x-b),I=C*k+(1-C)*w;_.push([n[y-1][0]>l?180:-180,I]),(_=[]).push([n[y-1][0]>l?-180:180,I]),m.push(_)}else m.push(_=[]);_.push([v,n[y][1]])}else _.push([n[y][0],n[y][1]])}}else{var A=[];m.push(A);for(var P=0;P<n.length;++P)A.push([n[P][0],n[P][1]])}for(var T=new zi(this.properties),O=0;O<m.length;++O){var L=new Di;T.geometries.push(L);for(var M=m[O],N=0;N<M.length;++N)L.move_to(M[N])}return T};var er=Ft(function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n}),nr=Ft(function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function i(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function r(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=n?i:r).supported=i,e.unsupported=r}),ir=Ft(function(t){var e=Array.prototype.slice,n=t.exports=function(t,o,a){return a||(a={}),t===o||(t instanceof Date&&o instanceof Date?t.getTime()===o.getTime():!t||!o||"object"!=typeof t&&"object"!=typeof o?a.strict?t===o:t==o:function(t,o,a){var s,u;if(i(t)||i(o))return!1;if(t.prototype!==o.prototype)return!1;if(nr(t))return!!nr(o)&&(t=e.call(t),o=e.call(o),n(t,o,a));if(r(t)){if(!r(o))return!1;if(t.length!==o.length)return!1;for(s=0;s<t.length;s++)if(t[s]!==o[s])return!1;return!0}try{var l=er(t),c=er(o)}catch(t){return!1}if(l.length!=c.length)return!1;for(l.sort(),c.sort(),s=l.length-1;s>=0;s--)if(l[s]!=c[s])return!1;for(s=l.length-1;s>=0;s--)if(!n(t[u=l[s]],o[u],a))return!1;return typeof t==typeof o}(t,o,a))};function i(t){return null==t}function r(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}});function rr(t,e,n){if(void 0===n&&(n={}),!A(n=n||{}))throw new Error("options is invalid");var i,r=n.tolerance||0,o=[],a=ti(),s=Bn(t);return a.load(s),q(e,function(t){var e=!1;t&&(D(a.search(t),function(n){if(!1===e){var o=J(t).sort(),a=J(n).sort();ir(o,a)||(0===r?_i(o[0],n)&&_i(o[1],n):ii(n,o[0]).properties.dist<=r&&ii(n,o[1]).properties.dist<=r)?(e=!0,i=i?or(i,t):t):(0===r?_i(a[0],t)&&_i(a[1],t):ii(t,a[0]).properties.dist<=r&&ii(t,a[1]).properties.dist<=r)&&(i=i?or(i,n):n)}}),!1===e&&i&&(o.push(i),i=void 0))}),i&&o.push(i),f(o)}function or(t,e){var n=J(e),i=J(t),r=i[0],o=i[i.length-1],a=t.geometry.coordinates;return ir(n[0],r)?a.unshift(n[1]):ir(n[0],o)?a.push(n[1]):ir(n[1],r)?a.unshift(n[0]):ir(n[1],o)&&a.push(n[0]),t}function ar(t){var e=t%360;return e<0&&(e+=360),e}function sr(t,e,n){var i;return void 0===n&&(n={}),(i=n.final?ur($(e),$(t)):ur($(t),$(e)))>180?-(360-i):i}function ur(t,e){var n=E(t[1]),i=E(e[1]),r=E(e[0]-t[0]);r>Math.PI&&(r-=2*Math.PI),r<-Math.PI&&(r+=2*Math.PI);var o=Math.log(Math.tan(i/2+Math.PI/4)/Math.tan(n/2+Math.PI/4));return(k(Math.atan2(r,o))+360)%360}function lr(t,n,i,r){void 0===r&&(r={});var o=n<0,a=S(Math.abs(n),r.units,"meters");o&&(a=-Math.abs(a));var u=$(t),l=function(t,n,i,r){var o=n/(r=void 0===r?e:Number(r)),a=t[0]*Math.PI/180,s=E(t[1]),u=E(i),l=o*Math.cos(u),c=s+l;Math.abs(c)>Math.PI/2&&(c=c>0?Math.PI-c:-Math.PI-c);var h=Math.log(Math.tan(c/2+Math.PI/4)/Math.tan(s/2+Math.PI/4)),p=Math.abs(h)>1e-11?l/h:Math.cos(s);return[(180*(a+o*Math.sin(u)/p)/Math.PI+540)%360-180,180*c/Math.PI]}(u,a,i);return l[0]+=l[0]-u[0]>180?-360:u[0]-l[0]>180?360:0,s(l,r.properties)}function cr(t,e,n,i,r,o){for(var a=0;a<t.length;a++){var s=t[a],u=t[a+1];a===t.length-1&&(u=t[0]),i=pr(s,u,e),n<=0&&i>0?pr(e,s,r)<0||(r=s):n>0&&i<=0&&(hr(e,s,o)||(o=s)),n=i}return[r,o]}function hr(t,e,n){return pr(t,e,n)>0}function pr(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function fr(t){for(var e,n,i=J(t),r=0,o=1;o<i.length;)e=n||i[0],r+=((n=i[o])[0]-e[0])*(n[1]+e[1]),o++;return r>0}function dr(t,e){switch("Feature"===t.type?t.geometry.type:t.type){case"GeometryCollection":return B(t,function(t){dr(t,e)}),t;case"LineString":return gr(J(t),e),t;case"Polygon":return mr(J(t),e),t;case"MultiLineString":return J(t).forEach(function(t){gr(t,e)}),t;case"MultiPolygon":return J(t).forEach(function(t){mr(t,e)}),t;case"Point":case"MultiPoint":return t}}function gr(t,e){fr(t)===e&&t.reverse()}function mr(t,e){fr(t[0])!==e&&t[0].reverse();for(var n=1;n<t.length;n++)fr(t[n])===e&&t[n].reverse()}var _r={successCallback:null,verbose:!1,polygons:!1},yr={};function vr(t,e,n,i){i=i||{};for(var r=Object.keys(_r),o=0;o<r.length;o++){var a=r[o],s=i[a];yr[a]=s=null!=s?s:_r[a]}yr.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+e+":"+(e+n)+"]");var u,l=function(t,e,n){for(var i=t.length-1,r=t[0].length-1,o={rows:i,cols:r,cells:[]},a=e+Math.abs(n),s=0;s<i;++s){o.cells[s]=[];for(var u=0;u<r;++u){var l=0,c=t[s+1][u],h=t[s+1][u+1],p=t[s][u+1],f=t[s][u];if(!(isNaN(c)||isNaN(h)||isNaN(p)||isNaN(f))){l|=c<e?0:c>a?128:64,l|=h<e?0:h>a?32:16,l|=p<e?0:p>a?8:4;var d=+(l|=f<e?0:f>a?2:1),g=0;if(17===l||18===l||33===l||34===l||38===l||68===l||72===l||98===l||102===l||132===l||136===l||137===l||152===l||153===l){var m=(c+h+p+f)/4;g=m>a?2:m<e?0:1,34===l?1===g?l=35:0===g&&(l=136):136===l?1===g?(l=35,g=4):0===g&&(l=34):17===l?1===g?(l=155,g=4):0===g&&(l=153):68===l?1===g?(l=103,g=4):0===g&&(l=102):153===l?1===g&&(l=155):102===l?1===g&&(l=103):152===l?g<2&&(l=156,g=1):137===l?g<2&&(l=139,g=1):98===l?g<2&&(l=99,g=1):38===l?g<2&&(l=39,g=1):18===l?g>0?(l=156,g=4):l=152:33===l?g>0?(l=139,g=4):l=137:72===l?g>0?(l=99,g=4):l=98:132===l&&(g>0?(l=39,g=4):l=38)}if(0!=l&&170!=l){var _,y,v,b,w,x,k,E;_=y=v=b=w=x=k=E=.5;var S=[];1===l?(v=1-so(e,p,f),E=1-so(e,c,f),S.push(eo[l])):169===l?(v=so(a,f,p),E=so(a,f,c),S.push(eo[l])):4===l?(x=1-so(e,h,p),b=so(e,f,p),S.push(Qr[l])):166===l?(x=so(a,p,h),b=1-so(a,p,f),S.push(Qr[l])):16===l?(w=so(e,p,h),y=so(e,c,h),S.push(Jr[l])):154===l?(w=1-so(a,h,p),y=1-so(a,h,c),S.push(Jr[l])):64===l?(k=so(e,f,c),_=1-so(e,h,c),S.push(io[l])):106===l?(k=1-so(a,c,f),_=so(a,c,h),S.push(io[l])):168===l?(b=so(a,f,p),v=so(e,f,p),E=so(e,f,c),k=so(a,f,c),S.push(to[l]),S.push(eo[l])):2===l?(b=1-so(e,p,f),v=1-so(a,p,f),E=1-so(a,c,f),k=1-so(e,c,f),S.push(to[l]),S.push(eo[l])):162===l?(w=so(a,p,h),x=so(e,p,h),b=1-so(e,p,f),v=1-so(a,p,f),S.push(to[l]),S.push(eo[l])):8===l?(w=1-so(e,h,p),x=1-so(a,h,p),b=so(a,f,p),v=so(e,f,p),S.push(Jr[l]),S.push(Qr[l])):138===l?(w=1-so(e,h,p),x=1-so(a,h,p),_=1-so(a,h,c),y=1-so(e,h,c),S.push(Jr[l]),S.push(Qr[l])):32===l?(w=so(a,p,h),x=so(e,p,h),_=so(e,c,h),y=so(a,c,h),S.push(Jr[l]),S.push(Qr[l])):42===l?(E=1-so(a,c,f),k=1-so(e,c,f),_=so(e,c,h),y=so(a,c,h),S.push(no[l]),S.push(io[l])):128===l&&(E=so(e,f,c),k=so(a,f,c),_=1-so(a,h,c),y=1-so(e,h,c),S.push(no[l]),S.push(io[l])),5===l?(x=1-so(e,h,p),E=1-so(e,c,f),S.push(Qr[l])):165===l?(x=so(a,p,h),E=so(a,f,c),S.push(Qr[l])):20===l?(b=so(e,f,p),y=so(e,c,h),S.push(to[l])):150===l?(b=1-so(a,p,f),y=1-so(a,h,c),S.push(to[l])):80===l?(w=so(e,p,h),k=so(e,f,c),S.push(Jr[l])):90===l?(w=1-so(a,h,p),k=1-so(a,c,f),S.push(Jr[l])):65===l?(v=1-so(e,p,f),_=1-so(e,h,c),S.push(eo[l])):105===l?(v=so(a,f,p),_=so(a,c,h),S.push(eo[l])):160===l?(w=so(a,p,h),x=so(e,p,h),E=so(e,f,c),k=so(a,f,c),S.push(Jr[l]),S.push(Qr[l])):10===l?(w=1-so(e,h,p),x=1-so(a,h,p),E=1-so(a,c,f),k=1-so(e,c,f),S.push(Jr[l]),S.push(Qr[l])):130===l?(b=1-so(e,p,f),v=1-so(a,p,f),_=1-so(a,h,c),y=1-so(e,h,c),S.push(to[l]),S.push(eo[l])):40===l?(b=so(a,f,p),v=so(e,f,p),_=so(e,c,h),y=so(a,c,h),S.push(to[l]),S.push(eo[l])):101===l?(x=so(a,p,h),_=so(a,c,h),S.push(Qr[l])):69===l?(x=1-so(e,h,p),_=1-so(e,h,c),S.push(Qr[l])):149===l?(E=so(a,f,c),y=1-so(a,h,c),S.push(no[l])):21===l?(E=1-so(e,c,f),y=so(e,c,h),S.push(no[l])):86===l?(b=1-so(a,p,f),k=1-so(a,c,f),S.push(to[l])):84===l?(b=so(e,f,p),k=so(e,f,c),S.push(to[l])):89===l?(w=1-so(a,h,p),v=so(a,f,p),S.push(eo[l])):81===l?(w=so(e,p,h),v=1-so(e,p,f),S.push(eo[l])):96===l?(w=so(a,p,h),x=so(e,p,h),k=so(e,f,c),_=so(a,c,h),S.push(Jr[l]),S.push(Qr[l])):74===l?(w=1-so(e,h,p),x=1-so(a,h,p),k=1-so(a,c,f),_=1-so(e,h,c),S.push(Jr[l]),S.push(Qr[l])):24===l?(w=1-so(a,h,p),b=so(a,f,p),v=so(e,f,p),y=so(e,c,h),S.push(Jr[l]),S.push(eo[l])):146===l?(w=so(e,p,h),b=1-so(e,p,f),v=1-so(a,p,f),y=1-so(a,h,c),S.push(Jr[l]),S.push(eo[l])):6===l?(x=1-so(e,h,p),b=1-so(a,p,f),E=1-so(a,c,f),k=1-so(e,c,f),S.push(Qr[l]),S.push(to[l])):164===l?(x=so(a,p,h),b=so(e,f,p),E=so(e,f,c),k=so(a,f,c),S.push(Qr[l]),S.push(to[l])):129===l?(v=1-so(e,p,f),E=so(a,f,c),_=1-so(a,h,c),y=1-so(e,h,c),S.push(eo[l]),S.push(no[l])):41===l?(v=so(a,f,p),E=1-so(e,c,f),_=so(e,c,h),y=so(a,c,h),S.push(eo[l]),S.push(no[l])):66===l?(b=1-so(e,p,f),v=1-so(a,p,f),k=1-so(a,c,f),_=1-so(e,h,c),S.push(to[l]),S.push(eo[l])):104===l?(b=so(a,f,p),v=so(e,f,p),k=so(e,f,c),_=so(a,c,h),S.push(eo[l]),S.push(ro[l])):144===l?(w=so(e,p,h),E=so(e,f,c),k=so(a,f,c),y=1-so(a,h,c),S.push(Jr[l]),S.push(io[l])):26===l?(w=1-so(a,h,p),E=1-so(a,c,f),k=1-so(e,c,f),y=so(e,c,h),S.push(Jr[l]),S.push(io[l])):36===l?(x=so(a,p,h),b=so(e,f,p),_=so(e,c,h),y=so(a,c,h),S.push(Qr[l]),S.push(to[l])):134===l?(x=1-so(e,h,p),b=1-so(a,p,f),_=1-so(a,h,c),y=1-so(e,h,c),S.push(Qr[l]),S.push(to[l])):9===l?(w=1-so(e,h,p),x=1-so(a,h,p),v=so(a,f,p),E=1-so(e,c,f),S.push(Jr[l]),S.push(Qr[l])):161===l?(w=so(a,p,h),x=so(e,p,h),v=1-so(e,p,f),E=so(a,f,c),S.push(Jr[l]),S.push(Qr[l])):37===l?(x=so(a,p,h),E=1-so(e,c,f),_=so(e,c,h),y=so(a,c,h),S.push(Qr[l]),S.push(no[l])):133===l?(x=1-so(e,h,p),E=so(a,f,c),_=1-so(a,h,c),y=1-so(e,h,c),S.push(Qr[l]),S.push(no[l])):148===l?(b=so(e,f,p),E=so(e,f,c),k=so(a,f,c),y=1-so(a,h,c),S.push(to[l]),S.push(io[l])):22===l?(b=1-so(a,p,f),E=1-so(a,c,f),k=1-so(e,c,f),y=so(e,c,h),S.push(to[l]),S.push(io[l])):82===l?(w=so(e,p,h),b=1-so(e,p,f),v=1-so(a,p,f),k=1-so(a,c,f),S.push(Jr[l]),S.push(eo[l])):88===l?(w=1-so(a,h,p),b=so(a,f,p),v=so(e,f,p),k=so(e,f,c),S.push(Jr[l]),S.push(eo[l])):73===l?(w=1-so(e,h,p),x=1-so(a,h,p),v=so(a,f,p),_=1-so(e,h,c),S.push(Jr[l]),S.push(Qr[l])):97===l?(w=so(a,p,h),x=so(e,p,h),v=1-so(e,p,f),_=so(a,c,h),S.push(Jr[l]),S.push(Qr[l])):145===l?(w=so(e,p,h),v=1-so(e,p,f),E=so(a,f,c),y=1-so(a,h,c),S.push(Jr[l]),S.push(no[l])):25===l?(w=1-so(a,h,p),v=so(a,f,p),E=1-so(e,c,f),y=so(e,c,h),S.push(Jr[l]),S.push(no[l])):70===l?(x=1-so(e,h,p),b=1-so(a,p,f),k=1-so(a,c,f),_=1-so(e,h,c),S.push(Qr[l]),S.push(to[l])):100===l?(x=so(a,p,h),b=so(e,f,p),k=so(e,f,c),_=so(a,c,h),S.push(Qr[l]),S.push(to[l])):34===l?(0===g?(w=1-so(e,h,p),x=1-so(a,h,p),b=so(a,f,p),v=so(e,f,p),E=so(e,f,c),k=so(a,f,c),_=1-so(a,h,c),y=1-so(e,h,c)):(w=so(a,p,h),x=so(e,p,h),b=1-so(e,p,f),v=1-so(a,p,f),E=1-so(a,c,f),k=1-so(e,c,f),_=so(e,c,h),y=so(a,c,h)),S.push(Jr[l]),S.push(Qr[l]),S.push(no[l]),S.push(io[l])):35===l?(4===g?(w=1-so(e,h,p),x=1-so(a,h,p),b=so(a,f,p),v=so(e,f,p),E=so(e,f,c),k=so(a,f,c),_=1-so(a,h,c),y=1-so(e,h,c)):(w=so(a,p,h),x=so(e,p,h),b=1-so(e,p,f),v=1-so(a,p,f),E=1-so(a,c,f),k=1-so(e,c,f),_=so(e,c,h),y=so(a,c,h)),S.push(Jr[l]),S.push(Qr[l]),S.push(eo[l]),S.push(io[l])):136===l?(0===g?(w=so(a,p,h),x=so(e,p,h),b=1-so(e,p,f),v=1-so(a,p,f),E=1-so(a,c,f),k=1-so(e,c,f),_=so(e,c,h),y=so(a,c,h)):(w=1-so(e,h,p),x=1-so(a,h,p),b=so(a,f,p),v=so(e,f,p),E=so(e,f,c),k=so(a,f,c),_=1-so(a,h,c),y=1-so(e,h,c)),S.push(Jr[l]),S.push(Qr[l]),S.push(no[l]),S.push(io[l])):153===l?(0===g?(w=so(e,p,h),v=1-so(e,p,f),E=1-so(e,c,f),y=so(e,c,h)):(w=1-so(a,h,p),v=so(a,f,p),E=so(a,f,c),y=1-so(a,h,c)),S.push(Jr[l]),S.push(eo[l])):102===l?(0===g?(x=1-so(e,h,p),b=so(e,f,p),k=so(e,f,c),_=1-so(e,h,c)):(x=so(a,p,h),b=1-so(a,p,f),k=1-so(a,c,f),_=so(a,c,h)),S.push(Qr[l]),S.push(io[l])):155===l?(4===g?(w=so(e,p,h),v=1-so(e,p,f),E=1-so(e,c,f),y=so(e,c,h)):(w=1-so(a,h,p),v=so(a,f,p),E=so(a,f,c),y=1-so(a,h,c)),S.push(Jr[l]),S.push(no[l])):103===l?(4===g?(x=1-so(e,h,p),b=so(e,f,p),k=so(e,f,c),_=1-so(e,h,c)):(x=so(a,p,h),b=1-so(a,p,f),k=1-so(a,c,f),_=so(a,c,h)),S.push(Qr[l]),S.push(to[l])):152===l?(0===g?(w=so(e,p,h),b=1-so(e,p,f),v=1-so(a,p,f),E=1-so(a,c,f),k=1-so(e,c,f),y=so(e,c,h)):(w=1-so(a,h,p),b=so(a,f,p),v=so(e,f,p),E=so(e,f,c),k=so(a,f,c),y=1-so(a,h,c)),S.push(Jr[l]),S.push(to[l]),S.push(eo[l])):156===l?(4===g?(w=so(e,p,h),b=1-so(e,p,f),v=1-so(a,p,f),E=1-so(a,c,f),k=1-so(e,c,f),y=so(e,c,h)):(w=1-so(a,h,p),b=so(a,f,p),v=so(e,f,p),E=so(e,f,c),k=so(a,f,c),y=1-so(a,h,c)),S.push(Jr[l]),S.push(eo[l]),S.push(io[l])):137===l?(0===g?(w=so(a,p,h),x=so(e,p,h),v=1-so(e,p,f),E=1-so(e,c,f),_=so(e,c,h),y=so(a,c,h)):(w=1-so(e,h,p),x=1-so(a,h,p),v=so(a,f,p),E=so(a,f,c),_=1-so(a,h,c),y=1-so(e,h,c)),S.push(Jr[l]),S.push(Qr[l]),S.push(eo[l])):139===l?(4===g?(w=so(a,p,h),x=so(e,p,h),v=1-so(e,p,f),E=1-so(e,c,f),_=so(e,c,h),y=so(a,c,h)):(w=1-so(e,h,p),x=1-so(a,h,p),v=so(a,f,p),E=so(a,f,c),_=1-so(a,h,c),y=1-so(e,h,c)),S.push(Jr[l]),S.push(Qr[l]),S.push(no[l])):98===l?(0===g?(w=1-so(e,h,p),x=1-so(a,h,p),b=so(a,f,p),v=so(e,f,p),k=so(e,f,c),_=1-so(e,h,c)):(w=so(a,p,h),x=so(e,p,h),b=1-so(e,p,f),v=1-so(a,p,f),k=1-so(a,c,f),_=so(a,c,h)),S.push(Jr[l]),S.push(Qr[l]),S.push(io[l])):99===l?(4===g?(w=1-so(e,h,p),x=1-so(a,h,p),b=so(a,f,p),v=so(e,f,p),k=so(e,f,c),_=1-so(e,h,c)):(w=so(a,p,h),x=so(e,p,h),b=1-so(e,p,f),v=1-so(a,p,f),k=1-so(a,c,f),_=so(a,c,h)),S.push(Jr[l]),S.push(Qr[l]),S.push(eo[l])):38===l?(0===g?(x=1-so(e,h,p),b=so(e,f,p),E=so(e,f,c),k=so(a,f,c),_=1-so(a,h,c),y=1-so(e,h,c)):(x=so(a,p,h),b=1-so(a,p,f),E=1-so(a,c,f),k=1-so(e,c,f),_=so(e,c,h),y=so(a,c,h)),S.push(Qr[l]),S.push(no[l]),S.push(io[l])):39===l?(4===g?(x=1-so(e,h,p),b=so(e,f,p),E=so(e,f,c),k=so(a,f,c),_=1-so(a,h,c),y=1-so(e,h,c)):(x=so(a,p,h),b=1-so(a,p,f),E=1-so(a,c,f),k=1-so(e,c,f),_=so(e,c,h),y=so(a,c,h)),S.push(Qr[l]),S.push(to[l]),S.push(io[l])):85===l&&(w=1,x=0,b=1,v=0,E=0,k=1,_=0,y=1),(_<0||_>1||y<0||y>1||w<0||w>1||b<0||b>1||E<0||E>1||k<0||k>1)&&console.log("MarchingSquaresJS-isoBands: "+l+" "+d+" "+c+","+h+","+p+","+f+" "+g+" "+_+" "+y+" "+w+" "+x+" "+b+" "+v+" "+E+" "+k),o.cells[s][u]={cval:l,cval_real:d,flipped:g,topleft:_,topright:y,righttop:w,rightbottom:x,bottomright:b,bottomleft:v,leftbottom:E,lefttop:k,edges:S}}}}}return o}(t,e,n);return yr.polygons?(yr.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),u=function(t){var e=[],n=0;return t.cells.forEach(function(t,i){t.forEach(function(t,r){if(void 0!==t){var o=ao[t.cval](t);"object"==typeof o&&uo(o)?"object"==typeof o[0]&&uo(o[0])?"object"==typeof o[0][0]&&uo(o[0][0])?o.forEach(function(t){t.forEach(function(t){t[0]+=r,t[1]+=i}),e[n++]=t}):(o.forEach(function(t){t[0]+=r,t[1]+=i}),e[n++]=o):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}})}),e}(l)):(yr.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),u=function(t){for(var e=[],n=t.rows,i=t.cols,r=[],o=0;o<n;o++)for(var a=0;a<i;a++)if(void 0!==t.cells[o][a]&&t.cells[o][a].edges.length>0){var s=co(t.cells[o][a]),u=null,l=a,c=o;null!==s&&r.push([s.p[0]+l,s.p[1]+c]);do{if(null===(u=ho(t.cells[c][l],s.x,s.y,s.o)))break;if(r.push([u.p[0]+l,u.p[1]+c]),l+=u.x,s=u,(c+=u.y)<0||c>=n||l<0||l>=i||void 0===t.cells[c][l]){var h=lo(t,l-=u.x,c-=u.y,u.x,u.y,u.o);if(null===h)break;h.path.forEach(function(t){r.push(t)}),l=h.i,c=h.j,s=h}}while(void 0!==t.cells[c][l]&&t.cells[c][l].edges.length>0);e.push(r),r=[],t.cells[o][a].edges.length>0&&a--}return e}(l)),"function"==typeof yr.successCallback&&yr.successCallback(u),u}var br=[],wr=[],xr=[],kr=[],Er=[],Sr=[],Cr=[],Ir=[],Ar=[],Pr=[],Tr=[],Or=[],Lr=[],Mr=[],Nr=[],Rr=[],Dr=[],zr=[],Fr=[],Br=[],jr=[],Vr=[],Ur=[],qr=[];Cr[85]=Pr[85]=-1,Ir[85]=Tr[85]=0,Ar[85]=Or[85]=1,Fr[85]=Vr[85]=1,Br[85]=Ur[85]=0,jr[85]=qr[85]=1,br[85]=kr[85]=0,wr[85]=Er[85]=-1,xr[85]=Nr[85]=0,Rr[85]=Lr[85]=0,Dr[85]=Mr[85]=1,Sr[85]=zr[85]=1,Vr[1]=Vr[169]=0,Ur[1]=Ur[169]=-1,qr[1]=qr[169]=0,Lr[1]=Lr[169]=-1,Mr[1]=Mr[169]=0,Nr[1]=Nr[169]=0,Pr[4]=Pr[166]=0,Tr[4]=Tr[166]=-1,Or[4]=Or[166]=1,Rr[4]=Rr[166]=1,Dr[4]=Dr[166]=0,zr[4]=zr[166]=0,Cr[16]=Cr[154]=0,Ir[16]=Ir[154]=1,Ar[16]=Ar[154]=1,kr[16]=kr[154]=1,Er[16]=Er[154]=0,Sr[16]=Sr[154]=1,Fr[64]=Fr[106]=0,Br[64]=Br[106]=1,jr[64]=jr[106]=0,br[64]=br[106]=-1,wr[64]=wr[106]=0,xr[64]=xr[106]=1,Fr[2]=Fr[168]=0,Br[2]=Br[168]=-1,jr[2]=jr[168]=1,Vr[2]=Vr[168]=0,Ur[2]=Ur[168]=-1,qr[2]=qr[168]=0,Lr[2]=Lr[168]=-1,Mr[2]=Mr[168]=0,Nr[2]=Nr[168]=0,Rr[2]=Rr[168]=-1,Dr[2]=Dr[168]=0,zr[2]=zr[168]=1,Cr[8]=Cr[162]=0,Ir[8]=Ir[162]=-1,Ar[8]=Ar[162]=0,Pr[8]=Pr[162]=0,Tr[8]=Tr[162]=-1,Or[8]=Or[162]=1,Lr[8]=Lr[162]=1,Mr[8]=Mr[162]=0,Nr[8]=Nr[162]=1,Rr[8]=Rr[162]=1,Dr[8]=Dr[162]=0,zr[8]=zr[162]=0,Cr[32]=Cr[138]=0,Ir[32]=Ir[138]=1,Ar[32]=Ar[138]=1,Pr[32]=Pr[138]=0,Tr[32]=Tr[138]=1,Or[32]=Or[138]=0,br[32]=br[138]=1,wr[32]=wr[138]=0,xr[32]=xr[138]=0,kr[32]=kr[138]=1,Er[32]=Er[138]=0,Sr[32]=Sr[138]=1,Vr[128]=Vr[42]=0,Ur[128]=Ur[42]=1,qr[128]=qr[42]=1,Fr[128]=Fr[42]=0,Br[128]=Br[42]=1,jr[128]=jr[42]=0,br[128]=br[42]=-1,wr[128]=wr[42]=0,xr[128]=xr[42]=1,kr[128]=kr[42]=-1,Er[128]=Er[42]=0,Sr[128]=Sr[42]=0,Pr[5]=Pr[165]=-1,Tr[5]=Tr[165]=0,Or[5]=Or[165]=0,Vr[5]=Vr[165]=1,Ur[5]=Ur[165]=0,qr[5]=qr[165]=0,Rr[20]=Rr[150]=0,Dr[20]=Dr[150]=1,zr[20]=zr[150]=1,kr[20]=kr[150]=0,Er[20]=Er[150]=-1,Sr[20]=Sr[150]=1,Cr[80]=Cr[90]=-1,Ir[80]=Ir[90]=0,Ar[80]=Ar[90]=1,Fr[80]=Fr[90]=1,Br[80]=Br[90]=0,jr[80]=jr[90]=1,Lr[65]=Lr[105]=0,Mr[65]=Mr[105]=1,Nr[65]=Nr[105]=0,br[65]=br[105]=0,wr[65]=wr[105]=-1,xr[65]=xr[105]=0,Cr[160]=Cr[10]=-1,Ir[160]=Ir[10]=0,Ar[160]=Ar[10]=1,Pr[160]=Pr[10]=-1,Tr[160]=Tr[10]=0,Or[160]=Or[10]=0,Vr[160]=Vr[10]=1,Ur[160]=Ur[10]=0,qr[160]=qr[10]=0,Fr[160]=Fr[10]=1,Br[160]=Br[10]=0,jr[160]=jr[10]=1,Rr[130]=Rr[40]=0,Dr[130]=Dr[40]=1,zr[130]=zr[40]=1,Lr[130]=Lr[40]=0,Mr[130]=Mr[40]=1,Nr[130]=Nr[40]=0,br[130]=br[40]=0,wr[130]=wr[40]=-1,xr[130]=xr[40]=0,kr[130]=kr[40]=0,Er[130]=Er[40]=-1,Sr[130]=Sr[40]=1,Pr[37]=Pr[133]=0,Tr[37]=Tr[133]=1,Or[37]=Or[133]=1,Vr[37]=Vr[133]=0,Ur[37]=Ur[133]=1,qr[37]=qr[133]=0,br[37]=br[133]=-1,wr[37]=wr[133]=0,xr[37]=xr[133]=0,kr[37]=kr[133]=1,Er[37]=Er[133]=0,Sr[37]=Sr[133]=0,Rr[148]=Rr[22]=-1,Dr[148]=Dr[22]=0,zr[148]=zr[22]=0,Vr[148]=Vr[22]=0,Ur[148]=Ur[22]=-1,qr[148]=qr[22]=1,Fr[148]=Fr[22]=0,Br[148]=Br[22]=1,jr[148]=jr[22]=1,kr[148]=kr[22]=-1,Er[148]=Er[22]=0,Sr[148]=Sr[22]=1,Cr[82]=Cr[88]=0,Ir[82]=Ir[88]=-1,Ar[82]=Ar[88]=1,Rr[82]=Rr[88]=1,Dr[82]=Dr[88]=0,zr[82]=zr[88]=1,Lr[82]=Lr[88]=-1,Mr[82]=Mr[88]=0,Nr[82]=Nr[88]=1,Fr[82]=Fr[88]=0,Br[82]=Br[88]=-1,jr[82]=jr[88]=0,Cr[73]=Cr[97]=0,Ir[73]=Ir[97]=1,Ar[73]=Ar[97]=0,Pr[73]=Pr[97]=0,Tr[73]=Tr[97]=-1,Or[73]=Or[97]=0,Lr[73]=Lr[97]=1,Mr[73]=Mr[97]=0,Nr[73]=Nr[97]=0,br[73]=br[97]=1,wr[73]=wr[97]=0,xr[73]=xr[97]=1,Cr[145]=Cr[25]=0,Ir[145]=Ir[25]=-1,Ar[145]=Ar[25]=0,Lr[145]=Lr[25]=1,Mr[145]=Mr[25]=0,Nr[145]=Nr[25]=1,Vr[145]=Vr[25]=0,Ur[145]=Ur[25]=1,qr[145]=qr[25]=1,kr[145]=kr[25]=-1,Er[145]=Er[25]=0,Sr[145]=Sr[25]=0,Pr[70]=Pr[100]=0,Tr[70]=Tr[100]=1,Or[70]=Or[100]=0,Rr[70]=Rr[100]=-1,Dr[70]=Dr[100]=0,zr[70]=zr[100]=1,Fr[70]=Fr[100]=0,Br[70]=Br[100]=-1,jr[70]=jr[100]=1,br[70]=br[100]=1,wr[70]=wr[100]=0,xr[70]=xr[100]=0,Pr[101]=Pr[69]=0,Tr[101]=Tr[69]=1,Or[101]=Or[69]=0,br[101]=br[69]=1,wr[101]=wr[69]=0,xr[101]=xr[69]=0,Vr[149]=Vr[21]=0,Ur[149]=Ur[21]=1,qr[149]=qr[21]=1,kr[149]=kr[21]=-1,Er[149]=Er[21]=0,Sr[149]=Sr[21]=0,Rr[86]=Rr[84]=-1,Dr[86]=Dr[84]=0,zr[86]=zr[84]=1,Fr[86]=Fr[84]=0,Br[86]=Br[84]=-1,jr[86]=jr[84]=1,Cr[89]=Cr[81]=0,Ir[89]=Ir[81]=-1,Ar[89]=Ar[81]=0,Lr[89]=Lr[81]=1,Mr[89]=Mr[81]=0,Nr[89]=Nr[81]=1,Cr[96]=Cr[74]=0,Ir[96]=Ir[74]=1,Ar[96]=Ar[74]=0,Pr[96]=Pr[74]=-1,Tr[96]=Tr[74]=0,Or[96]=Or[74]=1,Fr[96]=Fr[74]=1,Br[96]=Br[74]=0,jr[96]=jr[74]=0,br[96]=br[74]=1,wr[96]=wr[74]=0,xr[96]=xr[74]=1,Cr[24]=Cr[146]=0,Ir[24]=Ir[146]=-1,Ar[24]=Ar[146]=1,Rr[24]=Rr[146]=1,Dr[24]=Dr[146]=0,zr[24]=zr[146]=1,Lr[24]=Lr[146]=0,Mr[24]=Mr[146]=1,Nr[24]=Nr[146]=1,kr[24]=kr[146]=0,Er[24]=Er[146]=-1,Sr[24]=Sr[146]=0,Pr[6]=Pr[164]=-1,Tr[6]=Tr[164]=0,Or[6]=Or[164]=1,Rr[6]=Rr[164]=-1,Dr[6]=Dr[164]=0,zr[6]=zr[164]=0,Vr[6]=Vr[164]=0,Ur[6]=Ur[164]=-1,qr[6]=qr[164]=1,Fr[6]=Fr[164]=1,Br[6]=Br[164]=0,jr[6]=jr[164]=0,Lr[129]=Lr[41]=0,Mr[129]=Mr[41]=1,Nr[129]=Nr[41]=1,Vr[129]=Vr[41]=0,Ur[129]=Ur[41]=1,qr[129]=qr[41]=0,br[129]=br[41]=-1,wr[129]=wr[41]=0,xr[129]=xr[41]=0,kr[129]=kr[41]=0,Er[129]=Er[41]=-1,Sr[129]=Sr[41]=0,Rr[66]=Rr[104]=0,Dr[66]=Dr[104]=1,zr[66]=zr[104]=0,Lr[66]=Lr[104]=-1,Mr[66]=Mr[104]=0,Nr[66]=Nr[104]=1,Fr[66]=Fr[104]=0,Br[66]=Br[104]=-1,jr[66]=jr[104]=0,br[66]=br[104]=0,wr[66]=wr[104]=-1,xr[66]=xr[104]=1,Cr[144]=Cr[26]=-1,Ir[144]=Ir[26]=0,Ar[144]=Ar[26]=0,Vr[144]=Vr[26]=1,Ur[144]=Ur[26]=0,qr[144]=qr[26]=1,Fr[144]=Fr[26]=0,Br[144]=Br[26]=1,jr[144]=jr[26]=1,kr[144]=kr[26]=-1,Er[144]=Er[26]=0,Sr[144]=Sr[26]=1,Pr[36]=Pr[134]=0,Tr[36]=Tr[134]=1,Or[36]=Or[134]=1,Rr[36]=Rr[134]=0,Dr[36]=Dr[134]=1,zr[36]=zr[134]=0,br[36]=br[134]=0,wr[36]=wr[134]=-1,xr[36]=xr[134]=1,kr[36]=kr[134]=1,Er[36]=Er[134]=0,Sr[36]=Sr[134]=0,Cr[9]=Cr[161]=-1,Ir[9]=Ir[161]=0,Ar[9]=Ar[161]=0,Pr[9]=Pr[161]=0,Tr[9]=Tr[161]=-1,Or[9]=Or[161]=0,Lr[9]=Lr[161]=1,Mr[9]=Mr[161]=0,Nr[9]=Nr[161]=0,Vr[9]=Vr[161]=1,Ur[9]=Ur[161]=0,qr[9]=qr[161]=1,Cr[136]=0,Ir[136]=1,Ar[136]=1,Pr[136]=0,Tr[136]=1,Or[136]=0,Rr[136]=-1,Dr[136]=0,zr[136]=1,Lr[136]=-1,Mr[136]=0,Nr[136]=0,Vr[136]=0,Ur[136]=-1,qr[136]=0,Fr[136]=0,Br[136]=-1,jr[136]=1,br[136]=1,wr[136]=0,xr[136]=0,kr[136]=1,Er[136]=0,Sr[136]=1,Cr[34]=0,Ir[34]=-1,Ar[34]=0,Pr[34]=0,Tr[34]=-1,Or[34]=1,Rr[34]=1,Dr[34]=0,zr[34]=0,Lr[34]=1,Mr[34]=0,Nr[34]=1,Vr[34]=0,Ur[34]=1,qr[34]=1,Fr[34]=0,Br[34]=1,jr[34]=0,br[34]=-1,wr[34]=0,xr[34]=1,kr[34]=-1,Er[34]=0,Sr[34]=0,Cr[35]=0,Ir[35]=1,Ar[35]=1,Pr[35]=0,Tr[35]=-1,Or[35]=1,Rr[35]=1,Dr[35]=0,zr[35]=0,Lr[35]=-1,Mr[35]=0,Nr[35]=0,Vr[35]=0,Ur[35]=-1,qr[35]=0,Fr[35]=0,Br[35]=1,jr[35]=0,br[35]=-1,wr[35]=0,xr[35]=1,kr[35]=1,Er[35]=0,Sr[35]=1,Cr[153]=0,Ir[153]=1,Ar[153]=1,Lr[153]=-1,Mr[153]=0,Nr[153]=0,Vr[153]=0,Ur[153]=-1,qr[153]=0,kr[153]=1,Er[153]=0,Sr[153]=1,Pr[102]=0,Tr[102]=-1,Or[102]=1,Rr[102]=1,Dr[102]=0,zr[102]=0,Fr[102]=0,Br[102]=1,jr[102]=0,br[102]=-1,wr[102]=0,xr[102]=1,Cr[155]=0,Ir[155]=-1,Ar[155]=0,Lr[155]=1,Mr[155]=0,Nr[155]=1,Vr[155]=0,Ur[155]=1,qr[155]=1,kr[155]=-1,Er[155]=0,Sr[155]=0,Pr[103]=0,Tr[103]=1,Or[103]=0,Rr[103]=-1,Dr[103]=0,zr[103]=1,Fr[103]=0,Br[103]=-1,jr[103]=1,br[103]=1,wr[103]=0,xr[103]=0,Cr[152]=0,Ir[152]=1,Ar[152]=1,Rr[152]=-1,Dr[152]=0,zr[152]=1,Lr[152]=-1,Mr[152]=0,Nr[152]=0,Vr[152]=0,Ur[152]=-1,qr[152]=0,Fr[152]=0,Br[152]=-1,jr[152]=1,kr[152]=1,Er[152]=0,Sr[152]=1,Cr[156]=0,Ir[156]=-1,Ar[156]=1,Rr[156]=1,Dr[156]=0,zr[156]=1,Lr[156]=-1,Mr[156]=0,Nr[156]=0,Vr[156]=0,Ur[156]=-1,qr[156]=0,Fr[156]=0,Br[156]=1,jr[156]=1,kr[156]=-1,Er[156]=0,Sr[156]=1,Cr[137]=0,Ir[137]=1,Ar[137]=1,Pr[137]=0,Tr[137]=1,Or[137]=0,Lr[137]=-1,Mr[137]=0,Nr[137]=0,Vr[137]=0,Ur[137]=-1,qr[137]=0,br[137]=1,wr[137]=0,xr[137]=0,kr[137]=1,Er[137]=0,Sr[137]=1,Cr[139]=0,Ir[139]=1,Ar[139]=1,Pr[139]=0,Tr[139]=-1,Or[139]=0,Lr[139]=1,Mr[139]=0,Nr[139]=0,Vr[139]=0,Ur[139]=1,qr[139]=0,br[139]=-1,wr[139]=0,xr[139]=0,kr[139]=1,Er[139]=0,Sr[139]=1,Cr[98]=0,Ir[98]=-1,Ar[98]=0,Pr[98]=0,Tr[98]=-1,Or[98]=1,Rr[98]=1,Dr[98]=0,zr[98]=0,Lr[98]=1,Mr[98]=0,Nr[98]=1,Fr[98]=0,Br[98]=1,jr[98]=0,br[98]=-1,wr[98]=0,xr[98]=1,Cr[99]=0,Ir[99]=1,Ar[99]=0,Pr[99]=0,Tr[99]=-1,Or[99]=1,Rr[99]=1,Dr[99]=0,zr[99]=0,Lr[99]=-1,Mr[99]=0,Nr[99]=1,Fr[99]=0,Br[99]=-1,jr[99]=0,br[99]=1,wr[99]=0,xr[99]=1,Pr[38]=0,Tr[38]=-1,Or[38]=1,Rr[38]=1,Dr[38]=0,zr[38]=0,Vr[38]=0,Ur[38]=1,qr[38]=1,Fr[38]=0,Br[38]=1,jr[38]=0,br[38]=-1,wr[38]=0,xr[38]=1,kr[38]=-1,Er[38]=0,Sr[38]=0,Pr[39]=0,Tr[39]=1,Or[39]=1,Rr[39]=-1,Dr[39]=0,zr[39]=0,Vr[39]=0,Ur[39]=-1,qr[39]=1,Fr[39]=0,Br[39]=1,jr[39]=0,br[39]=-1,wr[39]=0,xr[39]=1,kr[39]=1,Er[39]=0,Sr[39]=0;var Gr=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},Hr=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},Wr=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},Yr=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},Zr=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},Xr=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},Kr=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},$r=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Jr=[],Qr=[],to=[],eo=[],no=[],io=[],ro=[],oo=[];eo[1]=no[1]=18,eo[169]=no[169]=18,to[4]=Qr[4]=12,to[166]=Qr[166]=12,Jr[16]=oo[16]=4,Jr[154]=oo[154]=4,io[64]=ro[64]=22,io[106]=ro[106]=22,to[2]=io[2]=17,eo[2]=no[2]=18,to[168]=io[168]=17,eo[168]=no[168]=18,Jr[8]=eo[8]=9,Qr[8]=to[8]=12,Jr[162]=eo[162]=9,Qr[162]=to[162]=12,Jr[32]=oo[32]=4,Qr[32]=ro[32]=1,Jr[138]=oo[138]=4,Qr[138]=ro[138]=1,no[128]=oo[128]=21,io[128]=ro[128]=22,no[42]=oo[42]=21,io[42]=ro[42]=22,Qr[5]=no[5]=14,Qr[165]=no[165]=14,to[20]=oo[20]=6,to[150]=oo[150]=6,Jr[80]=io[80]=11,Jr[90]=io[90]=11,eo[65]=ro[65]=3,eo[105]=ro[105]=3,Jr[160]=io[160]=11,Qr[160]=no[160]=14,Jr[10]=io[10]=11,Qr[10]=no[10]=14,to[130]=oo[130]=6,eo[130]=ro[130]=3,to[40]=oo[40]=6,eo[40]=ro[40]=3,Qr[101]=ro[101]=1,Qr[69]=ro[69]=1,no[149]=oo[149]=21,no[21]=oo[21]=21,to[86]=io[86]=17,to[84]=io[84]=17,Jr[89]=eo[89]=9,Jr[81]=eo[81]=9,Jr[96]=ro[96]=0,Qr[96]=io[96]=15,Jr[74]=ro[74]=0,Qr[74]=io[74]=15,Jr[24]=to[24]=8,eo[24]=oo[24]=7,Jr[146]=to[146]=8,eo[146]=oo[146]=7,Qr[6]=io[6]=15,to[6]=no[6]=16,Qr[164]=io[164]=15,to[164]=no[164]=16,eo[129]=oo[129]=7,no[129]=ro[129]=20,eo[41]=oo[41]=7,no[41]=ro[41]=20,to[66]=ro[66]=2,eo[66]=io[66]=19,to[104]=ro[104]=2,eo[104]=io[104]=19,Jr[144]=no[144]=10,io[144]=oo[144]=23,Jr[26]=no[26]=10,io[26]=oo[26]=23,Qr[36]=oo[36]=5,to[36]=ro[36]=2,Qr[134]=oo[134]=5,to[134]=ro[134]=2,Jr[9]=no[9]=10,Qr[9]=eo[9]=13,Jr[161]=no[161]=10,Qr[161]=eo[161]=13,Qr[37]=oo[37]=5,no[37]=ro[37]=20,Qr[133]=oo[133]=5,no[133]=ro[133]=20,to[148]=no[148]=16,io[148]=oo[148]=23,to[22]=no[22]=16,io[22]=oo[22]=23,Jr[82]=to[82]=8,eo[82]=io[82]=19,Jr[88]=to[88]=8,eo[88]=io[88]=19,Jr[73]=ro[73]=0,Qr[73]=eo[73]=13,Jr[97]=ro[97]=0,Qr[97]=eo[97]=13,Jr[145]=eo[145]=9,no[145]=oo[145]=21,Jr[25]=eo[25]=9,no[25]=oo[25]=21,Qr[70]=ro[70]=1,to[70]=io[70]=17,Qr[100]=ro[100]=1,to[100]=io[100]=17,Jr[34]=eo[34]=9,Qr[34]=to[34]=12,no[34]=oo[34]=21,io[34]=ro[34]=22,Jr[136]=oo[136]=4,Qr[136]=ro[136]=1,to[136]=io[136]=17,eo[136]=no[136]=18,Jr[35]=oo[35]=4,Qr[35]=to[35]=12,eo[35]=no[35]=18,io[35]=ro[35]=22,Jr[153]=oo[153]=4,eo[153]=no[153]=18,Qr[102]=to[102]=12,io[102]=ro[102]=22,Jr[155]=eo[155]=9,no[155]=oo[155]=23,Qr[103]=ro[103]=1,to[103]=io[103]=17,Jr[152]=oo[152]=4,to[152]=io[152]=17,eo[152]=no[152]=18,Jr[156]=to[156]=8,eo[156]=no[156]=18,io[156]=oo[156]=23,Jr[137]=oo[137]=4,Qr[137]=ro[137]=1,eo[137]=no[137]=18,Jr[139]=oo[139]=4,Qr[139]=eo[139]=13,no[139]=ro[139]=20,Jr[98]=eo[98]=9,Qr[98]=to[98]=12,io[98]=ro[98]=22,Jr[99]=ro[99]=0,Qr[99]=to[99]=12,eo[99]=io[99]=19,Qr[38]=to[38]=12,no[38]=oo[38]=21,io[38]=ro[38]=22,Qr[39]=oo[39]=5,to[39]=no[39]=16,io[39]=ro[39]=22;var ao=[];function so(t,e,n){return(t-e)/(n-e)}function uo(t){return t.constructor.toString().indexOf("Array")>-1}function lo(t,e,n,i,r,o){for(var a=t.cells[n][e],s=a.cval_real,u=e+i,l=n+r,c=[],h=!1;!h;){if(void 0===t.cells[l]||void 0===t.cells[l][u])if(s=(a=t.cells[l-=r][u-=i]).cval_real,-1===r)if(0===o)if(1&s)c.push([u,l]),i=-1,r=0,o=0;else{if(!(4&s)){c.push([u+a.bottomright,l]),i=0,r=1,o=1,h=!0;break}c.push([u+1,l]),i=1,r=0,o=0}else{if(!(1&s)){if(4&s){c.push([u+a.bottomright,l]),i=0,r=1,o=1,h=!0;break}c.push([u+a.bottomleft,l]),i=0,r=1,o=0,h=!0;break}c.push([u,l]),i=-1,r=0,o=0}else if(1===r)if(0===o){if(!(16&s)){if(64&s){c.push([u+a.topleft,l+1]),i=0,r=-1,o=0,h=!0;break}c.push([u+a.topright,l+1]),i=0,r=-1,o=1,h=!0;break}c.push([u+1,l+1]),i=1,r=0,o=1}else c.push([u+1,l+1]),i=1,r=0,o=1;else if(-1===i)if(0===o){if(!(64&s)){if(1&s){c.push([u,l+a.leftbottom]),i=1,r=0,o=0,h=!0;break}c.push([u,l+a.lefttop]),i=1,r=0,o=1,h=!0;break}c.push([u,l+1]),i=0,r=1,o=0}else{if(!(64&s)){console.log("MarchingSquaresJS-isoBands: wtf");break}c.push([u,l+1]),i=0,r=1,o=0}else{if(1!==i){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===o){if(!(4&s)){c.push([u+1,l+a.rightbottom]),i=-1,r=0,o=0,h=!0;break}c.push([u+1,l]),i=0,r=-1,o=1}else{if(!(4&s)){if(16&s){c.push([u+1,l+a.righttop]),i=-1,r=0,o=1;break}c.push([u+1,l+a.rightbottom]),i=-1,r=0,o=0,h=!0;break}c.push([u+1,l]),i=0,r=-1,o=1}}else if(s=(a=t.cells[l][u]).cval_real,-1===i)if(0===o)if(void 0!==t.cells[l-1]&&void 0!==t.cells[l-1][u])i=0,r=-1,o=1;else{if(!(1&s)){c.push([u+a.bottomright,l]),i=0,r=1,o=1,h=!0;break}c.push([u,l])}else{if(!(64&s)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+u+","+l);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===i){if(0===o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l+1]&&void 0!==t.cells[l+1][u])i=0,r=1,o=0;else{if(!(16&s)){c.push([u+a.topleft,l+1]),i=0,r=-1,o=0,h=!0;break}c.push([u+1,l+1]),i=1,r=0,o=1}}else if(-1===r){if(1!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l][u+1])i=1,r=0,o=1;else{if(!(4&s)){c.push([u+1,l+a.righttop]),i=-1,r=0,o=1,h=!0;break}c.push([u+1,l]),i=0,r=-1,o=1}}else{if(1!==r){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l][u-1])i=-1,r=0,o=0;else{if(!(64&s)){c.push([u,l+a.leftbottom]),i=1,r=0,o=0,h=!0;break}c.push([u,l+1]),i=0,r=1,o=0}}if(l+=r,(u+=i)===e&&l===n)break}return{path:c,i:u,j:l,x:i,y:r,o:o}}function co(t){if(t.edges.length>0){var e=t.cval_real;switch(t.edges[t.edges.length-1]){case 0:return 16&e?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 1:return 4&e?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 2:return 4&e?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 3:return 1&e?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 4:return 16&e?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 5:return 4&e?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 6:return 4&e?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 7:return 1&e?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 8:return 4&e?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.righttop],x:-1,y:0,o:1};case 9:return 1&e?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 10:return 1&e?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.righttop],x:-1,y:0,o:1};case 11:return 64&e?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 12:return 4&e?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 13:return 1&e?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 14:return 1&e?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 15:return 64&e?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 16:return 4&e?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 17:return 64&e?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 18:return 1&e?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 19:return 64&e?{p:[t.bottomleft,0],x:0,y:1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 20:return 64&e?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 21:return 16&e?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.topright,1],x:0,y:-1,o:1};case 22:return 64&e?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 23:return 16&e?{p:[0,t.lefttop],x:1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t)}}return null}function ho(t,e,n,i){var r,o,a,s,u,l=t.cval;switch(e){case-1:switch(i){case 0:r=Qr[l],a=Pr[l],s=Tr[l],u=Or[l];break;default:r=Jr[l],a=Cr[l],s=Ir[l],u=Ar[l]}break;case 1:switch(i){case 0:r=no[l],a=Vr[l],s=Ur[l],u=qr[l];break;default:r=io[l],a=Fr[l],s=Br[l],u=jr[l]}break;default:switch(n){case-1:switch(i){case 0:r=ro[l],a=br[l],s=wr[l],u=xr[l];break;default:r=oo[l],a=kr[l],s=Er[l],u=Sr[l]}break;case 1:switch(i){case 0:r=eo[l],a=Lr[l],s=Mr[l],u=Nr[l];break;default:r=to[l],a=Rr[l],s=Dr[l],u=zr[l]}}}if(o=t.edges.indexOf(r),void 0===t.edges[o])return null;switch(function(t,e){delete t.edges[e];for(var n=e+1;n<t.edges.length;n++)t.edges[n-1]=t.edges[n];t.edges.pop()}(t,o),l=t.cval_real,r){case 0:16&l?(e=t.topleft,n=1):(e=1,n=t.righttop);break;case 1:4&l?(e=1,n=t.rightbottom):(e=t.topleft,n=1);break;case 2:4&l?(e=t.topleft,n=1):(e=t.bottomright,n=0);break;case 3:1&l?(e=t.bottomleft,n=0):(e=t.topleft,n=1);break;case 4:16&l?(e=t.topright,n=1):(e=1,n=t.righttop);break;case 5:4&l?(e=1,n=t.rightbottom):(e=t.topright,n=1);break;case 6:4&l?(e=t.topright,n=1):(e=t.bottomright,n=0);break;case 7:1&l?(e=t.bottomleft,n=0):(e=t.topright,n=1);break;case 8:4&l?(e=1,n=t.righttop):(e=t.bottomright,n=0);break;case 9:1&l?(e=t.bottomleft,n=0):(e=1,n=t.righttop);break;case 10:1&l?(e=1,n=t.righttop):(e=0,n=t.leftbottom);break;case 11:64&l?(e=0,n=t.lefttop):(e=1,n=t.righttop);break;case 12:4&l?(e=1,n=t.rightbottom):(e=t.bottomright,n=0);break;case 13:1&l?(e=t.bottomleft,n=0):(e=1,n=t.rightbottom);break;case 14:1&l?(e=1,n=t.rightbottom):(e=0,n=t.leftbottom);break;case 15:64&l?(e=0,n=t.lefttop):(e=1,n=t.rightbottom);break;case 16:4&l?(e=0,n=t.leftbottom):(e=t.bottomright,n=0);break;case 17:64&l?(e=0,n=t.lefttop):(e=t.bottomright,n=0);break;case 18:1&l?(e=t.bottomleft,n=0):(e=0,n=t.leftbottom);break;case 19:64&l?(e=0,n=t.lefttop):(e=t.bottomleft,n=0);break;case 20:64&l?(e=0,n=t.leftbottom):(e=t.topleft,n=1);break;case 21:16&l?(e=t.topright,n=1):(e=0,n=t.leftbottom);break;case 22:64&l?(e=0,n=t.lefttop):(e=t.topleft,n=1);break;case 23:16&l?(e=t.topright,n=1):(e=0,n=t.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t),null}return void 0!==e&&void 0!==n&&void 0!==a&&void 0!==s&&void 0!==u||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(t),console.log(e+" "+n+" "+a+" "+s+" "+u)),{p:[e,n],x:a,y:s,o:u}}function po(t){var e=[],n=[];t.forEach(function(t){var i=hi(l([t]));n.push(i),e.push({ring:t,area:i})}),n.sort(function(t,e){return e-t});var i=[];return n.forEach(function(t){for(var n=0;n<e.length;n++)if(e[n].area===t){i.push(e[n].ring),e.splice(n,1);break}}),i}function fo(t){for(var e=t.map(function(t){return{lrCoordinates:t,grouped:!1}}),n=[];!mo(e);)for(var i=0;i<e.length;i++)if(!e[i].grouped){var r=[];r.push(e[i].lrCoordinates),e[i].grouped=!0;for(var o=l([e[i].lrCoordinates]),a=i+1;a<e.length;a++)e[a].grouped||go(l([e[a].lrCoordinates]),o)&&(r.push(e[a].lrCoordinates),e[a].grouped=!0);n.push(r)}return n}function go(t,e){for(var n=hn(t),i=0;i<n.features.length;i++)if(!pe(n.features[i],e))return!1;return!0}function mo(t){for(var e=0;e<t.length;e++)if(!1===t[e].grouped)return!1;return!0}function _o(t,e,n){if(!A(n=n||{}))throw new Error("options is invalid");var i=n.pivot,r=n.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("angle is required");return 0===e||(i||(i=cn(t)),!1!==r&&void 0!==r||(t=be(t)),L(t,function(t){var n=sr(i,t)+e,r=ri(i,t),o=J(lr(i,r,n));t[0]=o[0],t[1]=o[1]})),t}function yo(t,e,n){if(!A(n=n||{}))throw new Error("options is invalid");var i=n.origin,r=n.mutate;if(!t)throw new Error("geojson required");if("number"!=typeof e||0===e)throw new Error("invalid factor");var o=Array.isArray(i)||"object"==typeof i;return!0!==r&&(t=be(t)),"FeatureCollection"!==t.type||o?vo(t,e,i):(D(t,function(n,r){t.features[r]=vo(n,e,i)}),t)}function vo(t,e,n){var i="Point"===rt(t);return n=function(t,e){if(null==e&&(e="centroid"),Array.isArray(e)||"object"==typeof e)return $(e);var n=t.bbox?t.bbox:K(t),i=n[0],r=n[1],o=n[2],a=n[3];switch(e){case"sw":case"southwest":case"westsouth":case"bottomleft":return s([i,r]);case"se":case"southeast":case"eastsouth":case"bottomright":return s([o,r]);case"nw":case"northwest":case"westnorth":case"topleft":return s([i,a]);case"ne":case"northeast":case"eastnorth":case"topright":return s([o,a]);case"center":return ln(t);case void 0:case null:case"centroid":return cn(t);default:throw new Error("invalid origin")}}(t,n),1===e||i||L(t,function(t){var i=ri(n,t),r=sr(n,t),o=J(lr(n,i*e,r));t[0]=o[0],t[1]=o[1],3===t.length&&(t[2]*=e)}),t}function bo(t){var e=t[0],n=t[1];return[n[0]-e[0],n[1]-e[1]]}function wo(t,e){return t[0]*e[1]-e[0]*t[1]}function xo(t,e,n){var i=[],r=w(e,n),o=J(t),a=[];return o.forEach(function(t,e){if(e!==o.length-1){var n=(l=t,c=o[e+1],h=r,p=Math.sqrt((l[0]-c[0])*(l[0]-c[0])+(l[1]-c[1])*(l[1]-c[1])),[[l[0]+h*(c[1]-l[1])/p,l[1]+h*(l[0]-c[0])/p],[c[0]+h*(c[1]-l[1])/p,c[1]+h*(l[0]-c[0])/p]]);if(i.push(n),e>0){var s=i[e-1],u=function(t,e){return!function(t,e){return 0===wo(bo(t),bo(e))}(t,e)&&function(t,e){var n,i,r=t[0],o=bo(t),a=e[0],s=bo(e),u=wo(o,s);return function(t,e){return[t[0]+e[0],t[1]+e[1]]}(r,function(t,e){return[t*e[0],t*e[1]]}(wo([(n=a)[0]-(i=r)[0],n[1]-i[1]],s)/u,o))}(t,e)}(n,s);!1!==u&&(s[1]=u,n[0]=u),a.push(s[0]),e===o.length-2&&(a.push(n[0]),a.push(n[1]))}2===o.length&&(a.push(n[0]),a.push(n[1]))}var l,c,h,p}),h(a,t.properties)}function ko(t,e,n){return function(t){return(t>0)-(t<0)||+t}((e[0]-t[0])*(n[1]-e[1])-(n[0]-e[0])*(e[1]-t[1]))}function Eo(t,e){return e.geometry.coordinates[0].every(function(e){return pe(s(e),t)})}ao[1]=ao[169]=Gr,ao[4]=ao[166]=Hr,ao[16]=ao[154]=Wr,ao[64]=ao[106]=Yr,ao[168]=ao[2]=Zr,ao[162]=ao[8]=Xr,ao[138]=ao[32]=Kr,ao[42]=ao[128]=$r,ao[5]=ao[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},ao[20]=ao[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},ao[80]=ao[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},ao[65]=ao[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},ao[160]=ao[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},ao[130]=ao[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},ao[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},ao[101]=ao[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},ao[149]=ao[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},ao[86]=ao[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},ao[89]=ao[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},ao[96]=ao[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},ao[24]=ao[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},ao[6]=ao[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},ao[129]=ao[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},ao[66]=ao[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ao[144]=ao[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},ao[36]=ao[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},ao[9]=ao[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},ao[37]=ao[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},ao[148]=ao[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},ao[82]=ao[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},ao[73]=ao[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},ao[145]=ao[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},ao[70]=ao[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ao[34]=function(t){return[$r(t),Xr(t)]},ao[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},ao[136]=function(t){return[Kr(t),Zr(t)]},ao[153]=function(t){return[Wr(t),Gr(t)]},ao[102]=function(t){return[Hr(t),Yr(t)]},ao[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},ao[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ao[152]=function(t){return[Wr(t),Zr(t)]},ao[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},ao[137]=function(t){return[Kr(t),Gr(t)]},ao[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},ao[98]=function(t){return[Xr(t),Yr(t)]},ao[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ao[38]=function(t){return[Hr(t),$r(t)]},ao[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]};var So=function(){function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return t.buildId=function(t){return t.join(",")},t.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter(function(e){return e.from.id!==t.from.id})},t.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter(function(e){return e.to.id!==t.to.id})},t.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},t.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort(function(e,n){var i=e.to,r=n.to;if(i.coordinates[0]-t.coordinates[0]>=0&&r.coordinates[0]-t.coordinates[0]<0)return 1;if(i.coordinates[0]-t.coordinates[0]<0&&r.coordinates[0]-t.coordinates[0]>=0)return-1;if(i.coordinates[0]-t.coordinates[0]==0&&r.coordinates[0]-t.coordinates[0]==0)return i.coordinates[1]-t.coordinates[1]>=0||r.coordinates[1]-t.coordinates[1]>=0?i.coordinates[1]-r.coordinates[1]:r.coordinates[1]-i.coordinates[1];var o=ko(t.coordinates,i.coordinates,r.coordinates);return o<0?1:o>0?-1:Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2)-(Math.pow(r.coordinates[0]-t.coordinates[0],2)+Math.pow(r.coordinates[1]-t.coordinates[1],2))}),this.outerEdgesSorted=!0)},t.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},t.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},t.prototype.addInnerEdge=function(t){this.innerEdges.push(t)},t}(),Co=function(){function t(t,e){this.from=t,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return t.prototype.getSymetric=function(){return this.symetric||(this.symetric=new t(this.to,this.from),this.symetric.symetric=this),this.symetric},t.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},t.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},t.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},t.prototype.toLineString=function(){return h([this.from.coordinates,this.to.coordinates])},t.prototype.compareTo=function(t){return ko(t.from.coordinates,t.to.coordinates,this.to.coordinates)},t}(),Io=function(){function t(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return t.prototype.push=function(t){this.edges.push(t),this.polygon=this.envelope=void 0},t.prototype.get=function(t){return this.edges[t]},Object.defineProperty(t.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.edges.forEach(t)},t.prototype.map=function(t){return this.edges.map(t)},t.prototype.some=function(t){return this.edges.some(t)},t.prototype.isValid=function(){return!0},t.prototype.isHole=function(){var t=this,e=this.edges.reduce(function(e,n,i){return n.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=i),e},0),n=(0===e?this.length:e)-1,i=(e+1)%this.length,r=ko(this.edges[n].from.coordinates,this.edges[e].from.coordinates,this.edges[i].from.coordinates);return 0===r?this.edges[n].from.coordinates[0]>this.edges[i].from.coordinates[0]:r>0},t.prototype.toMultiPoint=function(){return g(this.edges.map(function(t){return t.from.coordinates}))},t.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map(function(t){return t.from.coordinates});return t.push(this.edges[0].from.coordinates),this.polygon=l([t])},t.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=rn(this.toPolygon())},t.findEdgeRingContaining=function(t,e){var n,i,r=t.getEnvelope();return e.forEach(function(e){var o,a,u,l,c,h,p=e.getEnvelope();if(i&&(n=i.getEnvelope()),a=r,u=(o=p).geometry.coordinates[0].map(function(t){return t[0]}),l=o.geometry.coordinates[0].map(function(t){return t[1]}),c=a.geometry.coordinates[0].map(function(t){return t[0]}),h=a.geometry.coordinates[0].map(function(t){return t[1]}),(Math.max.apply(null,u)!==Math.max.apply(null,c)||Math.max.apply(null,l)!==Math.max.apply(null,h)||Math.min.apply(null,u)!==Math.min.apply(null,c)||Math.min.apply(null,l)!==Math.min.apply(null,h))&&Eo(p,r)){for(var f=t.map(function(t){return t.from.coordinates}),d=void 0,g=function(t){e.some(function(e){return(n=t)[0]===(i=e.from.coordinates)[0]&&n[1]===i[1];var n,i})||(d=t)},m=0,_=f;m<_.length;m++)g(_[m]);d&&e.inside(s(d))&&(i&&!Eo(n,p)||(i=e))}}),i},t.prototype.inside=function(t){return pe(t,this.toPolygon())},t}(),Ao=function(){function t(){this.edges=[],this.nodes={}}return t.fromGeoJson=function(e){!function(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(e);var n=new t;return V(e,function(t){et(t,"LineString","Graph::fromGeoJson"),M(t,function(t,e){if(t){var i=n.getNode(t),r=n.getNode(e);n.addEdge(i,r)}return e})}),n},t.prototype.getNode=function(t){var e=So.buildId(t),n=this.nodes[e];return n||(n=this.nodes[e]=new So(t)),n},t.prototype.addEdge=function(t,e){var n=new Co(t,e),i=n.getSymetric();this.edges.push(n),this.edges.push(i)},t.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map(function(e){return t.nodes[e]}).forEach(function(e){return t._removeIfDangle(e)})},t.prototype._removeIfDangle=function(t){var e=this;if(t.innerEdges.length<=1){var n=t.getOuterEdges().map(function(t){return t.to});this.removeNode(t),n.forEach(function(t){return e._removeIfDangle(t)})}},t.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))})},t.prototype._computeNextCWEdges=function(t){var e=this;void 0===t?Object.keys(this.nodes).forEach(function(t){return e._computeNextCWEdges(e.nodes[t])}):t.getOuterEdges().forEach(function(e,n){t.getOuterEdge((0===n?t.getOuterEdges().length:n)-1).symetric.next=e})},t.prototype._computeNextCCWEdges=function(t,e){for(var n,i,r=t.getOuterEdges(),o=r.length-1;o>=0;--o){var a=r[o],s=a.symetric,u=void 0,l=void 0;a.label===e&&(u=a),s.label===e&&(l=s),u&&l&&(l&&(i=l),u&&(i&&(i.next=u,i=void 0),n||(n=u)))}i&&(i.next=n)},t.prototype._findLabeledEdgeRings=function(){var t=[],e=0;return this.edges.forEach(function(n){if(!(n.label>=0)){t.push(n);var i=n;do{i.label=e,i=i.next}while(!n.isEqual(i));e++}}),t},t.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach(function(t){t.label=void 0}),this._findLabeledEdgeRings().forEach(function(e){t._findIntersectionNodes(e).forEach(function(n){t._computeNextCCWEdges(n,e.label)})});var e=[];return this.edges.forEach(function(n){n.ring||e.push(t._findEdgeRing(n))}),e},t.prototype._findIntersectionNodes=function(t){var e=[],n=t,i=function(){var i=0;n.from.getOuterEdges().forEach(function(e){e.label===t.label&&++i}),i>1&&e.push(n.from),n=n.next};do{i()}while(!t.isEqual(n));return e},t.prototype._findEdgeRing=function(t){var e=t,n=new Io;do{n.push(e),e.ring=n,e=e.next}while(!t.isEqual(e));return n},t.prototype.removeNode=function(t){var e=this;t.getOuterEdges().forEach(function(t){return e.removeEdge(t)}),t.innerEdges.forEach(function(t){return e.removeEdge(t)}),delete this.nodes[t.id]},t.prototype.removeEdge=function(t){this.edges=this.edges.filter(function(e){return!e.isEqual(t)}),t.deleteEdge()},t}();function Po(t,e){var n=!0;return V(t,function(t){V(e,function(e){if(!1===n)return!1;n=function(t,e){switch(t.type){case"Point":switch(e.type){case"Point":return!((n=t.coordinates)[0]===(i=e.coordinates)[0]&&n[1]===i[1]);case"LineString":return!To(e,t);case"Polygon":return!pe(t,e)}break;case"LineString":switch(e.type){case"Point":return!To(t,e);case"LineString":return!function(t,e){return ei(t,e).features.length>0}(t,e);case"Polygon":return!Oo(e,t)}break;case"Polygon":switch(e.type){case"Point":return!pe(e,t);case"LineString":return!Oo(t,e);case"Polygon":return!function(t,e){for(var n=0,i=t.coordinates[0];n<i.length;n++)if(pe(i[n],e))return!0;for(var r=0,o=e.coordinates[0];r<o.length;r++)if(pe(o[r],t))return!0;return ei(Hi(t),Hi(e)).features.length>0}(e,t)}}var n,i;return!1}(t.geometry,e.geometry)})}),n}function To(t,e){for(var n=0;n<t.coordinates.length-1;n++)if(Lo(t.coordinates[n],t.coordinates[n+1],e.coordinates))return!0;return!1}function Oo(t,e){for(var n=0,i=e.coordinates;n<i.length;n++)if(pe(i[n],t))return!0;return ei(e,Hi(t)).features.length>0}function Lo(t,e,n){var i=e[0]-t[0],r=e[1]-t[1];return 0==(n[0]-t[0])*r-(n[1]-t[1])*i&&(Math.abs(i)>=Math.abs(r)?i>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:r>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1])}function Mo(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function No(t,e){return t[0]===e[0]&&t[1]===e[1]}function Ro(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}function Do(t,e){for(var n=!1,i=!1,r=t.coordinates.length,o=0;o<r&&!n&&!i;){for(var a=0;a<e.coordinates.length-1;a++){var s=!0;0!==a&&a!==e.coordinates.length-2||(s=!1),Bo(e.coordinates[a],e.coordinates[a+1],t.coordinates[o],s)?n=!0:i=!0}o++}return n&&i}function zo(t,e){return ei(t,Wi(e)).features.length>0}function Fo(t,e){for(var n=!1,i=!1,r=t.coordinates.length,o=0;o<r&&(!n||!i);o++)pe(s(t.coordinates[o]),e)?n=!0:i=!0;return i&&n}function Bo(t,e,n,i){var r=e[0]-t[0],o=e[1]-t[1];return 0==(n[0]-t[0])*o-(n[1]-t[1])*r&&(i?Math.abs(r)>=Math.abs(o)?r>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:o>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1]:Math.abs(r)>=Math.abs(o)?r>0?t[0]<n[0]&&n[0]<e[0]:e[0]<n[0]&&n[0]<t[0]:o>0?t[1]<n[1]&&n[1]<e[1]:e[1]<n[1]&&n[1]<t[1])}var jo=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:qo};function Vo(t){return t.coordinates.map(function(e){return{type:t.type.replace("Multi",""),coordinates:e}})}function Uo(t,e){return t.hasOwnProperty("coordinates")?t.coordinates.length===e.coordinates.length:t.length===e.length}function qo(t,e){return ir(t,e,{strict:!0})}jo.prototype.compare=function(t,e){if(t.type!==e.type||!Uo(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,e);case"Feature":return this.compareFeature(t,e);default:if(0===t.type.indexOf("Multi")){var n=this,i=Vo(t),r=Vo(e);return i.every(function(t){return this.some(function(e){return n.compare(t,e)})},r)}}return!1},jo.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n].toFixed(this.precision)!==e[n].toFixed(this.precision))return!1;return!0},jo.prototype.compareLine=function(t,e,n,i){if(!Uo(t,e))return!1;var r=this.pseudoNode?t:this.removePseudo(t),o=this.pseudoNode?e:this.removePseudo(e);if(!i||this.compareCoord(r[0],o[0])||(o=this.fixStartIndex(o,r))){var a=this.compareCoord(r[n],o[n]);return this.direction||a?this.comparePath(r,o):!!this.compareCoord(r[n],o[o.length-(1+n)])&&this.comparePath(r.slice().reverse(),o)}},jo.prototype.fixStartIndex=function(t,e){for(var n,i=-1,r=0;r<t.length;r++)if(this.compareCoord(t[r],e[0])){i=r;break}return i>=0&&(n=[].concat(t.slice(i,t.length),t.slice(1,i+1))),n},jo.prototype.comparePath=function(t,e){var n=this;return t.every(function(t,e){return n.compareCoord(t,this[e])},e)},jo.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var n=t.coordinates.slice(1,t.coordinates.length),i=e.coordinates.slice(1,e.coordinates.length),r=this;return n.every(function(t){return this.some(function(e){return r.compareLine(t,e,1,!0)})},i)}return!1},jo.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},jo.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},jo.prototype.removePseudo=function(t){return t};var Go=jo;function Ho(t,e){var n=!1;return V(t,function(t){V(e,function(e){if(!0===n)return!0;n=!Po(t.geometry,e.geometry)})}),n}var Wo=Ft(function(t){function e(t,e,n,i){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,n,i)}e.prototype.run=function(t,e,n,i){this._init(t,e,n,i);for(var r=0;r<this._datasetLength;r++)if(1!==this._visited[r]){this._visited[r]=1;var o=this._regionQuery(r);if(o.length<this.minPts)this.noise.push(r);else{var a=this.clusters.length;this.clusters.push([]),this._addToCluster(r,a),this._expandCluster(a,o)}}return this.clusters},e.prototype._init=function(t,e,n,i){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),n&&(this.minPts=n),i&&(this.distance=i)},e.prototype._expandCluster=function(t,e){for(var n=0;n<e.length;n++){var i=e[n];if(1!==this._visited[i]){this._visited[i]=1;var r=this._regionQuery(i);r.length>=this.minPts&&(e=this._mergeArrays(e,r))}1!==this._assigned[i]&&this._addToCluster(i,t)}},e.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var e=[],n=0;n<this._datasetLength;n++)this.distance(this.dataset[t],this.dataset[n])<this.epsilon&&e.push(n);return e},e.prototype._mergeArrays=function(t,e){for(var n=e.length,i=0;i<n;i++){var r=e[i];t.indexOf(r)<0&&t.push(r)}return t},e.prototype._euclideanDistance=function(t,e){for(var n=0,i=Math.min(t.length,e.length);i--;)n+=(t[i]-e[i])*(t[i]-e[i]);return Math.sqrt(n)},t.exports&&(t.exports=e)}),Yo=Ft(function(t){function e(t,e,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,n)}e.prototype.init=function(t,e,n){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==e&&(this.k=e),void 0!==n&&(this.distance=n)},e.prototype.run=function(t,e){this.init(t,e);for(var n=this.dataset.length,i=0;i<this.k;i++)this.centroids[i]=this.randomCentroid();for(var r=!0;r;){r=this.assign();for(var o=0;o<this.k;o++){for(var a=new Array(c),s=0,u=0;u<c;u++)a[u]=0;for(var l=0;l<n;l++){var c=this.dataset[l].length;if(o===this.assignments[l]){for(u=0;u<c;u++)a[u]+=this.dataset[l][u];s++}}if(s>0){for(u=0;u<c;u++)a[u]/=s;this.centroids[o]=a}else this.centroids[o]=this.randomCentroid(),r=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,n=this.dataset.length-1;do{e=Math.round(Math.random()*n),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,n=this.dataset.length,i=0;i<n;i++)(t=this.argmin(this.dataset[i],this.centroids,this.distance))!=this.assignments[i]&&(this.assignments[i]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===e[t=this.assignments[n]]&&(e[t]=[]),e[t].push(n);return e},e.prototype.argmin=function(t,e,n){for(var i,r=Number.MAX_VALUE,o=0,a=e.length,s=0;s<a;s++)(i=n(t,e[s]))<r&&(r=i,o=s);return o},e.prototype.distance=function(t,e){for(var n=0,i=Math.min(t.length,e.length);i--;){var r=t[i]-e[i];n+=r*r}return Math.sqrt(n)},t.exports&&(t.exports=e)}),Zo=Ft(function(t){function e(t,e,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,n)}e.prototype.insert=function(t,e){for(var n=this._queue.length,i=n;i--;){var r=this._priorities[i];"desc"===this._sorting?e>r&&(n=i):e<r&&(n=i)}this._insertAt(t,e,n)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;)if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,n=this._queue.length;e<n;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,n){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var i=0;i<t.length;i++)this.insert(t[i],e[i])}n&&(this._sorting=n)},e.prototype._insertAt=function(t,e,n){this._queue.length===n?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(n,0,t),this._priorities.splice(n,0,e))},t.exports&&(t.exports=e)}),Xo=Ft(function(t){if(t.exports)var e=Zo;function n(t,e,n,i){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,n,i)}n.prototype.run=function(t,n,i,r){this._init(t,n,i,r);for(var o=0,a=this.dataset.length;o<a;o++)if(1!==this._processed[o]){this._processed[o]=1,this.clusters.push([o]);var s=this.clusters.length-1;this._orderedList.push(o);var u=new e(null,null,"asc"),l=this._regionQuery(o);void 0!==this._distanceToCore(o)&&(this._updateQueue(o,l,u),this._expandCluster(s,u))}return this.clusters},n.prototype.getReachabilityPlot=function(){for(var t=[],e=0,n=this._orderedList.length;e<n;e++){var i=this._orderedList[e];t.push([i,this._reachability[i]])}return t},n.prototype._init=function(t,e,n,i){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),n&&(this.minPts=n),i&&(this.distance=i)},n.prototype._updateQueue=function(t,e,n){var i=this;this._coreDistance=this._distanceToCore(t),e.forEach(function(e){if(void 0===i._processed[e]){var r=i.distance(i.dataset[t],i.dataset[e]),o=Math.max(i._coreDistance,r);void 0===i._reachability[e]?(i._reachability[e]=o,n.insert(e,o)):o<i._reachability[e]&&(i._reachability[e]=o,n.remove(e),n.insert(e,o))}})},n.prototype._expandCluster=function(t,e){for(var n=e.getElements(),i=0,r=n.length;i<r;i++){var o=n[i];if(void 0===this._processed[o]){var a=this._regionQuery(o);this._processed[o]=1,this.clusters[t].push(o),this._orderedList.push(o),void 0!==this._distanceToCore(o)&&(this._updateQueue(o,a,e),this._expandCluster(t,e))}}},n.prototype._distanceToCore=function(t){for(var e=this.epsilon,n=0;n<e;n++)if(this._regionQuery(t,n).length>=this.minPts)return n},n.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var n=[],i=0,r=this.dataset.length;i<r;i++)this.distance(this.dataset[t],this.dataset[i])<e&&n.push(i);return n},n.prototype._euclideanDistance=function(t,e){for(var n=0,i=Math.min(t.length,e.length);i--;)n+=(t[i]-e[i])*(t[i]-e[i]);return Math.sqrt(n)},t.exports&&(t.exports=n)}),Ko=Ft(function(t){t.exports&&(t.exports={DBSCAN:Wo,KMEANS:Yo,OPTICS:Xo,PriorityQueue:Zo})}),$o=function(t,e,n){for(var i=t.length,r=0,o=0;o<i;o++){var a=(t[o]||0)-(e[o]||0);r+=a*a}return n?Math.sqrt(r):r},Jo=$o,Qo=function(t,e,n){var i=Math.abs(t-e);return n?i:i*i},ta=$o;function ea(t,e,n){n=n||[];for(var i=0;i<t;i++)n[i]=e;return n}function na(t,e){return x(sr(t[0],t[1]))===x(sr(e[0],e[1]))}function ia(t,e){if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error("Invalid GeoJSON object for "+e)}function ra(t){for(var e=t,n=[];e.parent;)n.unshift(e),e=e.parent;return n}var oa={search:function(t,e,n,i){t.cleanDirty();var r=(i=i||{}).heuristic||oa.heuristics.manhattan,o=i.closest||!1,a=new ua(function(t){return t.f}),s=e;for(e.h=r(e,n),a.push(e);a.size()>0;){var u=a.pop();if(u===n)return ra(u);u.closed=!0;for(var l=t.neighbors(u),c=0,h=l.length;c<h;++c){var p=l[c];if(!p.closed&&!p.isWall()){var f=u.g+p.getCost(u),d=p.visited;(!d||f<p.g)&&(p.visited=!0,p.parent=u,p.h=p.h||r(p,n),p.g=f,p.f=p.g+p.h,t.markDirty(p),o&&(p.h<s.h||p.h===s.h&&p.g<s.g)&&(s=p),d?a.rescoreElement(p):a.push(p))}}}return o?ra(s):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var n=Math.sqrt(2),i=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return 1*(i+r)+(n-2)*Math.min(i,r)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};function aa(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var n=0;n<t.length;n++){this.grid[n]=[];for(var i=0,r=t[n];i<r.length;i++){var o=new sa(n,i,r[i]);this.grid[n][i]=o,this.nodes.push(o)}}this.init()}function sa(t,e,n){this.x=t,this.y=e,this.weight=n}function ua(t){this.content=[],this.scoreFunction=t}function la(t,e){for(var n=0;n<e.features.length;n++)if(pe(t,e.features[n]))return!0;return!1}function ca(t){return function(){return t}}function ha(t){return t[0]}function pa(t){return t[1]}function fa(){this._=null}function da(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ga(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function ma(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function _a(t){for(;t.L;)t=t.L;return t}function ya(t,e,n,i){var r=[null,null],o=Ua.push(r)-1;return r.left=t,r.right=e,n&&ba(r,t,e,n),i&&ba(r,e,t,i),ja[t.index].halfedges.push(o),ja[e.index].halfedges.push(o),r}function va(t,e,n){var i=[e,n];return i.left=t,i}function ba(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function wa(t,e,n,i,r){var o,a=t[0],s=t[1],u=a[0],l=a[1],c=0,h=1,p=s[0]-u,f=s[1]-l;if(o=e-u,p||!(o>0)){if(o/=p,p<0){if(o<c)return;o<h&&(h=o)}else if(p>0){if(o>h)return;o>c&&(c=o)}if(o=i-u,p||!(o<0)){if(o/=p,p<0){if(o>h)return;o>c&&(c=o)}else if(p>0){if(o<c)return;o<h&&(h=o)}if(o=n-l,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=r-l,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(t[0]=[u+c*p,l+c*f]),h<1&&(t[1]=[u+h*p,l+h*f]),!0)}}}}}function xa(t,e,n,i,r){var o=t[1];if(o)return!0;var a,s,u=t[0],l=t.left,c=t.right,h=l[0],p=l[1],f=c[0],d=c[1],g=(h+f)/2;if(d===p){if(g<e||g>=i)return;if(h>f){if(u){if(u[1]>=r)return}else u=[g,n];o=[g,r]}else{if(u){if(u[1]<n)return}else u=[g,r];o=[g,n]}}else if(s=(p+d)/2-(a=(h-f)/(d-p))*g,a<-1||a>1)if(h>f){if(u){if(u[1]>=r)return}else u=[(n-s)/a,n];o=[(r-s)/a,r]}else{if(u){if(u[1]<n)return}else u=[(r-s)/a,r];o=[(n-s)/a,n]}else if(p<d){if(u){if(u[0]>=i)return}else u=[e,a*e+s];o=[i,a*i+s]}else{if(u){if(u[0]<e)return}else u=[i,a*i+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function ka(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function Ea(t,e){return e[+(e.left!==t.site)]}function Sa(t,e){return e[+(e.left===t.site)]}aa.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)oa.cleanNode(this.nodes[t])},aa.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)oa.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},aa.prototype.markDirty=function(t){this.dirtyNodes.push(t)},aa.prototype.neighbors=function(t){var e=[],n=t.x,i=t.y,r=this.grid;return r[n-1]&&r[n-1][i]&&e.push(r[n-1][i]),r[n+1]&&r[n+1][i]&&e.push(r[n+1][i]),r[n]&&r[n][i-1]&&e.push(r[n][i-1]),r[n]&&r[n][i+1]&&e.push(r[n][i+1]),this.diagonal&&(r[n-1]&&r[n-1][i-1]&&e.push(r[n-1][i-1]),r[n+1]&&r[n+1][i-1]&&e.push(r[n+1][i-1]),r[n-1]&&r[n-1][i+1]&&e.push(r[n-1][i+1]),r[n+1]&&r[n+1][i+1]&&e.push(r[n+1][i+1])),e},aa.prototype.toString=function(){for(var t,e,n,i,r=[],o=this.grid,a=0,s=o.length;a<s;a++){for(t=[],n=0,i=(e=o[a]).length;n<i;n++)t.push(e[n].weight);r.push(t.join(" "))}return r.join("\n")},sa.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},sa.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},sa.prototype.isWall=function(){return 0===this.weight},ua.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var n=(t+1>>1)-1,i=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(i)))break;this.content[n]=e,this.content[t]=i,t=n}},bubbleUp:function(t){for(var e=this.content.length,n=this.content[t],i=this.scoreFunction(n);;){var r,o=t+1<<1,a=o-1,s=null;if(a<e&&(r=this.scoreFunction(this.content[a]))<i&&(s=a),o<e&&this.scoreFunction(this.content[o])<(null===s?i:r)&&(s=o),null===s)break;this.content[t]=this.content[s],this.content[s]=n,t=s}}},fa.prototype={constructor:fa,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=_a(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(ga(this,n),n=(t=n).U),n.C=!1,i.C=!0,ma(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(ma(this,n),n=(t=n).U),n.C=!1,i.C=!0,ga(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,a=t.R;if(n=o?a?_a(a):o:a,r?r.L===t?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(r=n.U,n.U=t.U,r.L=t=n.R,n.R=a,a.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,ga(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ma(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,ga(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,ma(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ga(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,ma(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var Ca,Ia=[];function Aa(){da(this),this.x=this.y=this.arc=this.site=this.cy=null}function Pa(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var a=r[0],s=r[1],u=i[0]-a,l=i[1]-s,c=o[0]-a,h=o[1]-s,p=2*(u*h-l*c);if(!(p>=-Ga)){var f=u*u+l*l,d=c*c+h*h,g=(h*f-l*d)/p,m=(u*d-c*f)/p,_=Ia.pop()||new Aa;_.arc=t,_.site=r,_.x=g+a,_.y=(_.cy=m+s)+Math.sqrt(g*g+m*m),t.circle=_;for(var y=null,v=Va._;v;)if(_.y<v.y||_.y===v.y&&_.x<=v.x){if(!v.L){y=v.P;break}v=v.L}else{if(!v.R){y=v;break}v=v.R}Va.insert(y,_),y||(Ca=_)}}}}function Ta(t){var e=t.circle;e&&(e.P||(Ca=e.N),Va.remove(e),Ia.push(e),da(e),t.circle=null)}var Oa=[];function La(){da(this),this.edge=this.site=this.circle=null}function Ma(t){var e=Oa.pop()||new La;return e.site=t,e}function Na(t){Ta(t),Ba.remove(t),Oa.push(t),da(t)}function Ra(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],o=t.P,a=t.N,s=[t];Na(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<qa&&Math.abs(i-u.circle.cy)<qa;)o=u.P,s.unshift(u),Na(u),u=o;s.unshift(u),Ta(u);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<qa&&Math.abs(i-l.circle.cy)<qa;)a=l.N,s.push(l),Na(l),l=a;s.push(l),Ta(l);var c,h=s.length;for(c=1;c<h;++c)ba((l=s[c]).edge,(u=s[c-1]).site,l.site,r);(l=s[h-1]).edge=ya((u=s[0]).site,l.site,null,r),Pa(u),Pa(l)}function Da(t){for(var e,n,i,r,o=t[0],a=t[1],s=Ba._;s;)if((i=za(s,a)-o)>qa)s=s.L;else{if(!((r=o-Fa(s,a))>qa)){i>-qa?(e=s.P,n=s):r>-qa?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){ja[t.index]={site:t,halfedges:[]}}(t);var u=Ma(t);if(Ba.insert(e,u),e||n){if(e===n)return Ta(e),n=Ma(e.site),Ba.insert(u,n),u.edge=n.edge=ya(e.site,u.site),Pa(e),void Pa(n);if(n){Ta(e),Ta(n);var l=e.site,c=l[0],h=l[1],p=t[0]-c,f=t[1]-h,d=n.site,g=d[0]-c,m=d[1]-h,_=2*(p*m-f*g),y=p*p+f*f,v=g*g+m*m,b=[(m*y-f*v)/_+c,(p*v-g*y)/_+h];ba(n.edge,l,d,b),u.edge=ya(l,t,null,b),n.edge=ya(t,d,null,b),Pa(e),Pa(n)}else u.edge=ya(e.site,u.site)}}function za(t,e){var n=t.site,i=n[0],r=n[1],o=r-e;if(!o)return i;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],l=u-e;if(!l)return s;var c=s-i,h=1/o-1/l,p=c/l;return h?(-p+Math.sqrt(p*p-2*h*(c*c/(-2*l)-u+l/2+r-o/2)))/h+i:(i+s)/2}function Fa(t,e){var n=t.N;if(n)return za(n,e);var i=t.site;return i[1]===e?i[0]:1/0}var Ba,ja,Va,Ua,qa=1e-6,Ga=1e-12;function Ha(t,e){return e[1]-t[1]||e[0]-t[0]}function Wa(t,e){var n,i,r,o=t.sort(Ha).pop();for(Ua=[],ja=new Array(t.length),Ba=new fa,Va=new fa;;)if(r=Ca,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))o[0]===n&&o[1]===i||(Da(o),n=o[0],i=o[1]),o=t.pop();else{if(!r)break;Ra(r.arc)}if(function(){for(var t,e,n,i,r=0,o=ja.length;r<o;++r)if((t=ja[r])&&(i=(e=t.halfedges).length)){var a=new Array(i),s=new Array(i);for(n=0;n<i;++n)a[n]=n,s[n]=ka(t,Ua[e[n]]);for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<i;++n)s[n]=e[a[n]];for(n=0;n<i;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],l=+e[1][1];!function(t,e,n,i){for(var r,o=Ua.length;o--;)xa(r=Ua[o],t,e,n,i)&&wa(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>qa||Math.abs(r[0][1]-r[1][1])>qa)||delete Ua[o]}(a,s,u,l),function(t,e,n,i){var r,o,a,s,u,l,c,h,p,f,d,g,m=ja.length,_=!0;for(r=0;r<m;++r)if(o=ja[r]){for(a=o.site,s=(u=o.halfedges).length;s--;)Ua[u[s]]||u.splice(s,1);for(s=0,l=u.length;s<l;)d=(f=Sa(o,Ua[u[s]]))[0],g=f[1],h=(c=Ea(o,Ua[u[++s%l]]))[0],p=c[1],(Math.abs(d-h)>qa||Math.abs(g-p)>qa)&&(u.splice(s,0,Ua.push(va(a,f,Math.abs(d-t)<qa&&i-g>qa?[t,Math.abs(h-t)<qa?p:i]:Math.abs(g-i)<qa&&n-d>qa?[Math.abs(p-i)<qa?h:n,i]:Math.abs(d-n)<qa&&g-e>qa?[n,Math.abs(h-n)<qa?p:e]:Math.abs(g-e)<qa&&d-t>qa?[Math.abs(p-e)<qa?h:t,e]:null))-1),++l);l&&(_=!1)}if(_){var y,v,b,w=1/0;for(r=0,_=null;r<m;++r)(o=ja[r])&&(b=(y=(a=o.site)[0]-t)*y+(v=a[1]-e)*v)<w&&(w=b,_=o);if(_){var x=[t,e],k=[t,i],E=[n,i],S=[n,e];_.halfedges.push(Ua.push(va(a=_.site,x,k))-1,Ua.push(va(a,k,E))-1,Ua.push(va(a,E,S))-1,Ua.push(va(a,S,x))-1)}}for(r=0;r<m;++r)(o=ja[r])&&(o.halfedges.length||delete ja[r])}(a,s,u,l)}this.edges=Ua,this.cells=ja,Ba=Va=Ua=ja=null}function Ya(t){return(t=t.slice()).push(t[0]),l([t])}function Za(t,e,n,i){var r=(i=i||{}).steps||64,o=i.units||"kilometers",a=i.angle||0,s=i.pivot||t,u=i.properties||t.properties||{};if(!t)throw new Error("center is required");if(!e)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!A(i))throw new Error("options must be an object");if(!I(r))throw new Error("steps must be a number");if(!I(a))throw new Error("angle must be a number");var c=$(t);if("degrees"===o)var h=E(a);else e=lr(t,e,90,{units:o}),n=lr(t,n,0,{units:o}),e=$(e)[0]-c[0],n=$(n)[1]-c[1];for(var p=[],f=0;f<r;f+=1){var d=-360*f/r,g=e*n/Math.sqrt(Math.pow(n,2)+Math.pow(e,2)*Math.pow(Xa(d),2)),m=e*n/Math.sqrt(Math.pow(e,2)+Math.pow(n,2)/Math.pow(Xa(d),2));if(d<-90&&d>=-270&&(g=-g),d<-180&&d>=-360&&(m=-m),"degrees"===o){var _=g*Math.cos(h)+m*Math.sin(h),y=m*Math.cos(h)-g*Math.sin(h);g=_,m=y}p.push([g+c[0],m+c[1]])}return p.push(p[0]),"degrees"===o?l([p],u):_o(l([p],u),a,{pivot:s})}function Xa(t){var e=t*Math.PI/180;return Math.tan(e)}function Ka(t,e){void 0===e&&(e={});var n=0,i=0,r=0;return B(t,function(t,o,a){var s=e.weight?null==a?void 0:a[e.weight]:void 0;if(!I(s=null==s?1:s))throw new Error("weight value must be a number for feature index "+o);(s=Number(s))>0&&L(t,function(t){n+=t[0]*s,i+=t[1]*s,r+=s})}),s([n/r,i/r],e.properties,e)}function $a(t,e,n,i,r){var o=i.tolerance||.001,a=0,u=0,l=0,c=0;if(D(n,function(e){var n,i=null===(n=e.properties)||void 0===n?void 0:n.weight,r=null==i?1:i;if(!I(r=Number(r)))throw new Error("weight value must be a number");if(r>0){c+=1;var o=r*ge(e,t);0===o&&(o=1);var s=r/o;a+=e.geometry.coordinates[0]*s,u+=e.geometry.coordinates[1]*s,l+=s}}),c<1)throw new Error("no features to measure");var h=a/l,p=u/l;return 1===c||0===r||Math.abs(h-e[0])<o&&Math.abs(p-e[1])<o?s([h,p],{medianCandidates:i.medianCandidates}):(i.medianCandidates.push([h,p]),$a([h,p],t,n,i,r-1))}function Ja(t,e){return{x:t[0]-e[0],y:t[1]-e[1]}}function Qa(t,e){var n=0,i=0;L(t,function(r,o,a,s,u){u>n&&(n=u,i=o,e.push([]));var l=t.coordinates[u][o-i+1],c=r[0],h=r[1],p=l[0],f=l[1];e[u].push([.75*c+.25*p,.75*h+.25*f]),e[u].push([.25*c+.75*p,.25*h+.75*f])},!0),e.forEach(function(t){t.push(t[0])})}function ts(t,e){var n=0,i=0,r=0;L(t,function(o,a,s,u,l){u>r&&(r=u,i=a,e.push([[]])),l>n&&(n=l,i=a,e[u].push([]));var c=t.coordinates[u][l][a-i+1],h=o[0],p=o[1],f=c[0],d=c[1];e[u][l].push([.75*h+.25*f,.75*p+.25*d]),e[u][l].push([.25*h+.75*f,.25*p+.75*d])},!0),e.forEach(function(t){t.forEach(function(t){t.push(t[0])})})}function es(t,e,n){void 0===n&&(n=2);var i=$(t),r=$(e),o=i[0]-r[0],a=i[1]-r[1];return 1===n?Math.abs(o)+Math.abs(a):Math.pow(Math.pow(o,n)+Math.pow(a,n),1/n)}function ns(t,e){var n=(e=e||{}).threshold||1e4,i=e.p||2,r=e.binary||!1,o=e.alpha||-1,a=e.standardization||!1,s=[];D(t,function(t){s.push(cn(t))});for(var u=[],l=0;l<s.length;l++)u[l]=[];for(l=0;l<s.length;l++)for(var c=l;c<s.length;c++){l===c&&(u[l][c]=0);var h=es(s[l],s[c],i);u[l][c]=h,u[c][l]=h}for(l=0;l<s.length;l++)for(c=0;c<s.length;c++)0!==(h=u[l][c])&&(u[l][c]=r?h<=n?1:0:h<=n?Math.pow(h,o):0);if(a)for(l=0;l<s.length;l++){var p=u[l].reduce(function(t,e){return t+e},0);for(c=0;c<s.length;c++)u[l][c]=u[l][c]/p}return u}function is(t){for(var e=0,n=0,i=t;n<i.length;n++)e+=i[n];return e/t.length}function rs(t,e){return void 0===e&&(e={}),as(t,"mercator",e)}function os(t,e){return void 0===e&&(e={}),as(t,"wgs84",e)}function as(t,e,n){void 0===n&&(n={});var i=(n=n||{}).mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&I(t[0])?t="mercator"===e?ss(t):us(t):(!0!==i&&(t=be(t)),L(t,function(t){var n="mercator"===e?ss(t):us(t);t[0]=n[0],t[1]=n[1]})),t}function ss(t){var e=Math.PI/180,n=6378137,i=20037508.342789244,r=[n*(Math.abs(t[0])<=180?t[0]:t[0]-360*function(t){return t<0?-1:t>0?1:0}(t[0]))*e,n*Math.log(Math.tan(.25*Math.PI+.5*t[1]*e))];return r[0]>i&&(r[0]=i),r[0]<-i&&(r[0]=-i),r[1]>i&&(r[1]=i),r[1]<-i&&(r[1]=-i),r}function us(t){var e=180/Math.PI,n=6378137;return[t[0]*e/n,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/n)))*e]}Wa.prototype={constructor:Wa,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return Ea(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,i){if(o=(r=n.halfedges).length)for(var r,o,a,s,u,l,c=n.site,h=-1,p=e[r[o-1]],f=p.left===c?p.right:p.left;++h<o;)a=f,f=(p=e[r[h]]).left===c?p.right:p.left,a&&f&&i<a.index&&i<f.index&&((s=c)[0]-(l=f)[0])*((u=a)[1]-s[1])-(s[0]-u[0])*(l[1]-s[1])<0&&t.push([c.data,a.data,f.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var i,r,o=this,a=o._found||0,s=o.cells.length;!(r=o.cells[a]);)if(++a>=s)return null;var u=t-r.site[0],l=e-r.site[1],c=u*u+l*l;do{r=o.cells[i=a],a=null,r.halfedges.forEach(function(n){var i=o.edges[n],s=i.left;if(s!==r.site&&s||(s=i.right)){var u=t-s[0],l=e-s[1],h=u*u+l*l;h<c&&(c=h,a=s.index)}})}while(null!==a);return o._found=i,null==n||c<=n*n?r.site:null}};var ls=Object.freeze({__proto__:null,toMercator:rs,toWgs84:os});function cs(t){return Array.isArray(t)?gs(t):t&&t.bbox?gs(t.bbox):[360*ds(),180*ds()]}function hs(t,e){void 0===e&&(e={}),null==t&&(t=1);for(var n=[],i=0;i<t;i++)n.push(s(cs(e.bbox)));return f(n)}function ps(t,e){void 0===e&&(e={}),null==t&&(t=1),I(e.num_vertices)&&void 0!==e.num_vertices||(e.num_vertices=10),I(e.max_radial_length)&&void 0!==e.max_radial_length||(e.max_radial_length=10);for(var n=[],i=function(t){var i,r=[],o=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}(Array(e.num_vertices+1)).map(Math.random);o.forEach(function(t,e,n){n[e]=e>0?t+n[e-1]:t}),o.forEach(function(t){t=2*t*Math.PI/o[o.length-1];var n=Math.random();r.push([n*(e.max_radial_length||10)*Math.sin(t),n*(e.max_radial_length||10)*Math.cos(t)])}),r[r.length-1]=r[0],r=r.map((i=cs(e.bbox),function(t){return[t[0]+i[0],t[1]+i[1]]})),n.push(l([r]))},r=0;r<t;r++)i();return f(n)}function fs(t,e){if(void 0===e&&(e={}),!A(e=e||{}))throw new Error("options is invalid");var n=e.bbox,i=e.num_vertices,r=e.max_length,o=e.max_rotation;null==t&&(t=1),(!I(i)||void 0===i||i<2)&&(i=10),I(r)&&void 0!==r||(r=1e-4),I(o)&&void 0!==o||(o=Math.PI/8);for(var a=[],s=0;s<t;s++){for(var u=[cs(n)],l=0;l<i-1;l++){var c=(0===l?2*Math.random()*Math.PI:Math.tan((u[l][1]-u[l-1][1])/(u[l][0]-u[l-1][0])))+(Math.random()-.5)*o*2,p=Math.random()*r;u.push([u[l][0]+p*Math.cos(c),u[l][1]+p*Math.sin(c)])}a.push(h(u))}return f(a)}function ds(){return Math.random()-.5}function gs(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}var ms=Object.freeze({__proto__:null,randomPosition:cs,randomPoint:hs,randomPolygon:ps,randomLineString:fs});function _s(t,e){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("filter is required");var n=[];return D(t,function(t){ws(t.properties,e)&&n.push(t)}),f(n)}function ys(t,e,n){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("property is required");for(var i=bs(t,e),r=Object.keys(i),o=0;o<r.length;o++){for(var a=r[o],s=i[a],u=[],l=0;l<s.length;l++)u.push(t.features[s[l]]);n(f(u),a,o)}}function vs(t,e,n,i){var r=i;return ys(t,e,function(t,e,o){r=0===o&&void 0===i?t:n(r,t,e,o)}),r}function bs(t,e){var n={};return D(t,function(t,i){var r=t.properties||{};if(Object.prototype.hasOwnProperty.call(r,String(e))){var o=r[e];Object.prototype.hasOwnProperty.call(n,o)?n[o].push(i):n[o]=[i]}}),n}function ws(t,e){if(void 0===t)return!1;var n=typeof e;if("number"===n||"string"===n)return Object.prototype.hasOwnProperty.call(t,e);if(Array.isArray(e)){for(var i=0;i<e.length;i++)if(!ws(t,e[i]))return!1;return!0}return xs(t,e)}function xs(t,e){for(var n=Object.keys(e),i=0;i<n.length;i++){var r=n[i];if(t[r]!==e[r])return!1}return!0}function ks(t,e){if(!e)return{};if(!e.length)return{};for(var n={},i=0;i<e.length;i++){var r=e[i];Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}var Es=Object.freeze({__proto__:null,getCluster:_s,clusterEach:ys,clusterReduce:vs,createBins:bs,applyFilter:ws,propertiesContainsFilter:xs,filterProperties:ks}),Ss=function(t,e){this.next=null,this.key=t,this.data=e,this.left=null,this.right=null};function Cs(t,e){return t>e?1:t<e?-1:0}function Is(t,e,n){for(var i=new Ss(null,null),r=i,o=i;;){var a=n(t,e.key);if(a<0){if(null===e.left)break;if(n(t,e.left.key)<0){var s=e.left;if(e.left=s.right,s.right=e,null===(e=s).left)break}o.left=e,o=e,e=e.left}else{if(!(a>0))break;if(null===e.right)break;if(n(t,e.right.key)>0&&(e.right=(s=e.right).left,s.left=e,null===(e=s).right))break;r.right=e,r=e,e=e.right}}return r.right=e.left,o.left=e.right,e.left=i.right,e.right=i.left,e}function As(t,e,n,i){var r=new Ss(t,e);if(null===n)return r.left=r.right=null,r;var o=i(t,(n=Is(t,n,i)).key);return o<0?(r.left=n.left,r.right=n,n.left=null):o>=0&&(r.right=n.right,r.left=n,n.right=null),r}function Ps(t,e,n){var i=null,r=null;if(e){var o=n((e=Is(t,e,n)).key,t);0===o?(i=e.left,r=e.right):o<0?(r=e.right,e.right=null,i=e):(i=e.left,e.left=null,r=e)}return{left:i,right:r}}function Ts(t,e,n,i,r){if(t){i(e+(n?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ")+r(t)+"\n");var o=e+(n?"    ":"\u2502   ");t.left&&Ts(t.left,o,!1,i,r),t.right&&Ts(t.right,o,!0,i,r)}}var Os=function(){function t(t){void 0===t&&(t=Cs),this._root=null,this._size=0,this._comparator=t}return t.prototype.insert=function(t,e){return this._size++,this._root=As(t,e,this._root,this._comparator)},t.prototype.add=function(t,e){var n=new Ss(t,e);null===this._root&&(n.left=n.right=null,this._size++,this._root=n);var i=this._comparator,r=Is(t,this._root,i),o=i(t,r.key);return 0===o?this._root=r:(o<0?(n.left=r.left,n.right=r,r.left=null):o>0&&(n.right=r.right,n.left=r,r.right=null),this._size++,this._root=n),this._root},t.prototype.remove=function(t){this._root=this._remove(t,this._root,this._comparator)},t.prototype._remove=function(t,e,n){var i;return null===e?null:0===n(t,(e=Is(t,e,n)).key)?(null===e.left?i=e.right:(i=Is(t,e.left,n)).right=e.right,this._size--,i):e},t.prototype.pop=function(){var t=this._root;if(t){for(;t.left;)t=t.left;return this._root=Is(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data}}return null},t.prototype.findStatic=function(t){for(var e=this._root,n=this._comparator;e;){var i=n(t,e.key);if(0===i)return e;e=i<0?e.left:e.right}return null},t.prototype.find=function(t){return this._root&&(this._root=Is(t,this._root,this._comparator),0!==this._comparator(t,this._root.key))?null:this._root},t.prototype.contains=function(t){for(var e=this._root,n=this._comparator;e;){var i=n(t,e.key);if(0===i)return!0;e=i<0?e.left:e.right}return!1},t.prototype.forEach=function(t,e){for(var n=this._root,i=[],r=!1;!r;)null!==n?(i.push(n),n=n.left):0!==i.length?(n=i.pop(),t.call(e,n),n=n.right):r=!0;return this},t.prototype.range=function(t,e,n,i){for(var r=[],o=this._comparator,a=this._root;0!==r.length||a;)if(a)r.push(a),a=a.left;else{if(o((a=r.pop()).key,e)>0)break;if(o(a.key,t)>=0&&n.call(i,a))return this;a=a.right}return this},t.prototype.keys=function(){var t=[];return this.forEach(function(e){return t.push(e.key)}),t},t.prototype.values=function(){var t=[];return this.forEach(function(e){return t.push(e.data)}),t},t.prototype.min=function(){return this._root?this.minNode(this._root).key:null},t.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},t.prototype.minNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.left;)t=t.left;return t},t.prototype.maxNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.right;)t=t.right;return t},t.prototype.at=function(t){for(var e=this._root,n=!1,i=0,r=[];!n;)if(e)r.push(e),e=e.left;else if(r.length>0){if(e=r.pop(),i===t)return e;i++,e=e.right}else n=!0;return null},t.prototype.next=function(t){var e=this._root,n=null;if(t.right){for(n=t.right;n.left;)n=n.left;return n}for(var i=this._comparator;e;){var r=i(t.key,e.key);if(0===r)break;r<0?(n=e,e=e.left):e=e.right}return n},t.prototype.prev=function(t){var e=this._root,n=null;if(null!==t.left){for(n=t.left;n.right;)n=n.right;return n}for(var i=this._comparator;e;){var r=i(t.key,e.key);if(0===r)break;r<0?e=e.left:(n=e,e=e.right)}return n},t.prototype.clear=function(){return this._root=null,this._size=0,this},t.prototype.toList=function(){return function(t){for(var e=t,n=[],i=!1,r=new Ss(null,null),o=r;!i;)e?(n.push(e),e=e.left):n.length>0?e=(e=o=o.next=n.pop()).right:i=!0;return o.next=null,r.next}(this._root)},t.prototype.load=function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=!1);var i=t.length,r=this._comparator;if(n&&Ns(t,e,0,i-1,r),null===this._root)this._root=Ls(t,e,0,i),this._size=i;else{var o=function(t,e,n){for(var i=new Ss(null,null),r=i,o=t,a=e;null!==o&&null!==a;)n(o.key,a.key)<0?(r.next=o,o=o.next):(r.next=a,a=a.next),r=r.next;return null!==o?r.next=o:null!==a&&(r.next=a),i.next}(this.toList(),function(t,e){for(var n=new Ss(null,null),i=n,r=0;r<t.length;r++)i=i.next=new Ss(t[r],e[r]);return i.next=null,n.next}(t,e),r);this._root=Ms({head:o},0,i=this._size+i)}return this},t.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),t.prototype.toString=function(t){void 0===t&&(t=function(t){return String(t.key)});var e=[];return Ts(this._root,"",!0,function(t){return e.push(t)},t),e.join("")},t.prototype.update=function(t,e,n){var i=this._comparator,r=Ps(t,this._root,i),o=r.left,a=r.right;i(t,e)<0?a=As(e,n,a,i):o=As(e,n,o,i),this._root=function(t,e,n){return null===e?t:(null===t||((e=Is(t.key,e,n)).left=t),e)}(o,a,i)},t.prototype.split=function(t){return Ps(t,this._root,this._comparator)},t}();function Ls(t,e,n,i){var r=i-n;if(r>0){var o=n+Math.floor(r/2),a=new Ss(t[o],e[o]);return a.left=Ls(t,e,n,o),a.right=Ls(t,e,o+1,i),a}return null}function Ms(t,e,n){var i=n-e;if(i>0){var r=e+Math.floor(i/2),o=Ms(t,e,r),a=t.head;return a.left=o,t.head=t.head.next,a.right=Ms(t,r+1,n),a}return null}function Ns(t,e,n,i,r){if(!(n>=i)){for(var o=t[n+i>>1],a=n-1,s=i+1;;){do{a++}while(r(t[a],o)<0);do{s--}while(r(t[s],o)>0);if(a>=s)break;var u=t[a];t[a]=t[s],t[s]=u,u=e[a],e[a]=e[s],e[s]=u}Ns(t,e,n,s,r),Ns(t,e,s+1,i,r)}}function Rs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ds(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function zs(t,e,n){return e&&Ds(t.prototype,e),n&&Ds(t,n),t}var Fs=function(t,e){return t.ll.x<=e.x&&e.x<=t.ur.x&&t.ll.y<=e.y&&e.y<=t.ur.y},Bs=function(t,e){return e.ur.x<t.ll.x||t.ur.x<e.ll.x||e.ur.y<t.ll.y||t.ur.y<e.ll.y?null:{ll:{x:t.ll.x<e.ll.x?e.ll.x:t.ll.x,y:t.ll.y<e.ll.y?e.ll.y:t.ll.y},ur:{x:t.ur.x<e.ur.x?t.ur.x:e.ur.x,y:t.ur.y<e.ur.y?t.ur.y:e.ur.y}}},js=Number.EPSILON;void 0===js&&(js=Math.pow(2,-52));var Vs=js*js,Us=function(t,e){if(-js<t&&t<js&&-js<e&&e<js)return 0;var n=t-e;return n*n<Vs*t*e?0:t<e?-1:1},qs=function(){function t(){Rs(this,t),this.reset()}return zs(t,[{key:"reset",value:function(){this.xRounder=new Gs,this.yRounder=new Gs}},{key:"round",value:function(t,e){return{x:this.xRounder.round(t),y:this.yRounder.round(e)}}}]),t}(),Gs=function(){function t(){Rs(this,t),this.tree=new Os,this.round(0)}return zs(t,[{key:"round",value:function(t){var e=this.tree.add(t),n=this.tree.prev(e);if(null!==n&&0===Us(e.key,n.key))return this.tree.remove(t),n.key;var i=this.tree.next(e);return null!==i&&0===Us(e.key,i.key)?(this.tree.remove(t),i.key):t}}]),t}(),Hs=new qs,Ws=function(t,e){return t.x*e.y-t.y*e.x},Ys=function(t,e){return t.x*e.x+t.y*e.y},Zs=function(t,e,n){var i=Ws({x:e.x-t.x,y:e.y-t.y},{x:n.x-t.x,y:n.y-t.y});return Us(i,0)},Xs=function(t){return Math.sqrt(Ys(t,t))},Ks=function(t,e,n){var i={x:e.x-t.x,y:e.y-t.y},r={x:n.x-t.x,y:n.y-t.y};return Ys(r,i)/Xs(r)/Xs(i)},$s=function(t,e,n){return 0===e.y?null:{x:t.x+e.x/e.y*(n-t.y),y:n}},Js=function(t,e,n){return 0===e.x?null:{x:n,y:t.y+e.y/e.x*(n-t.x)}},Qs=function(){function t(e,n){Rs(this,t),void 0===e.events?e.events=[this]:e.events.push(this),this.point=e,this.isLeft=n}return zs(t,null,[{key:"compare",value:function(e,n){var i=t.comparePoints(e.point,n.point);return 0!==i?i:(e.point!==n.point&&e.link(n),e.isLeft!==n.isLeft?e.isLeft?1:-1:eu.compare(e.segment,n.segment))}},{key:"comparePoints",value:function(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}}]),zs(t,[{key:"link",value:function(t){if(t.point===this.point)throw new Error("Tried to link already linked events");for(var e=t.point.events,n=0,i=e.length;n<i;n++){var r=e[n];this.point.events.push(r),r.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var t=this.point.events.length,e=0;e<t;e++){var n=this.point.events[e];if(void 0===n.segment.consumedBy)for(var i=e+1;i<t;i++){var r=this.point.events[i];void 0===r.consumedBy&&n.otherSE.point.events===r.otherSE.point.events&&n.segment.consume(r.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var t=[],e=0,n=this.point.events.length;e<n;e++){var i=this.point.events[e];i!==this&&!i.segment.ringOut&&i.segment.isInResult()&&t.push(i)}return t}},{key:"getLeftmostComparator",value:function(t){var e=this,n=new Map,i=function(i){var r,o,a,s,u,l=i.otherSE;n.set(i,{sine:(r=e.point,o=t.point,a=l.point,s={x:o.x-r.x,y:o.y-r.y},u={x:a.x-r.x,y:a.y-r.y},Ws(u,s)/Xs(u)/Xs(s)),cosine:Ks(e.point,t.point,l.point)})};return function(t,e){n.has(t)||i(t),n.has(e)||i(e);var r=n.get(t),o=r.sine,a=r.cosine,s=n.get(e),u=s.sine,l=s.cosine;return o>=0&&u>=0?a<l?1:a>l?-1:0:o<0&&u<0?a<l?-1:a>l?1:0:u<o?-1:u>o?1:0}}}]),t}(),tu=0,eu=function(){function t(e,n,i,r){Rs(this,t),this.id=++tu,this.leftSE=e,e.segment=this,e.otherSE=n,this.rightSE=n,n.segment=this,n.otherSE=e,this.rings=i,this.windings=r}return zs(t,null,[{key:"compare",value:function(t,e){var n=t.leftSE.point.x,i=e.leftSE.point.x,r=t.rightSE.point.x,o=e.rightSE.point.x;if(o<n)return 1;if(r<i)return-1;var a=t.leftSE.point.y,s=e.leftSE.point.y,u=t.rightSE.point.y,l=e.rightSE.point.y;if(n<i){if(s<a&&s<u)return 1;if(s>a&&s>u)return-1;var c=t.comparePoint(e.leftSE.point);if(c<0)return 1;if(c>0)return-1;var h=e.comparePoint(t.rightSE.point);return 0!==h?h:-1}if(n>i){if(a<s&&a<l)return-1;if(a>s&&a>l)return 1;var p=e.comparePoint(t.leftSE.point);if(0!==p)return p;var f=t.comparePoint(e.rightSE.point);return f<0?1:f>0?-1:1}if(a<s)return-1;if(a>s)return 1;if(r<o){var d=e.comparePoint(t.rightSE.point);if(0!==d)return d}if(r>o){var g=t.comparePoint(e.rightSE.point);if(g<0)return 1;if(g>0)return-1}if(r!==o){var m=u-a,_=r-n,y=l-s,v=o-i;if(m>_&&y<v)return 1;if(m<_&&y>v)return-1}return r>o?1:r<o||u<l?-1:u>l?1:t.id<e.id?-1:t.id>e.id?1:0}}]),zs(t,[{key:"replaceRightSE",value:function(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var t=this.leftSE.point.y,e=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<e?t:e},ur:{x:this.rightSE.point.x,y:t>e?t:e}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}},{key:"comparePoint",value:function(t){if(this.isAnEndpoint(t))return 0;var e=this.leftSE.point,n=this.rightSE.point,i=this.vector();if(e.x===n.x)return t.x===e.x?0:t.x<e.x?1:-1;if(t.x===e.x+(t.y-e.y)/i.y*i.x)return 0;var r=e.y+(t.x-e.x)/i.x*i.y;return t.y===r?0:t.y<r?-1:1}},{key:"getIntersection",value:function(t){var e=this.bbox(),n=t.bbox(),i=Bs(e,n);if(null===i)return null;var r=this.leftSE.point,o=this.rightSE.point,a=t.leftSE.point,s=t.rightSE.point,u=Fs(e,a)&&0===this.comparePoint(a),l=Fs(n,r)&&0===t.comparePoint(r),c=Fs(e,s)&&0===this.comparePoint(s),h=Fs(n,o)&&0===t.comparePoint(o);if(l&&u)return h&&!c?o:!h&&c?s:null;if(l)return c&&r.x===s.x&&r.y===s.y?null:r;if(u)return h&&o.x===a.x&&o.y===a.y?null:a;if(h&&c)return null;if(h)return o;if(c)return s;var p=function(t,e,n,i){if(0===e.x)return Js(n,i,t.x);if(0===i.x)return Js(t,e,n.x);if(0===e.y)return $s(n,i,t.y);if(0===i.y)return $s(t,e,n.y);var r=Ws(e,i);if(0==r)return null;var o={x:n.x-t.x,y:n.y-t.y},a=Ws(o,e)/r,s=Ws(o,i)/r;return{x:(t.x+s*e.x+(n.x+a*i.x))/2,y:(t.y+s*e.y+(n.y+a*i.y))/2}}(r,this.vector(),a,t.vector());return null===p?null:Fs(i,p)?Hs.round(p.x,p.y):null}},{key:"split",value:function(e){var n=[],i=void 0!==e.events,r=new Qs(e,!0),o=new Qs(e,!1),a=this.rightSE;this.replaceRightSE(o),n.push(o),n.push(r);var s=new t(r,a,this.rings.slice(),this.windings.slice());return Qs.comparePoints(s.leftSE.point,s.rightSE.point)>0&&s.swapEvents(),Qs.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),i&&(r.checkForConsuming(),o.checkForConsuming()),n}},{key:"swapEvents",value:function(){var t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var e=0,n=this.windings.length;e<n;e++)this.windings[e]*=-1}},{key:"consume",value:function(e){for(var n=this,i=e;n.consumedBy;)n=n.consumedBy;for(;i.consumedBy;)i=i.consumedBy;var r=t.compare(n,i);if(0!==r){if(r>0){var o=n;n=i,i=o}if(n.prev===i){var a=n;n=i,i=a}for(var s=0,u=i.rings.length;s<u;s++){var l=i.rings[s],c=i.windings[s],h=n.rings.indexOf(l);-1===h?(n.rings.push(l),n.windings.push(c)):n.windings[h]+=c}i.rings=null,i.windings=null,i.consumedBy=n,i.leftSE.consumedBy=n.leftSE,i.rightSE.consumedBy=n.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this._prevInResult=this.prev?this.prev.isInResult()?this.prev:this.prev.prevInResult():null),this._prevInResult}},{key:"beforeState",value:function(){return void 0!==this._beforeState||(this._beforeState=this.prev?(this.prev.consumedBy||this.prev).afterState():{rings:[],windings:[],multiPolys:[]}),this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};for(var e=this._afterState.rings,n=this._afterState.windings,i=this._afterState.multiPolys,r=0,o=this.rings.length;r<o;r++){var a=this.rings[r],s=this.windings[r],u=e.indexOf(a);-1===u?(e.push(a),n.push(s)):n[u]+=s}for(var l=[],c=[],h=0,p=e.length;h<p;h++)if(0!==n[h]){var f=e[h],d=f.poly;if(-1===c.indexOf(d))if(f.isExterior)l.push(d);else{-1===c.indexOf(d)&&c.push(d);var g=l.indexOf(f.poly);-1!==g&&l.splice(g,1)}}for(var m=0,_=l.length;m<_;m++){var y=l[m].multiPoly;-1===i.indexOf(y)&&i.push(y)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var t=this.beforeState().multiPolys,e=this.afterState().multiPolys;switch(hu.type){case"union":this._isInResult=0===t.length!=(0===e.length);break;case"intersection":var n,i;t.length<e.length?(n=t.length,i=e.length):(n=e.length,i=t.length),this._isInResult=i===hu.numMultiPolys&&n<i;break;case"xor":var r=Math.abs(t.length-e.length);this._isInResult=r%2==1;break;case"difference":var o=function(t){return 1===t.length&&t[0].isSubject};this._isInResult=o(t)!==o(e);break;default:throw new Error("Unrecognized operation type found ".concat(hu.type))}return this._isInResult}}],[{key:"fromRing",value:function(e,n,i){var r,o,a,s=Qs.comparePoints(e,n);if(s<0)r=e,o=n,a=1;else{if(!(s>0))throw new Error("Tried to create degenerate segment at [".concat(e.x,", ").concat(e.y,"]"));r=n,o=e,a=-1}return new t(new Qs(r,!0),new Qs(o,!1),[i],[a])}}]),t}(),nu=function(){function t(e,n,i){if(Rs(this,t),!Array.isArray(e)||0===e.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=n,this.isExterior=i,this.segments=[],"number"!=typeof e[0][0]||"number"!=typeof e[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var r=Hs.round(e[0][0],e[0][1]);this.bbox={ll:{x:r.x,y:r.y},ur:{x:r.x,y:r.y}};for(var o=r,a=1,s=e.length;a<s;a++){if("number"!=typeof e[a][0]||"number"!=typeof e[a][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var u=Hs.round(e[a][0],e[a][1]);u.x===o.x&&u.y===o.y||(this.segments.push(eu.fromRing(o,u,this)),u.x<this.bbox.ll.x&&(this.bbox.ll.x=u.x),u.y<this.bbox.ll.y&&(this.bbox.ll.y=u.y),u.x>this.bbox.ur.x&&(this.bbox.ur.x=u.x),u.y>this.bbox.ur.y&&(this.bbox.ur.y=u.y),o=u)}r.x===o.x&&r.y===o.y||this.segments.push(eu.fromRing(o,r,this))}return zs(t,[{key:"getSweepEvents",value:function(){for(var t=[],e=0,n=this.segments.length;e<n;e++){var i=this.segments[e];t.push(i.leftSE),t.push(i.rightSE)}return t}}]),t}(),iu=function(){function t(e,n){if(Rs(this,t),!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new nu(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var i=1,r=e.length;i<r;i++){var o=new nu(e[i],this,!1);o.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=o.bbox.ll.x),o.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=o.bbox.ll.y),o.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=o.bbox.ur.x),o.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=o.bbox.ur.y),this.interiorRings.push(o)}this.multiPoly=n}return zs(t,[{key:"getSweepEvents",value:function(){for(var t=this.exteriorRing.getSweepEvents(),e=0,n=this.interiorRings.length;e<n;e++)for(var i=this.interiorRings[e].getSweepEvents(),r=0,o=i.length;r<o;r++)t.push(i[r]);return t}}]),t}(),ru=function(){function t(e,n){if(Rs(this,t),!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof e[0][0][0]&&(e=[e])}catch(t){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var i=0,r=e.length;i<r;i++){var o=new iu(e[i],this);o.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=o.bbox.ll.x),o.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=o.bbox.ll.y),o.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=o.bbox.ur.x),o.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=o.bbox.ur.y),this.polys.push(o)}this.isSubject=n}return zs(t,[{key:"getSweepEvents",value:function(){for(var t=[],e=0,n=this.polys.length;e<n;e++)for(var i=this.polys[e].getSweepEvents(),r=0,o=i.length;r<o;r++)t.push(i[r]);return t}}]),t}(),ou=function(){function t(e){Rs(this,t),this.events=e;for(var n=0,i=e.length;n<i;n++)e[n].segment.ringOut=this;this.poly=null}return zs(t,null,[{key:"factory",value:function(e){for(var n=[],i=0,r=e.length;i<r;i++){var o=e[i];if(o.isInResult()&&!o.ringOut){for(var a=null,s=o.leftSE,u=o.rightSE,l=[s],c=s.point,h=[];a=s,l.push(s=u),s.point!==c;)for(;;){var p=s.getAvailableLinkedEvents();if(0===p.length){var f=l[0].point,d=l[l.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(f.x,",")+" ".concat(f.y,"]. Last matching segment found ends at")+" [".concat(d.x,", ").concat(d.y,"]."))}if(1===p.length){u=p[0].otherSE;break}for(var g=null,m=0,_=h.length;m<_;m++)if(h[m].point===s.point){g=m;break}if(null===g){h.push({index:l.length,point:s.point});var y=s.getLeftmostComparator(a);u=p.sort(y)[0].otherSE;break}var v=h.splice(g)[0],b=l.splice(v.index);b.unshift(b[0].otherSE),n.push(new t(b.reverse()))}n.push(new t(l))}}return n}}]),zs(t,[{key:"getGeom",value:function(){for(var t=this.events[0].point,e=[t],n=1,i=this.events.length-1;n<i;n++){var r=this.events[n].point;0!==Zs(r,t,this.events[n+1].point)&&(e.push(r),t=r)}if(1===e.length)return null;0===Zs(e[0],t,e[1])&&e.shift(),e.push(e[0]);for(var o=this.isExteriorRing()?1:-1,a=this.isExteriorRing()?0:e.length-1,s=this.isExteriorRing()?e.length:-1,u=[],l=a;l!=s;l+=o)u.push([e[l].x,e[l].y]);return u}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var t=this.enclosingRing();this._isExteriorRing=!t||!t.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var t=this.events[0],e=1,n=this.events.length;e<n;e++){var i=this.events[e];Qs.compare(t,i)>0&&(t=i)}for(var r=t.segment.prevInResult(),o=r?r.prevInResult():null;;){if(!r)return null;if(!o)return r.ringOut;if(o.ringOut!==r.ringOut)return o.ringOut.enclosingRing()!==r.ringOut?r.ringOut:r.ringOut.enclosingRing();r=o.prevInResult(),o=r?r.prevInResult():null}}}]),t}(),au=function(){function t(e){Rs(this,t),this.exteriorRing=e,e.poly=this,this.interiorRings=[]}return zs(t,[{key:"addInterior",value:function(t){this.interiorRings.push(t),t.poly=this}},{key:"getGeom",value:function(){var t=[this.exteriorRing.getGeom()];if(null===t[0])return null;for(var e=0,n=this.interiorRings.length;e<n;e++){var i=this.interiorRings[e].getGeom();null!==i&&t.push(i)}return t}}]),t}(),su=function(){function t(e){Rs(this,t),this.rings=e,this.polys=this._composePolys(e)}return zs(t,[{key:"getGeom",value:function(){for(var t=[],e=0,n=this.polys.length;e<n;e++){var i=this.polys[e].getGeom();null!==i&&t.push(i)}return t}},{key:"_composePolys",value:function(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n];if(!r.poly)if(r.isExteriorRing())e.push(new au(r));else{var o=r.enclosingRing();o.poly||e.push(new au(o)),o.poly.addInterior(r)}}return e}}]),t}(),uu=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eu.compare;Rs(this,t),this.queue=e,this.tree=new Os(n),this.segments=[]}return zs(t,[{key:"process",value:function(t){var e=t.segment,n=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(e),n;var i=t.isLeft?this.tree.insert(e):this.tree.find(e);if(!i)throw new Error("Unable to find segment #".concat(e.id," ")+"[".concat(e.leftSE.point.x,", ").concat(e.leftSE.point.y,"] -> ")+"[".concat(e.rightSE.point.x,", ").concat(e.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var r=i,o=i,a=void 0,s=void 0;void 0===a;)null===(r=this.tree.prev(r))?a=null:void 0===r.key.consumedBy&&(a=r.key);for(;void 0===s;)null===(o=this.tree.next(o))?s=null:void 0===o.key.consumedBy&&(s=o.key);if(t.isLeft){var u=null;if(a){var l=a.getIntersection(e);if(null!==l&&(e.isAnEndpoint(l)||(u=l),!a.isAnEndpoint(l)))for(var c=this._splitSafely(a,l),h=0,p=c.length;h<p;h++)n.push(c[h])}var f=null;if(s){var d=s.getIntersection(e);if(null!==d&&(e.isAnEndpoint(d)||(f=d),!s.isAnEndpoint(d)))for(var g=this._splitSafely(s,d),m=0,_=g.length;m<_;m++)n.push(g[m])}if(null!==u||null!==f){var y;y=null===u?f:null===f||Qs.comparePoints(u,f)<=0?u:f,this.queue.remove(e.rightSE),n.push(e.rightSE);for(var v=e.split(y),b=0,w=v.length;b<w;b++)n.push(v[b])}n.length>0?(this.tree.remove(e),n.push(t)):(this.segments.push(e),e.prev=a)}else{if(a&&s){var x=a.getIntersection(s);if(null!==x){if(!a.isAnEndpoint(x))for(var k=this._splitSafely(a,x),E=0,S=k.length;E<S;E++)n.push(k[E]);if(!s.isAnEndpoint(x))for(var C=this._splitSafely(s,x),I=0,A=C.length;I<A;I++)n.push(C[I])}}this.tree.remove(e)}return n}},{key:"_splitSafely",value:function(t,e){this.tree.remove(t);var n=t.rightSE;this.queue.remove(n);var i=t.split(e);return i.push(n),void 0===t.consumedBy&&this.tree.insert(t),i}}]),t}(),lu="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,cu="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,hu=new(function(){function t(){Rs(this,t)}return zs(t,[{key:"run",value:function(t,e,n){hu.type=t,Hs.reset();for(var i=[new ru(e,!0)],r=0,o=n.length;r<o;r++)i.push(new ru(n[r],!1));if(hu.numMultiPolys=i.length,"difference"===hu.type)for(var a=i[0],s=1;s<i.length;)null!==Bs(i[s].bbox,a.bbox)?s++:i.splice(s,1);if("intersection"===hu.type)for(var u=0,l=i.length;u<l;u++)for(var c=i[u],h=u+1,p=i.length;h<p;h++)if(null===Bs(c.bbox,i[h].bbox))return[];for(var f=new Os(Qs.compare),d=0,g=i.length;d<g;d++)for(var m=i[d].getSweepEvents(),_=0,y=m.length;_<y;_++)if(f.insert(m[_]),f.size>lu)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var v=new uu(f),b=f.size,w=f.pop();w;){var x=w.key;if(f.size===b){var k=x.segment;throw new Error("Unable to pop() ".concat(x.isLeft?"left":"right"," SweepEvent ")+"[".concat(x.point.x,", ").concat(x.point.y,"] from segment #").concat(k.id," ")+"[".concat(k.leftSE.point.x,", ").concat(k.leftSE.point.y,"] -> ")+"[".concat(k.rightSE.point.x,", ").concat(k.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(f.size>lu)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(v.segments.length>cu)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var E=v.process(x),S=0,C=E.length;S<C;S++){var I=E[S];void 0===I.consumedBy&&f.insert(I)}b=f.size,w=f.pop()}Hs.reset();var A=ou.factory(v.segments);return new su(A).getGeom()}}]),t}()),pu={union:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return hu.run("union",t,n)},intersection:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return hu.run("intersection",t,n)},xor:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return hu.run("xor",t,n)},difference:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return hu.run("difference",t,n)}};"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,i=1 in arguments&&parseInt(Number(arguments[1]),10)||0;i=i<0?Math.max(n+i,0):Math.min(i,n);var r=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(r=r<0?Math.max(n+arguments[2],0):Math.min(r,n);i<r;)e[i]=t,++i;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var fu=function(){};fu.prototype.interfaces_=function(){return[]},fu.prototype.getClass=function(){return fu},fu.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var du=function(t){function e(e){t.call(this,e),this.name="IllegalArgumentException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),gu=function(){},mu={MAX_VALUE:{configurable:!0}};gu.isNaN=function(t){return Number.isNaN(t)},gu.doubleToLongBits=function(t){return t},gu.longBitsToDouble=function(t){return t},gu.isInfinite=function(t){return!Number.isFinite(t)},mu.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(gu,mu);var _u=function(){},yu=function(){},vu=function(){};function bu(){}var wu=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},xu={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};wu.prototype.setOrdinate=function(t,e){switch(t){case wu.X:this.x=e;break;case wu.Y:this.y=e;break;case wu.Z:this.z=e;break;default:throw new du("Invalid ordinate index: "+t)}},wu.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!fu.equalsWithTolerance(this.x,e.x,n)&&!!fu.equalsWithTolerance(this.y,e.y,n)}},wu.prototype.getOrdinate=function(t){switch(t){case wu.X:return this.x;case wu.Y:return this.y;case wu.Z:return this.z}throw new du("Invalid ordinate index: "+t)},wu.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||gu.isNaN(this.z))&&gu.isNaN(t.z)},wu.prototype.equals=function(t){return t instanceof wu&&this.equals2D(t)},wu.prototype.equalInZ=function(t,e){return fu.equalsWithTolerance(this.z,t.z,e)},wu.prototype.compareTo=function(t){return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0},wu.prototype.clone=function(){},wu.prototype.copy=function(){return new wu(this)},wu.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},wu.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return Math.sqrt(e*e+n*n+i*i)},wu.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},wu.prototype.hashCode=function(){var t=17;return 37*(t=37*t+wu.hashCode(this.x))+wu.hashCode(this.y)},wu.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},wu.prototype.interfaces_=function(){return[_u,yu,bu]},wu.prototype.getClass=function(){return wu},wu.hashCode=function(){if(1===arguments.length){var t=gu.doubleToLongBits(arguments[0]);return Math.trunc((t^t)>>>32)}},xu.DimensionalComparator.get=function(){return ku},xu.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},xu.NULL_ORDINATE.get=function(){return gu.NaN},xu.X.get=function(){return 0},xu.Y.get=function(){return 1},xu.Z.get=function(){return 2},Object.defineProperties(wu,xu);var ku=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new du("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};ku.prototype.compare=function(t,e){var n=t,i=e,r=ku.compare(n.x,i.x);if(0!==r)return r;var o=ku.compare(n.y,i.y);return 0!==o?o:this._dimensionsToTest<=2?0:ku.compare(n.z,i.z)},ku.prototype.interfaces_=function(){return[vu]},ku.prototype.getClass=function(){return ku},ku.compare=function(t,e){return t<e?-1:t>e?1:gu.isNaN(t)?gu.isNaN(e)?0:-1:gu.isNaN(e)?1:0};var Eu=function(){};Eu.prototype.create=function(){},Eu.prototype.interfaces_=function(){return[]},Eu.prototype.getClass=function(){return Eu};var Su=function(){},Cu={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};Su.prototype.interfaces_=function(){return[]},Su.prototype.getClass=function(){return Su},Su.toLocationSymbol=function(t){switch(t){case Su.EXTERIOR:return"e";case Su.BOUNDARY:return"b";case Su.INTERIOR:return"i";case Su.NONE:return"-"}throw new du("Unknown location value: "+t)},Cu.INTERIOR.get=function(){return 0},Cu.BOUNDARY.get=function(){return 1},Cu.EXTERIOR.get=function(){return 2},Cu.NONE.get=function(){return-1},Object.defineProperties(Su,Cu);var Iu=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},Au=function(){},Pu={LOG_10:{configurable:!0}};Au.prototype.interfaces_=function(){return[]},Au.prototype.getClass=function(){return Au},Au.log10=function(t){var e=Math.log(t);return gu.isInfinite(e)||gu.isNaN(e)?e:e/Au.LOG_10},Au.min=function(t,e,n,i){var r=t;return e<r&&(r=e),n<r&&(r=n),i<r&&(r=i),r},Au.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],r=arguments[1],o=arguments[2];return i<r?r:i>o?o:i}},Au.wrap=function(t,e){return t<0?e- -t%e:t%e},Au.max=function(){if(3===arguments.length){var t=arguments[1],e=arguments[2],n=arguments[0];return t>n&&(n=t),e>n&&(n=e),n}if(4===arguments.length){var i=arguments[1],r=arguments[2],o=arguments[3],a=arguments[0];return i>a&&(a=i),r>a&&(a=r),o>a&&(a=o),a}},Au.average=function(t,e){return(t+e)/2},Pu.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(Au,Pu);var Tu=function(t){this.str=t};Tu.prototype.append=function(t){this.str+=t},Tu.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},Tu.prototype.toString=function(t){return this.str};var Ou=function(t){this.value=t};Ou.prototype.intValue=function(){return this.value},Ou.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},Ou.isNaN=function(t){return Number.isNaN(t)};var Lu=function(){};Lu.isWhitespace=function(t){return t<=32&&t>=0||127===t},Lu.toUpperCase=function(t){return t.toUpperCase()};var Mu=function t(){this._hi=0,this._lo=0,0===arguments.length?this.init(0):1===arguments.length?"number"==typeof arguments[0]||arguments[0]instanceof t?this.init(arguments[0]):"string"==typeof arguments[0]&&t.call(this,t.parse(arguments[0])):2===arguments.length&&this.init(arguments[0],arguments[1])},Nu={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};Mu.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},Mu.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),i=Mu.magnitude(n._hi),r=Mu.TEN.pow(i);(n=n.divide(r)).gt(Mu.TEN)?(n=n.divide(Mu.TEN),i+=1):n.lt(Mu.ONE)&&(n=n.multiply(Mu.TEN),i-=1);for(var o=i+1,a=new Tu,s=Mu.MAX_PRINT_DIGITS-1,u=0;u<=s;u++){t&&u===o&&a.append(".");var l=Math.trunc(n._hi);if(l<0)break;var c=!1,h=0;l>9?(c=!0,h="9"):h="0"+l,a.append(h),n=n.subtract(Mu.valueOf(l)).multiply(Mu.TEN),c&&n.selfAdd(Mu.TEN);var p=!0,f=Mu.magnitude(n._hi);if(f<0&&Math.abs(f)>=s-u&&(p=!1),!p)break}return e[0]=i,a.toString()},Mu.prototype.sqr=function(){return this.multiply(this)},Mu.prototype.doubleValue=function(){return this._hi+this._lo},Mu.prototype.subtract=function(){return arguments[0]instanceof Mu?this.add(arguments[0].negate()):"number"==typeof arguments[0]?this.add(-arguments[0]):void 0},Mu.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},Mu.prototype.isZero=function(){return 0===this._hi&&0===this._lo},Mu.prototype.selfSubtract=function(){if(arguments[0]instanceof Mu){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},Mu.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},Mu.prototype.min=function(t){return this.le(t)?this:t},Mu.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof Mu){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0])return this.selfDivide(arguments[0],0)}else if(2===arguments.length){var e=arguments[0],n=null,i=null,r=null,o=null,a=null,s=null,u=null,l=null;return l=(n=(s=Mu.SPLIT*(a=this._hi/e))-(n=s-a))*(r=(l=Mu.SPLIT*e)-(r=l-e))-(u=a*e)+n*(o=e-r)+(i=a-n)*r+i*o,l=a+(s=(this._hi-u-l+this._lo-a*arguments[1])/e),this._hi=l,this._lo=a-l+s,this}},Mu.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},Mu.prototype.divide=function(){if(arguments[0]instanceof Mu){var t=arguments[0],e=null,n=null,i=null,r=null,o=null,a=null,s=null,u=null;n=(o=this._hi/t._hi)-(e=(a=Mu.SPLIT*o)-(e=a-o)),u=e*(i=(u=Mu.SPLIT*t._hi)-(i=u-t._hi))-(s=o*t._hi)+e*(r=t._hi-i)+n*i+n*r;var l=u=o+(a=(this._hi-s-u+this._lo-o*t._lo)/t._hi);return new Mu(l,o-u+a)}if("number"==typeof arguments[0]){var c=arguments[0];return gu.isNaN(c)?Mu.createNaN():Mu.copy(this).selfDivide(c,0)}},Mu.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},Mu.prototype.pow=function(t){if(0===t)return Mu.valueOf(1);var e=new Mu(this),n=Mu.valueOf(1),i=Math.abs(t);if(i>1)for(;i>0;)i%2==1&&n.selfMultiply(e),(i/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},Mu.prototype.ceil=function(){if(this.isNaN())return Mu.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new Mu(t,e)},Mu.prototype.compareTo=function(t){return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0},Mu.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},Mu.prototype.setValue=function(){return arguments[0]instanceof Mu||"number"==typeof arguments[0]?(this.init(arguments[0]),this):void 0},Mu.prototype.max=function(t){return this.ge(t)?this:t},Mu.prototype.sqrt=function(){if(this.isZero())return Mu.valueOf(0);if(this.isNegative())return Mu.NaN;var t=1/Math.sqrt(this._hi),e=Mu.valueOf(this._hi*t),n=this.subtract(e.sqr())._hi*(.5*t);return e.add(n)},Mu.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof Mu){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,i=null,r=null,o=null,a=null,s=null;return o=(r=this._hi+e)-(a=r-this._hi),i=(s=(o=e-a+(this._hi-o))+this._lo)+(r-(n=r+s)),this._hi=n+i,this._lo=i+(n-this._hi),this}}else if(2===arguments.length){var u=arguments[0],l=arguments[1],c=null,h=null,p=null,f=null,d=null,g=null,m=null;d=(f=this._hi+u)-(g=f-this._hi),p=(h=this._lo+l)-(m=h-this._lo);var _=(c=f+(g=(d=u-g+(this._hi-d))+h))+(g=(p=l-m+(this._lo-p))+(g+(f-c))),y=g+(c-_);return this._hi=_,this._lo=y,this}},Mu.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof Mu){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0])return this.selfMultiply(arguments[0],0)}else if(2===arguments.length){var e=arguments[0],n=null,i=null,r=null,o=null,a=null,s=null;n=(a=Mu.SPLIT*this._hi)-this._hi,n=a-n;var u=(a=this._hi*e)+(s=n*(r=(s=Mu.SPLIT*e)-(r=s-e))-a+n*(o=e-r)+(i=this._hi-n)*r+i*o+(this._hi*arguments[1]+this._lo*e)),l=s+(n=a-u);return this._hi=u,this._lo=l,this}},Mu.prototype.selfSqr=function(){return this.selfMultiply(this)},Mu.prototype.floor=function(){if(this.isNaN())return Mu.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new Mu(t,e)},Mu.prototype.negate=function(){return this.isNaN()?this:new Mu(-this._hi,-this._lo)},Mu.prototype.clone=function(){},Mu.prototype.multiply=function(){if(arguments[0]instanceof Mu){var t=arguments[0];return t.isNaN()?Mu.createNaN():Mu.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return gu.isNaN(e)?Mu.createNaN():Mu.copy(this).selfMultiply(e,0)}},Mu.prototype.isNaN=function(){return gu.isNaN(this._hi)},Mu.prototype.intValue=function(){return Math.trunc(this._hi)},Mu.prototype.toString=function(){var t=Mu.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},Mu.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),i=e[0]+1,r=n;return"."===n.charAt(0)?r="0"+n:i<0?r="0."+Mu.stringOfChar("0",-i)+n:-1===n.indexOf(".")&&(r=n+Mu.stringOfChar("0",i-n.length)+".0"),this.isNegative()?"-"+r:r},Mu.prototype.reciprocal=function(){var t,e,n,i,r=null,o=null,a=null,s=null;t=(n=1/this._hi)-(r=(a=Mu.SPLIT*n)-(r=a-n)),o=(s=Mu.SPLIT*this._hi)-this._hi;var u=n+(a=(1-(i=n*this._hi)-(s=r*(o=s-o)-i+r*(e=this._hi-o)+t*o+t*e)-n*this._lo)/this._hi);return new Mu(u,n-u+a)},Mu.prototype.toSciNotation=function(){if(this.isZero())return Mu.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),i=Mu.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var r="";n.length>1&&(r=n.substring(1));var o=n.charAt(0)+"."+r;return this.isNegative()?"-"+o+i:o+i},Mu.prototype.abs=function(){return this.isNaN()?Mu.NaN:this.isNegative()?this.negate():new Mu(this)},Mu.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},Mu.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},Mu.prototype.add=function(){if(arguments[0]instanceof Mu){var t=arguments[0];return Mu.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return Mu.copy(this).selfAdd(e)}},Mu.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0])this._hi=arguments[0],this._lo=0;else if(arguments[0]instanceof Mu){var t=arguments[0];this._hi=t._hi,this._lo=t._lo}}else if(2===arguments.length){var e=arguments[1];this._hi=arguments[0],this._lo=e}},Mu.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},Mu.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},Mu.prototype.trunc=function(){return this.isNaN()?Mu.NaN:this.isPositive()?this.floor():this.ceil()},Mu.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},Mu.prototype.interfaces_=function(){return[bu,_u,yu]},Mu.prototype.getClass=function(){return Mu},Mu.sqr=function(t){return Mu.valueOf(t).selfMultiply(t)},Mu.valueOf=function(){return"string"==typeof arguments[0]?Mu.parse(arguments[0]):"number"==typeof arguments[0]?new Mu(arguments[0]):void 0},Mu.sqrt=function(t){return Mu.valueOf(t).sqrt()},Mu.parse=function(t){for(var e=0,n=t.length;Lu.isWhitespace(t.charAt(e));)e++;var i=!1;if(e<n){var r=t.charAt(e);"-"!==r&&"+"!==r||(e++,"-"===r&&(i=!0))}for(var o=new Mu,a=0,s=0,u=0;!(e>=n);){var l=t.charAt(e);if(e++,Lu.isDigit(l)){var c=l-"0";o.selfMultiply(Mu.TEN),o.selfAdd(c),a++}else{if("."!==l){if("e"===l||"E"===l){var h=t.substring(e);try{u=Ou.parseInt(h)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+h+" in string "+t):e}break}throw new Error("Unexpected character '"+l+"' at position "+e+" in string "+t)}s=a}}var p=o,f=a-s-u;if(0===f)p=o;else if(f>0){var d=Mu.TEN.pow(f);p=o.divide(d)}else if(f<0){var g=Mu.TEN.pow(-f);p=o.multiply(g)}return i?p.negate():p},Mu.createNaN=function(){return new Mu(gu.NaN,gu.NaN)},Mu.copy=function(t){return new Mu(t)},Mu.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),i=Math.trunc(Math.floor(n));return 10*Math.pow(10,i)<=e&&(i+=1),i},Mu.stringOfChar=function(t,e){for(var n=new Tu,i=0;i<e;i++)n.append(t);return n.toString()},Nu.PI.get=function(){return new Mu(3.141592653589793,12246467991473532e-32)},Nu.TWO_PI.get=function(){return new Mu(6.283185307179586,24492935982947064e-32)},Nu.PI_2.get=function(){return new Mu(1.5707963267948966,6123233995736766e-32)},Nu.E.get=function(){return new Mu(2.718281828459045,14456468917292502e-32)},Nu.NaN.get=function(){return new Mu(gu.NaN,gu.NaN)},Nu.EPS.get=function(){return 123259516440783e-46},Nu.SPLIT.get=function(){return 134217729},Nu.MAX_PRINT_DIGITS.get=function(){return 32},Nu.TEN.get=function(){return Mu.valueOf(10)},Nu.ONE.get=function(){return Mu.valueOf(1)},Nu.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},Nu.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(Mu,Nu);var Ru=function(){},Du={DP_SAFE_EPSILON:{configurable:!0}};Ru.prototype.interfaces_=function(){return[]},Ru.prototype.getClass=function(){return Ru},Ru.orientationIndex=function(t,e,n){var i=Ru.orientationIndexFilter(t,e,n);if(i<=1)return i;var r=Mu.valueOf(e.x).selfAdd(-t.x),o=Mu.valueOf(e.y).selfAdd(-t.y),a=Mu.valueOf(n.x).selfAdd(-e.x),s=Mu.valueOf(n.y).selfAdd(-e.y);return r.selfMultiply(s).selfSubtract(o.selfMultiply(a)).signum()},Ru.signOfDet2x2=function(t,e,n,i){return t.multiply(i).selfSubtract(e.multiply(n)).signum()},Ru.intersection=function(t,e,n,i){var r=Mu.valueOf(i.y).selfSubtract(n.y).selfMultiply(Mu.valueOf(e.x).selfSubtract(t.x)),o=Mu.valueOf(i.x).selfSubtract(n.x).selfMultiply(Mu.valueOf(e.y).selfSubtract(t.y)),a=r.subtract(o),s=Mu.valueOf(i.x).selfSubtract(n.x).selfMultiply(Mu.valueOf(t.y).selfSubtract(n.y)),u=Mu.valueOf(i.y).selfSubtract(n.y).selfMultiply(Mu.valueOf(t.x).selfSubtract(n.x)),l=s.subtract(u).selfDivide(a).doubleValue(),c=Mu.valueOf(t.x).selfAdd(Mu.valueOf(e.x).selfSubtract(t.x).selfMultiply(l)).doubleValue(),h=Mu.valueOf(e.x).selfSubtract(t.x).selfMultiply(Mu.valueOf(t.y).selfSubtract(n.y)),p=Mu.valueOf(e.y).selfSubtract(t.y).selfMultiply(Mu.valueOf(t.x).selfSubtract(n.x)),f=h.subtract(p).selfDivide(a).doubleValue(),d=Mu.valueOf(n.y).selfAdd(Mu.valueOf(i.y).selfSubtract(n.y).selfMultiply(f)).doubleValue();return new wu(c,d)},Ru.orientationIndexFilter=function(t,e,n){var i=null,r=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),a=r-o;if(r>0){if(o<=0)return Ru.signum(a);i=r+o}else{if(!(r<0))return Ru.signum(a);if(o>=0)return Ru.signum(a);i=-r-o}var s=Ru.DP_SAFE_EPSILON*i;return a>=s||-a>=s?Ru.signum(a):2},Ru.signum=function(t){return t>0?1:t<0?-1:0},Du.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(Ru,Du);var zu=function(){},Fu={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};Fu.X.get=function(){return 0},Fu.Y.get=function(){return 1},Fu.Z.get=function(){return 2},Fu.M.get=function(){return 3},zu.prototype.setOrdinate=function(t,e,n){},zu.prototype.size=function(){},zu.prototype.getOrdinate=function(t,e){},zu.prototype.getCoordinate=function(){},zu.prototype.getCoordinateCopy=function(t){},zu.prototype.getDimension=function(){},zu.prototype.getX=function(t){},zu.prototype.clone=function(){},zu.prototype.expandEnvelope=function(t){},zu.prototype.copy=function(){},zu.prototype.getY=function(t){},zu.prototype.toCoordinateArray=function(){},zu.prototype.interfaces_=function(){return[yu]},zu.prototype.getClass=function(){return zu},Object.defineProperties(zu,Fu);var Bu=function(){},ju=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Bu),Vu=function(){};Vu.arraycopy=function(t,e,n,i,r){for(var o=0,a=e;a<e+r;a++)n[i+o]=t[a],o++},Vu.getProperty=function(t){return{"line.separator":"\n"}[t]};var Uu=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[1];this.x=arguments[0],this.y=n,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var i=arguments[0],r=arguments[1];this.x=i.y*r.w-r.y*i.w,this.y=r.x*i.w-i.x*r.w,this.w=i.x*r.y-r.x*i.y}else if(arguments[0]instanceof wu&&arguments[1]instanceof wu){var o=arguments[0],a=arguments[1];this.x=o.y-a.y,this.y=a.x-o.x,this.w=o.x*a.y-a.x*o.y}}else if(3===arguments.length){var s=arguments[1],u=arguments[2];this.x=arguments[0],this.y=s,this.w=u}else if(4===arguments.length){var l=arguments[0],c=arguments[1],h=arguments[2],p=arguments[3],f=l.y-c.y,d=c.x-l.x,g=l.x*c.y-c.x*l.y,m=h.y-p.y,_=p.x-h.x,y=h.x*p.y-p.x*h.y;this.x=d*y-_*g,this.y=m*g-f*y,this.w=f*_-m*d}};Uu.prototype.getY=function(){var t=this.y/this.w;if(gu.isNaN(t)||gu.isInfinite(t))throw new ju;return t},Uu.prototype.getX=function(){var t=this.x/this.w;if(gu.isNaN(t)||gu.isInfinite(t))throw new ju;return t},Uu.prototype.getCoordinate=function(){var t=new wu;return t.x=this.getX(),t.y=this.getY(),t},Uu.prototype.interfaces_=function(){return[]},Uu.prototype.getClass=function(){return Uu},Uu.intersection=function(t,e,n,i){var r=t.y-e.y,o=e.x-t.x,a=t.x*e.y-e.x*t.y,s=n.y-i.y,u=i.x-n.x,l=n.x*i.y-i.x*n.y,c=r*u-s*o,h=(o*l-u*a)/c,p=(s*a-r*l)/c;if(gu.isNaN(h)||gu.isInfinite(h)||gu.isNaN(p)||gu.isInfinite(p))throw new ju;return new wu(h,p)};var qu=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length)if(arguments[0]instanceof wu){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else arguments[0]instanceof t&&this.init(arguments[0]);else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else 4===arguments.length&&this.init(arguments[0],arguments[1],arguments[2],arguments[3])},Gu={serialVersionUID:{configurable:!0}};qu.prototype.getArea=function(){return this.getWidth()*this.getHeight()},qu.prototype.equals=function(t){if(!(t instanceof qu))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},qu.prototype.intersection=function(t){return this.isNull()||t.isNull()||!this.intersects(t)?new qu:new qu(this._minx>t._minx?this._minx:t._minx,this._maxx<t._maxx?this._maxx:t._maxx,this._miny>t._miny?this._miny:t._miny,this._maxy<t._maxy?this._maxy:t._maxy)},qu.prototype.isNull=function(){return this._maxx<this._minx},qu.prototype.getMaxX=function(){return this._maxx},qu.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof wu){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof qu){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&i>=this._miny&&i<=this._maxy}},qu.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof qu){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof wu){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||i>this._maxy||i<this._miny)}},qu.prototype.getMinY=function(){return this._miny},qu.prototype.getMinX=function(){return this._minx},qu.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof wu){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof qu){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=i,this._maxy=i):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),i<this._miny&&(this._miny=i),i>this._maxy&&(this._maxy=i))}},qu.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},qu.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},qu.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},qu.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},qu.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},qu.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},qu.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},qu.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},qu.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},qu.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof qu)return this.covers(arguments[0]);if(arguments[0]instanceof wu)return this.covers(arguments[0])}else if(2===arguments.length)return this.covers(arguments[0],arguments[1])},qu.prototype.centre=function(){return this.isNull()?null:new wu((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},qu.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof wu){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof qu){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];r<o?(this._minx=r,this._maxx=o):(this._minx=o,this._maxx=r),a<s?(this._miny=a,this._maxy=s):(this._miny=s,this._maxy=a)}},qu.prototype.getMaxY=function(){return this._maxy},qu.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},qu.prototype.hashCode=function(){var t=17;return 37*(t=37*(t=37*(t=37*t+wu.hashCode(this._minx))+wu.hashCode(this._maxx))+wu.hashCode(this._miny))+wu.hashCode(this._maxy)},qu.prototype.interfaces_=function(){return[_u,bu]},qu.prototype.getClass=function(){return qu},qu.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],a=arguments[3],s=Math.min(o.x,a.x),u=Math.max(o.x,a.x),l=Math.min(i.x,r.x),c=Math.max(i.x,r.x);return!(l>u||c<s||(s=Math.min(o.y,a.y),u=Math.max(o.y,a.y),l=Math.min(i.y,r.y),c=Math.max(i.y,r.y),l>u||c<s))}},Gu.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(qu,Gu);var Hu={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Wu=function(t){this.geometryFactory=t||new Oc};Wu.prototype.read=function(t){var e,n;t=t.replace(/[\n\r]/g," ");var i=Hu.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((i=Hu.emptyTypeStr.exec(t))[2]=void 0),i&&(n=i[1].toLowerCase(),Zu[n]&&(e=Zu[n].apply(this,[i[2]]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},Wu.prototype.write=function(t){return this.extractGeometry(t)},Wu.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!Yu[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+Yu[e].apply(this,[t])+")"};var Yu={coordinate:function(t){return t.x+" "+t.y},point:function(t){return Yu.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+Yu.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,i=t._points._coordinates.length;n<i;++n)e.push(Yu.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,i=t._points._coordinates.length;n<i;++n)e.push(Yu.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+Yu.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+Yu.linestring.apply(this,[t._shell])+")");for(var n=0,i=t._holes.length;n<i;++n)e.push("("+Yu.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+Yu.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},Zu={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(Hu.spaces);return this.geometryFactory.createPoint(new wu(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){var e;if(void 0===t)return this.geometryFactory.createMultiPoint();for(var n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(Hu.trimParens,"$1"),i.push(Zu.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(i)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].trim().split(Hu.spaces),i.push(new wu(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(i)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].trim().split(Hu.spaces),i.push(new wu(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(i)},multilinestring:function(t){var e;if(void 0===t)return this.geometryFactory.createMultiLineString();for(var n=t.trim().split(Hu.parenComma),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(Hu.trimParens,"$1"),i.push(Zu.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(i)},polygon:function(t){var e,n,i;if(void 0===t)return this.geometryFactory.createPolygon();for(var r,o=t.trim().split(Hu.parenComma),a=[],s=0,u=o.length;s<u;++s)e=o[s].replace(Hu.trimParens,"$1"),n=Zu.linestring.apply(this,[e]),i=this.geometryFactory.createLinearRing(n._points),0===s?r=i:a.push(i);return this.geometryFactory.createPolygon(r,a)},multipolygon:function(t){var e;if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var n=t.trim().split(Hu.doubleParenComma),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(Hu.trimParens,"$1"),i.push(Zu.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(i)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],i=0,r=e.length;i<r;++i)n.push(this.read(e[i]));return this.geometryFactory.createGeometryCollection(n)}},Xu=function(t){this.parser=new Wu(t)};Xu.prototype.write=function(t){return this.parser.write(t)},Xu.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var Ku=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),$u=function(t){function e(){t.call(this),0===arguments.length?t.call(this):1===arguments.length&&t.call(this,arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ku),Ju=function(){};Ju.prototype.interfaces_=function(){return[]},Ju.prototype.getClass=function(){return Ju},Ju.shouldNeverReachHere=function(){if(0===arguments.length)Ju.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new $u("Should never reach here"+(null!==t?": "+t:""))}},Ju.isTrue=function(){var t;if(1===arguments.length)Ju.isTrue(arguments[0],null);else if(2===arguments.length&&(t=arguments[1],!arguments[0]))throw null===t?new $u:new $u(t)},Ju.equals=function(){var t,e,n;if(2===arguments.length)Ju.equals(t=arguments[0],e=arguments[1],null);else if(3===arguments.length&&(n=arguments[2],!(e=arguments[1]).equals(t=arguments[0])))throw new $u("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))};var Qu=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new wu,this._intPt[1]=new wu,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},tl={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Qu.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},Qu.prototype.getTopologySummary=function(){var t=new Tu;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},Qu.prototype.computeIntersection=function(t,e,n,i){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=i,this._result=this.computeIntersect(t,e,n,i)},Qu.prototype.getIntersectionNum=function(){return this._result},Qu.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},Qu.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},Qu.prototype.setPrecisionModel=function(t){this._precisionModel=t},Qu.prototype.isInteriorIntersection=function(){var t=this;if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var e=arguments[0],n=0;n<this._result;n++)if(!t._intPt[n].equals2D(t._inputLines[e][0])&&!t._intPt[n].equals2D(t._inputLines[e][1]))return!0;return!1}},Qu.prototype.getIntersection=function(t){return this._intPt[t]},Qu.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},Qu.prototype.hasIntersection=function(){return this._result!==Qu.NO_INTERSECTION},Qu.prototype.getEdgeDistance=function(t,e){return Qu.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},Qu.prototype.isCollinear=function(){return this._result===Qu.COLLINEAR_INTERSECTION},Qu.prototype.toString=function(){return Xu.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Xu.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},Qu.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},Qu.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},Qu.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},Qu.prototype.interfaces_=function(){return[]},Qu.prototype.getClass=function(){return Qu},Qu.computeEdgeDistance=function(t,e,n){var i=Math.abs(n.x-e.x),r=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=i>r?i:r;else{var a=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y);0!==(o=i>r?a:s)||t.equals(e)||(o=Math.max(a,s))}return Ju.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},Qu.nonRobustComputeEdgeDistance=function(t,e,n){var i=t.x-e.x,r=t.y-e.y,o=Math.sqrt(i*i+r*r);return Ju.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},tl.DONT_INTERSECT.get=function(){return 0},tl.DO_INTERSECT.get=function(){return 1},tl.COLLINEAR.get=function(){return 2},tl.NO_INTERSECTION.get=function(){return 0},tl.POINT_INTERSECTION.get=function(){return 1},tl.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(Qu,tl);var el=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new qu(this._inputLines[0][0],this._inputLines[0][1]),n=new qu(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],i=arguments[2];if(this._isProper=!1,qu.intersects(n,i,e)&&0===rl.orientationIndex(n,i,e)&&0===rl.orientationIndex(i,n,e))return this._isProper=!0,(e.equals(n)||e.equals(i))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,i,r){r.x=this.smallestInAbsValue(t.x,e.x,n.x,i.x),r.y=this.smallestInAbsValue(t.y,e.y,n.y,i.y),t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},e.prototype.safeHCoordinateIntersection=function(t,n,i,r){var o=null;try{o=Uu.intersection(t,n,i,r)}catch(a){if(!(a instanceof ju))throw a;o=e.nearestEndpoint(t,n,i,r)}return o},e.prototype.intersection=function(t,n,i,r){var o=this.intersectionWithNormalization(t,n,i,r);return this.isInSegmentEnvelopes(o)||(o=new wu(e.nearestEndpoint(t,n,i,r))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},e.prototype.smallestInAbsValue=function(t,e,n,i){var r=t,o=Math.abs(r);return Math.abs(e)<o&&(r=e,o=Math.abs(e)),Math.abs(n)<o&&(r=n,o=Math.abs(n)),Math.abs(i)<o&&(r=i),r},e.prototype.checkDD=function(t,e,n,i,r){var o=Ru.intersection(t,e,n,i),a=this.isInSegmentEnvelopes(o);Vu.out.println("DD in env = "+a+"  --------------------- "+o),r.distance(o)>1e-4&&Vu.out.println("Distance = "+r.distance(o))},e.prototype.intersectionWithNormalization=function(t,e,n,i){var r=new wu(t),o=new wu(e),a=new wu(n),s=new wu(i),u=new wu;this.normalizeToEnvCentre(r,o,a,s,u);var l=this.safeHCoordinateIntersection(r,o,a,s);return l.x+=u.x,l.y+=u.y,l},e.prototype.computeCollinearIntersection=function(e,n,i,r){var o=qu.intersects(e,n,i),a=qu.intersects(e,n,r),s=qu.intersects(i,r,e),u=qu.intersects(i,r,n);return o&&a?(this._intPt[0]=i,this._intPt[1]=r,t.COLLINEAR_INTERSECTION):s&&u?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):o&&s?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||a||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):o&&u?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||a||s?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):a&&s?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||o||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):a&&u?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||o||s?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,i,r){var o=t.x<e.x?t.x:e.x,a=t.y<e.y?t.y:e.y,s=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,l=n.x<i.x?n.x:i.x,c=n.y<i.y?n.y:i.y,h=n.x>i.x?n.x:i.x,p=n.y>i.y?n.y:i.y,f=((a>c?a:c)+(u<p?u:p))/2;r.x=((o>l?o:l)+(s<h?s:h))/2,r.y=f,t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},e.prototype.computeIntersect=function(e,n,i,r){if(this._isProper=!1,!qu.intersects(e,n,i,r))return t.NO_INTERSECTION;var o=rl.orientationIndex(e,n,i),a=rl.orientationIndex(e,n,r);if(o>0&&a>0||o<0&&a<0)return t.NO_INTERSECTION;var s=rl.orientationIndex(i,r,e),u=rl.orientationIndex(i,r,n);return s>0&&u>0||s<0&&u<0?t.NO_INTERSECTION:0===o&&0===a&&0===s&&0===u?this.computeCollinearIntersection(e,n,i,r):(0===o||0===a||0===s||0===u?(this._isProper=!1,e.equals2D(i)||e.equals2D(r)?this._intPt[0]=e:n.equals2D(i)||n.equals2D(r)?this._intPt[0]=n:0===o?this._intPt[0]=new wu(i):0===a?this._intPt[0]=new wu(r):0===s?this._intPt[0]=new wu(e):0===u&&(this._intPt[0]=new wu(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,i,r)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,i){var r=t,o=rl.distancePointLine(t,n,i),a=rl.distancePointLine(e,n,i);return a<o&&(o=a,r=e),(a=rl.distancePointLine(n,t,e))<o&&(o=a,r=n),(a=rl.distancePointLine(i,t,e))<o&&(o=a,r=i),r},e}(Qu),nl=function(){};nl.prototype.interfaces_=function(){return[]},nl.prototype.getClass=function(){return nl},nl.orientationIndex=function(t,e,n){return nl.signOfDet2x2(e.x-t.x,e.y-t.y,n.x-e.x,n.y-e.y)},nl.signOfDet2x2=function(t,e,n,i){var r=null,o=null,a=null;if(r=1,0===t||0===i)return 0===e||0===n?0:e>0?n>0?-r:r:n>0?r:-r;if(0===e||0===n)return i>0?t>0?r:-r:t>0?-r:r;if(e>0?i>0?e<=i||(r=-r,o=t,t=n,n=o,o=e,e=i,i=o):e<=-i?(r=-r,n=-n,i=-i):(o=t,t=-n,n=o,o=e,e=-i,i=o):i>0?-e<=i?(r=-r,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=i,i=o):e>=i?(t=-t,e=-e,n=-n,i=-i):(r=-r,o=-t,t=-n,n=o,o=-e,e=-i,i=o),t>0){if(!(n>0))return r;if(!(t<=n))return r}else{if(n>0)return-r;if(!(t>=n))return-r;r=-r,t=-t,n=-n}for(;;){if((i-=(a=Math.floor(n/t))*e)<0)return-r;if(i>e)return r;if(t>(n-=a*t)+n){if(e<i+i)return r}else{if(e>i+i)return-r;n=t-n,i=e-i,r=-r}if(0===i)return 0===n?0:-r;if(0===n)return r;if((e-=(a=Math.floor(t/n))*i)<0)return r;if(e>i)return-r;if(n>(t-=a*n)+t){if(i<e+e)return-r}else{if(i>e+e)return r;t=n-t,e=i-e,r=-r}if(0===e)return 0===t?0:r;if(0===t)return-r}};var il=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1,this._p=arguments[0]};il.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,i=e.x;return n>i&&(n=e.x,i=t.x),this._p.x>=n&&this._p.x<=i&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var r=t.y-this._p.y,o=e.y-this._p.y,a=nl.signOfDet2x2(t.x-this._p.x,r,e.x-this._p.x,o);if(0===a)return this._isPointOnSegment=!0,null;o<r&&(a=-a),a>0&&this._crossingCount++}},il.prototype.isPointInPolygon=function(){return this.getLocation()!==Su.EXTERIOR},il.prototype.getLocation=function(){return this._isPointOnSegment?Su.BOUNDARY:this._crossingCount%2==1?Su.INTERIOR:Su.EXTERIOR},il.prototype.isOnSegment=function(){return this._isPointOnSegment},il.prototype.interfaces_=function(){return[]},il.prototype.getClass=function(){return il},il.locatePointInRing=function(){if(arguments[0]instanceof wu&&Iu(arguments[1],zu)){for(var t=arguments[1],e=new il(arguments[0]),n=new wu,i=new wu,r=1;r<t.size();r++)if(t.getCoordinate(r,n),t.getCoordinate(r-1,i),e.countSegment(n,i),e.isOnSegment())return e.getLocation();return e.getLocation()}if(arguments[0]instanceof wu&&arguments[1]instanceof Array){for(var o=arguments[1],a=new il(arguments[0]),s=1;s<o.length;s++)if(a.countSegment(o[s],o[s-1]),a.isOnSegment())return a.getLocation();return a.getLocation()}};var rl=function(){},ol={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};rl.prototype.interfaces_=function(){return[]},rl.prototype.getClass=function(){return rl},rl.orientationIndex=function(t,e,n){return Ru.orientationIndex(t,e,n)},rl.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,i=1;i<t.length-1;i++)e+=(t[i].x-n)*(t[i-1].y-t[i+1].y);return e/2}if(Iu(arguments[0],zu)){var r=arguments[0],o=r.size();if(o<3)return 0;var a=new wu,s=new wu,u=new wu;r.getCoordinate(0,s),r.getCoordinate(1,u);var l=s.x;u.x-=l;for(var c=0,h=1;h<o-1;h++)a.y=s.y,s.x=u.x,s.y=u.y,r.getCoordinate(h+1,u),u.x-=l,c+=s.x*(a.y-u.y);return c/2}},rl.distanceLineLine=function(t,e,n,i){if(t.equals(e))return rl.distancePointLine(t,n,i);if(n.equals(i))return rl.distancePointLine(i,t,e);var r=!1;if(qu.intersects(t,e,n,i)){var o=(e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x);if(0===o)r=!0;else{var a=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,s=((t.y-n.y)*(i.x-n.x)-(t.x-n.x)*(i.y-n.y))/o;(s<0||s>1||a<0||a>1)&&(r=!0)}}else r=!0;return r?Au.min(rl.distancePointLine(t,n,i),rl.distancePointLine(e,n,i),rl.distancePointLine(n,t,e),rl.distancePointLine(i,t,e)):0},rl.isPointInRing=function(t,e){return rl.locatePointInRing(t,e)!==Su.EXTERIOR},rl.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,i=new wu;t.getCoordinate(0,i);for(var r=i.x,o=i.y,a=1;a<e;a++){t.getCoordinate(a,i);var s=i.x,u=i.y,l=s-r,c=u-o;n+=Math.sqrt(l*l+c*c),r=s,o=u}return n},rl.isCCW=function(t){var e=t.length-1;if(e<3)throw new du("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],i=0,r=1;r<=e;r++){var o=t[r];o.y>n.y&&(n=o,i=r)}var a=i;do{(a-=1)<0&&(a=e)}while(t[a].equals2D(n)&&a!==i);var s=i;do{s=(s+1)%e}while(t[s].equals2D(n)&&s!==i);var u=t[a],l=t[s];if(u.equals2D(n)||l.equals2D(n)||u.equals2D(l))return!1;var c=rl.computeOrientation(u,n,l);return 0===c?u.x>l.x:c>0},rl.locatePointInRing=function(t,e){return il.locatePointInRing(t,e)},rl.distancePointLinePerpendicular=function(t,e,n){var i=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y);return Math.abs(((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/i)*Math.sqrt(i)},rl.computeOrientation=function(t,e,n){return rl.orientationIndex(t,e,n)},rl.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new du("Line array must contain at least one vertex");for(var n=t.distance(e[0]),i=0;i<e.length-1;i++){var r=rl.distancePointLine(t,e[i],e[i+1]);r<n&&(n=r)}return n}if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];if(a.x===s.x&&a.y===s.y)return o.distance(a);var u=(s.x-a.x)*(s.x-a.x)+(s.y-a.y)*(s.y-a.y),l=((o.x-a.x)*(s.x-a.x)+(o.y-a.y)*(s.y-a.y))/u;return l<=0?o.distance(a):l>=1?o.distance(s):Math.abs(((a.y-o.y)*(s.x-a.x)-(a.x-o.x)*(s.y-a.y))/u)*Math.sqrt(u)}},rl.isOnLine=function(t,e){for(var n=new el,i=1;i<e.length;i++)if(n.computeIntersection(t,e[i-1],e[i]),n.hasIntersection())return!0;return!1},ol.CLOCKWISE.get=function(){return-1},ol.RIGHT.get=function(){return rl.CLOCKWISE},ol.COUNTERCLOCKWISE.get=function(){return 1},ol.LEFT.get=function(){return rl.COUNTERCLOCKWISE},ol.COLLINEAR.get=function(){return 0},ol.STRAIGHT.get=function(){return rl.COLLINEAR},Object.defineProperties(rl,ol);var al=function(){};al.prototype.filter=function(t){},al.prototype.interfaces_=function(){return[]},al.prototype.getClass=function(){return al};var sl=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},ul={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};sl.prototype.isGeometryCollection=function(){return this.getSortIndex()===sl.SORTINDEX_GEOMETRYCOLLECTION},sl.prototype.getFactory=function(){return this._factory},sl.prototype.getGeometryN=function(t){return this},sl.prototype.getArea=function(){return 0},sl.prototype.isRectangle=function(){return!1},sl.prototype.equals=function(){if(arguments[0]instanceof sl){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];return e instanceof sl&&this.equalsExact(e)}},sl.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},sl.prototype.geometryChanged=function(){this.apply(sl.geometryChangedFilter)},sl.prototype.geometryChangedAction=function(){this._envelope=null},sl.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},sl.prototype.getLength=function(){return 0},sl.prototype.getNumGeometries=function(){return 1},sl.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],i=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,i)}},sl.prototype.getUserData=function(){return this._userData},sl.prototype.getSRID=function(){return this._SRID},sl.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},sl.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===sl.SORTINDEX_GEOMETRYCOLLECTION)throw new du("This method does not support GeometryCollection arguments")},sl.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},sl.prototype.norm=function(){var t=this.copy();return t.normalize(),t},sl.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},sl.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new qu(this._envelope)},sl.prototype.setSRID=function(t){this._SRID=t},sl.prototype.setUserData=function(t){this._userData=t},sl.prototype.compare=function(t,e){for(var n=t.iterator(),i=e.iterator();n.hasNext()&&i.hasNext();){var r=n.next(),o=i.next(),a=r.compareTo(o);if(0!==a)return a}return n.hasNext()?1:i.hasNext()?-1:0},sl.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},sl.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===sl.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===sl.SORTINDEX_MULTIPOINT||this.getSortIndex()===sl.SORTINDEX_MULTILINESTRING||this.getSortIndex()===sl.SORTINDEX_MULTIPOLYGON},sl.prototype.interfaces_=function(){return[yu,_u,bu]},sl.prototype.getClass=function(){return sl},sl.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},sl.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},ul.serialVersionUID.get=function(){return 0x799ea46522854c00},ul.SORTINDEX_POINT.get=function(){return 0},ul.SORTINDEX_MULTIPOINT.get=function(){return 1},ul.SORTINDEX_LINESTRING.get=function(){return 2},ul.SORTINDEX_LINEARRING.get=function(){return 3},ul.SORTINDEX_MULTILINESTRING.get=function(){return 4},ul.SORTINDEX_POLYGON.get=function(){return 5},ul.SORTINDEX_MULTIPOLYGON.get=function(){return 6},ul.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},ul.geometryChangedFilter.get=function(){return ll},Object.defineProperties(sl,ul);var ll=function(){};ll.interfaces_=function(){return[al]},ll.filter=function(t){t.geometryChangedAction()};var cl=function(){};cl.prototype.filter=function(t){},cl.prototype.interfaces_=function(){return[]},cl.prototype.getClass=function(){return cl};var hl=function(){},pl={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};hl.prototype.isInBoundary=function(t){},hl.prototype.interfaces_=function(){return[]},hl.prototype.getClass=function(){return hl},pl.Mod2BoundaryNodeRule.get=function(){return fl},pl.EndPointBoundaryNodeRule.get=function(){return dl},pl.MultiValentEndPointBoundaryNodeRule.get=function(){return gl},pl.MonoValentEndPointBoundaryNodeRule.get=function(){return ml},pl.MOD2_BOUNDARY_RULE.get=function(){return new fl},pl.ENDPOINT_BOUNDARY_RULE.get=function(){return new dl},pl.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new gl},pl.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new ml},pl.OGC_SFS_BOUNDARY_RULE.get=function(){return hl.MOD2_BOUNDARY_RULE},Object.defineProperties(hl,pl);var fl=function(){};fl.prototype.isInBoundary=function(t){return t%2==1},fl.prototype.interfaces_=function(){return[hl]},fl.prototype.getClass=function(){return fl};var dl=function(){};dl.prototype.isInBoundary=function(t){return t>0},dl.prototype.interfaces_=function(){return[hl]},dl.prototype.getClass=function(){return dl};var gl=function(){};gl.prototype.isInBoundary=function(t){return t>1},gl.prototype.interfaces_=function(){return[hl]},gl.prototype.getClass=function(){return gl};var ml=function(){};ml.prototype.isInBoundary=function(t){return 1===t},ml.prototype.interfaces_=function(){return[hl]},ml.prototype.getClass=function(){return ml};var _l=function(){};function yl(t){this.message=t||""}_l.prototype.add=function(){},_l.prototype.addAll=function(){},_l.prototype.isEmpty=function(){},_l.prototype.iterator=function(){},_l.prototype.size=function(){},_l.prototype.toArray=function(){},_l.prototype.remove=function(){},(yl.prototype=new Error).name="IndexOutOfBoundsException";var vl=function(){};vl.prototype.hasNext=function(){},vl.prototype.next=function(){},vl.prototype.remove=function(){};var bl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(_l);function wl(t){this.message=t||""}(wl.prototype=new Error).name="NoSuchElementException";var xl=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof _l&&this.addAll(arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,_l]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new kl(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new yl;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,i=this.array_.length;n<i;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(bl),kl=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new wl;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(vl),El=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.ensureCapacity(n.length),this.add(n,i)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){var e=this;if(2===arguments.length){for(var n=arguments[1],i=!1,r=arguments[0].iterator();r.hasNext();)e.add(r.next(),n),i=!0;return i}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){var e=this;if(1===arguments.length)t.prototype.add.call(this,arguments[0]);else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1],!0),!0;if(arguments[0]instanceof wu&&"boolean"==typeof arguments[1]){var n=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(n))return null;t.prototype.add.call(this,n)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1]),!0}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var i=arguments[0],r=arguments[1];if(arguments[2])for(var o=0;o<i.length;o++)e.add(i[o],r);else for(var a=i.length-1;a>=0;a--)e.add(i[a],r);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof wu){var s=arguments[0],u=arguments[1];if(!arguments[2]){var l=this.size();if(l>0){if(s>0&&this.get(s-1).equals2D(u))return null;if(s<l&&this.get(s).equals2D(u))return null}}t.prototype.add.call(this,s,u)}}else if(4===arguments.length){var c=arguments[0],h=arguments[1],p=arguments[2],f=arguments[3],d=1;p>f&&(d=-1);for(var g=p;g!==f;g+=d)e.add(c[g],h);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new wu(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(xl),Sl=function(){},Cl={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Cl.ForwardComparator.get=function(){return Il},Cl.BidirectionalComparator.get=function(){return Al},Cl.coordArrayType.get=function(){return new Array(0).fill(null)},Sl.prototype.interfaces_=function(){return[]},Sl.prototype.getClass=function(){return Sl},Sl.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},Sl.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(Sl.indexOf(i,e)<0)return i}return null},Sl.scroll=function(t,e){var n=Sl.indexOf(e,t);if(n<0)return null;var i=new Array(t.length).fill(null);Vu.arraycopy(t,n,i,0,t.length-n),Vu.arraycopy(t,0,i,t.length-n,n),Vu.arraycopy(i,0,t,0,t.length)},Sl.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];if(i===r)return!0;if(null===i||null===r)return!1;if(i.length!==r.length)return!1;for(var a=0;a<i.length;a++)if(0!==o.compare(i[a],r[a]))return!1;return!0}},Sl.intersection=function(t,e){for(var n=new El,i=0;i<t.length;i++)e.intersects(t[i])&&n.add(t[i],!0);return n.toCoordinateArray()},Sl.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},Sl.removeRepeatedPoints=function(t){return Sl.hasRepeatedPoints(t)?new El(t,!1).toCoordinateArray():t},Sl.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),i=0;i<=n;i++){var r=t[i];t[i]=t[e-i],t[e-i]=r}},Sl.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var i=new Array(e).fill(null);if(0===e)return i;for(var r=0,o=0;o<t.length;o++)null!==t[o]&&(i[r++]=t[o]);return i},Sl.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new wu(t[n]);return e}if(5===arguments.length)for(var i=arguments[0],r=arguments[1],o=arguments[2],a=arguments[3],s=arguments[4],u=0;u<s;u++)o[a+u]=new wu(i[r+u])},Sl.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++)if(0!==t[n].compareTo(e[t.length-n-1]))return!1;return!0},Sl.envelope=function(t){for(var e=new qu,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},Sl.toCoordinateArray=function(t){return t.toArray(Sl.coordArrayType)},Sl.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},Sl.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},Sl.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t[e].compareTo(t[t.length-1-e]);if(0!==n)return n}return 1},Sl.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var i=t[n].compareTo(e[n]);if(0!==i)return i;n++}return n<e.length?-1:n<t.length?1:0},Sl.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},Sl.extract=function(t,e,n){e=Au.clamp(e,0,t.length);var i=(n=Au.clamp(n,-1,t.length))-e+1;n<0&&(i=0),e>=t.length&&(i=0),n<e&&(i=0);var r=new Array(i).fill(null);if(0===i)return r;for(var o=0,a=e;a<=n;a++)r[o++]=t[a];return r},Object.defineProperties(Sl,Cl);var Il=function(){};Il.prototype.compare=function(t,e){return Sl.compare(t,e)},Il.prototype.interfaces_=function(){return[vu]},Il.prototype.getClass=function(){return Il};var Al=function(){};Al.prototype.compare=function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;var r=Sl.compare(n,i);return Sl.isEqualReversed(n,i)?0:r},Al.prototype.OLDcompare=function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;for(var r=Sl.increasingDirection(n),o=Sl.increasingDirection(i),a=r>0?0:n.length-1,s=o>0?0:n.length-1,u=0;u<n.length;u++){var l=n[a].compareTo(i[s]);if(0!==l)return l;a+=r,s+=o}return 0},Al.prototype.interfaces_=function(){return[vu]},Al.prototype.getClass=function(){return Al};var Pl=function(){};Pl.prototype.get=function(){},Pl.prototype.put=function(){},Pl.prototype.size=function(){},Pl.prototype.values=function(){},Pl.prototype.entrySet=function(){};var Tl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Pl);function Ol(t){this.message=t||""}function Ll(){}(Ol.prototype=new Error).name="OperationNotSupported",(Ll.prototype=new _l).contains=function(){};var Ml=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof _l&&this.addAll(arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new Nl(this)},e}(Ll),Nl=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new wl;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new Ol},e}(vl);function Rl(t){return null===t?0:t.color}function Dl(t){return null===t?null:t.parent}function zl(t,e){null!==t&&(t.color=e)}function Fl(t){return null===t?null:t.left}function Bl(t){return null===t?null:t.right}function jl(){this.root_=null,this.size_=0}(jl.prototype=new Tl).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},jl.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,i,r=this.root_;do{if(n=r,(i=t.compareTo(r.key))<0)r=r.left;else{if(!(i>0)){var o=r.value;return r.value=e,o}r=r.right}}while(null!==r);var a={key:t,left:null,right:null,value:e,parent:n,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return i<0?n.left=a:n.right=a,this.fixAfterInsertion(a),this.size_++,null},jl.prototype.fixAfterInsertion=function(t){var e=this;for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(Dl(t)===Fl(Dl(Dl(t)))){var n=Bl(Dl(Dl(t)));1===Rl(n)?(zl(Dl(t),0),zl(n,0),zl(Dl(Dl(t)),1),t=Dl(Dl(t))):(t===Bl(Dl(t))&&(t=Dl(t),e.rotateLeft(t)),zl(Dl(t),0),zl(Dl(Dl(t)),1),e.rotateRight(Dl(Dl(t))))}else{var i=Fl(Dl(Dl(t)));1===Rl(i)?(zl(Dl(t),0),zl(i,0),zl(Dl(Dl(t)),1),t=Dl(Dl(t))):(t===Fl(Dl(t))&&(t=Dl(t),e.rotateRight(t)),zl(Dl(t),0),zl(Dl(Dl(t)),1),e.rotateLeft(Dl(Dl(t))))}this.root_.color=0},jl.prototype.values=function(){var t=new xl,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=jl.successor(e));)t.add(e.value);return t},jl.prototype.entrySet=function(){var t=new Ml,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=jl.successor(e));)t.add(e);return t},jl.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},jl.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},jl.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},jl.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,i=t;null!==n&&i===n.right;)i=n,n=n.parent;return n},jl.prototype.size=function(){return this.size_};var Vl=function(){};function Ul(){}function ql(){this.array_=[],arguments[0]instanceof _l&&this.addAll(arguments[0])}Vl.prototype.interfaces_=function(){return[]},Vl.prototype.getClass=function(){return Vl},Ul.prototype=new Ll,(ql.prototype=new Ul).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},ql.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},ql.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},ql.prototype.remove=function(t){throw new Ol},ql.prototype.size=function(){return this.array_.length},ql.prototype.isEmpty=function(){return 0===this.array_.length},ql.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},ql.prototype.iterator=function(){return new Gl(this)};var Gl=function(t){this.treeSet_=t,this.position_=0};Gl.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new wl;return this.treeSet_.array_[this.position_++]},Gl.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Gl.prototype.remove=function(){throw new Ol};var Hl=function(){};Hl.sort=function(){var t,e,n,i=arguments[0];if(1===arguments.length)i.sort(function(t,e){return t.compareTo(e)});else if(2===arguments.length)n=arguments[1],i.sort(function(t,e){return n.compare(t,e)});else if(3===arguments.length){(e=i.slice(arguments[1],arguments[2])).sort();var r=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length));for(i.splice(0,i.length),t=0;t<r.length;t++)i.push(r[t])}else if(4===arguments.length)for(e=i.slice(arguments[1],arguments[2]),n=arguments[3],e.sort(function(t,e){return n.compare(t,e)}),r=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length)),i.splice(0,i.length),t=0;t<r.length;t++)i.push(r[t])},Hl.asList=function(t){for(var e=new xl,n=0,i=t.length;n<i;n++)e.add(t[n]);return e};var Wl=function(){},Yl={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};Yl.P.get=function(){return 0},Yl.L.get=function(){return 1},Yl.A.get=function(){return 2},Yl.FALSE.get=function(){return-1},Yl.TRUE.get=function(){return-2},Yl.DONTCARE.get=function(){return-3},Yl.SYM_FALSE.get=function(){return"F"},Yl.SYM_TRUE.get=function(){return"T"},Yl.SYM_DONTCARE.get=function(){return"*"},Yl.SYM_P.get=function(){return"0"},Yl.SYM_L.get=function(){return"1"},Yl.SYM_A.get=function(){return"2"},Wl.prototype.interfaces_=function(){return[]},Wl.prototype.getClass=function(){return Wl},Wl.toDimensionSymbol=function(t){switch(t){case Wl.FALSE:return Wl.SYM_FALSE;case Wl.TRUE:return Wl.SYM_TRUE;case Wl.DONTCARE:return Wl.SYM_DONTCARE;case Wl.P:return Wl.SYM_P;case Wl.L:return Wl.SYM_L;case Wl.A:return Wl.SYM_A}throw new du("Unknown dimension value: "+t)},Wl.toDimensionValue=function(t){switch(Lu.toUpperCase(t)){case Wl.SYM_FALSE:return Wl.FALSE;case Wl.SYM_TRUE:return Wl.TRUE;case Wl.SYM_DONTCARE:return Wl.DONTCARE;case Wl.SYM_P:return Wl.P;case Wl.SYM_L:return Wl.L;case Wl.SYM_A:return Wl.A}throw new du("Unknown dimension symbol: "+t)},Object.defineProperties(Wl,Yl);var Zl=function(){};Zl.prototype.filter=function(t){},Zl.prototype.interfaces_=function(){return[]},Zl.prototype.getClass=function(){return Zl};var Xl=function(){};Xl.prototype.filter=function(t,e){},Xl.prototype.isDone=function(){},Xl.prototype.isGeometryChanged=function(){},Xl.prototype.interfaces_=function(){return[]},Xl.prototype.getClass=function(){return Xl};var Kl=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new du("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new qu,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var i=this._geometries[n].getCoordinates(),r=0;r<i.length;r++)t[++e]=i[r];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){var e=this;if(2===arguments.length){var n=arguments[0],i=arguments[1];if(!this.isEquivalentClass(n))return!1;var r=n;if(this._geometries.length!==r._geometries.length)return!1;for(var o=0;o<this._geometries.length;o++)if(!e._geometries[o].equalsExact(r._geometries[o],i))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();Hl.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=Wl.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=Wl.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<this._geometries.length;e++)t[e]=this._geometries[e].reverse();return this.getFactory().createGeometryCollection(t)},e.prototype.compareToSameClass=function(){var t=this;if(1===arguments.length){var e=arguments[0],n=new ql(Hl.asList(this._geometries)),i=new ql(Hl.asList(e._geometries));return this.compare(n,i)}if(2===arguments.length){for(var r=arguments[1],o=arguments[0],a=this.getNumGeometries(),s=o.getNumGeometries(),u=0;u<a&&u<s;){var l=t.getGeometryN(u),c=o.getGeometryN(u),h=l.compareToSameClass(c,r);if(0!==h)return h;u++}return u<a?1:u<s?-1:0}},e.prototype.apply=function(){var t=this;if(Iu(arguments[0],cl))for(var e=arguments[0],n=0;n<this._geometries.length;n++)t._geometries[n].apply(e);else if(Iu(arguments[0],Xl)){var i=arguments[0];if(0===this._geometries.length)return null;for(var r=0;r<this._geometries.length&&(t._geometries[r].apply(i),!i.isDone());r++);i.isGeometryChanged()&&this.geometryChanged()}else if(Iu(arguments[0],Zl)){var o=arguments[0];o.filter(this);for(var a=0;a<this._geometries.length;a++)t._geometries[a].apply(o)}else if(Iu(arguments[0],al)){var s=arguments[0];s.filter(this);for(var u=0;u<this._geometries.length;u++)t._geometries[u].apply(s)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),Ju.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(sl),$l=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return sl.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Wl.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new Jl(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Vl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(Kl),Jl=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=hl.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=i}};Jl.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},Jl.prototype.getBoundary=function(){return this._geom instanceof lc?this.boundaryLineString(this._geom):this._geom instanceof $l?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Jl.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},Jl.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Jl.prototype.computeBoundaryCoordinates=function(t){var e=this,n=new xl;this._endpointMap=new jl;for(var i=0;i<t.getNumGeometries();i++){var r=t.getGeometryN(i);0!==r.getNumPoints()&&(e.addEndpoint(r.getCoordinateN(0)),e.addEndpoint(r.getCoordinateN(r.getNumPoints()-1)))}for(var o=this._endpointMap.entrySet().iterator();o.hasNext();){var a=o.next(),s=a.getValue().count;e._bnRule.isInBoundary(s)&&n.add(a.getKey())}return Sl.toCoordinateArray(n)},Jl.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new Ql,this._endpointMap.put(t,e)),e.count++},Jl.prototype.interfaces_=function(){return[]},Jl.prototype.getClass=function(){return Jl},Jl.getBoundary=function(){return 1===arguments.length?new Jl(arguments[0]).getBoundary():2===arguments.length?new Jl(arguments[0],arguments[1]).getBoundary():void 0};var Ql=function(){this.count=null};function tc(){}function ec(){}Ql.prototype.interfaces_=function(){return[]},Ql.prototype.getClass=function(){return Ql};var nc=function(){};function ic(){}function rc(){}function oc(){}var ac=function(){},sc={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};ac.prototype.interfaces_=function(){return[]},ac.prototype.getClass=function(){return ac},ac.chars=function(t,e){for(var n=new Array(e).fill(null),i=0;i<e;i++)n[i]=t;return String(n)},ac.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new ic,n=new tc(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var i=arguments[1],r="",o=new oc(new ec(ac.getStackTrace(arguments[0]))),a=0;a<i;a++)try{r+=o.readLine()+ac.NEWLINE}catch(t){if(!(t instanceof rc))throw t;Ju.shouldNeverReachHere()}return r}},ac.split=function(t,e){for(var n=e.length,i=new xl,r=""+t,o=r.indexOf(e);o>=0;){var a=r.substring(0,o);i.add(a),o=(r=r.substring(o+n)).indexOf(e)}r.length>0&&i.add(r);for(var s=new Array(i.size()).fill(null),u=0;u<s.length;u++)s[u]=i.get(u);return s},ac.toString=function(){if(1===arguments.length)return ac.SIMPLE_ORDINATE_FORMAT.format(arguments[0])},ac.spaces=function(t){return ac.chars(" ",t)},sc.NEWLINE.get=function(){return Vu.getProperty("line.separator")},sc.SIMPLE_ORDINATE_FORMAT.get=function(){return new nc("0.#")},Object.defineProperties(ac,sc);var uc=function(){};uc.prototype.interfaces_=function(){return[]},uc.prototype.getClass=function(){return uc},uc.copyCoord=function(t,e,n,i){for(var r=Math.min(t.getDimension(),n.getDimension()),o=0;o<r;o++)n.setOrdinate(i,o,t.getOrdinate(e,o))},uc.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,zu.X)===t.getOrdinate(e-1,zu.X)&&t.getOrdinate(0,zu.Y)===t.getOrdinate(e-1,zu.Y)},uc.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var i=Math.min(t.getDimension(),e.getDimension()),r=0;r<n;r++)for(var o=0;o<i;o++){var a=t.getOrdinate(r,o),s=e.getOrdinate(r,o);if(!(t.getOrdinate(r,o)===e.getOrdinate(r,o)||gu.isNaN(a)&&gu.isNaN(s)))return!1}return!0},uc.extend=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();if(uc.copy(e,0,i,0,r),r>0)for(var o=r;o<n;o++)uc.copy(e,r-1,i,o,1);return i},uc.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),i=0;i<=n;i++)uc.swap(t,i,e-i)},uc.swap=function(t,e,n){if(e===n)return null;for(var i=0;i<t.getDimension();i++){var r=t.getOrdinate(e,i);t.setOrdinate(e,i,t.getOrdinate(n,i)),t.setOrdinate(n,i,r)}},uc.copy=function(t,e,n,i,r){for(var o=0;o<r;o++)uc.copyCoord(t,e+o,n,i+o)},uc.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),i=new Tu;i.append("(");for(var r=0;r<e;r++){r>0&&i.append(" ");for(var o=0;o<n;o++)o>0&&i.append(","),i.append(ac.toString(t.getOrdinate(r,o)))}return i.append(")"),i.toString()}},uc.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?uc.createClosedRing(t,e,4):e.getOrdinate(0,zu.X)===e.getOrdinate(n-1,zu.X)&&e.getOrdinate(0,zu.Y)===e.getOrdinate(n-1,zu.Y)?e:uc.createClosedRing(t,e,n+1)},uc.createClosedRing=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();uc.copy(e,0,i,0,r);for(var o=r;o<n;o++)uc.copy(e,0,i,o,1);return i};var lc=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new qu:this._points.expandEnvelope(new qu)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){var e=this;if(2===arguments.length){var n=arguments[0],i=arguments[1];if(!this.isEquivalentClass(n))return!1;var r=n;if(this._points.size()!==r._points.size())return!1;for(var o=0;o<this._points.size();o++)if(!e.equal(e._points.getCoordinate(o),r._points.getCoordinate(o),i))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=this,e=0;e<Math.trunc(this._points.size()/2);e++){var n=t._points.size()-1-e;if(!t._points.getCoordinate(e).equals(t._points.getCoordinate(n)))return t._points.getCoordinate(e).compareTo(t._points.getCoordinate(n))>0&&uc.reverse(t._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Wl.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return rl.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return uc.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){var t=this;if(1===arguments.length){for(var e=arguments[0],n=0,i=0;n<this._points.size()&&i<e._points.size();){var r=t._points.getCoordinate(n).compareTo(e._points.getCoordinate(i));if(0!==r)return r;n++,i++}return n<this._points.size()?1:i<e._points.size()?-1:0}if(2===arguments.length)return arguments[1].compare(this._points,arguments[0]._points)},e.prototype.apply=function(){var t=this;if(Iu(arguments[0],cl))for(var e=arguments[0],n=0;n<this._points.size();n++)e.filter(t._points.getCoordinate(n));else if(Iu(arguments[0],Xl)){var i=arguments[0];if(0===this._points.size())return null;for(var r=0;r<this._points.size()&&(i.filter(t._points,r),!i.isDone());r++);i.isGeometryChanged()&&this.geometryChanged()}else(Iu(arguments[0],Zl)||Iu(arguments[0],al))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new Jl(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new du("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[Vl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(sl),cc=function(){};cc.prototype.interfaces_=function(){return[]},cc.prototype.getClass=function(){return cc};var hc=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new qu;var t=new qu;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return Wl.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length)return arguments[1].compare(this._coordinates,arguments[0]._coordinates)},e.prototype.apply=function(){if(Iu(arguments[0],cl)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(Iu(arguments[0],Xl)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else(Iu(arguments[0],Zl)||Iu(arguments[0],al))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),Ju.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[cc]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(sl),pc=function(){};pc.prototype.interfaces_=function(){return[]},pc.prototype.getClass=function(){return pc};var fc=function(t){function e(e,n,i){if(t.call(this,i),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new du("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new du("shell is empty but holes are not");this._shell=e,this._holes=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),i=0;i<n.length;i++)t[++e]=n[i];for(var r=0;r<this._holes.length;r++)for(var o=this._holes[r].getCoordinates(),a=0;a<o.length;a++)t[++e]=o[a];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(rl.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(rl.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var i=t.getX(n);if(i!==e.getMinX()&&i!==e.getMaxX())return!1;var r=t.getY(n);if(r!==e.getMinY()&&r!==e.getMaxY())return!1}for(var o=t.getX(0),a=t.getY(0),s=1;s<=4;s++){var u=t.getX(s),l=t.getY(s);if(u!==o==(l!==a))return!1;o=u,a=l}return!0},e.prototype.equalsExact=function(){var e=this;if(2===arguments.length){var n=arguments[0],i=arguments[1];if(!this.isEquivalentClass(n))return!1;var r=n;if(!this._shell.equalsExact(r._shell,i))return!1;if(this._holes.length!==r._holes.length)return!1;for(var o=0;o<this._holes.length;o++)if(!e._holes[o].equalsExact(r._holes[o],i))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){var t=this;if(0===arguments.length){this.normalize(this._shell,!0);for(var e=0;e<this._holes.length;e++)t.normalize(t._holes[e],!1);Hl.sort(this._holes)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];if(n.isEmpty())return null;var r=new Array(n.getCoordinates().length-1).fill(null);Vu.arraycopy(n.getCoordinates(),0,r,0,r.length);var o=Sl.minCoordinate(n.getCoordinates());Sl.scroll(r,o),Vu.arraycopy(r,0,n.getCoordinates(),0,r.length),n.getCoordinates()[r.length]=r[0],rl.isCCW(n.getCoordinates())===i&&Sl.reverse(n.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){var t=this;if(1===arguments.length)return this._shell.compareToSameClass(arguments[0]._shell);if(2===arguments.length){var e=arguments[1],n=arguments[0],i=this._shell.compareToSameClass(n._shell,e);if(0!==i)return i;for(var r=this.getNumInteriorRing(),o=n.getNumInteriorRing(),a=0;a<r&&a<o;){var s=t.getInteriorRingN(a),u=n.getInteriorRingN(a),l=s.compareToSameClass(u,e);if(0!==l)return l;a++}return a<r?1:a<o?-1:0}},e.prototype.apply=function(t){var e=this;if(Iu(t,cl)){this._shell.apply(t);for(var n=0;n<this._holes.length;n++)e._holes[n].apply(t)}else if(Iu(t,Xl)){if(this._shell.apply(t),!t.isDone())for(var i=0;i<this._holes.length&&(e._holes[i].apply(t),!t.isDone());i++);t.isGeometryChanged()&&this.geometryChanged()}else if(Iu(t,Zl))t.filter(this);else if(Iu(t,al)){t.filter(this),this._shell.apply(t);for(var r=0;r<this._holes.length;r++)e._holes[r].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),i=0;i<n.length;i++)n[i]=this._holes[i].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[pc]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(sl),dc=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return sl.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){return 1===arguments.length?this._geometries[arguments[0]].getCoordinate():t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return Wl.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[cc]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(Kl),gc=function(t){function e(e,n){e instanceof wu&&n instanceof Oc&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return sl.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return Wl.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return uc.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new du("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new du("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(lc),mc=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return sl.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<this._geometries.length;e++)t[e]=this._geometries[e].reverse();return this.getFactory().createMultiPolygon(t)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new xl,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),i=0;i<n.getNumGeometries();i++)t.add(n.getGeometryN(i));var r=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(r))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[pc]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(Kl),_c=function(t){this._factory=t||null,this._isUserDataCopied=!1},yc={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};_c.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},_c.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},_c.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof Kl?this.editGeometryCollection(t,e):t instanceof fc?this.editPolygon(t,e):t instanceof hc||t instanceof lc?e.edit(t,this._factory):(Ju.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},_c.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),i=new xl,r=0;r<n.getNumGeometries();r++){var o=this.edit(n.getGeometryN(r),e);null===o||o.isEmpty()||i.add(o)}return n.getClass()===dc?this._factory.createMultiPoint(i.toArray([])):n.getClass()===$l?this._factory.createMultiLineString(i.toArray([])):n.getClass()===mc?this._factory.createMultiPolygon(i.toArray([])):this._factory.createGeometryCollection(i.toArray([]))},_c.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var i=this.edit(n.getExteriorRing(),e);if(null===i||i.isEmpty())return this._factory.createPolygon();for(var r=new xl,o=0;o<n.getNumInteriorRing();o++){var a=this.edit(n.getInteriorRingN(o),e);null===a||a.isEmpty()||r.add(a)}return this._factory.createPolygon(i,r.toArray([]))},_c.prototype.interfaces_=function(){return[]},_c.prototype.getClass=function(){return _c},_c.GeometryEditorOperation=function(){},yc.NoOpGeometryOperation.get=function(){return vc},yc.CoordinateOperation.get=function(){return bc},yc.CoordinateSequenceOperation.get=function(){return wc},Object.defineProperties(_c,yc);var vc=function(){};vc.prototype.edit=function(t,e){return t},vc.prototype.interfaces_=function(){return[_c.GeometryEditorOperation]},vc.prototype.getClass=function(){return vc};var bc=function(){};bc.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof gc?e.createLinearRing(n):t instanceof lc?e.createLineString(n):t instanceof hc?n.length>0?e.createPoint(n[0]):e.createPoint():t},bc.prototype.interfaces_=function(){return[_c.GeometryEditorOperation]},bc.prototype.getClass=function(){return bc};var wc=function(){};wc.prototype.edit=function(t,e){return t instanceof gc?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof lc?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof hc?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},wc.prototype.interfaces_=function(){return[_c.GeometryEditorOperation]},wc.prototype.getClass=function(){return wc};var xc=function(){var t=this;if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var e=arguments[0];this._coordinates=new Array(e).fill(null);for(var n=0;n<e;n++)t._coordinates[n]=new wu}else if(Iu(arguments[0],zu)){var i=arguments[0];if(null===i)return this._coordinates=new Array(0).fill(null),null;this._dimension=i.getDimension(),this._coordinates=new Array(i.size()).fill(null);for(var r=0;r<this._coordinates.length;r++)t._coordinates[r]=i.getCoordinateCopy(r)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var o=arguments[0],a=arguments[1];this._coordinates=o,this._dimension=a,null===o&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],u=arguments[1];this._coordinates=new Array(s).fill(null),this._dimension=u;for(var l=0;l<s;l++)t._coordinates[l]=new wu}},kc={serialVersionUID:{configurable:!0}};xc.prototype.setOrdinate=function(t,e,n){switch(e){case zu.X:this._coordinates[t].x=n;break;case zu.Y:this._coordinates[t].y=n;break;case zu.Z:this._coordinates[t].z=n;break;default:throw new du("invalid ordinateIndex")}},xc.prototype.size=function(){return this._coordinates.length},xc.prototype.getOrdinate=function(t,e){switch(e){case zu.X:return this._coordinates[t].x;case zu.Y:return this._coordinates[t].y;case zu.Z:return this._coordinates[t].z}return gu.NaN},xc.prototype.getCoordinate=function(){if(1===arguments.length)return this._coordinates[arguments[0]];if(2===arguments.length){var t=arguments[0],e=arguments[1];e.x=this._coordinates[t].x,e.y=this._coordinates[t].y,e.z=this._coordinates[t].z}},xc.prototype.getCoordinateCopy=function(t){return new wu(this._coordinates[t])},xc.prototype.getDimension=function(){return this._dimension},xc.prototype.getX=function(t){return this._coordinates[t].x},xc.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new xc(t,this._dimension)},xc.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},xc.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new xc(t,this._dimension)},xc.prototype.toString=function(){if(this._coordinates.length>0){var t=new Tu(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},xc.prototype.getY=function(t){return this._coordinates[t].y},xc.prototype.toCoordinateArray=function(){return this._coordinates},xc.prototype.interfaces_=function(){return[zu,bu]},xc.prototype.getClass=function(){return xc},kc.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(xc,kc);var Ec=function(){},Sc={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};Ec.prototype.readResolve=function(){return Ec.instance()},Ec.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new xc(arguments[0]);if(Iu(arguments[0],zu))return new xc(arguments[0])}else if(2===arguments.length){var t=arguments[0],e=arguments[1];return e>3&&(e=3),e<2?new xc(t):new xc(t,e)}},Ec.prototype.interfaces_=function(){return[Eu,bu]},Ec.prototype.getClass=function(){return Ec},Ec.instance=function(){return Ec.instanceObject},Sc.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},Sc.instanceObject.get=function(){return new Ec},Object.defineProperties(Ec,Sc);var Cc=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new xl,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new Ml;return this.map_.entries().forEach(function(e){return t.add(e)}),t},e.prototype.size=function(){return this.map_.size()},e}(Pl),Ic=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof Pc){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var i=arguments[0];this._modelType=i._modelType,this._scale=i._scale}},Ac={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Ic.prototype.equals=function(t){return t instanceof Ic&&this._modelType===t._modelType&&this._scale===t._scale},Ic.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),i=e.getMaximumSignificantDigits();return new Ou(n).compareTo(new Ou(i))},Ic.prototype.getScale=function(){return this._scale},Ic.prototype.isFloating=function(){return this._modelType===Ic.FLOATING||this._modelType===Ic.FLOATING_SINGLE},Ic.prototype.getType=function(){return this._modelType},Ic.prototype.toString=function(){var t="UNKNOWN";return this._modelType===Ic.FLOATING?t="Floating":this._modelType===Ic.FLOATING_SINGLE?t="Floating-Single":this._modelType===Ic.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},Ic.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return gu.isNaN(t)||this._modelType===Ic.FLOATING_SINGLE?t:this._modelType===Ic.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof wu){var e=arguments[0];if(this._modelType===Ic.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},Ic.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===Ic.FLOATING?t=16:this._modelType===Ic.FLOATING_SINGLE?t=6:this._modelType===Ic.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},Ic.prototype.setScale=function(t){this._scale=Math.abs(t)},Ic.prototype.interfaces_=function(){return[bu,_u]},Ic.prototype.getClass=function(){return Ic},Ic.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},Ac.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},Ac.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(Ic,Ac);var Pc=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},Tc={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Pc.prototype.readResolve=function(){return Pc.nameToTypeMap.get(this._name)},Pc.prototype.toString=function(){return this._name},Pc.prototype.interfaces_=function(){return[bu]},Pc.prototype.getClass=function(){return Pc},Tc.serialVersionUID.get=function(){return-552860263173159e4},Tc.nameToTypeMap.get=function(){return new Cc},Object.defineProperties(Pc,Tc),Ic.Type=Pc,Ic.FIXED=new Pc("FIXED"),Ic.FLOATING=new Pc("FLOATING"),Ic.FLOATING_SINGLE=new Pc("FLOATING SINGLE");var Oc=function t(){this._precisionModel=new Ic,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?Iu(arguments[0],Eu)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Ic&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},Lc={serialVersionUID:{configurable:!0}};Oc.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new wu(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new wu(t.getMinX(),t.getMinY()),new wu(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new wu(t.getMinX(),t.getMinY()),new wu(t.getMinX(),t.getMaxY()),new wu(t.getMaxX(),t.getMaxY()),new wu(t.getMaxX(),t.getMinY()),new wu(t.getMinX(),t.getMinY())]),null)},Oc.prototype.createLineString=function(t){return t?t instanceof Array?new lc(this.getCoordinateSequenceFactory().create(t),this):Iu(t,zu)?new lc(t,this):void 0:new lc(this.getCoordinateSequenceFactory().create([]),this)},Oc.prototype.createMultiLineString=function(){return 0===arguments.length?new $l(null,this):1===arguments.length?new $l(arguments[0],this):void 0},Oc.prototype.buildGeometry=function(t){for(var e=null,n=!1,i=!1,r=t.iterator();r.hasNext();){var o=r.next(),a=o.getClass();null===e&&(e=a),a!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(i=!0)}if(null===e)return this.createGeometryCollection();if(n||i)return this.createGeometryCollection(Oc.toGeometryArray(t));var s=t.iterator().next();if(t.size()>1){if(s instanceof fc)return this.createMultiPolygon(Oc.toPolygonArray(t));if(s instanceof lc)return this.createMultiLineString(Oc.toLineStringArray(t));if(s instanceof hc)return this.createMultiPoint(Oc.toPointArray(t));Ju.shouldNeverReachHere("Unhandled class: "+s.getClass().getName())}return s},Oc.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},Oc.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof wu){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(Iu(arguments[0],zu))return new hc(arguments[0],this)}},Oc.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},Oc.prototype.createPolygon=function(){if(0===arguments.length)return new fc(null,null,this);if(1===arguments.length){if(Iu(arguments[0],zu))return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Array)return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof gc)return this.createPolygon(arguments[0],null)}else if(2===arguments.length)return new fc(arguments[0],arguments[1],this)},Oc.prototype.getSRID=function(){return this._SRID},Oc.prototype.createGeometryCollection=function(){return 0===arguments.length?new Kl(null,this):1===arguments.length?new Kl(arguments[0],this):void 0},Oc.prototype.createGeometry=function(t){return new _c(this).edit(t,{edit:function(){if(2===arguments.length)return this._coordinateSequenceFactory.create(arguments[0])}})},Oc.prototype.getPrecisionModel=function(){return this._precisionModel},Oc.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(Iu(arguments[0],zu))return new gc(arguments[0],this)}},Oc.prototype.createMultiPolygon=function(){return 0===arguments.length?new mc(null,this):1===arguments.length?new mc(arguments[0],this):void 0},Oc.prototype.createMultiPoint=function(){var t=this;if(0===arguments.length)return new dc(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new dc(arguments[0],this);if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(Iu(arguments[0],zu)){var n=arguments[0];if(null===n)return this.createMultiPoint(new Array(0).fill(null));for(var i=new Array(n.size()).fill(null),r=0;r<n.size();r++){var o=t.getCoordinateSequenceFactory().create(1,n.getDimension());uc.copy(n,r,o,0,1),i[r]=t.createPoint(o)}return this.createMultiPoint(i)}}},Oc.prototype.interfaces_=function(){return[bu]},Oc.prototype.getClass=function(){return Oc},Oc.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Oc.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},Oc.getDefaultCoordinateSequenceFactory=function(){return Ec.instance()},Oc.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Oc.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Oc.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Oc.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Oc.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Oc.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Oc.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},Lc.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(Oc,Lc);var Mc=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Nc=function(t){this.geometryFactory=t||new Oc};Nc.prototype.read=function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!Rc[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==Mc.indexOf(n)?Rc[n].apply(this,[e.coordinates]):Rc[n].apply(this,"GeometryCollection"===n?[e.geometries]:[e])},Nc.prototype.write=function(t){var e=t.getGeometryType();if(!Dc[e])throw new Error("Geometry is not supported");return Dc[e].apply(this,[t])};var Rc={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){if(!Rc[t.geometry.type])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=Rc.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(new wu(i[0],i[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new wu(t[0],t[1]),new wu(t[2],t[1]),new wu(t[2],t[3]),new wu(t[0],t[3]),new wu(t[0],t[1])])},Point:function(t){var e=new wu(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(Rc.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=Rc.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(Rc.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=Rc.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),i=[],r=1;r<t.length;++r){var o=Rc.coordinates.apply(this,[t[r]]),a=this.geometryFactory.createLinearRing(o);i.push(a)}return this.geometryFactory.createPolygon(n,i)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n)e.push(Rc.Polygon.apply(this,[t[n]]));return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n)e.push(this.read(t[n]));return this.geometryFactory.createGeometryCollection(e)}},Dc={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:Dc.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=Dc.Point.apply(this,[t._geometries[n]]);e.push(i.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),i=0;i<n.length;++i)e.push(Dc.coordinate.apply(this,[n[i]]));return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=Dc.LineString.apply(this,[t._geometries[n]]);e.push(i.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=Dc.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var i=0;i<t._holes.length;++i){var r=Dc.LineString.apply(this,[t._holes[i]]);e.push(r.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=Dc.Polygon.apply(this,[t._geometries[n]]);e.push(i.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=i.getGeometryType();e.push(Dc[r].apply(this,[i]))}return{type:"GeometryCollection",geometries:e}}},zc=function(t){this.geometryFactory=t||new Oc,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Nc(this.geometryFactory)};zc.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===Ic.FIXED&&this.reducePrecision(e),e},zc.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var Fc=function(){this.parser=new Nc(this.geometryFactory)};Fc.prototype.write=function(t){return this.parser.write(t)};var Bc=function(){},jc={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};function Vc(t){this.message=t||""}function Uc(){this.array_=[]}Bc.prototype.interfaces_=function(){return[]},Bc.prototype.getClass=function(){return Bc},Bc.opposite=function(t){return t===Bc.LEFT?Bc.RIGHT:t===Bc.RIGHT?Bc.LEFT:t},jc.ON.get=function(){return 0},jc.LEFT.get=function(){return 1},jc.RIGHT.get=function(){return 2},Object.defineProperties(Bc,jc),(Vc.prototype=new Error).name="EmptyStackException",(Uc.prototype=new bl).add=function(t){return this.array_.push(t),!0},Uc.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},Uc.prototype.push=function(t){return this.array_.push(t),t},Uc.prototype.pop=function(t){if(0===this.array_.length)throw new Vc;return this.array_.pop()},Uc.prototype.peek=function(){if(0===this.array_.length)throw new Vc;return this.array_[this.array_.length-1]},Uc.prototype.empty=function(){return 0===this.array_.length},Uc.prototype.isEmpty=function(){return this.empty()},Uc.prototype.search=function(t){return this.array_.indexOf(t)},Uc.prototype.size=function(){return this.array_.length},Uc.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var qc=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};qc.prototype.getCoordinate=function(){return this._minCoord},qc.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},qc.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();Ju.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],i=rl.computeOrientation(this._minCoord,n,e),r=!1;(e.y<this._minCoord.y&&n.y<this._minCoord.y&&i===rl.COUNTERCLOCKWISE||e.y>this._minCoord.y&&n.y>this._minCoord.y&&i===rl.CLOCKWISE)&&(r=!0),r&&(this._minIndex=this._minIndex-1)},qc.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var i=Bc.LEFT;return n[e].y<n[e+1].y&&(i=Bc.RIGHT),i},qc.prototype.getEdge=function(){return this._orientedDe},qc.prototype.checkForRightmostCoordinate=function(t){for(var e=this,n=t.getEdge().getCoordinates(),i=0;i<n.length-1;i++)(null===e._minCoord||n[i].x>e._minCoord.x)&&(e._minDe=t,e._minIndex=i,e._minCoord=n[i])},qc.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},qc.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}Ju.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Bc.LEFT&&(this._orientedDe=this._minDe.getSym())},qc.prototype.interfaces_=function(){return[]},qc.prototype.getClass=function(){return qc};var Gc=function(t){function e(n,i){t.call(this,e.msgWithCoord(n,i)),this.pt=i?new wu(i):null,this.name="TopologyException"}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}(Ku),Hc=function(){this.array_=[]};Hc.prototype.addLast=function(t){this.array_.push(t)},Hc.prototype.removeFirst=function(){return this.array_.shift()},Hc.prototype.isEmpty=function(){return 0===this.array_.length};var Wc=function(){this._finder=null,this._dirEdgeList=new xl,this._nodes=new xl,this._rightMostCoord=null,this._env=null,this._finder=new qc};Wc.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},Wc.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Wc.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var i=n.next();if(i.isVisited()||i.getSym().isVisited()){e=i;break}}if(null===e)throw new Gc("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var r=t.getEdges().iterator();r.hasNext();){var o=r.next();o.setVisited(!0),this.copySymDepths(o)}},Wc.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(Bc.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},Wc.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Wc.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(Bc.RIGHT)>=1&&e.getDepth(Bc.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},Wc.prototype.computeDepths=function(t){var e=new Ml,n=new Hc,i=t.getNode();for(n.addLast(i),e.add(i),t.setVisited(!0);!n.isEmpty();){var r=n.removeFirst();e.add(r),this.computeNodeDepth(r);for(var o=r.getEdges().iterator();o.hasNext();){var a=o.next().getSym();if(!a.isVisited()){var s=a.getNode();e.contains(s)||(n.addLast(s),e.add(s))}}}},Wc.prototype.compareTo=function(t){return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0},Wc.prototype.getEnvelope=function(){if(null===this._env){for(var t=new qu,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),i=0;i<n.length-1;i++)t.expandToInclude(n[i]);this._env=t}return this._env},Wc.prototype.addReachable=function(t){var e=new Uc;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},Wc.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(Bc.LEFT,t.getDepth(Bc.RIGHT)),e.setDepth(Bc.RIGHT,t.getDepth(Bc.LEFT))},Wc.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var i=n.next();this._dirEdgeList.add(i);var r=i.getSym().getNode();r.isVisited()||e.push(r)}},Wc.prototype.getNodes=function(){return this._nodes},Wc.prototype.getDirectedEdges=function(){return this._dirEdgeList},Wc.prototype.interfaces_=function(){return[_u]},Wc.prototype.getClass=function(){return Wc};var Yc=function t(){var e=this;if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array)this.init(arguments[0].length);else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[Bc.ON]=n}else if(arguments[0]instanceof t){var i=arguments[0];if(this.init(i.location.length),null!==i)for(var r=0;r<this.location.length;r++)e.location[r]=i.location[r]}}else if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];this.init(3),this.location[Bc.ON]=o,this.location[Bc.LEFT]=a,this.location[Bc.RIGHT]=s}};Yc.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},Yc.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==Su.NONE)return!1;return!0},Yc.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===Su.NONE&&(this.location[e]=t)},Yc.prototype.isLine=function(){return 1===this.location.length},Yc.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[Bc.ON]=this.location[Bc.ON],e[Bc.LEFT]=Su.NONE,e[Bc.RIGHT]=Su.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===Su.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},Yc.prototype.getLocations=function(){return this.location},Yc.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[Bc.LEFT];this.location[Bc.LEFT]=this.location[Bc.RIGHT],this.location[Bc.RIGHT]=t},Yc.prototype.toString=function(){var t=new Tu;return this.location.length>1&&t.append(Su.toLocationSymbol(this.location[Bc.LEFT])),t.append(Su.toLocationSymbol(this.location[Bc.ON])),this.location.length>1&&t.append(Su.toLocationSymbol(this.location[Bc.RIGHT])),t.toString()},Yc.prototype.setLocations=function(t,e,n){this.location[Bc.ON]=t,this.location[Bc.LEFT]=e,this.location[Bc.RIGHT]=n},Yc.prototype.get=function(t){return t<this.location.length?this.location[t]:Su.NONE},Yc.prototype.isArea=function(){return this.location.length>1},Yc.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===Su.NONE)return!0;return!1},Yc.prototype.setLocation=function(){1===arguments.length?this.setLocation(Bc.ON,arguments[0]):2===arguments.length&&(this.location[arguments[0]]=arguments[1])},Yc.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(Su.NONE)},Yc.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},Yc.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},Yc.prototype.interfaces_=function(){return[]},Yc.prototype.getClass=function(){return Yc};var Zc=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new Yc(e),this.elt[1]=new Yc(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new Yc(n.elt[0]),this.elt[1]=new Yc(n.elt[1])}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.elt[0]=new Yc(Su.NONE),this.elt[1]=new Yc(Su.NONE),this.elt[i].setLocation(r)}else if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];this.elt[0]=new Yc(o,a,s),this.elt[1]=new Yc(o,a,s)}else if(4===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2],h=arguments[3];this.elt[0]=new Yc(Su.NONE,Su.NONE,Su.NONE),this.elt[1]=new Yc(Su.NONE,Su.NONE,Su.NONE),this.elt[u].setLocations(l,c,h)}};Zc.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},Zc.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},Zc.prototype.isNull=function(t){return this.elt[t].isNull()},Zc.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else 2===arguments.length&&this.elt[arguments[0]].setAllLocationsIfNull(arguments[1])},Zc.prototype.isLine=function(t){return this.elt[t].isLine()},Zc.prototype.merge=function(t){for(var e=this,n=0;n<2;n++)null===e.elt[n]&&null!==t.elt[n]?e.elt[n]=new Yc(t.elt[n]):e.elt[n].merge(t.elt[n])},Zc.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Zc.prototype.getLocation=function(){return 1===arguments.length?this.elt[arguments[0]].get(Bc.ON):2===arguments.length?this.elt[arguments[0]].get(arguments[1]):void 0},Zc.prototype.toString=function(){var t=new Tu;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},Zc.prototype.isArea=function(){return 0===arguments.length?this.elt[0].isArea()||this.elt[1].isArea():1===arguments.length?this.elt[arguments[0]].isArea():void 0},Zc.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},Zc.prototype.setLocation=function(){2===arguments.length?this.elt[arguments[0]].setLocation(Bc.ON,arguments[1]):3===arguments.length&&this.elt[arguments[0]].setLocation(arguments[1],arguments[2])},Zc.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},Zc.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},Zc.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new Yc(this.elt[t].location[0]))},Zc.prototype.interfaces_=function(){return[]},Zc.prototype.getClass=function(){return Zc},Zc.toLineLabel=function(t){for(var e=new Zc(Su.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var Xc=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new xl,this._pts=new xl,this._label=new Zc(Su.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new xl,this._geometryFactory=null;var t=arguments[0];this._geometryFactory=arguments[1],this.computePoints(t),this.computeRing()};Xc.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=rl.isCCW(this._ring.getCoordinates())},Xc.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},Xc.prototype.computePoints=function(t){var e=this;this._startDe=t;var n=t,i=!0;do{if(null===n)throw new Gc("Found null DirectedEdge");if(n.getEdgeRing()===e)throw new Gc("Directed Edge visited twice during ring-building at "+n.getCoordinate());e._edges.add(n);var r=n.getLabel();Ju.isTrue(r.isArea()),e.mergeLabel(r),e.addPoints(n.getEdge(),n.isForward(),i),i=!1,e.setEdgeRing(n,e),n=e.getNext(n)}while(n!==this._startDe)},Xc.prototype.getLinearRing=function(){return this._ring},Xc.prototype.getCoordinate=function(t){return this._pts.get(t)},Xc.prototype.computeMaxNodeDegree=function(){var t=this;this._maxNodeDegree=0;var e=this._startDe;do{var n=e.getNode().getEdges().getOutgoingDegree(t);n>t._maxNodeDegree&&(t._maxNodeDegree=n),e=t.getNext(e)}while(e!==this._startDe);this._maxNodeDegree*=2},Xc.prototype.addPoints=function(t,e,n){var i=t.getCoordinates();if(e){var r=1;n&&(r=0);for(var o=r;o<i.length;o++)this._pts.add(i[o])}else{var a=i.length-2;n&&(a=i.length-1);for(var s=a;s>=0;s--)this._pts.add(i[s])}},Xc.prototype.isHole=function(){return this._isHole},Xc.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},Xc.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!rl.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},Xc.prototype.addHole=function(t){this._holes.add(t)},Xc.prototype.isShell=function(){return null===this._shell},Xc.prototype.getLabel=function(){return this._label},Xc.prototype.getEdges=function(){return this._edges},Xc.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Xc.prototype.getShell=function(){return this._shell},Xc.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[1],n=arguments[0].getLocation(e,Bc.RIGHT);if(n===Su.NONE)return null;if(this._label.getLocation(e)===Su.NONE)return this._label.setLocation(e,n),null}},Xc.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},Xc.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},Xc.prototype.interfaces_=function(){return[]},Xc.prototype.getClass=function(){return Xc};var Kc=function(t){function e(){t.call(this,arguments[0],arguments[1])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Xc),$c=function(t){function e(){t.call(this,arguments[0],arguments[1])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.buildMinimalRings=function(){var t=new xl,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new Kc(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Xc),Jc=function(){this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length||1===arguments.length&&(this._label=arguments[0])};Jc.prototype.setVisited=function(t){this._isVisited=t},Jc.prototype.setInResult=function(t){this._isInResult=t},Jc.prototype.isCovered=function(){return this._isCovered},Jc.prototype.isCoveredSet=function(){return this._isCoveredSet},Jc.prototype.setLabel=function(t){this._label=t},Jc.prototype.getLabel=function(){return this._label},Jc.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},Jc.prototype.updateIM=function(t){Ju.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},Jc.prototype.isInResult=function(){return this._isInResult},Jc.prototype.isVisited=function(){return this._isVisited},Jc.prototype.interfaces_=function(){return[]},Jc.prototype.getClass=function(){return Jc};var Qc=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[1];this._coord=arguments[0],this._edges=e,this._label=new Zc(0,Su.NONE)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=Su.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var i=t.getLocation(e);n!==Su.BOUNDARY&&(n=i)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new Zc(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){var t=this;if(arguments[0]instanceof e)this.mergeLabel(arguments[0]._label);else if(arguments[0]instanceof Zc)for(var n=arguments[0],i=0;i<2;i++){var r=t.computeMergedLocation(n,i);t._label.getLocation(i)===Su.NONE&&t._label.setLocation(i,r)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=Su.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case Su.BOUNDARY:n=Su.INTERIOR;break;case Su.INTERIOR:default:n=Su.BOUNDARY}this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Jc),th=function(){this.nodeMap=new jl,this.nodeFact=null,this.nodeFact=arguments[0]};th.prototype.find=function(t){return this.nodeMap.get(t)},th.prototype.addNode=function(){if(arguments[0]instanceof wu){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof Qc){var n=arguments[0],i=this.nodeMap.get(n.getCoordinate());return null===i?(this.nodeMap.put(n.getCoordinate(),n),n):(i.mergeLabel(n),i)}},th.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},th.prototype.iterator=function(){return this.nodeMap.values().iterator()},th.prototype.values=function(){return this.nodeMap.values()},th.prototype.getBoundaryNodes=function(t){for(var e=new xl,n=this.iterator();n.hasNext();){var i=n.next();i.getLabel().getLocation(t)===Su.BOUNDARY&&e.add(i)}return e},th.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},th.prototype.interfaces_=function(){return[]},th.prototype.getClass=function(){return th};var eh=function(){},nh={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};eh.prototype.interfaces_=function(){return[]},eh.prototype.getClass=function(){return eh},eh.isNorthern=function(t){return t===eh.NE||t===eh.NW},eh.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},eh.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},eh.isInHalfPlane=function(t,e){return e===eh.SE?t===eh.SE||t===eh.SW:t===e||t===e+1},eh.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new du("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?eh.NE:eh.SE:e>=0?eh.NW:eh.SW}if(arguments[0]instanceof wu&&arguments[1]instanceof wu){var n=arguments[0],i=arguments[1];if(i.x===n.x&&i.y===n.y)throw new du("Cannot compute the quadrant for two identical points "+n);return i.x>=n.x?i.y>=n.y?eh.NE:eh.SE:i.y>=n.y?eh.NW:eh.SW}},nh.NE.get=function(){return 0},nh.NW.get=function(){return 1},nh.SW.get=function(){return 2},nh.SE.get=function(){return 3},Object.defineProperties(eh,nh);var ih=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length)this._edge=arguments[0];else if(3===arguments.length){var t=arguments[1],e=arguments[2],n=null;this._edge=arguments[0],this.init(t,e),this._label=n}else if(4===arguments.length){var i=arguments[1],r=arguments[2],o=arguments[3];this._edge=arguments[0],this.init(i,r),this._label=o}};ih.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:rl.computeOrientation(t._p0,t._p1,this._p1)},ih.prototype.getDy=function(){return this._dy},ih.prototype.getCoordinate=function(){return this._p0},ih.prototype.setNode=function(t){this._node=t},ih.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),i=n.lastIndexOf("."),r=n.substring(i+1);t.print("  "+r+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},ih.prototype.compareTo=function(t){return this.compareDirection(t)},ih.prototype.getDirectedCoordinate=function(){return this._p1},ih.prototype.getDx=function(){return this._dx},ih.prototype.getLabel=function(){return this._label},ih.prototype.getEdge=function(){return this._edge},ih.prototype.getQuadrant=function(){return this._quadrant},ih.prototype.getNode=function(){return this._node},ih.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},ih.prototype.computeLabel=function(t){},ih.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=eh.quadrant(this._dx,this._dy),Ju.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},ih.prototype.interfaces_=function(){return[_u]},ih.prototype.getClass=function(){return ih};var rh=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var i=e.getNumPoints()-1;this.init(e.getCoordinate(i),e.getCoordinate(i-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new Zc(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new Gc("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=this,e=!0,n=0;n<2;n++)t._label.isArea(n)&&t._label.getLocation(n,Bc.LEFT)===Su.INTERIOR&&t._label.getLocation(n,Bc.RIGHT)===Su.INTERIOR||(e=!1);return e},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[Bc.LEFT]+"/"+this._depth[Bc.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,Su.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,Su.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var i=1;t===Bc.LEFT&&(i=-1);var r=Bc.opposite(t),o=e+n*i;this.setDepth(t,e),this.setDepth(r,o)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===Su.EXTERIOR&&e===Su.INTERIOR?1:t===Su.INTERIOR&&e===Su.EXTERIOR?-1:0},e}(ih),oh=function(){};oh.prototype.createNode=function(t){return new Qc(t,null)},oh.prototype.interfaces_=function(){return[]},oh.prototype.getClass=function(){return oh};var ah=function(){this._edges=new xl,this._nodes=null,this._edgeEndList=new xl,0===arguments.length?this._nodes=new th(new oh):1===arguments.length&&(this._nodes=new th(arguments[0]))};ah.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},ah.prototype.find=function(t){return this._nodes.find(t)},ah.prototype.addNode=function(){return arguments[0]instanceof Qc||arguments[0]instanceof wu?this._nodes.addNode(arguments[0]):void 0},ah.prototype.getNodeIterator=function(){return this._nodes.iterator()},ah.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},ah.prototype.debugPrintln=function(t){Vu.out.println(t)},ah.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var i=n.getLabel();return null!==i&&i.getLocation(t)===Su.BOUNDARY},ah.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},ah.prototype.matchInSameDirection=function(t,e,n,i){return!!t.equals(n)&&rl.computeOrientation(t,e,i)===rl.COLLINEAR&&eh.quadrant(t,e)===eh.quadrant(n,i)},ah.prototype.getEdgeEnds=function(){return this._edgeEndList},ah.prototype.debugPrint=function(t){Vu.out.print(t)},ah.prototype.getEdgeIterator=function(){return this._edges.iterator()},ah.prototype.findEdgeInSameDirection=function(t,e){for(var n=this,i=0;i<this._edges.size();i++){var r=n._edges.get(i),o=r.getCoordinates();if(n.matchInSameDirection(t,e,o[0],o[1]))return r;if(n.matchInSameDirection(t,e,o[o.length-1],o[o.length-2]))return r}return null},ah.prototype.insertEdge=function(t){this._edges.add(t)},ah.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},ah.prototype.addEdges=function(t){for(var e=this,n=t.iterator();n.hasNext();){var i=n.next();e._edges.add(i);var r=new rh(i,!0),o=new rh(i,!1);r.setSym(o),o.setSym(r),e.add(r),e.add(o)}},ah.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},ah.prototype.getNodes=function(){return this._nodes.values()},ah.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(t.equals(r[0])&&e.equals(r[1]))return i}return null},ah.prototype.interfaces_=function(){return[]},ah.prototype.getClass=function(){return ah},ah.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var sh=function(){this._geometryFactory=null,this._shellList=new xl,this._geometryFactory=arguments[0]};sh.prototype.sortShellsAndHoles=function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isHole()?n.add(r):e.add(r)}},sh.prototype.computePolygons=function(t){for(var e=new xl,n=t.iterator();n.hasNext();){var i=n.next().toPolygon(this._geometryFactory);e.add(i)}return e},sh.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(null===i.getShell()){var r=this.findEdgeRingContaining(i,t);if(null===r)throw new Gc("unable to assign hole to a shell",i.getCoordinate(0));i.setShell(r)}}},sh.prototype.buildMinimalEdgeRings=function(t,e,n){for(var i=new xl,r=t.iterator();r.hasNext();){var o=r.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var a=o.buildMinimalRings(),s=this.findShell(a);null!==s?(this.placePolygonHoles(s,a),e.add(s)):n.addAll(a)}else i.add(o)}return i},sh.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},sh.prototype.buildMaximalEdgeRings=function(t){for(var e=new xl,n=t.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&i.getLabel().isArea()&&null===i.getEdgeRing()){var r=new $c(i,this._geometryFactory);e.add(r),r.setInResult()}}return e},sh.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();i.isHole()&&i.setShell(t)}},sh.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},sh.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),o=null,a=null,s=e.iterator();s.hasNext();){var u=s.next(),l=u.getLinearRing(),c=l.getEnvelopeInternal();null!==o&&(a=o.getLinearRing().getEnvelopeInternal());var h=!1;c.contains(i)&&rl.isPointInRing(r,l.getCoordinates())&&(h=!0),h&&(null===o||a.contains(c))&&(o=u)}return o},sh.prototype.findShell=function(t){for(var e=0,n=null,i=t.iterator();i.hasNext();){var r=i.next();r.isHole()||(n=r,e++)}return Ju.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},sh.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0];ah.linkResultDirectedEdges(arguments[1]);var n=this.buildMaximalEdgeRings(e),i=new xl,r=this.buildMinimalEdgeRings(n,this._shellList,i);this.sortShellsAndHoles(r,this._shellList,i),this.placeFreeHoles(this._shellList,i)}},sh.prototype.interfaces_=function(){return[]},sh.prototype.getClass=function(){return sh};var uh=function(){};uh.prototype.getBounds=function(){},uh.prototype.interfaces_=function(){return[]},uh.prototype.getClass=function(){return uh};var lh=function(){this._bounds=null,this._item=null;var t=arguments[1];this._bounds=arguments[0],this._item=t};lh.prototype.getItem=function(){return this._item},lh.prototype.getBounds=function(){return this._bounds},lh.prototype.interfaces_=function(){return[uh,bu]},lh.prototype.getClass=function(){return lh};var ch=function(){this._size=null,this._items=null,this._size=0,this._items=new xl,this._items.add(null)};ch.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},ch.prototype.size=function(){return this._size},ch.prototype.reorder=function(t){for(var e=this,n=null,i=this._items.get(t);2*t<=this._size&&((n=2*t)!==e._size&&e._items.get(n+1).compareTo(e._items.get(n))<0&&n++,e._items.get(n).compareTo(i)<0);t=n)e._items.set(t,e._items.get(n));this._items.set(t,i)},ch.prototype.clear=function(){this._size=0,this._items.clear()},ch.prototype.isEmpty=function(){return 0===this._size},ch.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},ch.prototype.interfaces_=function(){return[]},ch.prototype.getClass=function(){return ch};var hh=function(){};hh.prototype.visitItem=function(t){},hh.prototype.interfaces_=function(){return[]},hh.prototype.getClass=function(){return hh};var ph=function(){};ph.prototype.insert=function(t,e){},ph.prototype.remove=function(t,e){},ph.prototype.query=function(){},ph.prototype.interfaces_=function(){return[]},ph.prototype.getClass=function(){return ph};var fh=function(){this._childBoundables=new xl,this._bounds=null,this._level=null,0===arguments.length||1===arguments.length&&(this._level=arguments[0])},dh={serialVersionUID:{configurable:!0}};fh.prototype.getLevel=function(){return this._level},fh.prototype.size=function(){return this._childBoundables.size()},fh.prototype.getChildBoundables=function(){return this._childBoundables},fh.prototype.addChildBoundable=function(t){Ju.isTrue(null===this._bounds),this._childBoundables.add(t)},fh.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},fh.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},fh.prototype.interfaces_=function(){return[uh,bu]},fh.prototype.getClass=function(){return fh},dh.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(fh,dh);var gh=function(){};gh.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},gh.min=function(t){return gh.sort(t),t.get(0)},gh.sort=function(t,e){var n=t.toArray();e?Hl.sort(n,e):Hl.sort(n);for(var i=t.iterator(),r=0,o=n.length;r<o;r++)i.next(),i.set(n[r])},gh.singletonList=function(t){var e=new xl;return e.add(t),e};var mh=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[1],e=arguments[2];this._boundable1=arguments[0],this._boundable2=t,this._itemDistance=e,this._distance=this.distance()};mh.prototype.expandToQueue=function(t,e){var n=mh.isComposite(this._boundable1),i=mh.isComposite(this._boundable2);if(n&&i)return mh.area(this._boundable1)>mh.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(i)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new du("neither boundable is composite")},mh.prototype.isLeaves=function(){return!(mh.isComposite(this._boundable1)||mh.isComposite(this._boundable2))},mh.prototype.compareTo=function(t){return this._distance<t._distance?-1:this._distance>t._distance?1:0},mh.prototype.expand=function(t,e,n,i){for(var r=t.getChildBoundables().iterator();r.hasNext();){var o=r.next(),a=new mh(o,e,this._itemDistance);a.getDistance()<i&&n.add(a)}},mh.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},mh.prototype.getDistance=function(){return this._distance},mh.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},mh.prototype.interfaces_=function(){return[_u]},mh.prototype.getClass=function(){return mh},mh.area=function(t){return t.getBounds().getArea()},mh.isComposite=function(t){return t instanceof fh};var _h=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new xl,this._nodeCapacity=null,0===arguments.length)this._nodeCapacity=t.DEFAULT_NODE_CAPACITY;else if(1===arguments.length){var e=arguments[0];Ju.isTrue(e>1,"Node capacity must be greater than 1"),this._nodeCapacity=e}},yh={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};_h.prototype.getNodeCapacity=function(){return this._nodeCapacity},_h.prototype.lastNode=function(t){return t.get(t.size()-1)},_h.prototype.size=function(){var t=this;if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var e=0,n=arguments[0].getChildBoundables().iterator();n.hasNext();){var i=n.next();i instanceof fh?e+=t.size(i):i instanceof lh&&(e+=1)}return e}},_h.prototype.removeItem=function(t,e){for(var n=null,i=t.getChildBoundables().iterator();i.hasNext();){var r=i.next();r instanceof lh&&r.getItem()===e&&(n=r)}return null!==n&&(t.getChildBoundables().remove(n),!0)},_h.prototype.itemsTree=function(){var t=this;if(0===arguments.length){this.build();var e=this.itemsTree(this._root);return null===e?new xl:e}if(1===arguments.length){for(var n=arguments[0],i=new xl,r=n.getChildBoundables().iterator();r.hasNext();){var o=r.next();if(o instanceof fh){var a=t.itemsTree(o);null!==a&&i.add(a)}else o instanceof lh?i.add(o.getItem()):Ju.shouldNeverReachHere()}return i.size()<=0?null:i}},_h.prototype.insert=function(t,e){Ju.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new lh(t,e))},_h.prototype.boundablesAtLevel=function(){var t=this;if(1===arguments.length){var e=arguments[0],n=new xl;return this.boundablesAtLevel(e,this._root,n),n}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];if(Ju.isTrue(i>-2),r.getLevel()===i)return o.add(r),null;for(var a=r.getChildBoundables().iterator();a.hasNext();){var s=a.next();s instanceof fh?t.boundablesAtLevel(i,s,o):(Ju.isTrue(s instanceof lh),-1===i&&o.add(s))}return null}},_h.prototype.query=function(){var t=this;if(1===arguments.length){var e=arguments[0];this.build();var n=new xl;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.query(e,this._root,n),n}if(2===arguments.length){var i=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),i)&&this.query(i,this._root,r)}else if(3===arguments.length)if(Iu(arguments[2],hh)&&arguments[0]instanceof Object&&arguments[1]instanceof fh)for(var o=arguments[0],a=arguments[2],s=arguments[1].getChildBoundables(),u=0;u<s.size();u++){var l=s.get(u);t.getIntersectsOp().intersects(l.getBounds(),o)&&(l instanceof fh?t.query(o,l,a):l instanceof lh?a.visitItem(l.getItem()):Ju.shouldNeverReachHere())}else if(Iu(arguments[2],bl)&&arguments[0]instanceof Object&&arguments[1]instanceof fh)for(var c=arguments[0],h=arguments[2],p=arguments[1].getChildBoundables(),f=0;f<p.size();f++){var d=p.get(f);t.getIntersectsOp().intersects(d.getBounds(),c)&&(d instanceof fh?t.query(c,d,h):d instanceof lh?h.add(d.getItem()):Ju.shouldNeverReachHere())}},_h.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},_h.prototype.getRoot=function(){return this.build(),this._root},_h.prototype.remove=function(){var t=this;if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.remove(e,this._root,n)}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],a=this.removeItem(r,o);if(a)return!0;for(var s=null,u=r.getChildBoundables().iterator();u.hasNext();){var l=u.next();if(t.getIntersectsOp().intersects(l.getBounds(),i)&&l instanceof fh&&(a=t.remove(i,l,o))){s=l;break}}return null!==s&&s.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(s),a}},_h.prototype.createHigherLevels=function(t,e){Ju.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},_h.prototype.depth=function(){var t=this;if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var e=0,n=arguments[0].getChildBoundables().iterator();n.hasNext();){var i=n.next();if(i instanceof fh){var r=t.depth(i);r>e&&(e=r)}}return e+1}},_h.prototype.createParentBoundables=function(t,e){var n=this;Ju.isTrue(!t.isEmpty());var i=new xl;i.add(this.createNode(e));var r=new xl(t);gh.sort(r,this.getComparator());for(var o=r.iterator();o.hasNext();){var a=o.next();n.lastNode(i).getChildBoundables().size()===n.getNodeCapacity()&&i.add(n.createNode(e)),n.lastNode(i).addChildBoundable(a)}return i},_h.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},_h.prototype.interfaces_=function(){return[bu]},_h.prototype.getClass=function(){return _h},_h.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},yh.IntersectsOp.get=function(){return vh},yh.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},yh.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(_h,yh);var vh=function(){},bh=function(){};bh.prototype.distance=function(t,e){},bh.prototype.interfaces_=function(){return[]},bh.prototype.getClass=function(){return bh};var wh=function(t){function e(n){t.call(this,n=n||e.DEFAULT_NODE_CAPACITY)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(t,e){Ju.isTrue(t.length>0);for(var n=new xl,i=0;i<t.length;i++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[i],e));return n},e.prototype.createNode=function(t){return new xh(t)},e.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),i=new Array(e).fill(null),r=t.iterator(),o=0;o<e;o++){i[o]=new xl;for(var a=0;r.hasNext()&&a<n;){var s=r.next();i[o].add(s),a++}}return i},e.prototype.query=function(){if(1===arguments.length)return t.prototype.query.call(this,arguments[0]);2===arguments.length?t.prototype.query.call(this,arguments[0],arguments[1]):3===arguments.length&&(Iu(arguments[2],hh)&&arguments[0]instanceof Object&&arguments[1]instanceof fh||Iu(arguments[2],bl)&&arguments[0]instanceof Object&&arguments[1]instanceof fh)&&t.prototype.query.call(this,arguments[0],arguments[1],arguments[2])},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},e.prototype.remove=function(){return 2===arguments.length?t.prototype.remove.call(this,arguments[0],arguments[1]):t.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(t,n){Ju.isTrue(!t.isEmpty());var i=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),r=new xl(t);gh.sort(r,e.xComparator);var o=this.verticalSlices(r,Math.trunc(Math.ceil(Math.sqrt(i))));return this.createParentBoundablesFromVerticalSlices(o,n)},e.prototype.nearestNeighbour=function(){if(1===arguments.length){if(Iu(arguments[0],bh)){var t=arguments[0],n=new mh(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(n)}if(arguments[0]instanceof mh)return this.nearestNeighbour(arguments[0],gu.POSITIVE_INFINITY)}else if(2===arguments.length){if(arguments[0]instanceof e&&Iu(arguments[1],bh)){var i=arguments[0],r=arguments[1],o=new mh(this.getRoot(),i.getRoot(),r);return this.nearestNeighbour(o)}if(arguments[0]instanceof mh&&"number"==typeof arguments[1]){var a=arguments[0],s=arguments[1],u=null,l=new ch;for(l.add(a);!l.isEmpty()&&s>0;){var c=l.poll(),h=c.getDistance();if(h>=s)break;c.isLeaves()?(s=h,u=c):c.expandToQueue(l,s)}return[u.getBoundable(0).getItem(),u.getBoundable(1).getItem()]}}else if(3===arguments.length){var p=arguments[2],f=new lh(arguments[0],arguments[1]),d=new mh(this.getRoot(),f,p);return this.nearestNeighbour(d)[0]}},e.prototype.interfaces_=function(){return[ph,bu]},e.prototype.getClass=function(){return e},e.centreX=function(t){return e.avg(t.getMinX(),t.getMaxX())},e.avg=function(t,e){return(t+e)/2},e.centreY=function(t){return e.avg(t.getMinY(),t.getMaxY())},n.STRtreeNode.get=function(){return xh},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[vu]},compare:function(n,i){return t.compareDoubles(e.centreX(n.getBounds()),e.centreX(i.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[vu]},compare:function(n,i){return t.compareDoubles(e.centreY(n.getBounds()),e.centreY(i.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,n),e}(_h),xh=function(t){function e(){t.call(this,arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new qu(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(fh),kh=function(){};kh.prototype.interfaces_=function(){return[]},kh.prototype.getClass=function(){return kh},kh.relativeSign=function(t,e){return t<e?-1:t>e?1:0},kh.compare=function(t,e,n){if(e.equals2D(n))return 0;var i=kh.relativeSign(e.x,n.x),r=kh.relativeSign(e.y,n.y);switch(t){case 0:return kh.compareValue(i,r);case 1:return kh.compareValue(r,i);case 2:return kh.compareValue(r,-i);case 3:return kh.compareValue(-i,r);case 4:return kh.compareValue(-i,-r);case 5:return kh.compareValue(-r,-i);case 6:return kh.compareValue(-r,i);case 7:return kh.compareValue(i,-r)}return Ju.shouldNeverReachHere("invalid octant value"),0},kh.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var Eh=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._segString=t,this.coord=new wu(e),this.segmentIndex=n,this._segmentOctant=i,this._isInterior=!e.equals2D(t.getCoordinate(n))};Eh.prototype.getCoordinate=function(){return this.coord},Eh.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},Eh.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:kh.compare(this._segmentOctant,this.coord,e.coord)},Eh.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},Eh.prototype.isInterior=function(){return this._isInterior},Eh.prototype.interfaces_=function(){return[_u]},Eh.prototype.getClass=function(){return Eh};var Sh=function(){this._nodeMap=new jl,this._edge=null,this._edge=arguments[0]};Sh.prototype.getSplitCoordinates=function(){var t=new El;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next();this.addEdgeCoordinates(n,i,t),n=i}return t.toCoordinateArray()},Sh.prototype.addCollapsedNodes=function(){var t=new xl;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},Sh.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Sh.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),i=this._edge.getCoordinate(e+2);n.equals2D(i)&&t.add(new Ou(e+1))}},Sh.prototype.addEdgeCoordinates=function(t,e,n){var i=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);n.add(new wu(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this._edge.getCoordinate(o));r&&n.add(new wu(e.coord))},Sh.prototype.iterator=function(){return this._nodeMap.values().iterator()},Sh.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},Sh.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var i=e.segmentIndex-t.segmentIndex;return e.isInterior()||i--,1===i&&(n[0]=t.segmentIndex+1,!0)},Sh.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),i=n.next();n.hasNext();){var r=n.next();this.findCollapseIndex(i,r,e)&&t.add(new Ou(e[0])),i=r}},Sh.prototype.getEdge=function(){return this._edge},Sh.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},Sh.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),a=0;o[a++]=new wu(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)o[a++]=this._edge.getCoordinate(s);return r&&(o[a]=new wu(e.coord)),new Ph(o,this._edge.getData())},Sh.prototype.add=function(t,e){var n=new Eh(this._edge,t,e,this._edge.getSegmentOctant(e)),i=this._nodeMap.get(n);return null!==i?(Ju.isTrue(i.coord.equals2D(t),"Found equal nodes with different coordinates"),i):(this._nodeMap.put(n,n),n)},Sh.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new Ku("bad split edge start point at "+n);var i=t.get(t.size()-1).getCoordinates(),r=i[i.length-1];if(!r.equals2D(e[e.length-1]))throw new Ku("bad split edge end point at "+r)},Sh.prototype.interfaces_=function(){return[]},Sh.prototype.getClass=function(){return Sh};var Ch=function(){};Ch.prototype.interfaces_=function(){return[]},Ch.prototype.getClass=function(){return Ch},Ch.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new du("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),i=Math.abs(e);return t>=0?e>=0?n>=i?0:1:n>=i?7:6:e>=0?n>=i?3:2:n>=i?4:5}if(arguments[0]instanceof wu&&arguments[1]instanceof wu){var r=arguments[0],o=arguments[1],a=o.x-r.x,s=o.y-r.y;if(0===a&&0===s)throw new du("Cannot compute the octant for two identical points "+r);return Ch.octant(a,s)}};var Ih=function(){};Ih.prototype.getCoordinates=function(){},Ih.prototype.size=function(){},Ih.prototype.getCoordinate=function(t){},Ih.prototype.isClosed=function(){},Ih.prototype.setData=function(t){},Ih.prototype.getData=function(){},Ih.prototype.interfaces_=function(){return[]},Ih.prototype.getClass=function(){return Ih};var Ah=function(){};Ah.prototype.addIntersection=function(t,e){},Ah.prototype.interfaces_=function(){return[Ih]},Ah.prototype.getClass=function(){return Ah};var Ph=function(){this._nodeList=new Sh(this),this._pts=null,this._data=null;var t=arguments[1];this._pts=arguments[0],this._data=t};Ph.prototype.getCoordinates=function(){return this._pts},Ph.prototype.size=function(){return this._pts.length},Ph.prototype.getCoordinate=function(t){return this._pts[t]},Ph.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Ph.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},Ph.prototype.setData=function(t){this._data=t},Ph.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:Ch.octant(t,e)},Ph.prototype.getData=function(){return this._data},Ph.prototype.addIntersection=function(){if(2===arguments.length)this.addIntersectionNode(arguments[0],arguments[1]);else if(4===arguments.length){var t=arguments[1],e=new wu(arguments[0].getIntersection(arguments[3]));this.addIntersection(e,t)}},Ph.prototype.toString=function(){return Xu.toLineString(new xc(this._pts))},Ph.prototype.getNodeList=function(){return this._nodeList},Ph.prototype.addIntersectionNode=function(t,e){var n=e,i=n+1;return i<this._pts.length&&t.equals2D(this._pts[i])&&(n=i),this._nodeList.add(t,n)},Ph.prototype.addIntersections=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},Ph.prototype.interfaces_=function(){return[Ah]},Ph.prototype.getClass=function(){return Ph},Ph.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new xl;return Ph.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[1],i=arguments[0].iterator();i.hasNext();)i.next().getNodeList().addSplitEdges(n)};var Th=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new wu,this.p1=new wu;else if(1===arguments.length){var t=arguments[0];this.p0=new wu(t.p0),this.p1=new wu(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[2],n=arguments[3];this.p0=new wu(arguments[0],arguments[1]),this.p1=new wu(e,n)}},Oh={serialVersionUID:{configurable:!0}};Th.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Th.prototype.orientationIndex=function(){if(arguments[0]instanceof Th){var t=arguments[0],e=rl.orientationIndex(this.p0,this.p1,t.p0),n=rl.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0||e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof wu)return rl.orientationIndex(this.p0,this.p1,arguments[0])},Th.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},Th.prototype.isVertical=function(){return this.p0.x===this.p1.x},Th.prototype.equals=function(t){if(!(t instanceof Th))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},Th.prototype.intersection=function(t){var e=new el;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},Th.prototype.project=function(){if(arguments[0]instanceof wu){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new wu(t);var e=this.projectionFactor(t),n=new wu;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof Th){var i=arguments[0],r=this.projectionFactor(i.p0),o=this.projectionFactor(i.p1);if(r>=1&&o>=1)return null;if(r<=0&&o<=0)return null;var a=this.project(i.p0);r<0&&(a=this.p0),r>1&&(a=this.p1);var s=this.project(i.p1);return o<0&&(s=this.p0),o>1&&(s=this.p1),new Th(a,s)}},Th.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Th.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Th.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},Th.prototype.distancePerpendicular=function(t){return rl.distancePointLinePerpendicular(t,this.p0,this.p1)},Th.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Th.prototype.midPoint=function(){return Th.midPoint(this.p0,this.p1)},Th.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,i=e*e+n*n;return i<=0?gu.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/i},Th.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),i=gu.MAX_VALUE,r=null,o=this.closestPoint(t.p0);i=o.distance(t.p0),n[0]=o,n[1]=t.p0;var a=this.closestPoint(t.p1);(r=a.distance(t.p1))<i&&(i=r,n[0]=a,n[1]=t.p1);var s=t.closestPoint(this.p0);(r=s.distance(this.p0))<i&&(i=r,n[0]=this.p0,n[1]=s);var u=t.closestPoint(this.p1);return(r=u.distance(this.p1))<i&&(i=r,n[0]=this.p1,n[1]=u),n},Th.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},Th.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Th.prototype.getLength=function(){return this.p0.distance(this.p1)},Th.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},Th.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},Th.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},Th.prototype.lineIntersection=function(t){try{return Uu.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof ju))throw t}return null},Th.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Th.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),i=this.p0.y+t*(this.p1.y-this.p0.y),r=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,a=Math.sqrt(r*r+o*o),s=0,u=0;if(0!==e){if(a<=0)throw new Error("Cannot compute offset from zero-length line segment");s=e*r/a,u=e*o/a}return new wu(n-u,i+s)},Th.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},Th.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||gu.isNaN(e))&&(e=1),e},Th.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Th.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Th.prototype.distance=function(){if(arguments[0]instanceof Th){var t=arguments[0];return rl.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof wu)return rl.distancePointLine(arguments[0],this.p0,this.p1)},Th.prototype.pointAlong=function(t){var e=new wu;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},Th.prototype.hashCode=function(){var t=gu.doubleToLongBits(this.p0.x);t^=31*gu.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=gu.doubleToLongBits(this.p1.x);return n^=31*gu.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},Th.prototype.interfaces_=function(){return[_u,bu]},Th.prototype.getClass=function(){return Th},Th.midPoint=function(t,e){return new wu((t.x+e.x)/2,(t.y+e.y)/2)},Oh.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Th,Oh);var Lh=function(){this.tempEnv1=new qu,this.tempEnv2=new qu,this._overlapSeg1=new Th,this._overlapSeg2=new Th};Lh.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[2],e=arguments[3];arguments[0].getLineSegment(arguments[1],this._overlapSeg1),t.getLineSegment(e,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},Lh.prototype.interfaces_=function(){return[]},Lh.prototype.getClass=function(){return Lh};var Mh=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[1],e=arguments[2],n=arguments[3];this._pts=arguments[0],this._start=t,this._end=e,this._context=n};Mh.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},Mh.prototype.computeSelect=function(t,e,n,i){if(i.tempEnv1.init(this._pts[e],this._pts[n]),n-e==1)return i.select(this,e),null;if(!t.intersects(i.tempEnv1))return null;var r=Math.trunc((e+n)/2);e<r&&this.computeSelect(t,e,r,i),r<n&&this.computeSelect(t,r,n,i)},Mh.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},Mh.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},Mh.prototype.setId=function(t){this._id=t},Mh.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},Mh.prototype.getEnvelope=function(){return null===this._env&&(this._env=new qu(this._pts[this._start],this._pts[this._end])),this._env},Mh.prototype.getEndIndex=function(){return this._end},Mh.prototype.getStartIndex=function(){return this._start},Mh.prototype.getContext=function(){return this._context},Mh.prototype.getId=function(){return this._id},Mh.prototype.computeOverlapsInternal=function(t,e,n,i,r,o){var a=this._pts[t],s=this._pts[e],u=n._pts[i],l=n._pts[r];if(e-t==1&&r-i==1)return o.overlap(this,t,n,i),null;if(o.tempEnv1.init(a,s),o.tempEnv2.init(u,l),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((t+e)/2),h=Math.trunc((i+r)/2);t<c&&(i<h&&this.computeOverlapsInternal(t,c,n,i,h,o),h<r&&this.computeOverlapsInternal(t,c,n,h,r,o)),c<e&&(i<h&&this.computeOverlapsInternal(c,e,n,i,h,o),h<r&&this.computeOverlapsInternal(c,e,n,h,r,o))},Mh.prototype.interfaces_=function(){return[]},Mh.prototype.getClass=function(){return Mh};var Nh=function(){};Nh.prototype.interfaces_=function(){return[]},Nh.prototype.getClass=function(){return Nh},Nh.getChainStartIndices=function(t){var e=0,n=new xl;n.add(new Ou(e));do{var i=Nh.findChainEnd(t,e);n.add(new Ou(i)),e=i}while(e<t.length-1);return Nh.toIntArray(n)},Nh.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var i=eh.quadrant(t[n],t[n+1]),r=e+1;r<t.length&&(t[r-1].equals2D(t[r])||eh.quadrant(t[r-1],t[r])===i);)r++;return r-1},Nh.getChains=function(){if(1===arguments.length)return Nh.getChains(arguments[0],null);if(2===arguments.length){for(var t=arguments[0],e=arguments[1],n=new xl,i=Nh.getChainStartIndices(t),r=0;r<i.length-1;r++){var o=new Mh(t,i[r],i[r+1],e);n.add(o)}return n}},Nh.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Rh=function(){};Rh.prototype.computeNodes=function(t){},Rh.prototype.getNodedSubstrings=function(){},Rh.prototype.interfaces_=function(){return[]},Rh.prototype.getClass=function(){return Rh};var Dh=function(){this._segInt=null,0===arguments.length||1===arguments.length&&this.setSegmentIntersector(arguments[0])};Dh.prototype.setSegmentIntersector=function(t){this._segInt=t},Dh.prototype.interfaces_=function(){return[Rh]},Dh.prototype.getClass=function(){return Dh};var zh=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new xl,this._index=new wh,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return Ph.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=this,n=Nh.getChains(t.getCoordinates(),t).iterator();n.hasNext();){var i=n.next();i.setId(e._idCounter++),e._index.insert(i.getEnvelope(),i),e._monoChains.add(i)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=this,e=new Fh(this._segInt),n=this._monoChains.iterator();n.hasNext();)for(var i=n.next(),r=t._index.query(i.getEnvelope()).iterator();r.hasNext();){var o=r.next();if(o.getId()>i.getId()&&(i.computeOverlaps(o,e),t._nOverlaps++),t._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return Fh},Object.defineProperties(e,n),e}(Dh),Fh=function(t){function e(){t.call(this),this._si=null,this._si=arguments[0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[1],n=arguments[2],i=arguments[3],r=arguments[0].getContext(),o=n.getContext();this._si.processIntersections(r,e,o,i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Lh),Bh=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length)this.setQuadrantSegments(arguments[0]);else if(2===arguments.length){var e=arguments[1];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(e)}else if(4===arguments.length){var n=arguments[1],i=arguments[2],r=arguments[3];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(n),this.setJoinStyle(i),this.setMitreLimit(r)}},jh={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Bh.prototype.getEndCapStyle=function(){return this._endCapStyle},Bh.prototype.isSingleSided=function(){return this._isSingleSided},Bh.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=Bh.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Bh.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==Bh.JOIN_ROUND&&(this._quadrantSegments=Bh.DEFAULT_QUADRANT_SEGMENTS)},Bh.prototype.getJoinStyle=function(){return this._joinStyle},Bh.prototype.setJoinStyle=function(t){this._joinStyle=t},Bh.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},Bh.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Bh.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Bh.prototype.setEndCapStyle=function(t){this._endCapStyle=t},Bh.prototype.getMitreLimit=function(){return this._mitreLimit},Bh.prototype.setMitreLimit=function(t){this._mitreLimit=t},Bh.prototype.setSingleSided=function(t){this._isSingleSided=t},Bh.prototype.interfaces_=function(){return[]},Bh.prototype.getClass=function(){return Bh},Bh.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},jh.CAP_ROUND.get=function(){return 1},jh.CAP_FLAT.get=function(){return 2},jh.CAP_SQUARE.get=function(){return 3},jh.JOIN_ROUND.get=function(){return 1},jh.JOIN_MITRE.get=function(){return 2},jh.JOIN_BEVEL.get=function(){return 3},jh.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},jh.DEFAULT_MITRE_LIMIT.get=function(){return 5},jh.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(Bh,jh);var Vh=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=rl.COUNTERCLOCKWISE,this._inputLine=t||null},Uh={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Vh.prototype.isDeletable=function(t,e,n,i){var r=this._inputLine[t],o=this._inputLine[e],a=this._inputLine[n];return!!this.isConcave(r,o,a)&&!!this.isShallow(r,o,a,i)&&this.isShallowSampled(r,o,t,n,i)},Vh.prototype.deleteShallowConcavities=function(){for(var t=this,e=1,n=this.findNextNonDeletedIndex(e),i=this.findNextNonDeletedIndex(n),r=!1;i<this._inputLine.length;){var o=!1;t.isDeletable(e,n,i,t._distanceTol)&&(t._isDeleted[n]=Vh.DELETE,o=!0,r=!0),n=t.findNextNonDeletedIndex(e=o?i:n),i=t.findNextNonDeletedIndex(n)}return r},Vh.prototype.isShallowConcavity=function(t,e,n,i){return rl.computeOrientation(t,e,n)===this._angleOrientation&&rl.distancePointLine(e,t,n)<i},Vh.prototype.isShallowSampled=function(t,e,n,i,r){var o=Math.trunc((i-n)/Vh.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var a=n;a<i;a+=o)if(!this.isShallow(t,e,this._inputLine[a],r))return!1;return!0},Vh.prototype.isConcave=function(t,e,n){return rl.computeOrientation(t,e,n)===this._angleOrientation},Vh.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=rl.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},Vh.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===Vh.DELETE;)e++;return e},Vh.prototype.isShallow=function(t,e,n,i){return rl.distancePointLine(e,t,n)<i},Vh.prototype.collapseLine=function(){for(var t=new El,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==Vh.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},Vh.prototype.interfaces_=function(){return[]},Vh.prototype.getClass=function(){return Vh},Vh.simplify=function(t,e){return new Vh(t).simplify(e)},Uh.INIT.get=function(){return 0},Uh.DELETE.get=function(){return 1},Uh.KEEP.get=function(){return 1},Uh.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Vh,Uh);var qh=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new xl},Gh={COORDINATE_ARRAY_TYPE:{configurable:!0}};qh.prototype.getCoordinates=function(){return this._ptList.toArray(qh.COORDINATE_ARRAY_TYPE)},qh.prototype.setPrecisionModel=function(t){this._precisionModel=t},qh.prototype.addPt=function(t){var e=new wu(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},qh.prototype.revere=function(){},qh.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var i=t.length-1;i>=0;i--)this.addPt(t[i])},qh.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},qh.prototype.toString=function(){return(new Oc).createLineString(this.getCoordinates()).toString()},qh.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new wu(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},qh.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},qh.prototype.interfaces_=function(){return[]},qh.prototype.getClass=function(){return qh},Gh.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(qh,Gh);var Hh=function(){},Wh={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Hh.prototype.interfaces_=function(){return[]},Hh.prototype.getClass=function(){return Hh},Hh.toDegrees=function(t){return 180*t/Math.PI},Hh.normalize=function(t){for(;t>Math.PI;)t-=Hh.PI_TIMES_2;for(;t<=-Math.PI;)t+=Hh.PI_TIMES_2;return t},Hh.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return Math.atan2(n.y-e.y,n.x-e.x)}},Hh.isAcute=function(t,e,n){return(t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y)>0},Hh.isObtuse=function(t,e,n){return(t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y)<0},Hh.interiorAngle=function(t,e,n){var i=Hh.angle(e,t),r=Hh.angle(e,n);return Math.abs(r-i)},Hh.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Hh.PI_TIMES_2;t>=Hh.PI_TIMES_2&&(t=0)}else{for(;t>=Hh.PI_TIMES_2;)t-=Hh.PI_TIMES_2;t<0&&(t=0)}return t},Hh.angleBetween=function(t,e,n){var i=Hh.angle(e,t),r=Hh.angle(e,n);return Hh.diff(i,r)},Hh.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},Hh.toRadians=function(t){return t*Math.PI/180},Hh.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?Hh.COUNTERCLOCKWISE:n<0?Hh.CLOCKWISE:Hh.NONE},Hh.angleBetweenOriented=function(t,e,n){var i=Hh.angle(e,t),r=Hh.angle(e,n)-i;return r<=-Math.PI?r+Hh.PI_TIMES_2:r>Math.PI?r-Hh.PI_TIMES_2:r},Wh.PI_TIMES_2.get=function(){return 2*Math.PI},Wh.PI_OVER_2.get=function(){return Math.PI/2},Wh.PI_OVER_4.get=function(){return Math.PI/4},Wh.COUNTERCLOCKWISE.get=function(){return rl.COUNTERCLOCKWISE},Wh.CLOCKWISE.get=function(){return rl.CLOCKWISE},Wh.NONE.get=function(){return rl.COLLINEAR},Object.defineProperties(Hh,Wh);var Yh=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Th,this._seg1=new Th,this._offset0=new Th,this._offset1=new Th,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[1],n=arguments[2];this._precisionModel=arguments[0],this._bufParams=e,this._li=new el,this._filletAngleQuantum=Math.PI/2/e.getQuadrantSegments(),e.getQuadrantSegments()>=8&&e.getJoinStyle()===Bh.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(n)},Zh={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};Yh.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=rl.computeOrientation(this._s0,this._s1,this._s2),i=n===rl.CLOCKWISE&&this._side===Bc.LEFT||n===rl.COUNTERCLOCKWISE&&this._side===Bc.RIGHT;0===n?this.addCollinear(e):i?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},Yh.prototype.addLineEndCap=function(t,e){var n=new Th(t,e),i=new Th;this.computeOffsetSegment(n,Bc.LEFT,this._distance,i);var r=new Th;this.computeOffsetSegment(n,Bc.RIGHT,this._distance,r);var o=Math.atan2(e.y-t.y,e.x-t.x);switch(this._bufParams.getEndCapStyle()){case Bh.CAP_ROUND:this._segList.addPt(i.p1),this.addFilletArc(e,o+Math.PI/2,o-Math.PI/2,rl.CLOCKWISE,this._distance),this._segList.addPt(r.p1);break;case Bh.CAP_FLAT:this._segList.addPt(i.p1),this._segList.addPt(r.p1);break;case Bh.CAP_SQUARE:var a=new wu;a.x=Math.abs(this._distance)*Math.cos(o),a.y=Math.abs(this._distance)*Math.sin(o);var s=new wu(i.p1.x+a.x,i.p1.y+a.y),u=new wu(r.p1.x+a.x,r.p1.y+a.y);this._segList.addPt(s),this._segList.addPt(u)}},Yh.prototype.getCoordinates=function(){return this._segList.getCoordinates()},Yh.prototype.addMitreJoin=function(t,e,n,i){var r=!0,o=null;try{o=Uu.intersection(e.p0,e.p1,n.p0,n.p1),(i<=0?1:o.distance(t)/Math.abs(i))>this._bufParams.getMitreLimit()&&(r=!1)}catch(t){if(!(t instanceof ju))throw t;o=new wu(0,0),r=!1}r?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,i,this._bufParams.getMitreLimit())},Yh.prototype.addFilletCorner=function(t,e,n,i,r){var o=Math.atan2(e.y-t.y,e.x-t.x),a=Math.atan2(n.y-t.y,n.x-t.x);i===rl.CLOCKWISE?o<=a&&(o+=2*Math.PI):o>=a&&(o-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,o,a,i,r),this._segList.addPt(n)},Yh.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*Yh.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Bh.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Bh.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},Yh.prototype.createSquare=function(t){this._segList.addPt(new wu(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new wu(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new wu(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new wu(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},Yh.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},Yh.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},Yh.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},Yh.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},Yh.prototype.addLimitedMitreJoin=function(t,e,n,i){var r=this._seg0.p1,o=Hh.angle(r,this._seg0.p0),a=Hh.angleBetweenOriented(this._seg0.p0,r,this._seg1.p1)/2,s=Hh.normalize(o+a),u=Hh.normalize(s+Math.PI),l=i*n,c=n-l*Math.abs(Math.sin(a)),h=r.x+l*Math.cos(u),p=r.y+l*Math.sin(u),f=new wu(h,p),d=new Th(r,f),g=d.pointAlongOffset(1,c),m=d.pointAlongOffset(1,-c);this._side===Bc.LEFT?(this._segList.addPt(g),this._segList.addPt(m)):(this._segList.addPt(m),this._segList.addPt(g))},Yh.prototype.computeOffsetSegment=function(t,e,n,i){var r=e===Bc.LEFT?1:-1,o=t.p1.x-t.p0.x,a=t.p1.y-t.p0.y,s=Math.sqrt(o*o+a*a),u=r*n*o/s,l=r*n*a/s;i.p0.x=t.p0.x-l,i.p0.y=t.p0.y+u,i.p1.x=t.p1.x-l,i.p1.y=t.p1.y+u},Yh.prototype.addFilletArc=function(t,e,n,i,r){var o=i===rl.CLOCKWISE?-1:1,a=Math.abs(e-n),s=Math.trunc(a/this._filletAngleQuantum+.5);if(s<1)return null;for(var u=a/s,l=0,c=new wu;l<a;){var h=e+o*l;c.x=t.x+r*Math.cos(h),c.y=t.y+r*Math.sin(h),this._segList.addPt(c),l+=u}},Yh.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*Yh.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new wu((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var i=new wu((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},Yh.prototype.createCircle=function(t){var e=new wu(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},Yh.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},Yh.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new qh,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*Yh.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},Yh.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Bh.JOIN_BEVEL||this._bufParams.getJoinStyle()===Bh.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,rl.CLOCKWISE,this._distance))},Yh.prototype.closeRing=function(){this._segList.closeRing()},Yh.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},Yh.prototype.interfaces_=function(){return[]},Yh.prototype.getClass=function(){return Yh},Zh.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},Zh.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},Zh.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Zh.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(Yh,Zh);var Xh=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[1];this._precisionModel=arguments[0],this._bufParams=t};Xh.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,i=Math.abs(e),r=this.getSegGen(i);t.length<=1?this.computePointCurve(t[0],r):this.computeOffsetCurve(t,n,r);var o=r.getCoordinates();return n&&Sl.reverse(o),o},Xh.prototype.computeSingleSidedBufferCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var r=Vh.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],Bc.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(r[a],!0)}else{n.addSegments(t,!1);var s=Vh.simplify(t,i),u=s.length-1;n.initSideSegments(s[0],s[1],Bc.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(s[l],!0)}n.addLastSegment(),n.closeRing()},Xh.prototype.computeRingBufferCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);e===Bc.RIGHT&&(i=-i);var r=Vh.simplify(t,i),o=r.length-1;n.initSideSegments(r[o-1],r[0],e);for(var a=1;a<=o;a++)n.addNextSegment(r[a],1!==a);n.closeRing()},Xh.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),i=Vh.simplify(t,n),r=i.length-1;e.initSideSegments(i[0],i[1],Bc.LEFT);for(var o=2;o<=r;o++)e.addNextSegment(i[o],!0);e.addLastSegment(),e.addLineEndCap(i[r-1],i[r]);var a=Vh.simplify(t,-n),s=a.length-1;e.initSideSegments(a[s],a[s-1],Bc.LEFT);for(var u=s-2;u>=0;u--)e.addNextSegment(a[u],!0);e.addLastSegment(),e.addLineEndCap(a[1],a[0]),e.closeRing()},Xh.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case Bh.CAP_ROUND:e.createCircle(t);break;case Bh.CAP_SQUARE:e.createSquare(t)}},Xh.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),i=this.getSegGen(n);return t.length<=1?this.computePointCurve(t[0],i):this._bufParams.isSingleSided()?this.computeSingleSidedBufferCurve(t,e<0,i):this.computeLineBufferCurve(t,i),i.getCoordinates()},Xh.prototype.getBufferParameters=function(){return this._bufParams},Xh.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},Xh.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return Xh.copyCoordinates(t);var i=this.getSegGen(n);return this.computeRingBufferCurve(t,e,i),i.getCoordinates()},Xh.prototype.computeOffsetCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){var r=Vh.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],Bc.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(r[a],!0)}else{var s=Vh.simplify(t,i),u=s.length-1;n.initSideSegments(s[0],s[1],Bc.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(s[l],!0)}n.addLastSegment()},Xh.prototype.getSegGen=function(t){return new Yh(this._precisionModel,this._bufParams,t)},Xh.prototype.interfaces_=function(){return[]},Xh.prototype.getClass=function(){return Xh},Xh.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new wu(t[n]);return e};var Kh=function(){this._subgraphs=null,this._seg=new Th,this._cga=new rl,this._subgraphs=arguments[0]},$h={DepthSegment:{configurable:!0}};Kh.prototype.findStabbedSegments=function(){var t=this;if(1===arguments.length){for(var e=arguments[0],n=new xl,i=this._subgraphs.iterator();i.hasNext();){var r=i.next(),o=r.getEnvelope();e.y<o.getMinY()||e.y>o.getMaxY()||t.findStabbedSegments(e,r.getDirectedEdges(),n)}return n}if(3===arguments.length)if(Iu(arguments[2],bl)&&arguments[0]instanceof wu&&arguments[1]instanceof rh){for(var a=arguments[0],s=arguments[1],u=arguments[2],l=s.getEdge().getCoordinates(),c=0;c<l.length-1;c++)if(t._seg.p0=l[c],t._seg.p1=l[c+1],t._seg.p0.y>t._seg.p1.y&&t._seg.reverse(),!(Math.max(t._seg.p0.x,t._seg.p1.x)<a.x||t._seg.isHorizontal()||a.y<t._seg.p0.y||a.y>t._seg.p1.y||rl.computeOrientation(t._seg.p0,t._seg.p1,a)===rl.RIGHT)){var h=s.getDepth(Bc.LEFT);t._seg.p0.equals(l[c])||(h=s.getDepth(Bc.RIGHT));var p=new Jh(t._seg,h);u.add(p)}}else if(Iu(arguments[2],bl)&&arguments[0]instanceof wu&&Iu(arguments[1],bl))for(var f=arguments[0],d=arguments[2],g=arguments[1].iterator();g.hasNext();){var m=g.next();m.isForward()&&t.findStabbedSegments(f,m,d)}},Kh.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:gh.min(e)._leftDepth},Kh.prototype.interfaces_=function(){return[]},Kh.prototype.getClass=function(){return Kh},$h.DepthSegment.get=function(){return Jh},Object.defineProperties(Kh,$h);var Jh=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[1];this._upwardSeg=new Th(arguments[0]),this._leftDepth=t};Jh.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n||0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},Jh.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},Jh.prototype.toString=function(){return this._upwardSeg.toString()},Jh.prototype.interfaces_=function(){return[_u]},Jh.prototype.getClass=function(){return Jh};var Qh=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};Qh.prototype.area=function(){return Qh.area(this.p0,this.p1,this.p2)},Qh.prototype.signedArea=function(){return Qh.signedArea(this.p0,this.p1,this.p2)},Qh.prototype.interpolateZ=function(t){if(null===t)throw new du("Supplied point is null.");return Qh.interpolateZ(t,this.p0,this.p1,this.p2)},Qh.prototype.longestSideLength=function(){return Qh.longestSideLength(this.p0,this.p1,this.p2)},Qh.prototype.isAcute=function(){return Qh.isAcute(this.p0,this.p1,this.p2)},Qh.prototype.circumcentre=function(){return Qh.circumcentre(this.p0,this.p1,this.p2)},Qh.prototype.area3D=function(){return Qh.area3D(this.p0,this.p1,this.p2)},Qh.prototype.centroid=function(){return Qh.centroid(this.p0,this.p1,this.p2)},Qh.prototype.inCentre=function(){return Qh.inCentre(this.p0,this.p1,this.p2)},Qh.prototype.interfaces_=function(){return[]},Qh.prototype.getClass=function(){return Qh},Qh.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},Qh.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},Qh.det=function(t,e,n,i){return t*i-e*n},Qh.interpolateZ=function(t,e,n,i){var r=e.x,o=e.y,a=n.x-r,s=i.x-r,u=n.y-o,l=i.y-o,c=a*l-s*u,h=t.x-r,p=t.y-o;return e.z+(l*h-s*p)/c*(n.z-e.z)+(-u*h+a*p)/c*(i.z-e.z)},Qh.longestSideLength=function(t,e,n){var i=t.distance(e),r=e.distance(n),o=n.distance(t),a=i;return r>a&&(a=r),o>a&&(a=o),a},Qh.isAcute=function(t,e,n){return!!Hh.isAcute(t,e,n)&&!!Hh.isAcute(e,n,t)&&!!Hh.isAcute(n,t,e)},Qh.circumcentre=function(t,e,n){var i=n.x,r=n.y,o=t.x-i,a=t.y-r,s=e.x-i,u=e.y-r,l=2*Qh.det(o,a,s,u),c=Qh.det(a,o*o+a*a,u,s*s+u*u),h=Qh.det(o,o*o+a*a,s,s*s+u*u);return new wu(i-c/l,r+h/l)},Qh.perpendicularBisector=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=new Uu(t.x+n/2,t.y+i/2,1),o=new Uu(t.x-i+n/2,t.y+n+i/2,1);return new Uu(r,o)},Qh.angleBisector=function(t,e,n){var i=e.distance(t),r=i/(i+e.distance(n));return new wu(t.x+r*(n.x-t.x),t.y+r*(n.y-t.y))},Qh.area3D=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=e.z-t.z,a=n.x-t.x,s=n.y-t.y,u=n.z-t.z,l=r*u-o*s,c=o*a-i*u,h=i*s-r*a;return Math.sqrt(l*l+c*c+h*h)/2},Qh.centroid=function(t,e,n){return new wu((t.x+e.x+n.x)/3,(t.y+e.y+n.y)/3)},Qh.inCentre=function(t,e,n){var i=e.distance(n),r=t.distance(n),o=t.distance(e),a=i+r+o;return new wu((i*t.x+r*e.x+o*n.x)/a,(i*t.y+r*e.y+o*n.y)/a)};var tp=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new xl;var t=arguments[1],e=arguments[2];this._inputGeom=arguments[0],this._distance=t,this._curveBuilder=e};tp.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,Su.EXTERIOR,Su.INTERIOR)},tp.prototype.addPolygon=function(t){var e=this,n=this._distance,i=Bc.LEFT;this._distance<0&&(n=-this._distance,i=Bc.RIGHT);var r=t.getExteriorRing(),o=Sl.removeRepeatedPoints(r.getCoordinates());if(this._distance<0&&this.isErodedCompletely(r,this._distance))return null;if(this._distance<=0&&o.length<3)return null;this.addPolygonRing(o,n,i,Su.EXTERIOR,Su.INTERIOR);for(var a=0;a<t.getNumInteriorRing();a++){var s=t.getInteriorRingN(a),u=Sl.removeRepeatedPoints(s.getCoordinates());e._distance>0&&e.isErodedCompletely(s,-e._distance)||e.addPolygonRing(u,n,Bc.opposite(i),Su.INTERIOR,Su.EXTERIOR)}},tp.prototype.isTriangleErodedCompletely=function(t,e){var n=new Qh(t[0],t[1],t[2]),i=n.inCentre();return rl.distancePointLine(i,n.p0,n.p1)<Math.abs(e)},tp.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=Sl.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,Su.EXTERIOR,Su.INTERIOR)},tp.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var i=new Ph(t,new Zc(0,Su.BOUNDARY,e,n));this._curveList.add(i)},tp.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},tp.prototype.addPolygonRing=function(t,e,n,i,r){if(0===e&&t.length<gc.MINIMUM_VALID_SIZE)return null;var o=i,a=r;t.length>=gc.MINIMUM_VALID_SIZE&&rl.isCCW(t)&&(o=r,a=i,n=Bc.opposite(n));var s=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(s,o,a)},tp.prototype.add=function(t){if(t.isEmpty())return null;t instanceof fc?this.addPolygon(t):t instanceof lc?this.addLineString(t):t instanceof hc?this.addPoint(t):(t instanceof dc||t instanceof $l||t instanceof mc||t instanceof Kl)&&this.addCollection(t)},tp.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var i=t.getEnvelopeInternal(),r=Math.min(i.getHeight(),i.getWidth());return e<0&&2*Math.abs(e)>r},tp.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},tp.prototype.interfaces_=function(){return[]},tp.prototype.getClass=function(){return tp};var ep=function(){};ep.prototype.locate=function(t){},ep.prototype.interfaces_=function(){return[]},ep.prototype.getClass=function(){return ep};var np=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};np.prototype.next=function(){if(this._atStart)return this._atStart=!1,np.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new wl;var t=this._parent.getGeometryN(this._index++);return t instanceof Kl?(this._subcollectionIterator=new np(t),this._subcollectionIterator.next()):t},np.prototype.remove=function(){throw new Error(this.getClass().getName())},np.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},np.prototype.interfaces_=function(){return[vl]},np.prototype.getClass=function(){return np},np.isAtomic=function(t){return!(t instanceof Kl)};var ip=function(){this._geom=null,this._geom=arguments[0]};ip.prototype.locate=function(t){return ip.locate(t,this._geom)},ip.prototype.interfaces_=function(){return[ep]},ip.prototype.getClass=function(){return ip},ip.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&rl.isPointInRing(t,e.getCoordinates())},ip.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!ip.isPointInRing(t,n))return!1;for(var i=0;i<e.getNumInteriorRing();i++){var r=e.getInteriorRingN(i);if(ip.isPointInRing(t,r))return!1}return!0},ip.containsPoint=function(t,e){if(e instanceof fc)return ip.containsPointInPolygon(t,e);if(e instanceof Kl)for(var n=new np(e);n.hasNext();){var i=n.next();if(i!==e&&ip.containsPoint(t,i))return!0}return!1},ip.locate=function(t,e){return e.isEmpty()?Su.EXTERIOR:ip.containsPoint(t,e)?Su.INTERIOR:Su.EXTERIOR};var rp=function(){this._edgeMap=new jl,this._edgeList=null,this._ptInAreaLocation=[Su.NONE,Su.NONE]};rp.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},rp.prototype.propagateSideLabels=function(t){for(var e=Su.NONE,n=this.iterator();n.hasNext();){var i=n.next().getLabel();i.isArea(t)&&i.getLocation(t,Bc.LEFT)!==Su.NONE&&(e=i.getLocation(t,Bc.LEFT))}if(e===Su.NONE)return null;for(var r=e,o=this.iterator();o.hasNext();){var a=o.next(),s=a.getLabel();if(s.getLocation(t,Bc.ON)===Su.NONE&&s.setLocation(t,Bc.ON,r),s.isArea(t)){var u=s.getLocation(t,Bc.LEFT),l=s.getLocation(t,Bc.RIGHT);if(l!==Su.NONE){if(l!==r)throw new Gc("side location conflict",a.getCoordinate());u===Su.NONE&&Ju.shouldNeverReachHere("found single null side (at "+a.getCoordinate()+")"),r=u}else Ju.isTrue(s.getLocation(t,Bc.LEFT)===Su.NONE,"found single null side"),s.setLocation(t,Bc.RIGHT,r),s.setLocation(t,Bc.LEFT,r)}}},rp.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},rp.prototype.print=function(t){Vu.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},rp.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},rp.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,i=e.get(n).getLabel().getLocation(t,Bc.LEFT);Ju.isTrue(i!==Su.NONE,"Found unlabelled area edge");for(var r=i,o=this.iterator();o.hasNext();){var a=o.next().getLabel();Ju.isTrue(a.isArea(t),"Found non-area edge");var s=a.getLocation(t,Bc.LEFT),u=a.getLocation(t,Bc.RIGHT);if(s===u)return!1;if(u!==r)return!1;r=s}return!0},rp.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},rp.prototype.iterator=function(){return this.getEdges().iterator()},rp.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new xl(this._edgeMap.values())),this._edgeList},rp.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===Su.NONE&&(this._ptInAreaLocation[t]=ip.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},rp.prototype.toString=function(){var t=new Tu;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},rp.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},rp.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var i=n.next().getLabel(),r=0;r<2;r++)i.isLine(r)&&i.getLocation(r)===Su.BOUNDARY&&(e[r]=!0);for(var o=this.iterator();o.hasNext();)for(var a=o.next(),s=a.getLabel(),u=0;u<2;u++)if(s.isAnyNull(u)){var l=Su.NONE;if(e[u])l=Su.EXTERIOR;else{var c=a.getCoordinate();l=this.getLocation(u,c,t)}s.setAllLocationsIfNull(u,l)}},rp.prototype.getDegree=function(){return this._edgeMap.size()},rp.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},rp.prototype.interfaces_=function(){return[]},rp.prototype.getClass=function(){return rp};var op=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.linkResultDirectedEdges=function(){var t=this;this.getResultAreaEdges();for(var e=null,n=null,i=this._SCANNING_FOR_INCOMING,r=0;r<this._resultAreaEdgeList.size();r++){var o=t._resultAreaEdgeList.get(r),a=o.getSym();if(o.getLabel().isArea())switch(null===e&&o.isInResult()&&(e=o),i){case t._SCANNING_FOR_INCOMING:if(!a.isInResult())continue;n=a,i=t._LINKING_TO_OUTGOING;break;case t._LINKING_TO_OUTGOING:if(!o.isInResult())continue;n.setNext(o),i=t._SCANNING_FOR_INCOMING}}if(i===this._LINKING_TO_OUTGOING){if(null===e)throw new Gc("no outgoing dirEdge found",this.getCoordinate());Ju.isTrue(e.isInResult(),"unable to link last incoming dirEdge"),n.setNext(e)}},e.prototype.insert=function(t){this.insertEdgeEnd(t,t)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var i=t.get(e-1),r=n.getQuadrant(),o=i.getQuadrant();return eh.isNorthern(r)&&eh.isNorthern(o)?n:eh.isNorthern(r)||eh.isNorthern(o)?0!==n.getDy()?n:0!==i.getDy()?i:(Ju.shouldNeverReachHere("found two horizontal edges incident on node"),null):i},e.prototype.print=function(t){Vu.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new xl;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var i=this._edgeList.get(n),r=i.getSym();null===e&&(e=r),null!==t&&r.setNext(t),t=i}e.setNext(t)},e.prototype.computeDepths=function(){var t=this;if(1===arguments.length){var e=arguments[0],n=this.findIndex(e),i=e.getDepth(Bc.LEFT),r=e.getDepth(Bc.RIGHT),o=this.computeDepths(n+1,this._edgeList.size(),i);if(this.computeDepths(0,n,o)!==r)throw new Gc("depth mismatch at "+e.getCoordinate())}else if(3===arguments.length){for(var a=arguments[1],s=arguments[2],u=arguments[0];u<a;u++){var l=t._edgeList.get(u);l.setEdgeDepths(Bc.RIGHT,s),s=l.getDepth(Bc.LEFT)}return s}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=this,n=null,i=null,r=this._SCANNING_FOR_INCOMING,o=this._resultAreaEdgeList.size()-1;o>=0;o--){var a=e._resultAreaEdgeList.get(o),s=a.getSym();switch(null===n&&a.getEdgeRing()===t&&(n=a),r){case e._SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==t)continue;i=s,r=e._LINKING_TO_OUTGOING;break;case e._LINKING_TO_OUTGOING:if(a.getEdgeRing()!==t)continue;i.setNextMin(a),r=e._SCANNING_FOR_INCOMING}}r===this._LINKING_TO_OUTGOING&&(Ju.isTrue(null!==n,"found null for first outgoing dirEdge"),Ju.isTrue(n.getEdgeRing()===t,"unable to link last incoming dirEdge"),i.setNextMin(n))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],i=0,r=this.iterator();r.hasNext();)r.next().getEdgeRing()===n&&i++;return i}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=Su.NONE,e=this.iterator();e.hasNext();){var n=e.next(),i=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=Su.INTERIOR;break}if(i.isInResult()){t=Su.EXTERIOR;break}}}if(t===Su.NONE)return null;for(var r=t,o=this.iterator();o.hasNext();){var a=o.next(),s=a.getSym();a.isLineEdge()?a.getEdge().setCovered(r===Su.INTERIOR):(a.isInResult()&&(r=Su.EXTERIOR),s.isInResult()&&(r=Su.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new Zc(Su.NONE);for(var n=this.iterator();n.hasNext();)for(var i=n.next().getEdge().getLabel(),r=0;r<2;r++){var o=i.getLocation(r);o!==Su.INTERIOR&&o!==Su.BOUNDARY||this._label.setLocation(r,Su.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(rp),ap=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createNode=function(t){return new Qc(t,new op)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(oh),sp=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};sp.prototype.compareTo=function(t){return sp.compareOriented(this._pts,this._orientation,t._pts,t._orientation)},sp.prototype.interfaces_=function(){return[_u]},sp.prototype.getClass=function(){return sp},sp.orientation=function(t){return 1===Sl.increasingDirection(t)},sp.compareOriented=function(t,e,n,i){for(var r=e?1:-1,o=i?1:-1,a=e?t.length:-1,s=i?n.length:-1,u=e?0:t.length-1,l=i?0:n.length-1;;){var c=t[u].compareTo(n[l]);if(0!==c)return c;var h=(u+=r)===a,p=(l+=o)===s;if(h&&!p)return-1;if(!h&&p)return 1;if(h&&p)return 0}};var up=function(){this._edges=new xl,this._ocaMap=new jl};up.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var i=n.getCoordinates(),r=0;r<i.length;r++)r>0&&t.print(","),t.print(i[r].x+" "+i[r].y);t.println(")")}t.print(")  ")},up.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},up.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},up.prototype.iterator=function(){return this._edges.iterator()},up.prototype.getEdges=function(){return this._edges},up.prototype.get=function(t){return this._edges.get(t)},up.prototype.findEqualEdge=function(t){var e=new sp(t.getCoordinates());return this._ocaMap.get(e)},up.prototype.add=function(t){this._edges.add(t);var e=new sp(t.getCoordinates());this._ocaMap.put(e,t)},up.prototype.interfaces_=function(){return[]},up.prototype.getClass=function(){return up};var lp=function(){};lp.prototype.processIntersections=function(t,e,n,i){},lp.prototype.isDone=function(){},lp.prototype.interfaces_=function(){return[]},lp.prototype.getClass=function(){return lp};var cp=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0,this._li=arguments[0]};cp.prototype.isTrivialIntersection=function(t,e,n,i){if(t===n&&1===this._li.getIntersectionNum()){if(cp.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.size()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},cp.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},cp.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},cp.prototype.getLineIntersector=function(){return this._li},cp.prototype.hasProperIntersection=function(){return this._hasProper},cp.prototype.processIntersections=function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[i],s=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,a,s),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},cp.prototype.hasIntersection=function(){return this._hasIntersection},cp.prototype.isDone=function(){return!1},cp.prototype.hasInteriorIntersection=function(){return this._hasInterior},cp.prototype.interfaces_=function(){return[lp]},cp.prototype.getClass=function(){return cp},cp.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var hp=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[1],e=arguments[2];this.coord=new wu(arguments[0]),this.segmentIndex=t,this.dist=e};hp.prototype.getSegmentIndex=function(){return this.segmentIndex},hp.prototype.getCoordinate=function(){return this.coord},hp.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},hp.prototype.compareTo=function(t){return this.compare(t.segmentIndex,t.dist)},hp.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},hp.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},hp.prototype.getDistance=function(){return this.dist},hp.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},hp.prototype.interfaces_=function(){return[_u]},hp.prototype.getClass=function(){return hp};var pp=function(){this._nodeMap=new jl,this.edge=null,this.edge=arguments[0]};pp.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},pp.prototype.iterator=function(){return this._nodeMap.values().iterator()},pp.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},pp.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},pp.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=e.dist>0||!e.coord.equals2D(this.edge.pts[e.segmentIndex]);i||n--;var r=new Array(n).fill(null),o=0;r[o++]=new wu(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)r[o++]=this.edge.pts[a];return i&&(r[o]=e.coord),new _p(r,new Zc(this.edge._label))},pp.prototype.add=function(t,e,n){var i=new hp(t,e,n),r=this._nodeMap.get(i);return null!==r?r:(this._nodeMap.put(i,i),i)},pp.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},pp.prototype.interfaces_=function(){return[]},pp.prototype.getClass=function(){return pp};var fp=function(){};fp.prototype.getChainStartIndices=function(t){var e=0,n=new xl;n.add(new Ou(e));do{var i=this.findChainEnd(t,e);n.add(new Ou(i)),e=i}while(e<t.length-1);return fp.toIntArray(n)},fp.prototype.findChainEnd=function(t,e){for(var n=eh.quadrant(t[e],t[e+1]),i=e+1;i<t.length&&eh.quadrant(t[i-1],t[i])===n;)i++;return i-1},fp.prototype.interfaces_=function(){return[]},fp.prototype.getClass=function(){return fp},fp.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var dp=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new qu,this.env2=new qu;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new fp;this.startIndex=e.getChainStartIndices(this.pts)};dp.prototype.getCoordinates=function(){return this.pts},dp.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},dp.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},dp.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],arguments[3])}else if(6===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],a=arguments[3],s=arguments[4],u=arguments[5],l=this.pts[i],c=this.pts[r],h=o.pts[a],p=o.pts[s];if(r-i==1&&s-a==1)return u.addIntersections(this.e,i,o.e,a),null;if(this.env1.init(l,c),this.env2.init(h,p),!this.env1.intersects(this.env2))return null;var f=Math.trunc((i+r)/2),d=Math.trunc((a+s)/2);i<f&&(a<d&&this.computeIntersectsForChain(i,f,o,a,d,u),d<s&&this.computeIntersectsForChain(i,f,o,d,s,u)),f<r&&(a<d&&this.computeIntersectsForChain(f,r,o,a,d,u),d<s&&this.computeIntersectsForChain(f,r,o,d,s,u))}},dp.prototype.getStartIndexes=function(){return this.startIndex},dp.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var i=0;i<t.startIndex.length-1;i++)this.computeIntersectsForChain(n,t,i,e)},dp.prototype.interfaces_=function(){return[]},dp.prototype.getClass=function(){return dp};var gp=function t(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},mp={NULL_VALUE:{configurable:!0}};gp.prototype.getDepth=function(t,e){return this._depth[t][e]},gp.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},gp.prototype.isNull=function(){var t=this;if(0===arguments.length){for(var e=0;e<2;e++)for(var n=0;n<3;n++)if(t._depth[e][n]!==gp.NULL_VALUE)return!1;return!0}return 1===arguments.length?this._depth[arguments[0]][1]===gp.NULL_VALUE:2===arguments.length?this._depth[arguments[0]][arguments[1]]===gp.NULL_VALUE:void 0},gp.prototype.normalize=function(){for(var t=this,e=0;e<2;e++)if(!t.isNull(e)){var n=t._depth[e][1];t._depth[e][2]<n&&(n=t._depth[e][2]),n<0&&(n=0);for(var i=1;i<3;i++){var r=0;t._depth[e][i]>n&&(r=1),t._depth[e][i]=r}}},gp.prototype.getDelta=function(t){return this._depth[t][Bc.RIGHT]-this._depth[t][Bc.LEFT]},gp.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?Su.EXTERIOR:Su.INTERIOR},gp.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},gp.prototype.add=function(){var t=this;if(1===arguments.length)for(var e=arguments[0],n=0;n<2;n++)for(var i=1;i<3;i++){var r=e.getLocation(n,i);r!==Su.EXTERIOR&&r!==Su.INTERIOR||(t.isNull(n,i)?t._depth[n][i]=gp.depthAtLocation(r):t._depth[n][i]+=gp.depthAtLocation(r))}else 3===arguments.length&&arguments[2]===Su.INTERIOR&&this._depth[arguments[0]][arguments[1]]++},gp.prototype.interfaces_=function(){return[]},gp.prototype.getClass=function(){return gp},gp.depthAtLocation=function(t){return t===Su.EXTERIOR?0:t===Su.INTERIOR?1:gp.NULL_VALUE},mp.NULL_VALUE.get=function(){return-1},Object.defineProperties(gp,mp);var _p=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new pp(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new gp,this._depthDelta=0,1===arguments.length)e.call(this,arguments[0],null);else if(2===arguments.length){var n=arguments[1];this.pts=arguments[0],this._label=n}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,Zc.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var i=!0,r=!0,o=this.pts.length,a=0;a<this.pts.length;a++)if(this.pts[a].equals2D(n.pts[a])||(i=!1),this.pts[a].equals2D(n.pts[--o])||(r=!1),!i&&!r)return!1;return!0},e.prototype.getCoordinate=function(){return 0===arguments.length?this.pts.length>0?this.pts[0]:null:1===arguments.length?this.pts[arguments[0]]:void 0},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new dp(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new qu;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,i){var r=new wu(t.getIntersection(i)),o=e,a=t.getEdgeDistance(n,i),s=o+1;s<this.pts.length&&r.equals2D(this.pts[s])&&(o=s,a=0),this.eiList.add(r,o,a)},e.prototype.toString=function(){var t=new Tu;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,Bc.ON),e.getLocation(1,Bc.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,Bc.LEFT),e.getLocation(1,Bc.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,Bc.RIGHT),e.getLocation(1,Bc.RIGHT),2))},e}(Jc),yp=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new up,this._bufParams=t||null};yp.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},yp.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new Zc(t.getLabel())).flip(),n.merge(i);var r=yp.depthDelta(i),o=e.getDepthDelta()+r;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(yp.depthDelta(t.getLabel()))},yp.prototype.buildSubgraphs=function(t,e){for(var n=new xl,i=t.iterator();i.hasNext();){var r=i.next(),o=r.getRightmostCoordinate(),a=new Kh(n).getDepth(o);r.computeDepth(a),r.findResultEdges(),n.add(r),e.add(r.getDirectedEdges(),r.getNodes())}},yp.prototype.createSubgraphs=function(t){for(var e=new xl,n=t.getNodes().iterator();n.hasNext();){var i=n.next();if(!i.isVisited()){var r=new Wc;r.create(i),e.add(r)}}return gh.sort(e,gh.reverseOrder()),e},yp.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},yp.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new zh,n=new el;return n.setPrecisionModel(t),e.setSegmentIntersector(new cp(n)),e},yp.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var i=new Xh(n,this._bufParams),r=new tp(t,e,i).getCurves();if(r.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(r,n),this._graph=new ah(new ap),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),a=new sh(this._geomFact);this.buildSubgraphs(o,a);var s=a.getPolygons();return s.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(s)},yp.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var i=n.getNodedSubstrings().iterator();i.hasNext();){var r=i.next(),o=r.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var a=r.getData(),s=new _p(r.getCoordinates(),new Zc(a));this.insertUniqueEdge(s)}}},yp.prototype.setNoder=function(t){this._workingNoder=t},yp.prototype.interfaces_=function(){return[]},yp.prototype.getClass=function(){return yp},yp.depthDelta=function(t){var e=t.getLocation(0,Bc.LEFT),n=t.getLocation(0,Bc.RIGHT);return e===Su.INTERIOR&&n===Su.EXTERIOR?1:e===Su.EXTERIOR&&n===Su.INTERIOR?-1:0},yp.convertSegStrings=function(t){for(var e=new Oc,n=new xl;t.hasNext();){var i=t.next(),r=e.createLineString(i.getCoordinates());n.add(r)}return e.buildGeometry(n)};var vp=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[1];this._noder=arguments[0],this._scaleFactor=t,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var e=arguments[1],n=arguments[2],i=arguments[3];this._noder=arguments[0],this._scaleFactor=e,this._offsetX=n,this._offsetY=i,this._isScaled=!this.isIntegerPrecision()}};vp.prototype.rescale=function(){var t=this;if(Iu(arguments[0],_l))for(var e=arguments[0].iterator();e.hasNext();){var n=e.next();t.rescale(n.getCoordinates())}else if(arguments[0]instanceof Array){for(var i=arguments[0],r=0;r<i.length;r++)i[r].x=i[r].x/t._scaleFactor+t._offsetX,i[r].y=i[r].y/t._scaleFactor+t._offsetY;2===i.length&&i[0].equals2D(i[1])&&Vu.out.println(i)}},vp.prototype.scale=function(){var t=this;if(Iu(arguments[0],_l)){for(var e=arguments[0],n=new xl,i=e.iterator();i.hasNext();){var r=i.next();n.add(new Ph(t.scale(r.getCoordinates()),r.getData()))}return n}if(arguments[0]instanceof Array){for(var o=arguments[0],a=new Array(o.length).fill(null),s=0;s<o.length;s++)a[s]=new wu(Math.round((o[s].x-t._offsetX)*t._scaleFactor),Math.round((o[s].y-t._offsetY)*t._scaleFactor),o[s].z);return Sl.removeRepeatedPoints(a)}},vp.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},vp.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},vp.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},vp.prototype.interfaces_=function(){return[Rh]},vp.prototype.getClass=function(){return vp};var bp=function(){this._li=new el,this._segStrings=null,this._segStrings=arguments[0]},wp={fact:{configurable:!0}};bp.prototype.checkEndPtVertexIntersections=function(){var t=this;if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var n=e.next().getCoordinates();t.checkEndPtVertexIntersections(n[0],t._segStrings),t.checkEndPtVertexIntersections(n[n.length-1],t._segStrings)}else if(2===arguments.length)for(var i=arguments[0],r=arguments[1].iterator();r.hasNext();)for(var o=r.next().getCoordinates(),a=1;a<o.length-1;a++)if(o[a].equals(i))throw new Ku("found endpt/interior pt intersection at index "+a+" :pt "+i)},bp.prototype.checkInteriorIntersections=function(){var t=this;if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();)for(var n=e.next(),i=this._segStrings.iterator();i.hasNext();){var r=i.next();t.checkInteriorIntersections(n,r)}else if(2===arguments.length)for(var o=arguments[0],a=arguments[1],s=o.getCoordinates(),u=a.getCoordinates(),l=0;l<s.length-1;l++)for(var c=0;c<u.length-1;c++)t.checkInteriorIntersections(o,l,a,c);else if(4===arguments.length){var h=arguments[0],p=arguments[1],f=arguments[2],d=arguments[3];if(h===f&&p===d)return null;var g=h.getCoordinates()[p],m=h.getCoordinates()[p+1],_=f.getCoordinates()[d],y=f.getCoordinates()[d+1];if(this._li.computeIntersection(g,m,_,y),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,g,m)||this.hasInteriorIntersection(this._li,_,y)))throw new Ku("found non-noded intersection at "+g+"-"+m+" and "+_+"-"+y)}},bp.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},bp.prototype.checkCollapses=function(){var t=this;if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var n=e.next();t.checkCollapses(n)}else if(1===arguments.length)for(var i=arguments[0].getCoordinates(),r=0;r<i.length-2;r++)t.checkCollapse(i[r],i[r+1],i[r+2])},bp.prototype.hasInteriorIntersection=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++){var r=t.getIntersection(i);if(!r.equals(e)&&!r.equals(n))return!0}return!1},bp.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new Ku("found non-noded collapse at "+bp.fact.createLineString([t,e,n]))},bp.prototype.interfaces_=function(){return[]},bp.prototype.getClass=function(){return bp},wp.fact.get=function(){return new Oc},Object.defineProperties(bp,wp);var xp=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new du("Scale factor must be non-zero");1!==e&&(this._pt=new wu(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new wu,this._p1Scaled=new wu),this.initCorners(this._pt)},kp={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};xp.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),i=Math.max(t.x,e.x),r=Math.min(t.y,e.y),o=Math.max(t.y,e.y),a=this._maxx<n||this._minx>i||this._maxy<r||this._miny>o;if(a)return!1;var s=this.intersectsToleranceSquare(t,e);return Ju.isTrue(!(a&&s),"Found bad envelope test"),s},xp.prototype.initCorners=function(t){var e=.5;this._minx=t.x-e,this._maxx=t.x+e,this._miny=t.y-e,this._maxy=t.y+e,this._corner[0]=new wu(this._maxx,this._maxy),this._corner[1]=new wu(this._minx,this._maxy),this._corner[2]=new wu(this._minx,this._miny),this._corner[3]=new wu(this._maxx,this._miny)},xp.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},xp.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},xp.prototype.getCoordinate=function(){return this._originalPt},xp.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},xp.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=xp.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new qu(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},xp.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},xp.prototype.intersectsToleranceSquare=function(t,e){var n=!1,i=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||n&&i||t.equals(this._pt)||e.equals(this._pt)))))},xp.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),i=t.getCoordinate(e+1);return!!this.intersects(n,i)&&(t.addIntersection(this.getCoordinate(),e),!0)},xp.prototype.interfaces_=function(){return[]},xp.prototype.getClass=function(){return xp},kp.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(xp,kp);var Ep=function(){this.tempEnv1=new qu,this.selectedSegment=new Th};Ep.prototype.select=function(){1===arguments.length||2===arguments.length&&(arguments[0].getLineSegment(arguments[1],this.selectedSegment),this.select(this.selectedSegment))},Ep.prototype.interfaces_=function(){return[]},Ep.prototype.getClass=function(){return Ep};var Sp=function(){this._index=null,this._index=arguments[0]},Cp={HotPixelSnapAction:{configurable:!0}};Sp.prototype.snap=function(){if(1===arguments.length)return this.snap(arguments[0],null,-1);if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=t.getSafeEnvelope(),r=new Ip(t,e,n);return this._index.query(i,{interfaces_:function(){return[hh]},visitItem:function(t){t.select(i,r)}}),r.isNodeAdded()}},Sp.prototype.interfaces_=function(){return[]},Sp.prototype.getClass=function(){return Sp},Cp.HotPixelSnapAction.get=function(){return Ip},Object.defineProperties(Sp,Cp);var Ip=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[1],n=arguments[2];this._hotPixel=arguments[0],this._parentEdge=e,this._hotPixelVertexIndex=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[1],n=arguments[0].getContext();if(null!==this._parentEdge&&n===this._parentEdge&&e===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(n,e)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ep),Ap=function(){this._li=null,this._interiorIntersections=null,this._li=arguments[0],this._interiorIntersections=new xl};Ap.prototype.processIntersections=function(t,e,n,i){if(t===n&&e===i)return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[i],s=n.getCoordinates()[i+1];if(this._li.computeIntersection(r,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)}},Ap.prototype.isDone=function(){return!1},Ap.prototype.getInteriorIntersections=function(){return this._interiorIntersections},Ap.prototype.interfaces_=function(){return[lp]},Ap.prototype.getClass=function(){return Ap};var Pp=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new el,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};Pp.prototype.checkCorrectness=function(t){var e=Ph.getNodedSubstrings(t),n=new bp(e);try{n.checkValid()}catch(t){if(!(t instanceof Bu))throw t;t.printStackTrace()}},Pp.prototype.getNodedSubstrings=function(){return Ph.getNodedSubstrings(this._nodedSegStrings)},Pp.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},Pp.prototype.findInteriorIntersections=function(t,e){var n=new Ap(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},Pp.prototype.computeVertexSnaps=function(){var t=this;if(Iu(arguments[0],_l))for(var e=arguments[0].iterator();e.hasNext();){var n=e.next();t.computeVertexSnaps(n)}else if(arguments[0]instanceof Ph)for(var i=arguments[0],r=i.getCoordinates(),o=0;o<r.length;o++){var a=new xp(r[o],t._scaleFactor,t._li);t._pointSnapper.snap(a,i,o)&&i.addIntersection(r[o],o)}},Pp.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new zh,this._pointSnapper=new Sp(this._noder.getIndex()),this.snapRound(t,this._li)},Pp.prototype.computeIntersectionSnaps=function(t){for(var e=this,n=t.iterator();n.hasNext();){var i=n.next(),r=new xp(i,e._scaleFactor,e._li);e._pointSnapper.snap(r)}},Pp.prototype.interfaces_=function(){return[Rh]},Pp.prototype.getClass=function(){return Pp};var Tp=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Bh,this._resultGeometry=null,this._saveException=null,1===arguments.length)this._argGeom=arguments[0];else if(2===arguments.length){var t=arguments[1];this._argGeom=arguments[0],this._bufParams=t}},Op={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Tp.prototype.bufferFixedPrecision=function(t){var e=new vp(new Pp(new Ic(1)),t.getScale()),n=new yp(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},Tp.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=Tp.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof Gc))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=Tp.precisionScaleFactor(this._argGeom,this._distance,arguments[0]),i=new Ic(n);this.bufferFixedPrecision(i)}},Tp.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===Ic.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},Tp.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},Tp.prototype.bufferOriginalPrecision=function(){try{var t=new yp(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof Ku))throw t;this._saveException=t}},Tp.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},Tp.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},Tp.prototype.interfaces_=function(){return[]},Tp.prototype.getClass=function(){return Tp},Tp.bufferOp=function(){if(2===arguments.length){var t=arguments[1];return new Tp(arguments[0]).getResultGeometry(t)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof sl&&"number"==typeof arguments[1]){var e=arguments[1],n=arguments[2],i=new Tp(arguments[0]);return i.setQuadrantSegments(n),i.getResultGeometry(e)}if(arguments[2]instanceof Bh&&arguments[0]instanceof sl&&"number"==typeof arguments[1]){var r=arguments[1];return new Tp(arguments[0],arguments[2]).getResultGeometry(r)}}else if(4===arguments.length){var o=arguments[1],a=arguments[2],s=arguments[3],u=new Tp(arguments[0]);return u.setQuadrantSegments(a),u.setEndCapStyle(s),u.getResultGeometry(o)}},Tp.precisionScaleFactor=function(t,e,n){var i=t.getEnvelopeInternal(),r=Au.max(Math.abs(i.getMaxX()),Math.abs(i.getMaxY()),Math.abs(i.getMinX()),Math.abs(i.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(r)/Math.log(10)+1);return Math.pow(10,o)},Op.CAP_ROUND.get=function(){return Bh.CAP_ROUND},Op.CAP_BUTT.get=function(){return Bh.CAP_FLAT},Op.CAP_FLAT.get=function(){return Bh.CAP_FLAT},Op.CAP_SQUARE.get=function(){return Bh.CAP_SQUARE},Op.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(Tp,Op);var Lp=function(){this._pt=[new wu,new wu],this._distance=gu.NaN,this._isNull=!0};Lp.prototype.getCoordinates=function(){return this._pt},Lp.prototype.getCoordinate=function(t){return this._pt[t]},Lp.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i<this._distance&&this.initialize(e,n,i)}},Lp.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[1],i=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(n),this._distance=i,this._isNull=!1}},Lp.prototype.getDistance=function(){return this._distance},Lp.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i>this._distance&&this.initialize(e,n,i)}},Lp.prototype.interfaces_=function(){return[]},Lp.prototype.getClass=function(){return Lp};var Mp=function(){};Mp.prototype.interfaces_=function(){return[]},Mp.prototype.getClass=function(){return Mp},Mp.computeDistance=function(){if(arguments[2]instanceof Lp&&arguments[0]instanceof lc&&arguments[1]instanceof wu)for(var t=arguments[1],e=arguments[2],n=arguments[0].getCoordinates(),i=new Th,r=0;r<n.length-1;r++){i.setCoordinates(n[r],n[r+1]);var o=i.closestPoint(t);e.setMinimum(o,t)}else if(arguments[2]instanceof Lp&&arguments[0]instanceof fc&&arguments[1]instanceof wu){var a=arguments[0],s=arguments[1],u=arguments[2];Mp.computeDistance(a.getExteriorRing(),s,u);for(var l=0;l<a.getNumInteriorRing();l++)Mp.computeDistance(a.getInteriorRingN(l),s,u)}else if(arguments[2]instanceof Lp&&arguments[0]instanceof sl&&arguments[1]instanceof wu){var c=arguments[0],h=arguments[1],p=arguments[2];if(c instanceof lc)Mp.computeDistance(c,h,p);else if(c instanceof fc)Mp.computeDistance(c,h,p);else if(c instanceof Kl)for(var f=c,d=0;d<f.getNumGeometries();d++){var g=f.getGeometryN(d);Mp.computeDistance(g,h,p)}else p.setMinimum(c.getCoordinate(),h)}else if(arguments[2]instanceof Lp&&arguments[0]instanceof Th&&arguments[1]instanceof wu){var m=arguments[1],_=arguments[2],y=arguments[0].closestPoint(m);_.setMinimum(y,m)}};var Np=function(t){this._maxPtDist=new Lp,this._inputGeom=t||null},Rp={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Np.prototype.computeMaxMidpointDistance=function(t){var e=new zp(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},Np.prototype.computeMaxVertexDistance=function(t){var e=new Dp(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},Np.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},Np.prototype.getDistancePoints=function(){return this._maxPtDist},Np.prototype.interfaces_=function(){return[]},Np.prototype.getClass=function(){return Np},Rp.MaxPointDistanceFilter.get=function(){return Dp},Rp.MaxMidpointDistanceFilter.get=function(){return zp},Object.defineProperties(Np,Rp);var Dp=function(t){this._maxPtDist=new Lp,this._minPtDist=new Lp,this._geom=t||null};Dp.prototype.filter=function(t){this._minPtDist.initialize(),Mp.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Dp.prototype.getMaxPointDistance=function(){return this._maxPtDist},Dp.prototype.interfaces_=function(){return[cl]},Dp.prototype.getClass=function(){return Dp};var zp=function(t){this._maxPtDist=new Lp,this._minPtDist=new Lp,this._geom=t||null};zp.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),i=t.getCoordinate(e),r=new wu((n.x+i.x)/2,(n.y+i.y)/2);this._minPtDist.initialize(),Mp.computeDistance(this._geom,r,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},zp.prototype.isDone=function(){return!1},zp.prototype.isGeometryChanged=function(){return!1},zp.prototype.getMaxPointDistance=function(){return this._maxPtDist},zp.prototype.interfaces_=function(){return[Xl]},zp.prototype.getClass=function(){return zp};var Fp=function(t){this._comps=t||null};Fp.prototype.filter=function(t){t instanceof fc&&this._comps.add(t)},Fp.prototype.interfaces_=function(){return[Zl]},Fp.prototype.getClass=function(){return Fp},Fp.getPolygons=function(){if(1===arguments.length)return Fp.getPolygons(arguments[0],new xl);if(2===arguments.length){var t=arguments[0],e=arguments[1];return t instanceof fc?e.add(t):t instanceof Kl&&t.apply(new Fp(e)),e}};var Bp=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length)this._lines=arguments[0];else if(2===arguments.length){var t=arguments[1];this._lines=arguments[0],this._isForcedToLineString=t}};Bp.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof gc){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof lc&&this._lines.add(t)},Bp.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},Bp.prototype.interfaces_=function(){return[al]},Bp.prototype.getClass=function(){return Bp},Bp.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(Bp.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(Bp.getLines(e,n))}},Bp.getLines=function(){if(1===arguments.length)return Bp.getLines(arguments[0],!1);if(2===arguments.length){if(Iu(arguments[0],_l)&&Iu(arguments[1],_l)){for(var t=arguments[1],e=arguments[0].iterator();e.hasNext();){var n=e.next();Bp.getLines(n,t)}return t}if(arguments[0]instanceof sl&&"boolean"==typeof arguments[1]){var i=arguments[0],r=arguments[1],o=new xl;return i.apply(new Bp(o,r)),o}if(arguments[0]instanceof sl&&Iu(arguments[1],_l)){var a=arguments[0],s=arguments[1];return a instanceof lc?s.add(a):a.apply(new Bp(s)),s}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&Iu(arguments[0],_l)&&Iu(arguments[1],_l)){for(var u=arguments[1],l=arguments[2],c=arguments[0].iterator();c.hasNext();){var h=c.next();Bp.getLines(h,u,l)}return u}if("boolean"==typeof arguments[2]&&arguments[0]instanceof sl&&Iu(arguments[1],_l)){var p=arguments[1];return arguments[0].apply(new Bp(p,arguments[2])),p}}};var jp=function(){if(this._boundaryRule=hl.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new du("Rule must be non-null");this._boundaryRule=t}};jp.prototype.locateInternal=function(){var t=this;if(arguments[0]instanceof wu&&arguments[1]instanceof fc){var e=arguments[0],n=arguments[1];if(n.isEmpty())return Su.EXTERIOR;var i=n.getExteriorRing(),r=this.locateInPolygonRing(e,i);if(r===Su.EXTERIOR)return Su.EXTERIOR;if(r===Su.BOUNDARY)return Su.BOUNDARY;for(var o=0;o<n.getNumInteriorRing();o++){var a=n.getInteriorRingN(o),s=t.locateInPolygonRing(e,a);if(s===Su.INTERIOR)return Su.EXTERIOR;if(s===Su.BOUNDARY)return Su.BOUNDARY}return Su.INTERIOR}if(arguments[0]instanceof wu&&arguments[1]instanceof lc){var u=arguments[0],l=arguments[1];if(!l.getEnvelopeInternal().intersects(u))return Su.EXTERIOR;var c=l.getCoordinates();return l.isClosed()||!u.equals(c[0])&&!u.equals(c[c.length-1])?rl.isOnLine(u,c)?Su.INTERIOR:Su.EXTERIOR:Su.BOUNDARY}if(arguments[0]instanceof wu&&arguments[1]instanceof hc){var h=arguments[0];return arguments[1].getCoordinate().equals2D(h)?Su.INTERIOR:Su.EXTERIOR}},jp.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?rl.locatePointInRing(t,e.getCoordinates()):Su.EXTERIOR},jp.prototype.intersects=function(t,e){return this.locate(t,e)!==Su.EXTERIOR},jp.prototype.updateLocationInfo=function(t){t===Su.INTERIOR&&(this._isIn=!0),t===Su.BOUNDARY&&this._numBoundaries++},jp.prototype.computeLocation=function(t,e){var n=this;if(e instanceof hc&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof lc)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof fc)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof $l)for(var i=e,r=0;r<i.getNumGeometries();r++){var o=i.getGeometryN(r);n.updateLocationInfo(n.locateInternal(t,o))}else if(e instanceof mc)for(var a=e,s=0;s<a.getNumGeometries();s++){var u=a.getGeometryN(s);n.updateLocationInfo(n.locateInternal(t,u))}else if(e instanceof Kl)for(var l=new np(e);l.hasNext();){var c=l.next();c!==e&&n.computeLocation(t,c)}},jp.prototype.locate=function(t,e){return e.isEmpty()?Su.EXTERIOR:e instanceof lc||e instanceof fc?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?Su.BOUNDARY:this._numBoundaries>0||this._isIn?Su.INTERIOR:Su.EXTERIOR)},jp.prototype.interfaces_=function(){return[]},jp.prototype.getClass=function(){return jp};var Vp=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)t.call(this,arguments[0],t.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var e=arguments[1],n=arguments[2];this._component=arguments[0],this._segIndex=e,this._pt=n}},Up={INSIDE_AREA:{configurable:!0}};Vp.prototype.isInsideArea=function(){return this._segIndex===Vp.INSIDE_AREA},Vp.prototype.getCoordinate=function(){return this._pt},Vp.prototype.getGeometryComponent=function(){return this._component},Vp.prototype.getSegmentIndex=function(){return this._segIndex},Vp.prototype.interfaces_=function(){return[]},Vp.prototype.getClass=function(){return Vp},Up.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Vp,Up);var qp=function(t){this._pts=t||null};qp.prototype.filter=function(t){t instanceof hc&&this._pts.add(t)},qp.prototype.interfaces_=function(){return[Zl]},qp.prototype.getClass=function(){return qp},qp.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof hc?gh.singletonList(t):qp.getPoints(t,new xl)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof hc?n.add(e):e instanceof Kl&&e.apply(new qp(n)),n}};var Gp=function(){this._locations=null,this._locations=arguments[0]};Gp.prototype.filter=function(t){(t instanceof hc||t instanceof lc||t instanceof fc)&&this._locations.add(new Vp(t,0,t.getCoordinate()))},Gp.prototype.interfaces_=function(){return[Zl]},Gp.prototype.getClass=function(){return Gp},Gp.getLocations=function(t){var e=new xl;return t.apply(new Gp(e)),e};var Hp=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new jp,this._minDistanceLocation=null,this._minDistance=gu.MAX_VALUE,2===arguments.length)this._geom=[arguments[0],arguments[1]],this._terminateDistance=0;else if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e,this._terminateDistance=n}};Hp.prototype.computeContainmentDistance=function(){var t=this;if(0===arguments.length){var e=new Array(2).fill(null);if(this.computeContainmentDistance(0,e),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,e)}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=1-n,o=Fp.getPolygons(this._geom[n]);if(o.size()>0){var a=Gp.getLocations(this._geom[r]);if(this.computeContainmentDistance(a,o,i),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[r]=i[0],this._minDistanceLocation[n]=i[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&Iu(arguments[0],bl)&&Iu(arguments[1],bl)){for(var s=arguments[0],u=arguments[1],l=arguments[2],c=0;c<s.size();c++)for(var h=s.get(c),p=0;p<u.size();p++)if(t.computeContainmentDistance(h,u.get(p),l),t._minDistance<=t._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Vp&&arguments[1]instanceof fc){var f=arguments[0],d=arguments[1],g=arguments[2],m=f.getCoordinate();if(Su.EXTERIOR!==this._ptLocator.locate(m,d))return this._minDistance=0,g[0]=f,g[1]=new Vp(d,m),null}},Hp.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var i=this,r=0;r<t.size();r++)for(var o=t.get(r),a=0;a<e.size();a++){var s=e.get(a);if(i.computeMinDistance(o,s,n),i._minDistance<=i._terminateDistance)return null}},Hp.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=Bp.getLines(this._geom[0]),n=Bp.getLines(this._geom[1]),i=qp.getPoints(this._geom[0]),r=qp.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,r,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,i,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(i,r,t),void this.updateMinDistance(t,!1))))},Hp.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Hp.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},Hp.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Hp.prototype.computeMinDistance=function(){var t=this;if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof lc&&arguments[1]instanceof hc){var e=arguments[0],n=arguments[1],i=arguments[2];if(e.getEnvelopeInternal().distance(n.getEnvelopeInternal())>this._minDistance)return null;for(var r=e.getCoordinates(),o=n.getCoordinate(),a=0;a<r.length-1;a++){var s=rl.distancePointLine(o,r[a],r[a+1]);if(s<t._minDistance){t._minDistance=s;var u=new Th(r[a],r[a+1]).closestPoint(o);i[0]=new Vp(e,a,u),i[1]=new Vp(n,0,o)}if(t._minDistance<=t._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof lc&&arguments[1]instanceof lc){var l=arguments[0],c=arguments[1],h=arguments[2];if(l.getEnvelopeInternal().distance(c.getEnvelopeInternal())>this._minDistance)return null;for(var p=l.getCoordinates(),f=c.getCoordinates(),d=0;d<p.length-1;d++)for(var g=0;g<f.length-1;g++){var m=rl.distanceLineLine(p[d],p[d+1],f[g],f[g+1]);if(m<t._minDistance){t._minDistance=m;var _=new Th(p[d],p[d+1]),y=new Th(f[g],f[g+1]),v=_.closestPoints(y);h[0]=new Vp(l,d,v[0]),h[1]=new Vp(c,g,v[1])}if(t._minDistance<=t._terminateDistance)return null}}},Hp.prototype.computeMinDistancePoints=function(t,e,n){for(var i=this,r=0;r<t.size();r++)for(var o=t.get(r),a=0;a<e.size();a++){var s=e.get(a),u=o.getCoordinate().distance(s.getCoordinate());if(u<i._minDistance&&(i._minDistance=u,n[0]=new Vp(o,0,o.getCoordinate()),n[1]=new Vp(s,0,s.getCoordinate())),i._minDistance<=i._terminateDistance)return null}},Hp.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new du("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Hp.prototype.computeMinDistanceLines=function(t,e,n){for(var i=this,r=0;r<t.size();r++)for(var o=t.get(r),a=0;a<e.size();a++){var s=e.get(a);if(i.computeMinDistance(o,s,n),i._minDistance<=i._terminateDistance)return null}},Hp.prototype.interfaces_=function(){return[]},Hp.prototype.getClass=function(){return Hp},Hp.distance=function(t,e){return new Hp(t,e).distance()},Hp.isWithinDistance=function(t,e,n){return new Hp(t,e,n).distance()<=n},Hp.nearestPoints=function(t,e){return new Hp(t,e).nearestPoints()};var Wp=function(){this._pt=[new wu,new wu],this._distance=gu.NaN,this._isNull=!0};Wp.prototype.getCoordinates=function(){return this._pt},Wp.prototype.getCoordinate=function(t){return this._pt[t]},Wp.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i<this._distance&&this.initialize(e,n,i)}},Wp.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[1],i=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(n),this._distance=i,this._isNull=!1}},Wp.prototype.toString=function(){return Xu.toLineString(this._pt[0],this._pt[1])},Wp.prototype.getDistance=function(){return this._distance},Wp.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i>this._distance&&this.initialize(e,n,i)}},Wp.prototype.interfaces_=function(){return[]},Wp.prototype.getClass=function(){return Wp};var Yp=function(){};Yp.prototype.interfaces_=function(){return[]},Yp.prototype.getClass=function(){return Yp},Yp.computeDistance=function(){if(arguments[2]instanceof Wp&&arguments[0]instanceof lc&&arguments[1]instanceof wu)for(var t=arguments[0],e=arguments[1],n=arguments[2],i=new Th,r=t.getCoordinates(),o=0;o<r.length-1;o++){i.setCoordinates(r[o],r[o+1]);var a=i.closestPoint(e);n.setMinimum(a,e)}else if(arguments[2]instanceof Wp&&arguments[0]instanceof fc&&arguments[1]instanceof wu){var s=arguments[0],u=arguments[1],l=arguments[2];Yp.computeDistance(s.getExteriorRing(),u,l);for(var c=0;c<s.getNumInteriorRing();c++)Yp.computeDistance(s.getInteriorRingN(c),u,l)}else if(arguments[2]instanceof Wp&&arguments[0]instanceof sl&&arguments[1]instanceof wu){var h=arguments[0],p=arguments[1],f=arguments[2];if(h instanceof lc)Yp.computeDistance(h,p,f);else if(h instanceof fc)Yp.computeDistance(h,p,f);else if(h instanceof Kl)for(var d=h,g=0;g<d.getNumGeometries();g++){var m=d.getGeometryN(g);Yp.computeDistance(m,p,f)}else f.setMinimum(h.getCoordinate(),p)}else if(arguments[2]instanceof Wp&&arguments[0]instanceof Th&&arguments[1]instanceof wu){var _=arguments[1],y=arguments[2],v=arguments[0].closestPoint(_);y.setMinimum(v,_)}};var Zp=function(){this._g0=null,this._g1=null,this._ptDist=new Wp,this._densifyFrac=0;var t=arguments[1];this._g0=arguments[0],this._g1=t},Xp={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Zp.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Zp.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new du("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},Zp.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},Zp.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Zp.prototype.computeOrientedDistance=function(t,e,n){var i=new Kp(e);if(t.apply(i),n.setMaximum(i.getMaxPointDistance()),this._densifyFrac>0){var r=new $p(e,this._densifyFrac);t.apply(r),n.setMaximum(r.getMaxPointDistance())}},Zp.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Zp.prototype.interfaces_=function(){return[]},Zp.prototype.getClass=function(){return Zp},Zp.distance=function(){if(2===arguments.length)return new Zp(arguments[0],arguments[1]).distance();if(3===arguments.length){var t=arguments[2],e=new Zp(arguments[0],arguments[1]);return e.setDensifyFraction(t),e.distance()}},Xp.MaxPointDistanceFilter.get=function(){return Kp},Xp.MaxDensifiedByFractionDistanceFilter.get=function(){return $p},Object.defineProperties(Zp,Xp);var Kp=function(){this._maxPtDist=new Wp,this._minPtDist=new Wp,this._euclideanDist=new Yp,this._geom=null,this._geom=arguments[0]};Kp.prototype.filter=function(t){this._minPtDist.initialize(),Yp.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Kp.prototype.getMaxPointDistance=function(){return this._maxPtDist},Kp.prototype.interfaces_=function(){return[cl]},Kp.prototype.getClass=function(){return Kp};var $p=function(){this._maxPtDist=new Wp,this._minPtDist=new Wp,this._geom=null,this._numSubSegs=0;var t=arguments[1];this._geom=arguments[0],this._numSubSegs=Math.trunc(Math.round(1/t))};$p.prototype.filter=function(t,e){var n=this;if(0===e)return null;for(var i=t.getCoordinate(e-1),r=t.getCoordinate(e),o=(r.x-i.x)/this._numSubSegs,a=(r.y-i.y)/this._numSubSegs,s=0;s<this._numSubSegs;s++){var u=new wu(i.x+s*o,i.y+s*a);n._minPtDist.initialize(),Yp.computeDistance(n._geom,u,n._minPtDist),n._maxPtDist.setMaximum(n._minPtDist)}},$p.prototype.isDone=function(){return!1},$p.prototype.isGeometryChanged=function(){return!1},$p.prototype.getMaxPointDistance=function(){return this._maxPtDist},$p.prototype.interfaces_=function(){return[Xl]},$p.prototype.getClass=function(){return $p};var Jp=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},Qp={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Jp.prototype.checkMaximumDistance=function(t,e,n){var i=new Zp(e,t);if(i.setDensifyFraction(.25),this._maxDistanceFound=i.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var r=i.getCoordinates();this._errorLocation=r[1],this._errorIndicator=t.getFactory().createLineString(r),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Xu.toLineString(r[0],r[1])+")"}},Jp.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=Jp.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Jp.VERBOSE&&Vu.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Jp.prototype.checkNegativeValid=function(){if(!(this._input instanceof fc||this._input instanceof mc||this._input instanceof Kl))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},Jp.prototype.getErrorIndicator=function(){return this._errorIndicator},Jp.prototype.checkMinimumDistance=function(t,e,n){var i=new Hp(t,e,n);if(this._minDistanceFound=i.distance(),this._minDistanceFound<n){this._isValid=!1;var r=i.nearestPoints();this._errorLocation=i.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(r),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Xu.toLineString(r[0],r[1])+" )"}},Jp.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},Jp.prototype.getErrorLocation=function(){return this._errorLocation},Jp.prototype.getPolygonLines=function(t){for(var e=new xl,n=new Bp(e),i=Fp.getPolygons(t).iterator();i.hasNext();)i.next().apply(n);return t.getFactory().buildGeometry(e)},Jp.prototype.getErrorMessage=function(){return this._errMsg},Jp.prototype.interfaces_=function(){return[]},Jp.prototype.getClass=function(){return Jp},Qp.VERBOSE.get=function(){return!1},Qp.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Jp,Qp);var tf=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},ef={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};tf.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},tf.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*tf.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new qu(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new qu(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},tf.prototype.checkDistance=function(){var t=new Jp(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},tf.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},tf.prototype.checkPolygonal=function(){this._result instanceof fc||this._result instanceof mc||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},tf.prototype.getErrorIndicator=function(){return this._errorIndicator},tf.prototype.getErrorLocation=function(){return this._errorLocation},tf.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},tf.prototype.report=function(t){if(!tf.VERBOSE)return null;Vu.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},tf.prototype.getErrorMessage=function(){return this._errorMsg},tf.prototype.interfaces_=function(){return[]},tf.prototype.getClass=function(){return tf},tf.isValidMsg=function(t,e,n){var i=new tf(t,e,n);return i.isValid()?null:i.getErrorMessage()},tf.isValid=function(t,e,n){return!!new tf(t,e,n).isValid()},ef.VERBOSE.get=function(){return!1},ef.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(tf,ef);var nf=function(){this._pts=null,this._data=null;var t=arguments[1];this._pts=arguments[0],this._data=t};nf.prototype.getCoordinates=function(){return this._pts},nf.prototype.size=function(){return this._pts.length},nf.prototype.getCoordinate=function(t){return this._pts[t]},nf.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},nf.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:Ch.octant(this.getCoordinate(t),this.getCoordinate(t+1))},nf.prototype.setData=function(t){this._data=t},nf.prototype.getData=function(){return this._data},nf.prototype.toString=function(){return Xu.toLineString(new xc(this._pts))},nf.prototype.interfaces_=function(){return[Ih]},nf.prototype.getClass=function(){return nf};var rf=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new xl,this._intersectionCount=0,this._keepIntersections=!0,this._li=arguments[0],this._interiorIntersection=null};rf.prototype.getInteriorIntersection=function(){return this._interiorIntersection},rf.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},rf.prototype.getIntersectionSegments=function(){return this._intSegments},rf.prototype.count=function(){return this._intersectionCount},rf.prototype.getIntersections=function(){return this._intersections},rf.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},rf.prototype.setKeepIntersections=function(t){this._keepIntersections=t},rf.prototype.processIntersections=function(t,e,n,i){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===i)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,i))return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[i],s=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=r,this._intSegments[1]=o,this._intSegments[2]=a,this._intSegments[3]=s,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},rf.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},rf.prototype.hasIntersection=function(){return null!==this._interiorIntersection},rf.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},rf.prototype.interfaces_=function(){return[lp]},rf.prototype.getClass=function(){return rf},rf.createAllIntersectionsFinder=function(t){var e=new rf(t);return e.setFindAllIntersections(!0),e},rf.createAnyIntersectionFinder=function(t){return new rf(t)},rf.createIntersectionCounter=function(t){var e=new rf(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var of=function(){this._li=new el,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0,this._segStrings=arguments[0]};of.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},of.prototype.getIntersections=function(){return this._segInt.getIntersections()},of.prototype.isValid=function(){return this.execute(),this._isValid},of.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},of.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new rf(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new zh;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},of.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Gc(this.getErrorMessage(),this._segInt.getInteriorIntersection())},of.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Xu.toLineString(t[0],t[1])+" and "+Xu.toLineString(t[2],t[3])},of.prototype.interfaces_=function(){return[]},of.prototype.getClass=function(){return of},of.computeIntersections=function(t){var e=new of(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var af=function t(){this._nv=null,this._nv=new of(t.toSegmentStrings(arguments[0]))};af.prototype.checkValid=function(){this._nv.checkValid()},af.prototype.interfaces_=function(){return[]},af.prototype.getClass=function(){return af},af.toSegmentStrings=function(t){for(var e=new xl,n=t.iterator();n.hasNext();){var i=n.next();e.add(new nf(i.getCoordinates(),i))}return e},af.checkValid=function(t){new af(t).checkValid()};var sf=function(t){this._mapOp=t};sf.prototype.map=function(t){for(var e=new xl,n=0;n<t.getNumGeometries();n++){var i=this._mapOp.map(t.getGeometryN(n));i.isEmpty()||e.add(i)}return t.getFactory().createGeometryCollection(Oc.toGeometryArray(e))},sf.prototype.interfaces_=function(){return[]},sf.prototype.getClass=function(){return sf},sf.map=function(t,e){return new sf(e).map(t)};var uf=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new xl,this._resultLineList=new xl;var t=arguments[1],e=arguments[2];this._op=arguments[0],this._geometryFactory=t,this._ptLocator=e};uf.prototype.collectLines=function(t){for(var e=this,n=this._op.getGraph().getEdgeEnds().iterator();n.hasNext();){var i=n.next();e.collectLineEdge(i,t,e._lineEdgesList),e.collectBoundaryTouchEdge(i,t,e._lineEdgesList)}},uf.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},uf.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},uf.prototype.collectLineEdge=function(t,e,n){var i=t.getLabel(),r=t.getEdge();t.isLineEdge()&&(t.isVisited()||!Uf.isResultOfOp(i,e)||r.isCovered()||(n.add(r),t.setVisitedEdge(!0)))},uf.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),i=n.getEdge();if(n.isLineEdge()&&!i.isCoveredSet()){var r=this._op.isCoveredByA(n.getCoordinate());i.setCovered(r)}}},uf.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getLabel();n.isIsolated()&&(i.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},uf.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),i=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(i),n.setInResult(!0)}},uf.prototype.collectBoundaryTouchEdge=function(t,e,n){var i=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(Ju.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(Uf.isResultOfOp(i,e)&&e===Uf.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},uf.prototype.interfaces_=function(){return[]},uf.prototype.getClass=function(){return uf};var lf=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new xl;var t=arguments[1];this._op=arguments[0],this._geometryFactory=t};lf.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},lf.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&t!==Uf.INTERSECTION)){var i=n.getLabel();Uf.isResultOfOp(i,t)&&this.filterCoveredNodeToPoint(n)}}},lf.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},lf.prototype.interfaces_=function(){return[]},lf.prototype.getClass=function(){return lf};var cf=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};cf.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},cf.prototype.transformPolygon=function(t,e){var n=!0,i=this.transformLinearRing(t.getExteriorRing(),t);null!==i&&i instanceof gc&&!i.isEmpty()||(n=!1);for(var r=new xl,o=0;o<t.getNumInteriorRing();o++){var a=this.transformLinearRing(t.getInteriorRingN(o),t);null===a||a.isEmpty()||(a instanceof gc||(n=!1),r.add(a))}if(n)return this._factory.createPolygon(i,r.toArray([]));var s=new xl;return null!==i&&s.add(i),s.addAll(r),this._factory.buildGeometry(s)},cf.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},cf.prototype.getInputGeometry=function(){return this._inputGeom},cf.prototype.transformMultiLineString=function(t,e){for(var n=new xl,i=0;i<t.getNumGeometries();i++){var r=this.transformLineString(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},cf.prototype.transformCoordinates=function(t,e){return this.copy(t)},cf.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},cf.prototype.transformMultiPoint=function(t,e){for(var n=new xl,i=0;i<t.getNumGeometries();i++){var r=this.transformPoint(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},cf.prototype.transformMultiPolygon=function(t,e){for(var n=new xl,i=0;i<t.getNumGeometries();i++){var r=this.transformPolygon(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},cf.prototype.copy=function(t){return t.copy()},cf.prototype.transformGeometryCollection=function(t,e){for(var n=new xl,i=0;i<t.getNumGeometries();i++){var r=this.transform(t.getGeometryN(i));null!==r&&(this._pruneEmptyGeometry&&r.isEmpty()||n.add(r))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(Oc.toGeometryArray(n)):this._factory.buildGeometry(n)},cf.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof hc)return this.transformPoint(t,null);if(t instanceof dc)return this.transformMultiPoint(t,null);if(t instanceof gc)return this.transformLinearRing(t,null);if(t instanceof lc)return this.transformLineString(t,null);if(t instanceof $l)return this.transformMultiLineString(t,null);if(t instanceof fc)return this.transformPolygon(t,null);if(t instanceof mc)return this.transformMultiPolygon(t,null);if(t instanceof Kl)return this.transformGeometryCollection(t,null);throw new du("Unknown Geometry subtype: "+t.getClass().getName())},cf.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var i=n.size();return i>0&&i<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},cf.prototype.interfaces_=function(){return[]},cf.prototype.getClass=function(){return cf};var hf=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Th,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof lc&&"number"==typeof arguments[1]){var e=arguments[1];t.call(this,arguments[0].getCoordinates(),e)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],i=arguments[1];this._srcPts=n,this._isClosed=t.isClosed(n),this._snapTolerance=i}};hf.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),i=0;i<n;i++){var r=t.get(i),o=this.findSnapForVertex(r,e);null!==o&&(t.set(i,new wu(o)),0===i&&this._isClosed&&t.set(t.size()-1,new wu(o)))}},hf.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},hf.prototype.snapTo=function(t){var e=new El(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},hf.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var i=0;i<n;i++){var r=e[i],o=this.findSegmentIndexToSnap(r,t);o>=0&&t.add(o+1,new wu(r),!1)}},hf.prototype.findSegmentIndexToSnap=function(t,e){for(var n=this,i=gu.MAX_VALUE,r=-1,o=0;o<e.size()-1;o++){if(n._seg.p0=e.get(o),n._seg.p1=e.get(o+1),n._seg.p0.equals2D(t)||n._seg.p1.equals2D(t)){if(n._allowSnappingToSourceVertices)continue;return-1}var a=n._seg.distance(t);a<n._snapTolerance&&a<i&&(i=a,r=o)}return r},hf.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},hf.prototype.interfaces_=function(){return[]},hf.prototype.getClass=function(){return hf},hf.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var pf=function(t){this._srcGeom=t||null},ff={SNAP_PRECISION_FACTOR:{configurable:!0}};pf.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new df(e,n).transform(this._srcGeom)},pf.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),i=new df(t,n,!0).transform(this._srcGeom),r=i;return e&&Iu(r,pc)&&(r=i.buffer(0)),r},pf.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},pf.prototype.extractTargetCoordinates=function(t){for(var e=new ql,n=t.getCoordinates(),i=0;i<n.length;i++)e.add(n[i]);return e.toArray(new Array(0).fill(null))},pf.prototype.computeMinimumSegmentLength=function(t){for(var e=gu.MAX_VALUE,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);i<e&&(e=i)}return e},pf.prototype.interfaces_=function(){return[]},pf.prototype.getClass=function(){return pf},pf.snap=function(t,e,n){var i=new Array(2).fill(null),r=new pf(t);i[0]=r.snapTo(e,n);var o=new pf(e);return i[1]=o.snapTo(i[0],n),i},pf.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=pf.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===Ic.FIXED){var i=1/n.getScale()*2/1.415;i>e&&(e=i)}return e}if(2===arguments.length){var r=arguments[1];return Math.min(pf.computeOverlaySnapTolerance(arguments[0]),pf.computeOverlaySnapTolerance(r))}},pf.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*pf.SNAP_PRECISION_FACTOR},pf.snapToSelf=function(t,e,n){return new pf(t).snapToSelf(e,n)},ff.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(pf,ff);var df=function(t){function e(e,n,i){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==i&&i}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.snapLine=function(t,e){var n=new hf(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),i=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(cf),gf=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};gf.prototype.getCommon=function(){return gu.longBitsToDouble(this._commonBits)},gf.prototype.add=function(t){var e=gu.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=gf.signExpBits(this._commonBits),this._isFirst=!1,null):gf.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=gf.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=gf.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},gf.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=gu.longBitsToDouble(t),n="0000000000000000000000000000000000000000000000000000000000000000"+gu.toBinaryString(t),i=n.substring(n.length-64);return i.substring(0,1)+"  "+i.substring(1,12)+"(exp) "+i.substring(12)+" [ "+e+" ]"}},gf.prototype.interfaces_=function(){return[]},gf.prototype.getClass=function(){return gf},gf.getBit=function(t,e){return 0!=(t&1<<e)?1:0},gf.signExpBits=function(t){return t>>52},gf.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},gf.numCommonMostSigMantissaBits=function(t,e){for(var n=0,i=52;i>=0;i--){if(gf.getBit(t,i)!==gf.getBit(e,i))return n;n++}return 52};var mf=function(){this._commonCoord=null,this._ccFilter=new yf},_f={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};mf.prototype.addCommonBits=function(t){var e=new vf(this._commonCoord);t.apply(e),t.geometryChanged()},mf.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new wu(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new vf(e);return t.apply(n),t.geometryChanged(),t},mf.prototype.getCommonCoordinate=function(){return this._commonCoord},mf.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},mf.prototype.interfaces_=function(){return[]},mf.prototype.getClass=function(){return mf},_f.CommonCoordinateFilter.get=function(){return yf},_f.Translater.get=function(){return vf},Object.defineProperties(mf,_f);var yf=function(){this._commonBitsX=new gf,this._commonBitsY=new gf};yf.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},yf.prototype.getCommonCoordinate=function(){return new wu(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},yf.prototype.interfaces_=function(){return[cl]},yf.prototype.getClass=function(){return yf};var vf=function(){this.trans=null,this.trans=arguments[0]};vf.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,i=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,i)},vf.prototype.isDone=function(){return!1},vf.prototype.isGeometryChanged=function(){return!0},vf.prototype.interfaces_=function(){return[Xl]},vf.prototype.getClass=function(){return vf};var bf=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};bf.prototype.selfSnap=function(t){return new pf(t).snapTo(t,this._snapTolerance)},bf.prototype.removeCommonBits=function(t){this._cbr=new mf,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},bf.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},bf.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=Uf.overlayOp(e[0],e[1],t);return this.prepareResult(n)},bf.prototype.checkValid=function(t){t.isValid()||Vu.out.println("Snapped geometry is invalid")},bf.prototype.computeSnapTolerance=function(){this._snapTolerance=pf.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},bf.prototype.snap=function(t){var e=this.removeCommonBits(t);return pf.snap(e[0],e[1],this._snapTolerance)},bf.prototype.interfaces_=function(){return[]},bf.prototype.getClass=function(){return bf},bf.overlayOp=function(t,e,n){return new bf(t,e).getResultGeometry(n)},bf.union=function(t,e){return bf.overlayOp(t,e,Uf.UNION)},bf.intersection=function(t,e){return bf.overlayOp(t,e,Uf.INTERSECTION)},bf.symDifference=function(t,e){return bf.overlayOp(t,e,Uf.SYMDIFFERENCE)},bf.difference=function(t,e){return bf.overlayOp(t,e,Uf.DIFFERENCE)};var wf=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};wf.prototype.getResultGeometry=function(t){var e=null,n=!1,i=null;try{e=Uf.overlayOp(this._geom[0],this._geom[1],t),n=!0}catch(t){if(!(t instanceof Ku))throw t;i=t}if(!n)try{e=bf.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof Ku?i:t}return e},wf.prototype.interfaces_=function(){return[]},wf.prototype.getClass=function(){return wf},wf.overlayOp=function(t,e,n){return new wf(t,e).getResultGeometry(n)},wf.union=function(t,e){return wf.overlayOp(t,e,Uf.UNION)},wf.intersection=function(t,e){return wf.overlayOp(t,e,Uf.INTERSECTION)},wf.symDifference=function(t,e){return wf.overlayOp(t,e,Uf.SYMDIFFERENCE)},wf.difference=function(t,e){return wf.overlayOp(t,e,Uf.DIFFERENCE)};var xf=function(){this.mce=null,this.chainIndex=null;var t=arguments[1];this.mce=arguments[0],this.chainIndex=t};xf.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},xf.prototype.interfaces_=function(){return[]},xf.prototype.getClass=function(){return xf};var kf=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._eventType=t.INSERT,this._label=i,this._xValue=r,this._obj=o}},Ef={INSERT:{configurable:!0},DELETE:{configurable:!0}};kf.prototype.isDelete=function(){return this._eventType===kf.DELETE},kf.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},kf.prototype.getObject=function(){return this._obj},kf.prototype.compareTo=function(t){return this._xValue<t._xValue?-1:this._xValue>t._xValue?1:this._eventType<t._eventType?-1:this._eventType>t._eventType?1:0},kf.prototype.getInsertEvent=function(){return this._insertEvent},kf.prototype.isInsert=function(){return this._eventType===kf.INSERT},kf.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},kf.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},kf.prototype.interfaces_=function(){return[_u]},kf.prototype.getClass=function(){return kf},Ef.INSERT.get=function(){return 1},Ef.DELETE.get=function(){return 2},Object.defineProperties(kf,Ef);var Sf=function(){};Sf.prototype.interfaces_=function(){return[]},Sf.prototype.getClass=function(){return Sf};var Cf=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[1],e=arguments[2];this._li=arguments[0],this._includeProper=t,this._recordIsolated=e};Cf.prototype.isTrivialIntersection=function(t,e,n,i){if(t===n&&1===this._li.getIntersectionNum()){if(Cf.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.getNumPoints()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},Cf.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Cf.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},Cf.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Cf.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next().getCoordinate();if(t.isIntersection(i))return!0}return!1},Cf.prototype.hasProperIntersection=function(){return this._hasProper},Cf.prototype.hasIntersection=function(){return this._hasIntersection},Cf.prototype.isDone=function(){return this._isDone},Cf.prototype.isBoundaryPoint=function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},Cf.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},Cf.prototype.addIntersections=function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[i],s=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,a,s),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},Cf.prototype.interfaces_=function(){return[]},Cf.prototype.getClass=function(){return Cf},Cf.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var If=function(t){function e(){t.call(this),this.events=new xl,this.nOverlaps=null}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.prepareEvents=function(){gh.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){var t=this;if(1===arguments.length){var e=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var n=0;n<this.events.size();n++){var i=t.events.get(n);if(i.isInsert()&&t.processOverlaps(n,i.getDeleteEventIndex(),i,e),e.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof Cf&&Iu(arguments[0],bl)&&Iu(arguments[1],bl)){var r=arguments[0],o=arguments[1],a=arguments[2];this.addEdges(r,r),this.addEdges(o,o),this.computeIntersections(a)}else if("boolean"==typeof arguments[2]&&Iu(arguments[0],bl)&&arguments[1]instanceof Cf){var s=arguments[0],u=arguments[1];arguments[2]?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(u)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),i=n.getStartIndexes(),r=0;r<i.length-1;r++){var o=new xf(n,r),a=new kf(e,n.getMinX(r),o);this.events.add(a),this.events.add(new kf(n.getMaxX(r),a))}},e.prototype.processOverlaps=function(t,e,n,i){for(var r=n.getObject(),o=t;o<e;o++){var a=this.events.get(o);if(a.isInsert()){var s=a.getObject();n.isSameLabel(a)||(r.computeIntersections(s,i),this.nOverlaps++)}}},e.prototype.addEdges=function(){var t=this;if(1===arguments.length)for(var e=arguments[0].iterator();e.hasNext();){var n=e.next();t.addEdge(n,n)}else if(2===arguments.length)for(var i=arguments[1],r=arguments[0].iterator();r.hasNext();){var o=r.next();t.addEdge(o,i)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Sf),Af=function(){this._min=gu.POSITIVE_INFINITY,this._max=gu.NEGATIVE_INFINITY},Pf={NodeComparator:{configurable:!0}};Af.prototype.getMin=function(){return this._min},Af.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},Af.prototype.getMax=function(){return this._max},Af.prototype.toString=function(){return Xu.toLineString(new wu(this._min,0),new wu(this._max,0))},Af.prototype.interfaces_=function(){return[]},Af.prototype.getClass=function(){return Af},Pf.NodeComparator.get=function(){return Tf},Object.defineProperties(Af,Pf);var Tf=function(){};Tf.prototype.compare=function(t,e){var n=(t._min+t._max)/2,i=(e._min+e._max)/2;return n<i?-1:n>i?1:0},Tf.prototype.interfaces_=function(){return[vu]},Tf.prototype.getClass=function(){return Tf};var Of=function(t){function e(){t.call(this),this._item=null;var e=arguments[1],n=arguments[2];this._min=arguments[0],this._max=e,this._item=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Af),Lf=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[1];this._node1=arguments[0],this._node2=e,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Af),Mf=function(){this._leaves=new xl,this._root=null,this._level=0};Mf.prototype.buildTree=function(){gh.sort(this._leaves,new Af.NodeComparator);for(var t=this._leaves,e=null,n=new xl;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},Mf.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new Of(t,e,n))},Mf.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},Mf.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},Mf.prototype.printNode=function(t){Vu.out.println(Xu.toLineString(new wu(t._min,this._level),new wu(t._max,this._level)))},Mf.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},Mf.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var i=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(i);else{var r=new Lf(t.get(n),t.get(n+1));e.add(r)}}},Mf.prototype.interfaces_=function(){return[]},Mf.prototype.getClass=function(){return Mf};var Nf=function(){this._items=new xl};Nf.prototype.visitItem=function(t){this._items.add(t)},Nf.prototype.getItems=function(){return this._items},Nf.prototype.interfaces_=function(){return[hh]},Nf.prototype.getClass=function(){return Nf};var Rf=function(){this._index=null;var t=arguments[0];if(!Iu(t,pc))throw new du("Argument must be Polygonal");this._index=new Ff(t)},Df={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};Rf.prototype.locate=function(t){var e=new il(t),n=new zf(e);return this._index.query(t.y,t.y,n),e.getLocation()},Rf.prototype.interfaces_=function(){return[ep]},Rf.prototype.getClass=function(){return Rf},Df.SegmentVisitor.get=function(){return zf},Df.IntervalIndexedGeometry.get=function(){return Ff},Object.defineProperties(Rf,Df);var zf=function(){this._counter=null,this._counter=arguments[0]};zf.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},zf.prototype.interfaces_=function(){return[hh]},zf.prototype.getClass=function(){return zf};var Ff=function(){this._index=new Mf,this.init(arguments[0])};Ff.prototype.init=function(t){for(var e=Bp.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},Ff.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new Th(t[e-1],t[e]),i=Math.min(n.p0.y,n.p1.y),r=Math.max(n.p0.y,n.p1.y);this._index.insert(i,r,n)}},Ff.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Nf;return this._index.query(t,e,n),n.getItems()}3===arguments.length&&this._index.query(arguments[0],arguments[1],arguments[2])},Ff.prototype.interfaces_=function(){return[]},Ff.prototype.getClass=function(){return Ff};var Bf=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new Cc,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new jp,2===arguments.length){var e=arguments[1],n=hl.OGC_SFS_BOUNDARY_RULE;this._argIndex=arguments[0],this._parentGeom=e,this._boundaryNodeRule=n,null!==e&&this.add(e)}else if(3===arguments.length){var i=arguments[1],r=arguments[2];this._argIndex=arguments[0],this._parentGeom=i,this._boundaryNodeRule=r,null!==i&&this.add(i)}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var i=this._nodes.addNode(n).getLabel(),r=1;i.getLocation(t,Bc.ON)===Su.BOUNDARY&&r++;var o=e.determineBoundary(this._boundaryNodeRule,r);i.setLocation(t,o)},e.prototype.computeSelfNodes=function(){if(2===arguments.length)return this.computeSelfNodes(arguments[0],arguments[1],!1);if(3===arguments.length){var t=arguments[1],e=arguments[2],n=new Cf(arguments[0],!0,!1);return n.setIsDoneIfProperInt(e),this.createEdgeSetIntersector().computeIntersections(this._edges,n,t||!(this._parentGeom instanceof gc||this._parentGeom instanceof fc||this._parentGeom instanceof mc)),this.addSelfIntersectionNodes(this._argIndex),n}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},e.prototype.computeEdgeIntersections=function(t,e,n){var i=new Cf(e,n,!0);return i.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,i),i},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof hc){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,Su.INTERIOR)}else arguments[0]instanceof wu&&this.insertPoint(this._argIndex,arguments[0],Su.INTERIOR)},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),Su.EXTERIOR,Su.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,Su.INTERIOR,Su.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],Su.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],Su.BOUNDARY)},e.prototype.addLineString=function(t){var e=Sl.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new _p(e,new Zc(this._argIndex,Su.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),Ju.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,i=t.iterator();i.hasNext();){var r=i.next();e[n++]=r.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===Su.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var i=Sl.removeRepeatedPoints(t.getCoordinates());if(i.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=i[0],null;var r=e,o=n;rl.isCCW(i)&&(r=n,o=e);var a=new _p(i,new Zc(this._argIndex,Su.BOUNDARY,r,o));this._lineEdgeMap.put(t,a),this.insertEdge(a),this.insertPoint(this._argIndex,i[0],Su.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var i=this._nodes.addNode(e),r=i.getLabel();null===r?i._label=new Zc(t,n):r.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new If},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.eiList.iterator();r.hasNext();){var o=r.next();this.addSelfIntersectionNode(t,o.coord,i)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof mc&&(this._useBoundaryDeterminationRule=!1),e instanceof fc)this.addPolygon(e);else if(e instanceof lc)this.addLineString(e);else if(e instanceof hc)this.addPoint(e);else if(e instanceof dc)this.addCollection(e);else if(e instanceof $l)this.addCollection(e);else if(e instanceof mc)this.addCollection(e);else{if(!(e instanceof Kl))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return Iu(this._parentGeom,pc)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new Rf(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){return 1===arguments.length?this._lineEdgeMap.get(arguments[0]):t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?Su.BOUNDARY:Su.INTERIOR},e}(ah),jf=function(){if(this._li=new el,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Bf(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=hl.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Bf(0,e,i),this._arg[1]=new Bf(1,n,i)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2];r.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(r.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Bf(0,r,a),this._arg[1]=new Bf(1,o,a)}};jf.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},jf.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},jf.prototype.interfaces_=function(){return[]},jf.prototype.getClass=function(){return jf};var Vf=function(){};Vf.prototype.interfaces_=function(){return[]},Vf.prototype.getClass=function(){return Vf},Vf.map=function(){if(arguments[0]instanceof sl&&Iu(arguments[1],Vf.MapOp)){for(var t=arguments[0],e=arguments[1],n=new xl,i=0;i<t.getNumGeometries();i++){var r=e.map(t.getGeometryN(i));null!==r&&n.add(r)}return t.getFactory().buildGeometry(n)}if(Iu(arguments[0],_l)&&Iu(arguments[1],Vf.MapOp)){for(var o=arguments[0],a=arguments[1],s=new xl,u=o.iterator();u.hasNext();){var l=u.next(),c=a.map(l);null!==c&&s.add(c)}return s}},Vf.MapOp=function(){};var Uf=function(t){function e(){var e=arguments[0];t.call(this,e,arguments[1]),this._ptLocator=new jp,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new up,this._resultPolyList=new xl,this._resultLineList=new xl,this._resultPointList=new xl,this._graph=new ah(new ap),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new Zc(t.getLabel())).flip();var r=e.getDepth();r.isNull()&&r.add(n),r.add(i),n.merge(i)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,i,r){var o=new xl;return o.addAll(t),o.addAll(n),o.addAll(i),o.isEmpty()?e.createEmptyResult(r,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(this._ptLocator.locate(t,i)!==Su.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new xl,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new xl;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),af.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new sh(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var i=new uf(this,this._geomFact,this._ptLocator);this._resultLineList=i.build(t);var r=new lf(this,this._geomFact,this._ptLocator);this._resultPointList=r.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var i=n.next(),r=i.getLabel();r.isArea()&&!i.isInteriorAreaEdge()&&e.isResultOfOp(r.getLocation(0,Bc.RIGHT),r.getLocation(1,Bc.RIGHT),t)&&i.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),i=e.getDepth();if(!i.isNull()){i.normalize();for(var r=0;r<2;r++)n.isNull(r)||!n.isArea()||i.isNull(r)||(0===i.getDelta(r)?n.toLine(r):(Ju.isTrue(!i.isNull(r,Bc.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(r,Bc.LEFT,i.getLocation(r,Bc.LEFT)),Ju.isTrue(!i.isNull(r,Bc.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(r,Bc.RIGHT,i.getLocation(r,Bc.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(jf);Uf.overlayOp=function(t,e,n){return new Uf(t,e).getResultGeometry(n)},Uf.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return Uf.createEmptyResult(Uf.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return sf.map(t,{interfaces_:function(){return[Vf.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),wf.overlayOp(t,e,Uf.INTERSECTION)},Uf.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Uf.createEmptyResult(Uf.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),wf.overlayOp(t,e,Uf.SYMDIFFERENCE)},Uf.resultDimension=function(t,e,n){var i=e.getDimension(),r=n.getDimension(),o=-1;switch(t){case Uf.INTERSECTION:o=Math.min(i,r);break;case Uf.UNION:o=Math.max(i,r);break;case Uf.DIFFERENCE:o=i;break;case Uf.SYMDIFFERENCE:o=Math.max(i,r)}return o},Uf.createEmptyResult=function(t,e,n,i){var r=null;switch(Uf.resultDimension(t,e,n)){case-1:r=i.createGeometryCollection(new Array(0).fill(null));break;case 0:r=i.createPoint();break;case 1:r=i.createLineString();break;case 2:r=i.createPolygon()}return r},Uf.difference=function(t,e){return t.isEmpty()?Uf.createEmptyResult(Uf.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),wf.overlayOp(t,e,Uf.DIFFERENCE))},Uf.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),i=t.getLocation(1);return Uf.isResultOfOp(n,i,e)}if(3===arguments.length){var r=arguments[0],o=arguments[1];switch(r===Su.BOUNDARY&&(r=Su.INTERIOR),o===Su.BOUNDARY&&(o=Su.INTERIOR),arguments[2]){case Uf.INTERSECTION:return r===Su.INTERIOR&&o===Su.INTERIOR;case Uf.UNION:return r===Su.INTERIOR||o===Su.INTERIOR;case Uf.DIFFERENCE:return r===Su.INTERIOR&&o!==Su.INTERIOR;case Uf.SYMDIFFERENCE:return r===Su.INTERIOR&&o!==Su.INTERIOR||r!==Su.INTERIOR&&o===Su.INTERIOR}return!1}},Uf.INTERSECTION=1,Uf.UNION=2,Uf.DIFFERENCE=3,Uf.SYMDIFFERENCE=4;var qf=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new jp,this._seg=new Th;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};qf.prototype.isWithinToleranceOfBoundary=function(t){for(var e=this,n=0;n<this._linework.getNumGeometries();n++)for(var i=e._linework.getGeometryN(n).getCoordinateSequence(),r=0;r<i.size()-1;r++)if(i.getCoordinate(r,e._seg.p0),i.getCoordinate(r+1,e._seg.p1),e._seg.distance(t)<=e._boundaryDistanceTolerance)return!0;return!1},qf.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?Su.BOUNDARY:this._ptLocator.locate(t,this._g)},qf.prototype.extractLinework=function(t){var e=new Gf;t.apply(e);var n=e.getLinework(),i=Oc.toLineStringArray(n);return t.getFactory().createMultiLineString(i)},qf.prototype.interfaces_=function(){return[]},qf.prototype.getClass=function(){return qf};var Gf=function(){this._linework=null,this._linework=new xl};Gf.prototype.getLinework=function(){return this._linework},Gf.prototype.filter=function(t){if(t instanceof fc){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},Gf.prototype.interfaces_=function(){return[Zl]},Gf.prototype.getClass=function(){return Gf};var Hf=function(){this._g=null,this._doLeft=!0,this._doRight=!0,this._g=arguments[0]};Hf.prototype.extractPoints=function(t,e,n){for(var i=t.getCoordinates(),r=0;r<i.length-1;r++)this.computeOffsetPoints(i[r],i[r+1],e,n)},Hf.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},Hf.prototype.getPoints=function(t){for(var e=new xl,n=Bp.getLines(this._g).iterator();n.hasNext();){var i=n.next();this.extractPoints(i,t,e)}return e},Hf.prototype.computeOffsetPoints=function(t,e,n,i){var r=e.x-t.x,o=e.y-t.y,a=Math.sqrt(r*r+o*o),s=n*r/a,u=n*o/a,l=(e.x+t.x)/2,c=(e.y+t.y)/2;if(this._doLeft){var h=new wu(l-u,c+s);i.add(h)}if(this._doRight){var p=new wu(l+u,c-s);i.add(p)}},Hf.prototype.interfaces_=function(){return[]},Hf.prototype.getClass=function(){return Hf};var Wf=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new xl;var e=arguments[0],n=arguments[1],i=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,i],this._locFinder=[new qf(this._geom[0],this._boundaryDistanceTolerance),new qf(this._geom[1],this._boundaryDistanceTolerance),new qf(this._geom[2],this._boundaryDistanceTolerance)]},Yf={TOLERANCE:{configurable:!0}};Wf.prototype.reportResult=function(t,e,n){Vu.out.println("Overlay result invalid - A:"+Su.toLocationSymbol(e[0])+" B:"+Su.toLocationSymbol(e[1])+" expected:"+(n?"i":"e")+" actual:"+Su.toLocationSymbol(e[2]))},Wf.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},Wf.prototype.checkValid=function(){var t=this;if(1===arguments.length){for(var e=arguments[0],n=0;n<this._testCoords.size();n++){var i=t._testCoords.get(n);if(!t.checkValid(e,i))return t._invalidLocation=i,!1}return!0}if(2===arguments.length){var r=arguments[0],o=arguments[1];return this._location[0]=this._locFinder[0].getLocation(o),this._location[1]=this._locFinder[1].getLocation(o),this._location[2]=this._locFinder[2].getLocation(o),!!Wf.hasLocation(this._location,Su.BOUNDARY)||this.isValidResult(r,this._location)}},Wf.prototype.addTestPts=function(t){var e=new Hf(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},Wf.prototype.isValidResult=function(t,e){var n=Uf.isResultOfOp(e[0],e[1],t),i=!(n^e[2]===Su.INTERIOR);return i||this.reportResult(t,e,n),i},Wf.prototype.getInvalidLocation=function(){return this._invalidLocation},Wf.prototype.interfaces_=function(){return[]},Wf.prototype.getClass=function(){return Wf},Wf.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},Wf.computeBoundaryDistanceTolerance=function(t,e){return Math.min(pf.computeSizeBasedSnapTolerance(t),pf.computeSizeBasedSnapTolerance(e))},Wf.isValid=function(t,e,n,i){return new Wf(t,e,i).isValid(n)},Yf.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Wf,Yf);var Zf=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};Zf.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);this._skipEmpty&&i.isEmpty()||e.add(i)}},Zf.prototype.combine=function(){for(var t=new xl,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},Zf.prototype.interfaces_=function(){return[]},Zf.prototype.getClass=function(){return Zf},Zf.combine=function(){return 1===arguments.length?new Zf(arguments[0]).combine():2===arguments.length?new Zf(Zf.createList(arguments[0],arguments[1])).combine():3===arguments.length?new Zf(Zf.createList(arguments[0],arguments[1],arguments[2])).combine():void 0},Zf.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Zf.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new xl;return n.add(t),n.add(e),n}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],a=new xl;return a.add(i),a.add(r),a.add(o),a}};var Xf=function(){this._inputPolys=null,this._geomFactory=null,this._inputPolys=arguments[0],null===this._inputPolys&&(this._inputPolys=new xl)},Kf={STRTREE_NODE_CAPACITY:{configurable:!0}};Xf.prototype.reduceToGeometries=function(t){for(var e=new xl,n=t.iterator();n.hasNext();){var i=n.next(),r=null;Iu(i,bl)?r=this.unionTree(i):i instanceof sl&&(r=i),e.add(r)}return e},Xf.prototype.extractByEnvelope=function(t,e,n){for(var i=new xl,r=0;r<e.getNumGeometries();r++){var o=e.getGeometryN(r);o.getEnvelopeInternal().intersects(t)?i.add(o):n.add(o)}return this._geomFactory.buildGeometry(i)},Xf.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),i=e.getEnvelopeInternal();if(!n.intersects(i))return Zf.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var r=n.intersection(i);return this.unionUsingEnvelopeIntersection(t,e,r)},Xf.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new wh(Xf.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var i=t.itemsTree();return this.unionTree(i)},Xf.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];if(i-n<=1){var r=Xf.getGeometry(e,n);return this.unionSafe(r,null)}if(i-n==2)return this.unionSafe(Xf.getGeometry(e,n),Xf.getGeometry(e,n+1));var o=Math.trunc((i+n)/2),a=this.binaryUnion(e,n,o),s=this.binaryUnion(e,o,i);return this.unionSafe(a,s)}},Xf.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var i=n.next();e=null===e?i.copy():e.union(i)}return e},Xf.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},Xf.prototype.unionActual=function(t,e){return Xf.restrictToPolygons(t.union(e))},Xf.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},Xf.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var i=new xl,r=this.extractByEnvelope(n,t,i),o=this.extractByEnvelope(n,e,i),a=this.unionActual(r,o);return i.add(a),Zf.combine(i)},Xf.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},Xf.prototype.interfaces_=function(){return[]},Xf.prototype.getClass=function(){return Xf},Xf.restrictToPolygons=function(t){if(Iu(t,pc))return t;var e=Fp.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(Oc.toPolygonArray(e))},Xf.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Xf.union=function(t){return new Xf(t).union()},Kf.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Xf,Kf);var $f=function(){};function Jf(){return new Qf}function Qf(){this.reset()}$f.prototype.interfaces_=function(){return[]},$f.prototype.getClass=function(){return $f},$f.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Uf.createEmptyResult(Uf.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),wf.overlayOp(t,e,Uf.UNION)},Qf.prototype={constructor:Qf,reset:function(){this.s=this.t=0},add:function(t){ed(td,t,this.t),ed(this,td.s,this.s),this.s?this.t+=td.t:this.s=td.t},valueOf:function(){return this.s}};var td=new Qf;function ed(t,e,n){var i=t.s=e+n,r=i-e;t.t=e-(i-r)+(n-r)}var nd=1e-6,id=Math.PI,rd=id/2,od=id/4,ad=2*id,sd=180/id,ud=id/180,ld=Math.abs,cd=Math.atan,hd=Math.atan2,pd=Math.cos,fd=Math.sin,dd=Math.sqrt;function gd(t){return t>1?0:t<-1?id:Math.acos(t)}function md(t){return t>1?rd:t<-1?-rd:Math.asin(t)}function _d(){}function yd(t,e){t&&xd.hasOwnProperty(t.type)&&xd[t.type](t,e)}var vd,bd,wd={Feature:function(t,e){yd(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)yd(n[i].geometry,e)}},xd={Sphere:function(t,e){e.sphere()},Point:function(t,e){e.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)e.point((t=n[i])[0],t[1],t[2])},LineString:function(t,e){kd(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)kd(n[i],e,0)},Polygon:function(t,e){Ed(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Ed(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)yd(n[i],e)}};function kd(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)e.point((i=t[r])[0],i[1],i[2]);e.lineEnd()}function Ed(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)kd(t[n],e,1);e.polygonEnd()}function Sd(t){return[hd(t[1],t[0]),md(t[2])]}function Cd(t){var e=t[0],n=t[1],i=pd(n);return[i*pd(e),i*fd(e),fd(n)]}function Id(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ad(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Pd(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Td(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Od(t){var e=dd(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Ld(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n}function Md(t,e){return[t>id?t-ad:t<-id?t+ad:t,e]}function Nd(t){return function(e,n){return[(e+=t)>id?e-ad:e<-id?e+ad:e,n]}}function Rd(t){var e=Nd(t);return e.invert=Nd(-t),e}function Dd(t,e){var n=pd(t),i=fd(t),r=pd(e),o=fd(e);function a(t,e){var a=pd(e),s=pd(t)*a,u=fd(t)*a,l=fd(e),c=l*n+s*i;return[hd(u*r-c*o,s*n-l*i),md(c*r+u*o)]}return a.invert=function(t,e){var a=pd(e),s=pd(t)*a,u=fd(t)*a,l=fd(e),c=l*r-u*o;return[hd(u*r+l*o,s*n+c*i),md(c*n-s*i)]},a}function zd(t,e){(e=Cd(e))[0]-=t,Od(e);var n=gd(-e[1]);return((-e[2]<0?-n:n)+ad-nd)%ad}function Fd(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:_d,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Bd(t,e){return ld(t[0]-e[0])<nd&&ld(t[1]-e[1])<nd}function jd(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Vd(t,e,n,i,r){var o,a,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],a=t[e];if(Bd(i,a)){for(r.lineStart(),o=0;o<e;++o)r.point((i=t[o])[0],i[1]);r.lineEnd()}else s.push(n=new jd(i,t,null,!0)),u.push(n.o=new jd(i,null,n,!1)),s.push(n=new jd(a,t,null,!1)),u.push(n.o=new jd(a,null,n,!0))}}),s.length){for(u.sort(e),Ud(s),Ud(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;for(var l,c,h=s[0];;){for(var p=h,f=!0;p.v;)if((p=p.n)===h)return;l=p.z,r.lineStart();do{if(p.v=p.o.v=!0,p.e){if(f)for(o=0,a=l.length;o<a;++o)r.point((c=l[o])[0],c[1]);else i(p.x,p.n.x,1,r);p=p.n}else{if(f)for(o=(l=p.p.z).length-1;o>=0;--o)r.point((c=l[o])[0],c[1]);else i(p.x,p.p.x,-1,r);p=p.p}l=(p=p.o).z,f=!f}while(!p.v);r.lineEnd()}}}function Ud(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function qd(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Gd(t){for(var e,n,i,r=t.length,o=-1,a=0;++o<r;)a+=t[o].length;for(n=new Array(a);--r>=0;)for(e=(i=t[r]).length;--e>=0;)n[--a]=i[e];return n}Jf(),Jf(),Jf(),Md.invert=Md,1===(vd=qd).length&&(bd=vd,vd=function(t,e){return qd(bd(t),e)});var Hd=1e9,Wd=-Hd;function Yd(t,e,n,i){function r(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function o(r,o,s,l){var c=0,h=0;if(null==r||(c=a(r,s))!==(h=a(o,s))||u(r,o)<0^s>0)do{l.point(0===c||3===c?t:n,c>1?i:e)}while((c=(c+s+4)%4)!==h);else l.point(o[0],o[1])}function a(i,r){return ld(i[0]-t)<nd?r>0?0:3:ld(i[0]-n)<nd?r>0?2:1:ld(i[1]-e)<nd?r>0?1:0:r>0?3:2}function s(t,e){return u(t.x,e.x)}function u(t,e){var n=a(t,1),i=a(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var u,l,c,h,p,f,d,g,m,_,y,v=a,b=Fd(),w={point:x,lineStart:function(){w.point=k,l&&l.push(c=[]),_=!0,m=!1,d=g=NaN},lineEnd:function(){u&&(k(h,p),f&&m&&b.rejoin(),u.push(b.result())),w.point=x,m&&v.lineEnd()},polygonStart:function(){v=b,u=[],l=[],y=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,r=l.length;n<r;++n)for(var o,a,s=l[n],u=1,c=s.length,h=s[0],p=h[0],f=h[1];u<c;++u)o=p,a=f,p=(h=s[u])[0],f=h[1],a<=i?f>i&&(p-o)*(i-a)>(f-a)*(t-o)&&++e:f<=i&&(p-o)*(i-a)<(f-a)*(t-o)&&--e;return e}(),n=y&&e,r=(u=Gd(u)).length;(n||r)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),r&&Vd(u,s,e,o,a),a.polygonEnd()),v=a,u=l=c=null}};function x(t,e){r(t,e)&&v.point(t,e)}function k(o,a){var s=r(o,a);if(l&&c.push([o,a]),_)h=o,p=a,f=s,_=!1,s&&(v.lineStart(),v.point(o,a));else if(s&&m)v.point(o,a);else{var u=[d=Math.max(Wd,Math.min(Hd,d)),g=Math.max(Wd,Math.min(Hd,g))],b=[o=Math.max(Wd,Math.min(Hd,o)),a=Math.max(Wd,Math.min(Hd,a))];!function(t,e,n,i,r,o){var a,s=t[0],u=t[1],l=0,c=1,h=e[0]-s,p=e[1]-u;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<l)return;a<c&&(c=a)}else if(h>0){if(a>c)return;a>l&&(l=a)}if(a=r-s,h||!(a<0)){if(a/=h,h<0){if(a>c)return;a>l&&(l=a)}else if(h>0){if(a<l)return;a<c&&(c=a)}if(a=i-u,p||!(a>0)){if(a/=p,p<0){if(a<l)return;a<c&&(c=a)}else if(p>0){if(a>c)return;a>l&&(l=a)}if(a=o-u,p||!(a<0)){if(a/=p,p<0){if(a>c)return;a>l&&(l=a)}else if(p>0){if(a<l)return;a<c&&(c=a)}return l>0&&(t[0]=s+l*h,t[1]=u+l*p),c<1&&(e[0]=s+c*h,e[1]=u+c*p),!0}}}}}(u,b,t,e,n,i)?s&&(v.lineStart(),v.point(o,a),y=!1):(m||(v.lineStart(),v.point(u[0],u[1])),v.point(b[0],b[1]),s||v.lineEnd(),y=!1)}d=o,g=a,m=s}return w}}var Zd=Jf();function Xd(t){return t}Jf(),Jf(),Jf();var Kd=1/0,$d=Kd,Jd=-Kd,Qd=Jd,tg={point:function(t,e){t<Kd&&(Kd=t),t>Jd&&(Jd=t),e<$d&&($d=e),e>Qd&&(Qd=e)},lineStart:_d,lineEnd:_d,polygonStart:_d,polygonEnd:_d,result:function(){var t=[[Kd,$d],[Jd,Qd]];return Jd=Qd=-($d=Kd=1/0),t}};function eg(t,e,n,i){return function(r,o){var a,s,u,l=e(o),c=r.invert(i[0],i[1]),h=Fd(),p=e(h),f=!1,d={point:g,lineStart:_,lineEnd:y,polygonStart:function(){d.point=v,d.lineStart=b,d.lineEnd=w,s=[],a=[]},polygonEnd:function(){d.point=g,d.lineStart=_,d.lineEnd=y,s=Gd(s);var t=function(t,e){var n=e[0],i=e[1],r=[fd(n),-pd(n),0],o=0,a=0;Zd.reset();for(var s=0,u=t.length;s<u;++s)if(c=(l=t[s]).length)for(var l,c,h=l[c-1],p=h[0],f=h[1]/2+od,d=fd(f),g=pd(f),m=0;m<c;++m,p=y,d=b,g=w,h=_){var _=l[m],y=_[0],v=_[1]/2+od,b=fd(v),w=pd(v),x=y-p,k=x>=0?1:-1,E=k*x,S=E>id,C=d*b;if(Zd.add(hd(C*k*fd(E),g*w+C*pd(E))),o+=S?x+k*ad:x,S^p>=n^y>=n){var I=Ad(Cd(h),Cd(_));Od(I);var A=Ad(r,I);Od(A);var P=(S^x>=0?-1:1)*md(A[2]);(i>P||i===P&&(I[0]||I[1]))&&(a+=S^x>=0?1:-1)}}return(o<-1e-6||o<nd&&Zd<-1e-6)^1&a}(a,c);s.length?(f||(o.polygonStart(),f=!0),Vd(s,ig,t,n,o)):t&&(f||(o.polygonStart(),f=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),f&&(o.polygonEnd(),f=!1),s=a=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function g(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&o.point(e,n)}function m(t,e){var n=r(t,e);l.point(n[0],n[1])}function _(){d.point=m,l.lineStart()}function y(){d.point=g,l.lineEnd()}function v(t,e){u.push([t,e]);var n=r(t,e);p.point(n[0],n[1])}function b(){p.lineStart(),u=[]}function w(){v(u[0][0],u[0][1]),p.lineEnd();var t,e,n,i,r=p.clean(),l=h.result(),c=l.length;if(u.pop(),a.push(u),u=null,c)if(1&r){if((e=(n=l[0]).length-1)>0){for(f||(o.polygonStart(),f=!0),o.lineStart(),t=0;t<e;++t)o.point((i=n[t])[0],i[1]);o.lineEnd()}}else c>1&&2&r&&l.push(l.pop().concat(l.shift())),s.push(l.filter(ng))}return d}}function ng(t){return t.length>1}function ig(t,e){return((t=t.x)[0]<0?t[1]-rd-nd:rd-t[1])-((e=e.x)[0]<0?e[1]-rd-nd:rd-e[1])}Jf();var rg=eg(function(){return!0},function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?id:-id,u=ld(o-n);ld(u-id)<nd?(t.point(n,i=(i+a)/2>0?rd:-rd),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(o,i),e=0):r!==s&&u>=id&&(ld(n-r)<nd&&(n-=r*nd),ld(o-s)<nd&&(o-=s*nd),i=function(t,e,n,i){var r,o,a=fd(t-n);return ld(a)>nd?cd((fd(e)*(o=pd(i))*fd(n)-fd(i)*(r=pd(e))*fd(t))/(r*o*a)):(e+i)/2}(n,i,o,a),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=o,i=a),r=s},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}},function(t,e,n,i){var r;if(null==t)i.point(-id,r=n*rd),i.point(0,r),i.point(id,r),i.point(id,0),i.point(id,-r),i.point(0,-r),i.point(-id,-r),i.point(-id,0),i.point(-id,r);else if(ld(t[0]-e[0])>nd){var o=t[0]<e[0]?id:-id;i.point(-o,r=n*o/2),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])},[-id,-rd]);function og(t,e){var n=pd(t),i=n>0,r=ld(n)>nd;function o(t,e){return pd(t)*pd(e)>n}function a(t,e,i){var r=[1,0,0],o=Ad(Cd(t),Cd(e)),a=Id(o,o),s=o[0],u=a-s*s;if(!u)return!i&&t;var l=n*a/u,c=-n*s/u,h=Ad(r,o),p=Td(r,l);Pd(p,Td(o,c));var f=h,d=Id(p,f),g=Id(f,f),m=d*d-g*(Id(p,p)-1);if(!(m<0)){var _=dd(m),y=Td(f,(-d-_)/g);if(Pd(y,p),y=Sd(y),!i)return y;var v,b=t[0],w=e[0],x=t[1],k=e[1];w<b&&(v=b,b=w,w=v);var E=w-b,S=ld(E-id)<nd;if(!S&&k<x&&(v=x,x=k,k=v),S||E<nd?S?x+k>0^y[1]<(ld(y[0]-b)<nd?x:k):x<=y[1]&&y[1]<=k:E>id^(b<=y[0]&&y[0]<=w)){var C=Td(f,(-d+_)/g);return Pd(C,p),[y,Sd(C)]}}}function s(e,n){var r=i?t:id-t,o=0;return e<-r?o|=1:e>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}return eg(o,function(t){var e,n,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,p){var f,d=[h,p],g=o(h,p),m=i?g?0:s(h,p):g?s(h+(h<0?id:-id),p):0;if(!e&&(l=u=g)&&t.lineStart(),g!==u&&(!(f=a(e,d))||Bd(e,f)||Bd(d,f))&&(d[0]+=nd,d[1]+=nd,g=o(d[0],d[1])),g!==u)c=0,g?(t.lineStart(),f=a(d,e),t.point(f[0],f[1])):(f=a(e,d),t.point(f[0],f[1]),t.lineEnd()),e=f;else if(r&&e&&i^g){var _;m&n||!(_=a(d,e,!0))||(c=0,i?(t.lineStart(),t.point(_[0][0],_[0][1]),t.point(_[1][0],_[1][1]),t.lineEnd()):(t.point(_[1][0],_[1][1]),t.lineEnd(),t.lineStart(),t.point(_[0][0],_[0][1])))}!g||e&&Bd(e,d)||t.point(d[0],d[1]),e=d,u=g,n=m},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return c|(l&&u)<<1}}},function(n,i,r,o){!function(t,e,n,i,r,o){if(n){var a=pd(e),s=fd(e),u=i*n;null==r?(r=e+i*ad,o=e-u/2):(r=zd(a,r),o=zd(a,o),(i>0?r<o:r>o)&&(r+=i*ad));for(var l,c=r;i>0?c>o:c<o;c-=u)l=Sd([a,-s*pd(c),-s*fd(c)]),t.point(l[0],l[1])}}(o,t,e,r,n,i)},i?[0,-t]:[-id,t-id])}function ag(t){return function(e){var n=new sg;for(var i in t)n[i]=t[i];return n.stream=e,n}}function sg(){}function ug(t,e,n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),function(t,e){t&&wd.hasOwnProperty(t.type)?wd[t.type](t,e):yd(t,e)}(n,t.stream(tg));var a=tg.result(),s=Math.min(i/(a[1][0]-a[0][0]),r/(a[1][1]-a[0][1])),u=+e[0][0]+(i-s*(a[1][0]+a[0][0]))/2,l=+e[0][1]+(r-s*(a[1][1]+a[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*s).translate([u,l])}sg.prototype={constructor:sg,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var lg=pd(30*ud);function cg(t,e){return+e?function(t,e){function n(i,r,o,a,s,u,l,c,h,p,f,d,g,m){var _=l-i,y=c-r,v=_*_+y*y;if(v>4*e&&g--){var b=a+p,w=s+f,x=u+d,k=dd(b*b+w*w+x*x),E=md(x/=k),S=ld(ld(x)-1)<nd||ld(o-h)<nd?(o+h)/2:hd(w,b),C=t(S,E),I=C[0],A=C[1],P=I-i,T=A-r,O=y*P-_*T;(O*O/v>e||ld((_*P+y*T)/v-.5)>.3||a*p+s*f+u*d<lg)&&(n(i,r,o,a,s,u,I,A,S,b/=k,w/=k,x,g,m),m.point(I,A),n(I,A,S,b,w,x,l,c,h,p,f,d,g,m))}}return function(e){var i,r,o,a,s,u,l,c,h,p,f,d,g={point:m,lineStart:_,lineEnd:v,polygonStart:function(){e.polygonStart(),g.lineStart=b},polygonEnd:function(){e.polygonEnd(),g.lineStart=_}};function m(n,i){n=t(n,i),e.point(n[0],n[1])}function _(){c=NaN,g.point=y,e.lineStart()}function y(i,r){var o=Cd([i,r]),a=t(i,r);n(c,h,l,p,f,d,c=a[0],h=a[1],l=i,p=o[0],f=o[1],d=o[2],16,e),e.point(c,h)}function v(){g.point=m,e.lineEnd()}function b(){_(),g.point=w,g.lineEnd=x}function w(t,e){y(i=t,e),r=c,o=h,a=p,s=f,u=d,g.point=y}function x(){n(c,h,l,p,f,d,r,o,i,a,s,u,16,e),g.lineEnd=v,v()}return g}}(t,e):function(t){return ag({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var hg=ag({point:function(t,e){this.stream.point(t*ud,e*ud)}}),pg=function(t,e){var n=pd(t),i=pd(e),r=function(t){return(t=gd(t))&&t/fd(t)}(n*i);return[r*i*fd(t),r*fd(e)]};function fg(t,n,i,r){var a=t.properties||{},s="Feature"===t.type?t.geometry:t;if("GeometryCollection"===s.type){var u=[];return B(t,function(t){var e=fg(t,n,i,r);e&&u.push(e)}),f(u)}var l=function(t){var n=ln(t).geometry.coordinates,i=[-n[0],-n[1]];return function(t){return function(t){var e,n,i,r,o,a,s,u,l,c,h=150,p=480,f=250,d=0,g=0,m=0,_=0,y=0,v=null,b=rg,w=null,x=Xd,k=.5,E=cg(I,k);function S(t){return[(t=o(t[0]*ud,t[1]*ud))[0]*h+n,i-t[1]*h]}function C(t){return(t=o.invert((t[0]-n)/h,(i-t[1])/h))&&[t[0]*sd,t[1]*sd]}function I(t,r){return[(t=e(t,r))[0]*h+n,i-t[1]*h]}function A(){o=Ld(r=function(t,e,n){return(t%=ad)?e||n?Ld(Rd(t),Dd(e,n)):Rd(t):e||n?Dd(e,n):Md}(m,_,y),e);var t=e(d,g);return n=p-t[0]*h,i=f+t[1]*h,P()}function P(){return l=c=null,S}return S.stream=function(t){return l&&c===t?l:l=hg(b(r,E(x(c=t))))},S.clipAngle=function(t){return arguments.length?(b=+t?og(v=t*ud,6*ud):(v=null,rg),P()):v*sd},S.clipExtent=function(t){return arguments.length?(x=null==t?(w=a=s=u=null,Xd):Yd(w=+t[0][0],a=+t[0][1],s=+t[1][0],u=+t[1][1]),P()):null==w?null:[[w,a],[s,u]]},S.scale=function(t){return arguments.length?(h=+t,A()):h},S.translate=function(t){return arguments.length?(p=+t[0],f=+t[1],A()):[p,f]},S.center=function(t){return arguments.length?(d=t[0]%360*ud,g=t[1]%360*ud,A()):[d*sd,g*sd]},S.rotate=function(t){return arguments.length?(m=t[0]%360*ud,_=t[1]%360*ud,y=t.length>2?t[2]%360*ud:0,A()):[m*sd,_*sd,y*sd]},S.precision=function(t){return arguments.length?(E=cg(I,k=t*t),P()):dd(k)},S.fitExtent=function(t,e){return ug(S,t,e)},S.fitSize=function(t,e){return function(t,e,n){return ug(t,[[0,0],e],n)}(S,t,e)},function(){return e=t.apply(this,arguments),S.invert=e.invert&&C,A()}}(function(){return t})()}(pg).scale(79.4188).clipAngle(179.999).rotate(i).scale(e)}(s),c={type:s.type,coordinates:gg(s.coordinates,l)},h=(new zc).read(c),p=v(b(n,i),"meters"),d=Tp.bufferOp(h,p,r);if(!dg((d=(new Fc).write(d)).coordinates))return o({type:d.type,coordinates:mg(d.coordinates,l)},a)}function dg(t){return Array.isArray(t[0])?dg(t[0]):isNaN(t[0])}function gg(t,e){return"object"!=typeof t[0]?e(t):t.map(function(t){return gg(t,e)})}function mg(t,e){return"object"!=typeof t[0]?e.invert(t):t.map(function(t){return mg(t,e)})}function _g(t,e,n){void 0===n&&(n={});var i=it(t),r=it(e),o=pu.intersection(i.coordinates,r.coordinates);return 0===o.length?null:1===o.length?l(o[0],n.properties):m(o,n.properties)}function yg(t,e,n){void 0===n&&(n={});var i=JSON.stringify(n.properties||{}),r=t[0],o=t[1],a=t[2],s=t[3],u=(o+s)/2,l=(r+a)/2,c=2*e/ge([r,u],[a,u],n)*(a-r),h=2*e/ge([l,o],[l,s],n)*(s-o),p=c/2,d=2*p,g=Math.sqrt(3)/2*h,m=a-r,_=s-o,y=3/4*d,v=g,b=Math.floor((m-d)/(d-p/2)),w=(b*y-p/2-m)/2-p/2+y/2,x=Math.floor((_-g)/g),k=(_-x*g)/2,E=x*g-_>g/2;E&&(k-=g/4);for(var S=[],C=[],I=0;I<6;I++){var A=2*Math.PI/6*I;S.push(Math.cos(A)),C.push(Math.sin(A))}for(var P=[],T=0;T<=b;T++)for(var O=0;O<=x;O++){var L=T%2==1;if(!(0===O&&L||0===O&&E)){var M=T*y+r-w,N=O*v+o+k;if(L&&(N-=g/2),!0===n.triangles)bg([M,N],c/2,h/2,JSON.parse(i),S,C).forEach(function(t){n.mask?_g(n.mask,t)&&P.push(t):P.push(t)});else{var R=vg([M,N],c/2,h/2,JSON.parse(i),S,C);n.mask?_g(n.mask,R)&&P.push(R):P.push(R)}}}return f(P)}function vg(t,e,n,i,r,o){for(var a=[],s=0;s<6;s++)a.push([t[0]+e*r[s],t[1]+n*o[s]]);return a.push(a[0].slice()),l([a],i)}function bg(t,e,n,i,r,o){for(var a=[],s=0;s<6;s++){var u=[];u.push(t),u.push([t[0]+e*r[s],t[1]+n*o[s]]),u.push([t[0]+e*r[(s+1)%6],t[1]+n*o[(s+1)%6]]),u.push(t),a.push(l([u],i))}return a}function wg(t,e,n){return void 0===n&&(n={}),function(t,e,n,i){void 0===i&&(i={});for(var r=[],o=t[0],a=t[1],s=t[2],u=t[3],c=e/ge([o,a],[s,a],i)*(s-o),h=n/ge([o,a],[o,u],i)*(u-a),p=s-o,d=u-a,g=Math.floor(p/c),m=Math.floor(d/h),_=(d-m*h)/2,y=o+(p-g*c)/2,v=0;v<g;v++){for(var b=a+_,w=0;w<m;w++){var x=l([[[y,b],[y,b+h],[y+c,b+h],[y+c,b],[y,b]]],i.properties);i.mask?Ho(i.mask,x)&&r.push(x):r.push(x),b+=h}y+=c}return f(r)}(t,e,e,n)}function xg(t,e,n){void 0===n&&(n={});for(var i=[],r=e/ge([t[0],t[1]],[t[2],t[1]],n)*(t[2]-t[0]),o=e/ge([t[0],t[1]],[t[0],t[3]],n)*(t[3]-t[1]),a=0,s=t[0];s<=t[2];){for(var u=0,c=t[1];c<=t[3];){var h=null,p=null;a%2==0&&u%2==0?(h=l([[[s,c],[s,c+o],[s+r,c],[s,c]]],n.properties),p=l([[[s,c+o],[s+r,c+o],[s+r,c],[s,c+o]]],n.properties)):a%2==0&&u%2==1?(h=l([[[s,c],[s+r,c+o],[s+r,c],[s,c]]],n.properties),p=l([[[s,c],[s,c+o],[s+r,c+o],[s,c]]],n.properties)):u%2==0&&a%2==1?(h=l([[[s,c],[s,c+o],[s+r,c+o],[s,c]]],n.properties),p=l([[[s,c],[s+r,c+o],[s+r,c],[s,c]]],n.properties)):u%2==1&&a%2==1&&(h=l([[[s,c],[s,c+o],[s+r,c],[s,c]]],n.properties),p=l([[[s,c+o],[s+r,c+o],[s+r,c],[s,c+o]]],n.properties)),n.mask?(_g(n.mask,h)&&i.push(h),_g(n.mask,p)&&i.push(p)):(i.push(h),i.push(p)),c+=o,u++}a++,s+=r}return f(i)}pg.invert=function(t,e){var n=dd(t*t+e*e),i=n,r=fd(i),o=pd(i);return[hd(t*r,n*o),md(n&&e*r/n)]},t.along=function(t,e,n){void 0===n&&(n={});for(var i=it(t).coordinates,r=0,o=0;o<i.length&&!(e>=r&&o===i.length-1);o++){if(r>=e){var a=e-r;if(a){var u=un(i[o],i[o-1])-180;return an(i[o],a,u,n)}return s(i[o])}r+=ge(i[o],i[o+1],n)}return s(i[i.length-1])},t.angle=function(t,e,n,i){if(void 0===i&&(i={}),!A(i))throw new Error("options is invalid");if(!t)throw new Error("startPoint is required");if(!e)throw new Error("midPoint is required");if(!n)throw new Error("endPoint is required");var r=t,o=e,a=n,s=x(!0!==i.mercator?un(r,o):sr(r,o)),u=x(!0!==i.mercator?un(a,o):sr(a,o)),l=Math.abs(s-u);return!0===i.explementary?360-l:l},t.applyFilter=ws,t.area=hi,t.areaFactors=r,t.bbox=K,t.bboxClip=function(t,e){var n=it(t),i=n.type,r="Feature"===t.type?t.properties:{},o=n.coordinates;switch(i){case"LineString":case"MultiLineString":var a=[];return"LineString"===i&&(o=[o]),o.forEach(function(t){!function(t,e,n){var i,r,o,a,s,u=t.length,l=Qi(t[0],e),c=[];for(n||(n=[]),i=1;i<u;i++){for(a=t[i-1],r=o=Qi(s=t[i],e);;){if(!(l|r)){c.push(a),r!==o?(c.push(s),i<u-1&&(n.push(c),c=[])):i===u-1&&c.push(s);break}if(l&r)break;l?l=Qi(a=Ji(a,s,l,e),e):r=Qi(s=Ji(a,s,r,e),e)}l=o}c.length&&n.push(c)}(t,e,a)}),1===a.length?h(a[0],r):d(a,r);case"Polygon":return l(tr(o,e),r);case"MultiPolygon":return m(o.map(function(t){return tr(t,e)}),r);default:throw new Error("geometry "+i+" not supported")}},t.bboxPolygon=nn,t.bearing=un,t.bearingToAngle=x,t.bearingToAzimuth=x,t.bezier=en,t.bezierSpline=en,t.booleanClockwise=fr,t.booleanContains=function(t,e){var n=it(t),i=it(e),r=n.type,o=i.type,a=n.coordinates,s=i.coordinates;switch(r){case"Point":switch(o){case"Point":return No(a,s);default:throw new Error("feature2 "+o+" geometry not supported")}case"MultiPoint":switch(o){case"Point":return function(t,e){var n,i=!1;for(n=0;n<t.coordinates.length;n++)if(No(t.coordinates[n],e.coordinates)){i=!0;break}return i}(n,i);case"MultiPoint":return function(t,e){for(var n=0,i=e.coordinates;n<i.length;n++){for(var r=i[n],o=!1,a=0,s=t.coordinates;a<s.length;a++)if(No(r,s[a])){o=!0;break}if(!o)return!1}return!0}(n,i);default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"Point":return _i(i,n,{ignoreEndVertices:!0});case"LineString":return function(t,e){for(var n=!1,i=0,r=e.coordinates;i<r.length;i++){var o=r[i];if(_i({type:"Point",coordinates:o},t,{ignoreEndVertices:!0})&&(n=!0),!_i({type:"Point",coordinates:o},t,{ignoreEndVertices:!1}))return!1}return n}(n,i);case"MultiPoint":return function(t,e){for(var n=!1,i=0,r=e.coordinates;i<r.length;i++){var o=r[i];if(_i(o,t,{ignoreEndVertices:!0})&&(n=!0),!_i(o,t))return!1}return!!n}(n,i);default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"Point":return pe(i,n,{ignoreBoundary:!0});case"LineString":return function(t,e){var n=!1,i=0;if(!Mo(K(t),K(e)))return!1;for(;i<e.coordinates.length-1;i++)if(pe({type:"Point",coordinates:Ro(e.coordinates[i],e.coordinates[i+1])},t,{ignoreBoundary:!0})){n=!0;break}return n}(n,i);case"Polygon":return function(t,e){if("Feature"===t.type&&null===t.geometry)return!1;if("Feature"===e.type&&null===e.geometry)return!1;if(!Mo(K(t),K(e)))return!1;for(var n=0,i=it(e).coordinates;n<i.length;n++)for(var r=0,o=i[n];r<o.length;r++)if(!pe(o[r],t))return!1;return!0}(n,i);case"MultiPoint":return function(t,e){for(var n=0,i=e.coordinates;n<i.length;n++)if(!pe(i[n],t,{ignoreBoundary:!0}))return!1;return!0}(n,i);default:throw new Error("feature2 "+o+" geometry not supported")}default:throw new Error("feature1 "+r+" geometry not supported")}},t.booleanCrosses=function(t,e){var n=it(t),i=it(e),r=n.type,o=i.type;switch(r){case"MultiPoint":switch(o){case"LineString":return Do(n,i);case"Polygon":return Fo(n,i);default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"MultiPoint":return Do(i,n);case"LineString":return function(t,e){if(ei(t,e).features.length>0)for(var n=0;n<t.coordinates.length-1;n++)for(var i=0;i<e.coordinates.length-1;i++){var r=!0;if(0!==i&&i!==e.coordinates.length-2||(r=!1),Bo(t.coordinates[n],t.coordinates[n+1],e.coordinates[i],r))return!0}return!1}(n,i);case"Polygon":return zo(n,i);default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"MultiPoint":return Fo(i,n);case"LineString":return zo(i,n);default:throw new Error("feature2 "+o+" geometry not supported")}default:throw new Error("feature1 "+r+" geometry not supported")}},t.booleanDisjoint=Po,t.booleanEqual=function(t,e){return it(t).type===it(e).type&&new Go({precision:6}).compare(qe(t),qe(e))},t.booleanIntersects=Ho,t.booleanOverlap=function(t,e){var n=it(t),i=it(e),r=n.type,o=i.type;if("MultiPoint"===r&&"MultiPoint"!==o||("LineString"===r||"MultiLineString"===r)&&"LineString"!==o&&"MultiLineString"!==o||("Polygon"===r||"MultiPolygon"===r)&&"Polygon"!==o&&"MultiPolygon"!==o)throw new Error("features must be of the same type");if("Point"===r)throw new Error("Point geometry not supported");if(new Go({precision:6}).compare(t,e))return!1;var a=0;switch(r){case"MultiPoint":for(var s=0;s<n.coordinates.length;s++)for(var u=0;u<i.coordinates.length;u++){var l=n.coordinates[s],c=i.coordinates[u];if(l[0]===c[0]&&l[1]===c[1])return!0}return!1;case"LineString":case"MultiLineString":q(t,function(t){q(e,function(e){rr(t,e).features.length&&a++})});break;case"Polygon":case"MultiPolygon":q(t,function(t){q(e,function(e){ei(t,e).features.length&&a++})})}return a>0},t.booleanParallel=function(t,e){if(!t)throw new Error("line1 is required");if(!e)throw new Error("line2 is required");if("LineString"!==ia(t,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==ia(e,"line2"))throw new Error("line2 must be a LineString");for(var n=Bn(qe(t)).features,i=Bn(qe(e)).features,r=0;r<n.length;r++){var o=n[r].geometry.coordinates;if(!i[r])break;if(!na(o,i[r].geometry.coordinates))return!1}return!0},t.booleanPointInPolygon=pe,t.booleanPointOnLine=_i,t.booleanWithin=vi,t.buffer=function(t,e,n){var i=(n=n||{}).units||"kilometers",r=n.steps||8;if(!t)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof r)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(r<=0)throw new Error("steps must be greater than 0");var o=[];switch(t.type){case"GeometryCollection":return B(t,function(t){var n=fg(t,e,i,r);n&&o.push(n)}),f(o);case"FeatureCollection":return D(t,function(t){var n=fg(t,e,i,r);n&&D(n,function(t){t&&o.push(t)})}),f(o)}return fg(t,e,i,r)},t.center=ln,t.centerMean=Ka,t.centerMedian=function(t,e){if(void 0===e&&(e={}),!A(e=e||{}))throw new Error("options is invalid");var n=e.counter||10;if(!I(n))throw new Error("counter must be a number");var i=e.weight,r=Ka(t,{weight:e.weight}),o=f([]);return D(t,function(t){var e;o.features.push(cn(t,{properties:{weight:null===(e=t.properties)||void 0===e?void 0:e[i]}}))}),$a(r.geometry.coordinates,[0,0],o,{tolerance:e.tolerance,medianCandidates:[]},n)},t.centerOfMass=function t(e,n){switch(void 0===n&&(n={}),rt(e)){case"Point":return s($(e),n.properties);case"Polygon":var i=[];L(e,function(t){i.push(t)});var r,o,a,u,l,c,h,p,f=cn(e,{properties:n.properties}),d=f.geometry.coordinates,g=0,m=0,_=0,y=i.map(function(t){return[t[0]-d[0],t[1]-d[1]]});for(r=0;r<i.length-1;r++)u=(o=y[r])[0],l=(a=y[r+1])[0],_+=p=u*(h=a[1])-l*(c=o[1]),g+=(u+l)*p,m+=(c+h)*p;if(0===_)return f;var v=1/(.5*_*6);return s([d[0]+v*g,d[1]+v*m],n.properties);default:var b=he(e);return b?t(b,{properties:n.properties}):cn(e,{properties:n.properties})}},t.centroid=cn,t.circle=sn,t.cleanCoords=qe,t.clone=be,t.clusterEach=ys,t.clusterReduce=vs,t.clusters=Es,t.clustersDbscan=function(t,e,n){void 0===n&&(n={}),!0!==n.mutate&&(t=be(t)),n.minPoints=n.minPoints||3;var i=new Ko.DBSCAN,r=i.run(F(t),S(e,n.units),n.minPoints,ge),o=-1;return r.forEach(function(e){o++,e.forEach(function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster=o,n.properties.dbscan="core"})}),i.noise.forEach(function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.dbscan=n.properties.cluster?"edge":"noise"}),t},t.clustersKmeans=function(t,e){void 0===e&&(e={});var n=t.features.length;e.numberOfClusters=e.numberOfClusters||Math.round(Math.sqrt(n/2)),e.numberOfClusters>n&&(e.numberOfClusters=n),!0!==e.mutate&&(t=be(t));var i=F(t),r=i.slice(0,e.numberOfClusters),o=function(t,e,n,i){var r=[],o=[],a=[],s=[],u=!1,l=1e4,c=t.length,h=t[0].length,p=h>0,f=[];if(n)r="kmrand"==n?function(t,e){for(var n={},i=[],r=e<<2,o=t.length,a=t[0].length>0;i.length<e&&r-- >0;){var s=t[Math.floor(Math.random()*o)],u=a?s.join("_"):""+s;n[u]||(n[u]=!0,i.push(s))}if(i.length<e)throw new Error("Error initializating clusters");return i}(t,e):"kmpp"==n?function(t,e){var n=t[0].length?Jo:Qo,i=[],r=t.length,o=t[0].length>0,a=t[Math.floor(Math.random()*r)];for(o&&a.join("_"),i.push(a);i.length<e;){for(var s=[],u=i.length,l=0,c=[],h=0;h<r;h++){for(var p=1/0,f=0;f<u;f++){var d=n(t[h],i[f]);d<=p&&(p=d)}s[h]=p}for(var g=0;g<r;g++)l+=s[g];for(var m=0;m<r;m++)c[m]={i:m,v:t[m],pr:s[m]/l,cs:0};c.sort(function(t,e){return t.pr-e.pr}),c[0].cs=c[0].pr;for(var _=1;_<r;_++)c[_].cs=c[_-1].cs+c[_].pr;for(var y=Math.random(),v=0;v<r-1&&c[v++].cs<y;);i.push(c[v-1].v)}return i}(t,e):n;else for(var d={};r.length<e;){var g=Math.floor(Math.random()*c);d[g]||(d[g]=!0,r.push(t[g]))}do{ea(e,0,f);for(var m=0;m<c;m++){for(var _=1/0,y=0,v=0;v<e;v++)(s=p?ta(t[m],r[v]):Math.abs(t[m]-r[v]))<=_&&(_=s,y=v);a[m]=y,f[y]++}for(var b=[],w=(o=[],0);w<e;w++)b[w]=p?ea(h,0,b[w]):0,o[w]=r[w];if(p){for(var x=0;x<e;x++)r[x]=[];for(var k=0;k<c;k++)for(var E=b[a[k]],S=t[k],C=0;C<h;C++)E[C]+=S[C];u=!0;for(var I=0;I<e;I++){for(var A=r[I],P=b[I],T=o[I],O=f[I],L=0;L<h;L++)A[L]=P[L]/O||0;if(u)for(var M=0;M<h;M++)if(T[M]!=A[M]){u=!1;break}}}else{for(var N=0;N<c;N++)b[a[N]]+=t[N];for(var R=0;R<e;R++)r[R]=b[R]/f[R]||0;u=!0;for(var D=0;D<e;D++)if(o[D]!=r[D]){u=!1;break}}u=u||--l<=0}while(!u);return{it:1e4-l,k:e,idxs:a,centroids:r}}(i,e.numberOfClusters,r),a={};return o.centroids.forEach(function(t,e){a[e]=t}),D(t,function(t,e){var n=o.idxs[e];t.properties.cluster=n,t.properties.centroid=a[n]}),t},t.collect=function(t,e,n,i){var r=kt(6),o=e.features.map(function(t){var e;return{minX:t.geometry.coordinates[0],minY:t.geometry.coordinates[1],maxX:t.geometry.coordinates[0],maxY:t.geometry.coordinates[1],property:null===(e=t.properties)||void 0===e?void 0:e[n]}});return r.load(o),t.features.forEach(function(t){t.properties||(t.properties={});var e=K(t),n=r.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}),o=[];n.forEach(function(e){pe([e.minX,e.minY],t)&&o.push(e.property)}),t.properties[i]=o}),t},t.collectionOf=nt,t.combine=function(t){var e={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return D(t,function(t){var n,i,r,o;switch(null===(o=t.geometry)||void 0===o?void 0:o.type){case"Point":e.MultiPoint.coordinates.push(t.geometry.coordinates),e.MultiPoint.properties.push(t.properties);break;case"MultiPoint":(n=e.MultiPoint.coordinates).push.apply(n,t.geometry.coordinates),e.MultiPoint.properties.push(t.properties);break;case"LineString":e.MultiLineString.coordinates.push(t.geometry.coordinates),e.MultiLineString.properties.push(t.properties);break;case"MultiLineString":(i=e.MultiLineString.coordinates).push.apply(i,t.geometry.coordinates),e.MultiLineString.properties.push(t.properties);break;case"Polygon":e.MultiPolygon.coordinates.push(t.geometry.coordinates),e.MultiPolygon.properties.push(t.properties);break;case"MultiPolygon":(r=e.MultiPolygon.coordinates).push.apply(r,t.geometry.coordinates),e.MultiPolygon.properties.push(t.properties)}}),f(Object.keys(e).filter(function(t){return e[t].coordinates.length}).sort().map(function(t){return o({type:t,coordinates:e[t].coordinates},{collectedProperties:e[t].properties})}))},t.concave=function(t,e){void 0===e&&(e={});var n=e.maxEdge||1/0,i=me(function(t){var e=[],n={};return D(t,function(t){if(t.geometry){var i=t.geometry.coordinates.join("-");Object.prototype.hasOwnProperty.call(n,i)||(e.push(t),n[i]=!0)}}),f(e)}(t));if(i.features=i.features.filter(function(t){var i=t.geometry.coordinates[0][0],r=t.geometry.coordinates[0][1],o=t.geometry.coordinates[0][2],a=ge(i,r,e),s=ge(r,o,e),u=ge(i,o,e);return a<=n&&s<=n&&u<=n}),i.features.length<1)return null;var r=function(t,e){if(void 0===e&&(e={}),!A(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==rt(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=be(t));var i=function(t){var e={};V(t,function(t){e[t.geometry.type]=!0});var n=Object.keys(e);return 1===n.length?n[0]:null}(t);if(!i)throw new Error("geojson must be homogenous");var r=t;switch(i){case"LineString":return function(t,e){if(void 0===e&&(e={}),!A(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==rt(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=be(t));var i=[],r=W(t,function(t,e){return function(t,e){var n,i=t.geometry.coordinates,r=e.geometry.coordinates,o=Se(i[0]),a=Se(i[i.length-1]),s=Se(r[0]),u=Se(r[r.length-1]);if(o===u)n=r.concat(i.slice(1));else if(s===a)n=i.concat(r.slice(1));else if(o===s)n=i.slice(1).reverse().concat(r);else{if(a!==u)return null;n=i.concat(r.reverse().slice(1))}return h(n)}(t,e)||(i.push(t),e)});return r&&i.push(r),i.length?1===i.length?i[0]:d(i.map(function(t){return t.coordinates})):null}(r,e);case"Polygon":return function(t,e){if(void 0===e&&(e={}),"FeatureCollection"!==rt(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==e.mutate&&void 0!==e.mutate||(t=be(t));var n=[];V(t,function(t){n.push(t.geometry)});var i=function(t,e){var n=function(t){var e=1/0,n=1/0,i=-1/0,r=-1/0;function o(t){null!=t&&Pe.call(a,t.type)&&a[t.type](t)}var a={GeometryCollection:function(t){t.geometries.forEach(o)},Point:function(t){s(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(s)},LineString:function(t){u(t.arcs)},MultiLineString:function(t){t.arcs.forEach(u)},Polygon:function(t){t.arcs.forEach(u)},MultiPolygon:function(t){t.arcs.forEach(l)}};function s(t){var o=t[0],a=t[1];o<e&&(e=o),o>i&&(i=o),a<n&&(n=a),a>r&&(r=a)}function u(t){t.forEach(s)}function l(t){t.forEach(u)}for(var c in t)o(t[c]);return i>=e&&r>=n?[e,n,i,r]:void 0}(t=function(t){var e,n,i={};for(e in t)i[e]=null==(n=t[e])?{type:null}:("FeatureCollection"===n.type?Fe:"Feature"===n.type?Be:je)(n);return i}(t)),i=function(t){var e,n,i,r,o=t.coordinates,a=t.lines,s=t.rings,u=a.length+s.length;for(delete t.lines,delete t.rings,i=0,r=a.length;i<r;++i)for(e=a[i];e=e.next;)++u;for(i=0,r=s.length;i<r;++i)for(n=s[i];n=n.next;)++u;var l=Te(2*u*1.4,Re,Oe),c=t.arcs=[];for(i=0,r=a.length;i<r;++i){e=a[i];do{h(e)}while(e=e.next)}for(i=0,r=s.length;i<r;++i)if((n=s[i]).next)do{h(n)}while(n=n.next);else p(n);function h(t){var e,n,i,r,a,s,u,h;if(i=l.get(e=o[t[0]]))for(u=0,h=i.length;u<h;++u)if(f(r=i[u],t))return t[0]=r[0],void(t[1]=r[1]);if(a=l.get(n=o[t[1]]))for(u=0,h=a.length;u<h;++u)if(d(s=a[u],t))return t[1]=s[0],void(t[0]=s[1]);i?i.push(t):l.set(e,[t]),a?a.push(t):l.set(n,[t]),c.push(t)}function p(t){var e,n,i,r,a;if(n=l.get(o[t[0]]))for(r=0,a=n.length;r<a;++r){if(g(i=n[r],t))return t[0]=i[0],void(t[1]=i[1]);if(m(i,t))return t[0]=i[1],void(t[1]=i[0])}if(n=l.get(e=o[t[0]+_(t)]))for(r=0,a=n.length;r<a;++r){if(g(i=n[r],t))return t[0]=i[0],void(t[1]=i[1]);if(m(i,t))return t[0]=i[1],void(t[1]=i[0])}n?n.push(t):l.set(e,[t]),c.push(t)}function f(t,e){var n=t[0],i=e[0],r=t[1];if(n-r!=i-e[1])return!1;for(;n<=r;++n,++i)if(!Oe(o[n],o[i]))return!1;return!0}function d(t,e){var n=t[0],i=t[1],r=e[1];if(n-i!=e[0]-r)return!1;for(;n<=i;++n,--r)if(!Oe(o[n],o[r]))return!1;return!0}function g(t,e){var n=t[0],i=e[0],r=t[1]-n;if(r!==e[1]-i)return!1;for(var a=_(t),s=_(e),u=0;u<r;++u)if(!Oe(o[n+(u+a)%r],o[i+(u+s)%r]))return!1;return!0}function m(t,e){var n=t[0],i=e[1],r=t[1]-n;if(r!==i-e[0])return!1;for(var a=_(t),s=r-_(e),u=0;u<r;++u)if(!Oe(o[n+(u+a)%r],o[i-(u+s)%r]))return!1;return!0}function _(t){for(var e=t[0],n=t[1],i=e,r=i,a=o[i];++i<n;){var s=o[i];(s[0]<a[0]||s[0]===a[0]&&s[1]<a[1])&&(r=i,a=s)}return r-e}return t}(function(t){var e,n,i,r=function(t){var e,n,i,r,o=t.coordinates,a=t.lines,s=t.rings,u=function(){for(var t=Te(1.4*o.length,w,x,Int32Array,-1,Int32Array),e=new Int32Array(o.length),n=0,i=o.length;n<i;++n)e[n]=t.maybeSet(n,n);return e}(),l=new Int32Array(o.length),c=new Int32Array(o.length),h=new Int32Array(o.length),p=new Int8Array(o.length),f=0;for(e=0,n=o.length;e<n;++e)l[e]=c[e]=h[e]=-1;for(e=0,n=a.length;e<n;++e){var d=a[e],g=d[0],m=d[1];for(i=u[g],r=u[++g],++f,p[i]=1;++g<=m;)b(e,i,i=r,r=u[g]);++f,p[r]=1}for(e=0,n=o.length;e<n;++e)l[e]=-1;for(e=0,n=s.length;e<n;++e){var _=s[e],y=_[0]+1,v=_[1];for(b(e,u[v-1],i=u[y-1],r=u[y]);++y<=v;)b(e,i,i=r,r=u[y])}function b(t,e,n,i){if(l[n]!==t){l[n]=t;var r=c[n];if(r>=0){var o=h[n];r===e&&o===i||r===i&&o===e||(++f,p[n]=1)}else c[n]=e,h[n]=i}}function w(t){return Re(o[t])}function x(t,e){return Oe(o[t],o[e])}l=c=h=null;var k,E=function(t,e,n,i,r){3===arguments.length&&(i=Array,r=null);for(var o=new i(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=t-1,s=0;s<t;++s)o[s]=r;function u(i){for(var s=e(i)&a,u=o[s],l=0;u!=r;){if(n(u,i))return!0;if(++l>=t)throw new Error("full hashset");u=o[s=s+1&a]}return o[s]=i,!0}function l(i){for(var s=e(i)&a,u=o[s],l=0;u!=r;){if(n(u,i))return!0;if(++l>=t)break;u=o[s=s+1&a]}return!1}function c(){for(var t=[],e=0,n=o.length;e<n;++e){var i=o[e];i!=r&&t.push(i)}return t}return{add:u,has:l,values:c}}(1.4*f,Re,Oe);for(e=0,n=o.length;e<n;++e)p[k=u[e]]&&E.add(o[k]);return E}(t),o=t.coordinates,a=t.lines,s=t.rings;for(n=0,i=a.length;n<i;++n)for(var u=a[n],l=u[0],c=u[1];++l<c;)r.has(o[l])&&(e={0:l,1:u[1]},u[1]=l,u=u.next=e);for(n=0,i=s.length;n<i;++n)for(var h=s[n],p=h[0],f=p,d=h[1],g=r.has(o[p]);++f<d;)r.has(o[f])&&(g?(e={0:f,1:h[1]},h[1]=f,h=h.next=e):(De(o,p,d,d-f),o[d]=o[p],g=!0,f=p));return t}(function(t){var e=-1,n=[],i=[],r=[];function o(t){t&&Pe.call(a,t.type)&&a[t.type](t)}var a={GeometryCollection:function(t){t.geometries.forEach(o)},LineString:function(t){t.arcs=s(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(s)},Polygon:function(t){t.arcs=t.arcs.map(u)},MultiPolygon:function(t){t.arcs=t.arcs.map(l)}};function s(t){for(var i=0,o=t.length;i<o;++i)r[++e]=t[i];var a={0:e-o+1,1:e};return n.push(a),a}function u(t){for(var n=0,o=t.length;n<o;++n)r[++e]=t[n];var a={0:e-o+1,1:e};return i.push(a),a}function l(t){return t.map(u)}for(var c in t)o(t[c]);return{type:"Topology",coordinates:r,lines:n,rings:i,objects:t}}(t))),r=i.coordinates,o=Te(1.4*i.arcs.length,Ve,Ue);function a(t){t&&Pe.call(s,t.type)&&s[t.type](t)}t=i.objects,i.bbox=n,i.arcs=i.arcs.map(function(t,e){return o.set(t,e),r.slice(t[0],t[1]+1)}),delete i.coordinates,r=null;var s={GeometryCollection:function(t){t.geometries.forEach(a)},LineString:function(t){t.arcs=u(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(u)},Polygon:function(t){t.arcs=t.arcs.map(u)},MultiPolygon:function(t){t.arcs=t.arcs.map(l)}};function u(t){var e=[];do{var n=o.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function l(t){return t.map(u)}for(var c in t)a(t[c]);return i}({geoms:_(n).geometry});return function(t){return Ie(t,Ae.apply(this,arguments))}(i,i.objects.geoms.geometries)}(r,e);default:throw new Error(i+" is not supported")}}(i);return 1===r.coordinates.length&&(r.coordinates=r.coordinates[0],r.type="Polygon"),o(r)},t.containsNumber=Q,t.convertArea=C,t.convertDistance=S,t.convertLength=S,t.convex=he,t.coordAll=F,t.coordEach=L,t.coordReduce=M,t.createBins=bs,t.degrees2radians=E,t.degreesToRadians=E,t.destination=an,t.difference=function(t,e){var n=it(t),i=it(e),r=t.properties||{},o=pu.difference(n.coordinates,i.coordinates);return 0===o.length?null:1===o.length?l(o[0],r):m(o,r)},t.dissolve=function(t,e){if(!A(e=e||{}))throw new Error("options is invalid");var n=e.propertyName;nt(t,"Polygon","dissolve");var i=[];if(!e.propertyName)return Si(m(pu.union.apply(null,t.features.map(function(t){return t.geometry.coordinates}))));var r={};D(t,function(t){Object.prototype.hasOwnProperty.call(r,t.properties[n])||(r[t.properties[n]]=[]),r[t.properties[n]].push(t)});for(var o=Object.keys(r),a=0;a<o.length;a++){var s=m(pu.union.apply(null,r[o[a]].map(function(t){return t.geometry.coordinates})));s.properties[n]=o[a],i.push(s)}return Si(f(i))},t.distance=ge,t.distanceToDegrees=w,t.distanceToRadians=b,t.distanceWeight=ns,t.earthRadius=e,t.ellipse=Za,t.envelope=rn,t.explode=hn,t.factors=n,t.feature=o,t.featureCollection=f,t.featureEach=D,t.featureOf=et,t.featureReduce=z,t.filterProperties=ks,t.findPoint=Z,t.findSegment=Y,t.flatten=Si,t.flattenEach=V,t.flattenReduce=U,t.flip=function(t,e){if(!A(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if(!t)throw new Error("geojson is required");return!1!==n&&void 0!==n||(t=be(t)),L(t,function(t){var e=t[0];t[0]=t[1],t[1]=e}),t},t.geojsonType=tt,t.geomEach=B,t.geomReduce=j,t.geometry=a,t.geometryCollection=_,t.getCluster=_s,t.getCoord=$,t.getCoords=J,t.getGeom=it,t.getType=rt,t.greatCircle=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var i=n.properties,r=n.npoints,o=n.offset;return t=$(t),e=$(e),r=r||100,o=o||10,new Fi({x:t[0],y:t[1]},{x:e[0],y:e[1]},i=i||{}).Arc(r,{offset:o}).json()},t.helpers=O,t.hexGrid=yg,t.inside=pe,t.interpolate=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var i=n.gridType,r=n.property,o=n.weight;if(!t)throw new Error("points is required");if(nt(t,"Point","input must contain Points"),!e)throw new Error("cellSize is required");if(void 0!==o&&"number"!=typeof o)throw new Error("weight must be a number");r=r||"elevation",i=i||"square",o=o||1;var a,s=K(t);switch(i){case"point":case"points":a=ki(s,e,n);break;case"square":case"squares":a=wg(s,e,n);break;case"hex":case"hexes":a=yg(s,e,n);break;case"triangle":case"triangles":a=xg(s,e,n);break;default:throw new Error("invalid gridType")}var u=[];return D(a,function(e){var a=0,s=0;D(t,function(t){var u,l=ge("point"===i?e:cn(e),t,n);if(void 0!==r&&(u=t.properties[r]),void 0===u&&(u=t.geometry.coordinates[2]),void 0===u)throw new Error("zValue is missing");0===l&&(a=u);var c=1/Math.pow(l,o);s+=c,a+=c*u});var l=be(e);l.properties[r]=a/s,u.push(l)}),f(u)},t.intersect=_g,t.invariant=ot,t.isNumber=I,t.isObject=A,t.isobands=function(t,e,n){if(!A(n=n||{}))throw new Error("options is invalid");var i=n.zProperty||"elevation",r=n.commonProperties||{},o=n.breaksProperties||[];if(nt(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks is not an Array");if(!A(r))throw new Error("commonProperties is not an Object");if(!Array.isArray(o))throw new Error("breaksProperties is not an Array");var a=function(t,e){if(!A(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",i=e.flip,r=e.flags;nt(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return D(t,function(t){var e=J(t)[1];n[e]||(n[e]=[]),n[e].push(t)}),Object.keys(n).map(function(t){return n[t].sort(function(t,e){return J(t)[0]-J(e)[0]})}).sort(function(t,n){return e?J(t[0])[1]-J(n[0])[1]:J(n[0])[1]-J(t[0])[1]})}(t,i),a=[],s=0;s<o.length;s++){for(var u=o[s],l=[],c=0;c<u.length;c++){var h=u[c];l.push(h.properties[n]?h.properties[n]:0),!0===r&&(h.properties.matrixPosition=[s,c])}a.push(l)}return a}(t,{zProperty:i,flip:!0}),s=function(t,e,n){for(var i=[],r=1;r<e.length;r++){var o=+e[r-1],a=+e[r],s=fo(po(vr(t,o,a-o))),u={};u.groupedRings=s,u[n]=o+"-"+a,i.push(u)}return i}(a,e,i);return f((s=function(t,e,n){var i=K(n),r=i[0],o=i[1],a=(i[2]-i[0])/(e[0].length-1),s=(i[3]-i[1])/(e.length-1),u=function(t){t[0]=t[0]*a+r,t[1]=t[1]*s+o};return t.forEach(function(t){t.groupedRings.forEach(function(t){t.forEach(function(t){t.forEach(u)})})}),t}(s,a,t)).map(function(t,e){if(o[e]&&!A(o[e]))throw new Error("Each mappedProperty is required to be an Object");var n=ct({},r,o[e]);return n[i]=t[i],m(t.groupedRings,n)}))},t.isolines=function(t,e,n){if(!A(n=n||{}))throw new Error("options is invalid");var i=n.zProperty||"elevation",r=n.commonProperties||{},o=n.breaksProperties||[];if(nt(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks must be an Array");if(!A(r))throw new Error("commonProperties must be an Object");if(!Array.isArray(o))throw new Error("breaksProperties must be an Array");var a=function(t,e){if(!A(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",i=e.flip,r=e.flags;nt(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return D(t,function(t){var e=J(t)[1];n[e]||(n[e]=[]),n[e].push(t)}),Object.keys(n).map(function(t){return n[t].sort(function(t,e){return J(t)[0]-J(e)[0]})}).sort(function(t,n){return e?J(t[0])[1]-J(n[0])[1]:J(n[0])[1]-J(t[0])[1]})}(t,i),a=[],s=0;s<o.length;s++){for(var u=o[s],l=[],c=0;c<u.length;c++){var h=u[c];l.push(h.properties[n]?h.properties[n]:0),!0===r&&(h.properties.matrixPosition=[s,c])}a.push(l)}return a}(t,{zProperty:i,flip:!0});return f(function(t,e,n){var i=K(n),r=i[0],o=i[1],a=(i[2]-i[0])/(e[0].length-1),s=(i[3]-i[1])/(e.length-1),u=function(t){t[0]=t[0]*a+r,t[1]=t[1]*s+o};return t.forEach(function(t){L(t,u)}),t}(function(t,e,n,i,r){for(var o=[],a=1;a<e.length;a++){var s=+e[a],u=ct({},i,r[a]);u[n]=s;var l=d(ft(t,s),u);o.push(l)}return o}(a,e,i,r,o),a,t))},t.kinks=function(t){var e,n,i={type:"FeatureCollection",features:[]};if("LineString"===(n="Feature"===t.type?t.geometry:t).type)e=[n.coordinates];else if("MultiLineString"===n.type)e=n.coordinates;else if("MultiPolygon"===n.type)e=[].concat.apply([],n.coordinates);else{if("Polygon"!==n.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");e=n.coordinates}return e.forEach(function(t){e.forEach(function(e){for(var n=0;n<t.length-1;n++)for(var r=n;r<e.length-1;r++){if(t===e){if(1===Math.abs(n-r))continue;if(0===n&&r===t.length-2&&t[n][0]===t[t.length-1][0]&&t[n][1]===t[t.length-1][1])continue}var o=ui(t[n][0],t[n][1],t[n+1][0],t[n+1][1],e[r][0],e[r][1],e[r+1][0],e[r+1][1]);o&&i.features.push(s([o[0],o[1]]))}})}),i},t.length=gi,t.lengthToDegrees=w,t.lengthToRadians=b,t.lineArc=qi,t.lineChunk=function(t,e,n){if(!A(n=n||{}))throw new Error("options is invalid");var i=n.units,r=n.reverse;if(!t)throw new Error("geojson is required");if(e<=0)throw new Error("segmentLength must be greater than 0");var o=[];return V(t,function(t){r&&(t.geometry.coordinates=t.geometry.coordinates.reverse()),function(t,e,n,i){var r=gi(t,{units:n});if(r<=e)return i(t);var o=r/e;Number.isInteger(o)||(o=Math.floor(o)+1);for(var a=0;a<o;a++)i(mi(t,e*a,e*(a+1),{units:n}))}(t,e,i,function(t){o.push(t)})}),f(o)},t.lineDistance=gi,t.lineEach=H,t.lineIntersect=ei,t.lineOffset=function(t,e,n){if(!A(n=n||{}))throw new Error("options is invalid");var i=n.units;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");var r=rt(t),o=t.properties;switch(r){case"LineString":return xo(t,e,i);case"MultiLineString":var a=[];return V(t,function(t){a.push(xo(t,e,i).geometry.coordinates)}),d(a,o);default:throw new Error("geometry "+r+" is not supported")}},t.lineOverlap=rr,t.lineReduce=W,t.lineSegment=Bn,t.lineSlice=function(t,e,n){var i=J(n);if("LineString"!==rt(n))throw new Error("line must be a LineString");for(var r,o=ii(n,t),a=ii(n,e),s=[(r=o.properties.index<=a.properties.index?[o,a]:[a,o])[0].geometry.coordinates],u=r[0].properties.index+1;u<r[1].properties.index+1;u++)s.push(i[u]);return s.push(r[1].geometry.coordinates),h(s,n.properties)},t.lineSliceAlong=mi,t.lineSplit=function(t,e){if(!t)throw new Error("line is required");if(!e)throw new Error("splitter is required");var n=rt(t),i=rt(e);if("LineString"!==n)throw new Error("line must be LineString");if("FeatureCollection"===i)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===i)throw new Error("splitter cannot be a GeometryCollection");var r=Ei(e,{precision:7});switch(i){case"Point":return ji(t,r);case"MultiPoint":return Bi(t,r);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Bi(t,ei(t,r))}},t.lineString=h,t.lineStringToPolygon=Zi,t.lineStrings=p,t.lineToPolygon=Zi,t.mask=function(t,e){var n,i=function(t){return l(t&&t.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}(e);return function(t){return m(t)}("FeatureCollection"===t.type?2===(n=t).features.length?pu.union(n.features[0].geometry.coordinates,n.features[1].geometry.coordinates):pu.union.apply(pu,n.features.map(function(t){return t.geometry.coordinates})):pu.union(t.geometry.coordinates)).geometry.coordinates.forEach(function(t){i.geometry.coordinates.push(t[0])}),i},t.meta=X,t.midpoint=function(t,e){return an(t,ge(t,e)/2,un(t,e))},t.moranIndex=function(t,e){var n=e.inputField,i=ns(t,{alpha:e.alpha||-1,binary:e.binary||!1,p:e.p||2,standardization:e.standardization||!0,threshold:e.threshold||1e5}),r=[];D(t,function(t){r.push((t.properties||{})[n])});for(var o=is(r),a=function(t){for(var e=is(t),n=0,i=0,r=t;i<r.length;i++)n+=Math.pow(r[i]-e,2);return n/t.length}(r),s=0,u=0,l=0,c=0,h=i.length,p=0;p<h;p++){for(var f=0,d=0;d<h;d++)s+=i[p][d]*(r[p]-o)*(r[d]-o),u+=i[p][d],l+=Math.pow(i[p][d]+i[d][p],2),f+=i[p][d]+i[d][p];c+=Math.pow(f,2)}var g=s/u/a,m=-1/(h-1),_=(h*h*(l*=.5)-h*c+u*u*3)/((h-1)*(h+1)*(u*u))-m*m,y=Math.sqrt(_);return{expectedMoranIndex:m,moranIndex:g,stdNorm:y,zNorm:(g-m)/y}},t.multiLineString=d,t.multiPoint=g,t.multiPolygon=m,t.nearest=Fn,t.nearestPoint=Fn,t.nearestPointOnLine=ii,t.nearestPointToLine=function(t,e,n){void 0===n&&(n={});var i=n.units,r=n.properties||{},o=function(t){var e=[];switch(t.geometry?t.geometry.type:t.type){case"GeometryCollection":return B(t,function(t){"Point"===t.type&&e.push({type:"Feature",properties:{},geometry:t})}),{type:"FeatureCollection",features:e};case"FeatureCollection":return t.features=t.features.filter(function(t){return"Point"===t.geometry.type}),t;default:throw new Error("points must be a Point Collection")}}(t);if(!o.features.length)throw new Error("points must contain features");if(!e)throw new Error("line is required");if("LineString"!==rt(e))throw new Error("line must be a LineString");var a=1/0,s=null;return D(o,function(t){var n=oi(t,e,{units:i});n<a&&(a=n,s=t)}),s&&(s.properties=ct({dist:a},s.properties,r)),s},t.planepoint=function(t,e){var n=$(t),i=it(e).coordinates[0];if(i.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var r=e.properties||{},o=r.a,a=r.b,s=r.c,u=n[0],l=n[1],c=i[0][0],h=i[0][1],p=void 0!==o?o:i[0][2],f=i[1][0],d=i[1][1],g=void 0!==a?a:i[1][2],m=i[2][0],_=i[2][1],y=void 0!==s?s:i[2][2];return(y*(u-c)*(l-d)+p*(u-f)*(l-_)+g*(u-m)*(l-h)-g*(u-c)*(l-_)-y*(u-f)*(l-h)-p*(u-m)*(l-d))/((u-c)*(l-d)+(u-f)*(l-_)+(u-m)*(l-h)-(u-c)*(l-_)-(u-f)*(l-h)-(u-m)*(l-d))},t.point=s,t.pointGrid=ki,t.pointOnFeature=li,t.pointOnLine=ii,t.pointOnSurface=li,t.pointToLineDistance=oi,t.points=u,t.pointsWithinPolygon=de,t.polygon=l,t.polygonSmooth=function(t,e){var n=[],i=e.iterations||1;if(!t)throw new Error("inputPolys is required");return B(t,function(t,e,r){var o,a,s;switch(t.type){case"Polygon":o=[[]];for(var u=0;u<i;u++)s=[[]],a=t,u>0&&(a=l(o).geometry),Qa(a,s),o=s.slice(0);n.push(l(o,r));break;case"MultiPolygon":o=[[[]]];for(var c=0;c<i;c++)s=[[[]]],a=t,c>0&&(a=m(o).geometry),ts(a,s),o=s.slice(0);n.push(m(o,r));break;default:throw new Error("geometry is invalid, must be Polygon or MultiPolygon")}}),f(n)},t.polygonTangents=function(t,e){var n,i,r,o,a=J(t),u=J(e),l=K(e),c=0,h=null;switch(a[0]>l[0]&&a[0]<l[2]&&a[1]>l[1]&&a[1]<l[3]&&(c=(h=Fn(t,hn(e))).properties.featureIndex),rt(e)){case"Polygon":n=u[0][c],i=u[0][0],null!==h&&h.geometry.coordinates[1]<a[1]&&(i=u[0][c]),o=pr(u[0][0],u[0][u[0].length-1],a);var p=cr(u[0],a,o,r,n,i);n=p[0],i=p[1];break;case"MultiPolygon":for(var d=0,g=0,m=0,_=0;_<u[0].length;_++){d=_;for(var y=!1,v=0;v<u[0][_].length;v++){if(g=v,m===c){y=!0;break}m++}if(y)break}n=u[0][d][g],i=u[0][d][g],o=pr(u[0][0][0],u[0][0][u[0][0].length-1],a),u.forEach(function(t){var e=cr(t[0],a,o,r,n,i);n=e[0],i=e[1]})}return f([s(n),s(i)])},t.polygonToLine=Hi,t.polygonToLineString=Hi,t.polygonize=function(t){var e=Ao.fromGeoJson(t);e.deleteDangles(),e.deleteCutEdges();var n=[],i=[];return e.getEdgeRings().filter(function(t){return t.isValid()}).forEach(function(t){t.isHole()?n.push(t):i.push(t)}),n.forEach(function(t){Io.findEdgeRingContaining(t,i)&&i.push(t)}),f(i.map(function(t){return t.toPolygon()}))},t.polygons=c,t.projection=ls,t.propEach=N,t.propReduce=R,t.propertiesContainsFilter=xs,t.radians2degrees=k,t.radiansToDegrees=k,t.radiansToDistance=v,t.radiansToLength=v,t.random=ms,t.randomLineString=fs,t.randomPoint=hs,t.randomPolygon=ps,t.randomPosition=cs,t.rewind=function(t,e){if(!A(e=e||{}))throw new Error("options is invalid");var n=e.reverse||!1,i=e.mutate||!1;if(!t)throw new Error("<geojson> is required");if("boolean"!=typeof n)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof i)throw new Error("<mutate> must be a boolean");!1===i&&(t=be(t));var r=[];switch(t.type){case"GeometryCollection":return B(t,function(t){dr(t,n)}),t;case"FeatureCollection":return D(t,function(t){D(dr(t,n),function(t){r.push(t)})}),f(r)}return dr(t,n)},t.rhumbBearing=sr,t.rhumbDestination=lr,t.rhumbDistance=ri,t.round=y,t.sample=function(t,e){if(!t)throw new Error("featurecollection is required");if(null==e)throw new Error("num is required");if("number"!=typeof e)throw new Error("num must be a number");return f(function(t,e){for(var n,i,r=t.slice(0),o=t.length,a=o-e;o-- >a;)n=r[i=Math.floor((o+1)*Math.random())],r[i]=r[o],r[o]=n;return r.slice(a)}(t.features,e))},t.sector=function(t,e,n,i,r){if(!A(r=r||{}))throw new Error("options is invalid");var o=r.properties;if(!t)throw new Error("center is required");if(null==n)throw new Error("bearing1 is required");if(null==i)throw new Error("bearing2 is required");if(!e)throw new Error("radius is required");if("object"!=typeof r)throw new Error("options must be an object");if(ar(n)===ar(i))return sn(t,e,r);var a=J(t),s=qi(t,e,n,i,r),u=[[a]];return L(s,function(t){u[0].push(t)}),u[0].push(a),l(u,o)},t.segmentEach=q,t.segmentReduce=G,t.shortestPath=function(t,e,n){if(!A(n=n||{}))throw new Error("options is invalid");var i=n.resolution,r=n.minDistance,a=n.obstacles||f([]);if(!t)throw new Error("start is required");if(!e)throw new Error("end is required");if(i&&!I(i)||i<=0)throw new Error("options.resolution must be a number, greater than 0");if(r)throw new Error("options.minDistance is not yet implemented");var u=$(t),l=$(e);switch(t=s(u),e=s(l),rt(a)){case"FeatureCollection":if(0===a.features.length)return h([u,l]);break;case"Polygon":a=f([o(it(a))]);break;default:throw new Error("invalid obstacles")}var c=a;c.features.push(t),c.features.push(e);var p=K(yo(nn(K(c)),1.15));i||(i=ge([p[0],p[1]],[p[2],p[1]],n)/100),c.features.pop(),c.features.pop();for(var d=p[0],g=p[1],m=p[2],_=p[3],y=i/ge([d,g],[m,g],n)*(m-d),v=i/ge([d,g],[d,_],n)*(_-g),b=m-d,w=_-g,x=Math.floor(b/y),k=Math.floor(w/v),E=(b-x*y)/2,S=[],C=[],P=[],T=[],O=1/0,L=1/0,M=_-(w-k*v)/2,N=0;M>=g;){for(var R=[],D=[],z=d+E,F=0;z<=m;){var B=s([z,M]),j=la(B,a);R.push(j?0:1),D.push(z+"|"+M);var V=ge(B,t);!j&&V<O&&(O=V,P={x:F,y:N});var U=ge(B,e);!j&&U<L&&(L=U,T={x:F,y:N}),z+=y,F++}C.push(R),S.push(D),M-=v,N++}var q=new aa(C,{diagonal:!0}),G=oa.search(q,q.grid[P.y][P.x],q.grid[T.y][T.x]),H=[u];return G.forEach(function(t){var e=S[t.x][t.y].split("|");H.push([+e[0],+e[1]])}),H.push(l),qe(h(H))},t.simplify=function(t,e){if(!A(e=e||{}))throw new Error("options is invalid");var n=void 0!==e.tolerance?e.tolerance:1,i=e.highQuality||!1,r=e.mutate||!1;if(!t)throw new Error("geojson is required");if(n&&n<0)throw new Error("invalid tolerance");return!0!==r&&(t=be(t)),B(t,function(t){!function(t,e,n){var i=t.type;if("Point"===i||"MultiPoint"===i)return t;qe(t,!0);var r=t.coordinates;switch(i){case"LineString":t.coordinates=$e(r,e,n);break;case"MultiLineString":t.coordinates=r.map(function(t){return $e(t,e,n)});break;case"Polygon":t.coordinates=Je(r,e,n);break;case"MultiPolygon":t.coordinates=r.map(function(t){return Je(t,e,n)})}}(t,n,i)}),t},t.square=on,t.squareGrid=wg,t.standardDeviationalEllipse=function(t,e){if(!A(e=e||{}))throw new Error("options is invalid");var n=e.steps||64,i=e.weight,r=e.properties||{};if(!I(n))throw new Error("steps must be a number");if(!A(r))throw new Error("properties must be a number");var o=F(t).length,a=Ka(t,{weight:i}),s=0,u=0,l=0;D(t,function(t){var e=t.properties[i]||1,n=Ja(J(t),J(a));s+=Math.pow(n.x,2)*e,u+=Math.pow(n.y,2)*e,l+=n.x*n.y*e});var c=s-u,h=Math.sqrt(Math.pow(c,2)+4*Math.pow(l,2)),p=Math.atan((c+h)/(2*l)),d=180*p/Math.PI,g=0,m=0,_=0;D(t,function(t){var e=t.properties[i]||1,n=Ja(J(t),J(a));g+=Math.pow(n.x*Math.cos(p)-n.y*Math.sin(p),2)*e,m+=Math.pow(n.x*Math.sin(p)+n.y*Math.cos(p),2)*e,_+=e});var y=Math.sqrt(2*g/_),v=Math.sqrt(2*m/_),b=Za(a,y,v,{units:"degrees",angle:d,steps:n,properties:r}),w=de(t,f([b])),x={meanCenterCoordinates:J(a),semiMajorAxis:y,semiMinorAxis:v,numberOfFeatures:o,angle:d,percentageWithinEllipse:100*F(w).length/o};return b.properties.standardDeviationalEllipse=x,b},t.tag=function(t,e,n,i){return t=be(t),e=be(e),D(t,function(t){t.properties||(t.properties={}),D(e,function(e){void 0===t.properties[i]&&pe(t,e)&&(t.properties[i]=e.properties[n])})}),t},t.tesselate=function(t){if(!t.geometry||"Polygon"!==t.geometry.type&&"MultiPolygon"!==t.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var e={type:"FeatureCollection",features:[]};return"Polygon"===t.geometry.type?e.features=zn(t.geometry.coordinates):t.geometry.coordinates.forEach(function(t){e.features=e.features.concat(zn(t))}),e},t.tin=me,t.toMercator=rs,t.toWgs84=os,t.transformRotate=_o,t.transformScale=yo,t.transformTranslate=function(t,e,n,i){if(!A(i=i||{}))throw new Error("options is invalid");var r=i.units,o=i.zTranslation,a=i.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");if(o&&"number"!=typeof o&&isNaN(o))throw new Error("zTranslation is not a number");if(o=void 0!==o?o:0,0===e&&0===o)return t;if(null==n||isNaN(n))throw new Error("direction is required");return e<0&&(e=-e,n+=180),!1!==a&&void 0!==a||(t=be(t)),L(t,function(t){var i=J(lr(t,e,n,{units:r}));t[0]=i[0],t[1]=i[1],o&&3===t.length&&(t[2]+=o)}),t},t.triangleGrid=xg,t.truncate=Ei,t.union=function(t,e,n){void 0===n&&(n={});var i=it(t),r=it(e),o=pu.union(i.coordinates,r.coordinates);return 0===o.length?null:1===o.length?l(o[0],n.properties):m(o,n.properties)},t.unitsFactors=i,t.unkinkPolygon=function(t){var e=[];return V(t,function(t){"Polygon"===t.geometry.type&&D(function(t){if("Feature"!=t.type)throw new Error("The input must a geojson object of type Feature");if(void 0===t.geometry||null==t.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=t.geometry.type)throw new Error("The input must be a geojson Polygon");for(var e=t.geometry.coordinates.length,n=[],i=0;i<e;i++){var r=t.geometry.coordinates[i];Oi(r[0],r[r.length-1])||r.push(r[0]),n.push.apply(n,r.slice(0,r.length-1))}if(!function(t){for(var e={},n=1,i=0,r=t.length;i<r;++i){if(Object.prototype.hasOwnProperty.call(e,t[i])){n=0;break}e[t[i]]=1}return n}(n))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var o=n.length,a=function(t,e,n){if("Polygon"!==t.geometry.type)throw new Error("The input feature must be a Polygon");void 0===n&&(n=1);var i=t.geometry.coordinates,r=[],o={};if(n){for(var a=[],s=0;s<i.length;s++)for(var u=0;u<i[s].length-1;u++)a.push(g(s,u));var l=kt();l.load(a)}for(var c=0;c<i.length;c++)for(var h=0;h<i[c].length-1;h++)if(n)l.search(g(c,h)).forEach(function(t){d(c,h,t.ring,t.edge)});else for(var p=0;p<i.length;p++)for(var f=0;f<i[p].length-1;f++)d(c,h,p,f);return e||(r={type:"Feature",geometry:{type:"MultiPoint",coordinates:r}}),r;function d(t,n,a,s){var u,l,c=i[t][n],h=i[t][n+1],p=i[a][s],f=i[a][s+1],d=function(t,e,n,i){if(Ci(t,n)||Ci(t,i)||Ci(e,n)||Ci(i,n))return null;var r=t[0],o=t[1],a=e[0],s=e[1],u=n[0],l=n[1],c=i[0],h=i[1],p=(r-a)*(l-h)-(o-s)*(u-c);return 0===p?null:[((r*s-o*a)*(u-c)-(r-a)*(u*h-l*c))/p,((r*s-o*a)*(l-h)-(o-s)*(u*h-l*c))/p]}(c,h,p,f);if(null!==d&&(l=f[0]!==p[0]?(d[0]-p[0])/(f[0]-p[0]):(d[1]-p[1])/(f[1]-p[1]),!((u=h[0]!==c[0]?(d[0]-c[0])/(h[0]-c[0]):(d[1]-c[1])/(h[1]-c[1]))>=1||u<=0||l>=1||l<=0))){var g=!o[d];g&&(o[d]=!0),r.push(e?e(d,t,n,c,h,u,a,s,p,f,l,g):d)}}function g(t,e){var n,r,o,a,s=i[t][e],u=i[t][e+1];return s[0]<u[0]?(n=s[0],r=u[0]):(n=u[0],r=s[0]),s[1]<u[1]?(o=s[1],a=u[1]):(o=u[1],a=s[1]),{minX:n,minY:o,maxX:r,maxY:a,ring:t,edge:e}}}(t,function(t,e,n,i,r,o,a,s,u,l,c,h){return[t,e,n,i,r,o,a,s,u,l,c,h]}),s=a.length;if(0==s){var u=[];for(i=0;i<e;i++)u.push(l([t.geometry.coordinates[i]],{parent:-1,winding:Ti(t.geometry.coordinates[i])}));var c=f(u);return F(),B(),c}var h=[],p=[];for(i=0;i<e;i++){h.push([]);for(var d=0;d<t.geometry.coordinates[i].length-1;d++)h[i].push([new Ii(t.geometry.coordinates[i][Li(d+1,t.geometry.coordinates[i].length-1)],1,[i,d],[i,Li(d+1,t.geometry.coordinates[i].length-1)],void 0)]),p.push(new Ai(t.geometry.coordinates[i][d],[i,Li(d-1,t.geometry.coordinates[i].length-1)],[i,d],void 0,void 0,!1,!0))}for(i=0;i<s;i++)h[a[i][1]][a[i][2]].push(new Ii(a[i][0],a[i][5],[a[i][1],a[i][2]],[a[i][6],a[i][7]],void 0)),a[i][11]&&p.push(new Ai(a[i][0],[a[i][1],a[i][2]],[a[i][6],a[i][7]],void 0,void 0,!0,!0));var g=p.length;for(i=0;i<h.length;i++)for(d=0;d<h[i].length;d++)h[i][d].sort(function(t,e){return t.param<e.param?-1:1});var m=[];for(i=0;i<g;i++)m.push({minX:p[i].coord[0],minY:p[i].coord[1],maxX:p[i].coord[0],maxY:p[i].coord[1],index:i});var _=kt();for(_.load(m),i=0;i<h.length;i++)for(d=0;d<h[i].length;d++)for(var y=0;y<h[i][d].length;y++){b=y==h[i][d].length-1?h[i][Li(d+1,t.geometry.coordinates[i].length-1)][0].coord:h[i][d][y+1].coord;var v=_.search({minX:b[0],minY:b[1],maxX:b[0],maxY:b[1]})[0];h[i][d][y].nxtIsectAlongEdgeIn=v.index}for(i=0;i<h.length;i++)for(d=0;d<h[i].length;d++)for(y=0;y<h[i][d].length;y++){var b=h[i][d][y].coord,w=(v=_.search({minX:b[0],minY:b[1],maxX:b[0],maxY:b[1]})[0]).index;w<o?p[w].nxtIsectAlongRingAndEdge2=h[i][d][y].nxtIsectAlongEdgeIn:Oi(p[w].ringAndEdge1,h[i][d][y].ringAndEdgeIn)?p[w].nxtIsectAlongRingAndEdge1=h[i][d][y].nxtIsectAlongEdgeIn:p[w].nxtIsectAlongRingAndEdge2=h[i][d][y].nxtIsectAlongEdgeIn}var x=[];for(i=0,d=0;d<e;d++){var k=i;for(y=0;y<t.geometry.coordinates[d].length-1;y++)p[i].coord[0]<p[k].coord[0]&&(k=i),i++;var E=p[k].nxtIsectAlongRingAndEdge2;for(y=0;y<p.length;y++)if(p[y].nxtIsectAlongRingAndEdge1==k||p[y].nxtIsectAlongRingAndEdge2==k){var S=y;break}var C=Pi([p[S].coord,p[k].coord,p[E].coord],!0)?1:-1;x.push({isect:k,parent:-1,winding:C})}for(x.sort(function(t,e){return p[t.isect].coord>p[e.isect].coord?-1:1}),u=[];x.length>0;){var I=x.pop(),A=I.isect,P=I.parent,T=I.winding,O=u.length,L=[p[A].coord],M=A;if(p[A].ringAndEdge1Walkable)var N=p[A].ringAndEdge1,R=p[A].nxtIsectAlongRingAndEdge1;else N=p[A].ringAndEdge2,R=p[A].nxtIsectAlongRingAndEdge2;for(;!Oi(p[A].coord,p[R].coord);){L.push(p[R].coord);var D=void 0;for(i=0;i<x.length;i++)if(x[i].isect==R){D=i;break}if(null!=D&&x.splice(D,1),Oi(N,p[R].ringAndEdge1)){if(N=p[R].ringAndEdge2,p[R].ringAndEdge2Walkable=!1,p[R].ringAndEdge1Walkable){var z={isect:R};Pi([p[M].coord,p[R].coord,p[p[R].nxtIsectAlongRingAndEdge2].coord],1==T)?(z.parent=P,z.winding=-T):(z.parent=O,z.winding=T),x.push(z)}M=R,R=p[R].nxtIsectAlongRingAndEdge2}else N=p[R].ringAndEdge1,p[R].ringAndEdge1Walkable=!1,p[R].ringAndEdge2Walkable&&(z={isect:R},Pi([p[M].coord,p[R].coord,p[p[R].nxtIsectAlongRingAndEdge1].coord],1==T)?(z.parent=P,z.winding=-T):(z.parent=O,z.winding=T),x.push(z)),M=R,R=p[R].nxtIsectAlongRingAndEdge1}L.push(p[R].coord),u.push(l([L],{index:O,parent:P,winding:T,netWinding:void 0}))}function F(){for(var t=[],e=0;e<c.features.length;e++)-1==c.features[e].properties.parent&&t.push(e);if(t.length>1)for(e=0;e<t.length;e++){for(var n=-1,i=0;i<c.features.length;i++)t[e]!=i&&pe(c.features[t[e]].geometry.coordinates[0][0],c.features[i],{ignoreBoundary:!0})&&hi(c.features[i])<1/0&&(n=i);c.features[t[e]].properties.parent=n}}function B(){for(var t=0;t<c.features.length;t++)if(-1==c.features[t].properties.parent){var e=c.features[t].properties.winding;c.features[t].properties.netWinding=e,j(t,e)}}function j(t,e){for(var n=0;n<c.features.length;n++)if(c.features[n].properties.parent==t){var i=e+c.features[n].properties.winding;c.features[n].properties.netWinding=i,j(n,i)}}return c=f(u),F(),B(),c}(t),function(n){e.push(l(n.geometry.coordinates,t.properties))})}),f(e)},t.validateBBox=P,t.validateId=T,t.voronoi=function(t,e){if(!A(e=e||{}))throw new Error("options is invalid");var n=e.bbox||[-180,-85,180,85];if(!t)throw new Error("points is required");if(!Array.isArray(n))throw new Error("bbox is invalid");return nt(t,"Point","points"),f(function(){var t=ha,e=pa,n=null;function i(i){return new Wa(i.map(function(n,r){var o=[Math.round(t(n,r,i)/qa)*qa,Math.round(e(n,r,i)/qa)*qa];return o.index=r,o.data=n,o}),n)}return i.polygons=function(t){return i(t).polygons()},i.links=function(t){return i(t).links()},i.triangles=function(t){return i(t).triangles()},i.x=function(e){return arguments.length?(t="function"==typeof e?e:ca(+e),i):t},i.y=function(t){return arguments.length?(e="function"==typeof t?t:ca(+t),i):e},i.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],i):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},i.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],i):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},i}().x(function(t){return t.geometry.coordinates[0]}).y(function(t){return t.geometry.coordinates[1]}).extent([[n[0],n[1]],[n[2],n[3]]]).polygons(t.features).map(Ya))},t.within=de,Object.defineProperty(t,"__esModule",{value:!0})}(e)},Wogr:function(t,e,n){"use strict";var i=n("7uVY"),r=(o.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(e){return!1}}())?2147483647:1073741823;function o(t,e,n){return o.TYPED_ARRAY_SUPPORT||this instanceof o?"number"==typeof t?u(this,t):function(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");var r;return r=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),o.TYPED_ARRAY_SUPPORT?r.__proto__=o.prototype:r=l(t,r),r}(t,e,n,i):"string"==typeof e?function(t,e){var n=0|h(e),i=s(t,n),r=i.write(e);return r!==n&&(i=i.slice(0,r)),i}(t,e):function(t,e){if(o.isBuffer(e)){var n=0|a(e.length),i=s(t,n);return 0===i.length||e.copy(i,0,0,n),i}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):l(t,e);if("Buffer"===e.type&&Array.isArray(e.data))return l(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}(this,t,e,n):new o(t,e,n)}function a(t){if(t>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|t}function s(t,e){var n;return o.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(e)).__proto__=o.prototype:(null===(n=t)&&(n=new o(e)),n.length=e),n}function u(t,e){var n=s(t,e<0?0:0|a(e));if(!o.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)n[i]=0;return n}function l(t,e){for(var n=e.length<0?0:0|a(e.length),i=s(t,n),r=0;r<n;r+=1)i[r]=255&e[r];return i}function c(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],a=0;a<i;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function h(t){return o.isBuffer(t)?t.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer)?t.byteLength:("string"!=typeof t&&(t=""+t),0===t.length?0:c(t).length)}o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),o.prototype.write=function(t,e,n){void 0===e||void 0===n&&"string"==typeof e?(n=this.length,e=0):isFinite(e)&&(e|=0,isFinite(n)?n|=0:n=void 0);var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");return function(t,e,n,i){return function(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}(c(e,t.length-n),t,n,i)}(this,t,e,n)},o.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),o.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=o.prototype;else{var r=e-t;n=new o(r,void 0);for(var a=0;a<r;++a)n[a]=this[a+t]}return n},o.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,a=i-n;if(this===t&&n<e&&e<i)for(r=a-1;r>=0;--r)t[r+e]=this[r+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(r=0;r<a;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},o.prototype.fill=function(t,e,n){if("string"==typeof t){if("string"==typeof e?(e=0,n=this.length):"string"==typeof n&&(n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var r;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(r=e;r<n;++r)this[r]=t;else{var a=o.isBuffer(t)?t:new o(t),s=a.length;for(r=0;r<n-e;++r)this[r+e]=a[r%s]}return this},o.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s(null,0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u(null,e),a=0;for(n=0;n<t.length;++n){var l=t[n];if(!o.isBuffer(l))throw new TypeError('"list" argument must be an Array of Buffers');l.copy(r,a),a+=l.length}return r},o.byteLength=h,o.prototype._isBuffer=!0,o.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.exports=o},WpKc:function(t,e,n){"use strict";var i=n("4b23");function r(t){this.origin=t.origin||"https://api.mapbox.com",this.endpoint="events/v2",this.access_token=t.accessToken,this.version="0.2.0",this.sessionID=this.generateSessionID(),this.userAgent=this.getUserAgent(),this.options=t,this.send=this.send.bind(this),this.countries=t.countries?t.countries.split(","):null,this.types=t.types?t.types.split(","):null,this.bbox=t.bbox?t.bbox:null,this.language=t.language?t.language.split(","):null,this.limit=t.limit?+t.limit:null,this.locale=navigator.language||null,this.enableEventLogging=this.shouldEnableLogging(t),this.eventQueue=new Array,this.flushInterval=t.flushInterval||1e3,this.maxQueueSize=t.maxQueueSize||100,this.timer=this.flushInterval?setTimeout(this.flush.bind(this),this.flushInterval):null,this.lastSentInput="",this.lastSentIndex=0}r.prototype={select:function(t,e){var n=this.getSelectedIndex(t,e),i=this.getEventPayload("search.select",e);if(i.resultIndex=n,i.resultPlaceName=t.place_name,i.resultId=t.id,(n!==this.lastSentIndex||i.queryString!==this.lastSentInput)&&-1!=n&&(this.lastSentIndex=n,this.lastSentInput=i.queryString,i.queryString))return this.push(i)},start:function(t){var e=this.getEventPayload("search.start",t);if(e.queryString)return this.push(e)},keyevent:function(t,e){if(t.key&&!t.metaKey&&-1===[9,27,37,39,13,38,40].indexOf(t.keyCode)){var n=this.getEventPayload("search.keystroke",e);if(n.lastAction=t.key,n.queryString)return this.push(n)}},send:function(t,e){if(!this.enableEventLogging)return e?e():void 0;var n=this.getRequestOptions(t);this.request(n,(function(t){return t?this.handleError(t,e):e?e():void 0}).bind(this))},getRequestOptions:function(t){return Array.isArray(t)||(t=[t]),{method:"POST",host:this.origin,path:this.endpoint+"?access_token="+this.access_token,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}},getEventPayload:function(t,e){var n;n=e.options.proximity?[e.options.proximity.longitude,e.options.proximity.latitude]:null;var i=e._map?e._map.getZoom():void 0,r={event:t,created:+new Date,sessionIdentifier:this.sessionID,country:this.countries,userAgent:this.userAgent,language:this.language,bbox:this.bbox,types:this.types,endpoint:"mapbox.places",proximity:n,limit:e.options.limit,mapZoom:i,keyboardLocale:this.locale};return r.queryString="search.select"===t?e.inputString:"search.select"!=t&&e._inputEl?e._inputEl.value:e.inputString,r},request:function(t,e){var n=new XMLHttpRequest;for(var i in n.onreadystatechange=function(){if(4==this.readyState)return e(204==this.status?null:this.statusText)},n.open(t.method,t.host+"/"+t.path,!0),t.headers)n.setRequestHeader(i,t.headers[i]);n.send(t.body)},handleError:function(t,e){if(e)return e(t)},generateSessionID:function(){return i()},getUserAgent:function(){return"mapbox-gl-geocoder."+this.version+"."+navigator.userAgent},getSelectedIndex:function(t,e){if(e._typeahead){var n=t.id;return e._typeahead.data.map(function(t){return t.id}).indexOf(n)}},shouldEnableLogging:function(t){return!(!1===t.enableEventLogging||t.origin&&-1==t.origin.indexOf("api.mapbox.com")||t.localGeocoder||t.filter)},flush:function(){this.eventQueue.length>0&&(this.send(this.eventQueue),this.eventQueue=new Array),this.timer&&clearTimeout(this.timer),this.flushInterval&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval))},push:function(t,e){this.eventQueue.push(t),(this.eventQueue.length>=this.maxQueueSize||e)&&this.flush()},remove:function(){this.flush()}},t.exports=r},X8jT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Ijak"),r=function(){function t(t){this.id=t.id?t.id:i.uuidv4(),this.lat=t.lat,this.lng=t.lng,this.level=t.level}return t.prototype.updatePosition=function(t){this.lat=t.lat,this.lng=t.lng,this.level=t.level},t}();e.default=r},XwJu:function(t,e,n){"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},YI60:function(t,e,n){"use strict";var i=n("aqBw"),r={};function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t){if(r[t])return r[t];var e=t.split("."),n=e[0],a=e[1];if(!a)throw new Error("Invalid token");var s=function(t){try{return JSON.parse(i.decode(t))}catch(e){throw new Error("Invalid token")}}(a),u={usage:n,user:s.u};return o(s,"a")&&(u.authorization=s.a),o(s,"exp")&&(u.expires=1e3*s.exp),o(s,"iat")&&(u.created=1e3*s.iat),o(s,"scopes")&&(u.scopes=s.scopes),o(s,"client")&&(u.client=s.client),o(s,"ll")&&(u.lastLogin=s.ll),o(s,"iu")&&(u.impersonator=s.iu),r[t]=u,u}},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},Z92M:function(t,e){t.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},ZPc1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r=(i=n("SJ/V"))&&i.__esModule?i:{default:i};e.default=function(t,e){return(0,r.default)(t,e)[0]}},ZYFb:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{u(i.next(t))}catch(e){o(e)}}function s(t){try{u(i.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.getCurrentUser=e.getUserConfig=e.loginWithToken=e.login=void 0;var o=n("Ijak"),a=null;e.login=function(t,e){return i(void 0,void 0,void 0,function(){var n,i;return r(this,function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),!t)throw new Error("Please provide your email");if(!e)throw new Error("Please provide your password");return[4,o.axios.post("core_auth/login",{email:t,password:e})];case 1:return(n=r.sent()).data&&(console.info("Logged in successfully as "+n.data.user.email),o.axios.defaults.headers.common.Authorization=n.data.token,a=n),[2,n];case 2:throw i=r.sent(),new Error("Login failed, "+i.message);case 3:return[2]}})})},e.loginWithToken=function(t){return i(void 0,void 0,void 0,function(){var e,n;return r(this,function(i){switch(i.label){case 0:if(i.trys.push([0,2,,3]),!t)throw new Error("Please provide your token");return o.axios.defaults.headers.common.Authorization=t,[4,o.axios.get("core/current_user")];case 1:return(e=i.sent()).data&&(console.info("Logged in successfully as "+e.data.email),a=e),[2,e];case 2:throw n=i.sent(),new Error("Login failed, "+n.message);case 3:return[2]}})})},e.getUserConfig=function(){return i(void 0,void 0,void 0,function(){var t;return r(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,o.axios.get("config")];case 1:return[2,e.sent().data];case 2:throw t=e.sent(),new Error("Fetching config failed, "+t.message);case 3:return[2]}})})},e.getCurrentUser=function(){return i(void 0,void 0,void 0,function(){var t,e;return r(this,function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),a?(t=a,[3,3]):[3,1];case 1:return[4,o.axios.get("core/current_user")];case 2:t=n.sent(),n.label=3;case 3:return[2,t.data];case 4:throw e=n.sent(),new Error("Fetching current user failed, "+e.message);case 5:return[2]}})})},e.default={login:e.login,loginWithToken:e.loginWithToken,getUserConfig:e.getUserConfig,getCurrentUser:e.getCurrentUser}},Zdlu:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function(t){var e=t.toString().trim();return!isNaN(parseFloat(e))&&parseFloat(e)===Number(e)}},aZ40:function(t,e,n){var i,r,o=n("Wogr");o.alloc?(i=o.alloc(512),r=o.alloc(256)):(i=new o(512),r=new o(256)),function(){for(var t=1,e=0;e<255;e++)i[e]=t,r[t]=e,256&(t<<=1)&&(t^=285);for(e=255;e<512;e++)i[e]=i[e-255]}(),e.log=function(t){if(t<1)throw new Error("log("+t+")");return r[t]},e.exp=function(t){return i[t]},e.mul=function(t,e){return 0===t||0===e?0:i[r[t]+r[e]]}},aqBw:function(t,e,n){(function(t){var i;!function(r){"object"==typeof global&&global;var o=function(t){this.message=t};(o.prototype=new Error).name="InvalidCharacterError";var a=function(t){throw new o(t)},s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=/[\t\n\f\r ]/g,l={encode:function(t){t=String(t),/[^\0-\xFF]/.test(t)&&a("The string to be encoded contains characters outside of the Latin1 range.");for(var e,n,i,r,o=t.length%3,u="",l=-1,c=t.length-o;++l<c;)e=t.charCodeAt(l)<<16,n=t.charCodeAt(++l)<<8,i=t.charCodeAt(++l),u+=s.charAt((r=e+n+i)>>18&63)+s.charAt(r>>12&63)+s.charAt(r>>6&63)+s.charAt(63&r);return 2==o?(e=t.charCodeAt(l)<<8,n=t.charCodeAt(++l),u+=s.charAt((r=e+n)>>10)+s.charAt(r>>4&63)+s.charAt(r<<2&63)+"="):1==o&&(r=t.charCodeAt(l),u+=s.charAt(r>>2)+s.charAt(r<<4&63)+"=="),u},decode:function(t){var e=(t=String(t).replace(u,"")).length;e%4==0&&(e=(t=t.replace(/==?$/,"")).length),(e%4==1||/[^+a-zA-Z0-9/]/.test(t))&&a("Invalid character: the string to be decoded is not correctly encoded.");for(var n,i,r=0,o="",l=-1;++l<e;)i=s.indexOf(t.charAt(l)),n=r%4?64*n+i:i,r++%4&&(o+=String.fromCharCode(255&n>>(-2*r&6)));return o},version:"0.1.0"};void 0===(i=(function(){return l}).call(e,n,e,t))||(t.exports=i)}()}).call(this,n("YuTi")(t))},baNz:function(t,e,n){"use strict";t.exports=function(t,e){var n=function(t,n){return-1!==e.indexOf(t)&&void 0!==n};return"function"==typeof e&&(n=e),Object.keys(t).filter(function(e){return n(e,t[e])}).reduce(function(e,n){return e[n]=t[n],e},{})}},bo1M:function(t,e,n){var i,r;r=function(t){var e=["N","E","A","D"];function n(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function i(t,e){Object.defineProperty(this,"kind",{value:t,enumerable:!0}),e&&e.length&&Object.defineProperty(this,"path",{value:e,enumerable:!0})}function r(t,e,n){r.super_.call(this,"E",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function o(t,e){o.super_.call(this,"N",t),Object.defineProperty(this,"rhs",{value:e,enumerable:!0})}function a(t,e){a.super_.call(this,"D",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0})}function s(t,e,n){s.super_.call(this,"A",t),Object.defineProperty(this,"index",{value:e,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function u(t,e,n){var i=t.slice((n||e)+1||t.length);return t.length=e<0?t.length+e:e,t.push.apply(t,i),t}function l(t){var e=typeof t;return"object"!==e?e:t===Math?"math":null===t?"null":Array.isArray(t)?"array":"[object Date]"===Object.prototype.toString.call(t)?"date":"function"==typeof t.toString&&/^\/.*\//.test(t.toString())?"regexp":"object"}function c(t){var e=0;if(0===t.length)return e;for(var n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e&=e;return e}function h(t){var e=0,n=l(t);if("array"===n)return t.forEach(function(t){e+=h(t)}),e+c("[type: array, hash: "+e+"]");if("object"===n){for(var i in t)if(t.hasOwnProperty(i)){var r="[ type: object, key: "+i+", value hash: "+h(t[i])+"]";e+=c(r)}return e}return e+c("[ type: "+n+" ; value: "+t+"]")}function p(t,e,n,i,u,c,f,d){n=n||[],f=f||[];var g=(u=u||[]).slice(0);if(null!=c){if(i){if("function"==typeof i&&i(g,c))return;if("object"==typeof i){if(i.prefilter&&i.prefilter(g,c))return;if(i.normalize){var m=i.normalize(g,c,t,e);m&&(t=m[0],e=m[1])}}}g.push(c)}"regexp"===l(t)&&"regexp"===l(e)&&(t=t.toString(),e=e.toString());var _,y,v,b,w=typeof t,x=typeof e,k="undefined"!==w||f&&f.length>0&&f[f.length-1].lhs&&Object.getOwnPropertyDescriptor(f[f.length-1].lhs,c),E="undefined"!==x||f&&f.length>0&&f[f.length-1].rhs&&Object.getOwnPropertyDescriptor(f[f.length-1].rhs,c);if(!k&&E)n.push(new o(g,e));else if(!E&&k)n.push(new a(g,t));else if(l(t)!==l(e))n.push(new r(g,t,e));else if("date"===l(t)&&t-e!=0)n.push(new r(g,t,e));else if("object"===w&&null!==t&&null!==e){for(_=f.length-1;_>-1;--_)if(f[_].lhs===t){b=!0;break}if(b)t!==e&&n.push(new r(g,t,e));else{if(f.push({lhs:t,rhs:e}),Array.isArray(t)){for(d&&(t.sort(function(t,e){return h(t)-h(e)}),e.sort(function(t,e){return h(t)-h(e)})),_=e.length-1,y=t.length-1;_>y;)n.push(new s(g,_,new o(void 0,e[_--])));for(;y>_;)n.push(new s(g,y,new a(void 0,t[y--])));for(;_>=0;--_)p(t[_],e[_],n,i,g,_,f,d)}else{var S=Object.keys(t),C=Object.keys(e);for(_=0;_<S.length;++_)(b=C.indexOf(v=S[_]))>=0?(p(t[v],e[v],n,i,g,v,f,d),C[b]=null):p(t[v],void 0,n,i,g,v,f,d);for(_=0;_<C.length;++_)(v=C[_])&&p(void 0,e[v],n,i,g,v,f,d)}f.length=f.length-1}}else t!==e&&("number"===w&&isNaN(t)&&isNaN(e)||n.push(new r(g,t,e)))}function f(t,e,n,i,r){var o=[];if(p(t,e,o,i,null,null,null,r),n)for(var a=0;a<o.length;++a)n(o[a]);return o}function d(t,e,n,i){var r=f(t,e,i?function(t){t&&i.push(t)}:void 0,n);return i||(r.length?r:void 0)}function g(t,e,n){if(n.path&&n.path.length){var i,r=t[e],o=n.path.length-1;for(i=0;i<o;i++)r=r[n.path[i]];switch(n.kind){case"A":g(r[n.path[i]],n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}else switch(n.kind){case"A":g(t[e],n.index,n.item);break;case"D":t=u(t,e);break;case"E":case"N":t[e]=n.rhs}return t}function m(t,n,i){if(void 0===i&&n&&~e.indexOf(n.kind)&&(i=n),t&&i&&i.kind){for(var r=t,o=-1,a=i.path?i.path.length-1:0;++o<a;)void 0===r[i.path[o]]&&(r[i.path[o]]=void 0!==i.path[o+1]&&"number"==typeof i.path[o+1]?[]:{}),r=r[i.path[o]];switch(i.kind){case"A":i.path&&void 0===r[i.path[o]]&&(r[i.path[o]]=[]),g(i.path?r[i.path[o]]:r,i.index,i.item);break;case"D":delete r[i.path[o]];break;case"E":case"N":r[i.path[o]]=i.rhs}}}function _(t,e,n){if(n.path&&n.path.length){var i,r=t[e],o=n.path.length-1;for(i=0;i<o;i++)r=r[n.path[i]];switch(n.kind){case"A":_(r[n.path[i]],n.index,n.item);break;case"D":case"E":r[n.path[i]]=n.lhs;break;case"N":delete r[n.path[i]]}}else switch(n.kind){case"A":_(t[e],n.index,n.item);break;case"D":case"E":t[e]=n.lhs;break;case"N":t=u(t,e)}return t}return n(r,i),n(o,i),n(a,i),n(s,i),Object.defineProperties(d,{diff:{value:d,enumerable:!0},orderIndependentDiff:{value:function(t,e,n,i){var r=f(t,e,i?function(t){t&&i.push(t)}:void 0,n,!0);return i||(r.length?r:void 0)},enumerable:!0},observableDiff:{value:f,enumerable:!0},orderIndependentObservableDiff:{value:function(t,e,n,i,r,o,a){return p(t,e,n,i,r,o,a,!0)},enumerable:!0},orderIndepHash:{value:h,enumerable:!0},applyDiff:{value:function(t,e,n){t&&e&&f(t,e,function(i){n&&!n(t,e,i)||m(t,e,i)})},enumerable:!0},applyChange:{value:m,enumerable:!0},revertChange:{value:function(t,e,n){if(t&&e&&n&&n.kind){var i,r,o=t;for(r=n.path.length-1,i=0;i<r;i++)void 0===o[n.path[i]]&&(o[n.path[i]]={}),o=o[n.path[i]];switch(n.kind){case"A":_(o[n.path[i]],n.index,n.item);break;case"D":case"E":o[n.path[i]]=n.lhs;break;case"N":delete o[n.path[i]]}}},enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof $conflict},enumerable:!0}}),d.DeepDiff=d,t&&(t.DeepDiff=d),d}(this),void 0===(i=(function(){return r}).call(e,n,e,t))||(t.exports=i)},cRm7:function(t,e,n){"use strict";var i=n("AxvH");function r(t,e){this.request=t,this.headers=e.headers,this.rawBody=e.body,this.statusCode=e.statusCode;try{this.body=JSON.parse(e.body||"{}")}catch(n){this.body=e.body}this.links=i(this.headers.link)}r.prototype.hasNextPage=function(){return!!this.links.next},r.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null},t.exports=r},cryX:function(t,e,n){"use strict";t.exports=function(t){var e={};return t?(t.trim().split(/[\r|\n]+/).forEach(function(t){var n=function(t){var e=t.indexOf(":");return{name:t.substring(0,e).trim().toLowerCase(),value:t.substring(e+1).trim()}}(t);e[n.name]=n.value}),e):e}},d0rS:function(t,e,n){"use strict";function i(t){return Array.isArray(t)?t.map(encodeURIComponent).join(","):encodeURIComponent(String(t))}function r(t,e,n){if(!1===n||null===n)return t;var r=/\?/.test(t)?"&":"?",o=encodeURIComponent(e);return void 0!==n&&""!==n&&!0!==n&&(o+="="+i(n)),""+t+r+o}t.exports={appendQueryObject:function(t,e){if(!e)return t;var n=t;return Object.keys(e).forEach(function(t){var i=e[t];void 0!==i&&(Array.isArray(i)&&(i=i.filter(function(t){return null!=t}).join(",")),n=r(n,t,i))}),n},appendQueryParam:r,prependOrigin:function(t,e){if(!e)return t;if("http"===t.slice(0,4))return t;var n="/"===t[0]?"":"/";return""+e.replace(/\/$/,"")+n+t},interpolateRouteParams:function(t,e){return e?t.replace(/\/:([a-zA-Z0-9]+)/g,function(t,n){var r=e[n];if(void 0===r)throw new Error("Unspecified route parameter "+n);return"/"+i(r)}):t}}},d5pu:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutProperties=e.PaintProperties=void 0;var o=n("/R7+"),a=function(t){function e(e){var n=t.call(this)||this;return n.fillAntialias=e["fill-antialias"]||!0,n.fillOpacity=e["fill-opacity"]||1,n.fillColor=e["fill-color"]||"#000000",n.fillOutlineColor=e["fill-outline-color"],n.fillTranslate=e["fill-translate"]||[0,0],n.fillTranslateAnchor=e["fill-translate-anchor"]||"map",n.fillPattern=e["fill-pattern"],n}return r(e,t),e}(o.Serializable);e.PaintProperties=a;var s=function(t){function e(e){var n=t.call(this)||this;return n.visibility=e.visibility||"visible",n}return r(e,t),e}(o.Serializable);e.LayoutProperties=s;var u=function(t){function e(e){var n=t.call(this,e)||this;return n.paint=new a(e.paint||{}),n.layout=new s(e.layout||{}),n}return r(e,t),e}(o.default);e.default=u},dc5T:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{u(i.next(t))}catch(e){o(e)}}function s(t){try{u(i.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.getStyleUrl=e.getStyles=e.getStyle=void 0;var o=n("Ijak"),a=n("j5an");e.getStyle=function(t){return i(void 0,void 0,void 0,function(){var e,n;return r(this,function(i){switch(i.label){case 0:return e="/v5/geo/style",t&&(e+="s/"+t),[4,o.axios.get(e)];case 1:return n=i.sent(),[2,new a.default(n.data)]}})})},e.getStyles=function(){return i(void 0,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,o.axios.get("/v5/geo/styles")];case 1:return[2,t.sent().data.map(function(t){return new a.default(t)})]}})})},e.getStyleUrl=function(){return"https://api.proximi.fi/v5/geo/style?token="+o.axios.defaults.headers.common.Authorization}},dkTa:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("jH9d");e.default=function(t){return i.sexagesimalPattern.test(t.toString().trim())}},"e/Dd":function(t,e){var n,i=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return i[t]},e.getBCHDigit=function(t){for(var e=0;0!==t;)e++,t>>>=1;return e},e.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');n=t},e.isKanjiModeEnabled=function(){return void 0!==n},e.toSJIS=function(t){return n(t)}},e6BP:function(t,e){function n(){this.buffer=[],this.length=0}n.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=n},eFQn:function(t,e,n){"use strict";var i=n("Smn/");t.exports=function(t){return i(t,function(t,e){return"boolean"==typeof e?JSON.stringify(e):e})}},eQOe:function(t,e){function n(t,n,i){switch(t){case e.Patterns.PATTERN000:return(n+i)%2==0;case e.Patterns.PATTERN001:return n%2==0;case e.Patterns.PATTERN010:return i%3==0;case e.Patterns.PATTERN011:return(n+i)%3==0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(i/3))%2==0;case e.Patterns.PATTERN101:return n*i%2+n*i%3==0;case e.Patterns.PATTERN110:return(n*i%2+n*i%3)%2==0;case e.Patterns.PATTERN111:return(n*i%3+(n+i)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},e.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(t){for(var e=t.size,n=0,i=0,r=0,o=null,a=null,s=0;s<e;s++){i=r=0,o=a=null;for(var u=0;u<e;u++){var l=t.get(s,u);l===o?i++:(i>=5&&(n+=i-5+3),o=l,i=1),(l=t.get(u,s))===a?r++:(r>=5&&(n+=r-5+3),a=l,r=1)}i>=5&&(n+=i-5+3),r>=5&&(n+=r-5+3)}return n},e.getPenaltyN2=function(t){for(var e=t.size,n=0,i=0;i<e-1;i++)for(var r=0;r<e-1;r++){var o=t.get(i,r)+t.get(i,r+1)+t.get(i+1,r)+t.get(i+1,r+1);4!==o&&0!==o||n++}return 3*n},e.getPenaltyN3=function(t){for(var e=t.size,n=0,i=0,r=0,o=0;o<e;o++){i=r=0;for(var a=0;a<e;a++)i=i<<1&2047|t.get(o,a),a>=10&&(1488===i||93===i)&&n++,r=r<<1&2047|t.get(a,o),a>=10&&(1488===r||93===r)&&n++}return 40*n},e.getPenaltyN4=function(t){for(var e=0,n=t.data.length,i=0;i<n;i++)e+=t.data[i];return 10*Math.abs(Math.ceil(100*e/n/5)-10)},e.applyMask=function(t,e){for(var i=e.size,r=0;r<i;r++)for(var o=0;o<i;o++)e.isReserved(o,r)||e.xor(o,r,n(t,o,r))},e.getBestMask=function(t,n){for(var i=Object.keys(e.Patterns).length,r=0,o=1/0,a=0;a<i;a++){n(a),e.applyMask(a,t);var s=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(a,t),s<o&&(o=s,r=a)}return r}},eRSq:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r=n("jH9d"),o=(i=n("M7lk"))&&i.__esModule?i:{default:i};function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach(function(e){u(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{longitude:r.longitudeKeys,latitude:r.latitudeKeys,altitude:r.altitudeKeys},n=(0,o.default)(t,e.longitude),i=(0,o.default)(t,e.latitude),a=(0,o.default)(t,e.altitude);return s({latitude:i,longitude:n},a?{altitude:a}:{})}},ekOh:function(t,e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(i){return n}}},endd:function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},eqyj:function(t,e,n){"use strict";var i=n("xTJ+");t.exports=i.isStandardBrowserEnv()?{write:function(t,e,n,r,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},fCuW:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r=(i=n("wI44"))&&i.__esModule?i:{default:i};e.default=function(t,e,n){return(0,r.default)(e,t)+(0,r.default)(t,n)===(0,r.default)(e,n)}},fpvS:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{u(i.next(t))}catch(e){o(e)}}function s(t){try{u(i.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__spreadArray||function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.deleteFeatures=e.updateFeature=e.addFeatures=e.getPois=e.getAmenities=e.getFeatures=void 0;var a=n("Ijak"),s=n("kw4C"),u=n("D48c"),l=n("k9By"),c=n("WVt+");e.getFeatures=function(t){return i(void 0,void 0,void 0,function(){var e,n,i,o;return r(this,function(r){switch(r.label){case 0:return[4,a.axios.get("/v5/geo/features")];case 1:return e=r.sent(),t&&(n=[],i=e.data.features.filter(function(t){return"shop"===t.properties.type&&"MultiPolygon"===t.geometry.type}),o=e.data.features.filter(function(t){return"label-line"===t.properties.type}),e.data.features=e.data.features.map(function(t,r){var a,s,u,l,h;if("poi"===t.properties.type&&(t.id=t.id?t.id.replace(/\{|\}/g,""):null,t.properties.id=t.properties.id?t.properties.id.replace(/\{|\}/g,""):null,i.forEach(function(e){var n,i;(null===(n=t.properties)||void 0===n?void 0:n.level)===(null===(i=e.properties)||void 0===i?void 0:i.level)&&c.booleanPointInPolygon(t,e)&&(l=e)}),!l&&t.properties.metadata&&t.properties.metadata.polygon_id&&(l=e.data.features.find(function(e){var n,i;return(null===(n=e.properties.id)||void 0===n?void 0:n.replace(/\{|\}/g,""))===(null===(i=t.properties.metadata.polygon_id)||void 0===i?void 0:i.replace(/\{|\}/g,""))})),l)){t.properties._dynamic=t.properties._dynamic?t.properties._dynamic:{},t.properties._dynamic.id=t.id,t.properties._dynamic.type="poi-custom",t.properties._dynamic.amenity=t.properties.amenity,t.properties._dynamic.polygon_id=null===(a=l.properties.id)||void 0===a?void 0:a.replace(/\{|\}/g,""),l.properties._dynamic=l.properties._dynamic?l.properties._dynamic:{},l.properties._dynamic.id=null===(s=l.properties.id)||void 0===s?void 0:s.replace(/\{|\}/g,""),l.properties._dynamic.type="shop-custom",l.properties._dynamic.poi_id=t.properties.id,l.properties._dynamic.amenity=t.properties.amenity,l.id=JSON.stringify(r),o.forEach(function(t){var e,n;(null===(e=l.properties)||void 0===e?void 0:e.level)===(null===(n=t.properties)||void 0===n?void 0:n.level)&&c.booleanPointInPolygon(c.pointOnFeature(t),l)&&(h=t)}),h&&(h.id=JSON.stringify(r+9999),t.properties._dynamic.label_id=h.id,l.properties._dynamic.label_id=h.id,h.properties._dynamic=h.properties._dynamic?h.properties._dynamic:{},h.properties._dynamic.id=null===(u=h.properties.id)||void 0===u?void 0:u.replace(/\{|\}/g,""),h.properties._dynamic.type="shop-label",h.properties._dynamic.poi_id=t.properties.id,h.properties._dynamic.amenity=t.properties.amenity,h.properties._dynamic.polygon_id=l.properties._dynamic.id,h.properties.title=t.properties.title,h.properties.title_i18n=t.properties.title_i18n);var p=l.properties["label-line"]?JSON.parse(JSON.stringify(l.properties["label-line"])):l.properties.metadata&&l.properties.metadata["label-line"]?JSON.parse(JSON.stringify(l.properties.metadata["label-line"])):t.properties.metadata&&t.properties.metadata["label-line"]?JSON.parse(JSON.stringify(t.properties.metadata["label-line"])):void 0;if(p&&void 0!==p&&p.length>0){var f=JSON.parse(p);if(f[0]instanceof Array&&f[1]instanceof Array){var d=JSON.parse(JSON.stringify(t));d.geometry={coordinates:f,type:"LineString"},d.properties.id=JSON.stringify(r+9999),d.id=JSON.stringify(r+9999),d.properties.type="shop-label",d.properties._dynamic.type="shop-label",l.properties._dynamic.label_id=d.properties.id,n.push(d)}}}return t}),e.data.features=e.data.features.concat(n)),[2,new s.FeatureCollection(e.data)]}})})},e.getAmenities=function(t){return i(void 0,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,a.axios.get("/v5/geo/amenities")];case 1:return[2,e.sent().data.map(function(e){return t&&e[t]&&"default"!==e.category&&(e.id=e[t].toLowerCase()),new u.AmenityModel(e)})]}})})},e.getPois=function(){return i(void 0,void 0,void 0,function(){var t,e;return r(this,function(n){switch(n.label){case 0:return[4,a.axios.get("/v5/geo/features")];case 1:return t=n.sent(),e=l.globalState.dynamicFeatures,[2,o(o([],t.data.features),e.features).filter(function(t){return"poi"===t.properties.usecase||"poi"===t.properties.type}).sort(function(t,e){return t.properties.title>e.properties.title?-1:1}).sort(function(t,e){return t.properties.level>e.properties.level?1:-1}).map(function(t){return new s.default(t)})]}})})},e.addFeatures=function(t){return i(void 0,void 0,void 0,function(){var e,n;return r(this,function(i){switch(i.label){case 0:e="/v5/geo/features",i.label=1;case 1:return i.trys.push([1,3,,4]),[4,a.axios.post(e,t)];case 2:return i.sent(),[3,4];case 3:throw n=i.sent(),console.log("Adding new features to db failed",n.message),new Error(n.message);case 4:return[2]}})})},e.updateFeature=function(t,e){return i(void 0,void 0,void 0,function(){var n,i;return r(this,function(r){switch(r.label){case 0:n="/v5/geo/features/"+e,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,a.axios.put(n,t)];case 2:return r.sent(),[3,4];case 3:throw i=r.sent(),console.log("Updating feature in db failed",i.message),new Error(i.message);case 4:return[2]}})})},e.deleteFeatures=function(t){return i(void 0,void 0,void 0,function(){var e,n;return r(this,function(i){switch(i.label){case 0:e="/v5/geo/features/delete",i.label=1;case 1:return i.trys.push([1,3,,4]),[4,a.axios.post(e,t)];case 2:return i.sent(),[3,4];case 3:throw n=i.sent(),console.log("Deleting features from db failed",n.message),new Error(n.message);case 4:return[2]}})})},e.default={getFeatures:e.getFeatures,addFeatures:e.addFeatures,updateFeature:e.updateFeature,deleteFeatures:e.deleteFeatures,getAmenities:e.getAmenities,getPois:e.getPois}},fxgB:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=u(n("2o5z")),r=u(n("QTq/")),o=u(n("jDUc")),a=u(n("6D9Q")),s=n("jH9d");function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){var n,u,l=(0,i.default)(t),c=(0,r.default)(t),h=(0,o.default)(l),p=(0,o.default)(c),f=e/s.earthRadius,d=h-f,g=h+f,m=(0,o.default)(s.MAXLAT),_=(0,o.default)(s.MINLAT),y=(0,o.default)(s.MAXLON),v=(0,o.default)(s.MINLON);if(d>_&&g<m){var b=Math.asin(Math.sin(f)/Math.cos(h));(n=p-b)<v&&(n+=2*Math.PI),(u=p+b)>y&&(u-=2*Math.PI)}else d=Math.max(d,_),g=Math.min(g,m),n=v,u=y;return[{latitude:(0,a.default)(d),longitude:(0,a.default)(n)},{latitude:(0,a.default)(g),longitude:(0,a.default)(u)}]}},g7np:function(t,e,n){"use strict";var i=n("2SVd"),r=n("5oMp");t.exports=function(t,e){return t&&!i(e)?r(t,e):e}},hIuj:function(t,e,n){"use strict";var i=n("SgzI"),r={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){r[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var o={},a=i.version.split(".");function s(t,e){for(var n=e?e.split("."):a,i=t.split("."),r=0;r<3;r++){if(n[r]>i[r])return!0;if(n[r]<i[r])return!1}return!1}r.transitional=function(t,e,n){var r=e&&s(e);function a(t,e){return"[Axios v"+i.version+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,i,s){if(!1===t)throw new Error(a(i," has been removed in "+e));return r&&!o[i]&&(o[i]=!0,console.warn(a(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,i,s)}},t.exports={isOlderVersion:s,assertOptions:function(t,e,n){if("object"!=typeof t)throw new TypeError("options must be an object");for(var i=Object.keys(t),r=i.length;r-- >0;){var o=i[r],a=e[o];if(a){var s=t[o],u=void 0===s||a(s,o,t);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:r}},i8yS:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(n("2o5z")),r=s(n("QTq/")),o=s(n("jDUc")),a=s(n("6D9Q"));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){if(!1===Array.isArray(t)||0===t.length)return!1;var e=t.length,n=t.reduce(function(t,e){var n=(0,o.default)((0,i.default)(e)),a=(0,o.default)((0,r.default)(e));return{X:t.X+Math.cos(n)*Math.cos(a),Y:t.Y+Math.cos(n)*Math.sin(a),Z:t.Z+Math.sin(n)}},{X:0,Y:0,Z:0}),s=n.X/e,u=n.Y/e,l=n.Z/e;return{longitude:(0,a.default)(Math.atan2(u,s)),latitude:(0,a.default)(Math.atan2(l,Math.sqrt(s*s+u*u)))}}},iFvi:function(t,e,n){"use strict";var i=n("Bi8L"),r=n("9/5/"),o=n("U6jy"),a=n("+qE3").EventEmitter,s=n("SsYf"),u=n("0KjW"),l=n("LFDd"),c=n("WpKc"),h=n("/5w7"),p=n("5K5J");function f(t){this._eventEmitter=new a,this.options=o({},this.options,t),this.inputString="",this.fresh=!0,this.lastSelected=null}f.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,minLength:2,reverseGeocode:!1,limit:5,origin:"https://api.mapbox.com",enableEventLogging:!0,marker:!0,mapboxgl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,getItemValue:function(t){return t.place_name},render:function(t){var e=t.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">'+e[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">'+e.splice(1,e.length).join(",")+"</div></div>"}},addTo:function(t){function e(t,e){if(!document.body.contains(e))throw new Error("Element provided to #addTo() exists, but is not in the DOM");var n=t.onAdd();e.appendChild(n)}if(t._controlContainer)t.addControl(this);else if(t instanceof HTMLElement)e(this,t);else{if("string"!=typeof t)throw new Error("Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element");var n=document.querySelectorAll(t);if(0===n.length)throw new Error("Element ",t,"not found.");if(n.length>1)throw new Error("Geocoder can only be added to a single html element");e(this,n[0])}},onAdd:function(t){if(t&&"string"!=typeof t&&(this._map=t),this.setLanguage(),this.options.localGeocoderOnly||(this.geocoderService=l(u({accessToken:this.options.accessToken,origin:this.options.origin}))),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this.eventManager=new c(this.options),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this);var e=this.container=document.createElement("div");e.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var n=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",r(this._onKeyDown,200)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton),this._inputEl.addEventListener("keyup",(function(t){this.eventManager.keyevent(t,this)}).bind(this));var o=document.createElement("div");o.classList.add("mapboxgl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button";var a=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');return this._clearEl.appendChild(a),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),o.appendChild(this._clearEl),o.appendChild(this._loadingEl),e.appendChild(n),e.appendChild(this._inputEl),e.appendChild(o),this._typeahead=new i(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit}),this.setRenderFunction(this.options.render),this._typeahead.getItemValue=this.options.getItemValue,this.mapMarker=null,this._handleMarker=this._handleMarker.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._mapboxgl=this.options.mapboxgl,!this._mapboxgl&&this.options.marker&&(console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."),this.options.marker=!1)),e},createIcon:function(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");if(n.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+t),n.setAttribute("viewBox","0 0 18 18"),n.setAttribute("xml:space","preserve"),n.setAttribute("width",18),n.setAttribute("height",18),"innerHTML"in n)n.innerHTML=e;else{var i=document.createElement("div");i.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",n.appendChild(i.firstChild.firstChild)}return n},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_onPaste:function(t){var e=(t.clipboardData||window.clipboardData).getData("text");e.length>=this.options.minLength&&this._geocode(e)},_onKeyDown:function(t){var e=27,n=9;if(t.keyCode===e&&this.options.clearAndBlurOnEsc)return this._clear(t),this._inputEl.blur();var i=t.target&&t.target.shadowRoot?t.target.shadowRoot.activeElement:t.target;if(!i||!i.value)return this.fresh=!0,t.keyCode!==n&&this.clear(t),this._clearEl.style.display="none";t.metaKey||-1!==[n,e,37,39,13,38,40].indexOf(t.keyCode)||i.value.length>=this.options.minLength&&this._geocode(i.value)},_showButton:function(){this._typeahead.selected&&(this._clearEl.style.display="block")},_hideButton:function(){this._typeahead.selected&&(this._clearEl.style.display="none")},_onBlur:function(t){this.options.clearOnBlur&&this._clearOnBlur(t),this.options.collapsed&&this._collapse()},_onChange:function(){var t=this._typeahead.selected;if(t&&JSON.stringify(t)!==this.lastSelected){var e;if(this._clearEl.style.display="none",this.options.flyTo)if(t.properties&&s[t.properties.short_code])e=o({},this.options.flyTo),this._map&&this._map.fitBounds(s[t.properties.short_code].bbox,e);else if(t.bbox){var n=t.bbox;e=o({},this.options.flyTo),this._map&&this._map.fitBounds([[n[0],n[1]],[n[2],n[3]]],e)}else e=o({},{zoom:this.options.zoom},this.options.flyTo),t.center?e.center=t.center:t.geometry&&t.geometry.type&&"Point"===t.geometry.type&&t.geometry.coordinates&&(e.center=t.geometry.coordinates),this._map&&this._map.flyTo(e);this.options.marker&&this._mapboxgl&&this._handleMarker(t),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(t),this._eventEmitter.emit("result",{result:t}),this.eventManager.select(t,this)}},_requestType:function(t,e){return t.localGeocoderOnly?1:t.reverseGeocode&&/^[ ]*(-?\d+\.?\d*)[, ]+(-?\d+\.?\d*)[ ]*$/.test(e)?2:0},_setupConfig:function(t,e){var n=/[\s,]+/,i=this,r=["bbox","limit","proximity","countries","types","language","reverseMode","mode"].reduce(function(t,e){return i.options[e]?(t[e]=["countries","types","language"].indexOf(e)>-1?i.options[e].split(n):i.options[e],"proximity"===e&&"number"==typeof i.options[e].longitude&&"number"==typeof i.options[e].latitude&&(t[e]=[i.options[e].longitude,i.options[e].latitude]),t):t},{});switch(t){case 2:var a=e.split(n).map(function(t){return parseFloat(t,10)}).reverse();"proximity"in(r=o(r,{query:a,limit:1}))&&delete r.proximity;break;case 0:/^[ ]*(-?\d+\.?\d*)[, ]+(-?\d+\.?\d*)*[ ]*$/.test(e)&&(e=e.replace(/,/g," ")),r=o(r,{query:e})}return r},_geocode:function(t){this.inputString=t,this._loadingEl.style.display="block",this._eventEmitter.emit("loading",{query:t});var e,n=this._requestType(this.options,t),i=this._setupConfig(n,t);switch(n){case 1:e=Promise.resolve();break;case 0:e=this.geocoderService.forwardGeocode(i).send();break;case 2:e=this.geocoderService.reverseGeocode(i).send()}var r=this.options.localGeocoder&&this.options.localGeocoder(t)||[],o=[],a=null;return e.catch((function(t){a=t}).bind(this)).then((function(e){this._loadingEl.style.display="none";var n={};return e?"200"==e.statusCode&&((n=e.body).request=e.request,n.headers=e.headers):n={type:"FeatureCollection",features:[]},n.config=i,this.fresh&&(this.eventManager.start(this),this.fresh=!1),n.features=n.features?r.concat(n.features):r,this.options.externalGeocoder?(o=this.options.externalGeocoder(t,n.features)||[]).then(function(t){return n.features=n.features?t.concat(n.features):t,n},function(){return n}):n}).bind(this)).then((function(t){if(a)throw a;this.options.filter&&t.features.length&&(t.features=t.features.filter(this.options.filter)),t.features.length?(this._clearEl.style.display="block",this._eventEmitter.emit("results",t),this._typeahead.update(t.features)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",t))}).bind(this)).catch((function(t){this._loadingEl.style.display="none",r.length&&this.options.localGeocoder||o.length&&this.options.externalGeocoder?(this._clearEl.style.display="block",this._typeahead.update(r)):(this._clearEl.style.display="none",this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:r}),this._eventEmitter.emit("error",{error:t})}).bind(this)),e},_clear:function(t){t&&t.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._clearEl.style.display="none",this._removeMarker(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(t){this._clear(t),this._inputEl.focus()},_clearOnBlur:function(t){t.relatedTarget&&this._clear(t)},_onQueryResult:function(t){var e=t.body;if(e.features.length){var n=e.features[0];this._typeahead.selected=n,this._inputEl.value=n.place_name,this._onChange()}},_updateProximity:function(){if(this._map)if(this._map.getZoom()>9){var t=this._map.getCenter().wrap();this.setProximity({longitude:t.lng,latitude:t.lat})}else this.setProximity(null)},_collapse:function(){this._inputEl.value||this._inputEl===document.activeElement||this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed")},query:function(t){return this._geocode(t).then(this._onQueryResult),this},_renderError:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>")},_renderNoResults:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>")},_renderMessage:function(t){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(t)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var t=this.options.language.split(",")[0],e=p.language(t),n=h.placeholder[e];if(n)return n}return"Search"},setInput:function(t){return this._inputEl.value=t,this._typeahead.selected=null,this._typeahead.clear(),t.length>=this.options.minLength&&this._geocode(t),this},setProximity:function(t){return this.options.proximity=t,this},getProximity:function(){return this.options.proximity},setRenderFunction:function(t){return t&&"function"==typeof t&&(this._typeahead.render=t),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(t){var e=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=t||this.options.language||e,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(t){return this.options.zoom=t,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(t){return this.options.flyTo=t,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(t){return this.placeholder=t||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(t){return this.options.bbox=t,this},getCountries:function(){return this.options.countries},setCountries:function(t){return this.options.countries=t,this},getTypes:function(){return this.options.types},setTypes:function(t){return this.options.types=t,this},getMinLength:function(){return this.options.minLength},setMinLength:function(t){return this.options.minLength=t,this._typeahead&&(this._typeahead.options.minLength=t),this},getLimit:function(){return this.options.limit},setLimit:function(t){return this.options.limit=t,this._typeahead&&(this._typeahead.options.limit=t),this},getFilter:function(){return this.options.filter},setFilter:function(t){return this.options.filter=t,this},setOrigin:function(t){return this.options.origin=t,this.geocoderService=l(u({accessToken:this.options.accessToken,origin:this.options.origin})),this},getOrigin:function(){return this.options.origin},_handleMarker:function(t){if(this._map){this._removeMarker();var e=o({},{color:"#4668F2"},this.options.marker);return this.mapMarker=new this._mapboxgl.Marker(e),t.center?this.mapMarker.setLngLat(t.center).addTo(this._map):t.geometry&&t.geometry.type&&"Point"===t.geometry.type&&t.geometry.coordinates&&this.mapMarker.setLngLat(t.geometry.coordinates).addTo(this._map),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},on:function(t,e){return this._eventEmitter.on(t,e),this},off:function(t,e){return this._eventEmitter.removeListener(t,e),this.eventManager.remove(),this}},t.exports=f},iU6o:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutProperties=e.PaintProperties=void 0;var o=n("/R7+"),a=n("Ijak"),s=function(t){function e(e){var n=t.call(this)||this;return n.iconColor=e["icon-color"]||"#000000",n.iconOpacity=e["icon-opacity"]||1,n.iconHaloColor=e["icon-halo-color"]||"rgba(0, 0, 0, 0)",n.iconHaloWidth=e["icon-halo-width"]||0,n.iconHaloBlur=e["icon-halo-blur"]||0,n.iconTranslate=e["icon-translate"]||[0,0],n.iconTranslateAnchor=e["icon-translate-anchor"]||"map",n.textOpacity=e["text-opacity"]||1,n.textColor=e["text-color"]||"#000000",n.textHaloColor=e["text-halo-color"]||"rgba(0, 0, 0, 0)",n.textHaloWidth=e["text-halo-width"]||0,n.textHaloBlur=e["text-halo-blur"]||0,n.textTranslate=e["text-translate"]||[0,0],n.textTranslateAnchor=e["text-translate-anchor"]||"map",n}return r(e,t),e}(o.Serializable);e.PaintProperties=s;var u=function(t){function e(e){var n=t.call(this)||this;return n.visibility=e.visibility||"visible",n.symbolPlacement=e["symbol-placement"]||"point",n.symbolSpacing=e["symbol-spacing"]||250,n.symbolAvoidEdges=e["symbol-avoid-edges"]||!1,n.symbolSortKey=e["symbol-sort-key"],n.symbolZOrder=e["symbol-z-order"]||"auto",n.iconAllowOverlap=e["icon-allow-overlap"]||!1,n.iconIgnorePlacement=e["icon-ignore-placement"]||!1,n.iconOptional=e["icon-optional"]||!1,n.iconRotationAlignment=e["icon-rotation-alignment"]||"auto",n.iconSize=e["icon-size"]||1,n.iconTextFit=e["icon-text-fit"]||"none",n.iconTextFitPadding=e["icon-text-fit-padding"]||[0,0,0,0],n.iconImage=e["icon-image"],n.iconRotate=e["icon-rotate"]||0,n.iconPadding=e["icon-padding"]||2,n.iconKeepUpright=e["icon-keep-upright"]||!1,n.iconOffset=e["icon-offset"]||[0,0],n.iconAnchor=e["icon-anchor"]||"center",n.iconPitchAlignment=e["icon-pitch-alignment"]||"auto",n.textPitchAlignment=e["text-pitch-alignment"]||"auto",n.textRotationAlignment=e["text-rotation-alignment"]||"auto",n.textFont="string"==typeof e["text-font"]&&"{textFont}"===e["text-font"]||"object"==typeof e["text-font"]&&"textFont"===e["text-font"].property?["match",["string",["get","textFont"]],"Klokantech Noto Sans Bold",["literal",["Klokantech Noto Sans Bold"]],"Klokantech Noto Sans CJK Bold",["literal",["Klokantech Noto Sans CJK Bold"]],"Klokantech Noto Sans CJK Regular",["literal",["Klokantech Noto Sans CJK Regular"]],"Klokantech Noto Sans Italic",["literal",["Klokantech Noto Sans Italic"]],"Klokantech Noto Sans Regular",["literal",["Klokantech Noto Sans Regular"]],"Noto Sans Bold",["literal",["Noto Sans Bold"]],"Noto Sans Bold Italic",["literal",["Noto Sans Bold Italic"]],"Noto Sans Italic",["literal",["Noto Sans Italic"]],"Noto Sans Regular",["literal",["Noto Sans Regular"]],"Open Sans Bold",["literal",["Open Sans Bold"]],"Open Sans Italic",["literal",["Open Sans Italic"]],"Open Sans Regular",["literal",["Open Sans Regular"]],"Open Sans Semibold",["literal",["Open Sans Semibold"]],"Open Sans Semibold Italic",["literal",["Open Sans Semibold Italic"]],["literal",["Klokantech Noto Sans Bold"]]]:e["text-font"],n.textField=e["text-field"]||"",n.textSize=e["text-size"]||16,n.textMaxWidth=e["text-max-width"]||10,n.textLineHeight=e["text-line-height"]||1.2,n.textLetterSpacing=e["text-letter-spacing"]||0,n.textJustify=e["text-justify"]||"center",n.textRadialOffset=e["text-radial-offset"]||0,n.textVariableAnchor=e["text-variable-anchor"],n.textAnchor=e["text-anchor"]||"center",n.textMaxAngle=e["text-max-angle"]||45,n.textWritingMode=e["text-writing-mode"],n.textRotate=e["text-rotate"]||0,n.textPadding=e["text-padding"]||2,n.textKeepUpright=e["text-keep-upright"]||!0,n.textTransform=e["text-transform"]||"none",n.textOffset=e["text-offset"]||[0,0],n.textAllowOverlap=e["text-allow-overlap"]||!1,n.textIgnorePlacement=e["text-ignore-placement"]||!1,n.textOptional=e["text-optional"]||!1,n}return r(e,t),Object.defineProperty(e.prototype,"json",{get:function(){var t=a.kebabize(this);return t["symbol-z-order"]=this.symbolZOrder,delete t["symbol-zorder"],t},enumerable:!1,configurable:!0}),e}(o.Serializable);e.LayoutProperties=u;var l=function(t){function e(e){var n=t.call(this,e)||this;return n.paint=new s(e.paint||{}),n.layout=new u(e.layout||{}),n}return r(e,t),e}(o.default);e.default=l},j5an:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__spreadArray||function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0});var o=n("/R7+"),a=n("t9zq"),s=n("6MF8"),u=n("d5pu"),l=n("7df8"),c=n("oHbY"),h=n("iU6o"),p=n("jS43"),f=n("PKnj"),d=n("26tU"),g=n("bo1M"),m=n("Fwbx"),_=n("0WuP"),y=function(){function t(t){this._observers=[],this.overlay=!1,this.segments=!1,this.routable=!1,this.cluster=!0,this.rooms=!0,this.id=t.id,this.organization_id=t.organization_id,this.version=t.version||1,this.name=t.name||"New Style",this.metadata=Object.assign(_.default,t.metadata||{}),this.center=t.center||[18.555,48.4437],this.zoom=t.zoom||8,this.bearing=t.bearing||0,this.pitch=t.pitch||0,this.sources=t.sources||[],this.glyphs=t.glyphs||"",this.layers=(t.layers||[]).map(function(t){return"background"===t.type?new a.default(t).json:"raster"===t.type?new s.default(t).json:"fill"===t.type?new u.default(t).json:"line"===t.type?new l.default(t).json:"fill-extrusion"===t.type?new c.default(t).json:"symbol"===t.type?new h.default(t).json:"heatmap"===t.type?new p.default(t).json:"circle"===t.type?new f.default(t).json:"hillshade"===t.type?new d.default(t).json:new o.default(t)}).concat(this.getUniversalLayers("main")).concat(this.getSyntheticLayers())}return t.prototype.on=function(t){this._observers&&this._observers.push(t)},t.prototype.off=function(t){var e=this._observers?this._observers.findIndex(function(e){return e===t}):0;e>=0&&this._observers&&this._observers.splice(e,1)},t.prototype.notify=function(t,e){var n=this;this._observers&&this._observers.forEach(function(i){return i(t,e,n)})},t.prototype.getUniversalLayers=function(t){var e=["all",["==",["geometry-type"],"Polygon"],["any",["==",["get","segment"],!1],["!",["has","segment"]]],["any",["==",["get","routable"],!1],["!",["has","routable"]]],["==",["get","level"],0]],n=["all",["==",["geometry-type"],"Polygon"],["has","segment"],["==",["get","segment"],!0],["==",["get","level"],0]],r=["all",["==",["geometry-type"],"Polygon"],["has","routable"],["==",["get","routable"],!0],["==",["get","level"],0]],o=["all",["==",["geometry-type"],"Polygon"],["has","room"],["==",["get","room"],!0],["==",["get","level"],0]],a={minzoom:1,maxzoom:24,source:t};return[new u.default(i(i({},a),{id:t+"-polygon-fill",type:"fill",filter:e,layout:{visibility:"none"},paint:{"fill-color":"#08c","fill-opacity":.3}})).json,new l.default(i(i({},a),{id:t+"-polygon-outline",type:"line",filter:e,layout:{"line-join":"bevel",visibility:"none"},paint:{"line-color":"#08c","line-width":1,"line-opacity":1}})).json,new l.default(i(i({},a),{id:t+"-room-outline",type:"line",roomFilter:o,layout:{"line-join":"bevel",visibility:"none"},paint:{"line-color":["get","color"],"line-width":1,"line-opacity":1}})).json,new u.default(i(i({},a),{id:t+"-room-fill",type:"fill",filter:o,layout:{visibility:"none"},paint:{"fill-color":["get","color"],"fill-opacity":.3}})).json,new u.default(i(i({},a),{id:t+"-segment-fill",type:"fill",filter:n,layout:{visibility:"none"},paint:{"fill-color":"#0c8","fill-opacity":.3}})).json,new l.default(i(i({},a),{id:t+"-segment-outline",type:"line",filter:n,layout:{"line-join":"bevel",visibility:"none"},paint:{"line-color":"#0c8","line-width":1,"line-opacity":1}})).json,new u.default(i(i({},a),{id:t+"-routable-fill",type:"fill",filter:r,layout:{visibility:"none"},paint:{"fill-color":"#c80","fill-opacity":.3}})).json,new l.default(i(i({},a),{id:t+"-routable-outline",type:"line",filter:r,layout:{"line-join":"bevel",visibility:"none"},paint:{"line-color":"#c80","line-width":1,"line-opacity":1}})).json]},t.prototype.getSyntheticLayers=function(){return[new u.default({type:"fill",minzoom:1,maxzoom:24,source:"synthetic",id:"synthetic-polygon-fill",filter:["all",["==",["geometry-type"],"Polygon"]],layout:{visibility:"visible"},paint:{"fill-color":"#08c","fill-opacity":.3}}).json,new l.default({type:"line",minzoom:1,maxzoom:24,source:"synthetic",id:"synthetic-polygon-outline",filter:["all",["==",["geometry-type"],"Polygon"]],layout:{"line-join":"bevel",visibility:"visible"},paint:{"line-color":"#08c","line-width":1,"line-opacity":1}}).json]},t.prototype.usesPrefixes=function(){return void 0!==this.layers.find(function(t){return"proximiio-paths"===t.id})},t.prototype.addLayer=function(t,e){e?this.layers.splice(this.getLayerIndex(e)+1,0,t):this.layers.push(t)},t.prototype.getLayer=function(t){return this.layers.find(function(e){return e.id===t})},t.prototype.getLayerIndex=function(t){return this.layers.findIndex(function(e){return e.id===t})},t.prototype.getLayers=function(t){return this.layers.filter(function(e){return e.source&&e.source===t})},t.prototype.addSource=function(t,e){this.sources[t]=e},t.prototype.removeLayer=function(t){this.layers=this.layers.filter(function(e){return e.id!==t})},t.prototype.getSources=function(){var t=this,e=[];return Object.keys(this.sources).forEach(function(n){var i=t.sources[n];i.id=n,e.push(i)}),e},t.prototype.setSource=function(t,e){this.sources[t]=e.source},t.prototype.getSource=function(t){return this.sources[t]},t.prototype.removeSource=function(t){this.sources[t]&&delete this.sources[t]},t.prototype.setLevel=function(t){r(r([],this.getLayers("main")),this.getLayers("route")).forEach(function(e){e.filter&&e.filter.forEach(function(n,i){if("proximiio-levelchangers"===e.id){var r="__level_"+t;3===i&&(n[1]=r),4===i&&(n[1][1]=r)}if(Array.isArray(n)){var o,a=!1;"=="===n[0]&&("to-number"===(o=n[1])[0]&&"get"===o[1][0]&&"level"===o[1][1]&&(n[2]=t,a=!0),"get"===o[0]&&"level"===o[1]&&(n[2]=t,a=!0)),"<="===n[0]&&("to-number"===(o=n[1])[0]&&"get"===o[1][0]&&"level_min"===o[1][1]&&(n[2]=t,a=!0),"get"===o[0]&&"level_min"===o[1]&&(n[2]=t,a=!0)),">="===n[0]&&("to-number"===(o=n[1])[0]&&"get"===o[1][0]&&"level_max"===o[1][1]&&(n[2]=t,a=!0),"get"===o[0]&&"level_max"===o[1]&&(n[2]=t,a=!0)),a&&(e.filter[i]=n)}})}),this.notify("filter-change")},Object.defineProperty(t.prototype,"polygonEditing",{get:function(){return this.metadata[m.METADATA_POLYGON_EDITING]||!1},enumerable:!1,configurable:!0}),t.prototype.toggleCluster=function(){this.cluster=!this.cluster,this.notify("cluster-toggled")},t.prototype.togglePolygonEditing=function(){this.metadata[m.METADATA_POLYGON_EDITING]=!this.metadata[m.METADATA_POLYGON_EDITING]||!this.metadata[m.METADATA_POLYGON_EDITING],console.log("polygon-editing-toggled",this.metadata[m.METADATA_POLYGON_EDITING]),this.notify("polygon-editing-toggled")},t.prototype.toggleRooms=function(){this.rooms=!this.rooms,this.notify("roomsss-toggled")},t.prototype.toggleOverlay=function(){this.overlay=!this.overlay,this.notify("overlay-toggled")},t.prototype.toggleSegments=function(){this.segments=!this.segments,this.notify("segments-toggled")},t.prototype.toggleRoutable=function(){this.routable=!this.routable,this.notify("routable-toggled")},t.prototype.togglePaths=function(t){var e=this.layers.find(function(t){return"proximiio-paths"===t.id||"paths"===t.id});if(e){var n=new l.default(Object.assign({},e.json));n.layout.visibility=t?"visible":"none",this.updateLayer(n)}},t.prototype.updateLayer=function(t){var e=this.getLayerIndex(t.id),n=[];if(e>=0){var i=g.diff(this.layers[e].json,t.json);console.log("change",i),i&&(n.push(i),this.layers.splice(e,1,t),this.notify("layer-update",{layer:t,changes:n.length>0?n[0]:[]}))}},t.prototype.setMetadata=function(t,e,n){this.metadata[t+":"+e]=n,this.notify("metadata-update")},Object.defineProperty(t.prototype,"namespaces",{get:function(){var t=Object.keys(this.metadata).filter(function(t){return t.indexOf(":")>0}),e=new Set(t.map(function(t){return t.split(":")[0]}));return Array.from(e).sort(function(t,e){return t.localeCompare(e)})},enumerable:!1,configurable:!0}),t.prototype.namespaceItems=function(t){return Object.keys(this.metadata).filter(function(e){return 0===e.indexOf(t+":")}).map(function(t){return t.split(":").slice(1).join(":")})},Object.defineProperty(t.prototype,"json",{get:function(){var t=Object.assign({},this);return delete t._observers,delete t.overlay,t.layers=this.layers.map(function(t){return t.json}),JSON.parse(JSON.stringify(t))},enumerable:!1,configurable:!0}),t}();e.default=y},jDUc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function(t){return t*Math.PI/180}},jG4U:function(t,e,n){t.exports=function(){"use strict";function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function e(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach(function(t){i(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||o(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var s=function(t){return"string"==typeof t?document.querySelector(t):t()},u=function(t,e){var n="string"==typeof t?document.createElement(t):t;for(var i in e){var r=e[i];if("inside"===i)r.append(n);else if("dest"===i)s(r[0]).insertAdjacentElement(r[1],n);else if("around"===i){var o=r;o.parentNode.insertBefore(n,o),n.append(o),null!=o.getAttribute("autofocus")&&o.focus()}else i in n?n[i]=r:n.setAttribute(i,r)}return n},l=function(t,e){return t=String(t).toLowerCase(),e?t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").normalize("NFC"):t},c=function(t,n){return u("mark",e({innerHTML:t},"string"==typeof n&&{class:n})).outerHTML},h=function(t,e){e.input.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:e.feedback,cancelable:!0}))},p=function(t,e,n){var i=n||{},r=i.mode,o=i.diacritics,a=i.highlight,s=l(e,o);if(e=String(e),t=l(t,o),"loose"===r){var u=(t=t.replace(/ /g,"")).length,h=0,p=Array.from(e).map(function(e,n){return h<u&&s[n]===t[h]&&(e=a?c(e,a):e,h++),e}).join("");if(h===u)return p}else{var f=s.indexOf(t);if(~f)return t=e.substring(f,f+t.length),a?e.replace(t,c(t,a)):e}},f=function(t,e){return new Promise(function(n,i){var r;return(r=t.data).cache&&r.store?n():new Promise(function(t,n){return"function"==typeof r.src?r.src(e).then(t,n):t(r.src)}).then(function(e){try{return t.feedback=r.store=e,h("response",t),n()}catch(t){return i(t)}},i)})},d=function(t,e){var n=e.data,i=e.searchEngine,r=[];n.store.forEach(function(a,s){var u=function(n){var o=n?a[n]:a,s="function"==typeof i?i(t,o):p(t,o,{mode:i,diacritics:e.diacritics,highlight:e.resultItem.highlight});if(s){var u={match:s,value:a};n&&(u.key=n),r.push(u)}};if(n.keys){var l,c=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=o(t))){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}(n.keys);try{for(c.s();!(l=c.n()).done;)u(l.value)}catch(t){c.e(t)}finally{c.f()}}else u()}),n.filter&&(r=n.filter(r));var a=r.slice(0,e.resultsList.maxResults);e.feedback={query:t,matches:r,results:a},h("results",e)},g="aria-expanded",m="aria-activedescendant",_="aria-selected",y=function(t,n){t.feedback.selection=e({index:n},t.feedback.results[n])},v=function(t){t.isOpen||((t.wrapper||t.input).setAttribute(g,!0),t.list.removeAttribute("hidden"),t.isOpen=!0,h("open",t))},b=function(t){t.isOpen&&((t.wrapper||t.input).setAttribute(g,!1),t.input.setAttribute(m,""),t.list.setAttribute("hidden",""),t.isOpen=!1,h("close",t))},w=function(t,e){var n=e.resultItem,i=e.list.getElementsByTagName(n.tag),o=!!n.selected&&n.selected.split(" ");if(e.isOpen&&i.length){var a,s,u=e.cursor;t>=i.length&&(t=0),t<0&&(t=i.length-1),e.cursor=t,u>-1&&(i[u].removeAttribute(_),o&&(s=i[u].classList).remove.apply(s,r(o))),i[t].setAttribute(_,!0),o&&(a=i[t].classList).add.apply(a,r(o)),e.input.setAttribute(m,i[e.cursor].id),e.list.scrollTop=i[t].offsetTop-e.list.clientHeight+i[t].clientHeight+5,e.feedback.cursor=e.cursor,y(e,t),h("navigate",e)}},x=function(t){w(t.cursor+1,t)},k=function(t){w(t.cursor-1,t)},E=function(t,e,n){(n=n>=0?n:t.cursor)<0||(t.feedback.event=e,y(t,n),h("selection",t),b(t))};function S(t,n){var i=this;return new Promise(function(r,o){var a,s;return a=n||((s=t.input)instanceof HTMLInputElement||s instanceof HTMLTextAreaElement?s.value:s.innerHTML),function(t,e,n){return e?e(t):t.length>=n}(a=t.query?t.query(a):a,t.trigger,t.threshold)?f(t,a).then(function(n){try{return t.feedback instanceof Error?r():(d(a,t),t.resultsList&&function(t){var n=t.resultsList,i=t.list,r=t.resultItem,o=t.feedback,a=o.matches,s=o.results;if(t.cursor=-1,i.innerHTML="",a.length||n.noResults){var l=new DocumentFragment;s.forEach(function(t,n){var i=u(r.tag,e({id:"".concat(r.id,"_").concat(n),role:"option",innerHTML:t.match,inside:l},r.class&&{class:r.class}));r.element&&r.element(i,t)}),i.append(l),n.element&&n.element(i,o),v(t)}else b(t)}(t),l.call(i))}catch(t){return o(t)}},o):(b(t),l.call(i));function l(){return r()}})}var C=function(t,e){for(var n in t)for(var i in t[n])e(n,i)};function I(t){var n=this;return new Promise(function(i,r){var o,a,s;if(s={role:"combobox","aria-owns":(a=t.resultsList).id,"aria-haspopup":!0,"aria-expanded":!1},u(t.input,e(e({"aria-controls":a.id,"aria-autocomplete":"both"},(o=t.placeHolder)&&{placeholder:o}),!t.wrapper&&e({},s))),t.wrapper&&(t.wrapper=u("div",e({around:t.input,class:t.name+"_wrapper"},s))),a&&(t.list=u(a.tag,e({dest:[a.destination,a.position],id:a.id,role:"listbox",hidden:"hidden"},a.class&&{class:a.class}))),function(t){var n,i,r,o=t.events,a=(n=function(){return S(t)},i=t.debounce,function(){clearTimeout(r),r=setTimeout(function(){return n()},i)}),s=t.events=e({input:e({},o&&o.input)},t.resultsList&&{list:o?e({},o.list):{}}),u={input:{input:function(){a()},keydown:function(e){!function(t,e){switch(t.keyCode){case 40:case 38:t.preventDefault(),40===t.keyCode?x(e):k(e);break;case 13:e.submit||t.preventDefault(),e.cursor>=0&&E(e,t);break;case 9:e.resultsList.tabSelect&&e.cursor>=0&&E(e,t);break;case 27:e.input.value="",b(e)}}(e,t)},blur:function(){b(t)}},list:{mousedown:function(t){t.preventDefault()},click:function(e){!function(t,e){var n=e.resultItem.tag.toUpperCase(),i=Array.from(e.list.querySelectorAll(n)),r=t.target.closest(n);r&&r.nodeName===n&&E(e,t,i.indexOf(r))}(e,t)}}};C(u,function(e,n){(t.resultsList||"input"===n)&&(s[e][n]||(s[e][n]=u[e][n]))}),C(s,function(e,n){t[e].addEventListener(n,s[e][n])})}(t),t.data.cache)return f(t).then(function(t){try{return l.call(n)}catch(t){return r(t)}},r);function l(){return h("init",t),i()}return l.call(n)})}function A(t){var e=t.prototype;e.init=function(){I(this)},e.start=function(t){S(this,t)},e.unInit=function(){if(this.wrapper){var t=this.wrapper.parentNode;t.insertBefore(this.input,this.wrapper),t.removeChild(this.wrapper)}var e;C((e=this).events,function(t,n){e[t].removeEventListener(n,e.events[t][n])})},e.open=function(){v(this)},e.close=function(){b(this)},e.goTo=function(t){w(t,this)},e.next=function(){x(this)},e.previous=function(){k(this)},e.select=function(t){E(this,null,t)},e.search=function(t,e,n){return p(t,e,n)}}return function t(e){this.options=e,this.id=t.instances=(t.instances||0)+1,this.name="autoComplete",this.wrapper=1,this.threshold=1,this.debounce=0,this.resultsList={position:"afterend",tag:"ul",maxResults:5},this.resultItem={tag:"li"},function(t){var e=t.name,i=t.options,r=t.resultsList,o=t.resultItem;for(var a in i)if("object"===n(i[a]))for(var u in t[a]||(t[a]={}),i[a])t[a][u]=i[a][u];else t[a]=i[a];t.selector=t.selector||"#"+e,r.destination=r.destination||t.selector,r.id=r.id||e+"_list_"+t.id,o.id=o.id||e+"_result",t.input=s(t.selector)}(this),A.call(this,t),I(this)}}()},jH9d:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.areaConversion=e.timeConversion=e.distanceConversion=e.altitudeKeys=e.latitudeKeys=e.longitudeKeys=e.MAXLON=e.MINLON=e.MAXLAT=e.MINLAT=e.earthRadius=e.sexagesimalPattern=void 0,e.sexagesimalPattern=/^([0-9]{1,3})\xb0\s*([0-9]{1,3}(?:\.(?:[0-9]{1,}))?)['\u2032]\s*(([0-9]{1,3}(\.([0-9]{1,}))?)["\u2033]\s*)?([NEOSW]?)$/,e.earthRadius=6378137,e.MINLAT=-90,e.MAXLAT=90,e.MINLON=-180,e.MAXLON=180,e.longitudeKeys=["lng","lon","longitude",0],e.latitudeKeys=["lat","latitude",1],e.altitudeKeys=["alt","altitude","elevation","elev",2],e.distanceConversion={m:1,km:.001,cm:100,mm:1e3,mi:1/1609.344,sm:1/1852.216,ft:100/30.48,in:100/2.54,yd:1/.9144},e.timeConversion={m:60,h:3600,d:86400};var i={m2:1,km2:1e-6,ha:1e-4,a:.01,ft2:10.763911,yd2:1.19599,in2:1550.0031};e.areaConversion=i,i.sqm=i.m2,i.sqkm=i.km2,i.sqft=i.ft2,i.sqyd=i.yd2,i.sqin=i.in2},jIQF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={computeDestinationPoint:!0,convertArea:!0,convertDistance:!0,convertSpeed:!0,decimalToSexagesimal:!0,findNearest:!0,getAreaOfPolygon:!0,getBounds:!0,getBoundsOfDistance:!0,getCenter:!0,getCenterOfBounds:!0,getCompassDirection:!0,getCoordinateKey:!0,getCoordinateKeys:!0,getDistance:!0,getDistanceFromLine:!0,getGreatCircleBearing:!0,getLatitude:!0,getLongitude:!0,getPathLength:!0,getPreciseDistance:!0,getRhumbLineBearing:!0,getRoughCompassDirection:!0,getSpeed:!0,isDecimal:!0,isPointInLine:!0,isPointInPolygon:!0,isPointNearLine:!0,isPointWithinRadius:!0,isSexagesimal:!0,isValidCoordinate:!0,isValidLatitude:!0,isValidLongitude:!0,orderByDistance:!0,sexagesimalToDecimal:!0,toDecimal:!0,toRad:!0,toDeg:!0,wktToPolygon:!0};Object.defineProperty(e,"computeDestinationPoint",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"convertArea",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"convertDistance",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"convertSpeed",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"decimalToSexagesimal",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"findNearest",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"getAreaOfPolygon",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"getBounds",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"getBoundsOfDistance",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"getCenter",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"getCenterOfBounds",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"getCompassDirection",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"getCoordinateKey",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"getCoordinateKeys",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(e,"getDistance",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"getDistanceFromLine",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"getGreatCircleBearing",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"getLatitude",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(e,"getLongitude",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(e,"getPathLength",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(e,"getPreciseDistance",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(e,"getRhumbLineBearing",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(e,"getRoughCompassDirection",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(e,"getSpeed",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(e,"isDecimal",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(e,"isPointInLine",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(e,"isPointInPolygon",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(e,"isPointNearLine",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(e,"isPointWithinRadius",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(e,"isSexagesimal",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(e,"isValidCoordinate",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(e,"isValidLatitude",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(e,"isValidLongitude",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(e,"orderByDistance",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(e,"sexagesimalToDecimal",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(e,"toDecimal",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(e,"toRad",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(e,"toDeg",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(e,"wktToPolygon",{enumerable:!0,get:function(){return U.default}});var r=G(n("95co")),o=G(n("5kFF")),a=G(n("3Q5m")),s=G(n("9Og4")),u=G(n("Fqnj")),l=G(n("ZPc1")),c=G(n("t3RW")),h=G(n("JKJh")),p=G(n("fxgB")),f=G(n("i8yS")),d=G(n("OTo6")),g=G(n("mpC8")),m=G(n("M7lk")),_=G(n("eRSq")),y=G(n("wI44")),v=G(n("45h8")),b=G(n("+eSx")),w=G(n("2o5z")),x=G(n("QTq/")),k=G(n("m5sM")),E=G(n("mbFH")),S=G(n("NBE3")),C=G(n("z+Es")),I=G(n("Nrgg")),A=G(n("Zdlu")),P=G(n("fCuW")),T=G(n("HkEB")),O=G(n("G31G")),L=G(n("5vw/")),M=G(n("dkTa")),N=G(n("vONA")),R=G(n("sCiF")),D=G(n("mSAH")),z=G(n("SJ/V")),F=G(n("rT3r")),B=G(n("KcL1")),j=G(n("jDUc")),V=G(n("6D9Q")),U=G(n("5hfJ")),q=n("jH9d");function G(t){return t&&t.__esModule?t:{default:t}}Object.keys(q).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(i,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return q[t]}}))})},jLWS:function(t,e,n){"use strict";t.exports={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"}},jS43:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutProperties=e.PaintProperties=void 0;var o=n("/R7+"),a=function(t){function e(e){var n=t.call(this)||this;return n.heatmapRadius=e["heatmap-radius"]||30,n.heatmapWeight=e["heatmap-weight"]||1,n.heatmapIntensity=e["heatmap-intensity"]||1,n.heatmapOpacity=e["heatmap-opacity"]||1,n.heatmapColor=e["heatmap-color"]||"",n}return r(e,t),e}(o.Serializable);e.PaintProperties=a;var s=function(t){function e(e){var n=t.call(this)||this;return n.visibility=e.visibility||"visible",n}return r(e,t),e}(o.Serializable);e.LayoutProperties=s;var u=function(t){function e(e){var n=t.call(this,e)||this;return n.paint=new a(e.paint||{}),n.layout=new s(e.layout||{}),n}return r(e,t),e}(o.default);e.default=u},jSPq:function(t,e,n){var i=n("Wogr"),r=n("JzKC");function o(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}o.prototype.initialize=function(t){this.degree=t,this.genPoly=r.generateECPolynomial(this.degree)},o.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");var e=new i(this.degree);e.fill(0);var n=i.concat([t,e],t.length+this.degree),o=r.mod(n,this.genPoly),a=this.degree-o.length;if(a>0){var s=new i(this.degree);return s.fill(0),o.copy(s,a),s}return o},t.exports=o},jXTf:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.FloorModel=void 0;var o=function(t){function e(e){var n=t.call(this,e)||this;return n.name=e.name,n.placeId=e.place_id,n.placeName=e.place_name,n.floorplanImageUrl=e.floorplan_image_url,n.level=e.level||0,e.anchors&&(n.anchors=[[e.anchors[0].lng,e.anchors[0].lat],[e.anchors[1].lng,e.anchors[1].lat],[e.anchors[3].lng,e.anchors[3].lat],[e.anchors[2].lng,e.anchors[2].lat]]),n.editor=e.editor,n.geopoint=e.geopoint,n.remoteId=e.remote_id,n}return r(e,t),Object.defineProperty(e.prototype,"hasFloorplan",{get:function(){return!!(this.floorplanImageUrl&&this.floorplanImageUrl.length>1&&this.anchors)},enumerable:!1,configurable:!0}),e}(n("Ow4I").default);e.FloorModel=o},"jfS+":function(t,e,n){"use strict";var i=n("endd");function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new i(t),e(n.reason))})}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r(function(e){t=e}),cancel:t}},t.exports=r},jxQj:function(t,e,n){var i;!function(){var r={y:function(t){return 1===t?"\u03c7\u03c1\u03cc\u03bd\u03bf\u03c2":"\u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},mo:function(t){return 1===t?"\u03bc\u03ae\u03bd\u03b1\u03c2":"\u03bc\u03ae\u03bd\u03b5\u03c2"},w:function(t){return 1===t?"\u03b5\u03b2\u03b4\u03bf\u03bc\u03ac\u03b4\u03b1":"\u03b5\u03b2\u03b4\u03bf\u03bc\u03ac\u03b4\u03b5\u03c2"},d:function(t){return 1===t?"\u03bc\u03ad\u03c1\u03b1":"\u03bc\u03ad\u03c1\u03b5\u03c2"},h:function(t){return 1===t?"\u03ce\u03c1\u03b1":"\u03ce\u03c1\u03b5\u03c2"},m:function(t){return 1===t?"\u03bb\u03b5\u03c0\u03c4\u03cc":"\u03bb\u03b5\u03c0\u03c4\u03ac"},s:function(t){return 1===t?"\u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03bf":"\u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1"},ms:function(t){return(1===t?"\u03c7\u03b9\u03bb\u03b9\u03bf\u03c3\u03c4\u03cc":"\u03c7\u03b9\u03bb\u03b9\u03bf\u03c3\u03c4\u03ac")+" \u03c4\u03bf\u03c5 \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03bf\u03bb\u03ad\u03c0\u03c4\u03bf\u03c5"},decimal:","},o=["\u06f0","\u0661","\u0662","\u0663","\u0664","\u0665","\u0666","\u0667","\u0668","\u0669"],a={af:{y:"jaar",mo:function(t){return"maand"+(1===t?"":"e")},w:function(t){return 1===t?"week":"weke"},d:function(t){return 1===t?"dag":"dae"},h:function(t){return 1===t?"uur":"ure"},m:function(t){return 1===t?"minuut":"minute"},s:function(t){return"sekonde"+(1===t?"":"s")},ms:function(t){return"millisekonde"+(1===t?"":"s")},decimal:","},ar:{y:function(t){return["\u0633\u0646\u0629","\u0633\u0646\u062a\u0627\u0646","\u0633\u0646\u0648\u0627\u062a"][h(t)]},mo:function(t){return["\u0634\u0647\u0631","\u0634\u0647\u0631\u0627\u0646","\u0623\u0634\u0647\u0631"][h(t)]},w:function(t){return["\u0623\u0633\u0628\u0648\u0639","\u0623\u0633\u0628\u0648\u0639\u064a\u0646","\u0623\u0633\u0627\u0628\u064a\u0639"][h(t)]},d:function(t){return["\u064a\u0648\u0645","\u064a\u0648\u0645\u064a\u0646","\u0623\u064a\u0627\u0645"][h(t)]},h:function(t){return["\u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u062a\u064a\u0646","\u0633\u0627\u0639\u0627\u062a"][h(t)]},m:function(t){return["\u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u0627\u0626\u0642"][h(t)]},s:function(t){return["\u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0648\u0627\u0646\u064a"][h(t)]},ms:function(t){return["\u062c\u0632\u0621 \u0645\u0646 \u0627\u0644\u062b\u0627\u0646\u064a\u0629","\u062c\u0632\u0622\u0646 \u0645\u0646 \u0627\u0644\u062b\u0627\u0646\u064a\u0629","\u0623\u062c\u0632\u0627\u0621 \u0645\u0646 \u0627\u0644\u062b\u0627\u0646\u064a\u0629"][h(t)]},decimal:",",delimiter:" \u0648 ",_formatCount:function(t,e){for(var n=c(o,{".":e}),i=t.toString().split(""),r=0;r<i.length;r++){var a=i[r];y(n,a)&&(i[r]=n[a])}return i.join("")}},bg:{y:function(t){return["\u0433\u043e\u0434\u0438\u043d\u0438","\u0433\u043e\u0434\u0438\u043d\u0430","\u0433\u043e\u0434\u0438\u043d\u0438"][f(t)]},mo:function(t){return["\u043c\u0435\u0441\u0435\u0446\u0430","\u043c\u0435\u0441\u0435\u0446","\u043c\u0435\u0441\u0435\u0446\u0430"][f(t)]},w:function(t){return["\u0441\u0435\u0434\u043c\u0438\u0446\u0438","\u0441\u0435\u0434\u043c\u0438\u0446\u0430","\u0441\u0435\u0434\u043c\u0438\u0446\u0438"][f(t)]},d:function(t){return["\u0434\u043d\u0438","\u0434\u0435\u043d","\u0434\u043d\u0438"][f(t)]},h:function(t){return["\u0447\u0430\u0441\u0430","\u0447\u0430\u0441","\u0447\u0430\u0441\u0430"][f(t)]},m:function(t){return["\u043c\u0438\u043d\u0443\u0442\u0438","\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u0438"][f(t)]},s:function(t){return["\u0441\u0435\u043a\u0443\u043d\u0434\u0438","\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u0438"][f(t)]},ms:function(t){return["\u043c\u0438\u043b\u0438\u0441\u0435\u043a\u0443\u043d\u0434\u0438","\u043c\u0438\u043b\u0438\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u043c\u0438\u043b\u0438\u0441\u0435\u043a\u0443\u043d\u0434\u0438"][f(t)]},decimal:","},bn:{y:"\u09ac\u099b\u09b0",mo:"\u09ae\u09be\u09b8",w:"\u09b8\u09aa\u09cd\u09a4\u09be\u09b9",d:"\u09a6\u09bf\u09a8",h:"\u0998\u09a8\u09cd\u099f\u09be",m:"\u09ae\u09bf\u09a8\u09bf\u099f",s:"\u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ms:"\u09ae\u09bf\u09b2\u09bf\u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1"},ca:{y:function(t){return"any"+(1===t?"":"s")},mo:function(t){return"mes"+(1===t?"":"os")},w:function(t){return"setman"+(1===t?"a":"es")},d:function(t){return"di"+(1===t?"a":"es")},h:function(t){return"hor"+(1===t?"a":"es")},m:function(t){return"minut"+(1===t?"":"s")},s:function(t){return"segon"+(1===t?"":"s")},ms:function(t){return"milisegon"+(1===t?"":"s")},decimal:","},cs:{y:function(t){return["rok","roku","roky","let"][d(t)]},mo:function(t){return["m\u011bs\xedc","m\u011bs\xedce","m\u011bs\xedce","m\u011bs\xedc\u016f"][d(t)]},w:function(t){return["t\xfdden","t\xfddne","t\xfddny","t\xfddn\u016f"][d(t)]},d:function(t){return["den","dne","dny","dn\xed"][d(t)]},h:function(t){return["hodina","hodiny","hodiny","hodin"][d(t)]},m:function(t){return["minuta","minuty","minuty","minut"][d(t)]},s:function(t){return["sekunda","sekundy","sekundy","sekund"][d(t)]},ms:function(t){return["milisekunda","milisekundy","milisekundy","milisekund"][d(t)]},decimal:","},cy:{y:"flwyddyn",mo:"mis",w:"wythnos",d:"diwrnod",h:"awr",m:"munud",s:"eiliad",ms:"milieiliad"},da:{y:"\xe5r",mo:function(t){return"m\xe5ned"+(1===t?"":"er")},w:function(t){return"uge"+(1===t?"":"r")},d:function(t){return"dag"+(1===t?"":"e")},h:function(t){return"time"+(1===t?"":"r")},m:function(t){return"minut"+(1===t?"":"ter")},s:function(t){return"sekund"+(1===t?"":"er")},ms:function(t){return"millisekund"+(1===t?"":"er")},decimal:","},de:{y:function(t){return"Jahr"+(1===t?"":"e")},mo:function(t){return"Monat"+(1===t?"":"e")},w:function(t){return"Woche"+(1===t?"":"n")},d:function(t){return"Tag"+(1===t?"":"e")},h:function(t){return"Stunde"+(1===t?"":"n")},m:function(t){return"Minute"+(1===t?"":"n")},s:function(t){return"Sekunde"+(1===t?"":"n")},ms:function(t){return"Millisekunde"+(1===t?"":"n")},decimal:","},el:r,en:{y:function(t){return"year"+(1===t?"":"s")},mo:function(t){return"month"+(1===t?"":"s")},w:function(t){return"week"+(1===t?"":"s")},d:function(t){return"day"+(1===t?"":"s")},h:function(t){return"hour"+(1===t?"":"s")},m:function(t){return"minute"+(1===t?"":"s")},s:function(t){return"second"+(1===t?"":"s")},ms:function(t){return"millisecond"+(1===t?"":"s")},decimal:"."},eo:{y:function(t){return"jaro"+(1===t?"":"j")},mo:function(t){return"monato"+(1===t?"":"j")},w:function(t){return"semajno"+(1===t?"":"j")},d:function(t){return"tago"+(1===t?"":"j")},h:function(t){return"horo"+(1===t?"":"j")},m:function(t){return"minuto"+(1===t?"":"j")},s:function(t){return"sekundo"+(1===t?"":"j")},ms:function(t){return"milisekundo"+(1===t?"":"j")},decimal:","},es:{y:function(t){return"a\xf1o"+(1===t?"":"s")},mo:function(t){return"mes"+(1===t?"":"es")},w:function(t){return"semana"+(1===t?"":"s")},d:function(t){return"d\xeda"+(1===t?"":"s")},h:function(t){return"hora"+(1===t?"":"s")},m:function(t){return"minuto"+(1===t?"":"s")},s:function(t){return"segundo"+(1===t?"":"s")},ms:function(t){return"milisegundo"+(1===t?"":"s")},decimal:","},et:{y:function(t){return"aasta"+(1===t?"":"t")},mo:function(t){return"kuu"+(1===t?"":"d")},w:function(t){return"n\xe4dal"+(1===t?"":"at")},d:function(t){return"p\xe4ev"+(1===t?"":"a")},h:function(t){return"tund"+(1===t?"":"i")},m:function(t){return"minut"+(1===t?"":"it")},s:function(t){return"sekund"+(1===t?"":"it")},ms:function(t){return"millisekund"+(1===t?"":"it")},decimal:","},eu:{y:"urte",mo:"hilabete",w:"aste",d:"egun",h:"ordu",m:"minutu",s:"segundo",ms:"milisegundo",decimal:","},fa:{y:"\u0633\u0627\u0644",mo:"\u0645\u0627\u0647",w:"\u0647\u0641\u062a\u0647",d:"\u0631\u0648\u0632",h:"\u0633\u0627\u0639\u062a",m:"\u062f\u0642\u06cc\u0642\u0647",s:"\u062b\u0627\u0646\u06cc\u0647",ms:"\u0645\u06cc\u0644\u06cc \u062b\u0627\u0646\u06cc\u0647",decimal:"."},fi:{y:function(t){return 1===t?"vuosi":"vuotta"},mo:function(t){return 1===t?"kuukausi":"kuukautta"},w:function(t){return"viikko"+(1===t?"":"a")},d:function(t){return"p\xe4iv\xe4"+(1===t?"":"\xe4")},h:function(t){return"tunti"+(1===t?"":"a")},m:function(t){return"minuutti"+(1===t?"":"a")},s:function(t){return"sekunti"+(1===t?"":"a")},ms:function(t){return"millisekunti"+(1===t?"":"a")},decimal:","},fo:{y:"\xe1r",mo:function(t){return 1===t?"m\xe1na\xf0ur":"m\xe1na\xf0ir"},w:function(t){return 1===t?"vika":"vikur"},d:function(t){return 1===t?"dagur":"dagar"},h:function(t){return 1===t?"t\xedmi":"t\xedmar"},m:function(t){return 1===t?"minuttur":"minuttir"},s:"sekund",ms:"millisekund",decimal:","},fr:{y:function(t){return"an"+(t>=2?"s":"")},mo:"mois",w:function(t){return"semaine"+(t>=2?"s":"")},d:function(t){return"jour"+(t>=2?"s":"")},h:function(t){return"heure"+(t>=2?"s":"")},m:function(t){return"minute"+(t>=2?"s":"")},s:function(t){return"seconde"+(t>=2?"s":"")},ms:function(t){return"milliseconde"+(t>=2?"s":"")},decimal:","},gr:r,he:{y:function(t){return 1===t?"\u05e9\u05e0\u05d4":"\u05e9\u05e0\u05d9\u05dd"},mo:function(t){return 1===t?"\u05d7\u05d5\u05d3\u05e9":"\u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},w:function(t){return 1===t?"\u05e9\u05d1\u05d5\u05e2":"\u05e9\u05d1\u05d5\u05e2\u05d5\u05ea"},d:function(t){return 1===t?"\u05d9\u05d5\u05dd":"\u05d9\u05de\u05d9\u05dd"},h:function(t){return 1===t?"\u05e9\u05e2\u05d4":"\u05e9\u05e2\u05d5\u05ea"},m:function(t){return 1===t?"\u05d3\u05e7\u05d4":"\u05d3\u05e7\u05d5\u05ea"},s:function(t){return 1===t?"\u05e9\u05e0\u05d9\u05d4":"\u05e9\u05e0\u05d9\u05d5\u05ea"},ms:function(t){return 1===t?"\u05de\u05d9\u05dc\u05d9\u05e9\u05e0\u05d9\u05d9\u05d4":"\u05de\u05d9\u05dc\u05d9\u05e9\u05e0\u05d9\u05d5\u05ea"},decimal:"."},hr:{y:function(t){return t%10==2||t%10==3||t%10==4?"godine":"godina"},mo:function(t){return 1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci"},w:function(t){return t%10==1&&11!==t?"tjedan":"tjedna"},d:function(t){return 1===t?"dan":"dana"},h:function(t){return 1===t?"sat":2===t||3===t||4===t?"sata":"sati"},m:function(t){var e=t%10;return 2!==e&&3!==e&&4!==e||!(t<10||t>14)?"minuta":"minute"},s:function(t){var e=t%10;return 5===e||Math.floor(t)===t&&t>=10&&t<=19?"sekundi":1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi"},ms:function(t){return 1===t?"milisekunda":t%10==2||t%10==3||t%10==4?"milisekunde":"milisekundi"},decimal:","},hi:{y:"\u0938\u093e\u0932",mo:function(t){return 1===t?"\u092e\u0939\u0940\u0928\u093e":"\u092e\u0939\u0940\u0928\u0947"},w:function(t){return 1===t?"\u0939\u095e\u094d\u0924\u093e":"\u0939\u092b\u094d\u0924\u0947"},d:"\u0926\u093f\u0928",h:function(t){return 1===t?"\u0918\u0902\u091f\u093e":"\u0918\u0902\u091f\u0947"},m:"\u092e\u093f\u0928\u091f",s:"\u0938\u0947\u0915\u0902\u0921",ms:"\u092e\u093f\u0932\u0940\u0938\u0947\u0915\u0902\u0921",decimal:"."},hu:{y:"\xe9v",mo:"h\xf3nap",w:"h\xe9t",d:"nap",h:"\xf3ra",m:"perc",s:"m\xe1sodperc",ms:"ezredm\xe1sodperc",decimal:","},id:{y:"tahun",mo:"bulan",w:"minggu",d:"hari",h:"jam",m:"menit",s:"detik",ms:"milidetik",decimal:"."},is:{y:"\xe1r",mo:function(t){return"m\xe1nu\xf0"+(1===t?"ur":"ir")},w:function(t){return"vik"+(1===t?"a":"ur")},d:function(t){return"dag"+(1===t?"ur":"ar")},h:function(t){return"klukkut\xedm"+(1===t?"i":"ar")},m:function(t){return"m\xedn\xfat"+(1===t?"a":"ur")},s:function(t){return"sek\xfand"+(1===t?"a":"ur")},ms:function(t){return"millisek\xfand"+(1===t?"a":"ur")},decimal:"."},it:{y:function(t){return"ann"+(1===t?"o":"i")},mo:function(t){return"mes"+(1===t?"e":"i")},w:function(t){return"settiman"+(1===t?"a":"e")},d:function(t){return"giorn"+(1===t?"o":"i")},h:function(t){return"or"+(1===t?"a":"e")},m:function(t){return"minut"+(1===t?"o":"i")},s:function(t){return"second"+(1===t?"o":"i")},ms:function(t){return"millisecond"+(1===t?"o":"i")},decimal:","},ja:{y:"\u5e74",mo:"\u30f6\u6708",w:"\u9031",d:"\u65e5",h:"\u6642\u9593",m:"\u5206",s:"\u79d2",ms:"\u30df\u30ea\u79d2",decimal:"."},km:{y:"\u1786\u17d2\u1793\u17b6\u17c6",mo:"\u1781\u17c2",w:"\u179f\u1794\u17d2\u178f\u17b6\u17a0\u17cd",d:"\u1790\u17d2\u1784\u17c3",h:"\u1798\u17c9\u17c4\u1784",m:"\u1793\u17b6\u1791\u17b8",s:"\u179c\u17b7\u1793\u17b6\u1791\u17b8",ms:"\u1798\u17b7\u179b\u17d2\u179b\u17b8\u179c\u17b7\u1793\u17b6\u1791\u17b8"},kn:{y:function(t){return 1===t?"\u0cb5\u0cb0\u0ccd\u0cb7":"\u0cb5\u0cb0\u0ccd\u0cb7\u0c97\u0cb3\u0cc1"},mo:function(t){return 1===t?"\u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1":"\u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1\u0c97\u0cb3\u0cc1"},w:function(t){return 1===t?"\u0cb5\u0cbe\u0cb0":"\u0cb5\u0cbe\u0cb0\u0c97\u0cb3\u0cc1"},d:function(t){return 1===t?"\u0ca6\u0cbf\u0ca8":"\u0ca6\u0cbf\u0ca8\u0c97\u0cb3\u0cc1"},h:function(t){return 1===t?"\u0c97\u0c82\u0c9f\u0cc6":"\u0c97\u0c82\u0c9f\u0cc6\u0c97\u0cb3\u0cc1"},m:function(t){return 1===t?"\u0ca8\u0cbf\u0cae\u0cbf\u0cb7":"\u0ca8\u0cbf\u0cae\u0cbf\u0cb7\u0c97\u0cb3\u0cc1"},s:function(t){return 1===t?"\u0cb8\u0cc6\u0c95\u0cc6\u0c82\u0ca1\u0ccd":"\u0cb8\u0cc6\u0c95\u0cc6\u0c82\u0ca1\u0cc1\u0c97\u0cb3\u0cc1"},ms:function(t){return 1===t?"\u0cae\u0cbf\u0cb2\u0cbf\u0cb8\u0cc6\u0c95\u0cc6\u0c82\u0ca1\u0ccd":"\u0cae\u0cbf\u0cb2\u0cbf\u0cb8\u0cc6\u0c95\u0cc6\u0c82\u0ca1\u0cc1\u0c97\u0cb3\u0cc1"}},ko:{y:"\ub144",mo:"\uac1c\uc6d4",w:"\uc8fc\uc77c",d:"\uc77c",h:"\uc2dc\uac04",m:"\ubd84",s:"\ucd08",ms:"\ubc00\ub9ac \ucd08",decimal:"."},ku:{y:"sal",mo:"meh",w:"hefte",d:"roj",h:"seet",m:"deqe",s:"saniye",ms:"m\xeel\xee\xe7irk",decimal:","},lo:{y:"\u0e9b\u0eb5",mo:"\u0ec0\u0e94\u0eb7\u0ead\u0e99",w:"\u0ead\u0eb2\u0e97\u0eb4\u0e94",d:"\u0ea1\u0eb7\u0ec9",h:"\u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",m:"\u0e99\u0eb2\u0e97\u0eb5",s:"\u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",ms:"\u0ea1\u0eb4\u0e99\u0ea5\u0eb4\u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",decimal:","},lt:{y:function(t){return t%10==0||t%100>=10&&t%100<=20?"met\u0173":"metai"},mo:function(t){return["m\u0117nuo","m\u0117nesiai","m\u0117nesi\u0173"][g(t)]},w:function(t){return["savait\u0117","savait\u0117s","savai\u010di\u0173"][g(t)]},d:function(t){return["diena","dienos","dien\u0173"][g(t)]},h:function(t){return["valanda","valandos","valand\u0173"][g(t)]},m:function(t){return["minut\u0117","minut\u0117s","minu\u010di\u0173"][g(t)]},s:function(t){return["sekund\u0117","sekund\u0117s","sekund\u017ei\u0173"][g(t)]},ms:function(t){return["milisekund\u0117","milisekund\u0117s","milisekund\u017ei\u0173"][g(t)]},decimal:","},lv:{y:function(t){return m(t)?"gads":"gadi"},mo:function(t){return m(t)?"m\u0113nesis":"m\u0113ne\u0161i"},w:function(t){return m(t)?"ned\u0113\u013ca":"ned\u0113\u013cas"},d:function(t){return m(t)?"diena":"dienas"},h:function(t){return m(t)?"stunda":"stundas"},m:function(t){return m(t)?"min\u016bte":"min\u016btes"},s:function(t){return m(t)?"sekunde":"sekundes"},ms:function(t){return m(t)?"milisekunde":"milisekundes"},decimal:","},mk:{y:function(t){return 1===t?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0438"},mo:function(t){return 1===t?"\u043c\u0435\u0441\u0435\u0446":"\u043c\u0435\u0441\u0435\u0446\u0438"},w:function(t){return 1===t?"\u043d\u0435\u0434\u0435\u043b\u0430":"\u043d\u0435\u0434\u0435\u043b\u0438"},d:function(t){return 1===t?"\u0434\u0435\u043d":"\u0434\u0435\u043d\u0430"},h:function(t){return 1===t?"\u0447\u0430\u0441":"\u0447\u0430\u0441\u0430"},m:function(t){return 1===t?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0438"},s:function(t){return 1===t?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430":"\u0441\u0435\u043a\u0443\u043d\u0434\u0438"},ms:function(t){return 1===t?"\u043c\u0438\u043b\u0438\u0441\u0435\u043a\u0443\u043d\u0434\u0430":"\u043c\u0438\u043b\u0438\u0441\u0435\u043a\u0443\u043d\u0434\u0438"},decimal:","},mr:{y:function(t){return 1===t?"\u0935\u0930\u094d\u0937":"\u0935\u0930\u094d\u0937\u0947"},mo:function(t){return 1===t?"\u092e\u0939\u093f\u0928\u093e":"\u092e\u0939\u093f\u0928\u0947"},w:function(t){return 1===t?"\u0906\u0920\u0935\u0921\u093e":"\u0906\u0920\u0935\u0921\u0947"},d:"\u0926\u093f\u0935\u0938",h:"\u0924\u093e\u0938",m:function(t){return 1===t?"\u092e\u093f\u0928\u093f\u091f":"\u092e\u093f\u0928\u093f\u091f\u0947"},s:"\u0938\u0947\u0915\u0902\u0926",ms:"\u092e\u093f\u0932\u093f\u0938\u0947\u0915\u0902\u0926"},ms:{y:"tahun",mo:"bulan",w:"minggu",d:"hari",h:"jam",m:"minit",s:"saat",ms:"milisaat",decimal:"."},nl:{y:"jaar",mo:function(t){return 1===t?"maand":"maanden"},w:function(t){return 1===t?"week":"weken"},d:function(t){return 1===t?"dag":"dagen"},h:"uur",m:function(t){return 1===t?"minuut":"minuten"},s:function(t){return 1===t?"seconde":"seconden"},ms:function(t){return 1===t?"milliseconde":"milliseconden"},decimal:","},no:{y:"\xe5r",mo:function(t){return"m\xe5ned"+(1===t?"":"er")},w:function(t){return"uke"+(1===t?"":"r")},d:function(t){return"dag"+(1===t?"":"er")},h:function(t){return"time"+(1===t?"":"r")},m:function(t){return"minutt"+(1===t?"":"er")},s:function(t){return"sekund"+(1===t?"":"er")},ms:function(t){return"millisekund"+(1===t?"":"er")},decimal:","},pl:{y:function(t){return["rok","roku","lata","lat"][p(t)]},mo:function(t){return["miesi\u0105c","miesi\u0105ca","miesi\u0105ce","miesi\u0119cy"][p(t)]},w:function(t){return["tydzie\u0144","tygodnia","tygodnie","tygodni"][p(t)]},d:function(t){return["dzie\u0144","dnia","dni","dni"][p(t)]},h:function(t){return["godzina","godziny","godziny","godzin"][p(t)]},m:function(t){return["minuta","minuty","minuty","minut"][p(t)]},s:function(t){return["sekunda","sekundy","sekundy","sekund"][p(t)]},ms:function(t){return["milisekunda","milisekundy","milisekundy","milisekund"][p(t)]},decimal:","},pt:{y:function(t){return"ano"+(1===t?"":"s")},mo:function(t){return 1===t?"m\xeas":"meses"},w:function(t){return"semana"+(1===t?"":"s")},d:function(t){return"dia"+(1===t?"":"s")},h:function(t){return"hora"+(1===t?"":"s")},m:function(t){return"minuto"+(1===t?"":"s")},s:function(t){return"segundo"+(1===t?"":"s")},ms:function(t){return"milissegundo"+(1===t?"":"s")},decimal:","},ro:{y:function(t){return 1===t?"an":"ani"},mo:function(t){return 1===t?"lun\u0103":"luni"},w:function(t){return 1===t?"s\u0103pt\u0103m\xe2n\u0103":"s\u0103pt\u0103m\xe2ni"},d:function(t){return 1===t?"zi":"zile"},h:function(t){return 1===t?"or\u0103":"ore"},m:function(t){return 1===t?"minut":"minute"},s:function(t){return 1===t?"secund\u0103":"secunde"},ms:function(t){return 1===t?"milisecund\u0103":"milisecunde"},decimal:","},ru:{y:function(t){return["\u043b\u0435\u0442","\u0433\u043e\u0434","\u0433\u043e\u0434\u0430"][f(t)]},mo:function(t){return["\u043c\u0435\u0441\u044f\u0446\u0435\u0432","\u043c\u0435\u0441\u044f\u0446","\u043c\u0435\u0441\u044f\u0446\u0430"][f(t)]},w:function(t){return["\u043d\u0435\u0434\u0435\u043b\u044c","\u043d\u0435\u0434\u0435\u043b\u044f","\u043d\u0435\u0434\u0435\u043b\u0438"][f(t)]},d:function(t){return["\u0434\u043d\u0435\u0439","\u0434\u0435\u043d\u044c","\u0434\u043d\u044f"][f(t)]},h:function(t){return["\u0447\u0430\u0441\u043e\u0432","\u0447\u0430\u0441","\u0447\u0430\u0441\u0430"][f(t)]},m:function(t){return["\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u044b"][f(t)]},s:function(t){return["\u0441\u0435\u043a\u0443\u043d\u0434","\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u044b"][f(t)]},ms:function(t){return["\u043c\u0438\u043b\u043b\u0438\u0441\u0435\u043a\u0443\u043d\u0434","\u043c\u0438\u043b\u043b\u0438\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u043c\u0438\u043b\u043b\u0438\u0441\u0435\u043a\u0443\u043d\u0434\u044b"][f(t)]},decimal:","},sq:{y:function(t){return 1===t?"vit":"vjet"},mo:"muaj",w:"jav\xeb",d:"dit\xeb",h:"or\xeb",m:function(t){return"minut"+(1===t?"\xeb":"a")},s:function(t){return"sekond"+(1===t?"\xeb":"a")},ms:function(t){return"milisekond"+(1===t?"\xeb":"a")},decimal:","},sr:{y:function(t){return["\u0433\u043e\u0434\u0438\u043d\u0438","\u0433\u043e\u0434\u0438\u043d\u0430","\u0433\u043e\u0434\u0438\u043d\u0435"][f(t)]},mo:function(t){return["\u043c\u0435\u0441\u0435\u0446\u0438","\u043c\u0435\u0441\u0435\u0446","\u043c\u0435\u0441\u0435\u0446\u0430"][f(t)]},w:function(t){return["\u043d\u0435\u0434\u0435\u0459\u0438","\u043d\u0435\u0434\u0435\u0459\u0430","\u043d\u0435\u0434\u0435\u0459\u0435"][f(t)]},d:function(t){return["\u0434\u0430\u043d\u0438","\u0434\u0430\u043d","\u0434\u0430\u043d\u0430"][f(t)]},h:function(t){return["\u0441\u0430\u0442\u0438","\u0441\u0430\u0442","\u0441\u0430\u0442\u0430"][f(t)]},m:function(t){return["\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442\u0430"][f(t)]},s:function(t){return["\u0441\u0435\u043a\u0443\u043d\u0434\u0438","\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u0435"][f(t)]},ms:function(t){return["\u043c\u0438\u043b\u0438\u0441\u0435\u043a\u0443\u043d\u0434\u0438","\u043c\u0438\u043b\u0438\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u043c\u0438\u043b\u0438\u0441\u0435\u043a\u0443\u043d\u0434\u0435"][f(t)]},decimal:","},ta:{y:function(t){return 1===t?"\u0bb5\u0bb0\u0bc1\u0b9f\u0bae\u0bcd":"\u0b86\u0ba3\u0bcd\u0b9f\u0bc1\u0b95\u0bb3\u0bcd"},mo:function(t){return 1===t?"\u0bae\u0bbe\u0ba4\u0bae\u0bcd":"\u0bae\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd"},w:function(t){return 1===t?"\u0bb5\u0bbe\u0bb0\u0bae\u0bcd":"\u0bb5\u0bbe\u0bb0\u0b99\u0bcd\u0b95\u0bb3\u0bcd"},d:function(t){return 1===t?"\u0ba8\u0bbe\u0bb3\u0bcd":"\u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd"},h:function(t){return 1===t?"\u0bae\u0ba3\u0bbf":"\u0bae\u0ba3\u0bbf\u0ba8\u0bc7\u0bb0\u0bae\u0bcd"},m:function(t){return"\u0ba8\u0bbf\u0bae\u0bbf\u0b9f"+(1===t?"\u0bae\u0bcd":"\u0b99\u0bcd\u0b95\u0bb3\u0bcd")},s:function(t){return"\u0bb5\u0bbf\u0ba9\u0bbe\u0b9f\u0bbf"+(1===t?"":"\u0b95\u0bb3\u0bcd")},ms:function(t){return"\u0bae\u0bbf\u0bb2\u0bcd\u0bb2\u0bbf \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf"+(1===t?"":"\u0b95\u0bb3\u0bcd")}},te:{y:function(t){return"\u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38"+(1===t?"\u0c30\u0c02":"\u0c30\u0c3e\u0c32")},mo:function(t){return"\u0c28\u0c46\u0c32"+(1===t?"":"\u0c32")},w:function(t){return 1===t?"\u0c35\u0c3e\u0c30\u0c02":"\u0c35\u0c3e\u0c30\u0c3e\u0c32\u0c41"},d:function(t){return"\u0c30\u0c4b\u0c1c\u0c41"+(1===t?"":"\u0c32\u0c41")},h:function(t){return"\u0c17\u0c02\u0c1f"+(1===t?"":"\u0c32\u0c41")},m:function(t){return 1===t?"\u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c02":"\u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c3e\u0c32\u0c41"},s:function(t){return 1===t?"\u0c38\u0c46\u0c15\u0c28\u0c41":"\u0c38\u0c46\u0c15\u0c28\u0c4d\u0c32\u0c41"},ms:function(t){return 1===t?"\u0c2e\u0c3f\u0c32\u0c4d\u0c32\u0c40\u0c38\u0c46\u0c15\u0c28\u0c4d":"\u0c2e\u0c3f\u0c32\u0c4d\u0c32\u0c40\u0c38\u0c46\u0c15\u0c28\u0c4d\u0c32\u0c41"}},uk:{y:function(t){return["\u0440\u043e\u043a\u0456\u0432","\u0440\u0456\u043a","\u0440\u043e\u043a\u0438"][f(t)]},mo:function(t){return["\u043c\u0456\u0441\u044f\u0446\u0456\u0432","\u043c\u0456\u0441\u044f\u0446\u044c","\u043c\u0456\u0441\u044f\u0446\u0456"][f(t)]},w:function(t){return["\u0442\u0438\u0436\u043d\u0456\u0432","\u0442\u0438\u0436\u0434\u0435\u043d\u044c","\u0442\u0438\u0436\u043d\u0456"][f(t)]},d:function(t){return["\u0434\u043d\u0456\u0432","\u0434\u0435\u043d\u044c","\u0434\u043d\u0456"][f(t)]},h:function(t){return["\u0433\u043e\u0434\u0438\u043d","\u0433\u043e\u0434\u0438\u043d\u0430","\u0433\u043e\u0434\u0438\u043d\u0438"][f(t)]},m:function(t){return["\u0445\u0432\u0438\u043b\u0438\u043d","\u0445\u0432\u0438\u043b\u0438\u043d\u0430","\u0445\u0432\u0438\u043b\u0438\u043d\u0438"][f(t)]},s:function(t){return["\u0441\u0435\u043a\u0443\u043d\u0434","\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u0438"][f(t)]},ms:function(t){return["\u043c\u0456\u043b\u0456\u0441\u0435\u043a\u0443\u043d\u0434","\u043c\u0456\u043b\u0456\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u043c\u0456\u043b\u0456\u0441\u0435\u043a\u0443\u043d\u0434\u0438"][f(t)]},decimal:","},ur:{y:"\u0633\u0627\u0644",mo:function(t){return 1===t?"\u0645\u06c1\u06cc\u0646\u06c1":"\u0645\u06c1\u06cc\u0646\u06d2"},w:function(t){return 1===t?"\u06c1\u0641\u062a\u06c1":"\u06c1\u0641\u062a\u06d2"},d:"\u062f\u0646",h:function(t){return 1===t?"\u06af\u06be\u0646\u0679\u06c1":"\u06af\u06be\u0646\u0679\u06d2"},m:"\u0645\u0646\u0679",s:"\u0633\u06cc\u06a9\u0646\u0688",ms:"\u0645\u0644\u06cc \u0633\u06cc\u06a9\u0646\u0688",decimal:"."},sk:{y:function(t){return["rok","roky","roky","rokov"][d(t)]},mo:function(t){return["mesiac","mesiace","mesiace","mesiacov"][d(t)]},w:function(t){return["t\xfd\u017ede\u0148","t\xfd\u017edne","t\xfd\u017edne","t\xfd\u017ed\u0148ov"][d(t)]},d:function(t){return["de\u0148","dni","dni","dn\xed"][d(t)]},h:function(t){return["hodina","hodiny","hodiny","hod\xedn"][d(t)]},m:function(t){return["min\xfata","min\xfaty","min\xfaty","min\xfat"][d(t)]},s:function(t){return["sekunda","sekundy","sekundy","sek\xfand"][d(t)]},ms:function(t){return["milisekunda","milisekundy","milisekundy","milisek\xfand"][d(t)]},decimal:","},sl:{y:function(t){return t%10==1?"leto":t%100==2?"leti":t%100==3||t%100==4||Math.floor(t)!==t&&t%100<=5?"leta":"let"},mo:function(t){return t%10==1?"mesec":t%100==2||Math.floor(t)!==t&&t%100<=5?"meseca":t%10==3||t%10==4?"mesece":"mesecev"},w:function(t){return t%10==1?"teden":t%10==2||Math.floor(t)!==t&&t%100<=4?"tedna":t%10==3||t%10==4?"tedne":"tednov"},d:function(t){return t%100==1?"dan":"dni"},h:function(t){return t%10==1?"ura":t%100==2?"uri":t%10==3||t%10==4||Math.floor(t)!==t?"ure":"ur"},m:function(t){return t%10==1?"minuta":t%10==2?"minuti":t%10==3||t%10==4||Math.floor(t)!==t&&t%100<=4?"minute":"minut"},s:function(t){return t%10==1?"sekunda":t%100==2?"sekundi":t%100==3||t%100==4||Math.floor(t)!==t?"sekunde":"sekund"},ms:function(t){return t%10==1?"milisekunda":t%100==2?"milisekundi":t%100==3||t%100==4||Math.floor(t)!==t?"milisekunde":"milisekund"},decimal:","},sv:{y:"\xe5r",mo:function(t){return"m\xe5nad"+(1===t?"":"er")},w:function(t){return"veck"+(1===t?"a":"or")},d:function(t){return"dag"+(1===t?"":"ar")},h:function(t){return"timm"+(1===t?"e":"ar")},m:function(t){return"minut"+(1===t?"":"er")},s:function(t){return"sekund"+(1===t?"":"er")},ms:function(t){return"millisekund"+(1===t?"":"er")},decimal:","},sw:{y:function(t){return 1===t?"mwaka":"miaka"},mo:function(t){return 1===t?"mwezi":"miezi"},w:"wiki",d:function(t){return 1===t?"siku":"masiku"},h:function(t){return 1===t?"saa":"masaa"},m:"dakika",s:"sekunde",ms:"milisekunde",decimal:".",_numberFirst:!0},tr:{y:"y\u0131l",mo:"ay",w:"hafta",d:"g\xfcn",h:"saat",m:"dakika",s:"saniye",ms:"milisaniye",decimal:","},th:{y:"\u0e1b\u0e35",mo:"\u0e40\u0e14\u0e37\u0e2d\u0e19",w:"\u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",d:"\u0e27\u0e31\u0e19",h:"\u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",m:"\u0e19\u0e32\u0e17\u0e35",s:"\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ms:"\u0e21\u0e34\u0e25\u0e25\u0e34\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",decimal:"."},vi:{y:"n\u0103m",mo:"th\xe1ng",w:"tu\u1ea7n",d:"ng\xe0y",h:"gi\u1edd",m:"ph\xfat",s:"gi\xe2y",ms:"mili gi\xe2y",decimal:","},zh_CN:{y:"\u5e74",mo:"\u4e2a\u6708",w:"\u5468",d:"\u5929",h:"\u5c0f\u65f6",m:"\u5206\u949f",s:"\u79d2",ms:"\u6beb\u79d2",decimal:"."},zh_TW:{y:"\u5e74",mo:"\u500b\u6708",w:"\u5468",d:"\u5929",h:"\u5c0f\u6642",m:"\u5206\u9418",s:"\u79d2",ms:"\u6beb\u79d2",decimal:"."}};function s(t){return c(function t(e,n){return function(t,e){var n,i,r;t=Math.abs(t);var o,s,u,c=function(t){var e=[t.language];if(y(t,"fallbacks")){if(!_(t.fallbacks)||!t.fallbacks.length)throw new Error("fallbacks must be an array with at least one element");e=e.concat(t.fallbacks)}for(var n=0;n<e.length;n++){var i=e[n];if(y(t.languages,i))return t.languages[i];if(y(a,i))return a[i]}throw new Error("No language found.")}(e),h=[];for(n=0,i=e.units.length;n<i;n++){if(s=e.unitMeasures[o=e.units[n]],n+1===i)if(y(e,"maxDecimalPoints")){var p=Math.pow(10,e.maxDecimalPoints);u=parseFloat((Math.floor(p*(t/s))/p).toFixed(e.maxDecimalPoints))}else u=t/s;else u=Math.floor(t/s);h.push({unitCount:u,unitName:o}),t-=u*s}var f,d,g=0;for(n=0;n<h.length;n++)if(h[n].unitCount){g=n;break}if(e.round)for(n=h.length-1;n>=0&&((r=h[n]).unitCount=Math.round(r.unitCount),0!==n);n--)(r.unitCount%(f=e.unitMeasures[(d=h[n-1]).unitName]/e.unitMeasures[r.unitName])==0||e.largest&&e.largest-1<n-g)&&(d.unitCount+=r.unitCount/f,r.unitCount=0);var m,v=[];for(n=0;n<i&&((r=h[n]).unitCount&&v.push(l(r.unitCount,r.unitName,c,e)),v.length!==e.largest);n++);return v.length?(m=y(e,"delimiter")?e.delimiter:y(c,"delimiter")?c.delimiter:", ",e.conjunction&&1!==v.length?2===v.length?v.join(e.conjunction):v.length>2?v.slice(0,-1).join(m)+(e.serialComma?",":"")+e.conjunction+v.slice(-1):void 0:v.join(m)):l(0,e.units[e.units.length-1],c,e)}(e,c({},t,n||{}))},{language:"en",spacer:" ",conjunction:"",serialComma:!0,units:["y","mo","w","d","h","m","s"],languages:{},round:!1,unitMeasures:{y:315576e5,mo:26298e5,w:6048e5,d:864e5,h:36e5,m:6e4,s:1e3,ms:1}},t)}var u=s({});function l(t,e,n,i){var r,o;r=y(i,"decimal")?i.decimal:y(n,"decimal")?n.decimal:".",o="function"==typeof n._formatCount?n._formatCount(t,r):t.toString().replace(".",r);var a,s=n[e];return a="function"==typeof s?s(t):s,n._numberFirst?a+i.spacer+o:o+i.spacer+a}function c(t){for(var e,n=1;n<arguments.length;n++)for(var i in e=arguments[n])y(e,i)&&(t[i]=e[i]);return t}function h(t){return 1===t?0:2===t?1:t>2&&t<11?2:0}function p(t){return 1===t?0:Math.floor(t)!==t?1:t%10>=2&&t%10<=4&&!(t%100>10&&t%100<20)?2:3}function f(t){return Math.floor(t)!==t?2:t%100>=5&&t%100<=20||t%10>=5&&t%10<=9||t%10==0?0:t%10==1?1:t>1?2:0}function d(t){return 1===t?0:Math.floor(t)!==t?1:t%10>=2&&t%10<=4&&t%100<10?2:3}function g(t){return 1===t||t%10==1&&t%100>20?0:Math.floor(t)!==t||t%10>=2&&t%100>20||t%10>=2&&t%100<10?1:2}function m(t){return t%10==1&&t%100!=11}var _=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function y(t,e){return Object.prototype.hasOwnProperty.call(t,e)}u.getSupportedLanguages=function(){var t=[];for(var e in a)y(a,e)&&"gr"!==e&&t.push(e);return t},u.humanizer=s,void 0===(i=(function(){return u}).call(e,n,e,t))||(t.exports=i)}()},k9By:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{u(i.next(t))}catch(e){o(e)}}function s(t){try{u(i.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((i=i.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__spreadArray||function(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t};Object.defineProperty(e,"__esModule",{value:!0}),e.Map=e.globalState=void 0;var s=n("4ZJM"),u=n("CPnS"),l=n("ZYFb"),c=n("fpvS"),h=n("Jlhj"),p=n("jXTf"),f=n("j5an"),d=n("3het"),g=n("7j6n"),m=n("kw4C"),_=n("W5AY"),y=n("GPis"),v=n("IM0+"),b=n("Ijak"),w=n("J9h5"),x=n("llY3"),k=n("TAHI"),E=n("unae"),S=n("WVt+"),C=n("IbfU"),I=n("LiP9"),A=n("Fwbx"),P=n("7RNy"),T=n("X8jT"),O=n("0wsv"),L=n("NV5O"),M=n("lZA4");e.globalState={initializing:!0,floor:new p.FloorModel({}),floors:[],place:new h.PlaceModel({}),places:[],style:new f.default({}),styles:[],amenities:[],features:new m.FeatureCollection({}),dynamicFeatures:new m.FeatureCollection({}),allFeatures:new m.FeatureCollection({}),latitude:0,longitude:0,loadingRoute:!1,noPlaces:!1,textNavigation:null,persons:[],user:null};var N=function(){function t(t){var n=this;this.geojsonSource=new d.default(new m.FeatureCollection({})),this.syntheticSource=new g.default(new m.FeatureCollection({})),this.routingSource=new _.default,this.clusterSource=new y.default,this.imageSourceManager=new v.default,this.onMapReadyListener=new E.Subject,this.onPlaceSelectListener=new E.Subject,this.onFloorSelectListener=new E.Subject,this.onRouteFoundListener=new E.Subject,this.onRouteFailedListener=new E.Subject,this.onRouteCancelListener=new E.Subject,this.onFeatureAddListener=new E.Subject,this.onFeatureUpdateListener=new E.Subject,this.onFeatureDeleteListener=new E.Subject,this.onPolygonClickListener=new E.Subject,this.onPoiClickListener=new E.Subject,this.onPersonUpdateListener=new E.Subject,this.defaultOptions={selector:"proximiioMap",allowNewFeatureModal:!1,newFeatureModalEvent:"click",enableTBTNavigation:!0,zoomIntoPlace:!0,isKiosk:!1,initPolygons:!1,polygonsOptions:{defaultPolygonColor:"#dbd7e8",hoverPolygonColor:"#a58dfa",selectedPolygonColor:"#6945ed",defaultLabelColor:"#6945ed",hoverLabelColor:"#fff",selectedLabelColor:"#fff",defaultPolygonHeight:3,hoverPolygonHeight:3,selectedPolygonHeight:3,base:0,opacity:1,removeOriginalPolygonsLayer:!0,minZoom:17,maxZoom:24},considerVisibilityParam:!0,fitBoundsPadding:250,minFitBoundsDistance:15,showLevelDirectionIcon:!1,showRasterFloorplans:!1,animatedRoute:!1,useRasterTiles:!1,handleUrlParams:!1,urlParams:{startFeauture:"startFeature",destinationFeature:"destinationFeature",defaultPlace:"defaultPlace"},useGpsLocation:!1,geolocationControlOptions:{autoTrigger:!0,autoLocate:!0,position:"top-right"},language:"en",routeWithDetails:!0,blockFeatureClickWhileRouting:!1},this.showStartPoint=!1,this.amenityIds=[],this.filteredFeatures=[],this.hiddenFeatures=[],this.filteredAmenities=[],this.amenityFilters=[],this.hiddenAmenities=[],this.amenityCategories={},this.counter=0,this.arc={},this.steps=300,this.animationInstances=[],t.isKiosk&&t.mapboxOptions&&t.kioskSettings&&!t.mapboxOptions.center&&(t.mapboxOptions.center=t.kioskSettings.coordinates);var r=i(i({},this.defaultOptions.urlParams),t.urlParams),o=i(i({},this.defaultOptions.polygonsOptions),t.polygonsOptions);if(this.defaultOptions=i(i({},this.defaultOptions),t),this.defaultOptions.urlParams=r,this.defaultOptions.polygonsOptions=o,this.state=e.globalState,this.defaultOptions.isKiosk&&this.defaultOptions.useGpsLocation)throw new Error("It's not possible to use both isKiosk and useGpsLocation options as enabled!");this.map=new s.Map(i(i({},this.defaultOptions.mapboxOptions),{container:this.defaultOptions.selector?this.defaultOptions.selector:"map"})),this.map.on("load",function(t){n.onMapReady(t)}),this.onSourceChange=this.onSourceChange.bind(this),this.onSyntheticChange=this.onSyntheticChange.bind(this),this.onStyleChange=this.onStyleChange.bind(this),this.onStyleSelect=this.onStyleSelect.bind(this),this.onRouteUpdate=this.onRouteUpdate.bind(this),this.onRouteChange=this.onRouteChange.bind(this),this.onRouteCancel=this.onRouteCancel.bind(this),this.initialize()}return t.prototype.initialize=function(){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return this.geojsonSource.on(this.onSourceChange),this.syntheticSource.on(this.onSyntheticChange),this.routingSource.on(this.onRouteChange),[4,this.fetch()];case 1:return t.sent(),[2]}})})},t.prototype.cancelObservers=function(){return r(this,void 0,void 0,function(){return o(this,function(t){return this.geojsonSource.off(this.onSourceChange),this.syntheticSource.off(this.onSyntheticChange),this.state.style.off(this.onStyleChange),[2]})})},t.prototype.fetch=function(){var t,e,n;return r(this,void 0,void 0,function(){var r,a,s,c,p,f,d,g,_,y,v,b,w,x,k=this;return o(this,function(o){switch(o.label){case 0:return r=null,this.defaultOptions.handleUrlParams&&(a=new URLSearchParams(window.location.search),r=a.get(this.defaultOptions.urlParams.defaultPlace)),[4,u.default.getPackage(this.defaultOptions.initPolygons,this.defaultOptions.amenityIdProperty)];case 1:return s=o.sent(),c=s.places,p=s.style,f=s.styles,g=s.amenities,_=(d=s.features).features.filter(function(t){return"elevator"===t.properties.type||"escalator"===t.properties.type||"staircase"===t.properties.type}),[4,l.default.getCurrentUser()];case 2:return y=o.sent(),v=c.find(r?function(t){return t.id===r||t.name===r}:function(t){return t.id===k.defaultOptions.defaultPlaceId}),b=c.length>0?v||c[0]:new h.PlaceModel({}),w=[b.location.lng,b.location.lat],(null===(t=this.defaultOptions.mapboxOptions)||void 0===t?void 0:t.center)&&(w=this.defaultOptions.mapboxOptions.center),this.defaultOptions.isKiosk&&(w=null===(e=this.defaultOptions.kioskSettings)||void 0===e?void 0:e.coordinates),r&&(w=[b.location.lng,b.location.lat]),p.center=w,this.defaultOptions.mapboxOptions&&(this.defaultOptions.mapboxOptions.center=p.center),this.defaultOptions.zoomLevel&&(p.zoom=this.defaultOptions.zoomLevel),this.defaultOptions.language&&(this.geojsonSource.language=this.defaultOptions.language),this.defaultOptions.routeColor&&(x=p.layers.find(function(t){return"proximiio-routing-line-remaining"===t.id}))&&(x.paint["line-color"]=this.defaultOptions.routeColor),null!=this.defaultOptions.forceFloorLevel&&(this.routingSource.routing.forceFloorLevel=this.defaultOptions.forceFloorLevel),null!=this.defaultOptions.routeWithDetails&&(this.routingSource.routing.routeWithDetails=this.defaultOptions.routeWithDetails),this.geojsonSource.fetch(d),this.routingSource.routing.setData(new m.FeatureCollection(d)),this.prepareStyle(p),this.imageSourceManager.enabled=this.defaultOptions.showRasterFloorplans,this.imageSourceManager.belowLayer=p.usesPrefixes()?"proximiio-floors":"floors",this.imageSourceManager.initialize(),this.state=i(i({},this.state),{initializing:!1,place:b,places:c,style:p,styles:f,amenities:g,features:d,allFeatures:new m.FeatureCollection(d),levelChangers:new m.FeatureCollection({features:_}),latitude:w[1],longitude:w[0],zoom:this.defaultOptions.zoomLevel?this.defaultOptions.zoomLevel:null===(n=this.defaultOptions.mapboxOptions)||void 0===n?void 0:n.zoom,noPlaces:0===c.length,user:y}),p.on(this.onStyleChange),this.map.setStyle(this.state.style),this.map.setCenter(w),this.defaultOptions.allowNewFeatureModal&&this.map.on(this.defaultOptions.newFeatureModalEvent?this.defaultOptions.newFeatureModalEvent:"dblclick",function(t){k.featureDialog(t)}),this.defaultOptions.enableTBTNavigation&&(this.routeFactory=new I.RouteFactory(JSON.stringify(this.state.allFeatures.features),this.defaultOptions.language?this.defaultOptions.language:"en")),[2]}})})},t.prototype.onMapReady=function(t){var e,n;return r(this,void 0,void 0,function(){var i,r,a,s,u,l,c,h,p,f,d=this;return o(this,function(o){switch(o.label){case 0:return(i=t.target)?(null===(e=this.state.style)||void 0===e||e.togglePaths(!0),r=i.getLayer("routing-line-completed"),a=void 0===r&&void 0!==i.getLayer("proximiio-routing-line-completed"),s=i.getLayer("shops"),a?(i.moveLayer("proximiio-routing-line-completed","proximiio-outer_wall"),i.moveLayer("proximiio-routing-line-remaining","proximiio-outer_wall"),i.moveLayer("proximiio-paths","routing-line-completed")):r&&(s&&(i.moveLayer("routing-line-completed","proximiio-routing-symbols"),i.moveLayer("routing-line-remaining","proximiio-routing-symbols")),i.moveLayer("proximiio-paths","routing-line-completed")),(u=i.getLayer("proximiio-routing-symbols"))&&(u.filter.push(["match",["get","type"],["poi","poi-custom"],!1,!0]),this.state.style.getLayer("proximiio-routing-symbols").filter=u.filter,i.setFilter("proximiio-routing-symbols",u.filter)),i.setMaxZoom(30),[4,b.getImageFromBase64(w.chevron)]):[3,7];case 1:return l=o.sent(),[4,b.getImageFromBase64(w.person)];case 2:return c=o.sent(),[4,b.getImageFromBase64(w.floorchangeUpImage)];case 3:return h=o.sent(),[4,b.getImageFromBase64(w.floorchangeDownImage)];case 4:return p=o.sent(),[4,b.getImageFromBase64(w.popupImage)];case 5:return f=o.sent(),i.addImage("chevron_right",l),i.addImage("pulsing-dot",w.pulsingDot,{pixelRatio:2}),i.addImage("person",c),i.addImage("floorchange-up-image",h),i.addImage("floorchange-down-image",p),i.addImage("popup",f,{stretchX:[[25,55],[85,115]],stretchY:[[25,100]],content:[25,25,115,100],pixelRatio:2}),this.onSourceChange(),this.updateMapSource(this.geojsonSource),this.updateMapSource(this.routingSource),this.updateCluster(),this.updateImages(),this.filteredAmenities=this.amenityIds,this.imageSourceManager.setLevel(i,null===(n=this.state.floor)||void 0===n?void 0:n.level,this.state),[4,this.onPlaceSelect(this.state.place,this.defaultOptions.zoomIntoPlace)];case 6:o.sent(),this.defaultOptions.useRasterTiles&&this.initRasterTiles(),this.defaultOptions.initPolygons&&this.initPolygons(),this.defaultOptions.isKiosk&&this.initKiosk(),this.defaultOptions.useGpsLocation&&this.initGeoLocation(),this.defaultOptions.considerVisibilityParam&&this.handlePoiVisibility(),this.defaultOptions.showLevelDirectionIcon&&this.initDirectionIcon(),this.defaultOptions.animatedRoute&&this.initAnimatedRoute(),this.initPersonsMap(),this.map.on("click","proximiio-pois-icons",function(t){d.onShopClick(t)}),this.map.on("click","pois-icons",function(t){d.onShopClick(t)}),this.onMapReadyListener.next(!0),this.defaultOptions.handleUrlParams&&this.initUrlParams(),this.map.setStyle(this.state.style),o.label=7;case 7:return[2]}})})},t.prototype.onRefetch=function(){return r(this,void 0,void 0,function(){var t,e;return o(this,function(n){switch(n.label){case 0:return this.map?(console.log("data should be refetched"),[4,u.default.getPackage(this.defaultOptions.initPolygons,this.defaultOptions.amenityIdProperty)]):[3,2];case 1:t=n.sent().features,e=t.features.filter(function(t){return"elevator"===t.properties.type||"escalator"===t.properties.type||"staircase"===t.properties.type}),this.state=i(i({},this.state),{features:t,allFeatures:new m.FeatureCollection(t),levelChangers:new m.FeatureCollection({features:e})}),this.geojsonSource.fetch(this.state.features),this.onFeaturesChange(),n.label=2;case 2:return[2]}})})},t.prototype.initKiosk=function(){this.map&&(this.showStartPoint=!1,this.defaultOptions.kioskSettings&&(this.startPoint=S.point(this.defaultOptions.kioskSettings.coordinates,{level:this.defaultOptions.kioskSettings.level}),this.showStartPoint=!0,this.state.style.addSource("my-location",{type:"geojson",data:{type:"FeatureCollection",features:[this.startPoint]}}),this.state.style.addLayer({id:"my-location-layer",type:"symbol",source:"my-location",layout:{"icon-image":"pulsing-dot"},filter:["all",["==",["to-number",["get","level"]],this.state.floor.level]]}),this.centerOnPoi(this.startPoint)))},t.prototype.onSetKiosk=function(t,e,n){this.map&&this.defaultOptions.isKiosk&&(this.defaultOptions.kioskSettings={coordinates:[e,t],level:n},this.startPoint=S.point(this.defaultOptions.kioskSettings.coordinates,{level:this.defaultOptions.kioskSettings.level}),this.state.style.sources["my-location"].data={type:"FeatureCollection",features:[this.startPoint]},this.map.setFilter("my-location-layer",["all",["==",["to-number",["get","level"]],n]]),this.map.setStyle(this.state.style),this.centerOnPoi(this.startPoint))},t.prototype.initGeoLocation=function(){var t=this;if(this.map&&this.defaultOptions.useGpsLocation){var e=new s.GeolocateControl({positionOptions:{enableHighAccuracy:!0},showAccuracyCircle:!1,trackUserLocation:!0});this.map.addControl(e,this.defaultOptions.geolocationControlOptions.position),this.defaultOptions.geolocationControlOptions.autoTrigger&&setTimeout(function(){e.trigger()}),!1===this.defaultOptions.geolocationControlOptions.autoLocate&&setTimeout(function(){e._watchState="BACKGROUND",e._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),e._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),e.fire(new Event("trackuserlocationend"))}),e.on("geolocate",function(e){t.startPoint=S.point([e.coords.longitude,e.coords.latitude],{level:t.state.floor.level})})}},t.prototype.initDirectionIcon=function(){var t=this;if(this.map){var e=this.map.getLayer("proximiio-levelchangers"),n=this.map.getLayoutProperty("proximiio-levelchangers","icon-size");this.state.style.addSource("direction-icon-source",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),this.state.style.addLayer({id:"direction-halo-layer",type:"circle",source:"direction-icon-source",minzoom:e.minzoom,maxzoom:e.maxzoom,paint:{"circle-radius":"interpolate"===n[0]?[n[0],n[1],n[2],n[3],50*n[4],n[5],50*n[6]]:50,"circle-color":"#000"},filter:["all",["==",["to-number",["get","level"]],this.state.floor.level]]},"proximiio-paths-names"),this.state.style.addLayer({id:"direction-popup-layer",type:"symbol",source:"direction-icon-source",minzoom:e.minzoom,maxzoom:e.maxzoom,layout:{"text-field":["get","description"],"icon-text-fit":"both","icon-image":["get","popupImage"],"icon-allow-overlap":!0,"text-allow-overlap":!0,"icon-anchor":"bottom","text-anchor":"bottom","text-offset":[0,-2.4]},paint:{"text-color":"#fff"},filter:["all",["==",["to-number",["get","level"]],this.state.floor.level]]},"proximiio-polygons-above-paths"),this.map.on("click","proximiio-levelchangers",function(e){var n;if(t.routingSource.points){var i=t.state.style.getSource("direction-icon-source").data.features.find(function(e){return e.properties.level===t.state.floor.level});(null===(n=null==i?void 0:i.properties)||void 0===n?void 0:n.destinationLevel)&&e.features[0].properties.id===i.properties.levelChangerId&&t.setFloorByLevel(i.properties.destinationLevel)}})}},t.prototype.addDirectionFeatures=function(){var t=this,e=this.state.textNavigation.steps.filter(function(t,e,n){var i,r=t.direction.split("_")[0];if(t.levelChangerId&&("UP"===r||"DOWN"===r))return t.destinationLevel=n[e+1]?null===(i=n[e+1])||void 0===i?void 0:i.level:null,t}).map(function(e){var n=t.state.allFeatures.features.find(function(t){return t.id===e.levelChangerId}),i=e.direction.split("_")[0],r=e.direction.split("_")[1],o=t.state.floors.filter(function(t){return t.level===e.destinationLevel})?t.state.floors.filter(function(t){return t.level===e.destinationLevel})[0]:t.state.floor;return new m.default({type:"Feature",geometry:n.geometry,properties:{usecase:"floor-change-symbol",icon:"UP"===i?"floorchange-up-image":"floorchange-down-image",iconOffset:"UP"===i?[4,-90]:[4,90],popupImage:"popup",description:M.translations[t.defaultOptions.language][r]+" \n "+M.translations[t.defaultOptions.language][i]+" "+M.translations[t.defaultOptions.language].TO_FLOOR+" "+(o.name?o.name:e.destinationLevel),level:e.level,destinationLevel:e.destinationLevel,levelChangerId:n.properties.id}})});this.state.style.sources["direction-icon-source"].data={type:"FeatureCollection",features:e},this.map.setStyle(this.state.style)},t.prototype.onSetFeaturesHighlight=function(t,e,n,i){var r=this.map,o=this.state.allFeatures.features.filter(function(e){return t.includes(e.id||e.properties.id)}),a=this.map.getLayer("proximiio-pois-icons"),s=this.map.getLayoutProperty("proximiio-pois-icons","icon-size");r&&(r.getLayer("highlight-icon-layer")||this.state.style.addLayer({id:"highlight-icon-layer",type:"circle",source:"highlight-icon-source",minzoom:a.minzoom,maxzoom:a.maxzoom,paint:{"circle-radius":"interpolate"===s[0]?[s[0],s[1],s[2],s[3],s[4]*(n||50),s[5],s[6]*(n||50)]:n,"circle-color":e||"#000","circle-blur":null!=i?i:.8},filter:["all",["==",["to-number",["get","level"]],this.state.floor.level]]},this.defaultOptions.initPolygons?"shop-custom":"proximiio-shop"),r.getSource("highlight-icon-source")||this.state.style.addSource("highlight-icon-source",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),this.state.style.sources["highlight-icon-source"].data.features=o||[],this.map.setStyle(this.state.style))},t.prototype.initAnimatedRoute=function(){this.map&&(this.state.style.addSource("route-point",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),this.state.style.addLayer({id:"route-point",type:"circle",source:"route-point",minzoom:17,maxzoom:24,paint:{"circle-color":"#1d8a9f","circle-radius":10},filter:["all",["==",["to-number",["get","level"]],this.state.floor.level]]}))},t.prototype.initRasterTiles=function(){var t,e,n,i,r,o;if(this.map){var a=this.state.style.metadata;this.state.style.addSource("raster-tiles",{type:"raster",tiles:(null===(t=this.defaultOptions.rasterTilesOptions)||void 0===t?void 0:t.tilesUrl)?["https://api.proximi.fi/imageproxy/source="+this.defaultOptions.rasterTilesOptions.tilesUrl]:["https://api.proximi.fi/imageproxy/source="+a["proximiio:raster:tileurl"]],tileSize:(null===(e=this.defaultOptions.rasterTilesOptions)||void 0===e?void 0:e.tileSize)?this.defaultOptions.rasterTilesOptions.tileSize:a["proximiio:raster:tilesize"]?a["proximiio:raster:tilesize"]:256,attribution:(null===(n=this.defaultOptions.rasterTilesOptions)||void 0===n?void 0:n.attribution)?this.defaultOptions.rasterTilesOptions.attribution:a["proximiio:raster:attribution"]?a["proximiio:raster:attribution"]:""}),this.state.style.addLayer({id:"raster-tiles",type:"raster",source:"raster-tiles",minzoom:(null===(i=this.defaultOptions.rasterTilesOptions)||void 0===i?void 0:i.minZoom)?this.defaultOptions.rasterTilesOptions.minZoom:a["proximiio:raster:minzoom"]?a["proximiio:raster:minzoom"]:15,maxzoom:(null===(r=this.defaultOptions.rasterTilesOptions)||void 0===r?void 0:r.maxZoom)?this.defaultOptions.rasterTilesOptions.maxZoom:a["proximiio:raster:maxzoom"]?a["proximiio:raster:maxzoom"]:22},(null===(o=this.defaultOptions.rasterTilesOptions)||void 0===o?void 0:o.beforeLayer)?this.defaultOptions.rasterTilesOptions.beforeLayer:a["proximiio:raster:beforelayer"]?a["proximiio:raster:beforelayer"]:"osm-country_label-en")}},t.prototype.initPolygons=function(){var t=this;if(this.map){var e=new P.PolygonTitlesLayer(this.defaultOptions.polygonsOptions);e.setFilterLevel(this.state.floor.level),this.state.style.addLayer(e.json,"proximiio-paths");var n=new P.PolygonIconsLayer(this.defaultOptions.polygonsOptions);n.setFilterLevel(this.state.floor.level),this.state.style.addLayer(n.json,"proximiio-paths");var i=new P.PolygonsLayer(this.defaultOptions.polygonsOptions);i.setFilterLevel(this.state.floor.level),this.state.style.addLayer(i.json,"proximiio-paths"),this.state.style.getLayer("proximiio-shop")&&this.defaultOptions.polygonsOptions.removeOriginalPolygonsLayer&&this.state.style.removeLayer("proximiio-shop"),this.map.on("click","shop-custom",function(e){t.onShopClick(e)}),this.map.on("mouseenter","shop-custom",function(){t.onShopMouseEnter()}),this.map.on("mousemove","shop-custom",function(e){t.onShopMouseMove(e)}),this.map.on("mouseleave","shop-custom",function(e){t.onShopMouseLeave(e)})}},t.prototype.onShopClick=function(t){if((!this.defaultOptions.blockFeatureClickWhileRouting||this.defaultOptions.blockFeatureClickWhileRouting&&!this.routingSource.route)&&t.features&&t.features[0]&&t.features[0].properties)if(t.features[0].properties._dynamic=t.features[0].properties._dynamic?JSON.parse(t.features[0].properties._dynamic):{},this.defaultOptions.initPolygons){var e=this.state.allFeatures.features.find(function(e){var n;return e.properties.id===(null===(n=t.features[0].properties._dynamic)||void 0===n?void 0:n.poi_id)}),n=this.state.allFeatures.features.find(function(e){var n,i;return(null===(n=t.features[0].properties._dynamic)||void 0===n?void 0:n.id)?e.id===(null===(i=t.features[0].properties._dynamic)||void 0===i?void 0:i.id):e.properties.id===t.features[0].properties.id});e&&this.handlePolygonSelection(e),this.onPolygonClickListener.next(e||n)}else n=this.state.allFeatures.features.find(function(e){return e.properties.id===t.features[0].properties.id}),this.onPoiClickListener.next(n)},t.prototype.handlePolygonSelection=function(t){var e=t&&t.properties._dynamic?t.properties._dynamic.polygon_id:null;this.selectedPolygon&&(this.map.setFeatureState({source:"main",id:this.selectedPolygon.id},{selected:!1}),this.selectedPolygon.properties._dynamic.label_id&&this.map.setFeatureState({source:"main",id:this.selectedPolygon.properties._dynamic.label_id},{selected:!1})),e&&(this.selectedPolygon=this.state.allFeatures.features.find(function(t){var n,i;return(null===(n=t.properties._dynamic)||void 0===n?void 0:n.id)===e&&"shop-custom"===(null===(i=t.properties._dynamic)||void 0===i?void 0:i.type)}),this.selectedPolygon&&(this.map.setFeatureState({source:"main",id:this.selectedPolygon.id},{selected:!0}),this.selectedPolygon.properties._dynamic.label_id&&this.map.setFeatureState({source:"main",id:this.selectedPolygon.properties._dynamic.label_id},{selected:!0})))},t.prototype.onShopMouseEnter=function(){this.map.getCanvas().style.cursor="pointer"},t.prototype.onShopMouseMove=function(t){t.features&&t.features.length>0&&(t.features[0].properties._dynamic=JSON.parse(t.features[0].properties._dynamic?t.features[0].properties._dynamic:{}),this.hoveredPolygon&&(this.map.setFeatureState({source:"main",id:this.hoveredPolygon.id},{hover:!1}),this.hoveredPolygon.properties._dynamic.label_id&&this.map.setFeatureState({source:"main",id:this.hoveredPolygon.properties._dynamic.label_id},{hover:!1})),this.hoveredPolygon=t.features[0],this.map.setFeatureState({source:"main",id:this.hoveredPolygon.id},{hover:!0}),this.hoveredPolygon.properties._dynamic.label_id&&this.map.setFeatureState({source:"main",id:this.hoveredPolygon.properties._dynamic.label_id},{hover:!0}))},t.prototype.onShopMouseLeave=function(t){this.map.getCanvas().style.cursor="",this.hoveredPolygon&&(this.map.setFeatureState({source:"main",id:this.hoveredPolygon.id},{hover:!1}),this.hoveredPolygon.properties._dynamic.label_id&&this.map.setFeatureState({source:"main",id:this.hoveredPolygon.properties._dynamic.label_id},{hover:!1})),this.hoveredPolygon=null},t.prototype.initUrlParams=function(){var t=new URLSearchParams(window.location.search),e=t.get(this.defaultOptions.urlParams.startFeauture),n=t.get(this.defaultOptions.urlParams.destinationFeature),i=t.get(this.defaultOptions.urlParams.defaultPlace),r=i?this.state.places.find(function(t){return t.id===i||t.name===i}):this.state.place,o=e?this.state.allFeatures.features.find(function(t){return t.properties.title&&t.properties.place_id===r.id&&(t.id===e||t.properties.id===e||t.properties.title===e)}):this.startPoint,a=this.state.allFeatures.features.find(function(t){return t.properties.title&&t.properties.place_id===r.id&&(t.id===n||t.properties.id===n||t.properties.title===n)});o&&o.id&&!a&&(this.centerToFeature(o.id),this.map&&this.defaultOptions.isKiosk&&this.setKiosk(o.geometry.coordinates[1],o.geometry.coordinates[0],o.properties.level)),!o&&a&&this.centerToFeature(a.id),o&&a&&this.onRouteUpdate(o,a)},t.prototype.featureDialog=function(t){var e,n=this,i=this.map.queryRenderedFeatures(t.point,{layers:["proximiio-pois-icons"]}),a=i.length>0,s=new C.modal({footer:!0,stickyFooter:!1,closeMethods:["overlay","button","escape"],closeLabel:"Close",onClose:function(){s.destroy()}});s.setContent(a?A.EDIT_FEATURE_DIALOG(t,i[0]):A.NEW_FEATURE_DIALOG(t,null===(e=this.state.floor)||void 0===e?void 0:e.level)),s.addFooterBtn("Submit","tingle-btn tingle-btn--primary",function(){return r(n,void 0,void 0,function(){var t,e,n,i;return o(this,function(r){switch(r.label){case 0:return t=new FormData(document.querySelector("#modal-form")),i={id:""+t.get("id"),title:""+t.get("title"),level:t.get("level"),lat:t.get("lat"),lng:t.get("lng")},t.get("icon").size?[4,b.getBase64FromImage(t.get("icon"))]:[3,2];case 1:return n=r.sent(),[3,3];case 2:n=void 0,r.label=3;case 3:return i.icon=n,(e=i).title&&e.level&&e.lat&&e.lng?a?[4,this.onUpdateFeature(e.id,e.title,+e.level,+e.lat,+e.lng,e.icon)]:[3,5]:[3,8];case 4:return r.sent(),[3,7];case 5:return[4,this.onAddNewFeature(e.title,+e.level,+e.lat,+e.lng,e.icon,e.id)];case 6:r.sent(),r.label=7;case 7:return s.close(),[3,9];case 8:alert("Please fill all the required fields!"),r.label=9;case 9:return[2]}})})}),a&&s.addFooterBtn("Delete","tingle-btn tingle-btn--danger",function(){var t,e;n.onDeleteFeature(null===(e=null===(t=i[0])||void 0===t?void 0:t.properties)||void 0===e?void 0:e.id),s.close()}),s.addFooterBtn("Cancel","tingle-btn tingle-btn--default tingle-btn--pull-right",function(){s.close()}),s.open()},t.prototype.onAddNewFeature=function(t,e,n,a,s,u,l,h,p,f){return void 0===f&&(f=!0),r(this,void 0,void 0,function(){var r,d,g;return o(this,function(o){switch(o.label){case 0:if(r=u||b.uuidv4(),this.state.allFeatures.features.findIndex(function(t){return t.id===r||t.properties.id===r})>0)throw console.error("Create feature failed: Feature with id '"+r+"' already exists!"),new Error("Create feature failed: Feature with id '"+r+"' already exists!");return d=new m.default({type:"Feature",id:r,geometry:new m.Geometry({type:"Point",coordinates:[a,n]}),properties:i({type:"poi",usecase:"poi",id:r,minzoom:15,visibility:"visible",amenity:s?u:"default",title:t,level:e,images:[s],place_id:l,floor_id:h},p)}),s&&s.length>0?[4,b.getImageFromBase64(s)]:[3,2];case 1:g=o.sent(),this.map.addImage(r,g),o.label=2;case 2:return f?[3,4]:(this.state.features.features.push(d),[4,c.addFeatures({type:"FeatureCollection",features:[d.json]})]);case 3:return o.sent(),[3,5];case 4:this.state.dynamicFeatures.features.push(d),o.label=5;case 5:return this.geojsonSource.create(d),this.onFeaturesChange(),this.onFeatureAddListener.next(d),[2,d]}})})},t.prototype.onUpdateFeature=function(t,e,n,a,s,u,l,h,p,f){return void 0===f&&(f=!0),r(this,void 0,void 0,function(){var r,d,g,_,y;return o(this,function(o){switch(o.label){case 0:if(!(r=this.state.allFeatures.features.find(function(e){return e.id===t||e.properties.id===t})))throw console.error("Update feature failed: Feature with id '"+t+"' has not been found!"),new Error("Update feature failed: Feature with id '"+t+"' has not been found!");return(d=new m.default(r)).geometry.coordinates=[s||d.geometry.coordinates[0],a||d.geometry.coordinates[1]],d.properties=i(i(i({},d.properties),{title:e||d.properties.title,level:n||d.properties.level,amenity:u?t:d.properties.amenity,images:u?[u]:d.properties.images,place_id:l||d.properties.place_id,floor_id:h||d.properties.floor_id}),p),u&&u.length>0?[4,b.getImageFromBase64(u)]:[3,2];case 1:g=o.sent(),this.map.addImage(t,g),o.label=2;case 2:return f?[3,4]:(_=this.state.features.features.findIndex(function(t){return t.id===d.id||t.properties.id===d.id}),this.state.features.features[_]=d,[4,c.addFeatures({type:"FeatureCollection",features:[d.json]})]);case 3:return o.sent(),[3,5];case 4:y=this.state.dynamicFeatures.features.findIndex(function(t){return t.id===d.id||t.properties.id===d.id}),this.state.dynamicFeatures.features[y]=d,o.label=5;case 5:return this.geojsonSource.update(d),this.onFeaturesChange(),this.onFeatureUpdateListener.next(d),[2,d]}})})},t.prototype.onDeleteFeature=function(t,e){return void 0===e&&(e=!0),r(this,void 0,void 0,function(){var n,i,r;return o(this,function(o){switch(o.label){case 0:if(!(n=this.state.allFeatures.features.find(function(e){return e.id===t||e.properties.id===t})))throw console.error("Deleting feature failed: Feature with id '"+t+"' has not been found!"),new Error("Deleting feature failed: Feature with id '"+t+"' has not been found!");return e?[3,2]:(i=this.state.features.features.findIndex(function(e){return e.id===t||e.properties.id===t}),this.state.features.features.splice(i,1),[4,c.deleteFeatures({type:"FeatureCollection",features:[n]})]);case 1:return o.sent(),[3,3];case 2:r=this.state.dynamicFeatures.features.findIndex(function(e){return e.id===t||e.properties.id===t}),this.state.dynamicFeatures.features.splice(r,1),o.label=3;case 3:return this.geojsonSource.delete(t),this.onFeaturesChange(),this.onFeatureDeleteListener.next(n),[2]}})})},t.prototype.onFeaturesChange=function(){this.state.allFeatures.features=a(a([],this.state.features.features),this.state.dynamicFeatures.features),this.onSourceChange(),this.routingSource.routing.setData(this.state.allFeatures),this.updateMapSource(this.routingSource),this.defaultOptions.enableTBTNavigation&&(this.routeFactory=new I.RouteFactory(JSON.stringify(this.state.allFeatures.features),this.defaultOptions.language?this.defaultOptions.language:"en"))},t.prototype.onSetFeatureFilter=function(t,e){for(var n=this.state.allFeatures.features.filter(function(e){return e.properties.id===t||e.id===t||e.properties.title===t}),i=function(t){e&&-1===r.hiddenFeatures.findIndex(function(e){return e===t.properties.id})?r.hiddenFeatures.push(t.properties.id):e||-1!==r.filteredFeatures.findIndex(function(e){return e===t.properties.id})||r.filteredFeatures.push(t.properties.id)},r=this,o=0,a=n;o<a.length;o++)i(a[o]);this.filterOutFeatures()},t.prototype.onRemoveFeatureFilter=function(t,e){for(var n=this.state.allFeatures.features.filter(function(e){return e.properties.id===t||e.id===t||e.properties.title===t}),i=function(t){e&&-1!==r.hiddenFeatures.findIndex(function(e){return e===t.properties.id})?r.hiddenFeatures.splice(r.hiddenFeatures.findIndex(function(e){return e===t.properties.id}),1):e||-1===r.filteredFeatures.findIndex(function(e){return e===t.properties.id})||r.filteredFeatures.splice(r.filteredFeatures.findIndex(function(e){return e===t.properties.id}),1)},r=this,o=0,a=n;o<a.length;o++)i(a[o]);this.filteredFeatures=this.filteredFeatures.length>0?this.filteredFeatures:[],this.hiddenFeatures=this.hiddenFeatures.length>0?this.hiddenFeatures:[],this.filterOutFeatures()},t.prototype.onHidePois=function(){this.hiddenFeatures=this.state.allFeatures.features.filter(function(t){return"poi"===t.properties.type||"poi"===t.properties.usecase}).map(function(t){return t.properties.id}),this.filterOutFeatures()},t.prototype.onResetFeatureFilters=function(){this.filteredFeatures=[],this.hiddenFeatures=[],this.filterOutFeatures()},t.prototype.onSetAmenityFilter=function(t,e,n){if(e&&n)throw new Error("It's not possible to use both category and inverted options in setAmenityFilter function!");if(e){this.amenityCategories[e].active=!0,this.amenityCategories[e].activeId=t;var i=[],r=function(e){if(o.amenityCategories.hasOwnProperty(e)){var n=o.amenityCategories[e];n.active&&(i=Array.isArray(t)?i.concat(n.amenities.filter(function(t){return!n.activeId.includes(t)})):i.concat(n.amenities.filter(function(t){return t!==n.activeId})))}},o=this;for(var a in this.amenityCategories)r(a);this.amenityFilters=this.amenityIds.filter(function(t){return!i.includes(t)})}else n&&-1===this.hiddenAmenities.findIndex(function(e){return e===t})?(Array.isArray(t)?this.hiddenAmenities.concat(t):this.hiddenAmenities.push(t),this.filteredAmenities=this.filteredAmenities.filter(function(e){return e!==t})):n||-1!==this.amenityFilters.findIndex(function(e){return e===t})||(Array.isArray(t)?this.amenityFilters.concat(t):this.amenityFilters.push(t));this.filteredAmenities=this.amenityFilters,this.filterOutFeatures(),n||Array.isArray(t)||this.setActivePolygons(t)},t.prototype.onRemoveAmenityFilter=function(t,e,n){if(e&&n)throw new Error("It's not possible to use both category and inverted options in removeAmenityFilter function!");if(e&&this.amenityCategories[e].active&&JSON.stringify(this.amenityCategories[e].activeId)===JSON.stringify(t)){var i=Array.isArray(t)?this.amenityCategories[e].amenities.filter(function(e){return!t.includes(e)}):this.amenityCategories[e].amenities.filter(function(e){return e!==t});this.amenityFilters=this.amenityFilters.concat(i),this.amenityCategories[e].active=!1}else e||(n?(this.hiddenAmenities=this.hiddenAmenities.filter(function(e){return e!==t}),-1===this.filteredAmenities.findIndex(function(e){return e===t})&&(Array.isArray(t)?this.filteredAmenities.concat(t):this.filteredAmenities.push(t))):this.amenityFilters=this.amenityFilters.filter(function(e){return e!==t}));this.filteredAmenities=this.amenityFilters.length>0?this.amenityFilters:this.amenityIds,this.hiddenAmenities=this.hiddenAmenities.length>0?this.hiddenAmenities:[],this.filterOutFeatures(),this.setActivePolygons(null)},t.prototype.onResetAmenityFilters=function(){for(var t in this.amenityFilters=[],this.hiddenAmenities=[],this.amenityCategories)this.amenityCategories.hasOwnProperty(t)&&(this.amenityCategories[t].active=!1);this.filteredAmenities=this.amenityIds,this.filterOutFeatures(),this.setActivePolygons(null)},t.prototype.filterOutFeatures=function(){var t=this,e=["proximiio-pois-icons","proximiio-pois-labels","pois-icons","pois-labels"];this.defaultOptions.initPolygons&&e.push("poi-custom-icons","shop-labels"),e.forEach(function(e){if(t.map.getLayer(e)){var n=t.map.getLayer(e),i=a([],n.filter),r=i.findIndex(function(t){return t[1][1]&&"amenity"===t[1][1][1]}),o=i.findIndex(function(t){return"id"===t[1][1]});t.filteredAmenities.length>0&&(-1!==r?i[r]=["any",["in",["get","amenity"],["literal",t.filteredAmenities]],["in",["get","amenity",["get","_dynamic"]],["literal",t.filteredAmenities]]]:i.push(["any",["in",["get","amenity"],["literal",t.filteredAmenities]],["in",["get","amenity",["get","_dynamic"]],["literal",t.filteredAmenities]]])),t.filteredFeatures.length>0?-1!==o?i[o]=["match",["get","id"],t.filteredFeatures,!0,!1]:i.push(["match",["get","id"],t.filteredFeatures,!0,!1]):-1!==o&&i.splice(o,1),t.hiddenFeatures.length>0?-1!==o?i[o]=["match",["get","id"],t.hiddenFeatures,!1,!0]:i.push(["match",["get","id"],t.hiddenFeatures,!1,!0]):-1!==o&&i.splice(o,1),t.state.style.getLayer(e).filter=i,t.map.setFilter(e,i)}}),this.state.style.notify("filter-change")},t.prototype.setActivePolygons=function(t){var e=this;if(this.defaultOptions.initPolygons){var n=this.activePolygonsAmenity?this.state.allFeatures.features.filter(function(t){var n;return t.properties.amenity===e.activePolygonsAmenity&&(null===(n=t.properties._dynamic)||void 0===n?void 0:n.polygon_id)&&"Point"===t.geometry.type}):[],i=t?this.state.allFeatures.features.filter(function(e){var n;return e.properties.amenity===t&&(null===(n=e.properties._dynamic)||void 0===n?void 0:n.polygon_id)&&"Point"===e.geometry.type}):[];if(n.length>0)for(var r=function(t){var e=o.state.allFeatures.features.find(function(e){var n,i,r;return(null===(n=e.properties._dynamic)||void 0===n?void 0:n.id)===(null===(i=t.properties._dynamic)||void 0===i?void 0:i.polygon_id)&&"shop-custom"===(null===(r=e.properties._dynamic)||void 0===r?void 0:r.type)});e&&o.map.setFeatureState({source:"main",id:e.id},{active:!1})},o=this,a=0,s=n;a<s.length;a++)r(s[a]);if(i.length>0)for(var u=function(t){var e=l.state.allFeatures.features.find(function(e){var n,i,r;return(null===(n=e.properties._dynamic)||void 0===n?void 0:n.id)===(null===(i=t.properties._dynamic)||void 0===i?void 0:i.polygon_id)&&"shop-custom"===(null===(r=e.properties._dynamic)||void 0===r?void 0:r.type)});e&&l.map.setFeatureState({source:"main",id:e.id},{active:!0})},l=this,c=0,h=i;c<h.length;c++)u(h[c])}this.activePolygonsAmenity=t},t.prototype.handlePoiVisibility=function(){var t=this,e=["proximiio-pois-icons","proximiio-pois-labels","pois-icons","pois-labels"];this.defaultOptions.initPolygons&&e.push("poi-custom-icons","shop-labels"),e.forEach(function(e){t.map.getLayer(e)&&setTimeout(function(){var n=t.map.getLayer(e);if(n){var i=a([],n.filter),r=i.findIndex(function(t){return"visibility"===t[1][1]});-1!==r?i[r]="!="===i[r][0]?["match",["get","visibility"],["visible","hidden","undefined"],!0,!1]:["!=",["get","visibility"],"hidden"]:i.push(["!=",["get","visibility"],"hidden"]),t.state.style.getLayer(e).filter=i,t.map.setFilter(e,i)}})}),this.state.style.notify("filter-change")},t.prototype.onToggleHiddenPois=function(){this.handlePoiVisibility()},t.prototype.onSetPerson=function(t,e,n,r){var o=new T.default({lat:t,lng:e,level:n,id:r});this.state=i(i({},this.state),{persons:[o]}),this.initPersonsMap()},t.prototype.onAddPerson=function(t,e,n,i){var r=new T.default({lat:t,lng:e,level:n,id:i});this.state.persons=a(a([],this.state.persons),[r]),this.initPersonsMap()},t.prototype.onUpdatePerson=function(t,e,n,i){t.updatePosition({lat:e,lng:n,level:i}),this.initPersonsMap()},t.prototype.initPersonsMap=function(){var t=this.map;t.getLayer("persons-layer")||this.state.style.addLayer({id:"persons-layer",type:"symbol",source:"persons-source",layout:{"icon-image":"person","icon-size":["interpolate",["exponential",.3],["zoom"],17,.1,22,.3]},filter:["all",["==",["to-number",["get","level"]],this.state.floor.level]]}),t.getSource("persons-source")||this.state.style.addSource("persons-source",{type:"geojson",data:{type:"FeatureCollection",features:[]}});var e=this.state.persons.map(function(t){return S.point([t.lng,t.lat],{level:t.level})});this.state.style.sources["persons-source"].data={type:"FeatureCollection",features:e},this.onPersonUpdateListener.next(this.state.persons)},t.prototype.prepareStyle=function(t){t.setSource("main",this.geojsonSource),t.setSource("synthetic",this.syntheticSource),t.setSource("route",this.routingSource),t.setSource("clusters",this.clusterSource),t.setLevel(0)},t.prototype.onRouteChange=function(t){return r(this,void 0,void 0,function(){var e,n,r,a=this;return o(this,function(o){switch(o.label){case 0:return"loading-start"===t?(this.state=i(i({},this.state),{loadingRoute:!0}),[2]):"loading-finished"!==t?[3,3]:this.routingSource.route?(e=this.routingSource.lines[0],n=this.routeFactory.generateRoute(JSON.stringify(this.routingSource.points),JSON.stringify(this.endPoint)),this.state=i(i({},this.state),{loadingRoute:!1,textNavigation:n}),this.defaultOptions.showLevelDirectionIcon&&this.addDirectionFeatures(),this.defaultOptions.animatedRoute&&this.addAnimatedRouteFeatures(),null!=this.defaultOptions.forceFloorLevel&&(this.routingSource.data.features=this.routingSource.data.features.map(function(t){return t.properties.level!==a.defaultOptions.forceFloorLevel&&(t.properties.level=a.defaultOptions.forceFloorLevel),t})),this.centerOnRoute(e),this.onRouteFoundListener.next({route:this.routingSource.route,TBTNav:this.defaultOptions.enableTBTNavigation?n:null,details:this.defaultOptions.routeWithDetails?this.routingSource.details:null,start:this.startPoint,end:this.endPoint}),[4,new L.default({organization_id:this.state.user.organization.id,organization_name:this.state.user.organization.name,startLngLat:this.routingSource.start.geometry.coordinates,startLevel:this.routingSource.start.properties.level,startSegmentId:this.routingSource.start.id,startSegmentName:this.defaultOptions.isKiosk?"kioskPoint":this.routingSource.start.properties.title,destinationFeatureId:this.routingSource.finish.id,destinationName:this.routingSource.finish.properties.title,destinationLngLat:this.routingSource.finish.geometry.coordinates,destinationLevel:this.routingSource.finish.properties.level,foundPath:this.routingSource.lines.length>0,optionAvoidBarrier:this.routingSource.routing.wayfinding.configuration.avoidBarriers,optionAvoidElevators:this.routingSource.routing.wayfinding.configuration.avoidElevators,optionAvoidEscalators:this.routingSource.routing.wayfinding.configuration.avoidEscalators,optionAvoidNarrowPaths:this.routingSource.routing.wayfinding.configuration.avoidNarrowPaths,optionAvoidRamps:this.routingSource.routing.wayfinding.configuration.avoidRamps,optionAvoidStaircases:this.routingSource.routing.wayfinding.configuration.avoidStaircases,optionAvoidTicketGates:this.routingSource.routing.wayfinding.configuration.avoidTicketGates,route:this.routingSource.points.map(function(t){return[t.geometry.coordinates[0],t.geometry.coordinates[1],t.properties.level]}),rerouted:!1}).save()]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2];case 3:return"route-undefined"===t?(console.log("route not found"),this.state=i(i({},this.state),{loadingRoute:!1}),this.onRouteFailedListener.next("route not found"),[2]):((r=this.state.style).setSource("route",this.routingSource),this.state=i(i({},this.state),{style:r}),this.updateMapSource(this.routingSource),[2])}})})},t.prototype.onSourceChange=function(){this.state=i(i({},this.state),{style:this.state.style}),this.updateMapSource(this.geojsonSource),this.updateCluster()},t.prototype.onSyntheticChange=function(){this.state.style.setSource("synthetic",this.syntheticSource),this.updateMapSource(this.syntheticSource)},t.prototype.updateMapSource=function(t){var e=this.map;if(e&&e.getSource(t.id)){var n=e.getSource(t.id);n&&n.setData(t.data)}},t.prototype.onStyleSelect=function(t){var e=this.map;e&&(this.prepareStyle(t),e.setStyle(t.json)),this.state=i(i({},this.state),{style:t})},t.prototype.onStyleChange=function(t,e){var n=this.map;if(n){if("overlay-toggled"===t){var r=this.state.style.overlay?"visible":"none";n.setLayoutProperty("main-polygon-fill","visibility",r),n.setLayoutProperty("main-polygon-outline","visibility",r)}if("segments-toggled"===t){var o=this.state.style.segments?"visible":"none";n.setLayoutProperty("main-segment-fill","visibility",o),n.setLayoutProperty("main-segment-outline","visibility",o)}if("routable-toggled"===t){var a=this.state.style.segments?"visible":"none";n.setLayoutProperty("main-routable-fill","visibility",a),n.setLayoutProperty("main-routable-outline","visibility",a)}"cluster-toggled"===t&&n.setLayoutProperty("clusters-circle","visibility",this.state.style.cluster?"visible":"none")}if("layer-update"===t&&e){var s=e.layer,u=e.changes,l=u.filter(function(t){return"E"===t.kind&&"layout"===t.path[0]}),c=u.filter(function(t){return"E"===t.kind&&"paint"===t.path[0]}),h=this.map;h&&(l.forEach(function(t){"E"===t.kind&&h.setLayoutProperty(s.id,t.path[1],t.rhs)}),c.forEach(function(t){"E"===t.kind&&h.setPaintProperty(s.id,t.path[1],t.rhs)}))}if("filter-change"===t){var p=this.map;this.state.style.getLayers("main").forEach(function(t){p.getLayer(t.id)&&p.removeLayer(t.id),p.addLayer(t)})}this.map.setStyle(this.state.style),this.state=i(i({},this.state),{style:this.state.style})},t.prototype.onToggleRasterFloorplans=function(){this.imageSourceManager.enabled=!this.imageSourceManager.enabled;var t=this.map;t&&this.imageSourceManager.setLevel(t,this.state.floor.level,this.state)},t.prototype.updateCluster=function(){var t=this,e=this.map;if(e){var n={type:"FeatureCollection",features:this.geojsonSource.data.features.filter(function(e){return e.isPoint&&e.hasLevel(t.state.floor.level)}).map(function(t){return t.json})},i=e.getSource("clusters");i&&i.setData(n)}},t.prototype.onPlaceSelect=function(t,e,n){return r(this,void 0,void 0,function(){var r,a,s,u;return o(this,function(o){switch(o.label){case 0:return this.state=i(i({},this.state),{place:t}),[4,x.getPlaceFloors(t.id)];case 1:return r=o.sent(),a={floors:r.sort(function(t,e){return t.level-e.level})},r.length>0&&(s=r.find(n?function(t){return t.level===n}:function(t){return 0===t.level}),a.floor=s||r[0]),this.state=i(i({},this.state),a),(u=this.map)&&e&&u.flyTo({center:[t.location.lng,t.location.lat]}),this.onPlaceSelectListener.next(t),a.floor&&this.onFloorSelect(a.floor),[2]}})})},t.prototype.onFloorSelect=function(t){var e=this,n=this.map,r=this.routingSource.levelPoints&&this.routingSource.levelPoints[t.level]?this.routingSource.levelPoints[t.level]:null;if(n){if(this.state.style.setLevel(t.level),n.setStyle(this.state.style),setTimeout(function(){a(a([],e.state.style.getLayers("main")),e.state.style.getLayers("route")).forEach(function(t){n.getLayer(t.id)&&n.setFilter(t.id,t.filter)}),e.imageSourceManager.setLevel(n,t.level,e.state)}),r){var o=O.lineString(this.routingSource.levelPoints[t.level].map(function(t){return t.geometry.coordinates})),s=1e3*S.length(o,{units:"kilometers"}),u=S.bbox(o);s>=this.defaultOptions.minFitBoundsDistance?n.fitBounds(u,{padding:this.defaultOptions.fitBoundsPadding,bearing:this.map.getBearing(),pitch:this.map.getPitch()}):this.map.flyTo({center:S.center(o).geometry.coordinates})}var l;this.defaultOptions.isKiosk&&n.getLayer("my-location-layer")&&(n.setFilter("my-location-layer",l=["all",["==",["to-number",["get","level"]],t.level]]),this.state.style.getLayer("my-location-layer").filter=l),this.defaultOptions.useGpsLocation&&this.startPoint&&(this.startPoint.properties=i(i({},this.startPoint.properties),{level:t.level})),n.getLayer("persons-layer")&&(n.setFilter("persons-layer",l=["all",["==",["to-number",["get","level"]],t.level]]),this.state.style.getLayer("persons-layer").filter=l),this.defaultOptions.showLevelDirectionIcon&&n.getLayer("direction-halo-layer")&&(n.setFilter("direction-halo-layer",l=["all",["==",["to-number",["get","level"]],t.level]]),this.state.style.getLayer("direction-halo-layer").filter=l,n.setFilter("direction-popup-layer",l),this.state.style.getLayer("direction-popup-layer").filter=l),this.defaultOptions.animatedRoute&&n.getLayer("route-point")&&(n.setFilter("route-point",l=["all",["==",["to-number",["get","level"]],t.level]]),this.state.style.getLayer("route-point").filter=l),n.getLayer("highlight-icon-layer")&&(n.setFilter("highlight-icon-layer",l=["all",["==",["to-number",["get","level"]],t.level]]),this.state.style.getLayer("highlight-icon-layer").filter=l)}this.state=i(i({},this.state),{floor:t,style:this.state.style}),this.updateCluster(),this.onFloorSelectListener.next(t)},t.prototype.onRouteUpdate=function(t,e){this.startPoint=t,this.endPoint=e;try{e&&this.defaultOptions.initPolygons&&this.handlePolygonSelection(e),e&&this.defaultOptions.animatedRoute&&this.cancelAnimation(),this.routingSource.update(t,e)}catch(n){console.log("catched",n)}this.state=i(i({},this.state),{style:this.state.style})},t.prototype.onRouteCancel=function(){this.state=i(i({},this.state),{textNavigation:null}),this.defaultOptions.initPolygons&&this.handlePolygonSelection(),this.defaultOptions.showLevelDirectionIcon&&(this.state.style.sources["direction-icon-source"].data={type:"FeatureCollection",features:[]}),this.defaultOptions.animatedRoute&&(this.state.style.sources["route-point"].data={type:"FeatureCollection",features:[]},this.cancelAnimation()),this.map.setStyle(this.state.style),this.routingSource.cancel(),this.onRouteCancelListener.next("route cancelled")},t.prototype.centerOnPoi=function(t){if(this.state.floor.level!==parseInt(t.properties.level,0)){var e=this.state.floors.find(function(e){return e.level===t.properties.level});e&&this.onFloorSelect(e)}this.map&&this.map.flyTo({center:t.geometry.coordinates})},t.prototype.centerOnRoute=function(t){if(t&&t.properties){if(this.state.floor.level!==+t.properties.level){var e=this.state.floors.find(function(e){return e.level===+t.properties.level});e&&this.onFloorSelect(e)}if(this.map){var n=O.lineString(this.routingSource.levelPoints[this.state.floor.level].map(function(t){return t.geometry.coordinates})),i=1e3*S.length(n,{units:"kilometers"}),r=S.bbox(n);i>=this.defaultOptions.minFitBoundsDistance?this.map.fitBounds(r,{padding:this.defaultOptions.fitBoundsPadding,bearing:this.map.getBearing(),pitch:this.map.getPitch()}):this.map.flyTo({center:S.center(n).geometry.coordinates})}}},t.prototype.centerOnCoords=function(t,e,n){this.map&&this.map.flyTo({center:[e,t],zoom:n||18})},t.prototype.updateImages=function(){var t=this;this.state.amenities.filter(function(t){return t.icon}).forEach(function(e){t.amenityIds.push(e.id),t.map.loadImage(e.icon,function(n,i){if(n)throw n;t.map.addImage(e.id,i)})})},t.prototype.getUpcomingFloorNumber=function(t){var e=this;if(this.routingSource.lines&&this.routingSource.route){var n=this.routingSource.lines.findIndex(function(t){return+t.properties.level===e.state.floor.level}),i=this.routingSource.lines[n],r=this.routingSource.lines.findIndex(function(e){return"up"===t?+e.properties.level>i.properties.level:+e.properties.level<i.properties.level}),o=this.routingSource.lines[r];return o&&("up"===t&&+o.properties.level>this.state.floor.level||"down"===t&&+o.properties.level<this.state.floor.level)?+o.properties.level:this.state.floor.level}},t.prototype.addAnimatedRouteFeatures=function(){this.counter=0,this.arc={};for(var t=[],e=0,n=this.routingSource.lines;e<n.length;e++){var r=n[e],o=S.length(r);this.arc[r.id]=[];for(var a=0;a<o;a+=o/this.steps){var s=S.along(S.lineString(r.geometry.coordinates),a);this.arc[r.id].push(s.geometry.coordinates)}var u=S.point(r.geometry.coordinates[0],i(i({},r.properties),{routePartId:r.id}));t.push(u)}this.state.style.sources["route-point"].data=S.featureCollection(t),this.map.setStyle(this.state.style),this.animate()},t.prototype.animate=function(){var t=this;if(Object.keys(this.arc).length>0){for(var e=[],n=0,r=Object.entries(this.arc);n<r.length;n++){var o=r[n],a=o[0],s=o[1];if(s[this.counter]){var u=S.point(s[this.counter],i(i({},this.routingSource.route[a].properties),{routePartId:a}));e.push(u)}}if(this.state.style.sources["route-point"].data=S.featureCollection(e),this.map.setStyle(this.state.style),this.counter<this.steps){var l=window.requestAnimationFrame(this.animate.bind(this));this.animationInstances.push(l)}this.counter===this.steps&&setTimeout(function(){t.counter=0,t.animate()},2e3),this.counter++}},t.prototype.cancelAnimation=function(){for(var t=0,e=this.animationInstances;t<e.length;t++)window.cancelAnimationFrame(e[t])},t.prototype.getClosestFeature=function(t,e){var n=this.state.allFeatures.features.filter(function(n){return n.properties.amenity===t&&"Point"===n.geometry.type&&n.properties.level===e.properties.level}),i=this.state.allFeatures.features.filter(function(e){return e.properties.amenity===t&&"Point"===e.geometry.type}),r=S.point(e.geometry.coordinates);return(n.length>0||i.length>0)&&S.nearestPoint(r,S.featureCollection(n.length>0?n:i))},t.prototype.getMapboxInstance=function(){return this.map},t.prototype.getMapReadyListener=function(){return this.onMapReadyListener.asObservable()},t.prototype.setLanguage=function(t){this.geojsonSource.language=t,this.geojsonSource.fetch(this.state.features),this.defaultOptions.language=t,this.onFeaturesChange()},t.prototype.setPlace=function(t,e,n){return r(this,void 0,void 0,function(){var i;return o(this,function(r){switch(r.label){case 0:return[4,k.getPlaceById(t)];case 1:return i=r.sent(),[4,this.onPlaceSelect(i,void 0===e||e,n)];case 2:return r.sent(),[2,i]}})})},t.prototype.getPlaceSelectListener=function(){return this.onPlaceSelectListener.asObservable()},t.prototype.setFloorById=function(t){var e=this.state.floors.filter(function(e){return e.id===t})?this.state.floors.filter(function(e){return e.id===t})[0]:this.state.floor;return e&&this.onFloorSelect(new p.FloorModel(e)),e},t.prototype.setFloorByLevel=function(t){var e=this.state.floors.filter(function(e){return e.level===t})?this.state.floors.filter(function(e){return e.level===t})[0]:this.state.floor;return e&&this.onFloorSelect(new p.FloorModel(e)),e},t.prototype.setFloorByWay=function(t){var e,n="up"===t?this.state.floor.level+1:this.state.floor.level-1;return this.routingSource.route&&(n=this.getUpcomingFloorNumber(t)),(e=this.state.floors.filter(function(t){return t.level===n})?this.state.floors.filter(function(t){return t.level===n})[0]:this.state.floor)&&this.onFloorSelect(new p.FloorModel(e)),e},t.prototype.getFloorSelectListener=function(){return this.onFloorSelectListener.asObservable()},t.prototype.findRouteByIds=function(t,e,n){var i=e?this.state.allFeatures.features.find(function(t){return t.id===e||t.properties.id===e}):this.startPoint,r=this.state.allFeatures.features.find(function(e){return e.id===t||e.properties.id===t});this.routingSource.toggleAccessible(n),this.onRouteUpdate(i,r)},t.prototype.findRouteByTitle=function(t,e,n){var i=e?this.state.allFeatures.features.find(function(t){return t.properties.title===e}):this.startPoint,r=this.state.allFeatures.features.find(function(e){return e.properties.title===t});this.routingSource.toggleAccessible(n),this.onRouteUpdate(i,r)},t.prototype.findRouteByCoords=function(t,e,n,i,r,o,a){var s=i&&r&&o?S.feature({type:"Point",coordinates:[r,i]},{level:o}):this.startPoint,u=S.feature({type:"Point",coordinates:[e,t]},{level:n});this.routingSource.toggleAccessible(a),this.onRouteUpdate(s,u)},t.prototype.findRouteToNearestFeature=function(t,e,n){var i=e?this.state.allFeatures.features.find(function(t){return t.id===e||t.properties.id===e}):this.startPoint,r=this.getClosestFeature(t,i);if(!r)throw new Error("Feature not found");this.routingSource.toggleAccessible(n),this.onRouteUpdate(i,r)},t.prototype.cancelRoute=function(){this.onRouteCancel()},t.prototype.getTBTNav=function(){return this.state.textNavigation},t.prototype.getRouteFoundListener=function(){return this.onRouteFoundListener.asObservable()},t.prototype.getRouteFailedListener=function(){return this.onRouteFailedListener.asObservable()},t.prototype.getRouteCancelListener=function(){return this.onRouteCancelListener.asObservable()},t.prototype.centerToRoute=function(){if(this.routingSource&&this.routingSource.route&&this.routingSource.route["path-part-0"]){var t=this.routingSource.route["path-part-0"];return this.centerOnRoute(t),t}throw new Error("Route not found")},t.prototype.centerToFeature=function(t){var e=this.state.allFeatures.features.find(function(e){return e.id===t||e.properties.id===t});if(e)return this.centerOnPoi(e),e;throw new Error("Feature not found")},t.prototype.centerToCoordinates=function(t,e,n){this.centerOnCoords(t,e,n)},t.prototype.addCustomFeature=function(t,e,n,i,a,s,u,l,c,h){return r(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return[4,this.onAddNewFeature(t,+e,+n,+i,a,s,u,l,c,h)];case 1:return[2,r.sent()]}})})},t.prototype.updateFeature=function(t,e,n,i,a,s,u,l,c,h){return r(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return[4,this.onUpdateFeature(t,e,n,i,a,s,u,l,c,h)];case 1:return[2,r.sent()]}})})},t.prototype.deleteFeature=function(t,e){return this.onDeleteFeature(t,e)},t.prototype.getCustomFeaturesList=function(){return this.state.dynamicFeatures},t.prototype.getFeatureAddListener=function(){return this.onFeatureAddListener.asObservable()},t.prototype.getFeatureUpdateListener=function(){return this.onFeatureUpdateListener.asObservable()},t.prototype.getFeatureDeleteListener=function(){return this.onFeatureDeleteListener.asObservable()},t.prototype.setKiosk=function(t,e,n){if(!this.defaultOptions.isKiosk)throw new Error("Map is not initiated as kiosk");this.onSetKiosk(t,e,n)},t.prototype.setBoundsPadding=function(t){this.defaultOptions.fitBoundsPadding=t},t.prototype.setFeatureFilter=function(t,e){this.onSetFeatureFilter(t,e)},t.prototype.removeFeatureFilter=function(t,e){this.onRemoveFeatureFilter(t,e)},t.prototype.hidePois=function(){this.onHidePois()},t.prototype.resetFeatureFilters=function(){this.onResetFeatureFilters()},t.prototype.setAmenityFilter=function(t,e,n){if(!(!e||e&&this.amenityCategories[e]))throw new Error("It seems there is no '"+e+"' amenities category created, please set category with 'setAmenitiesCategory()' method");this.onSetAmenityFilter(t,e,n)},t.prototype.removeAmenityFilter=function(t,e,n){if(!(!e||e&&this.amenityCategories[e]))throw new Error("It seems there is no '"+e+"' amenities category created, please set category with 'setAmenitiesCategory()' method");this.onRemoveAmenityFilter(t,e,n)},t.prototype.resetAmenityFilters=function(){this.onResetAmenityFilters()},t.prototype.setAmenitiesCategory=function(t,e){this.amenityCategories[t]={amenities:e}},t.prototype.removeAmenitiesCategory=function(t){if(!this.amenityCategories[t])throw new Error("It seems there is no '"+t+"' amenities category created, please set category with 'setAmenitiesCategory()' method");delete this.amenityCategories[t]},t.prototype.resetAmenitiesCategory=function(){this.amenityCategories={}},t.prototype.getPolygonClickListener=function(){return this.onPolygonClickListener.asObservable()},t.prototype.getPoiClickListener=function(){return this.onPoiClickListener.asObservable()},t.prototype.setPerson=function(t,e,n,i){this.onSetPerson(t,e,n,i)},t.prototype.upsertPerson=function(t,e,n,i){var r=i?this.state.persons.find(function(t){return t.id===i}):null;r?this.onUpdatePerson(r,t,e,n):this.onAddPerson(t,e,n,i)},t.prototype.getPersonUpdateListener=function(){return this.onPersonUpdateListener.asObservable()},t.prototype.toggleHiddenPois=function(){this.onToggleHiddenPois()},t.prototype.toggleRasterFloorplans=function(){this.onToggleRasterFloorplans()},t.prototype.setFeaturesHighlight=function(t,e,n,i){this.onSetFeaturesHighlight(t,e,n,i)},t.prototype.refetch=function(){this.onRefetch()},t}();e.Map=N},"kk9/":function(t,e,n){var i=n("e/Dd").getSymbolSize;e.getPositions=function(t){var e=i(t);return[[0,0],[e-7,0],[0,e-7]]}},kw4C:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureCollection=e.Geometry=void 0;var o=n("Ow4I"),a=n("OChx"),s=function(t){this.type=t.type,this.coordinates=t.coordinates};e.Geometry=s;var u=function(){function t(t){this.type="FeatureCollection",this.features=(t.features||[]).map(function(t){return new l(t).json})}return Object.defineProperty(t.prototype,"json",{get:function(){return{type:"FeatureCollection",features:this.features.map(function(t){return t.json})}},enumerable:!1,configurable:!0}),t}();e.FeatureCollection=u;var l=function(t){function e(e){var n=t.call(this,e)||this;return n.type="Feature",n.id=e.id,n.geometry=new s(e.geometry),n.properties=e.properties||{},"string"==typeof n.properties.title_i18n&&(n.properties.title_i18n=JSON.parse(n.properties.title_i18n)),n.isPoint&&(n.properties.images||(n.properties.images=[]),n.properties.range||(n.properties.range=3)),"string"==typeof n.properties.images&&(n.properties.images=JSON.parse(n.properties.images)),n.isLevelChanger&&Array.isArray(n.properties.levels)&&n.properties.levels.forEach(function(t){return n.properties["__level_"+t]=!0}),"text"===n.properties.type&&Array.isArray(n.properties.textFont)&&(n.properties.textFont=n.properties.textFont[0]),n}return r(e,t),Object.defineProperty(e.prototype,"isEditable",{get:function(){return this.isPoint||this.isLineString||this.isPolygon},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPoint",{get:function(){return"Point"===this.geometry.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPolygon",{get:function(){return"Polygon"===this.geometry.type||"MultiPolygon"===this.geometry.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLineString",{get:function(){return"LineString"===this.geometry.type||"MultiLineString"===this.geometry.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isHazard",{get:function(){return this.properties.type===a.POI_TYPE.HAZARD},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLandmark",{get:function(){return this.properties.type===a.POI_TYPE.LANDMARK},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDoor",{get:function(){return this.properties.type===a.POI_TYPE.DOOR},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEntrance",{get:function(){return this.properties.type===a.POI_TYPE.ENTRANCE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDecisionPoint",{get:function(){return this.properties.type===a.POI_TYPE.DECISION},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTicketGate",{get:function(){return this.properties.type===a.POI_TYPE.TICKET_GATE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isElevator",{get:function(){return this.properties.type===a.POI_TYPE.ELEVATOR},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEscalator",{get:function(){return this.properties.type===a.POI_TYPE.ESCALATOR},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isStairCase",{get:function(){return this.properties.type===a.POI_TYPE.STAIRCASE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLevelChanger",{get:function(){return this.isElevator||this.isEscalator||this.isStairCase},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isText",{get:function(){return"text"===this.properties.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSynthetic",{get:function(){var t=["id","place_id","floor_id","level"];return"LineString"!==this.geometry.type&&"MultiLineString"!==this.geometry.type||t.push("class"),0===Object.keys(this.properties).map(function(e){return!t.includes(e)}).filter(function(t){return t}).length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoom",{get:function(){return this.properties.room},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRouting",{get:function(){return"routing"===this.properties.usecase},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getTitle",{get:function(){return this.properties.title},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getTitleWithLevel",{get:function(){return this.properties.title+" - Level: "+this.properties.level},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){this.properties.cameFrom&&delete this.properties.cameFrom,this.properties.fixedPointMap&&delete this.properties.fixedPointMap;var t=JSON.parse(JSON.stringify(this));if(t.properties.metadata&&"object"!=typeof t.properties.metadata)try{t.properties.metadata=JSON.parse(t.properties.metadata)}catch(e){console.log("feature parsing failed:",t.properties.metadata)}return Object.keys(t.properties).forEach(function(e){e.match("__level")&&delete t.properties.key}),t},enumerable:!1,configurable:!0}),e.point=function(t,n,i,r){return new e({id:t,geometry:{type:"Point",coordinates:[i,n]},properties:r})},e.prototype.setTitle=function(t,e){void 0===e&&(e="en"),void 0===this.properties.title_18n&&(this.properties.title_18n={}),this.properties.title_18n[e]=t},e.prototype.hasLevel=function(t){return this.isLevelChanger?this.properties.levels.includes(t):this.properties.level===t},e}(o.default);e.default=l},lYJp:function(t,e,n){var i=n("e/Dd"),r=i.getBCHDigit(1335);e.getEncodedBits=function(t,e){for(var n=t.bit<<3|e,o=n<<10;i.getBCHDigit(o)-r>=0;)o^=1335<<i.getBCHDigit(o)-r;return 21522^(n<<10|o)}},lZA4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.translations=void 0,e.translations={en:{ELEVATOR:"Elevator",ESCALATOR:"Escalator",STAIRS:"Stairs",UP:"up",DOWN:"down",TO_FLOOR:"to floor"},fi:{ELEVATOR:"Hissi",ESCALATOR:"Liukuportaat",STAIRS:"Portaat",UP:"yl\xf6s",DOWN:"alas",TO_FLOOR:"kerrokseen"},ar:{ELEVATOR:"Elevator",ESCALATOR:"Escalator",STAIRS:"Stairs",UP:"up",DOWN:"down",TO_FLOOR:"to floor"}}},llY3:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{u(i.next(t))}catch(e){o(e)}}function s(t){try{u(i.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.getPlaceFloors=e.getFloors=void 0;var o=n("Ijak"),a=n("jXTf");e.getFloors=function(t,e,n,s,u,l){return i(void 0,void 0,void 0,function(){var i,c,h;return r(this,function(r){switch(r.label){case 0:i="",t&&(i+="?limit="+t),e&&(i+="&skip="+e),n&&(i+="&order="+n),s&&(i+="&dir="+s),u&&(i+="&filterByIndex="+u),l&&(i+="&q="+l),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,o.axios.get("core/floors"+i)];case 2:return[2,{data:(c=r.sent()).data.map(function(t){return new a.FloorModel(t)}),total:+c.headers.searchcount}];case 3:throw h=r.sent(),new Error("Retrieving floors failed, "+h.message);case 4:return[2]}})})},e.getPlaceFloors=function(t){return i(void 0,void 0,void 0,function(){var e;return r(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,o.axios.get("core/floors?skip=0&limit=1000&filter=place_id:"+t)];case 1:return[2,n.sent().data.map(function(t){return new a.FloorModel(t)})];case 2:throw e=n.sent(),new Error("Retrieving floors for place '"+t+"' failed, "+e.message);case 3:return[2]}})})},e.default={getFloors:e.getFloors,getPlaceFloors:e.getPlaceFloors}},m5sM:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r=(i=n("wI44"))&&i.__esModule?i:{default:i};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.default;return t.reduce(function(t,n){return"object"===o(t)&&null!==t.last&&(t.distance+=e(n,t.last)),t.last=n,t},{last:null,distance:0}).distance}},m9Uw:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("ZYFb"),r=n("TAHI"),o=n("llY3"),a=n("k9By"),s=n("smFl");e.default={Auth:i.default,Places:r.default,Floors:o.default,Map:a.Map,Select:s.Select}},mSAH:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(n("Zdlu")),r=s(n("dkTa")),o=s(n("rT3r")),a=n("jH9d");function s(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e){return(0,i.default)(e)?!(parseFloat(e)>a.MAXLON||e<a.MINLON):!!(0,r.default)(e)&&t((0,o.default)(e))}},mbFH:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(n("2o5z")),r=s(n("QTq/")),o=s(n("jDUc")),a=n("jH9d");function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;n=void 0===n||isNaN(n)?1:n;var s,u,l,c,h,p,f,d=(0,i.default)(t),g=(0,r.default)(t),m=(0,i.default)(e),_=(0,r.default)(e),y=6356752.314245,v=1/298.257223563,b=(0,o.default)(_-g),w=Math.atan((1-v)*Math.tan((0,o.default)(parseFloat(d)))),x=Math.atan((1-v)*Math.tan((0,o.default)(parseFloat(m)))),k=Math.sin(w),E=Math.cos(w),S=Math.sin(x),C=Math.cos(x),I=b,A=100;do{var P=Math.sin(I),T=Math.cos(I);if(0===(p=Math.sqrt(C*P*(C*P)+(E*S-k*C*T)*(E*S-k*C*T))))return 0;s=k*S+E*C*T,u=Math.atan2(p,s),h=s-2*k*S/(c=1-(l=E*C*P/p)*l),isNaN(h)&&(h=0);var O=v/16*c*(4+v*(4-3*c));f=I,I=b+(1-O)*v*l*(u+O*p*(h+O*s*(2*h*h-1)))}while(Math.abs(I-f)>1e-12&&--A>0);if(0===A)return NaN;var L=c*(a.earthRadius*a.earthRadius-y*y)/(y*y),M=1+L/16384*(4096+L*(L*(320-175*L)-768)),N=L/1024*(256+L*(L*(74-47*L)-128)),R=N*p*(h+N/4*(s*(2*h*h-1)-N/6*h*(4*p*p-3)*(4*h*h-3))),D=y*M*(u-R);return Math.round(D/n)*n}},"me/f":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function(t){return t>1?1:t<-1?-1:t}},mpC8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r=(i=n("NBE3"))&&i.__esModule?i:{default:i};e.default=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.default,i="function"==typeof n?n(t,e):(0,r.default)(t,e);if(isNaN(i))throw new Error("Could not calculate bearing for given points. Check your bearing function");switch(Math.round(i/22.5)){case 1:return"NNE";case 2:return"NE";case 3:return"ENE";case 4:return"E";case 5:return"ESE";case 6:return"SE";case 7:return"SSE";case 8:return"S";case 9:return"SSW";case 10:return"SW";case 11:return"WSW";case 12:return"W";case 13:return"WNW";case 14:return"NW";case 15:return"NNW";default:return"N"}}},mrSG:function(t,e,n){"use strict";function i(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{u(i.next(t))}catch(e){o(e)}}function s(t){try{u(i.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((i=i.apply(t,e||[])).next())})}function r(t){return this instanceof r?(this.v=t,this):new r(t)}function o(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,o=n.apply(t,e||[]),a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(t){o[t]&&(i[t]=function(e){return new Promise(function(n,i){a.push([t,e,n,i])>1||u(t,e)})})}function u(t,e){try{(n=o[t](e)).value instanceof r?Promise.resolve(n.value.v).then(l,c):h(a[0][2],n)}catch(i){h(a[0][3],i)}var n}function l(t){u("next",t)}function c(t){u("throw",t)}function h(t,e){t(e),a.shift(),a.length&&u(a[0][0],a[0][1])}}function a(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise(function(i,r){!function(t,e,n,i){Promise.resolve(i).then(function(e){t({value:e,done:n})},e)}(i,r,(e=t[n](e)).done,e.value)})}}}n.d(e,"d",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a})},nZSm:function(t,e,n){var i=n("u/Db"),r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(t){this.mode=i.ALPHANUMERIC,this.data=t}o.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){var e;for(e=0;e+2<=this.data.length;e+=2){var n=45*r.indexOf(this.data[e]);n+=r.indexOf(this.data[e+1]),t.put(n,11)}this.data.length%2&&t.put(r.indexOf(this.data[e]),6)},t.exports=o},nbsC:function(t,e,n){t.exports=function(){"use strict";var t=Object.prototype.toString,e=Array.isArray||function(e){return"[object Array]"===t.call(e)};function n(t){return"function"==typeof t}function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(t,e){return null!=t&&"object"==typeof t&&e in t}var o=RegExp.prototype.test,a=/\S/,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},u=/\s*/,l=/\s+/,c=/\s*=/,h=/\s*\}/,p=/#|\^|\/|>|\{|&|=|!/;function f(t){this.string=t,this.tail=t,this.pos=0}function d(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function g(){this.templateCache={_cache:{},set:function(t,e){this._cache[t]=e},get:function(t){return this._cache[t]},clear:function(){this._cache={}}}}f.prototype.eos=function(){return""===this.tail},f.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},f.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},d.prototype.push=function(t){return new d(t,this)},d.prototype.lookup=function(t){var e,i,o=this.cache;if(o.hasOwnProperty(t))e=o[t];else{for(var a,s,u,l=this,c=!1;l;){if(t.indexOf(".")>0)for(a=l.view,s=t.split("."),u=0;null!=a&&u<s.length;)u===s.length-1&&(c=r(a,s[u])||null!=(i=a)&&"object"!=typeof i&&i.hasOwnProperty&&i.hasOwnProperty(s[u])),a=a[s[u++]];else a=l.view[t],c=r(l.view,t);if(c){e=a;break}l=l.parent}o[t]=e}return n(e)&&(e=e.call(this.view)),e},g.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},g.prototype.parse=function(t,n){var r=this.templateCache,s=t+":"+(n||m.tags).join(":"),d=void 0!==r,g=d?r.get(s):void 0;return null==g&&(g=function(t,n){if(!t)return[];var r,s,d,g,_=!1,y=[],v=[],b=[],w=!1,x=!1,k="",E=0;function S(){if(w&&!x)for(;b.length;)delete v[b.pop()];else b=[];w=!1,x=!1}function C(t){if("string"==typeof t&&(t=t.split(l,2)),!e(t)||2!==t.length)throw new Error("Invalid tags: "+t);r=new RegExp(i(t[0])+"\\s*"),s=new RegExp("\\s*"+i(t[1])),d=new RegExp("\\s*"+i("}"+t[1]))}C(n||m.tags);for(var I,A,P,T,O,L,M=new f(t);!M.eos();){if(I=M.pos,P=M.scanUntil(r))for(var N=0,R=P.length;N<R;++N)g=T=P.charAt(N),function(t,e){return o.call(t,e)}(a,g)?(x=!0,_=!0,k+=" "):(b.push(v.length),k+=T),v.push(["text",T,I,I+1]),I+=1,"\n"===T&&(S(),k="",E=0,_=!1);if(!M.scan(r))break;if(w=!0,A=M.scan(p)||"name",M.scan(u),"="===A?(P=M.scanUntil(c),M.scan(c),M.scanUntil(s)):"{"===A?(P=M.scanUntil(d),M.scan(h),M.scanUntil(s),A="&"):P=M.scanUntil(s),!M.scan(s))throw new Error("Unclosed tag at "+M.pos);if(O=">"==A?[A,P,I,M.pos,k,E,_]:[A,P,I,M.pos],E++,v.push(O),"#"===A||"^"===A)y.push(O);else if("/"===A){if(!(L=y.pop()))throw new Error('Unopened section "'+P+'" at '+I);if(L[1]!==P)throw new Error('Unclosed section "'+L[1]+'" at '+I)}else"name"===A||"{"===A||"&"===A?x=!0:"="===A&&C(P)}if(S(),L=y.pop())throw new Error('Unclosed section "'+L[1]+'" at '+M.pos);return function(t){for(var e,n=[],i=n,r=[],o=0,a=t.length;o<a;++o)switch((e=t[o])[0]){case"#":case"^":i.push(e),r.push(e),i=e[4]=[];break;case"/":r.pop()[5]=e[2],i=r.length>0?r[r.length-1][4]:n;break;default:i.push(e)}return n}(function(t){for(var e,n,i=[],r=0,o=t.length;r<o;++r)(e=t[r])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(i.push(e),n=e));return i}(v))}(t,n),d&&r.set(s,g)),g},g.prototype.render=function(t,e,n,i){var r=this.getConfigTags(i),o=this.parse(t,r),a=e instanceof d?e:new d(e,void 0);return this.renderTokens(o,a,n,t,i)},g.prototype.renderTokens=function(t,e,n,i,r){for(var o,a,s,u="",l=0,c=t.length;l<c;++l)s=void 0,"#"===(a=(o=t[l])[0])?s=this.renderSection(o,e,n,i,r):"^"===a?s=this.renderInverted(o,e,n,i,r):">"===a?s=this.renderPartial(o,e,n,r):"&"===a?s=this.unescapedValue(o,e):"name"===a?s=this.escapedValue(o,e,r):"text"===a&&(s=this.rawValue(o)),void 0!==s&&(u+=s);return u},g.prototype.renderSection=function(t,i,r,o,a){var s=this,u="",l=i.lookup(t[1]);if(l){if(e(l))for(var c=0,h=l.length;c<h;++c)u+=this.renderTokens(t[4],i.push(l[c]),r,o,a);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)u+=this.renderTokens(t[4],i.push(l),r,o,a);else if(n(l)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(l=l.call(i.view,o.slice(t[3],t[5]),function(t){return s.render(t,i,r,a)}))&&(u+=l)}else u+=this.renderTokens(t[4],i,r,o,a);return u}},g.prototype.renderInverted=function(t,n,i,r,o){var a=n.lookup(t[1]);if(!a||e(a)&&0===a.length)return this.renderTokens(t[4],n,i,r,o)},g.prototype.indentPartial=function(t,e,n){for(var i=e.replace(/[^ \t]/g,""),r=t.split("\n"),o=0;o<r.length;o++)r[o].length&&(o>0||!n)&&(r[o]=i+r[o]);return r.join("\n")},g.prototype.renderPartial=function(t,e,i,r){if(i){var o=this.getConfigTags(r),a=n(i)?i(t[1]):i[t[1]];if(null!=a){var s=t[4],u=a;0==t[5]&&s&&(u=this.indentPartial(a,s,t[6]));var l=this.parse(u,o);return this.renderTokens(l,e,i,u,r)}}},g.prototype.unescapedValue=function(t,e){var n=e.lookup(t[1]);if(null!=n)return n},g.prototype.escapedValue=function(t,e,n){var i=this.getConfigEscape(n)||m.escape,r=e.lookup(t[1]);if(null!=r)return"number"==typeof r&&i===m.escape?String(r):i(r)},g.prototype.rawValue=function(t){return t[1]},g.prototype.getConfigTags=function(t){return e(t)?t:t&&"object"==typeof t?t.tags:void 0},g.prototype.getConfigEscape=function(t){return t&&"object"==typeof t&&!e(t)?t.escape:void 0};var m={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){_.templateCache=t},get templateCache(){return _.templateCache}},_=new g;return m.clearCache=function(){return _.clearCache()},m.parse=function(t,e){return _.parse(t,e)},m.render=function(t,n,i,r){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+(e(o=t)?"array":typeof o)+'" was given as the first argument for mustache#render(template, view, partials)');var o;return _.render(t,n,i,r)},m.escape=function(t){return String(t).replace(/[&<>"'`=\/]/g,function(t){return s[t]})},m.Scanner=f,m.Context=d,m.Writer=g,m}()},ncV3:function(t,e,n){"use strict";var i=n("YI60"),r=n("2+Hy"),o=n("jLWS");function a(t){if(!t||!t.accessToken)throw new Error("Cannot create a client without an access token");i(t.accessToken),this.accessToken=t.accessToken,this.origin=t.origin||o.API_ORIGIN}a.prototype.createRequest=function(t){return new r(this,t)},t.exports=a},oGbY:function(t,e,n){"use strict";var i=n("cRm7"),r=n("73jG"),o=n("jLWS"),a=n("cryX"),s={};function u(t){var e=t.total,n=t.loaded;return{total:e,transferred:n,percent:100*n/e}}function l(t,e){return new Promise(function(n,i){e.onprogress=function(e){t.emitter.emit(o.EVENT_PROGRESS_DOWNLOAD,u(e))};var a=t.file;a&&(e.upload.onprogress=function(e){t.emitter.emit(o.EVENT_PROGRESS_UPLOAD,u(e))}),e.onerror=function(t){i(t)},e.onabort=function(){var e=new r({request:t,type:o.ERROR_REQUEST_ABORTED});i(e)},e.onload=function(){if(delete s[t.id],e.status<200||e.status>=400){var o=new r({request:t,body:e.response,statusCode:e.status});i(o)}else n(e)};var l=t.body;"string"==typeof l?e.send(l):l?e.send(JSON.stringify(l)):a?e.send(a):e.send(),s[t.id]=e}).then(function(e){return function(t,e){return new i(t,{body:e.response,headers:a(e.getAllResponseHeaders()),statusCode:e.status})}(t,e)})}function c(t,e){var n=t.url(e),i=new window.XMLHttpRequest;return i.open(t.method,n),Object.keys(t.headers).forEach(function(e){i.setRequestHeader(e,t.headers[e])}),i}t.exports={browserAbort:function(t){var e=s[t.id];e&&(e.abort(),delete s[t.id])},sendRequestXhr:l,browserSend:function(t){return Promise.resolve().then(function(){var e=c(t,t.client.accessToken);return l(t,e)})},createRequestXhr:c}},oHbY:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutProperties=e.PaintProperties=void 0;var o=n("/R7+"),a=function(t){function e(e){var n=t.call(this)||this;return n.fillExtrusionColor=e["fill-extrusion-color"]||"#000000",n.fillExtrusionOpacity=e["fill-extrusion-opacity"]||1,n.fillExtrusionTranslate=e["fill-extrusion-translate"]||[0,0],n.fillExtrusionTranslateAnchor=e["fill-extrusion-translate-anchor"]||"map",n.fillExtrusionPattern=e["fill-extrusion-pattern"],n.fillExtrusionHeight=e["fill-extrusion-height"]||0,n.fillExtrusionBase=e["fill-extrusion-base"]||0,n.fillExtrusionVerticalGradient=e["fill-extrusion-vertical-gradient"]||!0,n}return r(e,t),e}(o.Serializable);e.PaintProperties=a;var s=function(t){function e(e){var n=t.call(this)||this;return n.visibility=e.visibility||"visible",n}return r(e,t),e}(o.Serializable);e.LayoutProperties=s;var u=function(t){function e(e){var n=t.call(this,e)||this;return n.paint=new a(e.paint||{}),n.layout=new s(e.layout||{}),n}return r(e,t),e}(o.default);e.default=u},"pit/":function(t,e,n){"use strict";var i=n("NkL+"),r=n("U6jy"),o={};function a(t){var e=Array.isArray(t);return function(n){var i=s(o.plainArray,n);if(i)return i;if(e&&n.length!==t.length)return"an array with "+t.length+" items";for(var r=0;r<n.length;r++)if(i=s(e?t[r]:t,n[r]))return[r].concat(i)}}function s(t,e){if(null!=e||t.hasOwnProperty("__required")){var n=t(e);return n?Array.isArray(n)?n:[n]:void 0}}function u(t,e){var n=t.length,i=t[n-1],o=t.slice(0,n-1);return 0===o.length&&(o=["value"]),e=r(e,{path:o}),"function"==typeof i?i(e):c(e,function(t){return"must be "+(/^an? /.test(e=t)?e:/^[aeiou]/i.test(e)?"an "+e:/^[a-z]/i.test(e)?"a "+e:e)+".";var e}(i))}function l(t){return t.length<2?t[0]:2===t.length?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t.slice(-1)}function c(t,e){return(h(t.path)?"Item at position ":"")+t.path.join(".")+" "+e}function h(t){return"number"==typeof t[t.length-1]||"number"==typeof t[0]}o.assert=function(t,e){return e=e||{},function(n){var i=s(t,n);if(i){var r=u(i,e);throw e.apiName&&(r=e.apiName+": "+r),new Error(r)}}},o.shape=function(t){var e,n=(e=t,Object.keys(e||{}).map(function(t){return{key:t,value:e[t]}}));return function(t){var e,i=s(o.plainObject,t);if(i)return i;for(var r=[],a=0;a<n.length;a++)(i=s(n[a].value,t[e=n[a].key]))&&r.push([e].concat(i));return r.length<2?r[0]:function(t){r=r.map(function(e){return"- "+e[0]+": "+u(e,t).split("\n").join("\n  ")});var e=t.path.join(".");return"The following properties"+("value"===e?"":" of "+e)+" have invalid values:\n  "+r.join("\n  ")}}},o.strictShape=function(t){var e=o.shape(t);return function(n){var i=e(n);if(i)return i;var r=Object.keys(n).reduce(function(e,n){return void 0===t[n]&&e.push(n),e},[]);return 0!==r.length?function(){return"The following keys are invalid: "+r.join(", ")}:void 0}},o.arrayOf=function(t){return a(t)},o.tuple=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return a(t)},o.required=function(t){function e(e){return null==e?function(t){return c(t,h(t.path)?"cannot be undefined/null.":"is required.")}:t.apply(this,arguments)}return e.__required=!0,e},o.oneOfType=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function(e){var n=t.map(function(t){return s(t,e)}).filter(Boolean);if(n.length===t.length)return n.every(function(t){return 1===t.length&&"string"==typeof t[0]})?l(n.map(function(t){return t[0]})):n.reduce(function(t,e){return e.length>t.length?e:t})}},o.equal=function(t){return function(e){if(e!==t)return JSON.stringify(t)}},o.oneOf=function(){var t=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),e=t.map(function(t){return o.equal(t)});return o.oneOfType.apply(this,e)},o.range=function(t){var e=t[0],n=t[1];return function(t){if(s(o.number,t)||t<e||t>n)return"number between "+e+" & "+n+" (inclusive)"}},o.any=function(){},o.boolean=function(t){if("boolean"!=typeof t)return"boolean"},o.number=function(t){if("number"!=typeof t)return"number"},o.plainArray=function(t){if(!Array.isArray(t))return"array"},o.plainObject=function(t){if(!i(t))return"object"},o.string=function(t){if("string"!=typeof t)return"string"},o.func=function(t){if("function"!=typeof t)return"function"},o.validate=s,o.processMessage=u,t.exports=o},piyq:function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty,r="~";function o(){}function a(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(t,e,n,i,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new a(n,i||t,o),u=r?r+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function u(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function l(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(r=!1)),l.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)i.call(t,e)&&n.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},l.prototype.listeners=function(t){var e=this._events[r?r+t:t];if(!e)return[];if(e.fn)return[e.fn];for(var n=0,i=e.length,o=new Array(i);n<i;n++)o[n]=e[n].fn;return o},l.prototype.listenerCount=function(t){var e=this._events[r?r+t:t];return e?e.fn?1:e.length:0},l.prototype.emit=function(t,e,n,i,o,a){var s=r?r+t:t;if(!this._events[s])return!1;var u,l,c=this._events[s],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,i),!0;case 5:return c.fn.call(c.context,e,n,i,o),!0;case 6:return c.fn.call(c.context,e,n,i,o,a),!0}for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var p,f=c.length;for(l=0;l<f;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,n);break;case 4:c[l].fn.call(c[l].context,e,n,i);break;default:if(!u)for(p=1,u=new Array(h-1);p<h;p++)u[p-1]=arguments[p];c[l].fn.apply(c[l].context,u)}}return!0},l.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},l.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},l.prototype.removeListener=function(t,e,n,i){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return u(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||i&&!a.once||n&&a.context!==n||u(this,o);else{for(var s=0,l=[],c=a.length;s<c;s++)(a[s].fn!==e||i&&!a[s].once||n&&a[s].context!==n)&&l.push(a[s]);l.length?this._events[o]=1===l.length?l[0]:l:u(this,o)}return this},l.prototype.removeAllListeners=function(t){var e;return t?this._events[e=r?r+t:t]&&u(this,e):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l},qmMu:function(t,e,n){var i=n("Wogr"),r=n("e/Dd"),o=n("ekOh"),a=n("e6BP"),s=n("V35J"),u=n("1sBl"),l=n("kk9/"),c=n("eQOe"),h=n("NPxG"),p=n("jSPq"),f=n("yKow"),d=n("lYJp"),g=n("u/Db"),m=n("vvrf"),_=n("7uVY");function y(t,e,n){var i,r,o=t.size,a=d.getEncodedBits(e,n);for(i=0;i<15;i++)t.set(i<6?i:i<8?i+1:o-15+i,8,r=1==(a>>i&1),!0),t.set(8,i<8?o-i-1:i<9?15-i-1+1:15-i-1,r,!0);t.set(o-8,8,1,!0)}e.create=function(t,e){if(void 0===t||""===t)throw new Error("No input text");var n,d,v=o.M;return void 0!==e&&(v=o.from(e.errorCorrectionLevel,o.M),n=f.from(e.version),d=c.from(e.maskPattern),e.toSJISFunc&&r.setToSJISFunction(e.toSJISFunc)),function(t,e,n,o){var d;if(_(t))d=m.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");var v=e;if(!v){var b=m.rawSplit(t);v=f.getBestVersionForData(b,n)}d=m.fromString(t,v||40)}var w=f.getBestVersionForData(d,n);if(!w)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<w)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+w+".\n")}else e=w;var x=function(t,e,n){var o=new a;n.forEach(function(e){o.put(e.mode.bit,4),o.put(e.getLength(),g.getCharCountIndicator(e.mode,t)),e.write(o)});var s=8*(r.getSymbolTotalCodewords(t)-h.getTotalCodewordsCount(t,e));for(o.getLengthInBits()+4<=s&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(0);for(var u=(s-o.getLengthInBits())/8,l=0;l<u;l++)o.put(l%2?17:236,8);return function(t,e,n){for(var o=r.getSymbolTotalCodewords(e),a=o-h.getTotalCodewordsCount(e,n),s=h.getBlocksCount(e,n),u=s-o%s,l=Math.floor(o/s),c=Math.floor(a/s),f=c+1,d=l-c,g=new p(d),m=0,_=new Array(s),y=new Array(s),v=0,b=new i(t.buffer),w=0;w<s;w++){var x=w<u?c:f;_[w]=b.slice(m,m+x),y[w]=g.encode(_[w]),m+=x,v=Math.max(v,x)}var k,E,S=new i(o),C=0;for(k=0;k<v;k++)for(E=0;E<s;E++)k<_[E].length&&(S[C++]=_[E][k]);for(k=0;k<d;k++)for(E=0;E<s;E++)S[C++]=y[E][k];return S}(o,t,e)}(e,n,d),k=r.getSymbolSize(e),E=new s(k);return function(t,e){for(var n=t.size,i=l.getPositions(e),r=0;r<i.length;r++)for(var o=i[r][0],a=i[r][1],s=-1;s<=7;s++)if(!(o+s<=-1||n<=o+s))for(var u=-1;u<=7;u++)a+u<=-1||n<=a+u||t.set(o+s,a+u,s>=0&&s<=6&&(0===u||6===u)||u>=0&&u<=6&&(0===s||6===s)||s>=2&&s<=4&&u>=2&&u<=4,!0)}(E,e),function(t){for(var e=t.size,n=8;n<e-8;n++){var i=n%2==0;t.set(n,6,i,!0),t.set(6,n,i,!0)}}(E),function(t,e){for(var n=u.getPositions(e),i=0;i<n.length;i++)for(var r=n[i][0],o=n[i][1],a=-2;a<=2;a++)for(var s=-2;s<=2;s++)t.set(r+a,o+s,-2===a||2===a||-2===s||2===s||0===a&&0===s,!0)}(E,e),y(E,n,0),e>=7&&function(t,e){for(var n,i,r,o=t.size,a=f.getEncodedBits(e),s=0;s<18;s++)n=Math.floor(s/3),t.set(n,i=s%3+o-8-3,r=1==(a>>s&1),!0),t.set(i,n,r,!0)}(E,e),function(t,e){for(var n=t.size,i=-1,r=n-1,o=7,a=0,s=n-1;s>0;s-=2)for(6===s&&s--;;){for(var u=0;u<2;u++)if(!t.isReserved(r,s-u)){var l=!1;a<e.length&&(l=1==(e[a]>>>o&1)),t.set(r,s-u,l),-1==--o&&(a++,o=7)}if((r+=i)<0||n<=r){r-=i,i=-i;break}}}(E,x),isNaN(o)&&(o=c.getBestMask(E,y.bind(null,E,n))),c.applyMask(o,E),y(E,n,o),{modules:E,version:e,errorCorrectionLevel:n,maskPattern:o,segments:d}}(t,n,v,d)}},rT3r:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("jH9d");e.default=function(t){var e=new RegExp(i.sexagesimalPattern).exec(t);if(null==e)throw new Error("Given value is not in sexagesimal format");var n=Number(e[2])/60||0,r=Number(e[4])/3600||0,o=parseFloat(e[1])+n+r;return["S","W"].includes(e[7])?-o:o}},sCiF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(n("Zdlu")),r=s(n("dkTa")),o=s(n("rT3r")),a=n("jH9d");function s(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e){return(0,i.default)(e)?!(parseFloat(e)>a.MAXLAT||e<a.MINLAT):!!(0,r.default)(e)&&t((0,o.default)(e))}},smFl:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{u(i.next(t))}catch(e){o(e)}}function s(t){try{u(i.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((i=i.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Select=void 0;var a=n("TAHI"),s=n("llY3"),u=n("fpvS"),l=n("jG4U"),c=n("unae"),h=function(){function t(t,e,n){var r=this;this.useApiSearch=!1,this.onSelectListener=new c.Subject;var o=(null==e?void 0:e.selector)?""+e.selector:"#proximiioSelect";this.useApiSearch=void 0!==n&&n,this.ac=new l(i({data:this.getData(t),selector:o},e)),document.querySelector(o).addEventListener("selection",function(t){var e=t.detail;document.querySelector(o).blur();var n=e.selection.value[e.selection.key];document.querySelector(o).value=n,r.onSelectListener.next(e.selection.value)})}return t.prototype.getData=function(t){return"Places"===t?this.getPlaces():"Floors"===t?this.getFloors():"Pois"===t?this.getPois():void 0},t.prototype.getPlaces=function(){var t=this;return{src:function(e){return r(t,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),this.useApiSearch?[4,a.default.getPlaces(10,0,void 0,void 0,"name",e)]:[3,2];case 1:return t=n.sent(),[3,4];case 2:return[4,a.default.getPlaces(100)];case 3:t=n.sent(),n.label=4;case 4:return[2,t.data];case 5:return[2,n.sent()];case 6:return[2]}})})},keys:["name"],cache:!1}},t.prototype.getFloors=function(){var t=this;return{src:function(e){return r(t,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),this.useApiSearch?[4,s.default.getFloors(10,0,void 0,void 0,"name",e)]:[3,2];case 1:return t=n.sent(),[3,4];case 2:return[4,s.default.getFloors(100)];case 3:t=n.sent(),n.label=4;case 4:return[2,t.data];case 5:return[2,n.sent()];case 6:return[2]}})})},keys:["name"],cache:!1}},t.prototype.getPois=function(){var t=this;return{src:function(e){return r(t,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,u.default.getPois()];case 1:case 2:return[2,t.sent()];case 3:return[2]}})})},keys:["getTitleWithLevel"],cache:!1}},t.prototype.getSelectListener=function(){return this.onSelectListener.asObservable()},t}();e.Select=h},t3RW:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(n("jDUc")),r=s(n("2o5z")),o=s(n("QTq/")),a=n("jH9d");function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e=0;if(t.length>2){for(var n,s,u,l=0;l<t.length;l++){l===t.length-2?(n=t.length-2,s=t.length-1,u=0):l===t.length-1?(n=t.length-1,s=0,u=1):(n=l,s=l+1,u=l+2);var c=(0,o.default)(t[n]),h=(0,r.default)(t[s]),p=(0,o.default)(t[u]);e+=((0,i.default)(p)-(0,i.default)(c))*Math.sin((0,i.default)(h))}e=e*a.earthRadius*a.earthRadius/2}return Math.abs(e)}},t9zq:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LayoutProperties=e.PaintProperties=void 0;var o=n("/R7+"),a=function(t){function e(e){var n=t.call(this)||this;return n.backgroundColor=e["background-color"]||"#000000",n.backgroundPattern=e["background-pattern"],n.backgroundOpacity=e["background-opacity"]||1,n}return r(e,t),e}(o.Serializable);e.PaintProperties=a;var s=function(t){function e(e){var n=t.call(this)||this;return n.visibility=e.visibility||"visible",n}return r(e,t),e}(o.Serializable);e.LayoutProperties=s;var u=function(t){function e(e){var n=t.call(this,e)||this;return n.paint=new a(e.paint||{}),n.layout=new s(e.layout||{}),n}return r(e,t),e}(o.default);e.default=u},tQ2B:function(t,e,n){"use strict";var i=n("xTJ+"),r=n("Rn+g"),o=n("eqyj"),a=n("MLWZ"),s=n("g7np"),u=n("w0Vi"),l=n("OTTw"),c=n("LYNF");t.exports=function(t){return new Promise(function(e,n){var h=t.data,p=t.headers,f=t.responseType;i.isFormData(h)&&delete p["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var g=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";p.Authorization="Basic "+btoa(g+":"+m)}var _=s(t.baseURL,t.url);function y(){if(d){var i="getAllResponseHeaders"in d?u(d.getAllResponseHeaders()):null;r(e,n,{data:f&&"text"!==f&&"json"!==f?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:i,config:t,request:d}),d=null}}if(d.open(t.method.toUpperCase(),a(_,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,"onloadend"in d?d.onloadend=y:d.onreadystatechange=function(){d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))&&setTimeout(y)},d.onabort=function(){d&&(n(c("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){n(c("Network Error",t,null,d)),d=null},d.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(c(e,t,t.transitional&&t.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",d)),d=null},i.isStandardBrowserEnv()){var v=(t.withCredentials||l(_))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;v&&(p[t.xsrfHeaderName]=v)}"setRequestHeader"in d&&i.forEach(p,function(t,e){void 0===h&&"content-type"===e.toLowerCase()?delete p[e]:d.setRequestHeader(e,t)}),i.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),f&&"json"!==f&&(d.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){d&&(d.abort(),n(t),d=null)}),h||(h=null),d.send(h)})}},"u/Db":function(t,e,n){var i=n("J6Nv"),r=n("BCVQ");e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!i.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return r.testNumeric(t)?e.NUMERIC:r.testAlphanumeric(t)?e.ALPHANUMERIC:r.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(i){return n}}},uUT0:function(t,e){var n=function(t){return void 0===t},i=function(t){return Array.isArray(t)},r=function(t){return t&&"number"==typeof t.size&&"string"==typeof t.type&&"function"==typeof t.slice};t.exports={serialize:function t(e,o,a,s){return(o=o||{}).indices=!n(o.indices)&&o.indices,o.nullsAsUndefineds=!n(o.nullsAsUndefineds)&&o.nullsAsUndefineds,o.booleansAsIntegers=!n(o.booleansAsIntegers)&&o.booleansAsIntegers,o.allowEmptyArrays=!n(o.allowEmptyArrays)&&o.allowEmptyArrays,a=a||new FormData,n(e)||(null===e?o.nullsAsUndefineds||a.append(s,""):"boolean"==typeof e?a.append(s,o.booleansAsIntegers?e?1:0:e):i(e)?e.length?e.forEach(function(e,n){t(e,o,a,s+"["+(o.indices?n:"")+"]")}):o.allowEmptyArrays&&a.append(s+"[]",""):e instanceof Date?a.append(s,e.toISOString()):(u=e)!==Object(u)||function(t){return r(t)&&"string"==typeof t.name&&("object"==typeof t.lastModifiedDate||"number"==typeof t.lastModified)}(e)||r(e)?a.append(s,e):Object.keys(e).forEach(function(n){var r=e[n];if(i(r))for(;n.length>2&&n.lastIndexOf("[]")===n.length-2;)n=n.substring(0,n.length-2);t(r,o,a,s?s+"["+n+"]":n)})),a;var u}}},unae:function(t,e,n){"use strict";function a(t){return"function"==typeof t}function c(t){var e=t(function(t){Error.call(t),t.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}n.r(e),n.d(e,"Observable",function(){return U}),n.d(e,"ConnectableObservable",function(){return X}),n.d(e,"observable",function(){return F}),n.d(e,"animationFrames",function(){return J}),n.d(e,"Subject",function(){return nt}),n.d(e,"BehaviorSubject",function(){return ot}),n.d(e,"ReplaySubject",function(){return st}),n.d(e,"AsyncSubject",function(){return ut}),n.d(e,"asap",function(){return wt}),n.d(e,"asapScheduler",function(){return bt}),n.d(e,"async",function(){return kt}),n.d(e,"asyncScheduler",function(){return xt}),n.d(e,"queue",function(){return St}),n.d(e,"queueScheduler",function(){return Et}),n.d(e,"animationFrame",function(){return It}),n.d(e,"animationFrameScheduler",function(){return Ct}),n.d(e,"VirtualTimeScheduler",function(){return At}),n.d(e,"VirtualAction",function(){return Pt}),n.d(e,"Scheduler",function(){return yt}),n.d(e,"Subscription",function(){return _}),n.d(e,"Subscriber",function(){return T}),n.d(e,"Notification",function(){return oe}),n.d(e,"NotificationKind",function(){return qt}),n.d(e,"pipe",function(){return j}),n.d(e,"noop",function(){return S}),n.d(e,"identity",function(){return B}),n.d(e,"isObservable",function(){return se}),n.d(e,"lastValueFrom",function(){return le}),n.d(e,"firstValueFrom",function(){return ce}),n.d(e,"ArgumentOutOfRangeError",function(){return he}),n.d(e,"EmptyError",function(){return ue}),n.d(e,"NotFoundError",function(){return pe}),n.d(e,"ObjectUnsubscribedError",function(){return et}),n.d(e,"SequenceError",function(){return fe}),n.d(e,"TimeoutError",function(){return ge}),n.d(e,"UnsubscriptionError",function(){return d}),n.d(e,"bindCallback",function(){return xe}),n.d(e,"bindNodeCallback",function(){return ke}),n.d(e,"combineLatest",function(){return Te}),n.d(e,"concat",function(){return ze}),n.d(e,"connectable",function(){return je}),n.d(e,"defer",function(){return Fe}),n.d(e,"empty",function(){return Ot}),n.d(e,"forkJoin",function(){return Ve}),n.d(e,"from",function(){return ne}),n.d(e,"fromEvent",function(){return He}),n.d(e,"fromEventPattern",function(){return Ye}),n.d(e,"generate",function(){return Ze}),n.d(e,"iif",function(){return Xe}),n.d(e,"interval",function(){return $e}),n.d(e,"merge",function(){return Je}),n.d(e,"never",function(){return tn}),n.d(e,"of",function(){return ie}),n.d(e,"onErrorResumeNext",function(){return rn}),n.d(e,"pairs",function(){return on}),n.d(e,"partition",function(){return un}),n.d(e,"race",function(){return ln}),n.d(e,"range",function(){return hn}),n.d(e,"throwError",function(){return re}),n.d(e,"timer",function(){return Ke}),n.d(e,"using",function(){return pn}),n.d(e,"zip",function(){return fn}),n.d(e,"scheduled",function(){return ee}),n.d(e,"EMPTY",function(){return Tt}),n.d(e,"NEVER",function(){return Qe}),n.d(e,"config",function(){return x}),n.d(e,"audit",function(){return dn}),n.d(e,"auditTime",function(){return gn}),n.d(e,"buffer",function(){return mn}),n.d(e,"bufferCount",function(){return _n}),n.d(e,"bufferTime",function(){return yn}),n.d(e,"bufferToggle",function(){return vn}),n.d(e,"bufferWhen",function(){return bn}),n.d(e,"catchError",function(){return wn}),n.d(e,"combineAll",function(){return An}),n.d(e,"combineLatestAll",function(){return In}),n.d(e,"combineLatestWith",function(){return Tn}),n.d(e,"concatAll",function(){return De}),n.d(e,"concatMap",function(){return On}),n.d(e,"concatMapTo",function(){return Ln}),n.d(e,"concatWith",function(){return Mn}),n.d(e,"connect",function(){return Rn}),n.d(e,"count",function(){return Dn}),n.d(e,"debounce",function(){return zn}),n.d(e,"debounceTime",function(){return Fn}),n.d(e,"defaultIfEmpty",function(){return Bn}),n.d(e,"delay",function(){return Gn}),n.d(e,"delayWhen",function(){return qn}),n.d(e,"dematerialize",function(){return Hn}),n.d(e,"distinct",function(){return Wn}),n.d(e,"distinctUntilChanged",function(){return Yn}),n.d(e,"distinctUntilKeyChanged",function(){return Xn}),n.d(e,"elementAt",function(){return Jn}),n.d(e,"endWith",function(){return Qn}),n.d(e,"every",function(){return ti}),n.d(e,"exhaust",function(){return ii}),n.d(e,"exhaustAll",function(){return ni}),n.d(e,"exhaustMap",function(){return ei}),n.d(e,"expand",function(){return ri}),n.d(e,"filter",function(){return sn}),n.d(e,"finalize",function(){return oi}),n.d(e,"find",function(){return ai}),n.d(e,"findIndex",function(){return ui}),n.d(e,"first",function(){return li}),n.d(e,"groupBy",function(){return ci}),n.d(e,"ignoreElements",function(){return Vn}),n.d(e,"isEmpty",function(){return hi}),n.d(e,"last",function(){return fi}),n.d(e,"map",function(){return ye}),n.d(e,"mapTo",function(){return Un}),n.d(e,"materialize",function(){return di}),n.d(e,"max",function(){return gi}),n.d(e,"mergeAll",function(){return Re}),n.d(e,"flatMap",function(){return mi}),n.d(e,"mergeMap",function(){return Ne}),n.d(e,"mergeMapTo",function(){return _i}),n.d(e,"mergeScan",function(){return yi}),n.d(e,"mergeWith",function(){return vi}),n.d(e,"min",function(){return bi}),n.d(e,"multicast",function(){return wi}),n.d(e,"observeOn",function(){return $t}),n.d(e,"onErrorResumeNextWith",function(){return xi}),n.d(e,"pairwise",function(){return ki}),n.d(e,"pluck",function(){return Ei}),n.d(e,"publish",function(){return Si}),n.d(e,"publishBehavior",function(){return Ci}),n.d(e,"publishLast",function(){return Ii}),n.d(e,"publishReplay",function(){return Ai}),n.d(e,"raceWith",function(){return Pi}),n.d(e,"reduce",function(){return kn}),n.d(e,"repeat",function(){return Ti}),n.d(e,"repeatWhen",function(){return Oi}),n.d(e,"retry",function(){return Li}),n.d(e,"retryWhen",function(){return Mi}),n.d(e,"refCount",function(){return Z}),n.d(e,"sample",function(){return Ni}),n.d(e,"sampleTime",function(){return Ri}),n.d(e,"scan",function(){return Di}),n.d(e,"sequenceEqual",function(){return zi}),n.d(e,"share",function(){return Fi}),n.d(e,"shareReplay",function(){return ji}),n.d(e,"single",function(){return Vi}),n.d(e,"skip",function(){return Ui}),n.d(e,"skipLast",function(){return qi}),n.d(e,"skipUntil",function(){return Gi}),n.d(e,"skipWhile",function(){return Hi}),n.d(e,"startWith",function(){return Wi}),n.d(e,"subscribeOn",function(){return Jt}),n.d(e,"switchAll",function(){return Zi}),n.d(e,"switchMap",function(){return Yi}),n.d(e,"switchMapTo",function(){return Xi}),n.d(e,"switchScan",function(){return Ki}),n.d(e,"take",function(){return jn}),n.d(e,"takeLast",function(){return pi}),n.d(e,"takeUntil",function(){return $i}),n.d(e,"takeWhile",function(){return Ji}),n.d(e,"tap",function(){return Qi}),n.d(e,"throttle",function(){return er}),n.d(e,"throttleTime",function(){return nr}),n.d(e,"throwIfEmpty",function(){return Kn}),n.d(e,"timeInterval",function(){return ir}),n.d(e,"timeout",function(){return me}),n.d(e,"timeoutWith",function(){return or}),n.d(e,"timestamp",function(){return ar}),n.d(e,"toArray",function(){return Sn}),n.d(e,"window",function(){return sr}),n.d(e,"windowCount",function(){return ur}),n.d(e,"windowTime",function(){return lr}),n.d(e,"windowToggle",function(){return cr}),n.d(e,"windowWhen",function(){return hr}),n.d(e,"withLatestFrom",function(){return pr}),n.d(e,"zipAll",function(){return fr}),n.d(e,"zipWith",function(){return dr});var d=c(function(t){return function(e){t(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map(function(t,e){return"".concat(e+1,") ").concat(t.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e}});function g(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var _=function(){function t(e){m(this,t),this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return y(t,[{key:"unsubscribe",value:function(){var t;if(!this.closed){this.closed=!0;var e=this._parentage;if(e)if(this._parentage=null,Array.isArray(e)){var n,i=f(e);try{for(i.s();!(n=i.n()).done;){n.value.remove(this)}}catch(c){i.e(c)}finally{i.f()}}else e.remove(this);var r=this.initialTeardown;if(a(r))try{r()}catch(h){t=h instanceof d?h.errors:[h]}var o=this._finalizers;if(o){this._finalizers=null;var s,u=f(o);try{for(u.s();!(s=u.n()).done;){var l=s.value;try{w(l)}catch(c){t=null!=t?t:[],c instanceof d?t=[].concat(p(t),p(c.errors)):t.push(c)}}}catch(c){u.e(c)}finally{u.f()}}if(t)throw new d(t)}}},{key:"add",value:function(e){var n;if(e&&e!==this)if(this.closed)w(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}},{key:"_hasParent",value:function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)}},{key:"_addParent",value:function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}},{key:"_removeParent",value:function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&g(e,t)}},{key:"remove",value:function(e){var n=this._finalizers;n&&g(n,e),e instanceof t&&e._removeParent(this)}}]),t}();_.EMPTY=function(){var t=new _;return t.closed=!0,t}();var v=_.EMPTY;function b(t){return t instanceof _||t&&"closed"in t&&a(t.remove)&&a(t.add)&&a(t.unsubscribe)}function w(t){a(t)?t():t.unsubscribe()}var x={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},k={setTimeout:function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e){for(var n=k.delegate,i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];return(null==n?void 0:n.setTimeout)?n.setTimeout.apply(n,[t,e].concat(r)):setTimeout.apply(void 0,[t,e].concat(r))}),clearTimeout:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){var e=k.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)}),delegate:void 0};function E(t){k.setTimeout(function(){var e=x.onUnhandledError;if(!e)throw t;e(t)})}function S(){}var C=I("C",void 0,void 0);function I(t,e,n){return{kind:t,value:e,error:n}}var A=null;function P(t){if(x.useDeprecatedSynchronousErrorHandling){var e=!A;if(e&&(A={errorThrown:!1,error:null}),t(),e){var n=A,i=n.errorThrown,r=n.error;if(A=null,i)throw r}}else t()}var T=function(t){o(n,t);var e=s(n);function n(t){var i;return m(this,n),(i=e.call(this)).isStopped=!1,t?(i.destination=t,b(t)&&t.add(l(i))):i.destination=z,i}return y(n,[{key:"next",value:function(t){this.isStopped?D(function(t){return I("N",t,void 0)}(t),this):this._next(t)}},{key:"error",value:function(t){this.isStopped?D(I("E",void 0,t),this):(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped?D(C,this):(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,r(h(n.prototype),"unsubscribe",this).call(this),this.destination=null)}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){try{this.destination.error(t)}finally{this.unsubscribe()}}},{key:"_complete",value:function(){try{this.destination.complete()}finally{this.unsubscribe()}}}],[{key:"create",value:function(t,e,n){return new N(t,e,n)}}]),n}(_),O=Function.prototype.bind;function L(t,e){return O.call(t,e)}var M=function(){function t(e){m(this,t),this.partialObserver=e}return y(t,[{key:"next",value:function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(n){R(n)}}},{key:"error",value:function t(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(t){R(t)}else R(e)}},{key:"complete",value:function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(e){R(e)}}}]),t}(),N=function(t){o(n,t);var e=s(n);function n(t,i,r){var o,s,c;(m(this,n),o=e.call(this),a(t)||!t)?s={next:null!=t?t:void 0,error:null!=i?i:void 0,complete:null!=r?r:void 0}:l(o)&&x.useDeprecatedNextContext?((c=Object.create(t)).unsubscribe=function(){return o.unsubscribe()},s={next:t.next&&L(t.next,c),error:t.error&&L(t.error,c),complete:t.complete&&L(t.complete,c)}):s=t;return o.destination=new M(s),u(o)}return n}(T);function R(t){var e;x.useDeprecatedSynchronousErrorHandling?(e=t,x.useDeprecatedSynchronousErrorHandling&&A&&(A.errorThrown=!0,A.error=e)):E(t)}function D(t,e){var n=x.onStoppedNotification;n&&k.setTimeout(function(){return n(t,e)})}var z={closed:!0,next:S,error:function(t){throw t},complete:S},F="function"==typeof Symbol&&Symbol.observable||"@@observable";function B(t){return t}function j(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return V(e)}function V(t){return 0===t.length?B:1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}}var U=function(){function t(e){m(this,t),e&&(this._subscribe=e)}return y(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var i,r=this,o=(i=t)&&i instanceof T||function(t){return t&&a(t.next)&&a(t.error)&&a(t.complete)}(i)&&b(i)?t:new N(t,e,n);return P(function(){var t=r.operator,e=r.source;o.add(t?t.call(o,e):e?r._subscribe(o):r._trySubscribe(o))}),o}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){t.error(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=q(e))(function(e,i){var r=new N({next:function(e){try{t(e)}catch(n){i(n),r.unsubscribe()}},error:i,complete:e});n.subscribe(r)})}},{key:"_subscribe",value:function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)}},{key:F,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return V(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=q(t))(function(t,n){var i;e.subscribe(function(t){return i=t},function(t){return n(t)},function(){return t(i)})})}}]),t}();function q(t){var e;return null!==(e=null!=t?t:x.Promise)&&void 0!==e?e:Promise}function G(t){return a(null==t?void 0:t.lift)}function H(t){return function(e){if(G(e))return e.lift(function(e){try{return t(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function W(t,e,n,i,r){return new Y(t,e,n,i,r)}U.create=function(t){return new U(t)};var Y=function(t){o(n,t);var e=s(n);function n(t,i,o,a,s,u){var c,p,f,d;return m(this,n),(d=e.call(this,t)).onFinalize=s,d.shouldUnsubscribe=u,d._next=i?function(e){try{i(e)}catch(n){t.error(n)}}:r((c=l(d),h(n.prototype)),"_next",c),d._error=a?function(e){try{a(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:r((p=l(d),h(n.prototype)),"_error",p),d._complete=o?function(){try{o()}catch(e){t.error(e)}finally{this.unsubscribe()}}:r((f=l(d),h(n.prototype)),"_complete",f),d}return y(n,[{key:"unsubscribe",value:function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var e=this.closed;r(h(n.prototype),"unsubscribe",this).call(this),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}]),n}(T);function Z(){return H(function(t,e){var n=null;t._refCount++;var i=W(e,void 0,void 0,void 0,function(){if(!t||t._refCount<=0||0<--t._refCount)n=null;else{var i=t._connection,r=n;n=null,!i||r&&i!==r||i.unsubscribe(),e.unsubscribe()}});t.subscribe(i),i.closed||(n=t.connect())})}var X=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this)).source=t,r.subjectFactory=i,r._subject=null,r._refCount=0,r._connection=null,G(t)&&(r.lift=t.lift),r}return y(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"_teardown",value:function(){this._refCount=0;var t=this._connection;this._subject=this._connection=null,null==t||t.unsubscribe()}},{key:"connect",value:function(){var t=this,e=this._connection;if(!e){e=this._connection=new _;var n=this.getSubject();e.add(this.source.subscribe(W(n,void 0,function(){t._teardown(),n.complete()},function(e){t._teardown(),n.error(e)},function(){return t._teardown()}))),e.closed&&(this._connection=null,e=_.EMPTY)}return e}},{key:"refCount",value:function(){return Z()(this)}}]),n}(U),K={now:function(){return(K.delegate||performance).now()},delegate:void 0},$={schedule:function(t){var e=requestAnimationFrame,n=cancelAnimationFrame,i=$.delegate;i&&(e=i.requestAnimationFrame,n=i.cancelAnimationFrame);var r=e(function(e){n=void 0,t(e)});return new _(function(){return null==n?void 0:n(r)})},requestAnimationFrame:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){var t=$.delegate;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame).apply(void 0,arguments)}),cancelAnimationFrame:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){var t=$.delegate;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,arguments)}),delegate:void 0};function J(t){return t?Q(t):tt}function Q(t){return new U(function(e){var n=t||K,i=n.now(),r=0;return function o(){e.closed||(r=$.requestAnimationFrame(function(a){r=0;var s=n.now();e.next({timestamp:t?s:a,elapsed:s-i}),o()}))}(),function(){r&&$.cancelAnimationFrame(r)}})}var tt=Q(),et=c(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),nt=function(t){o(n,t);var e=s(n);function n(){var t;return m(this,n),(t=e.call(this)).closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return y(n,[{key:"lift",value:function(t){var e=new rt(this,this);return e.operator=t,e}},{key:"_throwIfClosed",value:function(){if(this.closed)throw new et}},{key:"next",value:function(t){var e=this;P(function(){if(e._throwIfClosed(),!e.isStopped){e.currentObservers||(e.currentObservers=Array.from(e.observers));var n,i=f(e.currentObservers);try{for(i.s();!(n=i.n()).done;){n.value.next(t)}}catch(r){i.e(r)}finally{i.f()}}})}},{key:"error",value:function(t){var e=this;P(function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var n=e.observers;n.length;)n.shift().error(t)}})}},{key:"complete",value:function(){var t=this;P(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}})}},{key:"unsubscribe",value:function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}},{key:"observed",get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}},{key:"_trySubscribe",value:function(t){return this._throwIfClosed(),r(h(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}},{key:"_innerSubscribe",value:function(t){var e=this,n=this.hasError,i=this.isStopped,r=this.observers;return n||i?v:(this.currentObservers=null,r.push(t),new _(function(){e.currentObservers=null,g(r,t)}))}},{key:"_checkFinalizedStatuses",value:function(t){var e=this.hasError,n=this.thrownError,i=this.isStopped;e?t.error(n):i&&t.complete()}},{key:"asObservable",value:function(){var t=new U;return t.source=this,t}}]),n}(U);nt.create=function(t,e){return new rt(t,e)};var it,rt=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this)).destination=t,r.source=i,r}return y(n,[{key:"next",value:function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)}},{key:"error",value:function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)}},{key:"complete",value:function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}},{key:"_subscribe",value:function(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:v}}]),n}(nt),ot=function(t){o(n,t);var e=s(n);function n(t){var i;return m(this,n),(i=e.call(this))._value=t,i}return y(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(t){var e=r(h(n.prototype),"_subscribe",this).call(this,t);return!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){var t=this.hasError,e=this.thrownError,n=this._value;if(t)throw e;return this._throwIfClosed(),n}},{key:"next",value:function(t){r(h(n.prototype),"next",this).call(this,this._value=t)}}]),n}(nt),at={now:function(){return(at.delegate||Date).now()},delegate:void 0},st=function(t){o(n,t);var e=s(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:at;return m(this,n),(t=e.call(this))._bufferSize=i,t._windowTime=r,t._timestampProvider=o,t._buffer=[],t._infiniteTimeWindow=!0,t._infiniteTimeWindow=r===1/0,t._bufferSize=Math.max(1,i),t._windowTime=Math.max(1,r),t}return y(n,[{key:"next",value:function(t){var e=this.isStopped,i=this._buffer,o=this._infiniteTimeWindow,a=this._timestampProvider,s=this._windowTime;e||(i.push(t),!o&&i.push(a.now()+s)),this._trimBuffer(),r(h(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){this._throwIfClosed(),this._trimBuffer();for(var e=this._innerSubscribe(t),n=this._infiniteTimeWindow,i=this._buffer.slice(),r=0;r<i.length&&!t.closed;r+=n?1:2)t.next(i[r]);return this._checkFinalizedStatuses(t),e}},{key:"_trimBuffer",value:function(){var t=this._bufferSize,e=this._timestampProvider,n=this._buffer,i=this._infiniteTimeWindow,r=(i?1:2)*t;if(t<1/0&&r<n.length&&n.splice(0,n.length-r),!i){for(var o=e.now(),a=0,s=1;s<n.length&&n[s]<=o;s+=2)a=s;a&&n.splice(0,a+1)}}}]),n}(nt),ut=function(t){o(n,t);var e=s(n);function n(){var t;return m(this,n),(t=e.apply(this,arguments))._value=null,t._hasValue=!1,t._isComplete=!1,t}return y(n,[{key:"_checkFinalizedStatuses",value:function(t){var e=this.hasError,n=this._hasValue,i=this._value,r=this.thrownError,o=this.isStopped,a=this._isComplete;e?t.error(r):(o||a)&&(n&&t.next(i),t.complete())}},{key:"next",value:function(t){this.isStopped||(this._value=t,this._hasValue=!0)}},{key:"complete",value:function(){var t=this._hasValue,e=this._value;this._isComplete||(this._isComplete=!0,t&&r(h(n.prototype),"next",this).call(this,e),r(h(n.prototype),"complete",this).call(this))}}]),n}(nt),lt=function(t){o(n,t);var e=s(n);function n(t,i){return m(this,n),e.call(this)}return y(n,[{key:"schedule",value:function(t){return this}}]),n}(_),ct={setInterval:function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e){for(var n=ct.delegate,i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];return(null==n?void 0:n.setInterval)?n.setInterval.apply(n,[t,e].concat(r)):setInterval.apply(void 0,[t,e].concat(r))}),clearInterval:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){var e=ct.delegate;return((null==e?void 0:e.clearInterval)||clearInterval)(t)}),delegate:void 0},ht=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r.pending=!1,r}return y(n,[{key:"schedule",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,n)),this.pending=!0,this.delay=n,this.id=null!==(e=this.id)&&void 0!==e?e:this.requestAsyncId(r,this.id,n),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return ct.setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!=n&&this.delay===n&&!1===this.pending)return e;null!=e&&ct.clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n,i=!1;try{this.work(t)}catch(r){i=!0,n=r||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),n}},{key:"unsubscribe",value:function(){if(!this.closed){var t=this.id,e=this.scheduler,i=e.actions;this.work=this.state=this.scheduler=null,this.pending=!1,g(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,r(h(n.prototype),"unsubscribe",this).call(this)}}}]),n}(lt),pt=1,ft={};function dt(t){return t in ft&&(delete ft[t],!0)}var gt=function(t){var e=pt++;return ft[e]=!0,it||(it=Promise.resolve()),it.then(function(){return dt(e)&&t()}),e},mt=function(t){dt(t)},_t={setImmediate:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){var t=_t.delegate;return((null==t?void 0:t.setImmediate)||gt).apply(void 0,arguments)}),clearImmediate:function(t){var e=_t.delegate;return((null==e?void 0:e.clearImmediate)||mt)(t)},delegate:void 0},yt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;m(this,t),this.schedulerActionCtor=e,this.now=n}return y(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.schedulerActionCtor(this,t).schedule(n,e)}}]),t}();yt.now=at.now;var vt=function(t){o(n,t);var e=s(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yt.now;return m(this,n),(i=e.call(this,t,r)).actions=[],i._active=!1,i}return y(n,[{key:"flush",value:function(t){var e=this.actions;if(this._active)e.push(t);else{var n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(yt),bt=new(function(t){o(n,t);var e=s(n);function n(){return m(this,n),e.apply(this,arguments)}return y(n,[{key:"flush",value:function(t){this._active=!0;var e=this._scheduled;this._scheduled=void 0;var n,i=this.actions;t=t||i.shift();do{if(n=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,n){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw n}}}]),n}(vt))(function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r}return y(n,[{key:"requestAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?r(h(n.prototype),"requestAsyncId",this).call(this,t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=_t.setImmediate(t.flush.bind(t,void 0))))}},{key:"recycleAsyncId",value:function(t,e){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!=o?o>0:this.delay>0)return r(h(n.prototype),"recycleAsyncId",this).call(this,t,e,o);var a=t.actions;null!=e&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==e&&(_t.clearImmediate(e),t._scheduled=void 0)}}]),n}(ht)),wt=bt,xt=new vt(ht),kt=xt,Et=new(function(t){o(n,t);var e=s(n);function n(){return m(this,n),e.apply(this,arguments)}return n}(vt))(function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r}return y(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?r(h(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?r(h(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!=i&&i>0||null==i&&this.delay>0?r(h(n.prototype),"requestAsyncId",this).call(this,t,e,i):(t.flush(this),0)}}]),n}(ht)),St=Et,Ct=new(function(t){o(n,t);var e=s(n);function n(){return m(this,n),e.apply(this,arguments)}return y(n,[{key:"flush",value:function(t){this._active=!0;var e=this._scheduled;this._scheduled=void 0;var n,i=this.actions;t=t||i.shift();do{if(n=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,n){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw n}}}]),n}(vt))(function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r}return y(n,[{key:"requestAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?r(h(n.prototype),"requestAsyncId",this).call(this,t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=$.requestAnimationFrame(function(){return t.flush(void 0)})))}},{key:"recycleAsyncId",value:function(t,e){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!=o?o>0:this.delay>0)return r(h(n.prototype),"recycleAsyncId",this).call(this,t,e,o);var a=t.actions;null!=e&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==e&&($.cancelAnimationFrame(e),t._scheduled=void 0)}}]),n}(ht)),It=Ct,At=function(t){o(n,t);var e=s(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return m(this,n),(t=e.call(this,i,function(){return t.frame})).maxFrames=r,t.frame=0,t.index=-1,t}return y(n,[{key:"flush",value:function(){for(var t,e,n=this.actions,i=this.maxFrames;(e=n[0])&&e.delay<=i&&(n.shift(),this.frame=e.delay,!(t=e.execute(e.state,e.delay))););if(t){for(;e=n.shift();)e.unsubscribe();throw t}}}]),n}(vt);At.frameTimeFactor=10;var Pt=function(t){o(n,t);var e=s(n);function n(t,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.index+=1;return m(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r.index=o,r.active=!0,r.index=t.index=o,r}return y(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(Number.isFinite(e)){if(!this.id)return r(h(n.prototype),"schedule",this).call(this,t,e);this.active=!1;var i=new n(this.scheduler,this.work);return this.add(i),i.schedule(t,e)}return _.EMPTY}},{key:"requestAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.delay=t.frame+i;var r=t.actions;return r.push(this),r.sort(n.sortActions),1}},{key:"recycleAsyncId",value:function(t,e){}},{key:"_execute",value:function(t,e){if(!0===this.active)return r(h(n.prototype),"_execute",this).call(this,t,e)}}],[{key:"sortActions",value:function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1}}]),n}(ht),Tt=new U(function(t){return t.complete()});function Ot(t){return t?function(t){return new U(function(e){return t.schedule(function(){return e.complete()})})}(t):Tt}function Lt(t){return t&&a(t.schedule)}function Mt(t){return t[t.length-1]}function Nt(t){return a(Mt(t))?t.pop():void 0}function Rt(t){return Lt(Mt(t))?t.pop():void 0}function Dt(t,e){return"number"==typeof Mt(t)?t.pop():e}var zt=n("mrSG"),Ft=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function Bt(t){return a(null==t?void 0:t.then)}function jt(t){return a(t[F])}function Vt(t){return Symbol.asyncIterator&&a(null==t?void 0:t[Symbol.asyncIterator])}function Ut(t){return new TypeError("You provided ".concat(null!==t&&"object"==typeof t?"an invalid object":"'".concat(t,"'")," where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable."))}var qt,Gt="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Ht(t){return a(null==t?void 0:t[Gt])}function Wt(t){return Object(zt.a)(this,arguments,regeneratorRuntime.mark(function e(){var n,i,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.getReader(),e.prev=1;case 2:return e.next=4,Object(zt.c)(n.read());case 4:if(i=e.sent,r=i.value,!i.done){e.next=11;break}return e.next=10,Object(zt.c)(void 0);case 10:return e.abrupt("return",e.sent);case 11:return e.next=13,Object(zt.c)(r);case 13:return e.next=15,e.sent;case 15:e.next=2;break;case 17:return e.prev=17,n.releaseLock(),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[1,,17,20]])}))}function Yt(t){return a(null==t?void 0:t.getReader)}function Zt(t){if(t instanceof U)return t;if(null!=t){if(jt(t))return r=t,new U(function(t){var e=r[F]();if(a(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")});if(Ft(t))return i=t,new U(function(t){for(var e=0;e<i.length&&!t.closed;e++)t.next(i[e]);t.complete()});if(Bt(t))return n=t,new U(function(t){n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,E)});if(Vt(t))return Xt(t);if(Ht(t))return e=t,new U(function(t){var n,i=f(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(t.next(r),t.closed)return}}catch(o){i.e(o)}finally{i.f()}t.complete()});if(Yt(t))return Xt(Wt(t))}var e,n,i,r;throw Ut(t)}function Xt(t){return new U(function(e){(function(t,e){var n,i,r,o;return Object(zt.d)(this,void 0,void 0,regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:a.prev=0,n=Object(zt.b)(t);case 2:return a.next=4,n.next();case 4:if((i=a.sent).done){a.next=9;break}if(e.next(i.value),!e.closed){a.next=7;break}return a.abrupt("return");case 7:a.next=2;break;case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),r={error:a.t0};case 14:if(a.prev=14,a.prev=15,a.t1=i&&!i.done&&(o=n.return),!a.t1){a.next=20;break}return a.next=20,o.call(n);case 20:if(a.prev=20,!r){a.next=23;break}throw r.error;case 23:return a.finish(20);case 24:return a.finish(14);case 25:e.complete();case 26:case"end":return a.stop()}},a,null,[[0,11,14,25],[15,,20,24]])}))})(t,e).catch(function(t){return e.error(t)})})}function Kt(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function $t(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return H(function(n,i){n.subscribe(W(i,function(n){return Kt(i,t,function(){return i.next(n)},e)},function(){return Kt(i,t,function(){return i.complete()},e)},function(n){return Kt(i,t,function(){return i.error(n)},e)}))})}function Jt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return H(function(n,i){i.add(t.schedule(function(){return n.subscribe(i)},e))})}function Qt(t,e){return new U(function(n){var i;return Kt(n,e,function(){i=t[Gt](),Kt(n,e,function(){var t,e;try{var r=i.next();t=r.value,e=r.done}catch(o){return void n.error(o)}e?n.complete():n.next(t)},0,!0)}),function(){return a(null==i?void 0:i.return)&&i.return()}})}function te(t,e){if(!t)throw new Error("Iterable cannot be null");return new U(function(n){Kt(n,e,function(){var i=t[Symbol.asyncIterator]();Kt(n,e,function(){i.next().then(function(t){t.done?n.complete():n.next(t.value)})},0,!0)})})}function ee(t,e){if(null!=t){if(jt(t))return function(t,e){return Zt(t).pipe(Jt(e),$t(e))}(t,e);if(Ft(t))return function(t,e){return new U(function(n){var i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}(t,e);if(Bt(t))return function(t,e){return Zt(t).pipe(Jt(e),$t(e))}(t,e);if(Vt(t))return te(t,e);if(Ht(t))return Qt(t,e);if(Yt(t))return function(t,e){return te(Wt(t),e)}(t,e)}throw Ut(t)}function ne(t,e){return e?ee(t,e):Zt(t)}function ie(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return ne(e,Rt(e))}function re(t,e){var n=a(t)?t:function(){return t},i=function(t){return t.error(n())};return new U(e?function(t){return e.schedule(i,0,t)}:i)}!function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"}(qt||(qt={}));var oe=function(){function t(e,n,i){m(this,t),this.kind=e,this.value=n,this.error=i,this.hasValue="N"===e}return y(t,[{key:"observe",value:function(t){return ae(this,t)}},{key:"do",value:function(t,e,n){var i=this.kind,r=this.value,o=this.error;return"N"===i?null==t?void 0:t(r):"E"===i?null==e?void 0:e(o):null==n?void 0:n()}},{key:"accept",value:function(t,e,n){var i;return a(null===(i=t)||void 0===i?void 0:i.next)?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){var t=this.kind,e=this.value,n=this.error,i="N"===t?ie(e):"E"===t?re(function(){return n}):"C"===t?Tt:0;if(!i)throw new TypeError("Unexpected notification kind ".concat(t));return i}}],[{key:"createNext",value:function(e){return new t("N",e)}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}();function ae(t,e){var n,i,r,o=t.kind,a=t.value,s=t.error;if("string"!=typeof o)throw new TypeError('Invalid notification, missing "kind"');"N"===o?null===(n=e.next)||void 0===n||n.call(e,a):"E"===o?null===(i=e.error)||void 0===i||i.call(e,s):null===(r=e.complete)||void 0===r||r.call(e)}function se(t){return!!t&&(t instanceof U||a(t.lift)&&a(t.subscribe))}oe.completeNotification=new oe("C");var ue=c(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function le(t,e){var n="object"==typeof e;return new Promise(function(i,r){var o,a=!1;t.subscribe({next:function(t){o=t,a=!0},error:r,complete:function(){a?i(o):n?i(e.defaultValue):r(new ue)}})})}function ce(t,e){var n="object"==typeof e;return new Promise(function(i,r){var o=new N({next:function(t){i(t),o.unsubscribe()},error:r,complete:function(){n?i(e.defaultValue):r(new ue)}});t.subscribe(o)})}var he=c(function(t){return function(){t(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}}),pe=c(function(t){return function(e){t(this),this.name="NotFoundError",this.message=e}}),fe=c(function(t){return function(e){t(this),this.name="SequenceError",this.message=e}});function de(t){return t instanceof Date&&!isNaN(t)}var ge=c(function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e}});function me(t,e){var n=de(t)?{first:t}:"number"==typeof t?{each:t}:t,i=n.first,r=n.each,o=n.with,a=void 0===o?_e:o,s=n.scheduler,u=void 0===s?null!=e?e:xt:s,l=n.meta,c=void 0===l?null:l;if(null==i&&null==r)throw new TypeError("No timeout provided.");return H(function(t,e){var n,o,s=null,l=0,h=function(t){o=Kt(e,u,function(){try{n.unsubscribe(),Zt(a({meta:c,lastValue:s,seen:l})).subscribe(e)}catch(t){e.error(t)}},t)};n=t.subscribe(W(e,function(t){null==o||o.unsubscribe(),l++,e.next(s=t),r>0&&h(r)},void 0,void 0,function(){(null==o?void 0:o.closed)||null==o||o.unsubscribe(),s=null})),!l&&h(null!=i?"number"==typeof i?i:+i-u.now():r)})}function _e(t){throw new ge(t)}function ye(t,e){return H(function(n,i){var r=0;n.subscribe(W(i,function(n){i.next(t.call(e,n,r++))}))})}var ve=Array.isArray;function be(t){return ye(function(e){return function(t,e){return ve(e)?t.apply(void 0,p(e)):t(e)}(t,e)})}function we(t,e,n,i){if(n){if(!Lt(n))return function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return we(t,e,i).apply(this,o).pipe(be(n))};i=n}return i?function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return we(t,e).apply(this,r).pipe(Jt(i),$t(i))}:function(){for(var n=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var a=new ut,s=!0;return new U(function(i){var o=a.subscribe(i);if(s){s=!1;var u=!1,l=!1;e.apply(n,[].concat(r,[function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(t){var r=n.shift();if(null!=r)return void a.error(r)}a.next(1<n.length?n:n[0]),l=!0,u&&a.complete()}])),l&&a.complete(),u=!0}return o})}}function xe(t,e,n){return we(!1,t,e,n)}function ke(t,e,n){return we(!0,t,e,n)}var Ee=Array.isArray,Se=Object.getPrototypeOf,Ce=Object.prototype,Ie=Object.keys;function Ae(t){if(1===t.length){var e=t[0];if(Ee(e))return{args:e,keys:null};if((i=e)&&"object"==typeof i&&Se(i)===Ce){var n=Ie(e);return{args:n.map(function(t){return e[t]}),keys:n}}}var i;return{args:t,keys:null}}function Pe(t,e){return t.reduce(function(t,n,i){return t[n]=e[i],t},{})}function Te(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=Rt(e),r=Nt(e),o=Ae(e),a=o.args,s=o.keys;if(0===a.length)return ne([],i);var u=new U(Oe(a,i,s?function(t){return Pe(s,t)}:B));return r?u.pipe(be(r)):u}function Oe(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B;return function(i){Le(e,function(){for(var r=t.length,o=new Array(r),a=r,s=r,u=function(r){Le(e,function(){var u=ne(t[r],e),l=!1;u.subscribe(W(i,function(t){o[r]=t,l||(l=!0,s--),s||i.next(n(o.slice()))},function(){--a||i.complete()}))},i)},l=0;l<r;l++)u(l)},i)}}function Le(t,e,n){t?Kt(n,t,e):e()}function Me(t,e,n,i,r,o,a,s){var u=[],l=0,c=0,h=!1,p=function(){!h||u.length||l||e.complete()},f=function(t){return l<i?d(t):u.push(t)},d=function t(s){o&&e.next(s),l++;var h=!1;Zt(n(s,c++)).subscribe(W(e,function(t){null==r||r(t),o?f(t):e.next(t)},function(){h=!0},void 0,function(){if(h)try{var n=function(){var n=u.shift();a?Kt(e,a,function(){return t(n)}):t(n)};for(l--;u.length&&l<i;)n();p()}catch(r){e.error(r)}}))};return t.subscribe(W(e,f,function(){h=!0,p()})),function(){null==s||s()}}function Ne(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return a(e)?Ne(function(n,i){return ye(function(t,r){return e(n,t,i,r)})(Zt(t(n,i)))},n):("number"==typeof e&&(n=e),H(function(e,i){return Me(e,i,t,n)}))}function Re(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0;return Ne(B,t)}function De(){return Re(1)}function ze(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return De()(ne(e,Rt(e)))}function Fe(t){return new U(function(e){Zt(t()).subscribe(e)})}var Be={connector:function(){return new nt},resetOnDisconnect:!0};function je(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be,n=null,i=e.connector,r=e.resetOnDisconnect,o=void 0===r||r,a=i(),s=new U(function(t){return a.subscribe(t)});return s.connect=function(){return n&&!n.closed||(n=Fe(function(){return t}).subscribe(a),o&&n.add(function(){return a=i()})),n},s}function Ve(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=Nt(e),r=Ae(e),o=r.args,a=r.keys,s=new U(function(t){var e=o.length;if(e)for(var n=new Array(e),i=e,r=e,s=function(e){var s=!1;Zt(o[e]).subscribe(W(t,function(t){s||(s=!0,r--),n[e]=t},function(){return i--},void 0,function(){i&&s||(r||t.next(a?Pe(a,n):n),t.complete())}))},u=0;u<e;u++)s(u);else t.complete()});return i?s.pipe(be(i)):s}var Ue=["addListener","removeListener"],qe=["addEventListener","removeEventListener"],Ge=["on","off"];function He(t,e,n,r){if(a(n)&&(r=n,n=void 0),r)return He(t,e,n).pipe(be(r));var o=i(function(t){return a(t.addEventListener)&&a(t.removeEventListener)}(t)?qe.map(function(i){return function(r){return t[i](e,r,n)}}):function(t){return a(t.addListener)&&a(t.removeListener)}(t)?Ue.map(We(t,e)):function(t){return a(t.on)&&a(t.off)}(t)?Ge.map(We(t,e)):[],2),s=o[0],u=o[1];if(!s&&Ft(t))return Ne(function(t){return He(t,e,n)})(Zt(t));if(!s)throw new TypeError("Invalid event target");return new U(function(t){var e=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.next(1<n.length?n:n[0])};return s(e),function(){return u(e)}})}function We(t,e){return function(n){return function(i){return t[n](e,i)}}}function Ye(t,e,n){return n?Ye(t,e).pipe(be(n)):new U(function(n){var i=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.next(1===e.length?e[0]:e)},r=t(i);return a(e)?function(){return e(i,r)}:void 0})}function Ze(t,e,n,i,r){var o,a,s,u,l=regeneratorRuntime.mark(c);function c(){var t;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:t=u;case 1:if(e&&!e(t)){i.next=7;break}return i.next=4,s(t);case 4:t=n(t),i.next=1;break;case 7:case"end":return i.stop()}},l)}return 1===arguments.length?(u=(o=t).initialState,e=o.condition,n=o.iterate,a=o.resultSelector,s=void 0===a?B:a,r=o.scheduler):(u=t,!i||Lt(i)?(s=B,r=i):s=i),Fe(r?function(){return Qt(c(),r)}:c)}function Xe(t,e,n){return Fe(function(){return t()?e:n})}function Ke(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kt,i=-1;return null!=e&&(Lt(e)?n=e:i=e),new U(function(e){var r=de(t)?+t-n.now():t;r<0&&(r=0);var o=0;return n.schedule(function(){e.closed||(e.next(o++),0<=i?this.schedule(void 0,i):e.complete())},r)})}function $e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xt;return t<0&&(t=0),Ke(t,t,e)}function Je(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=Rt(e),r=Dt(e,1/0),o=e;return o.length?1===o.length?Zt(o[0]):Re(r)(ne(o,i)):Tt}var Qe=new U(S);function tn(){return Qe}var en=Array.isArray;function nn(t){return 1===t.length&&en(t[0])?t[0]:t}function rn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=nn(e);return new U(function(t){var e=0;!function n(){if(e<i.length){var r;try{r=Zt(i[e++])}catch(a){return void n()}var o=new Y(t,void 0,S,S);r.subscribe(o),o.add(n)}else t.complete()}()})}function on(t,e){return ne(Object.entries(t),e)}function an(t,e){return function(n,i){return!t.call(e,n,i)}}function sn(t,e){return H(function(n,i){var r=0;n.subscribe(W(i,function(n){return t.call(e,n,r++)&&i.next(n)}))})}function un(t,e,n){return[sn(e,n)(Zt(t)),sn(an(e,n))(Zt(t))]}function ln(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 1===(e=nn(e)).length?Zt(e[0]):new U(cn(e))}function cn(t){return function(e){for(var n=[],i=function(i){n.push(Zt(t[i]).subscribe(W(e,function(t){if(n){for(var r=0;r<n.length;r++)r!==i&&n[r].unsubscribe();n=null}e.next(t)})))},r=0;n&&!e.closed&&r<t.length;r++)i(r)}}function hn(t,e,n){if(null==e&&(e=t,t=0),e<=0)return Tt;var i=e+t;return new U(n?function(e){var r=t;return n.schedule(function(){r<i?(e.next(r++),this.schedule()):e.complete()})}:function(e){for(var n=t;n<i&&!e.closed;)e.next(n++);e.complete()})}function pn(t,e){return new U(function(n){var i=t(),r=e(i);return(r?Zt(r):Tt).subscribe(n),function(){i&&i.unsubscribe()}})}function fn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=Nt(e),r=nn(e);return r.length?new U(function(t){var e=r.map(function(){return[]}),n=r.map(function(){return!1});t.add(function(){e=n=null});for(var o=function(o){Zt(r[o]).subscribe(W(t,function(r){if(e[o].push(r),e.every(function(t){return t.length})){var a=e.map(function(t){return t.shift()});t.next(i?i.apply(void 0,p(a)):a),e.some(function(t,e){return!t.length&&n[e]})&&t.complete()}},function(){n[o]=!0,!e[o].length&&t.complete()}))},a=0;!t.closed&&a<r.length;a++)o(a);return function(){e=n=null}}):Tt}function dn(t){return H(function(e,n){var i=!1,r=null,o=null,a=!1,s=function(){if(null==o||o.unsubscribe(),o=null,i){i=!1;var t=r;r=null,n.next(t)}a&&n.complete()},u=function(){o=null,a&&n.complete()};e.subscribe(W(n,function(e){i=!0,r=e,o||Zt(t(e)).subscribe(o=W(n,s,u))},function(){a=!0,(!i||!o||o.closed)&&n.complete()}))})}function gn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xt;return dn(function(){return Ke(t,e)})}function mn(t){return H(function(e,n){var i=[];return e.subscribe(W(n,function(t){return i.push(t)},function(){n.next(i),n.complete()})),Zt(t).subscribe(W(n,function(){var t=i;i=[],n.next(t)},S)),function(){i=null}})}function _n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e=null!=e?e:t,H(function(n,i){var r=[],o=0;n.subscribe(W(i,function(n){var a=null;o++%e==0&&r.push([]);var s,u=f(r);try{for(u.s();!(s=u.n()).done;){var l=s.value;l.push(n),t<=l.length&&(a=null!=a?a:[]).push(l)}}catch(d){u.e(d)}finally{u.f()}if(a){var c,h=f(a);try{for(h.s();!(c=h.n()).done;){var p=c.value;g(r,p),i.next(p)}}catch(d){h.e(d)}finally{h.f()}}},function(){var t,e=f(r);try{for(e.s();!(t=e.n()).done;){var n=t.value;i.next(n)}}catch(o){e.e(o)}finally{e.f()}i.complete()},void 0,function(){r=null}))})}function yn(t){for(var e,n,i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];var a=null!==(e=Rt(r))&&void 0!==e?e:xt,s=null!==(n=r[0])&&void 0!==n?n:null,u=r[1]||1/0;return H(function(e,n){var i=[],r=!1,o=function(t){var e=t.buffer;t.subs.unsubscribe(),g(i,t),n.next(e),r&&l()},l=function(){if(i){var e=new _;n.add(e);var r={buffer:[],subs:e};i.push(r),Kt(e,a,function(){return o(r)},t)}};null!==s&&s>=0?Kt(n,a,l,s,!0):r=!0,l();var c=W(n,function(t){var e,n=f(i.slice());try{for(n.s();!(e=n.n()).done;){var r=e.value,a=r.buffer;a.push(t),u<=a.length&&o(r)}}catch(s){n.e(s)}finally{n.f()}},function(){for(;null==i?void 0:i.length;)n.next(i.shift().buffer);null==c||c.unsubscribe(),n.complete(),n.unsubscribe()},void 0,function(){return i=null});e.subscribe(c)})}function vn(t,e){return H(function(n,i){var r=[];Zt(t).subscribe(W(i,function(t){var n=[];r.push(n);var o=new _;o.add(Zt(e(t)).subscribe(W(i,function(){g(r,n),i.next(n),o.unsubscribe()},S)))},S)),n.subscribe(W(i,function(t){var e,n=f(r);try{for(n.s();!(e=n.n()).done;){e.value.push(t)}}catch(i){n.e(i)}finally{n.f()}},function(){for(;r.length>0;)i.next(r.shift());i.complete()}))})}function bn(t){return H(function(e,n){var i=null,r=null;(function e(){null==r||r.unsubscribe();var o=i;i=[],o&&n.next(o),Zt(t()).subscribe(r=W(n,e,S))})(),e.subscribe(W(n,function(t){return null==i?void 0:i.push(t)},function(){i&&n.next(i),n.complete()},void 0,function(){return i=r=null}))})}function wn(t){return H(function(e,n){var i,r=null,o=!1;r=e.subscribe(W(n,void 0,void 0,function(a){i=Zt(t(a,wn(t)(e))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function xn(t,e,n,i,r){return function(o,a){var s=n,u=e,l=0;o.subscribe(W(a,function(e){var n=l++;u=s?t(u,e,n):(s=!0,e),i&&a.next(u)},r&&function(){s&&a.next(u),a.complete()}))}}function kn(t,e){return H(xn(t,e,arguments.length>=2,!1,!0))}var En=function(t,e){return t.push(e),t};function Sn(){return H(function(t,e){kn(En,[])(t).subscribe(e)})}function Cn(t,e){return j(Sn(),Ne(function(e){return t(e)}),e?be(e):B)}function In(t){return Cn(Te,t)}var An=In;function Pn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=Nt(e);return i?j(Pn.apply(void 0,e),be(i)):H(function(t,n){Oe([t].concat(p(nn(e))))(n)})}function Tn(){return Pn.apply(void 0,arguments)}function On(t,e){return a(e)?Ne(t,e,1):Ne(t,1)}function Ln(t,e){return a(e)?On(function(){return t},e):On(function(){return t})}function Mn(){return(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=Rt(e);return H(function(t,n){De()(ne([t].concat(e),i)).subscribe(n)})}).apply(void 0,arguments)}var Nn={connector:function(){return new nt}};function Rn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nn,n=e.connector;return H(function(e,i){var r,o=n();Zt(t((r=o,new U(function(t){return r.subscribe(t)})))).subscribe(i),i.add(e.subscribe(o))})}function Dn(t){return kn(function(e,n,i){return!t||t(n,i)?e+1:e},0)}function zn(t){return H(function(e,n){var i=!1,r=null,o=null,a=function(){if(null==o||o.unsubscribe(),o=null,i){i=!1;var t=r;r=null,n.next(t)}};e.subscribe(W(n,function(e){null==o||o.unsubscribe(),i=!0,r=e,o=W(n,a,S),Zt(t(e)).subscribe(o)},function(){a(),n.complete()},void 0,function(){r=o=null}))})}function Fn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xt;return H(function(n,i){var r=null,o=null,a=null,s=function(){if(r){r.unsubscribe(),r=null;var t=o;o=null,i.next(t)}};function u(){var n=a+t,o=e.now();if(o<n)return r=this.schedule(void 0,n-o),void i.add(r);s()}n.subscribe(W(i,function(n){o=n,a=e.now(),r||(r=e.schedule(u,t),i.add(r))},function(){s(),i.complete()},void 0,function(){o=r=null}))})}function Bn(t){return H(function(e,n){var i=!1;e.subscribe(W(n,function(t){i=!0,n.next(t)},function(){i||n.next(t),n.complete()}))})}function jn(t){return t<=0?function(){return Tt}:H(function(e,n){var i=0;e.subscribe(W(n,function(e){++i<=t&&(n.next(e),t<=i&&n.complete())}))})}function Vn(){return H(function(t,e){t.subscribe(W(e,S))})}function Un(t){return ye(function(){return t})}function qn(t,e){return e?function(n){return ze(e.pipe(jn(1),Vn()),n.pipe(qn(t)))}:Ne(function(e,n){return Zt(t(e,n)).pipe(jn(1),Un(e))})}function Gn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xt,n=Ke(t,e);return qn(function(){return n})}function Hn(){return H(function(t,e){t.subscribe(W(e,function(t){return ae(t,e)}))})}function Wn(t,e){return H(function(n,i){var r=new Set;n.subscribe(W(i,function(e){var n=t?t(e):e;r.has(n)||(r.add(n),i.next(e))})),e&&Zt(e).subscribe(W(i,function(){return r.clear()},S))})}function Yn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B;return t=null!=t?t:Zn,H(function(n,i){var r,o=!0;n.subscribe(W(i,function(n){var a=e(n);!o&&t(r,a)||(o=!1,r=a,i.next(n))}))})}function Zn(t,e){return t===e}function Xn(t,e){return Yn(function(n,i){return e?e(n[t],i[t]):n[t]===i[t]})}function Kn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n;return H(function(e,n){var i=!1;e.subscribe(W(n,function(t){i=!0,n.next(t)},function(){return i?n.complete():n.error(t())}))})}function $n(){return new ue}function Jn(t,e){if(t<0)throw new he;var n=arguments.length>=2;return function(i){return i.pipe(sn(function(e,n){return n===t}),jn(1),n?Bn(e):Kn(function(){return new he}))}}function Qn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return ze(t,ie.apply(void 0,e))}}function ti(t,e){return H(function(n,i){var r=0;n.subscribe(W(i,function(o){t.call(e,o,r++,n)||(i.next(!1),i.complete())},function(){i.next(!0),i.complete()}))})}function ei(t,e){return e?function(n){return n.pipe(ei(function(n,i){return Zt(t(n,i)).pipe(ye(function(t,r){return e(n,t,i,r)}))}))}:H(function(e,n){var i=0,r=null,o=!1;e.subscribe(W(n,function(e){r||(r=W(n,void 0,function(){r=null,o&&n.complete()}),Zt(t(e,i++)).subscribe(r))},function(){o=!0,!r&&n.complete()}))})}function ni(){return ei(B)}var ii=ni;function ri(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2?arguments[2]:void 0;return e=(e||0)<1?1/0:e,H(function(i,r){return Me(i,r,t,e,void 0,!0,n)})}function oi(t){return H(function(e,n){try{e.subscribe(n)}finally{n.add(t)}})}function ai(t,e){return H(si(t,e,"value"))}function si(t,e,n){var i="index"===n;return function(n,r){var o=0;n.subscribe(W(r,function(a){var s=o++;t.call(e,a,s,n)&&(r.next(i?s:a),r.complete())},function(){r.next(i?-1:void 0),r.complete()}))}}function ui(t,e){return H(si(t,e,"index"))}function li(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?sn(function(e,n){return t(e,n,i)}):B,jn(1),n?Bn(e):Kn(function(){return new ue}))}}function ci(t,e,n,i){return H(function(r,o){var a,s;e&&"function"!=typeof e?(n=(a=e).duration,s=a.element,i=a.connector):s=e;var u=new Map,l=function(t){u.forEach(t),t(o)},c=function(t){return l(function(e){return e.error(t)})},h=0,p=!1,f=new Y(o,function(e){try{var r=t(e),a=u.get(r);if(!a){u.set(r,a=i?i():new nt);var l=function(t,e){var n=new U(function(t){h++;var n=e.subscribe(t);return function(){n.unsubscribe(),0==--h&&p&&f.unsubscribe()}});return n.key=t,n}(r,a);if(o.next(l),n){var d=W(a,function(){a.complete(),null==d||d.unsubscribe()},void 0,void 0,function(){return u.delete(r)});f.add(Zt(n(l)).subscribe(d))}}a.next(s?s(e):e)}catch(g){c(g)}},function(){return l(function(t){return t.complete()})},c,function(){return u.clear()},function(){return p=!0,0===h});r.subscribe(f)})}function hi(){return H(function(t,e){t.subscribe(W(e,function(){e.next(!1),e.complete()},function(){e.next(!0),e.complete()}))})}function pi(t){return t<=0?function(){return Tt}:H(function(e,n){var i=[];e.subscribe(W(n,function(e){i.push(e),t<i.length&&i.shift()},function(){var t,e=f(i);try{for(e.s();!(t=e.n()).done;){var r=t.value;n.next(r)}}catch(o){e.e(o)}finally{e.f()}n.complete()},void 0,function(){i=null}))})}function fi(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?sn(function(e,n){return t(e,n,i)}):B,pi(1),n?Bn(e):Kn(function(){return new ue}))}}function di(){return H(function(t,e){t.subscribe(W(e,function(t){e.next(oe.createNext(t))},function(){e.next(oe.createComplete()),e.complete()},function(t){e.next(oe.createError(t)),e.complete()}))})}function gi(t){return kn(a(t)?function(e,n){return t(e,n)>0?e:n}:function(t,e){return t>e?t:e})}var mi=Ne;function _i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return a(e)?Ne(function(){return t},e,n):("number"==typeof e&&(n=e),Ne(function(){return t},n))}function yi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return H(function(i,r){var o=e;return Me(i,r,function(e,n){return t(o,e,n)},n,function(t){o=t},!1,void 0,function(){return o=null})})}function vi(){return(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=Rt(e),r=Dt(e,1/0);return e=nn(e),H(function(t,n){Re(r)(ne([t].concat(p(e)),i)).subscribe(n)})}).apply(void 0,arguments)}function bi(t){return kn(a(t)?function(e,n){return t(e,n)<0?e:n}:function(t,e){return t<e?t:e})}function wi(t,e){var n=a(t)?t:function(){return t};return a(e)?Rn(e,{connector:n}):function(t){return new X(t,n)}}function xi(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=nn(e);return function(t){return rn.apply(void 0,[t].concat(p(i)))}}function ki(){return H(function(t,e){var n,i=!1;t.subscribe(W(e,function(t){var r=n;n=t,i&&e.next([r,t]),i=!0}))})}function Ei(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e.length;if(0===i)throw new Error("list of properties cannot be empty.");return ye(function(t){for(var n=t,r=0;r<i;r++){var o=null==n?void 0:n[e[r]];if(void 0===o)return;n=o}return n})}function Si(t){return t?function(e){return Rn(t)(e)}:function(t){return wi(new nt)(t)}}function Ci(t){return function(e){var n=new ot(t);return new X(e,function(){return n})}}function Ii(){return function(t){var e=new ut;return new X(t,function(){return e})}}function Ai(t,e,n,i){n&&!a(n)&&(i=n);var r=a(n)?n:void 0;return function(n){return wi(new st(t,e,i),r)(n)}}function Pi(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length?H(function(t,n){cn([t].concat(e))(n)}):B}function Ti(t){var e,n,i,r=1/0;return null!=t&&("object"==typeof t?(n=(e=t).count,r=void 0===n?1/0:n,i=e.delay):r=t),r<=0?function(){return Tt}:H(function(t,e){var n,o=0,a=function(){if(null==n||n.unsubscribe(),n=null,null!=i){var t="number"==typeof i?Ke(i):Zt(i(o)),r=W(e,function(){r.unsubscribe(),s()});t.subscribe(r)}else s()},s=function(){var i=!1;n=t.subscribe(W(e,void 0,function(){++o<r?n?a():i=!0:e.complete()})),i&&a()};s()})}function Oi(t){return H(function(e,n){var i,r,o=!1,a=!1,s=!1,u=function(){return s&&a&&(n.complete(),!0)};!function l(){s=!1,i=e.subscribe(W(n,void 0,function(){s=!0,!u()&&(r||(r=new nt,Zt(t(r)).subscribe(W(n,function(){i?l():o=!0},function(){a=!0,u()}))),r).next()})),o&&(i.unsubscribe(),i=null,o=!1,l())}()})}function Li(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,e=t&&"object"==typeof t?t:{count:t},n=e.count,i=void 0===n?1/0:n,r=e.delay,o=e.resetOnSuccess,a=void 0!==o&&o;return i<=0?B:H(function(t,e){var n,o=0;!function s(){var u=!1;n=t.subscribe(W(e,function(t){a&&(o=0),e.next(t)},void 0,function(t){if(o++<i){var a=function(){n?(n.unsubscribe(),n=null,s()):u=!0};if(null!=r){var l="number"==typeof r?Ke(r):Zt(r(t,o)),c=W(e,function(){c.unsubscribe(),a()},function(){e.complete()});l.subscribe(c)}else a()}else e.error(t)})),u&&(n.unsubscribe(),n=null,s())}()})}function Mi(t){return H(function(e,n){var i,r,o=!1;!function a(){i=e.subscribe(W(n,void 0,void 0,function(e){r||(r=new nt,Zt(t(r)).subscribe(W(n,function(){return i?a():o=!0}))),r&&r.next(e)})),o&&(i.unsubscribe(),i=null,o=!1,a())}()})}function Ni(t){return H(function(e,n){var i=!1,r=null;e.subscribe(W(n,function(t){i=!0,r=t})),Zt(t).subscribe(W(n,function(){if(i){i=!1;var t=r;r=null,n.next(t)}},S))})}function Ri(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xt;return Ni($e(t,e))}function Di(t,e){return H(xn(t,e,arguments.length>=2,!0))}function zi(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t,e){return t===e};return H(function(n,i){var r={buffer:[],complete:!1},o={buffer:[],complete:!1},a=function(t){i.next(t),i.complete()},s=function(t,n){var r=W(i,function(i){var r=n.buffer,o=n.complete;0===r.length?o?a(!1):t.buffer.push(i):!e(i,r.shift())&&a(!1)},function(){t.complete=!0;var e=n.complete,i=n.buffer;e&&a(0===i.length),null==r||r.unsubscribe()});return r};n.subscribe(s(r,o)),Zt(t).subscribe(s(o,r))})}function Fi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.connector,n=void 0===e?function(){return new nt}:e,i=t.resetOnError,r=void 0===i||i,o=t.resetOnComplete,a=void 0===o||o,s=t.resetOnRefCountZero,u=void 0===s||s;return function(t){var e,i,o,s=0,l=!1,c=!1,h=function(){null==i||i.unsubscribe(),i=void 0},p=function(){h(),e=o=void 0,l=c=!1},f=function(){var t=e;p(),null==t||t.unsubscribe()};return H(function(t,d){s++,c||l||h();var g=o=null!=o?o:n();d.add(function(){0!==--s||c||l||(i=Bi(f,u))}),g.subscribe(d),!e&&s>0&&(e=new N({next:function(t){return g.next(t)},error:function(t){c=!0,h(),i=Bi(p,r,t),g.error(t)},complete:function(){l=!0,h(),i=Bi(p,a),g.complete()}}),Zt(t).subscribe(e))})(t)}}function Bi(t,e){if(!0!==e){if(!1!==e){for(var n=new N({next:function(){n.unsubscribe(),t()}}),i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];return Zt(e.apply(void 0,r)).subscribe(n)}}else t()}function ji(t,e,n){var i,r,o,a,s,u=!1;return t&&"object"==typeof t?(r=(i=t).bufferSize,s=void 0===r?1/0:r,o=i.windowTime,e=void 0===o?1/0:o,u=void 0!==(a=i.refCount)&&a,n=i.scheduler):s=null!=t?t:1/0,Fi({connector:function(){return new st(s,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}function Vi(t){return H(function(e,n){var i,r=!1,o=!1,a=0;e.subscribe(W(n,function(s){o=!0,t&&!t(s,a++,e)||(r&&n.error(new fe("Too many matching values")),r=!0,i=s)},function(){r?(n.next(i),n.complete()):n.error(o?new pe("No matching values"):new ue)}))})}function Ui(t){return sn(function(e,n){return t<=n})}function qi(t){return t<=0?B:H(function(e,n){var i=new Array(t),r=0;return e.subscribe(W(n,function(e){var o=r++;if(o<t)i[o]=e;else{var a=o%t,s=i[a];i[a]=e,n.next(s)}})),function(){i=null}})}function Gi(t){return H(function(e,n){var i=!1,r=W(n,function(){null==r||r.unsubscribe(),i=!0},S);Zt(t).subscribe(r),e.subscribe(W(n,function(t){return i&&n.next(t)}))})}function Hi(t){return H(function(e,n){var i=!1,r=0;e.subscribe(W(n,function(e){return(i||(i=!t(e,r++)))&&n.next(e)}))})}function Wi(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=Rt(e);return H(function(t,n){(i?ze(e,t,i):ze(e,t)).subscribe(n)})}function Yi(t,e){return H(function(n,i){var r=null,o=0,a=!1,s=function(){return a&&!r&&i.complete()};n.subscribe(W(i,function(n){null==r||r.unsubscribe();var a=0,u=o++;Zt(t(n,u)).subscribe(r=W(i,function(t){return i.next(e?e(n,t,u,a++):t)},function(){r=null,s()}))},function(){a=!0,s()}))})}function Zi(){return Yi(B)}function Xi(t,e){return a(e)?Yi(function(){return t},e):Yi(function(){return t})}function Ki(t,e){return H(function(n,i){var r=e;return Yi(function(e,n){return t(r,e,n)},function(t,e){return r=e,e})(n).subscribe(i),function(){r=null}})}function $i(t){return H(function(e,n){Zt(t).subscribe(W(n,function(){return n.complete()},S)),!n.closed&&e.subscribe(n)})}function Ji(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return H(function(n,i){var r=0;n.subscribe(W(i,function(n){var o=t(n,r++);(o||e)&&i.next(n),!o&&i.complete()}))})}function Qi(t,e,n){var i=a(t)||e||n?{next:t,error:e,complete:n}:t;return i?H(function(t,e){var n;null===(n=i.subscribe)||void 0===n||n.call(i);var r=!0;t.subscribe(W(e,function(t){var n;null===(n=i.next)||void 0===n||n.call(i,t),e.next(t)},function(){var t;r=!1,null===(t=i.complete)||void 0===t||t.call(i),e.complete()},function(t){var n;r=!1,null===(n=i.error)||void 0===n||n.call(i,t),e.error(t)},function(){var t,e;r&&(null===(t=i.unsubscribe)||void 0===t||t.call(i)),null===(e=i.finalize)||void 0===e||e.call(i)}))}):B}var tr={leading:!0,trailing:!1};function er(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tr;return H(function(n,i){var r=e.leading,o=e.trailing,a=!1,s=null,u=null,l=!1,c=function(){null==u||u.unsubscribe(),u=null,o&&(f(),l&&i.complete())},h=function(){u=null,l&&i.complete()},p=function(e){return u=Zt(t(e)).subscribe(W(i,c,h))},f=function(){if(a){a=!1;var t=s;s=null,i.next(t),!l&&p(t)}};n.subscribe(W(i,function(t){a=!0,s=t,(!u||u.closed)&&(r?f():p(t))},function(){l=!0,(!(o&&a&&u)||u.closed)&&i.complete()}))})}function nr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tr,i=Ke(t,e);return er(function(){return i},n)}function ir(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt;return H(function(e,n){var i=t.now();e.subscribe(W(n,function(e){var r=t.now(),o=r-i;i=r,n.next(new rr(e,o))}))})}var rr=function t(e,n){m(this,t),this.value=e,this.interval=n};function or(t,e,n){var i,r,o;if(n=null!=n?n:kt,de(t)?i=t:"number"==typeof t&&(r=t),!e)throw new TypeError("No observable provided to switch to");if(o=function(){return e},null==i&&null==r)throw new TypeError("No timeout provided.");return me({first:i,each:r,scheduler:n,with:o})}function ar(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at;return ye(function(e){return{value:e,timestamp:t.now()}})}function sr(t){return H(function(e,n){var i=new nt;n.next(i.asObservable());var r=function(t){i.error(t),n.error(t)};return e.subscribe(W(n,function(t){return null==i?void 0:i.next(t)},function(){i.complete(),n.complete()},r)),Zt(t).subscribe(W(n,function(){i.complete(),n.next(i=new nt)},S,r)),function(){null==i||i.unsubscribe(),i=null}})}function ur(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e>0?e:t;return H(function(e,i){var r=[new nt],o=0;i.next(r[0].asObservable()),e.subscribe(W(i,function(e){var a,s=f(r);try{for(s.s();!(a=s.n()).done;){a.value.next(e)}}catch(c){s.e(c)}finally{s.f()}var u=o-t+1;if(u>=0&&u%n==0&&r.shift().complete(),++o%n==0){var l=new nt;r.push(l),i.next(l.asObservable())}},function(){for(;r.length>0;)r.shift().complete();i.complete()},function(t){for(;r.length>0;)r.shift().error(t);i.error(t)},function(){null,r=null}))})}function lr(t){for(var e,n,i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];var a=null!==(e=Rt(r))&&void 0!==e?e:xt,s=null!==(n=r[0])&&void 0!==n?n:null,u=r[1]||1/0;return H(function(e,n){var i=[],r=!1,o=function(t){var e=t.window,n=t.subs;e.complete(),n.unsubscribe(),g(i,t),r&&l()},l=function(){if(i){var e=new _;n.add(e);var r=new nt,s={window:r,subs:e,seen:0};i.push(s),n.next(r.asObservable()),Kt(e,a,function(){return o(s)},t)}};null!==s&&s>=0?Kt(n,a,l,s,!0):r=!0,l();var c=function(t){return i.slice().forEach(t)},h=function(t){c(function(e){var n=e.window;return t(n)}),t(n),n.unsubscribe()};return e.subscribe(W(n,function(t){c(function(e){e.window.next(t),u<=++e.seen&&o(e)})},function(){return h(function(t){return t.complete()})},function(t){return h(function(e){return e.error(t)})})),function(){i=null}})}function cr(t,e){return H(function(n,i){var r=[],o=function(t){for(;0<r.length;)r.shift().error(t);i.error(t)};Zt(t).subscribe(W(i,function(t){var n=new nt;r.push(n);var a,s=new _;try{a=Zt(e(t))}catch(u){return void o(u)}i.next(n.asObservable()),s.add(a.subscribe(W(i,function(){g(r,n),n.complete(),s.unsubscribe()},S,o)))},S)),n.subscribe(W(i,function(t){var e,n=f(r.slice());try{for(n.s();!(e=n.n()).done;){e.value.next(t)}}catch(i){n.e(i)}finally{n.f()}},function(){for(;0<r.length;)r.shift().complete();i.complete()},o,function(){for(;0<r.length;)r.shift().unsubscribe()}))})}function hr(t){return H(function(e,n){var i,r,o=function(t){i.error(t),n.error(t)};(function e(){var a;null==r||r.unsubscribe(),null==i||i.complete(),i=new nt,n.next(i.asObservable());try{a=Zt(t())}catch(s){return void o(s)}a.subscribe(r=W(n,e,e,o))})(),e.subscribe(W(n,function(t){return i.next(t)},function(){i.complete(),n.complete()},o,function(){null==r||r.unsubscribe(),i=null}))})}function pr(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=Nt(e);return H(function(t,n){for(var r=e.length,o=new Array(r),a=e.map(function(){return!1}),s=!1,u=function(t){Zt(e[t]).subscribe(W(n,function(e){o[t]=e,s||a[t]||(a[t]=!0,(s=a.every(B))&&(a=null))},S))},l=0;l<r;l++)u(l);t.subscribe(W(n,function(t){if(s){var e=[t].concat(o);n.next(i?i.apply(void 0,p(e)):e)}}))})}function fr(t){return Cn(fn,t)}function dr(){return(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return H(function(t,n){fn.apply(void 0,[t].concat(e)).subscribe(n)})}).apply(void 0,arguments)}},vDqi:function(t,e,n){t.exports=n("zuR4")},vONA:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("eRSq")),r=a(n("sCiF")),o=a(n("mSAH"));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e=(0,i.default)(t),n=e.latitude,a=e.longitude;if(Array.isArray(t)&&t.length>=2)return(0,o.default)(t[0])&&(0,r.default)(t[1]);if(void 0===n||void 0===a)return!1;var s=t[a],u=t[n];return void 0!==u&&void 0!==s&&!1!==(0,r.default)(u)&&!1!==(0,o.default)(s)}},vvrf:function(t,e,n){var i=n("u/Db"),r=n("3X7Y"),o=n("nZSm"),a=n("AZa5"),s=n("Lzq4"),u=n("BCVQ"),l=n("e/Dd"),c=n("ELBg");function h(t){return unescape(encodeURIComponent(t)).length}function p(t,e,n){for(var i,r=[];null!==(i=t.exec(n));)r.push({data:i[0],index:i.index,mode:e,length:i[0].length});return r}function f(t){var e,n,r=p(u.NUMERIC,i.NUMERIC,t),o=p(u.ALPHANUMERIC,i.ALPHANUMERIC,t);return l.isKanjiModeEnabled()?(e=p(u.BYTE,i.BYTE,t),n=p(u.KANJI,i.KANJI,t)):(e=p(u.BYTE_KANJI,i.BYTE,t),n=[]),r.concat(o,e,n).sort(function(t,e){return t.index-e.index}).map(function(t){return{data:t.data,mode:t.mode,length:t.length}})}function d(t,e){switch(e){case i.NUMERIC:return r.getBitsLength(t);case i.ALPHANUMERIC:return o.getBitsLength(t);case i.KANJI:return s.getBitsLength(t);case i.BYTE:return a.getBitsLength(t)}}function g(t,e){var n,u=i.getBestModeForData(t);if((n=i.from(e,u))!==i.BYTE&&n.bit<u.bit)throw new Error('"'+t+'" cannot be encoded with mode '+i.toString(n)+".\n Suggested mode is: "+i.toString(u));switch(n!==i.KANJI||l.isKanjiModeEnabled()||(n=i.BYTE),n){case i.NUMERIC:return new r(t);case i.ALPHANUMERIC:return new o(t);case i.KANJI:return new s(t);case i.BYTE:return new a(t)}}e.fromArray=function(t){return t.reduce(function(t,e){return"string"==typeof e?t.push(g(e,null)):e.data&&t.push(g(e.data,e.mode)),t},[])},e.fromString=function(t,n){for(var r=function(t,e){for(var n={},r={start:{}},o=["start"],a=0;a<t.length;a++){for(var s=t[a],u=[],l=0;l<s.length;l++){var c=s[l],h=""+a+l;u.push(h),n[h]={node:c,lastCount:0},r[h]={};for(var p=0;p<o.length;p++){var f=o[p];n[f]&&n[f].node.mode===c.mode?(r[f][h]=d(n[f].lastCount+c.length,c.mode)-d(n[f].lastCount,c.mode),n[f].lastCount+=c.length):(n[f]&&(n[f].lastCount=c.length),r[f][h]=d(c.length,c.mode)+4+i.getCharCountIndicator(c.mode,e))}}o=u}for(p=0;p<o.length;p++)r[o[p]].end=0;return{map:r,table:n}}(function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];switch(r.mode){case i.NUMERIC:e.push([r,{data:r.data,mode:i.ALPHANUMERIC,length:r.length},{data:r.data,mode:i.BYTE,length:r.length}]);break;case i.ALPHANUMERIC:e.push([r,{data:r.data,mode:i.BYTE,length:r.length}]);break;case i.KANJI:e.push([r,{data:r.data,mode:i.BYTE,length:h(r.data)}]);break;case i.BYTE:e.push([{data:r.data,mode:i.BYTE,length:h(r.data)}])}}return e}(f(t,l.isKanjiModeEnabled())),n),o=c.find_path(r.map,"start","end"),a=[],s=1;s<o.length-1;s++)a.push(r.table[o[s]].node);return e.fromArray(a.reduce(function(t,e){var n=t.length-1>=0?t[t.length-1]:null;return n&&n.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)},[]))},e.rawSplit=function(t){return e.fromArray(f(t,l.isKanjiModeEnabled()))}},w0Vi:function(t,e,n){"use strict";var i=n("xTJ+"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(i.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=i.trim(t.substr(0,o)).toLowerCase(),n=i.trim(t.substr(o+1)),e){if(a[e]&&r.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}}),a):a}},wI44:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=u(n("2o5z")),r=u(n("QTq/")),o=u(n("jDUc")),a=u(n("me/f")),s=n("jH9d");function u(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;n=void 0===n||isNaN(n)?1:n;var u=(0,i.default)(t),l=(0,r.default)(t),c=(0,i.default)(e),h=(0,r.default)(e),p=Math.acos((0,a.default)(Math.sin((0,o.default)(c))*Math.sin((0,o.default)(u))+Math.cos((0,o.default)(c))*Math.cos((0,o.default)(u))*Math.cos((0,o.default)(l)-(0,o.default)(h))))*s.earthRadius;return Math.round(p/n)*n}},xAGQ:function(t,e,n){"use strict";var i=n("xTJ+"),r=n("JEQr");t.exports=function(t,e,n){var o=this||r;return i.forEach(n,function(n){t=n.call(o,t,e)}),t}},xBuE:function(t,e){t.exports={token:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiIsImlzcyI6Ijc1Njk4ZDM1LTA5MTgtNGEyYi1hOGFiLTc3YjkzYTYxOGU2MSIsInR5cGUiOiJhcHBsaWNhdGlvbiIsImFwcGxpY2F0aW9uX2lkIjoiOTdjMmUwN2YtZmJhMC00ODg5LWI2NmEtYTVjYTk4OGFhZmQwIn0.pp7VfNxUIdizamts8ivVWlycdrU3RCyh6j5vOfwqdN8",basepath:"/moe",port:"6023",proximi_api:"https://api.proximi.fi",geo_version:"v5"}},"xTJ+":function(t,e,n){"use strict";var i=n("HSsa"),r=Object.prototype.toString;function o(t){return"[object Array]"===r.call(t)}function a(t){return void 0===t}function s(t){return null!==t&&"object"==typeof t}function u(t){if("[object Object]"!==r.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function l(t){return"[object Function]"===r.call(t)}function c(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),o(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===r.call(t)},isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isPlainObject:u,isUndefined:a,isDate:function(t){return"[object Date]"===r.call(t)},isFile:function(t){return"[object File]"===r.call(t)},isBlob:function(t){return"[object Blob]"===r.call(t)},isFunction:l,isStream:function(t){return s(t)&&l(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function t(){var e={};function n(n,i){e[i]=u(e[i])&&u(n)?t(e[i],n):u(n)?t({},n):o(n)?n.slice():n}for(var i=0,r=arguments.length;i<r;i++)c(arguments[i],n);return e},extend:function(t,e,n){return c(e,function(e,r){t[r]=n&&"function"==typeof e?i(e,n):e}),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},y8E0:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n("+gfn"),a=n("kw4C"),s=function(t){function e(e,n){var i=t.call(this,e,"geojson")||this;return i.cluster=!1,i.clusterRadius=50,i.clusterMaxZoom=19,i.isEditable=!0,i.data=n||new a.FeatureCollection({}),i}return r(e,t),Object.defineProperty(e.prototype,"source",{get:function(){return{type:this.type,data:this.data,cluster:this.cluster,clusterMaxZoom:this.clusterMaxZoom,clusterRadius:this.clusterRadius}},enumerable:!1,configurable:!0}),e}(o.default);e.default=s},yK9s:function(t,e,n){"use strict";var i=n("xTJ+");t.exports=function(t,e){i.forEach(t,function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])})}},yKow:function(t,e,n){var i=n("e/Dd"),r=n("NPxG"),o=n("ekOh"),a=n("u/Db"),s=n("J6Nv"),u=n("7uVY"),l=i.getBCHDigit(7973);function c(t,e){return a.getCharCountIndicator(t,e)+4}function h(t,e){var n=0;return t.forEach(function(t){var i=c(t.mode,e);n+=i+t.getBitsLength()}),n}e.from=function(t,e){return s.isValid(t)?parseInt(t,10):e},e.getCapacity=function(t,e,n){if(!s.isValid(t))throw new Error("Invalid QR Code version");void 0===n&&(n=a.BYTE);var o=8*(i.getSymbolTotalCodewords(t)-r.getTotalCodewordsCount(t,e));if(n===a.MIXED)return o;var u=o-c(n,t);switch(n){case a.NUMERIC:return Math.floor(u/10*3);case a.ALPHANUMERIC:return Math.floor(u/11*2);case a.KANJI:return Math.floor(u/13);case a.BYTE:default:return Math.floor(u/8)}},e.getBestVersionForData=function(t,n){var i,r=o.from(n,o.M);if(u(t)){if(t.length>1)return function(t,n){for(var i=1;i<=40;i++)if(h(t,i)<=e.getCapacity(i,n,a.MIXED))return i}(t,r);if(0===t.length)return 1;i=t[0]}else i=t;return function(t,n,i){for(var r=1;r<=40;r++)if(n<=e.getCapacity(r,i,t))return r}(i.mode,i.getLength(),r)},e.getEncodedBits=function(t){if(!s.isValid(t)||t<7)throw new Error("Invalid QR Code version");for(var e=t<<12;i.getBCHDigit(e)-l>=0;)e^=7973<<i.getBCHDigit(e)-l;return t<<12|e}},yLV6:function(t,e,n){var i;!function(r,o,a,s){"use strict";var u,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),h=Math.round,p=Math.abs,f=Date.now;function d(t,e,n){return setTimeout(w(t,n),e)}function g(t,e,n){return!!Array.isArray(t)&&(m(t,n[e],n),!0)}function m(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function _(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),t.apply(this,arguments)}}u="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var y=_(function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&void 0===t[i[r]])&&(t[i[r]]=e[i[r]]),r++;return t},"extend","Use `assign`."),v=_(function(t,e){return y(t,e,!0)},"merge","Use `assign`.");function b(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&u(i,n)}function w(t,e){return function(){return t.apply(e,arguments)}}function x(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function k(t,e){return void 0===t?e:t}function E(t,e,n){m(A(e),function(e){t.addEventListener(e,n,!1)})}function S(t,e,n){m(A(e),function(e){t.removeEventListener(e,n,!1)})}function C(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function I(t,e){return t.indexOf(e)>-1}function A(t){return t.trim().split(/\s+/g)}function P(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function T(t){return Array.prototype.slice.call(t,0)}function O(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];P(r,a)<0&&i.push(t[o]),r[o]=a,o++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function L(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<l.length;){if((i=(n=l[o])?n+r:e)in t)return i;o++}}var M=1;function N(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}var R="ontouchstart"in r,D=void 0!==L(r,"PointerEvent"),z=R&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),F=["x","y"],B=["clientX","clientY"];function j(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){x(t.options.enable,[t])&&n.handler(e)},this.init()}function V(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&e&&i-r==0,a=12&e&&i-r==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=U(e)),r>1&&!n.firstMultiple?n.firstMultiple=U(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,u=e.center=q(i);e.timeStamp=f(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=Y(s,u),e.distance=W(s,u),function(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}(n,e),e.offsetDirection=H(e.deltaX,e.deltaY);var l,c,h=G(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=p(h.x)>p(h.y)?h.x:h.y,e.scale=a?(l=a.pointers,W((c=i)[0],c[1],B)/W(l[0],l[1],B)):1,e.rotation=a?function(t,e){return Y(e[1],e[0],B)+Y(t[1],t[0],B)}(a.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,r,o,a=t.lastInterval||e,s=e.timeStamp-a.timeStamp;if(8!=e.eventType&&(s>25||void 0===a.velocity)){var u=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,c=G(s,u,l);i=c.x,r=c.y,n=p(c.x)>p(c.y)?c.x:c.y,o=H(u,l),t.lastInterval=e}else n=a.velocity,i=a.velocityX,r=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}(n,e);var d=t.element;C(e.srcEvent.target,d)&&(d=e.srcEvent.target),e.target=d}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function U(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:h(t.pointers[n].clientX),clientY:h(t.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:e,center:q(e),deltaX:t.deltaX,deltaY:t.deltaY}}function q(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:h(n/e),y:h(i/e)}}function G(t,e,n){return{x:e/t||0,y:n/t||0}}function H(t,e){return t===e?1:p(t)>=p(e)?t<0?2:4:e<0?8:16}function W(t,e,n){n||(n=F);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function Y(t,e,n){return n||(n=F),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}j.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(N(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(N(this.element),this.evWin,this.domHandler)}};var Z={mousedown:1,mousemove:2,mouseup:4};function X(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,j.apply(this,arguments)}b(X,j,{handler:function(t){var e=Z[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var K={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},$={2:"touch",3:"pen",4:"mouse",5:"kinect"},J="pointerdown",Q="pointermove pointerup pointercancel";function tt(){this.evEl=J,this.evWin=Q,j.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(J="MSPointerDown",Q="MSPointerMove MSPointerUp MSPointerCancel"),b(tt,j,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=K[i],o=$[t.pointerType]||t.pointerType,a="touch"==o,s=P(e,t.pointerId,"pointerId");1&r&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&r&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function nt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,j.apply(this,arguments)}function it(t,e){var n=T(t.touches),i=T(t.changedTouches);return 12&e&&(n=O(n.concat(i),"identifier",!0)),[n,i]}b(nt,j,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var n=it.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var rt={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ot(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},j.apply(this,arguments)}function at(t,e){var n=T(t.touches),i=this.targetIds;if(3&e&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=T(t.changedTouches),s=[],u=this.target;if(o=n.filter(function(t){return C(t.target,u)}),1===e)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&s.push(a[r]),12&e&&delete i[a[r].identifier],r++;return s.length?[O(o.concat(s),"identifier",!0),s]:void 0}function st(){j.apply(this,arguments);var t=w(this.handler,this);this.touch=new ot(this.manager,t),this.mouse=new X(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function ut(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,lt.call(this,e)):12&t&&lt.call(this,e)}function lt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout(function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)},2500)}}function ct(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),a=Math.abs(n-r.y);if(o<=25&&a<=25)return!0}return!1}b(ot,j,{handler:function(t){var e=rt[t.type],n=at.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}),b(st,j,{handler:function(t,e,n){var i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)ut.call(this,e,n);else if(i&&ct.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ht=L(c.style,"touchAction"),pt=void 0!==ht,ft=function(){if(!pt)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||r.CSS.supports("touch-action",n)}),t}();function dt(t,e){this.manager=t,this.set(e)}function gt(t){this.options=u({},this.defaults,t||{}),this.id=M++,this.manager=null,this.options.enable=k(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function mt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function _t(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function yt(t,e){var n=e.manager;return n?n.get(t):t}function vt(){gt.apply(this,arguments)}function bt(){vt.apply(this,arguments),this.pX=null,this.pY=null}function wt(){vt.apply(this,arguments)}function xt(){gt.apply(this,arguments),this._timer=null,this._input=null}function kt(){vt.apply(this,arguments)}function Et(){vt.apply(this,arguments)}function St(){gt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ct(t,e){return(e=e||{}).recognizers=k(e.recognizers,Ct.defaults.preset),new It(t,e)}function It(t,e){this.options=u({},Ct.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new(this.options.inputClass||(D?tt:z?ot:R?st:X))(this,V),this.touchAction=new dt(this,this.options.touchAction),At(this,!0),m(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function At(t,e){var n,i=t.element;i.style&&(m(t.options.cssProps,function(r,o){n=L(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={}))}dt.prototype={set:function(t){"compute"==t&&(t=this.compute()),pt&&this.manager.element.style&&ft[t]&&(this.manager.element.style[ht]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return m(this.manager.recognizers,function(e){x(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(I(t,"none"))return"none";var e=I(t,"pan-x"),n=I(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":I(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=I(i,"none")&&!ft.none,o=I(i,"pan-y")&&!ft["pan-y"],a=I(i,"pan-x")&&!ft["pan-x"];if(r&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!a||!o)return r||o&&6&n||a&&24&n?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}},gt.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(g(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=yt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return g(t,"dropRecognizeWith",this)||(t=yt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(g(t,"requireFailure",this))return this;var e=this.requireFail;return-1===P(e,t=yt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(g(t,"dropRequireFailure",this))return this;t=yt(t,this);var e=P(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<8&&i(e.options.event+mt(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=8&&i(e.options.event+mt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!x(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},b(vt,gt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=6&e,r=this.attrTest(t);return i&&(8&n||!r)?16|e:i||r?4&n?8|e:2&e?4|e:2:32}}),b(bt,vt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,a=t.deltaY;return r&e.direction||(6&e.direction?(r=0===o?1:o<0?2:4,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===a?1:a<0?8:16,n=a!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return vt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=_t(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),b(wt,vt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),b(xt,gt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||12&t.eventType&&!r)this.reset();else if(1&t.eventType)this.reset(),this._timer=d(function(){this.state=8,this.tryEmit()},e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),b(kt,vt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),b(Et,vt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return bt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&p(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=_t(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),b(St,gt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(i&&r&&n){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||W(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=d(function(){this.state=8,this.tryEmit()},e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=d(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ct.VERSION="2.0.7",Ct.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[kt,{enable:!1}],[wt,{enable:!1},["rotate"]],[Et,{direction:6}],[bt,{direction:6},["swipe"]],[St],[St,{event:"doubletap",taps:2},["tap"]],[xt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},It.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&14&n.state&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof gt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(g(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(g(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=P(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return m(A(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(void 0!==t){var n=this.handlers;return m(A(t),function(t){e?n[t]&&n[t].splice(P(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&At(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Ct,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:It,Input:j,TouchAction:dt,TouchInput:ot,MouseInput:X,PointerEventInput:tt,TouchMouseInput:st,SingleTouchInput:nt,Recognizer:gt,AttrRecognizer:vt,Tap:St,Pan:bt,Swipe:Et,Pinch:wt,Rotate:kt,Press:xt,on:E,off:S,each:m,merge:v,extend:y,assign:u,inherit:b,bindFn:w,prefixed:L}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Ct,void 0===(i=(function(){return Ct}).call(e,n,e,t))||(t.exports=i)}(window,document)},"z+Es":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function(t){return/^NNE|NE|NNW|N$/.test(t)?"N":/^ENE|E|ESE|SE$/.test(t)?"E":/^SSE|S|SSW|SW$/.test(t)?"S":/^WSW|W|WNW|NW$/.test(t)?"W":void 0}},zUnb:function(a,c,d){"use strict";function g(t){return"function"==typeof t}d.r(c);var _=!1,v={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else _&&console.log("RxJS: Back to a better error behavior. Thank you. <3");_=t},get useDeprecatedSynchronousErrorHandling(){return _}};function b(t){setTimeout(function(){throw t},0)}var w={closed:!0,next:function(t){},error:function(t){if(v.useDeprecatedSynchronousErrorHandling)throw t;b(t)},complete:function(){}},x=Array.isArray||function(t){return t&&"number"==typeof t.length};function k(t){return null!==t&&"object"==typeof t}var E,S=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(t,e){return"".concat(e+1,") ").concat(t.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),C=((E=function(){function t(e){m(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return y(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,i=this._ctorUnsubscribe,r=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var a=0;a<n.length;++a)n[a].remove(this);if(g(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(c){e=c instanceof S?I(c.errors):[c]}}if(x(o))for(var s=-1,u=o.length;++s<u;){var l=o[s];if(k(l))try{l.unsubscribe()}catch(c){e=e||[],c instanceof S?e=e.concat(I(c.errors)):e.push(c)}}if(e)throw new S(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var i=n;(n=new t)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var r=n._parentOrParents;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=function(t){return t.closed=!0,t}(new E),E);function I(t){return t.reduce(function(t,e){return t.concat(e instanceof S?e.errors:e)},[])}var A="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),P=function(t){o(n,t);var e=s(n);function n(t,i,r){var o;switch(m(this,n),(o=e.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=w;break;case 1:if(!t){o.destination=w;break}if("object"==typeof t){t instanceof n?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(l(o))):(o.syncErrorThrowable=!0,o.destination=new T(l(o),t));break}default:o.syncErrorThrowable=!0,o.destination=new T(l(o),t,i,r)}return o}return y(n,[{key:A,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,r(h(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,i){var r=new n(t,e,i);return r.syncErrorThrowable=!1,r}}]),n}(C),T=function(t){o(n,t);var e=s(n);function n(t,i,r,o){var a,s;m(this,n),(a=e.call(this))._parentSubscriber=t;var u=l(a);return g(i)?s=i:i&&(s=i.next,r=i.error,o=i.complete,i!==w&&(g((u=Object.create(i)).unsubscribe)&&a.add(u.unsubscribe.bind(u)),u.unsubscribe=a.unsubscribe.bind(l(a)))),a._context=u,a._next=s,a._error=r,a._complete=o,a}return y(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=v.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):b(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;b(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),v.useDeprecatedSynchronousErrorHandling)throw n;b(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(b(i),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(P),O="function"==typeof Symbol&&Symbol.observable||"@@observable";function L(t){return t}var M,N=((M=function(){function t(e){m(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return y(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var i=this.operator,r=function(t,e,n){if(t){if(t instanceof P)return t;if(t[A])return t[A]()}return t||e||n?new P(t,e,n):new P(w)}(t,e,n);if(r.add(i?i.call(r,this.source):this.source||v.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),v.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,i=e.destination,r=e.isStopped;if(n||r)return!1;t=i&&i instanceof P?i:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=R(e))(function(e,i){var r;r=n.subscribe(function(e){try{t(e)}catch(n){i(n),r&&r.unsubscribe()}},i,e)})}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:O,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:(0===(i=e).length?L:1===i.length?i[0]:function(t){return i.reduce(function(t,e){return e(t)},t)})(this);var i}},{key:"toPromise",value:function(t){var e=this;return new(t=R(t))(function(t,n){var i;e.subscribe(function(t){return i=t},function(t){return n(t)},function(){return t(i)})})}}]),t}()).create=function(t){return new M(t)},M);function R(t){if(t||(t=v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var D,z=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),F=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this)).subject=t,r.subscriber=i,r.closed=!1,r}return y(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(C),B=function(t){o(n,t);var e=s(n);function n(t){var i;return m(this,n),(i=e.call(this,t)).destination=t,i}return n}(P),j=((D=function(t){o(n,t);var e=s(n);function n(){var t;return m(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return y(n,[{key:A,value:function(){return new B(this)}},{key:"lift",value:function(t){var e=new V(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new z;if(!this.isStopped)for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].next(t)}},{key:"error",value:function(t){if(this.closed)throw new z;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new z;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),i=0;i<e;i++)n[i].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new z;return r(h(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new z;return this.hasError?(t.error(this.thrownError),C.EMPTY):this.isStopped?(t.complete(),C.EMPTY):(this.observers.push(t),new F(this,t))}},{key:"asObservable",value:function(){var t=new N;return t.source=this,t}}]),n}(N)).create=function(t,e){return new V(t,e)},D),V=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this)).destination=t,r.source=i,r}return y(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):C.EMPTY}}]),n}(j);function U(t){return t&&"function"==typeof t.schedule}function q(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new G(t,e))}}var G=function(){function t(e,n){m(this,t),this.project=e,this.thisArg=n}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new H(t,this.project,this.thisArg))}}]),t}(),H=function(t){o(n,t);var e=s(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this,t)).project=i,o.count=0,o.thisArg=r||l(o),o}return y(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(P),W=function(t){return function(e){for(var n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}};var Y="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",Z=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function X(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var K=function(t){if(t&&"function"==typeof t[O])return i=t,function(t){var e=i[O]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Z(t))return W(t);if(X(t))return n=t,function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,b),t};if(t&&"function"==typeof t[Y])return e=t,function(t){for(var n=e[Y]();;){var i=void 0;try{i=n.next()}catch(r){return t.error(r),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t};var e,n,i,r=k(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(r," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))};function $(t,e){return new N(function(n){var i=new C,r=0;return i.add(e.schedule(function(){r!==t.length?(n.next(t[r++]),n.closed||i.add(this.schedule())):n.complete()})),i})}function J(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[O]}(t))return function(t,e){return new N(function(n){var i=new C;return i.add(e.schedule(function(){var r=t[O]();i.add(r.subscribe({next:function(t){i.add(e.schedule(function(){return n.next(t)}))},error:function(t){i.add(e.schedule(function(){return n.error(t)}))},complete:function(){i.add(e.schedule(function(){return n.complete()}))}}))})),i})}(t,e);if(X(t))return function(t,e){return new N(function(n){var i=new C;return i.add(e.schedule(function(){return t.then(function(t){i.add(e.schedule(function(){n.next(t),i.add(e.schedule(function(){return n.complete()}))}))},function(t){i.add(e.schedule(function(){return n.error(t)}))})})),i})}(t,e);if(Z(t))return $(t,e);if(function(t){return t&&"function"==typeof t[Y]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new N(function(n){var i,r=new C;return r.add(function(){i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(function(){i=t[Y](),r.add(e.schedule(function(){if(!n.closed){var t,e;try{var r=i.next();t=r.value,e=r.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof N?t:new N(K(t))}var Q=function(t){o(n,t);var e=s(n);function n(t){var i;return m(this,n),(i=e.call(this)).parent=t,i}return y(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(P),tt=function(t){o(n,t);var e=s(n);function n(){return m(this,n),e.apply(this,arguments)}return y(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(P);function et(t,e){if(!e.closed){if(t instanceof N)return t.subscribe(e);var n;try{n=K(t)(e)}catch(i){e.error(i)}return n}}function nt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(i){return i.pipe(nt(function(n,i){return J(t(n,i)).pipe(q(function(t,r){return e(n,t,i,r)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new it(t,n))})}var it=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;m(this,t),this.project=e,this.concurrent=n}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new rt(t,this.project,this.concurrent))}}]),t}(),rt=function(t){o(n,t);var e=s(n);function n(t,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return m(this,n),(r=e.call(this,t)).project=i,r.concurrent=o,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return y(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new Q(this),n=this.destination;n.add(e);var i=et(t,e);i!==e&&n.add(i)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(tt);function ot(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return nt(L,t)}function at(t,e){return e?$(t,e):new N(W(t))}function st(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=Number.POSITIVE_INFINITY,r=null,o=e[e.length-1];return U(o)?(r=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(i=e.pop())):"number"==typeof o&&(i=e.pop()),null===r&&1===e.length&&e[0]instanceof N?e[0]:ot(i)(at(e,r))}function ut(){return function(t){return t.lift(new ct(t))}}var lt,ct=function(){function t(e){m(this,t),this.connectable=e}return y(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var i=new ht(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}]),t}(),ht=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t)).connectable=i,r}return y(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null}}]),n}(P),pt=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this)).source=t,r.subjectFactory=i,r._refCount=0,r._isComplete=!1,r}return y(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new C).add(this.source.subscribe(new dt(this.getSubject(),this))),t.closed&&(this._connection=null,t=C.EMPTY)),t}},{key:"refCount",value:function(){return ut()(this)}}]),n}(N),ft={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(lt=pt.prototype)._subscribe},_isComplete:{value:lt._isComplete,writable:!0},getSubject:{value:lt.getSubject},connect:{value:lt.connect},refCount:{value:lt.refCount}},dt=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t)).connectable=i,r}return y(n,[{key:"_error",value:function(t){this._unsubscribe(),r(h(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),r(h(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(B);function gt(){return new j}function mt(t){for(var e in t)if(t[e]===mt)return e;throw Error("Could not find renamed property on target object.")}function _t(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function yt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(yt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function vt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var bt=mt({__forward_ref__:mt});function wt(t){return t.__forward_ref__=wt,t.toString=function(){return yt(this())},t}function xt(t){return kt(t)?t():t}function kt(t){return"function"==typeof t&&t.hasOwnProperty(bt)&&t.__forward_ref__===wt}var Et=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this,function(t,e){return"".concat(t?"NG0".concat(t,": "):"").concat(e)}(t,i))).code=t,r}return n}(e(Error));function St(t){return"string"==typeof t?t:null==t?"":String(t)}function Ct(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():St(t)}function It(t,e){var n=e?" in ".concat(e):"";throw new Et("201","No provider for ".concat(Ct(t)," found").concat(n))}function At(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Pt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Tt(t){return Ot(t,Nt)||Ot(t,Dt)}function Ot(t,e){return t.hasOwnProperty(e)?t[e]:null}function Lt(t){return t&&(t.hasOwnProperty(Rt)||t.hasOwnProperty(zt))?t[Rt]:null}var Mt,Nt=mt({"\u0275prov":mt}),Rt=mt({"\u0275inj":mt}),Dt=mt({ngInjectableDef:mt}),zt=mt({ngInjectorDef:mt}),Ft=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function Bt(t){var e=Mt;return Mt=t,e}function jt(t,e,n){var i=Tt(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&Ft.Optional?null:void 0!==e?e:void It(yt(t),"Injector")}function Vt(t){return{toString:t}.toString()}var Ut=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),qt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),Gt="undefined"!=typeof globalThis&&globalThis,Ht="undefined"!=typeof window&&window,Wt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Yt="undefined"!=typeof global&&global,Zt=Gt||Yt||Ht||Wt,Xt={},Kt=[],$t=[],Jt=mt({"\u0275cmp":mt}),Qt=mt({"\u0275dir":mt}),te=mt({"\u0275pipe":mt}),ee=mt({"\u0275mod":mt}),ne=mt({"\u0275loc":mt}),ie=mt({"\u0275fac":mt}),re=mt({__NG_ELEMENT_ID__:mt}),oe=0;function ae(t){return Vt(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Ut.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||$t,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||qt.Emulated,id:"c",styles:t.styles||$t,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,r=t.features,o=t.pipes;return n.id+=oe++,n.inputs=he(t.inputs,e),n.outputs=he(t.outputs),r&&r.forEach(function(t){return t(n)}),n.directiveDefs=i?function(){return("function"==typeof i?i():i).map(se)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(ue)}:null,n})}function se(t){return de(t)||function(t){return t[Qt]||null}(t)}function ue(t){return function(t){return t[te]||null}(t)}var le={};function ce(t){var e={type:t.type,bootstrap:t.bootstrap||$t,declarations:t.declarations||$t,imports:t.imports||$t,exports:t.exports||$t,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&Vt(function(){le[t.id]=t.type}),e}function he(t,e){if(null==t)return Xt;var n={};for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,e&&(e[r]=o)}return n}var pe=ae;function fe(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function de(t){return t[Jt]||null}function ge(t,e){var n=t[ee]||null;if(!n&&!0===e)throw new Error("Type ".concat(yt(t)," does not have '\u0275mod' property."));return n}function me(t){return Array.isArray(t)&&"object"==typeof t[1]}function _e(t){return Array.isArray(t)&&!0===t[1]}function ye(t){return 0!=(8&t.flags)}function ve(t){return 2==(2&t.flags)}function be(t){return 1==(1&t.flags)}function we(t){return null!==t.template}function xe(t,e){return t.hasOwnProperty(ie)?t[ie]:null}var ke,Ee=function(){function t(e,n,i){m(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=i}return y(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Se(){return Ce}function Ce(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ae),Ie}function Ie(){var t=Pe(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===Xt)t.previous=e;else for(var i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function Ae(t,e,n,i){var r=Pe(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Xt,current:null}),o=r.current||(r.current={}),a=r.previous,s=this.declaredInputs[n],u=a[s];o[s]=new Ee(u&&u.currentValue,e,a===Xt),t[i]=e}function Pe(t){return t.__ngSimpleChanges__||null}function Te(){return void 0!==ke?ke:"undefined"!=typeof document?document:void 0}function Oe(t){return!!t.listen}Se.ngInherit=!0;var Le={createRenderer:function(t,e){return Te()}};function Me(t){for(;Array.isArray(t);)t=t[0];return t}function Ne(t,e){return Me(e[t])}function Re(t,e){return Me(e[t.index])}function De(t,e){return t.data[e]}function ze(t,e){return t[e]}function Fe(t,e){var n=e[t];return me(n)?n:n[0]}function Be(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function je(t){return 4==(4&t[2])}function Ve(t){return 128==(128&t[2])}function Ue(t,e){return null==e?null:t[e]}function qe(t){t[18]=0}function Ge(t,e){t[5]+=e;for(var n=t,i=t[3];null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}var He={lFrame:mn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function We(){return He.bindingsEnabled}function Ye(){return He.lFrame.lView}function Ze(){return He.lFrame.tView}function Xe(t){He.lFrame.contextLView=t}function Ke(){for(var t=$e();null!==t&&64===t.type;)t=t.parent;return t}function $e(){return He.lFrame.currentTNode}function Je(t,e){var n=He.lFrame;n.currentTNode=t,n.isParent=e}function Qe(){return He.lFrame.isParent}function tn(){He.lFrame.isParent=!1}function en(){return He.isInCheckNoChangesMode}function nn(t){He.isInCheckNoChangesMode=t}function rn(){var t=He.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function on(){return He.lFrame.bindingIndex}function an(){return He.lFrame.bindingIndex++}function sn(t){var e=He.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function un(t){He.lFrame.currentDirectiveIndex=t}function ln(t){var e=He.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function cn(){return He.lFrame.currentQueryIndex}function hn(t){He.lFrame.currentQueryIndex=t}function pn(t){var e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function fn(t,e,n){if(n&Ft.SkipSelf){for(var i=e,r=t;!(null!==(i=i.parent)||n&Ft.Host||(i=pn(r),null===i)||(r=r[15],10&i.type)););if(null===i)return!1;e=i,t=r}var o=He.lFrame=gn();return o.currentTNode=e,o.lView=t,!0}function dn(t){var e=gn(),n=t[1];He.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function gn(){var t=He.lFrame,e=null===t?null:t.child;return null===e?mn(t):e}function mn(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function _n(){var t=He.lFrame;return He.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var yn=_n;function vn(){var t=_n();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function bn(){return He.lFrame.selectedIndex}function wn(t){He.lFrame.selectedIndex=t}function xn(){var t=He.lFrame;return De(t.tView,t.selectedIndex)}function kn(t,e){for(var n=e.directiveStart,i=e.directiveEnd;n<i;n++){var r=t.data[n].type.prototype,o=r.ngAfterContentInit,a=r.ngAfterContentChecked,s=r.ngAfterViewInit,u=r.ngAfterViewChecked,l=r.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function En(t,e,n){In(t,e,3,n)}function Sn(t,e,n,i){(3&t[2])===n&&In(t,e,n,i)}function Cn(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function In(t,e,n,i){for(var r=null!=i?i:-1,o=e.length-1,a=0,s=void 0!==i?65535&t[18]:0;s<o;s++)if("number"==typeof e[s+1]){if(a=e[s],null!=i&&a>=i)break}else e[s]<0&&(t[18]+=65536),(a<r||-1==r)&&(An(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function An(t,e,n,i){var r=n[i]<0,o=n[i+1],a=t[r?-n[i]:n[i]];if(r){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}var Pn=function t(e,n,i){m(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i};function Tn(t,e,n){for(var i=Oe(t),r=0;r<n.length;){var o=n[r];if("number"==typeof o){if(0!==o)break;r++;var a=n[r++],s=n[r++],u=n[r++];i?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var l=o,c=n[++r];Ln(l)?i&&t.setProperty(e,l,c):i?t.setAttribute(e,l,c):e.setAttribute(l,c),r++}}return r}function On(t){return 3===t||4===t||6===t}function Ln(t){return 64===t.charCodeAt(0)}function Mn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,i=0;i<e.length;i++){var r=e[i];"number"==typeof r?n=r:0===n||Nn(t,n,r,null,-1===n||2===n?e[++i]:null)}return t}function Nn(t,e,n,i,r){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===i)return void(null!==r&&(t[o+1]=r));if(i===t[o+1])return void(t[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==i&&t.splice(o++,0,i),null!==r&&t.splice(o++,0,r)}function Rn(t){return-1!==t}function Dn(t){return 32767&t}function zn(t,e){for(var n=t>>16,i=e;n>0;)i=i[15],n--;return i}var Fn=!0;function Bn(t){var e=Fn;return Fn=t,e}var jn=0;function Vn(t,e){var n=qn(t,e);if(-1!==n)return n;var i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,Un(i.data,t),Un(e,null),Un(i.blueprint,null));var r=Gn(t,e),o=t.injectorIndex;if(Rn(r))for(var a=Dn(r),s=zn(r,e),u=s[1].data,l=0;l<8;l++)e[o+l]=s[a+l]|u[a+l];return e[o+8]=r,o}function Un(t,e){t.push(0,0,0,0,0,0,0,0,e)}function qn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Gn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,i=null,r=e;null!==r;){var o=r[1],a=o.type;if(null===(i=2===a?o.declTNode:1===a?r[6]:null))return-1;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function Hn(t,e,n){!function(t,e,n){var i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(re)&&(i=n[re]),null==i&&(i=n[re]=jn++);var r=255&i;e.data[t+(r>>5)]|=1<<r}(t,e,n)}function Wn(t,e,n){if(n&Ft.Optional)return t;It(e,"NodeInjector")}function Yn(t,e,n,i){if(n&Ft.Optional&&void 0===i&&(i=null),0==(n&(Ft.Self|Ft.Host))){var r=t[9],o=Bt(void 0);try{return r?r.get(e,i,n&Ft.Optional):jt(e,i,n&Ft.Optional)}finally{Bt(o)}}return Wn(i,e,n)}function Zn(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ft.Default,r=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(re)?t[re]:void 0;return"number"==typeof e?e>=0?255&e:Kn:e}(n);if("function"==typeof o){if(!fn(e,t,i))return i&Ft.Host?Wn(r,n,i):Yn(e,n,i,r);try{var a=o();if(null!=a||i&Ft.Optional)return a;It(n)}finally{yn()}}else if("number"==typeof o){var s=null,u=qn(t,e),l=-1,c=i&Ft.Host?e[16][6]:null;for((-1===u||i&Ft.SkipSelf)&&(-1!==(l=-1===u?Gn(t,e):e[u+8])&&ei(i,!1)?(s=e[1],u=Dn(l),e=zn(l,e)):u=-1);-1!==u;){var h=e[1];if(ti(o,u,h.data)){var p=$n(u,e,n,s,i,c);if(p!==Xn)return p}-1!==(l=e[u+8])&&ei(i,e[1].data[u+8]===c)&&ti(o,u,e)?(s=h,u=Dn(l),e=zn(l,e)):u=-1}}}return Yn(e,n,i,r)}var Xn={};function Kn(){return new ni(Ke(),Ye())}function $n(t,e,n,i,r,o){var a=e[1],s=a.data[t+8],u=Jn(s,a,n,null==i?ve(s)&&Fn:i!=a&&0!=(3&s.type),r&Ft.Host&&o===s);return null!==u?Qn(e,a,u,s):Xn}function Jn(t,e,n,i,r){for(var o=t.providerIndexes,a=e.data,s=1048575&o,u=t.directiveStart,l=o>>20,c=r?s+l:t.directiveEnd,h=i?s:s+l;h<c;h++){var p=a[h];if(h<u&&n===p||h>=u&&p.type===n)return h}if(r){var f=a[u];if(f&&we(f)&&f.type===n)return u}return null}function Qn(t,e,n,i){var r=t[n],o=e.data;if(r instanceof Pn){var a=r;a.resolving&&function(t,e){throw new Et("200","Circular dependency in DI detected for ".concat(t))}(Ct(o[n]));var s=Bn(a.canSeeViewProviders);a.resolving=!0;var u=a.injectImpl?Bt(a.injectImpl):null;fn(t,i,Ft.Default);try{r=t[n]=a.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){var i=e.type.prototype,r=i.ngOnChanges,o=i.ngOnInit,a=i.ngDoCheck;if(r){var s=Ce(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a))}(n,o[n],e)}finally{null!==u&&Bt(u),Bn(s),a.resolving=!1,yn()}}return r}function ti(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function ei(t,e){return!(t&Ft.Self||t&Ft.Host&&e)}var ni=function(){function t(e,n){m(this,t),this._tNode=e,this._lView=n}return y(t,[{key:"get",value:function(t,e){return Zn(this._tNode,this._lView,t,void 0,e)}}]),t}();function ii(t){return Vt(function(){for(var e=t.prototype.constructor,n=e[ie]||ri(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;r&&r!==i;){var o=r[ie]||ri(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return function(t){return new t}})}function ri(t){return kt(t)?function(){var e=ri(xt(t));return e&&e()}:xe(t)}function oi(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var i=n.length,r=0;r<i;){var o=n[r];if(On(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof n[r];)r++;else{if(o===e)return n[r+1];r+=2}}return null}(Ke(),t)}function ai(t,e,i){return Vt(function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function o(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(this instanceof o)return r.apply(this,e),this;var a=n(o,e);return s.annotation=a,s;function s(t,e,n){for(var i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(a),t}}return i&&(o.prototype=Object.create(i.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}var si=function(){function t(e,n){m(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=At({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return y(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),ui=new si("AnalyzeForEntryComponents"),li=Function;function ci(t,e){void 0===e&&(e=t);for(var n=0;n<t.length;n++){var i=t[n];Array.isArray(i)?(e===t&&(e=t.slice(0,n)),ci(i,e)):e!==t&&e.push(i)}return e}function hi(t,e){t.forEach(function(t){return Array.isArray(t)?hi(t,e):e(t)})}function pi(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function fi(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function di(t,e){for(var n=[],i=0;i<t;i++)n.push(e);return n}function gi(t,e,n){var i=_i(t,e);return i>=0?t[1|i]=n:function(t,e,n,i){var r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i=~i,e,n),i}function mi(t,e){var n=_i(t,e);if(n>=0)return t[1|n]}function _i(t,e){return function(t,e,n){for(var i=0,r=t.length>>1;r!==i;){var o=i+(r-i>>1),a=t[o<<1];if(e===a)return o<<1;a>e?r=o:i=o+1}return~(r<<1)}(t,e)}var yi,vi={},bi=/\n/gm,wi=mt({provide:String,useValue:mt});function xi(t){var e=yi;return yi=t,e}function ki(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ft.Default;if(void 0===yi)throw new Error("inject() must be called from an injection context");return null===yi?jt(t,void 0,e):yi.get(t,e&Ft.Optional?null:void 0,e)}function Ei(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ft.Default;return(Mt||ki)(xt(t),e)}var Si=Ei;function Ci(t){for(var e=[],n=0;n<t.length;n++){var i=xt(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");for(var r=void 0,o=Ft.Default,a=0;a<i.length;a++){var s=i[a],u=s.__NG_DI_FLAG__;"number"==typeof u?-1===u?r=s.token:o|=u:r=s}e.push(Ei(r,o))}else e.push(Ei(i))}return e}function Ii(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}var Ai,Pi,Ti=Ii(ai("Inject",function(t){return{token:t}}),-1),Oi=Ii(ai("Optional"),8),Li=Ii(ai("SkipSelf"),4);function Mi(t){var e;return(null===(e=function(){if(void 0===Ai&&(Ai=null,Zt.trustedTypes))try{Ai=Zt.trustedTypes.createPolicy("angular",{createHTML:function(t){return t},createScript:function(t){return t},createScriptURL:function(t){return t}})}catch(e){}return Ai}())||void 0===e?void 0:e.createHTML(t))||t}function Ni(t){var e;return(null===(e=function(){if(void 0===Pi&&(Pi=null,Zt.trustedTypes))try{Pi=Zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:function(t){return t},createScript:function(t){return t},createScriptURL:function(t){return t}})}catch(e){}return Pi}())||void 0===e?void 0:e.createHTML(t))||t}var Ri=function(){function t(e){m(this,t),this.changingThisBreaksApplicationSecurity=e}return y(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),t}(),Di=function(t){o(n,t);var e=s(n);function n(){return m(this,n),e.apply(this,arguments)}return y(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Ri),zi=function(t){o(n,t);var e=s(n);function n(){return m(this,n),e.apply(this,arguments)}return y(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Ri),Fi=function(t){o(n,t);var e=s(n);function n(){return m(this,n),e.apply(this,arguments)}return y(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Ri),Bi=function(t){o(n,t);var e=s(n);function n(){return m(this,n),e.apply(this,arguments)}return y(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Ri),ji=function(t){o(n,t);var e=s(n);function n(){return m(this,n),e.apply(this,arguments)}return y(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Ri);function Vi(t){return t instanceof Ri?t.changingThisBreaksApplicationSecurity:t}function Ui(t,e){var n=qi(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===e}function qi(t){return t instanceof Ri&&t.getTypeName()||null}var Gi=function(){function t(e){m(this,t),this.inertDocumentHelper=e}return y(t,[{key:"getInertBodyElement",value:function(t){t="<body><remove></remove>"+t;try{var e=(new window.DOMParser).parseFromString(Mi(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(n){return null}}}]),t}(),Hi=function(){function t(e){if(m(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var i=this.inertDocument.createElement("body");n.appendChild(i)}}return y(t,[{key:"getInertBodyElement",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Mi(t),e;var n=this.inertDocument.createElement("body");return n.innerHTML=Mi(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var i=e.item(n).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||t.removeAttribute(i)}for(var r=t.firstChild;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}]),t}(),Wi=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Zi(t){return(t=String(t)).match(Wi)||t.match(Yi)?t:"unsafe:"+t}function Xi(t){var e,n={},i=f(t.split(","));try{for(i.s();!(e=i.n()).done;){n[e.value]=!0}}catch(r){i.e(r)}finally{i.f()}return n}function Ki(){for(var t={},e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var r=0,o=n;r<o.length;r++){var a=o[r];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var $i,Ji=Xi("area,br,col,hr,img,wbr"),Qi=Xi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tr=Xi("rp,rt"),er=Ki(tr,Qi),nr=Ki(Ji,Ki(Qi,Xi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ki(tr,Xi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),er),ir=Xi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rr=Xi("srcset"),or=Ki(ir,rr,Xi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ar=Xi("script,style,template"),sr=function(){function t(){m(this,t),this.sanitizedSomething=!1,this.buf=[]}return y(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!nr.hasOwnProperty(e))return this.sanitizedSomething=!0,!ar.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,i=t.attributes,r=0;r<i.length;r++){var o=i.item(r),a=o.name,s=a.toLowerCase();if(or.hasOwnProperty(s)){var u=o.value;ir[s]&&(u=Zi(u)),rr[s]&&(n=u,u=(n=String(n)).split(",").map(function(t){return Zi(t.trim())}).join(", ")),this.buf.push(" ",a,'="',cr(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();nr.hasOwnProperty(e)&&!Ji.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(cr(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(t.outerHTML));return e}}]),t}(),ur=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lr=/([^\#-~ |!])/g;function cr(t){return t.replace(/&/g,"&amp;").replace(ur,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(lr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function hr(t,e){var n=null;try{$i=$i||function(t){var e=new Hi(t);return function(){try{return!!(new window.DOMParser).parseFromString(Mi(""),"text/html")}catch(t){return!1}}()?new Gi(e):e}(t);var i=e?String(e):"";n=$i.getInertBodyElement(i);var r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=$i.getInertBodyElement(i)}while(i!==o);return Mi((new sr).sanitizeChildren(pr(n)||n))}finally{if(n)for(var a=pr(n)||n;a.firstChild;)a.removeChild(a.firstChild)}}function pr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var fr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function dr(t){var e=mr();return e?Ni(e.sanitize(fr.HTML,t)||""):Ui(t,"HTML")?Ni(Vi(t)):hr(Te(),St(t))}function gr(t){var e=mr();return e?e.sanitize(fr.URL,t)||"":Ui(t,"URL")?Vi(t):Zi(St(t))}function mr(){var t=Ye();return t&&t[12]}function _r(t){return t.ngDebugContext}function yr(t){return t.ngOriginalError}function vr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];t.error.apply(t,n)}var br=function(){function t(){m(this,t),this._console=console}return y(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||vr}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?_r(t)?_r(t):this._findContext(yr(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=yr(t);e&&yr(e);)e=yr(e);return e}}]),t}();function wr(t,e){t.__ngContext__=e}var xr=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Zt);function kr(t){return t instanceof Function?t():t}var Er=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Sr(t,e){return(void 0)(t,e)}function Cr(t){var e=t[3];return _e(e)?e[3]:e}function Ir(t){return Pr(t[13])}function Ar(t){return Pr(t[4])}function Pr(t){for(;null!==t&&!_e(t);)t=t[4];return t}function Tr(t,e,n,i,r){if(null!=i){var o,a=!1;_e(i)?o=i:me(i)&&(a=!0,i=i[0]);var s=Me(i);0===t&&null!==n?null==r?Fr(e,n,s):zr(e,n,s,r||null,!0):1===t&&null!==n?zr(e,n,s,r||null,!0):2===t?function(t,e,n){var i=jr(t,e);i&&function(t,e,n,i){Oe(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,i,r){var o=n[7];o!==Me(n)&&Tr(e,t,i,o,r);for(var a=10;a<n.length;a++){var s=n[a];Zr(s[1],s,t,e,i,o)}}(e,t,o,n,r)}}function Or(t,e,n){return Oe(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Lr(t,e){var n=t[9],i=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,Ge(r,-1)),n.splice(i,1)}function Mr(t,e){if(!(t.length<=10)){var n,i=10+e,r=t[i];if(r){var o=r[17];null!==o&&o!==t&&Lr(o,r),e>0&&(t[i-1][4]=r[4]);var a=fi(t,10+e);Zr(r[1],n=r,n[11],2,null,null),n[0]=null,n[6]=null;var s=a[19];null!==s&&s.detachView(a[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Nr(t,e){if(!(256&e[2])){var n=e[11];Oe(n)&&n.destroyNode&&Zr(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Rr(t[1],t);for(;e;){var n=null;if(me(e))n=e[13];else{var i=e[10];i&&(n=i)}if(!n){for(;e&&!e[4]&&e!==t;)me(e)&&Rr(e[1],e),e=e[3];null===e&&(e=t),me(e)&&Rr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Rr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var i=0;i<n.length;i+=2){var r=e[n[i]];if(!(r instanceof Pn)){var o=n[i+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2){var s=r[o[a]],u=o[a+1];try{u.call(s)}finally{}}else try{o.call(r)}finally{}}}}(t,e),function(t,e){var n=t.cleanup,i=e[7],r=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var a=n[o+1],s="function"==typeof a?a(e):Me(e[a]),u=i[r=n[o+2]],l=n[o+3];"boolean"==typeof l?s.removeEventListener(n[o],u,l):l>=0?i[r=l]():i[r=-l].unsubscribe(),o+=2}else{var c=i[r=n[o+1]];n[o].call(c)}if(null!==i){for(var h=r+1;h<i.length;h++)(0,i[h])();e[7]=null}}(t,e),1===e[1].type&&Oe(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&_e(e[3])){n!==e[3]&&Lr(n,e);var i=e[19];null!==i&&i.detachView(t)}}}function Dr(t,e,n){return function(t,e,n){for(var i=e;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){var r=t.data[i.directiveStart].encapsulation;if(r===qt.None||r===qt.Emulated)return null}return Re(i,n)}(t,e.parent,n)}function zr(t,e,n,i,r){Oe(t)?t.insertBefore(e,n,i,r):e.insertBefore(n,i,r)}function Fr(t,e,n){Oe(t)?t.appendChild(e,n):e.appendChild(n)}function Br(t,e,n,i,r){null!==i?zr(t,e,n,i,r):Fr(t,e,n)}function jr(t,e){return Oe(t)?t.parentNode(e):e.parentNode}function Vr(t,e,n){return Ur(t,e,n)}var Ur=function(t,e,n){return 40&t.type?Re(t,n):null};function qr(t,e,n,i){var r=Dr(t,i,e),o=e[11],a=Vr(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(n))for(var s=0;s<n.length;s++)Br(o,r,n[s],a,!1);else Br(o,r,n,a,!1)}function Gr(t,e){if(null!==e){var n=e.type;if(3&n)return Re(e,t);if(4&n)return Wr(-1,t[e.index]);if(8&n){var i=e.child;if(null!==i)return Gr(t,i);var r=t[e.index];return _e(r)?Wr(-1,r):Me(r)}if(32&n)return Sr(e,t)()||Me(t[e.index]);var o=Hr(t,e);return null!==o?Array.isArray(o)?o[0]:Gr(Cr(t[16]),o):Gr(t,e.next)}return null}function Hr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Wr(t,e){var n=10+t+1;if(n<e.length){var i=e[n],r=i[1].firstChild;if(null!==r)return Gr(i,r)}return e[7]}function Yr(t,e,n,i,r,o,a){for(;null!=n;){var s=i[n.index],u=n.type;if(a&&0===e&&(s&&wr(Me(s),i),n.flags|=4),64!=(64&n.flags))if(8&u)Yr(t,e,n.child,i,r,o,!1),Tr(e,t,r,s,o);else if(32&u){for(var l=Sr(n,i),c=void 0;c=l();)Tr(e,t,r,c,o);Tr(e,t,r,s,o)}else 16&u?Xr(t,e,i,n,r,o):Tr(e,t,r,s,o);n=a?n.projectionNext:n.next}}function Zr(t,e,n,i,r,o){Yr(n,i,t.firstChild,e,r,o,!1)}function Xr(t,e,n,i,r,o){var a=n[16],s=a[6].projection[i.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Tr(e,t,r,s[u],o);else Yr(t,e,s,a[3],r,o,!0)}function Kr(t,e,n){Oe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function $r(t,e,n){Oe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Jr(t,e,n){for(var i=t.length;;){var r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){var o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}function Qr(t,e,n){for(var i=0;i<t.length;){var r=t[i++];if(n&&"class"===r){if(-1!==Jr((r=t[i]).toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function to(t){return 4===t.type&&"ng-template"!==t.value}function eo(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function no(t,e,n){for(var i=4,r=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(On(t[e]))return e;return t.length}(r),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&i){if(i=2|1&i,""!==u&&!eo(t,u,n)||""===u&&1===e.length){if(io(i))return!1;a=!0}}else{var l=8&i?u:e[++s];if(8&i&&null!==t.attrs){if(!Qr(t.attrs,l,n)){if(io(i))return!1;a=!0}continue}var c=ro(8&i?"class":u,r,to(t),n);if(-1===c){if(io(i))return!1;a=!0;continue}if(""!==l){var h;h=c>o?"":r[c+1].toLowerCase();var p=8&i?h:null;if(p&&-1!==Jr(p,l,0)||2&i&&l!==h){if(io(i))return!1;a=!0}}}}else{if(!a&&!io(i)&&!io(u))return!1;if(a&&io(u))continue;a=!1,i=u|1&i}}return io(i)||a}function io(t){return 0==(1&t)}function ro(t,e,n,i){if(null===e)return-1;var r=0;if(i||!n){for(var o=!1;r<e.length;){var a=e[r];if(a===t)return r;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++r];"string"==typeof s;)s=e[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function oo(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=0;i<e.length;i++)if(no(t,e[i],n))return!0;return!1}function ao(t,e){t:for(var n=0;n<e.length;n++){var i=e[n];if(t.length===i.length){for(var r=0;r<t.length;r++)if(t[r]!==i[r])continue t;return!0}}return!1}function so(t,e){return t?":not("+e.trim()+")":e}function uo(t){for(var e=t[0],n=1,i=2,r="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&i){var s=t[++n];r+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""===r||io(a)||(e+=so(o,r),r=""),i=a,o=o||!io(i);n++}return""!==r&&(e+=so(o,r)),e}var lo={};function co(t){ho(Ze(),Ye(),bn()+t,en())}function ho(t,e,n,i){if(!i)if(3==(3&e[2])){var r=t.preOrderCheckHooks;null!==r&&En(e,r,n)}else{var o=t.preOrderHooks;null!==o&&Sn(e,o,0,n)}wn(n)}function po(t,e){return t<<17|e<<2}function fo(t){return t>>17&32767}function go(t){return 2|t}function mo(t){return(131068&t)>>2}function _o(t,e){return-131069&t|e<<2}function yo(t){return 1|t}function vo(t,e){var n=t.contentQueries;if(null!==n)for(var i=0;i<n.length;i+=2){var r=n[i],o=n[i+1];if(-1!==o){var a=t.data[o];hn(r),a.contentQueries(2,e[o],o)}}}function bo(t,e,n,i,r,o,a,s,u,l){var c=e.blueprint.slice();return c[0]=r,c[2]=140|i,qe(c),c[3]=c[15]=t,c[8]=n,c[10]=a||t&&t[10],c[11]=s||t&&t[11],c[12]=u||t&&t[12]||null,c[9]=l||t&&t[9]||null,c[6]=o,c[16]=2==e.type?t[16]:c,c}function wo(t,e,n,i,r){var o,a,s=t.data[e];if(null===s)s=function(t,e,n,i,r){var o=$e(),a=Qe(),s=t.data[e]=function(t,e,n,i,r,o){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=s),null!==o&&(a?null==o.child&&null!==s.parent&&(o.child=s):null===o.next&&(o.next=s)),s}(t,e,n,i,r),He.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;var u=(o=He.lFrame,a=o.currentTNode,o.isParent?a:a.parent);s.injectorIndex=null===u?-1:u.injectorIndex}return Je(s,!0),s}function xo(t,e,n,i){if(0===n)return-1;for(var r=e.length,o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function ko(t,e,n){dn(e);try{var i=t.viewQuery;null!==i&&Qo(1,i,n);var r=t.template;null!==r&&Co(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&vo(t,e),t.staticViewQueries&&Qo(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)Zo(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,vn()}}function Eo(t,e,n,i){var r=e[2];if(256!=(256&r)){dn(e);var o=en();try{qe(e),He.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Co(t,e,n,2,i);var a=3==(3&r);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&En(e,s,null)}else{var u=t.preOrderHooks;null!==u&&Sn(e,u,0,null),Cn(e,0)}if(function(t){for(var e=Ir(t);null!==e;e=Ar(e))if(e[2])for(var n=e[9],i=0;i<n.length;i++){var r=n[i],o=r[3];0==(1024&r[2])&&Ge(o,1),r[2]|=1024}}(e),function(t){for(var e=Ir(t);null!==e;e=Ar(e))for(var n=10;n<e.length;n++){var i=e[n],r=i[1];Ve(i)&&Eo(r,i,r.template,i[8])}}(e),null!==t.contentQueries&&vo(t,e),!o)if(a){var l=t.contentCheckHooks;null!==l&&En(e,l)}else{var c=t.contentHooks;null!==c&&Sn(e,c,1),Cn(e,1)}!function(t,e){var n,i,r,o=t.hostBindingOpCodes;if(null!==o)try{for(var a=0;a<o.length;a++){var s=o[a];if(s<0)wn(~s);else{var u=s,l=o[++a],c=o[++a];n=l,i=u,r=void 0,(r=He.lFrame).bindingIndex=r.bindingRootIndex=n,un(i),c(2,e[u])}}}finally{wn(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)Wo(t,e[n])}(e,h);var p=t.viewQuery;if(null!==p&&Qo(2,p,i),!o)if(a){var f=t.viewCheckHooks;null!==f&&En(e,f)}else{var d=t.viewHooks;null!==d&&Sn(e,d,2),Cn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ge(e[3],-1))}finally{vn()}}}function So(t,e,n,i){var r=e[10],o=!en(),a=je(e);try{o&&!a&&r.begin&&r.begin(),a&&ko(t,e,i),Eo(t,e,n,i)}finally{o&&!a&&r.end&&r.end()}}function Co(t,e,n,i,r){var o=bn(),a=2&i;try{wn(-1),a&&e.length>20&&ho(t,e,20,en()),n(i,r)}finally{wn(o)}}function Io(t,e,n){if(ye(e))for(var i=e.directiveEnd,r=e.directiveStart;r<i;r++){var o=t.data[r];o.contentQueries&&o.contentQueries(1,n[r],r)}}function Ao(t,e,n){We()&&(function(t,e,n,i){var r=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Vn(n,e),wr(i,e);for(var a=n.initialInputs,s=r;s<o;s++){var u=t.data[s],l=we(u);l&&Uo(e,n,u);var c=Qn(e,t,s,n);wr(c,e),null!==a&&qo(0,s-r,c,u,0,a),l&&(Fe(n.index,e)[8]=c)}}(t,e,n,Re(n,e)),128==(128&n.flags)&&function(t,e,n){var i=n.directiveStart,r=n.directiveEnd,o=n.index,a=He.lFrame.currentDirectiveIndex;try{wn(o);for(var s=i;s<r;s++){var u=t.data[s],l=e[s];un(s),null===u.hostBindings&&0===u.hostVars&&null===u.hostAttrs||zo(u,l)}}finally{wn(-1),un(a)}}(t,e,n))}function Po(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Re,i=e.localNames;if(null!==i)for(var r=e.index+1,o=0;o<i.length;o+=2){var a=i[o+1],s=-1===a?n(e,t):t[a];t[r++]=s}}function To(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Oo(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Oo(t,e,n,i,r,o,a,s,u,l){var c=20+i,h=c+r,p=function(t,e){for(var n=[],i=0;i<e;i++)n.push(i<t?null:lo);return n}(c,h),f="function"==typeof l?l():l;return p[1]={type:t,blueprint:p,template:n,queries:null,viewQuery:s,declTNode:e,data:p.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Lo(t,e,n,i){var r=ea(e);null===n?r.push(i):(r.push(n),t.firstCreatePass&&na(t).push(i,r.length-1))}function Mo(t,e,n){for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function No(t,e,n,i,r,o,a,s){var u,l,c=Re(e,n),h=e.inputs;!s&&null!=h&&(u=h[i])?(oa(t,n,u,i,r),ve(e)&&function(t,e){var n=Fe(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(i="class"===(l=i)?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l,r=null!=a?a(r,e.value||"",i):r,Oe(o)?o.setProperty(c,i,r):Ln(i)||(c.setProperty?c.setProperty(i,r):c[i]=r))}function Ro(t,e,n,i){var r=!1;if(We()){var o=function(t,e,n){var i=t.directiveRegistry,r=null;if(i)for(var o=0;o<i.length;o++){var a=i[o];oo(n,a.selectors,!1)&&(r||(r=[]),Hn(Vn(n,e),t,a.type),we(a)?(Fo(t,n),r.unshift(a)):r.push(a))}return r}(t,e,n),a=null===i?null:{"":-1};if(null!==o){r=!0,jo(n,t.data.length,o.length);for(var s=0;s<o.length;s++){var u=o[s];u.providersResolver&&u.providersResolver(u)}for(var l=!1,c=!1,h=xo(t,e,o.length,null),p=0;p<o.length;p++){var f=o[p];n.mergedAttrs=Mn(n.mergedAttrs,f.hostAttrs),Vo(t,n,e,h,f),Bo(h,f,a),null!==f.contentQueries&&(n.flags|=8),null===f.hostBindings&&null===f.hostAttrs&&0===f.hostVars||(n.flags|=128);var d=f.type.prototype;!l&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),l=!0),c||!d.ngOnChanges&&!d.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),c=!0),h++}!function(t,e){for(var n=e.directiveEnd,i=t.data,r=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var l=i[u],c=l.inputs,h=null===r||to(e)?null:Go(c,r);o.push(h),a=Mo(c,u,a),s=Mo(l.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n)}a&&function(t,e,n){if(e)for(var i=t.localNames=[],r=0;r<e.length;r+=2){var o=n[e[r+1]];if(null==o)throw new Et("301","Export of name '".concat(e[r+1],"' not found!"));i.push(e[r],o)}}(n,i,a)}return n.mergedAttrs=Mn(n.mergedAttrs,n.attrs),r}function Do(t,e,n,i,r,o){var a=o.hostBindings;if(a){var s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);var u=~e.index;(function(t){for(var e=t.length;e>0;){var n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=u&&s.push(u),s.push(i,r,a)}}function zo(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Fo(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Bo(t,e,n){if(n){if(e.exportAs)for(var i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;we(e)&&(n[""]=t)}}function jo(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Vo(t,e,n,i,r){t.data[i]=r;var o=r.factory||(r.factory=xe(r.type)),a=new Pn(o,we(r),null);t.blueprint[i]=a,n[i]=a,Do(t,e,0,i,xo(t,n,r.hostVars,lo),r)}function Uo(t,e,n){var i=Re(e,t),r=To(n),o=t[10],a=Xo(t,bo(t,r,null,n.onPush?64:16,i,e,o,o.createRenderer(i,n),null,null));t[e.index]=a}function qo(t,e,n,i,r,o){var a=o[e];if(null!==a)for(var s=i.setInput,u=0;u<a.length;){var l=a[u++],c=a[u++],h=a[u++];null!==s?i.setInput(n,h,l,c):n[c]=h}}function Go(t,e){for(var n=null,i=0;i<e.length;){var r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function Ho(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function Wo(t,e){var n=Fe(e,t);if(Ve(n)){var i=n[1];80&n[2]?Eo(i,n,i.template,n[8]):n[5]>0&&Yo(n)}}function Yo(t){for(var e=Ir(t);null!==e;e=Ar(e))for(var n=10;n<e.length;n++){var i=e[n];if(1024&i[2]){var r=i[1];Eo(r,i,r.template,i[8])}else i[5]>0&&Yo(i)}var o=t[1].components;if(null!==o)for(var a=0;a<o.length;a++){var s=Fe(o[a],t);Ve(s)&&s[5]>0&&Yo(s)}}function Zo(t,e){var n=Fe(e,t),i=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),ko(i,n,n[8])}function Xo(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ko(t){for(;t;){t[2]|=64;var e=Cr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function $o(t,e,n){var i=e[10];i.begin&&i.begin();try{Eo(t,e,t.template,n)}catch(r){throw ra(e,r),r}finally{i.end&&i.end()}}function Jo(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],i=Be(n),r=i[1];So(r,i,r.template,n)}}(t[8])}function Qo(t,e,n){hn(0),e(t,n)}var ta=Promise.resolve(null);function ea(t){return t[7]||(t[7]=[])}function na(t){return t.cleanup||(t.cleanup=[])}function ia(t,e,n){return(null===t||we(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function ra(t,e){var n=t[9],i=n?n.get(br,null):null;i&&i.handleError(e)}function oa(t,e,n,i,r){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],l=t.data[a];null!==l.setInput?l.setInput(u,r,i,s):u[s]=r}}function aa(t,e,n){var i=Ne(e,t);!function(t,e,n){Oe(t)?t.setValue(e,n):e.textContent=n}(t[11],i,n)}function sa(t,e,n){var i=n?t.styles:null,r=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?r=vt(r,s):2==o&&(i=vt(i,s+": "+e[++a]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var ua,la=new si("INJECTOR",-1),ca=function(){function t(){m(this,t)}return y(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vi;if(e===vi){var n=new Error("NullInjectorError: No provider for ".concat(yt(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),ha=new si("Set Injector scope."),pa={},fa={},da=[];function ga(){return void 0===ua&&(ua=new ca),ua}function ma(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return new _a(t,n,e||ga(),i)}var _a=function(){function t(e,n,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;m(this,t),this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&hi(n,function(t){return r.processProvider(t,e,n)}),hi([e],function(t){return r.processInjectorType(t,[],a)}),this.records.set(la,ba(void 0,this));var s=this.records.get(ha);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:yt(e))}return y(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vi,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ft.Default;this.assertNotDestroyed();var i,r=xi(this);try{if(!(n&Ft.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(i=t)||"object"==typeof i&&i instanceof si)&&Tt(t);o=a&&this.injectableDefInScope(a)?ba(ya(t),pa):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&Ft.Self?ga():this.parent).get(t,e=n&Ft.Optional&&e===vi?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(yt(t)),r)throw s;return function(t,e,n,i){var r=t.ngTempTokenPath;throw e.__source&&r.unshift(e.__source),t.message=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var r=yt(e);if(Array.isArray(e))r=e.map(yt).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):yt(s)))}r="{".concat(o.join(", "),"}")}return"".concat(n).concat(i?"("+i+")":"","[").concat(r,"]: ").concat(t.replace(bi,"\n  "))}("\n"+t.message,r,"R3InjectorError",i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{xi(r)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(e){return t.get(e)})}},{key:"toString",value:function(){var t=[];return this.records.forEach(function(e,n){return t.push(yt(n))}),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var i=this;if(!(t=xt(t)))return!1;var r=Lt(t),o=null==r&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(r=Lt(o)),null==r)return!1;if(null!=r.imports&&!s){var u;n.push(a);try{hi(r.imports,function(t){i.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))})}finally{}if(void 0!==u)for(var l=function(t){var e=u[t],n=e.ngModule,r=e.providers;hi(r,function(t){return i.processProvider(t,n,r||da)})},c=0;c<u.length;c++)l(c)}this.injectorDefTypes.add(a);var h=xe(a)||function(){return new a};this.records.set(a,ba(h,pa));var p=r.providers;if(null!=p&&!s){var f=t;hi(p,function(t){return i.processProvider(t,f,p)})}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var i=xa(t=xt(t))?t:xt(t&&t.provide),r=function(t,e,n){return wa(t)?ba(void 0,t.useValue):ba(va(t),pa)}(t);if(xa(t)||!0!==t.multi)this.records.get(i);else{var o=this.records.get(i);o||((o=ba(void 0,pa,!0)).factory=function(){return Ci(o.multi)},this.records.set(i,o)),i=t,o.multi.push(t)}this.records.set(i,r)}},{key:"hydrate",value:function(t,e){var n;return e.value===pa&&(e.value=fa,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}]),t}();function ya(t){var e=Tt(t),n=null!==e?e.factory:xe(t);if(null!==n)return n;if(t instanceof si)throw new Error("Token ".concat(yt(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=di(e,"?");throw new Error("Can't resolve all parameters for ".concat(yt(t),": (").concat(n.join(", "),")."))}var i=function(t){var e=t&&(t[Nt]||t[Dt]);if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==i?function(){return i.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function va(t,e,i){var r,o;if(xa(t)){var a=xt(t);return xe(a)||ya(a)}if(wa(t))r=function(){return xt(t.useValue)};else if((o=t)&&o.useFactory)r=function(){return t.useFactory.apply(t,p(Ci(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))r=function(){return Ei(xt(t.useExisting))};else{var s=xt(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return xe(s)||ya(s);r=function(){return n(s,p(Ci(t.deps)))}}return r}function ba(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function wa(t){return null!==t&&"object"==typeof t&&wi in t}function xa(t){return"function"==typeof t}var ka=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0,r=ma(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)},Ea=function(){var t=function(){function t(){m(this,t)}return y(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?ka(t,e,""):ka(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=vi,t.NULL=new ca,t.\u0275prov=At({token:t,providedIn:"any",factory:function(){return Ei(la)}}),t.__NG_ELEMENT_ID__=-1,t}();function Sa(t,e){kn(Be(t)[1],Ke())}function Ca(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,i=[t];e;){var r=void 0;if(we(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);var o=t;o.inputs=Ia(t.inputs),o.declaredInputs=Ia(t.declaredInputs),o.outputs=Ia(t.outputs);var a=r.hostBindings;a&&Ta(t,a);var s=r.viewQuery,u=r.contentQueries;if(s&&Aa(t,s),u&&Pa(t,u),_t(t.inputs,r.inputs),_t(t.declaredInputs,r.declaredInputs),_t(t.outputs,r.outputs),we(r)&&r.data.animation){var l=t.data;l.animation=(l.animation||[]).concat(r.data.animation)}}var c=r.features;if(c)for(var h=0;h<c.length;h++){var p=c[h];p&&p.ngInherit&&p(t),p===Ca&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,i=t.length-1;i>=0;i--){var r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Mn(r.hostAttrs,n=Mn(n,r.hostAttrs))}}(i)}function Ia(t){return t===Xt?{}:t===$t?[]:t}function Aa(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,i){e(t,i),n(t,i)}:e}function Pa(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,i,r){e(t,i,r),n(t,i,r)}:e}function Ta(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,i){e(t,i),n(t,i)}:e}var Oa=null;function La(){if(!Oa){var t=Zt.Symbol;if(t&&t.iterator)Oa=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var i=e[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Oa=i)}}return Oa}var Ma=function(){function t(e){m(this,t),this.wrapped=e}return y(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function Na(t){return!!Ra(t)&&(Array.isArray(t)||!(t instanceof Map)&&La()in t)}function Ra(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Da(t,e,n){return t[e]=n}function za(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Fa(t,e,n,i){var r=za(t,e,n);return za(t,e+1,i)||r}function Ba(t,e,n,i){var r=Ye();return za(r,an(),e)&&(Ze(),function(t,e,n,i,r,o){var a=Re(t,e);!function(t,e,n,i,r,o,a){if(null==o)Oe(t)?t.removeAttribute(e,r,n):e.removeAttribute(r);else{var s=null==a?St(o):a(o,i||"",r);Oe(t)?t.setAttribute(e,r,s,n):n?e.setAttributeNS(n,r,s):e.setAttribute(r,s)}}(e[11],a,o,t.value,n,i,r)}(xn(),r,t,e,n,i)),Ba}function ja(t,e,n,i){return za(t,an(),n)?e+St(n)+i:lo}function Va(t,e,n,i,r,o,a,s){var u=Ye(),l=Ze(),c=t+20,h=l.firstCreatePass?function(t,e,n,i,r,o,a,s,u){var l=e.consts,c=wo(e,t,4,a||null,Ue(l,s));Ro(e,n,c,Ue(l,u)),kn(e,c);var h=c.tViews=Oo(2,c,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,c),h.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,n,i,r,o,a):l.data[c];Je(h,!1);var p=u[11].createComment("");qr(l,u,p,h),wr(p,u),Xo(u,u[c]=Ho(p,u,p,h)),be(h)&&Ao(l,u,h),null!=a&&Po(u,h,s)}function Ua(t){return ze(He.lFrame.contextLView,20+t)}function qa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ft.Default,n=Ye();return null===n?Ei(t,e):Zn(Ke(),n,xt(t),e)}function Ga(t,e,n){var i=Ye();return za(i,an(),e)&&No(Ze(),xn(),i,t,e,i[11],n,!1),Ga}function Ha(t,e,n,i,r){var o=r?"class":"style";oa(t,n,e.inputs[o],o,i)}function Wa(t,e,n,i){var r=Ye(),o=Ze(),a=20+t,s=r[11],u=r[a]=Or(s,e,He.lFrame.currentNamespace),l=o.firstCreatePass?function(t,e,n,i,r,o,a){var s=e.consts,u=wo(e,t,2,r,Ue(s,o));return Ro(e,n,u,Ue(s,a)),null!==u.attrs&&sa(u,u.attrs,!1),null!==u.mergedAttrs&&sa(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(a,o,r,0,e,n,i):o.data[a];Je(l,!0);var c=l.mergedAttrs;null!==c&&Tn(s,u,c);var h=l.classes;null!==h&&$r(s,u,h);var p=l.styles;null!==p&&Kr(s,u,p),64!=(64&l.flags)&&qr(o,r,u,l),0===He.lFrame.elementDepthCount&&wr(u,r),He.lFrame.elementDepthCount++,be(l)&&(Ao(o,r,l),Io(o,l,r)),null!==i&&Po(r,l)}function Ya(){var t=Ke();Qe()?tn():Je(t=t.parent,!1);var e=t;He.lFrame.elementDepthCount--;var n=Ze();n.firstCreatePass&&(kn(n,t),ye(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ha(n,e,Ye(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ha(n,e,Ye(),e.stylesWithoutHost,!1)}function Za(t,e,n,i){Wa(t,e,n,i),Ya()}function Xa(t,e,n){var i=Ye(),r=Ze(),o=t+20,a=r.firstCreatePass?function(t,e,n,i,r){var o=e.consts,a=Ue(o,i),s=wo(e,t,8,"ng-container",a);return null!==a&&sa(s,a,!0),Ro(e,n,s,Ue(o,r)),null!==e.queries&&e.queries.elementStart(e,s),s}(o,r,i,e,n):r.data[o];Je(a,!0);var s=i[o]=i[11].createComment("");qr(r,i,s,a),wr(s,i),be(a)&&(Ao(r,i,a),Io(r,a,i)),null!=n&&Po(i,a)}function Ka(){var t=Ke(),e=Ze();Qe()?tn():Je(t=t.parent,!1),e.firstCreatePass&&(kn(e,t),ye(t)&&e.queries.elementEnd(t))}function $a(t,e,n){Xa(t,e,n),Ka()}function Ja(){return Ye()}function Qa(t){return!!t&&"function"==typeof t.then}function ts(t){return!!t&&"function"==typeof t.subscribe}var es=ts;function ns(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=Ye(),o=Ze(),a=Ke();return rs(o,r,r[11],a,t,e,n,i),ns}function is(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=Ke(),o=Ye(),a=Ze();return rs(a,o,ia(ln(a.data),r,o),r,t,e,n,i),is}function rs(t,e,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=be(i),l=t.firstCreatePass&&na(t),c=ea(e),h=!0;if(3&i.type){var p=Re(i,e),f=s?s(p):Xt,d=f.target||p,g=c.length,m=s?function(t){return s(Me(t[i.index])).target}:i.index;if(Oe(n)){var _=null;if(!s&&u&&(_=function(t,e,n,i){var r=t.cleanup;if(null!=r)for(var o=0;o<r.length-1;o+=2){var a=r[o];if(a===n&&r[o+1]===i){var s=e[7],u=r[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,r,i.index)),null!==_)(_.__ngLastListenerFn__||_).__ngNextListenerFn__=o,_.__ngLastListenerFn__=o,h=!1;else{o=as(i,e,0,o,!1);var y=n.listen(f.name||d,r,o);c.push(o,y),l&&l.push(r,m,g,g+1)}}else o=as(i,e,0,o,!0),d.addEventListener(r,o,a),c.push(o),l&&l.push(r,m,g,a)}else o=as(i,e,0,o,!1);var v,b=i.outputs;if(h&&null!==b&&(v=b[r])){var w=v.length;if(w)for(var x=0;x<w;x+=2){var k=e[v[x]][v[x+1]].subscribe(o),E=c.length;c.push(o,k),l&&l.push(r,i.index,E,-(E+1))}}}function os(t,e,n,i){try{return!1!==n(i)}catch(r){return ra(t,r),!1}}function as(t,e,n,i,r){return function n(o){if(o===Function)return i;var a=2&t.flags?Fe(t.index,e):e;0==(32&e[2])&&Ko(a);for(var s=os(e,0,i,o),u=n.__ngNextListenerFn__;u;)s=os(e,0,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function ss(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(He.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,He.lFrame.contextLView))[8]}(t)}function us(t,e){for(var n=null,i=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),r=0;r<e.length;r++){var o=e[r];if("*"!==o){if(null===i?oo(t,o,!0):ao(i,o))return r}else n=r}return n}function ls(t){var e=Ye()[16][6];if(!e.projection)for(var n=e.projection=di(t?t.length:1,null),i=n.slice(),r=e.child;null!==r;){var o=t?us(r,t):0;null!==o&&(i[o]?i[o].projectionNext=r:n[o]=r,i[o]=r),r=r.next}}function cs(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=Ye(),r=Ze(),o=wo(r,20+t,16,null,n||null);null===o.projection&&(o.projection=e),tn(),64!=(64&o.flags)&&function(t,e,n){Xr(e[11],0,e,n,Dr(t,n,e),Vr(n.parent||e[6],n,e))}(r,i,o)}function hs(t,e,n){return ps(t,"",e,"",n),hs}function ps(t,e,n,i,r){var o=Ye(),a=ja(o,e,n,i);return a!==lo&&No(Ze(),xn(),o,t,a,o[11],r,!1),ps}function fs(t,e,n,i,r){for(var o=t[n+1],a=null===e,s=i?fo(o):mo(o),u=!1;0!==s&&(!1===u||a);){var l=t[s+1];ds(t[s],e)&&(u=!0,t[s+1]=i?yo(l):go(l)),s=i?fo(l):mo(l)}u&&(t[n+1]=i?go(o):yo(o))}function ds(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&_i(t,e)>=0}var gs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ms(t){return t.substring(gs.key,gs.keyEnd)}function _s(t,e){var n=gs.textEnd;return n===e?-1:(e=gs.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,gs.key=e,n),ys(t,e,n))}function ys(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function vs(t,e){return function(t,e,n,i){var r=Ye(),o=Ze(),a=sn(2);o.firstUpdatePass&&ks(o,t,a,!0),e!==lo&&za(r,a,e)&&Cs(o,o.data[bn()],r,r[11],t,r[a+1]=function(t,e){return null==t||"object"==typeof t&&(t=yt(Vi(t))),t}(e),!0,a)}(t,e),vs}function bs(t){!function(t,e,n,i){var r=Ze(),o=sn(2);r.firstUpdatePass&&ks(r,null,o,!0);var a=Ye();if(n!==lo&&za(a,o,n)){var s=r.data[bn()];if(Ps(s,!0)&&!xs(r,o)){var u=s.classesWithoutHost;null!==u&&(n=vt(u,n||"")),Ha(r,s,a,n,!0)}else!function(t,e,n,i,r,o,a,s){r===lo&&(r=Kt);for(var u=0,l=0,c=0<r.length?r[0]:null,h=0<o.length?o[0]:null;null!==c||null!==h;){var p=u<r.length?r[u+1]:void 0,f=l<o.length?o[l+1]:void 0,d=void 0,g=null;c===h?(u+=2,l+=2,p!==f&&(g=h,d=f)):null===h||null!==c&&c<h?(u+=2,g=c):(l+=2,g=h,d=f),null!==g&&Cs(t,e,n,i,g,d,!0,s),c=u<r.length?r[u]:null,h=l<o.length?o[l]:null}}(r,s,a,a[11],a[o+1],a[o+1]=function(t,e,n){if(null==n||""===n)return Kt;var i=[],r=Vi(n);if(Array.isArray(r))for(var o=0;o<r.length;o++)t(i,r[o],!0);else if("object"==typeof r)for(var a in r)r.hasOwnProperty(a)&&t(i,a,r[a]);else"string"==typeof r&&e(i,r);return i}(t,e,n),0,o)}}(gi,ws,t)}function ws(t,e){for(var n=function(t){return function(t){gs.key=0,gs.keyEnd=0,gs.value=0,gs.valueEnd=0,gs.textEnd=t.length}(t),_s(t,ys(t,0,gs.textEnd))}(e);n>=0;n=_s(e,n))gi(t,ms(e),!0)}function xs(t,e){return e>=t.expandoStartIndex}function ks(t,e,n,i){var r=t.data;if(null===r[n+1]){var o=r[bn()],a=xs(t,n);Ps(o,i)&&null===e&&!a&&(e=!1),e=function(t,e,n,i){var r=ln(t),o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=Ss(n=Es(null,t,e,n,i),e.attrs,i),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==r)if(n=Es(r,t,e,n,i),null===o){var s=function(t,e,n){var i=n?e.classBindings:e.styleBindings;if(0!==mo(i))return t[fo(i)]}(t,e,i);void 0!==s&&Array.isArray(s)&&function(t,e,n,i){t[fo(n?e.classBindings:e.styleBindings)]=i}(t,e,i,s=Ss(s=Es(null,t,e,s[1],i),e.attrs,i))}else o=function(t,e,n){for(var i,r=e.directiveEnd,o=1+e.directiveStylingLast;o<r;o++)i=Ss(i,t[o].hostAttrs,n);return Ss(i,e.attrs,n)}(t,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),n}(r,o,e,i),function(t,e,n,i,r,o){var a=o?e.classBindings:e.styleBindings,s=fo(a),u=mo(a);t[i]=n;var l,c=!1;if(Array.isArray(n)){var h=n;(null===(l=h[1])||_i(h,l)>0)&&(c=!0)}else l=n;if(r)if(0!==u){var p=fo(t[s+1]);t[i+1]=po(p,s),0!==p&&(t[p+1]=_o(t[p+1],i)),t[s+1]=131071&t[s+1]|i<<17}else t[i+1]=po(s,0),0!==s&&(t[s+1]=_o(t[s+1],i)),s=i;else t[i+1]=po(u,0),0===s?s=i:t[u+1]=_o(t[u+1],i),u=i;c&&(t[i+1]=go(t[i+1])),fs(t,l,i,!0),fs(t,l,i,!1),function(t,e,n,i,r){var o=r?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&_i(o,e)>=0&&(n[i+1]=yo(n[i+1]))}(e,l,t,i,o),a=po(s,u),o?e.classBindings=a:e.styleBindings=a}(r,o,e,n,a,i)}}function Es(t,e,n,i,r){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(i=Ss(i,(o=e[s]).hostAttrs,r),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),i}function Ss(t,e,n){var i=n?1:2,r=-1;if(null!==e)for(var o=0;o<e.length;o++){var a=e[o];"number"==typeof a?r=a:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),gi(t,a,!!n||e[++o]))}return void 0===t?null:t}function Cs(t,e,n,i,r,o,a,s){if(3&e.type){var u=t.data,l=u[s+1];As(1==(1&l)?Is(u,e,n,r,mo(l),a):void 0)||(As(o)||2==(2&l)&&(o=Is(u,null,n,r,s,a)),function(t,e,n,i,r){var o=Oe(t);if(e)r?o?t.addClass(n,i):n.classList.add(i):o?t.removeClass(n,i):n.classList.remove(i);else{var a=-1===i.indexOf("-")?void 0:Er.DashCase;if(null==r)o?t.removeStyle(n,i,a):n.style.removeProperty(i);else{var s="string"==typeof r&&r.endsWith("!important");s&&(r=r.slice(0,-10),a|=Er.Important),o?t.setStyle(n,i,r,a):n.style.setProperty(i,r,s?"important":"")}}}(i,a,Ne(bn(),n),r,o))}}function Is(t,e,n,i,r,o){for(var a,s=null===e;r>0;){var u=t[r],l=Array.isArray(u),c=l?u[1]:u,h=null===c,p=n[r+1];p===lo&&(p=h?Kt:void 0);var f=h?mi(p,i):c===i?p:void 0;if(l&&!As(f)&&(f=mi(u,i)),As(f)&&(a=f,s))return a;var d=t[r+1];r=s?fo(d):mo(d)}if(null!==e){var g=o?e.residualClasses:e.residualStyles;null!=g&&(a=mi(g,i))}return a}function As(t){return void 0!==t}function Ps(t,e){return 0!=(t.flags&(e?16:32))}function Ts(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Ye(),i=Ze(),r=t+20,o=i.firstCreatePass?wo(i,r,1,e,null):i.data[r],a=n[r]=function(t,e){return Oe(t)?t.createText(e):t.createTextNode(e)}(n[11],e);qr(i,n,a,o),Je(o,!1)}function Os(t){return Ls("",t,""),Os}function Ls(t,e,n){var i=Ye(),r=ja(i,t,e,n);return r!==lo&&aa(i,bn(),r),Ls}function Ms(t,e,n,i,r){var o=Ye(),a=function(t,e,n,i,r,o){var a=Fa(t,on(),n,r);return sn(2),a?e+St(n)+i+St(r)+o:lo}(o,t,e,n,i,r);return a!==lo&&aa(o,bn(),a),Ms}function Ns(t,e,n){var i=Ye();return za(i,an(),e)&&No(Ze(),xn(),i,t,e,i[11],n,!0),Ns}function Rs(t,e,n){var i=Ye();if(za(i,an(),e)){var r=Ze(),o=xn();No(r,o,i,t,e,ia(ln(r.data),o,i),n,!0)}return Rs}var Ds=void 0,zs=["en",[["a","p"],["AM","PM"],Ds],[["AM","PM"],Ds,Ds],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ds,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ds,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ds,"{1} 'at' {0}",Ds],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],Fs={};function Bs(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=js(e);if(n)return n;var i=e.split("-")[0];if(n=js(i))return n;if("en"===i)return zs;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function js(t){return t in Fs||(Fs[t]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[t]),Fs[t]}var Vs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});function Us(t){var e;null==(e=t)&&function(t,e,n,i){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined"," [Expected=> null != ").concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}function qs(t,e,n,i,r){if(t=xt(t),Array.isArray(t))for(var o=0;o<t.length;o++)qs(t[o],e,n,i,r);else{var a=Ze(),s=Ye(),u=xa(t)?t:xt(t.provide),l=va(t),c=Ke(),h=1048575&c.providerIndexes,p=c.directiveStart,f=c.providerIndexes>>20;if(xa(t)||!t.multi){var d=new Pn(l,r,qa),g=Ws(u,e,r?h:h+f,p);-1===g?(Hn(Vn(c,s),a,u),Gs(a,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(d),s.push(d)):(n[g]=d,s[g]=d)}else{var m=Ws(u,e,h+f,p),_=Ws(u,e,h,h+f),y=m>=0&&n[m],v=_>=0&&n[_];if(r&&!v||!r&&!y){Hn(Vn(c,s),a,u);var b=function(t,e,n,i,r){var o=new Pn(t,n,qa);return o.multi=[],o.index=e,o.componentProviders=0,Hs(o,r,i&&!n),o}(r?Zs:Ys,n.length,r,i,l);!r&&v&&(n[_].providerFactory=b),Gs(a,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(b),s.push(b)}else Gs(a,t,m>-1?m:_,Hs(n[r?_:m],l,!r&&i));!r&&i&&v&&n[_].componentProviders++}}}function Gs(t,e,n,i){var r=xa(e);if(r||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[i,o]):a[s+1].push(i,o)}else a.push(n,o)}}}function Hs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ws(t,e,n,i){for(var r=n;r<i;r++)if(e[r]===t)return r;return-1}function Ys(t,e,n,i){return Xs(this.multi,[])}function Zs(t,e,n,i){var r,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=Qn(n,n[1],this.providerFactory.index,i);Xs(o,r=s.slice(0,a));for(var u=a;u<s.length;u++)r.push(s[u])}else Xs(o,r=[]);return r}function Xs(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ks(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,i){return function(t,e,n){var i=Ze();if(i.firstCreatePass){var r=we(t);qs(n,i.data,i.blueprint,r,!0),qs(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}}var $s=function t(){m(this,t)},Js=function(){function t(){m(this,t)}return y(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(yt(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),Qs=function(){var t=function t(){m(this,t)};return t.NULL=new Js,t}();function tu(){}function eu(t,e){return new iu(Re(t,e))}var nu=function(){return eu(Ke(),Ye())},iu=function(){var t=function t(e){m(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=nu,t}();function ru(t){return t instanceof iu?t.nativeElement:t}var ou=function t(){m(this,t)},au=function(){var t=function t(){m(this,t)};return t.__NG_ELEMENT_ID__=function(){return su()},t}(),su=function(){var t=Ye(),e=Fe(Ke().index,t);return function(t){return t[11]}(me(e)?e:t)},uu=function(){var t=function t(){m(this,t)};return t.\u0275prov=At({token:t,providedIn:"root",factory:function(){return null}}),t}(),lu=function t(e){m(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},cu=new lu("11.2.14"),hu=function(){function t(){m(this,t)}return y(t,[{key:"supports",value:function(t){return Na(t)}},{key:"create",value:function(t){return new fu(t)}}]),t}(),pu=function(t,e){return e},fu=function(){function t(e){m(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||pu}return y(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,i=0,r=null;e||n;){var o=!n||e&&e.currentIndex<_u(n,i,r)?e:n,a=_u(o,i,r),s=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{r||(r=[]);var u=a-i,l=s-i;if(u!=l){for(var c=0;c<u;c++){var h=c<r.length?r[c]:r[c]=0,p=h+c;l<=p&&p<u&&(r[c]=h+1)}r[o.previousIndex]=l-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!Na(t))throw new Error("Error trying to diff '".concat(yt(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,i,r,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=t[s],r=this._trackByFn(s,i),null!==o&&Object.is(o.trackById,r)?(a&&(o=this._verifyReinsertion(o,i,r,s)),Object.is(o.item,i)||this._addIdentityChange(o,i)):(o=this._mismatch(o,i,r,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var i,r=t[La()]();!(i=r.next()).done;)e(i.value)}(t,function(t){r=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,r)?(a&&(o=e._verifyReinsertion(o,t,r,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,r,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,i){var r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):t=this._addAfter(new du(e,n),r,i),t}},{key:"_verifyReinsertion",value:function(t,e,n,i){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new mu),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mu),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}]),t}(),du=function t(e,n){m(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},gu=function(){function t(){m(this,t),this._head=null,this._tail=null}return y(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),mu=function(){function t(){m(this,t),this.map=new Map}return y(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new gu,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function _u(t,e,n){var i=t.previousIndex;if(null===i)return i;var r=0;return n&&i<n.length&&(r=n[i]),i+e+r}var yu=function(){function t(){m(this,t)}return y(t,[{key:"supports",value:function(t){return t instanceof Map||Ra(t)}},{key:"create",value:function(){return new vu}}]),t}(),vu=function(){function t(){m(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return y(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||Ra(t)))throw new Error("Error trying to diff '".concat(yt(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,i){if(n&&n.key===i)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var r=e._getOrCreateRecordForKey(i,t);n=e._insertBeforeOrAppend(n,r)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}var o=new bu(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})}}]),t}(),bu=function t(e){m(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function wu(){return new xu([new hu])}var xu=function(){var t=function(){function t(e){m(this,t),this.factories=e}return y(t,[{key:"find",value:function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var i=n.factories.slice();e=e.concat(i)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||wu())},deps:[[t,new Li,new Oi]]}}}]),t}();return t.\u0275prov=At({token:t,providedIn:"root",factory:wu}),t}();function ku(){return new Eu([new yu])}var Eu=function(){var t=function(){function t(e){m(this,t),this.factories=e}return y(t,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var i=n.factories.slice();e=e.concat(i)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||ku())},deps:[[t,new Li,new Oi]]}}}]),t}();return t.\u0275prov=At({token:t,providedIn:"root",factory:ku}),t}();function Su(t,e,n,i){for(var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var o=e[n.index];if(null!==o&&i.push(Me(o)),_e(o))for(var a=10;a<o.length;a++){var s=o[a],u=s[1].firstChild;null!==u&&Su(s[1],s,u,i)}var l=n.type;if(8&l)Su(t,e,n.child,i);else if(32&l)for(var c=Sr(n,e),h=void 0;h=c();)i.push(h);else if(16&l){var f=Hr(e,n);if(Array.isArray(f))i.push.apply(i,p(f));else{var d=Cr(e[16]);Su(d[1],d,f,i,!0)}}n=r?n.projectionNext:n.next}return i}var Cu,Iu=function(){function t(e,n){m(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return y(t,[{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return Su(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var t=this._lView[3];if(_e(t)){var e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Mr(t,n),fi(e,n))}this._attachedToViewContainer=!1}Nr(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){Lo(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){Ko(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){$o(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){nn(!0);try{$o(t,e,n)}finally{nn(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,Zr(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}]),t}(),Au=function(t){o(n,t);var e=s(n);function n(t){var i;return m(this,n),(i=e.call(this,t))._view=t,i}return y(n,[{key:"detectChanges",value:function(){Jo(this._view)}},{key:"checkNoChanges",value:function(){!function(t){nn(!0);try{Jo(t)}finally{nn(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Iu),Pu=((Cu=function t(){m(this,t)}).__NG_ELEMENT_ID__=Tu,Cu.__ChangeDetectorRef__=!0,Cu);function Tu(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&ve(t)){var i=Fe(t.index,e);return new Iu(i,i)}return 47&t.type?new Iu(e[16],e):null}(Ke(),Ye(),t)}var Ou=[new yu],Lu=new xu([new hu]),Mu=new Eu(Ou),Nu=function(){return zu(Ke(),Ye())},Ru=function(){var t=function t(){m(this,t)};return t.__NG_ELEMENT_ID__=Nu,t}(),Du=function(t){o(n,t);var e=s(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this))._declarationLView=t,o._declarationTContainer=i,o.elementRef=r,o}return y(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=bo(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),ko(e,n,t),new Iu(n)}}]),n}(Ru);function zu(t,e){return 4&t.type?new Du(e,t,eu(t,e)):null}var Fu=function t(){m(this,t)},Bu=function t(){m(this,t)},ju=function(){return Hu(Ke(),Ye())},Vu=function(){var t=function t(){m(this,t)};return t.__NG_ELEMENT_ID__=ju,t}(),Uu=function(t){o(n,t);var e=s(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this))._lContainer=t,o._hostTNode=i,o._hostLView=r,o}return y(n,[{key:"element",get:function(){return eu(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new ni(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var t=Gn(this._hostTNode,this._hostLView);if(Rn(t)){var e=zn(t,this._hostLView),n=Dn(t);return new ni(e[1].data[n+8],e)}return new ni(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){var e=qu(this._lContainer);return null!==e&&e[t]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(t,e,n){var i=t.createEmbeddedView(e||{});return this.insert(i,n),i}},{key:"createComponent",value:function(t,e,n,i,r){var o=n||this.parentInjector;if(!r&&null==t.ngModule&&o){var a=o.get(Fu,null);a&&(r=a)}var s=t.create(o,i,void 0,r);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var i=t._lView,r=i[1];if(_e(i[3])){var o=this.indexOf(t);if(-1!==o)this.detach(o);else{var a=i[3],s=new n(a,a[6],a[3]);s.detach(s.indexOf(t))}}var u=this._adjustIndex(e),l=this._lContainer;!function(t,e,n,i){var r=10+i,o=n.length;i>0&&(n[r-1][4]=e),i<o-10?(e[4]=n[r],pi(n,10+i,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(r,i,l,u);var c=Wr(u,l),h=i[11],p=jr(h,l[7]);return null!==p&&function(t,e,n,i,r,o){i[0]=r,i[6]=e,Zr(t,i,n,1,r,o)}(r,l[6],h,i,p,c),t.attachToViewContainerRef(),pi(Gu(l),u,t),t}},{key:"move",value:function(t,e){return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=qu(this._lContainer);return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){var e=this._adjustIndex(t,-1),n=Mr(this._lContainer,e);n&&(fi(Gu(this._lContainer),e),Nr(n[1],n))}},{key:"detach",value:function(t){var e=this._adjustIndex(t,-1),n=Mr(this._lContainer,e);return n&&null!=fi(Gu(this._lContainer),e)?new Iu(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}}]),n}(Vu);function qu(t){return t[8]}function Gu(t){return t[8]||(t[8]=[])}function Hu(t,e){var n,i=e[t.index];if(_e(i))n=i;else{var r;if(8&t.type)r=Me(i);else{var o=e[11];r=o.createComment("");var a=Re(t,e);zr(o,jr(o,a),r,function(t,e){return Oe(t)?t.nextSibling(e):e.nextSibling}(o,a),!1)}e[t.index]=n=Ho(i,e,r,t),Xo(e,n)}return new Uu(n,t,e)}var Wu={},Yu=function(t){o(n,t);var e=s(n);function n(t){var i;return m(this,n),(i=e.call(this)).ngModule=t,i}return y(n,[{key:"resolveComponentFactory",value:function(t){var e=de(t);return new Ku(e,this.ngModule)}}]),n}(Qs);function Zu(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var Xu=new si("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return xr}}),Ku=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this)).componentDef=t,r.ngModule=i,r.componentType=t.type,r.selector=t.selectors.map(uo).join(","),r.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],r.isBoundToModule=!!i,r}return y(n,[{key:"inputs",get:function(){return Zu(this.componentDef.inputs)}},{key:"outputs",get:function(){return Zu(this.componentDef.outputs)}},{key:"create",value:function(t,e,n,i){var r,o,a=(i=i||this.ngModule)?function(t,e){return{get:function(n,i,r){var o=t.get(n,Wu,r);return o!==Wu||i===Wu?o:e.get(n,i,r)}}}(t,i.injector):t,s=a.get(ou,Le),u=a.get(uu,null),l=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Oe(t))return t.selectRootElement(e,n===qt.ShadowDom);var i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(l,n,this.componentDef.encapsulation):Or(s.createRenderer(null,this.componentDef),c,function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),p=this.componentDef.onPush?576:528,f={components:[],scheduler:xr,clean:ta,playerHandler:null,flags:0},d=Oo(0,null,null,1,0,null,null,null,null,null),g=bo(null,d,f,p,null,null,s,l,u,a);dn(g);try{var m=function(t,e,n,i,r,o){var a=n[1];n[20]=t;var s=wo(a,20,2,"#host",null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(sa(s,u,!0),null!==t&&(Tn(r,t,u),null!==s.classes&&$r(r,t,s.classes),null!==s.styles&&Kr(r,t,s.styles)));var l=i.createRenderer(t,e),c=bo(n,To(e),null,e.onPush?64:16,n[20],s,i,l,null,null);return a.firstCreatePass&&(Hn(Vn(s,n),a,e.type),Fo(a,s),jo(s,n.length,1)),Xo(n,c),n[20]=c}(h,this.componentDef,g,s,l);if(h)if(n)Tn(l,h,["ng-version",cu.full]);else{var _=function(t){for(var e=[],n=[],i=1,r=2;i<t.length;){var o=t[i];if("string"==typeof o)2===r?""!==o&&e.push(o,t[++i]):8===r&&n.push(o);else{if(!io(r))break;r=o}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),y=_.attrs,v=_.classes;y&&Tn(l,h,y),v&&v.length>0&&$r(l,h,v.join(" "))}if(o=De(d,20),void 0!==e)for(var b=o.projection=[],w=0;w<this.ngContentSelectors.length;w++){var x=e[w];b.push(null!=x?Array.from(x):null)}r=function(t,e,n,i,r){var o=n[1],a=function(t,e,n){var i=Ke();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Vo(t,i,e,xo(t,e,1,null),n));var r=Qn(e,t,i.directiveStart,i);wr(r,e);var o=Re(i,e);return o&&wr(o,e),r}(o,n,e);if(i.components.push(a),t[8]=a,r&&r.forEach(function(t){return t(a,e)}),e.contentQueries){var s=Ke();e.contentQueries(1,a,s.directiveStart)}var u=Ke();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(wn(u.index),Do(n[1],u,0,u.directiveStart,u.directiveEnd,e),zo(e,a)),a}(m,this.componentDef,g,f,[Sa]),ko(d,g,null)}finally{vn()}return new $u(this.componentType,r,eu(o,g),g,o)}}]),n}($s),$u=function(t){o(n,t);var e=s(n);function n(t,i,r,o,a){var s;return m(this,n),(s=e.call(this)).location=r,s._rootLView=o,s._tNode=a,s.instance=i,s.hostView=s.changeDetectorRef=new Au(o),s.componentType=t,s}return y(n,[{key:"injector",get:function(){return new ni(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(t){this.hostView.onDestroy(t)}}]),n}(function(){return function t(){m(this,t)}}()),Ju=new Map,Qu=function(t){o(n,t);var e=s(n);function n(t,i){var r;m(this,n),(r=e.call(this))._parent=i,r._bootstrapComponents=[],r.injector=l(r),r.destroyCbs=[],r.componentFactoryResolver=new Yu(l(r));var o=ge(t),a=t[ne]||null;return a&&Us(a),r._bootstrapComponents=kr(o.bootstrap),r._r3Injector=ma(t,i,[{provide:Fu,useValue:l(r)},{provide:Qs,useValue:r.componentFactoryResolver}],yt(t)),r._r3Injector._resolveInjectorDefTypes(),r.instance=r.get(t),r}return y(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ea.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ft.Default;return t===Ea||t===Fu||t===la?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(Fu),tl=function(t){o(n,t);var e=s(n);function n(t){var i,r,o;return m(this,n),(i=e.call(this)).moduleType=t,null!==ge(t)&&(r=t,o=new Set,function t(e){var n=ge(e,!0),i=n.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(yt(e)," vs ").concat(yt(e.name)))}(i,Ju.get(i),e),Ju.set(i,e));var r,a=f(kr(n.imports));try{for(a.s();!(r=a.n()).done;){var s=r.value;o.has(s)||(o.add(s),t(s))}}catch(u){a.e(u)}finally{a.f()}}(r)),i}return y(n,[{key:"create",value:function(t){return new Qu(this.moduleType,t)}}]),n}(Bu);function el(t,e,n){var i=rn()+t,r=Ye();return r[i]===lo?Da(r,i,n?e.call(n):e()):function(t,e){return t[e]}(r,i)}function nl(t,e,n,i){return ol(Ye(),rn(),t,e,n,i)}function il(t,e,n,i,r){return al(Ye(),rn(),t,e,n,i,r)}function rl(t,e){var n=t[e];return n===lo?void 0:n}function ol(t,e,n,i,r,o){var a=e+n;return za(t,a,r)?Da(t,a+1,o?i.call(o,r):i(r)):rl(t,a+1)}function al(t,e,n,i,r,o,a){var s=e+n;return Fa(t,s,r,o)?Da(t,s+2,a?i.call(a,r,o):i(r,o)):rl(t,s+2)}function sl(t,e,n,i,r,o,a,s){var u=e+n;return function(t,e,n,i,r){var o=Fa(t,e,n,i);return za(t,e+2,r)||o}(t,u,r,o,a)?Da(t,u+3,s?i.call(s,r,o,a):i(r,o,a)):rl(t,u+3)}function ul(t,e){var n,i=Ze(),r=t+20;i.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var i=e[n];if(t===i.name)return i}throw new Et("302","The pipe '".concat(t,"' could not be found!"))}(e,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(r,n.onDestroy)):n=i.data[r];var o=n.factory||(n.factory=xe(n.type)),a=Bt(qa);try{var s=Bn(!1),u=o();return Bn(s),function(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}(i,Ye(),r,u),u}finally{Bt(a)}}function ll(t,e,n){var i=t+20,r=Ye(),o=ze(r,i);return fl(r,pl(r,i)?ol(r,rn(),e,o.transform,n,o):o.transform(n))}function cl(t,e,n,i){var r=t+20,o=Ye(),a=ze(o,r);return fl(o,pl(o,r)?al(o,rn(),e,a.transform,n,i,a):a.transform(n,i))}function hl(t,e,n,i,r){var o=t+20,a=Ye(),s=ze(a,o);return fl(a,pl(a,o)?sl(a,rn(),e,s.transform,n,i,r,s):s.transform(n,i,r))}function pl(t,e){return t[1].data[e].pure}function fl(t,e){return Ma.isWrapped(e)&&(e=Ma.unwrap(e),t[on()]=lo),e}function dl(t){return function(e){setTimeout(t,void 0,e)}}var gl=function(t){o(n,t);var e=s(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return m(this,n),(t=e.call(this)).__isAsync=i,t}return y(n,[{key:"emit",value:function(t){r(h(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,i){var o,a,s,u=t,l=e||function(){return null},c=i;if(t&&"object"==typeof t){var p=t;u=null===(o=p.next)||void 0===o?void 0:o.bind(p),l=null===(a=p.error)||void 0===a?void 0:a.bind(p),c=null===(s=p.complete)||void 0===s?void 0:s.bind(p)}this.__isAsync&&(l=dl(l),u&&(u=dl(u)),c&&(c=dl(c)));var f=r(h(n.prototype),"subscribe",this).call(this,{next:u,error:l,complete:c});return t instanceof C&&t.add(f),f}}]),n}(j);function ml(){return this._results[La()]()}var _l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];m(this,t),this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=La(),i=t.prototype;i[n]||(i[n]=ml)}return y(t,[{key:"changes",get:function(){return this._changes||(this._changes=new gl)}},{key:"get",value:function(t){return this._results[t]}},{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t,e){this.dirty=!1;var n=ci(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++){var r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}},{key:"notifyOnChanges",value:function(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),yl=function(){function t(e){m(this,t),this.queryList=e,this.matches=null}return y(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),vl=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];m(this,t),this.queries=e}return y(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var i=null!==e.contentQueries?e.contentQueries[0]:n.length,r=[],o=0;o<i;o++){var a=n.getByIndex(o);r.push(this.queries[a.indexInDeclarationView].clone())}return new t(r)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==Ml(t,e).matches&&this.queries[e].setDirty()}}]),t}(),bl=function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;m(this,t),this.predicate=e,this.flags=n,this.read=i},wl=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];m(this,t),this.queries=e}return y(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,i=0;i<this.length;i++){var r=null!==n?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}]),t}(),xl=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;m(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return y(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var i=0;i<n.length;i++){var r=n[i];this.matchTNodeWithReadOption(t,e,kl(e,r)),this.matchTNodeWithReadOption(t,e,Jn(e,t,r,!1,!1))}else n===Ru?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Jn(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var i=this.metadata.read;if(null!==i)if(i===iu||i===Vu||i===Ru&&4&e.type)this.addMatch(e.index,-2);else{var r=Jn(e,t,i,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function kl(t,e){var n=t.localNames;if(null!==n)for(var i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function El(t,e,n,i){return-1===n?function(t,e){return 11&t.type?eu(t,e):4&t.type?zu(t,e):null}(e,t):-2===n?function(t,e,n){return n===iu?eu(e,t):n===Ru?zu(e,t):n===Vu?Hu(e,t):void 0}(t,e,i):Qn(t,t[1],n,e)}function Sl(t,e,n,i){var r=e[19].queries[i];if(null===r.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var l=a[u];s.push(l<0?null:El(e,o[l],a[u+1],n.metadata.read))}r.matches=s}return r.matches}function Cl(t,e,n,i){var r=t.queries.getByIndex(n),o=r.matches;if(null!==o)for(var a=Sl(t,e,r,n),s=0;s<o.length;s+=2){var u=o[s];if(u>0)i.push(a[s/2]);else{for(var l=o[s+1],c=e[-u],h=10;h<c.length;h++){var p=c[h];p[17]===p[3]&&Cl(p[1],p,l,i)}if(null!==c[9])for(var f=c[9],d=0;d<f.length;d++){var g=f[d];Cl(g[1],g,l,i)}}}return i}function Il(t){var e=Ye(),n=Ze(),i=cn();hn(i+1);var r=Ml(n,i);if(t.dirty&&je(e)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{var o=r.crossesNgTemplate?Cl(n,e,i,[]):Sl(n,e,r,i);t.reset(o,ru),t.notifyOnChanges()}return!0}return!1}function Al(t,e,n){var i=Ze();i.firstCreatePass&&(Ll(i,new bl(t,e,n),-1),2==(2&e)&&(i.staticViewQueries=!0)),Ol(i,Ye(),e)}function Pl(t,e,n,i){var r=Ze();if(r.firstCreatePass){var o=Ke();Ll(r,new bl(e,n,i),o.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(r,t),2==(2&n)&&(r.staticContentQueries=!0)}Ol(r,Ye(),n)}function Tl(){return t=Ye(),e=cn(),t[19].queries[e].queryList;var t,e}function Ol(t,e,n){var i=new _l(4==(4&n));Lo(t,e,i,i.destroy),null===e[19]&&(e[19]=new vl),e[19].queries.push(new yl(i))}function Ll(t,e,n){null===t.queries&&(t.queries=new wl),t.queries.track(new xl(e,n))}function Ml(t,e){return t.queries.getByIndex(e)}function Nl(t,e){return zu(t,e)}function Rl(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft.Default,e=Tu(!0);if(null!=e||t&Ft.Optional)return e;It("ChangeDetectorRef")}var Dl=new si("Application Initializer"),zl=function(){var t=function(){function t(e){var n=this;m(this,t),this.appInits=e,this.resolve=tu,this.reject=tu,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,e){n.resolve=t,n.reject=e})}return y(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var r=this.appInits[i]();Qa(r)&&e.push(r)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Ei(Dl,8))},t.\u0275prov=At({token:t,factory:t.\u0275fac}),t}(),Fl=new si("AppId"),Bl={provide:Fl,useFactory:function(){return"".concat(jl()).concat(jl()).concat(jl())},deps:[]};function jl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Vl=new si("Platform Initializer"),Ul=new si("Platform ID"),ql=new si("appBootstrapListener"),Gl=function(){var t=function(){function t(){m(this,t)}return y(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=At({token:t,factory:t.\u0275fac}),t}(),Hl=new si("LocaleId"),Wl=new si("DefaultCurrencyCode"),Yl=function t(e,n){m(this,t),this.ngModuleFactory=e,this.componentFactories=n},Zl=function(t){return new tl(t)},Xl=Zl,Kl=function(t){return Promise.resolve(Zl(t))},$l=function(t){var e=Zl(t),n=kr(ge(t).declarations).reduce(function(t,e){var n=de(e);return n&&t.push(new Ku(n)),t},[]);return new Yl(e,n)},Jl=$l,Ql=function(t){return Promise.resolve($l(t))},tc=function(){var t=function(){function t(){m(this,t),this.compileModuleSync=Xl,this.compileModuleAsync=Kl,this.compileModuleAndAllComponentsSync=Jl,this.compileModuleAndAllComponentsAsync=Ql}return y(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=At({token:t,factory:t.\u0275fac}),t}(),ec=Promise.resolve(0);function nc(t){"undefined"==typeof Zone?ec.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var ic=function(){function t(e){var n,i,r=e.enableLongStackTrace,o=void 0!==r&&r,a=e.shouldCoalesceEventChangeDetection,s=void 0!==a&&a,u=e.shouldCoalesceRunChangeDetection,l=void 0!==u&&u;if(m(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gl(!1),this.onMicrotaskEmpty=new gl(!1),this.onStable=new gl(!1),this.onError=new gl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!l&&s,this.shouldCoalesceRunChangeDetection=l,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=Zt.requestAnimationFrame,e=Zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,i=function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Zt,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,ac(t),oc(t)},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),ac(t))}(n)},(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,e,r,o,a,s){try{return sc(n),t.invokeTask(r,o,a,s)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&i(),uc(n)}},onInvoke:function(t,e,r,o,a,s,u){try{return sc(n),t.invoke(r,o,a,s,u)}finally{n.shouldCoalesceRunChangeDetection&&i(),uc(n)}},onHasTask:function(t,e,i,r){t.hasTask(i,r),e===i&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,ac(n),oc(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:function(t,e,i,r){return t.handleError(i,r),n.runOutsideAngular(function(){return n.onError.emit(r)}),!1}})}return y(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,i){var r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,t,rc,tu,tu);try{return r.runTask(o,e,n)}finally{r.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),rc={};function oc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function ac(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function sc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function uc(t){t._nesting--,oc(t)}var lc,cc=function(){function t(){m(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gl,this.onMicrotaskEmpty=new gl,this.onStable=new gl,this.onError=new gl}return y(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,i){return t.apply(e,n)}}]),t}(),hc=function(){var t=function(){function t(e){var n=this;m(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return y(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){ic.assertNotInAngularZone(),nc(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())nc(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]}},{key:"addCallback",value:function(t,e,n){var i=this,r=-1;e&&e>0&&(r=setTimeout(function(){i._callbacks=i._callbacks.filter(function(t){return t.timeoutId!==r}),t(i._didWork,i.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Ei(ic))},t.\u0275prov=At({token:t,factory:t.\u0275fac}),t}(),pc=function(){var t=function(){function t(){m(this,t),this._applications=new Map,fc.addToWindow(this)}return y(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return fc.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=At({token:t,factory:t.\u0275fac}),t}(),fc=new(function(){function t(){m(this,t)}return y(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),dc=!0,gc=!1;function mc(){return gc=!0,dc}var _c=new si("AllowMultipleToken"),yc=function t(e,n){m(this,t),this.name=e,this.token=n};function vc(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i="Platform: ".concat(e),r=new si(i);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=bc();if(!o||o.injector.get(_c,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{var a=n.concat(e).concat({provide:r,useValue:!0},{provide:ha,useValue:"platform"});!function(t){if(lc&&!lc.destroyed&&!lc.injector.get(_c,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");lc=t.get(wc);var e=t.get(Vl,null);e&&e.forEach(function(t){return t()})}(Ea.create({providers:a,name:i}))}return function(t){var e=bc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function bc(){return lc&&!lc.destroyed?lc:null}var wc=function(){var t=function(){function t(e){m(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return y(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,i,r=this,o=(n=e?e.ngZone:void 0,i={ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1},"noop"===n?new cc:("zone.js"===n?void 0:n)||new ic({enableLongStackTrace:mc(),shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)})),a=[{provide:ic,useValue:o}];return o.run(function(){var e=Ea.create({providers:a,parent:r.injector,name:t.moduleType.name}),n=t.create(e),i=n.injector.get(br,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var t=o.onError.subscribe({next:function(t){i.handleError(t)}});n.onDestroy(function(){Sc(r._modules,n),t.unsubscribe()})}),function(t,e,i){try{var o=((a=n.injector.get(zl)).runInitializers(),a.donePromise.then(function(){return Us(n.injector.get(Hl,"en-US")||"en-US"),r._moduleDoBootstrap(n),n}));return Qa(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(s){throw e.runOutsideAngular(function(){return t.handleError(s)}),s}var a}(i,o)})}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=xc({},n);return function(t,e,n){var i=new tl(n);return Promise.resolve(i)}(0,0,t).then(function(t){return e.bootstrapModuleFactory(t,i)})}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(Ec);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(yt(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Ei(Ea))},t.\u0275prov=At({token:t,factory:t.\u0275fac}),t}();function xc(t,e){return Array.isArray(e)?e.reduce(xc,t):Object.assign(Object.assign({},t),e)}var kc,Ec=((kc=function(){function t(e,n,i,r,o){var a=this;m(this,t),this._zone=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var s=new N(function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){t.next(a._stable),t.complete()})}),u=new N(function(t){var e;a._zone.runOutsideAngular(function(){e=a._zone.onStable.subscribe(function(){ic.assertNotInAngularZone(),nc(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){ic.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=st(s,u.pipe(function(t){return ut()((e=gt,function(t){var n;n="function"==typeof e?e:function(){return e};var i=Object.create(t,ft);return i.source=t,i.subjectFactory=n,i})(t));var e}))}return y(t,[{key:"bootstrap",value:function(t,e){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof $s?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var r=n.isBoundToModule?void 0:this._injector.get(Fu),o=n.create(Ea.NULL,[],e||n.selector,r),a=o.location.nativeElement,s=o.injector.get(hc,null),u=s&&o.injector.get(pc);return s&&u&&u.registerApplication(a,s),o.onDestroy(function(){i.detachView(o.hostView),Sc(i.components,o),u&&u.unregisterApplication(a)}),this._loadComponent(o),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=f(this._views);try{for(n.s();!(e=n.n()).done;)e.value.detectChanges()}catch(i){n.e(i)}finally{n.f()}}catch(r){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(r)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Sc(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ql,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(t){return t.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||kc)(Ei(ic),Ei(Ea),Ei(br),Ei(Qs),Ei(zl))},kc.\u0275prov=At({token:kc,factory:kc.\u0275fac}),kc);function Sc(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Cc=function t(){m(this,t)},Ic=function t(){m(this,t)},Ac={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Pc=function(){var t=function(){function t(e,n){m(this,t),this._compiler=e,this._config=n||Ac}return y(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,n=i(t.split("#"),2),r=n[0],o=n[1];return void 0===o&&(o="default"),d("zn8P")(r).then(function(t){return t[o]}).then(function(t){return Tc(t,r,o)}).then(function(t){return e._compiler.compileModuleAsync(t)})}},{key:"loadFactory",value:function(t){var e=i(t.split("#"),2),n=e[0],r=e[1],o="NgFactory";return void 0===r&&(r="default",o=""),d("zn8P")(this._config.factoryPathPrefix+n+this._config.factoryPathSuffix).then(function(t){return t[r+o]}).then(function(t){return Tc(t,n,r)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Ei(tc),Ei(Ic,8))},t.\u0275prov=At({token:t,factory:t.\u0275fac}),t}();function Tc(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var Oc=vc(null,"core",[{provide:Ul,useValue:"unknown"},{provide:wc,deps:[Ea]},{provide:pc,deps:[]},{provide:Gl,deps:[]}]),Lc=[{provide:Ec,useClass:Ec,deps:[ic,Ea,br,Qs,zl]},{provide:Xu,deps:[ic],useFactory:function(t){var e=[];return t.onStable.subscribe(function(){for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:zl,useClass:zl,deps:[[new Oi,Dl]]},{provide:tc,useClass:tc,deps:[]},Bl,{provide:xu,useFactory:function(){return Lu},deps:[]},{provide:Eu,useFactory:function(){return Mu},deps:[]},{provide:Hl,useFactory:function(t){return Us(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new Ti(Hl),new Oi,new Li]]},{provide:Wl,useValue:"USD"}],Mc=function(){var t=function t(e){m(this,t)};return t.\u0275fac=function(e){return new(e||t)(Ei(Ec))},t.\u0275mod=ce({type:t}),t.\u0275inj=Pt({providers:Lc}),t}(),Nc=null;function Rc(){return Nc}var Dc,zc=new si("DocumentToken"),Fc=((Dc=function t(){m(this,t)}).\u0275fac=function(t){return new(t||Dc)},Dc.\u0275prov=At({factory:Bc,token:Dc,providedIn:"platform"}),Dc);function Bc(){return Ei(Uc)}var jc,Vc=new si("Location Initialized"),Uc=((jc=function(t){o(n,t);var e=s(n);function n(t){var i;return m(this,n),(i=e.call(this))._doc=t,i._init(),i}return y(n,[{key:"_init",value:function(){this.location=Rc().getLocation(),this._history=Rc().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return Rc().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){Rc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){Rc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(t,e,n){qc()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){qc()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(Fc)).\u0275fac=function(t){return new(t||jc)(Ei(zc))},jc.\u0275prov=At({factory:Gc,token:jc,providedIn:"platform"}),jc);function qc(){return!!window.history.pushState}function Gc(){return new Uc(Ei(zc))}function Hc(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Wc(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Yc(t){return t&&"?"!==t[0]?"?"+t:t}var Zc,Xc=((Zc=function t(){m(this,t)}).\u0275fac=function(t){return new(t||Zc)},Zc.\u0275prov=At({factory:Kc,token:Zc,providedIn:"root"}),Zc);function Kc(t){var e=Ei(zc).location;return new eh(Ei(Fc),e&&e.origin||"")}var $c,Jc,Qc,th=new si("appBaseHref"),eh=((Qc=function(t){o(n,t);var e=s(n);function n(t,i){var r;if(m(this,n),(r=e.call(this))._platformLocation=t,null==i&&(i=r._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=i,u(r)}return y(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return Hc(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+Yc(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+Yc(i));this._platformLocation.pushState(t,e,r)}},{key:"replaceState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+Yc(i));this._platformLocation.replaceState(t,e,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(Xc)).\u0275fac=function(t){return new(t||Qc)(Ei(Fc),Ei(th,8))},Qc.\u0275prov=At({token:Qc,factory:Qc.\u0275fac}),Qc),nh=((Jc=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this))._platformLocation=t,r._baseHref="",null!=i&&(r._baseHref=i),r}return y(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=Hc(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+Yc(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}},{key:"replaceState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+Yc(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(Xc)).\u0275fac=function(t){return new(t||Jc)(Ei(Fc),Ei(th,8))},Jc.\u0275prov=At({token:Jc,factory:Jc.\u0275fac}),Jc),ih=(($c=function(){function t(e,n){var i=this;m(this,t),this._subject=new gl,this._urlChangeListeners=[],this._platformStrategy=e;var r=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=Wc(oh(r)),this._platformStrategy.onPopState(function(t){i._subject.emit({url:i.path(!0),pop:!0,state:t.state,type:t.type})})}return y(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+Yc(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,oh(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Yc(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Yc(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(t,e)})}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||$c)(Ei(Xc),Ei(Fc))},$c.normalizeQueryParams=Yc,$c.joinWithSlash=Hc,$c.stripTrailingSlash=Wc,$c.\u0275prov=At({factory:rh,token:$c,providedIn:"root"}),$c);function rh(){return new ih(Ei(Xc),Ei(Fc))}function oh(t){return t.replace(/\/index.html$/,"")}var ah=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),sh=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),uh=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function lh(t,e){var n=Bs(t),i=n[Vs.NumberSymbols][e];if(void 0===i){if(e===uh.CurrencyDecimal)return n[Vs.NumberSymbols][uh.Decimal];if(e===uh.CurrencyGroup)return n[Vs.NumberSymbols][uh.Group]}return i}var ch=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function hh(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var ph,fh=function t(){m(this,t)},dh=((ph=function(t){o(n,t);var e=s(n);function n(t){var i;return m(this,n),(i=e.call(this)).locale=t,i}return y(n,[{key:"getPluralCategory",value:function(t,e){switch(function(t){return Bs(t)[Vs.PluralCase]}(e||this.locale)(t)){case sh.Zero:return"zero";case sh.One:return"one";case sh.Two:return"two";case sh.Few:return"few";case sh.Many:return"many";default:return"other"}}}]),n}(fh)).\u0275fac=function(t){return new(t||ph)(Ei(Hl))},ph.\u0275prov=At({token:ph,factory:ph.\u0275fac}),ph);function gh(t,e){e=encodeURIComponent(e);var n,r=f(t.split(";"));try{for(r.s();!(n=r.n()).done;){var o=n.value,a=o.indexOf("="),s=i(-1==a?[o,""]:[o.slice(0,a),o.slice(a+1)],2),u=s[0],l=s[1];if(u.trim()===e)return decodeURIComponent(l)}}catch(c){r.e(c)}finally{r.f()}return null}var mh,_h,yh,vh=((mh=function(){function t(e,n,i,r){m(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=i,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return y(t,[{key:"klass",set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Na(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(yt(t.item)));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!0)}):Object.keys(t).forEach(function(n){return e._toggleClass(n,!!t[n])}))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!1)}):Object.keys(t).forEach(function(t){return e._toggleClass(t,!1)}))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})}}]),t}()).\u0275fac=function(t){return new(t||mh)(qa(xu),qa(Eu),qa(iu),qa(au))},mh.\u0275dir=pe({type:mh,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),mh),bh=function(){function t(e,n,i,r){m(this,t),this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}return y(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),wh=((_h=function(){function t(e,n,i){m(this,t),this._viewContainer=e,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return y(t,[{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(t){this._trackByFn=t}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(i){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation(function(t,i,r){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new bh(null,e._ngForOf,-1,-1),null===r?void 0:r),a=new xh(t,o);n.push(a)}else if(null==r)e._viewContainer.remove(null===i?void 0:i);else if(null!==i){var s=e._viewContainer.get(i);e._viewContainer.move(s,r);var u=new xh(t,s);n.push(u)}});for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);for(var r=0,o=this._viewContainer.length;r<o;r++){var a=this._viewContainer.get(r);a.context.index=r,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||_h)(qa(Vu),qa(Ru),qa(xu))},_h.\u0275dir=pe({type:_h,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),_h),xh=function t(e,n){m(this,t),this.record=e,this.view=n},kh=((yh=function(){function t(e,n){m(this,t),this._viewContainer=e,this._context=new Eh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return y(t,[{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){Sh("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){Sh("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||yh)(qa(Vu),qa(Ru))},yh.\u0275dir=pe({type:yh,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),yh),Eh=function t(){m(this,t),this.$implicit=null,this.ngIf=null};function Sh(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(yt(e),"'."))}var Ch,Ih,Ah,Ph=function(){function t(e,n){m(this,t),this._viewContainerRef=e,this._templateRef=n,this._created=!1}return y(t,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}]),t}(),Th=((Ah=function(){function t(){m(this,t),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return y(t,[{key:"ngSwitch",set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}},{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}},{key:"_matchCase",value:function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}},{key:"_updateDefaultCases",value:function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}]),t}()).\u0275fac=function(t){return new(t||Ah)},Ah.\u0275dir=pe({type:Ah,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),Ah),Oh=((Ih=function(){function t(e,n,i){m(this,t),this.ngSwitch=i,i._addCase(),this._view=new Ph(e,n)}return y(t,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),t}()).\u0275fac=function(t){return new(t||Ih)(qa(Vu),qa(Ru),qa(Th,9))},Ih.\u0275dir=pe({type:Ih,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),Ih),Lh=((Ch=function(){function t(e){m(this,t),this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return y(t,[{key:"ngOnChanges",value:function(t){if(this._shouldRecreateView(t)){var e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(t){var e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}},{key:"_hasContextShapeChanged",value:function(t){var e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){var i,r=f(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(-1===e.indexOf(o))return!0}}catch(a){r.e(a)}finally{r.f()}return!1}return!0}},{key:"_updateExistingContext",value:function(t){for(var e=0,n=Object.keys(t);e<n.length;e++){var i=n[e];this._viewRef.context[i]=this.ngTemplateOutletContext[i]}}}]),t}()).\u0275fac=function(t){return new(t||Ch)(qa(Vu))},Ch.\u0275dir=pe({type:Ch,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Se]}),Ch);function Mh(t,e){return Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(yt(t),"'"))}var Nh,Rh,Dh,zh,Fh,Bh=function(){function t(){m(this,t)}return y(t,[{key:"createSubscription",value:function(t,e){return t.subscribe({next:e,error:function(t){throw t}})}},{key:"dispose",value:function(t){t.unsubscribe()}},{key:"onDestroy",value:function(t){t.unsubscribe()}}]),t}(),jh=new(function(){function t(){m(this,t)}return y(t,[{key:"createSubscription",value:function(t,e){return t.then(e,function(t){throw t})}},{key:"dispose",value:function(t){}},{key:"onDestroy",value:function(t){}}]),t}()),Vh=new Bh,Uh=((Fh=function(){function t(e){m(this,t),this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}return y(t,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}},{key:"_subscribe",value:function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})}},{key:"_selectStrategy",value:function(e){if(Qa(e))return jh;if(ts(e))return Vh;throw Mh(t,e)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}]),t}()).\u0275fac=function(t){return new(t||Fh)(Rl())},Fh.\u0275pipe=fe({name:"async",type:Fh,pure:!1}),Fh),qh=((zh=function(){function t(e){m(this,t),this._locale=e}return y(t,[{key:"transform",value:function(e,n,i){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;i=i||this._locale;try{return function(t,e,n){return function(t,e,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s="",u=!1;if(isFinite(t)){var l=function(t){var e,n,i,r,o,a=Math.abs(t)+"",s=0;for((n=a.indexOf("."))>-1&&(a=a.replace(".","")),(i=a.search(/e/i))>0?(n<0&&(n=i),n+=+a.slice(i+1),a=a.substring(0,i)):n<0&&(n=a.length),i=0;"0"===a.charAt(i);i++);if(i===(o=a.length))e=[0],n=1;else{for(o--;"0"===a.charAt(o);)o--;for(n-=i,e=[],r=0;i<=o;i++,r++)e[r]=Number(a.charAt(i))}return n>22&&(e=e.splice(0,21),s=n-1,n=1),{digits:e,exponent:s,integerLen:n}}(t);a&&(l=function(t){if(0===t.digits[0])return t;var e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(l));var c=e.minInt,h=e.minFrac,p=e.maxFrac;if(o){var f=o.match(ch);if(null===f)throw new Error("".concat(o," is not a valid digit info"));var d=f[1],g=f[3],m=f[5];null!=d&&(c=hh(d)),null!=g&&(h=hh(g)),null!=m?p=hh(m):null!=g&&h>p&&(p=h)}!function(t,e,n){if(e>n)throw new Error("The minimum number of digits after fraction (".concat(e,") is higher than the maximum (").concat(n,")."));var i=t.digits,r=i.length-t.integerLen,o=Math.min(Math.max(e,r),n),a=o+t.integerLen,s=i[a];if(a>0){i.splice(Math.max(t.integerLen,a));for(var u=a;u<i.length;u++)i[u]=0}else{r=Math.max(0,r),t.integerLen=1,i.length=Math.max(1,a=o+1),i[0]=0;for(var l=1;l<a;l++)i[l]=0}if(s>=5)if(a-1<0){for(var c=0;c>a;c--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[a-1]++;for(;r<Math.max(0,o);r++)i.push(0);var h=0!==o,p=e+t.integerLen,f=i.reduceRight(function(t,e,n,i){return i[n]=(e+=t)<10?e:e-10,h&&(0===i[n]&&n>=p?i.pop():h=!1),e>=10?1:0},0);f&&(i.unshift(f),t.integerLen++)}(l,h,p);var _=l.digits,y=l.integerLen,v=l.exponent,b=[];for(u=_.every(function(t){return!t});y<c;y++)_.unshift(0);for(;y<0;y++)_.unshift(0);y>0?b=_.splice(y,_.length):(b=_,_=[0]);var w=[];for(_.length>=e.lgSize&&w.unshift(_.splice(-e.lgSize,_.length).join(""));_.length>e.gSize;)w.unshift(_.splice(-e.gSize,_.length).join(""));_.length&&w.unshift(_.join("")),s=w.join(lh(n,i)),b.length&&(s+=lh(n,r)+b.join("")),v&&(s+=lh(n,uh.Exponential)+"+"+v)}else s=lh(n,uh.Infinity);return s=t<0&&!u?e.negPre+s+e.negSuf:e.posPre+s+e.posSuf}(t,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(";"),r=i[0],o=i[1],a=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],s=a[0],u=a[1]||"";n.posPre=s.substr(0,s.indexOf("#"));for(var l=0;l<u.length;l++){var c=u.charAt(l);"0"===c?n.minFrac=n.maxFrac=l+1:"#"===c?n.maxFrac=l+1:n.posSuf+=c}var h=s.split(",");if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){var p=r.length-n.posPre.length-n.posSuf.length,f=o.indexOf("#");n.negPre=o.substr(0,f).replace(/'/g,""),n.negSuf=o.substr(f+p).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Bs(t)[Vs.NumberFormats][e]}(e,ah.Decimal),lh(e,uh.MinusSign)),e,uh.Group,uh.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error("".concat(t," is not a number"));return t}(e),i,n)}catch(r){throw Mh(t,r.message)}}}]),t}()).\u0275fac=function(t){return new(t||zh)(qa(Hl))},zh.\u0275pipe=fe({name:"number",type:zh,pure:!0}),zh),Gh=((Dh=function(){function t(){m(this,t)}return y(t,[{key:"transform",value:function(e,n,i){if(null==e)return null;if(!this.supports(e))throw Mh(t,e);return e.slice(n,i)}},{key:"supports",value:function(t){return"string"==typeof t||Array.isArray(t)}}]),t}()).\u0275fac=function(t){return new(t||Dh)},Dh.\u0275pipe=fe({name:"slice",type:Dh,pure:!1}),Dh),Hh=((Rh=function t(){m(this,t)}).\u0275fac=function(t){return new(t||Rh)},Rh.\u0275mod=ce({type:Rh}),Rh.\u0275inj=Pt({providers:[{provide:fh,useClass:dh}]}),Rh),Wh=((Nh=function t(){m(this,t)}).\u0275prov=At({token:Nh,providedIn:"root",factory:function(){return new Yh(Ei(zc),window)}}),Nh),Yh=function(){function t(e,n){m(this,t),this.document=e,this.window=n,this.offset=function(){return[0,0]}}return y(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportsScrolling()){var e=function(t,e){var n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow))for(var i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;r;){var o=r.shadowRoot;if(o){var a=o.getElementById(e)||o.querySelector('[name="'.concat(e,'"]'));if(a)return a}r=i.nextNode()}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}},{key:"attemptFocus",value:function(t){return t.focus(),this.document.activeElement===t}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var t=Zh(this.window.history)||Zh(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}]),t}();function Zh(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var Xh,Kh,$h,Jh,Qh=function(t){o(n,t);var e=s(n);function n(){return m(this,n),e.apply(this,arguments)}return y(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=tp||(tp=document.querySelector("base"))?tp.getAttribute("href"):null;return null==n?null:(e=n,Xh||(Xh=document.createElement("a")),Xh.setAttribute("href",e),"/"===Xh.pathname.charAt(0)?Xh.pathname:"/"+Xh.pathname)}},{key:"resetBaseElement",value:function(){tp=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return gh(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,Nc||(Nc=t)}}]),n}(function(t){o(n,t);var e=s(n);function n(){return m(this,n),e.call(this)}return y(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){m(this,t)}}())),tp=null,ep=new si("TRANSITION_ID"),np=[{provide:Dl,useFactory:function(t,e,n){return function(){n.get(zl).donePromise.then(function(){var n=Rc();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(function(e){return e.getAttribute("ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[ep,zc,Ea],multi:!0}],ip=function(){function t(){m(this,t)}return y(t,[{key:"addToWindow",value:function(t){Zt.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},Zt.getAllAngularTestabilities=function(){return t.getAllTestabilities()},Zt.getAllAngularRootElements=function(){return t.getAllRootElements()},Zt.frameworkStabilizers||(Zt.frameworkStabilizers=[]),Zt.frameworkStabilizers.push(function(t){var e=Zt.getAllAngularTestabilities(),n=e.length,i=!1,r=function(e){i=i||e,0==--n&&t(i)};e.forEach(function(t){t.whenStable(r)})})}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var i=t.getTestability(e);return null!=i?i:n?Rc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){var e;e=new t,fc=e}}]),t}(),rp=new si("EventManagerPlugins"),op=((Kh=function(){function t(e,n){var i=this;m(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(t){return t.manager=i}),this._plugins=e.slice().reverse()}return y(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,i=0;i<n.length;i++){var r=n[i];if(r.supports(t))return this._eventNameToPlugin.set(t,r),r}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}()).\u0275fac=function(t){return new(t||Kh)(Ei(rp),Ei(ic))},Kh.\u0275prov=At({token:Kh,factory:Kh.\u0275fac}),Kh),ap=function(){function t(e){m(this,t),this._doc=e}return y(t,[{key:"addGlobalEventListener",value:function(t,e,n){var i=Rc().getGlobalEventTarget(this._doc,t);if(!i)throw new Error("Unsupported event target ".concat(i," for event ").concat(e));return this.addEventListener(i,e,n)}}]),t}(),sp=((Jh=function(){function t(){m(this,t),this._stylesSet=new Set}return y(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||Jh)},Jh.\u0275prov=At({token:Jh,factory:Jh.\u0275fac}),Jh),up=(($h=function(t){o(n,t);var e=s(n);function n(t){var i;return m(this,n),(i=e.call(this))._doc=t,i._hostNodes=new Map,i._hostNodes.set(t.head,[]),i}return y(n,[{key:"_addStylesToHost",value:function(t,e,n){var i=this;t.forEach(function(t){var r=i._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}},{key:"addHost",value:function(t){var e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}},{key:"removeHost",value:function(t){var e=this._hostNodes.get(t);e&&e.forEach(lp),this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach(function(n,i){e._addStylesToHost(t,i,n)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(t){return t.forEach(lp)})}}]),n}(sp)).\u0275fac=function(t){return new(t||$h)(Ei(zc))},$h.\u0275prov=At({token:$h,factory:$h.\u0275fac}),$h);function lp(t){Rc().remove(t)}var cp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},hp=/%COMP%/g;function pp(t,e,n){for(var i=0;i<e.length;i++){var r=e[i];Array.isArray(r)?pp(t,r,n):(r=r.replace(hp,t),n.push(r))}return n}function fp(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var dp,gp,mp,_p,yp,vp,bp=((dp=function(){function t(e,n,i){m(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new wp(e)}return y(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case qt.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new xp(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case 1:case qt.ShadowDom:return new kp(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=pp(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||dp)(Ei(op),Ei(up),Ei(Fl))},dp.\u0275prov=At({token:dp,factory:dp.\u0275fac}),dp),wp=function(){function t(e){m(this,t),this.eventManager=e,this.data=Object.create(null)}return y(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(cp[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,i){if(i){e=i+":"+e;var r=cp[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var i=cp[n];i?t.removeAttributeNS(i,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,i){i&(Er.DashCase|Er.Important)?t.style.setProperty(e,n,i&Er.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&Er.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,fp(n)):this.eventManager.addEventListener(t,e,fp(n))}}]),t}(),xp=function(t){o(n,t);var e=s(n);function n(t,i,r,o){var a;m(this,n),(a=e.call(this,t)).component=r;var s=pp(o+"-"+r.id,r.styles,[]);return i.addStyles(s),a.contentAttr="_ngcontent-%COMP%".replace(hp,o+"-"+r.id),a.hostAttr="_nghost-%COMP%".replace(hp,o+"-"+r.id),a}return y(n,[{key:"applyToHost",value:function(t){r(h(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var i=r(h(n.prototype),"createElement",this).call(this,t,e);return r(h(n.prototype),"setAttribute",this).call(this,i,this.contentAttr,""),i}}]),n}(wp),kp=function(t){o(n,t);var e=s(n);function n(t,i,r,o){var a;m(this,n),(a=e.call(this,t)).sharedStylesHost=i,a.hostEl=r,a.shadowRoot=r.attachShadow({mode:"open"}),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=pp(o.id,o.styles,[]),u=0;u<s.length;u++){var l=document.createElement("style");l.textContent=s[u],a.shadowRoot.appendChild(l)}return a}return y(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return r(h(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,i){return r(h(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,i)}},{key:"removeChild",value:function(t,e){return r(h(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(r(h(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(wp),Ep=((gp=function(t){o(n,t);var e=s(n);function n(t){return m(this,n),e.call(this,t)}return y(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var i=this;return t.addEventListener(e,n,!1),function(){return i.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(ap)).\u0275fac=function(t){return new(t||gp)(Ei(zc))},gp.\u0275prov=At({token:gp,factory:gp.\u0275fac}),gp),Sp=["alt","control","meta","shift"],Cp={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ip={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ap={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Pp=((yp=function(t){o(n,t);var e=s(n);function n(t){return m(this,n),e.call(this,t)}return y(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,i){var r=n.parseEventName(e),o=n.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Rc().onAndCancel(t,r.domEventName,o)})}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),i=e.shift();if(0===e.length||"keydown"!==i&&"keyup"!==i)return null;var r=n._normalizeKey(e.pop()),o="";if(Sp.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=r,0!=e.length||0===r.length)return null;var a={};return a.domEventName=i,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ip.hasOwnProperty(e)&&(e=Ip[e]))}return Cp[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Sp.forEach(function(i){i!=n&&(0,Ap[i])(t)&&(e+=i+".")}),e+=n}},{key:"eventCallback",value:function(t,e,i){return function(r){n.getEventFullKey(r)===t&&i.runGuarded(function(){return e(r)})}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(ap)).\u0275fac=function(t){return new(t||yp)(Ei(zc))},yp.\u0275prov=At({token:yp,factory:yp.\u0275fac}),yp),Tp=((_p=function t(){m(this,t)}).\u0275fac=function(t){return new(t||_p)},_p.\u0275prov=At({factory:function(){return Ei(Op)},token:_p,providedIn:"root"}),_p),Op=((mp=function(t){o(n,t);var e=s(n);function n(t){var i;return m(this,n),(i=e.call(this))._doc=t,i}return y(n,[{key:"sanitize",value:function(t,e){if(null==e)return null;switch(t){case fr.NONE:return e;case fr.HTML:return Ui(e,"HTML")?Vi(e):hr(this._doc,String(e)).toString();case fr.STYLE:return Ui(e,"Style")?Vi(e):e;case fr.SCRIPT:if(Ui(e,"Script"))return Vi(e);throw new Error("unsafe value used in a script context");case fr.URL:return qi(e),Ui(e,"URL")?Vi(e):Zi(String(e));case fr.RESOURCE_URL:if(Ui(e,"ResourceURL"))return Vi(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(t," (see https://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(t){return new Di(t)}},{key:"bypassSecurityTrustStyle",value:function(t){return new zi(t)}},{key:"bypassSecurityTrustScript",value:function(t){return new Fi(t)}},{key:"bypassSecurityTrustUrl",value:function(t){return new Bi(t)}},{key:"bypassSecurityTrustResourceUrl",value:function(t){return new ji(t)}}]),n}(Tp)).\u0275fac=function(t){return new(t||mp)(Ei(zc))},mp.\u0275prov=At({factory:function(){return t=Ei(la),new Op(t.get(zc));var t},token:mp,providedIn:"root"}),mp),Lp=vc(Oc,"browser",[{provide:Ul,useValue:"browser"},{provide:Vl,useValue:function(){Qh.makeCurrent(),ip.init()},multi:!0},{provide:zc,useFactory:function(){return function(t){ke=t}(document),document},deps:[]}]),Mp=[[],{provide:ha,useValue:"root"},{provide:br,useFactory:function(){return new br},deps:[]},{provide:rp,useClass:Ep,multi:!0,deps:[zc,ic,Ul]},{provide:rp,useClass:Pp,multi:!0,deps:[zc]},[],{provide:bp,useClass:bp,deps:[op,up,Fl]},{provide:ou,useExisting:bp},{provide:sp,useExisting:up},{provide:up,useClass:up,deps:[zc]},{provide:hc,useClass:hc,deps:[ic]},{provide:op,useClass:op,deps:[rp,ic]},[]],Np=((vp=function(){function t(e){if(m(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return y(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:Fl,useValue:e.appId},{provide:ep,useExisting:Fl},np]}}}]),t}()).\u0275fac=function(t){return new(t||vp)(Ei(vp,12))},vp.\u0275mod=ce({type:vp}),vp.\u0275inj=Pt({providers:Mp,imports:[Hh,Mc]}),vp);function Rp(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e[e.length-1];return U(i)?(e.pop(),$(e,i)):at(e)}function Dp(t,e){return nt(t,e,1)}function zp(t,e){return function(n){return n.lift(new Fp(t,e))}}"undefined"!=typeof window&&window,d("yLV6");var Fp=function(){function t(e,n){m(this,t),this.predicate=e,this.thisArg=n}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new Bp(t,this.predicate,this.thisArg))}}]),t}(),Bp=function(t){o(n,t);var e=s(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this,t)).predicate=i,o.thisArg=r,o.count=0,o}return y(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(P),jp=function t(){m(this,t)},Vp=function t(){m(this,t)},Up=function(){function t(e){var n=this;m(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var i=t.slice(0,e),r=i.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(i,r),n.headers.has(r)?n.headers.get(r).push(o):n.headers.set(r,[o])}})}:function(){n.headers=new Map,Object.keys(e).forEach(function(t){var i=e[t],r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(n.headers.set(r,i),n.maybeSetNormalizedName(t,r))})}:this.headers=new Map}return y(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var i=("a"===t.op?this.headers.get(e):void 0)||[];i.push.apply(i,p(n)),this.headers.set(e,i);break;case"d":var r=t.value;if(r){var o=this.headers.get(e);if(!o)return;0===(o=o.filter(function(t){return-1===r.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})}}]),t}(),qp=function(){function t(){m(this,t)}return y(t,[{key:"encodeKey",value:function(t){return Gp(t)}},{key:"encodeValue",value:function(t){return Gp(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function Gp(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Hp=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(m(this,t),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new qp,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){var n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(function(t){var r=t.indexOf("="),o=i(-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],2),a=o[0],s=o[1],u=n.get(a)||[];u.push(s),n.set(a,u)}),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(function(t){var i=n.fromObject[t];e.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}return y(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"appendAll",value:function(t){var e=[];return Object.keys(t).forEach(function(n){var i=t[n];Array.isArray(i)?i.forEach(function(t){e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:i,op:"a"})}),this.clone(e)}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).filter(function(t){return""!==t}).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var i=t.map.get(e.param)||[],r=i.indexOf(e.value);-1!==r&&i.splice(r,1),i.length>0?t.map.set(e.param,i):t.map.delete(e.param)}}),this.cloneFrom=this.updates=null)}}]),t}();function Wp(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Yp(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Zp(t){return"undefined"!=typeof FormData&&t instanceof FormData}var Xp=function(){function t(e,n,i,r){var o;if(m(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new Up),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new Hp,this.urlWithParams=n}return y(t,[{key:"serializeBody",value:function(){return null===this.body?null:Wp(this.body)||Yp(this.body)||Zp(this.body)||"string"==typeof this.body?this.body:this.body instanceof Hp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||Zp(this.body)?null:Yp(this.body)?this.body.type||null:Wp(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Hp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},u)),e.setParams&&(l=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},l)),new t(n,i,o,{params:l,headers:u,reportProgress:s,responseType:r,withCredentials:a})}}]),t}(),Kp=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),$p=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";m(this,t),this.headers=e.headers||new Up,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},Jp=function(t){o(n,t);var e=s(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m(this,n),(t=e.call(this,i)).type=Kp.ResponseHeader,t}return y(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}($p),Qp=function(t){o(n,t);var e=s(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m(this,n),(t=e.call(this,i)).type=Kp.Response,t.body=void 0!==i.body?i.body:null,t}return y(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}($p),tf=function(t){o(n,t);var e=s(n);function n(t){var i;return m(this,n),(i=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",i.ok=!1,i.message=i.status>=200&&i.status<300?"Http failure during parsing for ".concat(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),i.error=t.error||null,i}return n}($p);function ef(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var nf,rf,of,af,sf,uf,lf,cf,hf,pf=((nf=function(){function t(e){m(this,t),this.handler=e}return y(t,[{key:"request",value:function(t,e){var n,i,r,o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t instanceof Xp?n=t:(i=a.headers instanceof Up?a.headers:new Up(a.headers),a.params&&(r=a.params instanceof Hp?a.params:new Hp({fromObject:a.params})),n=new Xp(t,e,void 0!==a.body?a.body:null,{headers:i,params:r,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials}));var s=Rp(n).pipe(Dp(function(t){return o.handler.handle(t)}));if(t instanceof Xp||"events"===a.observe)return s;var u=s.pipe(zp(function(t){return t instanceof Qp}));switch(a.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(q(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return u.pipe(q(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return u.pipe(q(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return u.pipe(q(function(t){return t.body}))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(a.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new Hp).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,ef(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,ef(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,ef(n,e))}}]),t}()).\u0275fac=function(t){return new(t||nf)(Ei(jp))},nf.\u0275prov=At({token:nf,factory:nf.\u0275fac}),nf),ff=function(){function t(e,n){m(this,t),this.next=e,this.interceptor=n}return y(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),df=new si("HTTP_INTERCEPTORS"),gf=((rf=function(){function t(){m(this,t)}return y(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||rf)},rf.\u0275prov=At({token:rf,factory:rf.\u0275fac}),rf),mf=/^\)\]\}',?\n/,_f=function t(){m(this,t)},yf=((af=function(){function t(){m(this,t)}return y(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}()).\u0275fac=function(t){return new(t||af)},af.\u0275prov=At({token:af,factory:af.\u0275fac}),af),vf=((of=function(){function t(e){m(this,t),this.xhrFactory=e}return y(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new N(function(n){var i=e.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach(function(t,e){return i.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var r=t.detectContentTypeHeader();null!==r&&i.setRequestHeader("Content-Type",r)}if(t.responseType){var o=t.responseType.toLowerCase();i.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,u=function(){if(null!==s)return s;var e=1223===i.status?204:i.status,n=i.statusText||"OK",r=new Up(i.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||t.url;return s=new Jp({headers:r,status:e,statusText:n,url:o})},l=function(){var e=u(),r=e.headers,o=e.status,a=e.statusText,s=e.url,l=null;204!==o&&(l=void 0===i.response?i.responseText:i.response),0===o&&(o=l?200:0);var c=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof l){var h=l;l=l.replace(mf,"");try{l=""!==l?JSON.parse(l):null}catch(p){l=h,c&&(c=!1,l={error:p,text:l})}}c?(n.next(new Qp({body:l,headers:r,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new tf({error:l,headers:r,status:o,statusText:a,url:s||void 0}))},c=function(t){var e=u().url,r=new tf({error:t,status:i.status||0,statusText:i.statusText||"Unknown Error",url:e||void 0});n.error(r)},h=!1,p=function(e){h||(n.next(u()),h=!0);var r={type:Kp.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(r.total=e.total),"text"===t.responseType&&i.responseText&&(r.partialText=i.responseText),n.next(r)},f=function(t){var e={type:Kp.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return i.addEventListener("load",l),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",p),null!==a&&i.upload&&i.upload.addEventListener("progress",f)),i.send(a),n.next({type:Kp.Sent}),function(){i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",l),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",p),null!==a&&i.upload&&i.upload.removeEventListener("progress",f)),i.readyState!==i.DONE&&i.abort()}})}}]),t}()).\u0275fac=function(t){return new(t||of)(Ei(_f))},of.\u0275prov=At({token:of,factory:of.\u0275fac}),of),bf=new si("XSRF_COOKIE_NAME"),wf=new si("XSRF_HEADER_NAME"),xf=function t(){m(this,t)},kf=((hf=function(){function t(e,n,i){m(this,t),this.doc=e,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return y(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=gh(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}()).\u0275fac=function(t){return new(t||hf)(Ei(zc),Ei(Ul),Ei(bf))},hf.\u0275prov=At({token:hf,factory:hf.\u0275fac}),hf),Ef=((cf=function(){function t(e,n){m(this,t),this.tokenService=e,this.headerName=n}return y(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||cf)(Ei(xf),Ei(wf))},cf.\u0275prov=At({token:cf,factory:cf.\u0275fac}),cf),Sf=((lf=function(){function t(e,n){m(this,t),this.backend=e,this.injector=n,this.chain=null}return y(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(df,[]);this.chain=e.reduceRight(function(t,e){return new ff(t,e)},this.backend)}return this.chain.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||lf)(Ei(Vp),Ei(Ea))},lf.\u0275prov=At({token:lf,factory:lf.\u0275fac}),lf),Cf=((uf=function(){function t(){m(this,t)}return y(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:Ef,useClass:gf}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:bf,useValue:e.cookieName}:[],e.headerName?{provide:wf,useValue:e.headerName}:[]]}}}]),t}()).\u0275fac=function(t){return new(t||uf)},uf.\u0275mod=ce({type:uf}),uf.\u0275inj=Pt({providers:[Ef,{provide:df,useExisting:Ef,multi:!0},{provide:xf,useClass:kf},{provide:bf,useValue:"XSRF-TOKEN"},{provide:wf,useValue:"X-XSRF-TOKEN"}]}),uf),If=((sf=function t(){m(this,t)}).\u0275fac=function(t){return new(t||sf)},sf.\u0275mod=ce({type:sf}),sf.\u0275inj=Pt({providers:[pf,{provide:jp,useClass:Sf},vf,{provide:Vp,useExisting:vf},yf,{provide:_f,useExisting:yf}],imports:[[Cf.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),sf),Af=function(t){o(n,t);var e=s(n);function n(t){var i;return m(this,n),(i=e.call(this))._value=t,i}return y(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(t){var e=r(h(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new z;return this._value}},{key:"next",value:function(t){r(h(n.prototype),"next",this).call(this,this._value=t)}}]),n}(j),Pf=function(t){o(n,t);var e=s(n);function n(){return m(this,n),e.apply(this,arguments)}return y(n,[{key:"notifyNext",value:function(t,e,n,i,r){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(P),Tf=function(t){o(n,t);var e=s(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this)).parent=t,o.outerValue=i,o.outerIndex=r,o.index=0,o}return y(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(P);function Of(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Tf(t,n,i);if(!r.closed)return e instanceof N?e.subscribe(r):K(e)(r)}var Lf={};function Mf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i,r;return U(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(i=e.pop()),1===e.length&&x(e[0])&&(e=e[0]),at(e,r).lift(new Nf(i))}var Nf=function(){function t(e){m(this,t),this.resultSelector=e}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new Rf(t,this.resultSelector))}}]),t}(),Rf=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t)).resultSelector=i,r.active=0,r.values=[],r.observables=[],r}return y(n,[{key:"_next",value:function(t){this.values.push(Lf),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++)this.add(Of(this,t[n],void 0,n))}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n){var i=this.values,r=this.toRespond?i[n]===Lf?--this.toRespond:this.toRespond:0;i[n]=e,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(Pf),Df=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}();function zf(){return ot(1)(Rp.apply(void 0,arguments))}var Ff=new N(function(t){return t.complete()});function Bf(t){return t?function(t){return new N(function(e){return t.schedule(function(){return e.complete()})})}(t):Ff}function jf(t){return new N(function(e){var n;try{n=t()}catch(i){return void e.error(i)}return(n?J(n):Bf()).subscribe(e)})}function Vf(t,e){return"function"==typeof e?function(n){return n.pipe(Vf(function(n,i){return J(t(n,i)).pipe(q(function(t,r){return e(n,t,i,r)}))}))}:function(e){return e.lift(new Uf(t))}}var Uf=function(){function t(e){m(this,t),this.project=e}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new qf(t,this.project))}}]),t}(),qf=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t)).project=i,r.index=0,r}return y(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new Q(this),i=this.destination;i.add(n),this.innerSubscription=et(t,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||r(h(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&r(h(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}(tt),Gf=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function Hf(t){return function(e){return 0===t?Bf():e.lift(new Wf(t))}}var Wf=function(){function t(e){if(m(this,t),this.total=e,this.total<0)throw new Gf}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new Yf(t,this.total))}}]),t}(),Yf=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t)).total=i,r.count=0,r}return y(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(P);function Zf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e[e.length-1];return U(i)?(e.pop(),function(t){return zf(e,t,i)}):function(t){return zf(e,t)}}function Xf(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new Kf(t,e,n))}}var Kf=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];m(this,t),this.accumulator=e,this.seed=n,this.hasSeed=i}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new $f(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),$f=function(t){o(n,t);var e=s(n);function n(t,i,r,o){var a;return m(this,n),(a=e.call(this,t)).accumulator=i,a._seed=r,a.hasSeed=o,a.index=0,a}return y(n,[{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}},{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(i){this.destination.error(i)}this.seed=e,this.destination.next(e)}}]),n}(P);function Jf(t){return function(e){var n=new Qf(t),i=e.lift(n);return n.caught=i}}var Qf=function(){function t(e){m(this,t),this.selector=e}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new td(t,this.selector,this.caught))}}]),t}(),td=function(t){o(n,t);var e=s(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this,t)).selector=i,o.caught=r,o}return y(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(a){return void r(h(n.prototype),"error",this).call(this,a)}this._unsubscribeAndRecycle();var i=new Q(this);this.add(i);var o=et(e,i);o!==i&&this.add(o)}}}]),n}(tt);function ed(t){return function(e){return 0===t?Bf():e.lift(new nd(t))}}var nd=function(){function t(e){if(m(this,t),this.total=e,this.total<0)throw new Gf}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new id(t,this.total))}}]),t}(),id=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t)).total=i,r.ring=new Array,r.count=0,r}return y(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,r=0;r<n;r++){var o=e++%n;t.next(i[o])}t.complete()}}]),n}(P);function rd(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sd;return function(e){return e.lift(new od(t))}}var od=function(){function t(e){m(this,t),this.errorFactory=e}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new ad(t,this.errorFactory))}}]),t}(),ad=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t)).errorFactory=i,r.hasValue=!1,r}return y(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),n}(P);function sd(){return new Df}function ud(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new ld(t))}}var ld=function(){function t(e){m(this,t),this.defaultValue=e}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new cd(t,this.defaultValue))}}]),t}(),cd=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t)).defaultValue=i,r.isEmpty=!0,r}return y(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(P);function hd(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?zp(function(e,n){return t(e,n,i)}):L,Hf(1),n?ud(e):rd(function(){return new Df}))}}function pd(){}function fd(t,e,n){return function(i){return i.lift(new dd(t,e,n))}}var dd=function(){function t(e,n,i){m(this,t),this.nextOrObserver=e,this.error=n,this.complete=i}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new gd(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),gd=function(t){o(n,t);var e=s(n);function n(t,i,r,o){var a;return m(this,n),(a=e.call(this,t))._tapNext=pd,a._tapError=pd,a._tapComplete=pd,a._tapError=r||pd,a._tapComplete=o||pd,g(i)?(a._context=l(a),a._tapNext=i):i&&(a._context=i,a._tapNext=i.next||pd,a._tapError=i.error||pd,a._tapComplete=i.complete||pd),a}return y(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(P),md=function(){function t(e){m(this,t),this.callback=e}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new _d(t,this.callback))}}]),t}(),_d=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t)).add(new C(i)),r}return n}(P),yd=function t(e,n){m(this,t),this.id=e,this.url=n},vd=function(t){o(n,t);var e=s(n);function n(t,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return m(this,n),(r=e.call(this,t,i)).navigationTrigger=o,r.restoredState=a,r}return y(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(yd),bd=function(t){o(n,t);var e=s(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this,t,i)).urlAfterRedirects=r,o}return y(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(yd),wd=function(t){o(n,t);var e=s(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this,t,i)).reason=r,o}return y(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(yd),xd=function(t){o(n,t);var e=s(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this,t,i)).error=r,o}return y(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(yd),kd=function(t){o(n,t);var e=s(n);function n(t,i,r,o){var a;return m(this,n),(a=e.call(this,t,i)).urlAfterRedirects=r,a.state=o,a}return y(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(yd),Ed=function(t){o(n,t);var e=s(n);function n(t,i,r,o){var a;return m(this,n),(a=e.call(this,t,i)).urlAfterRedirects=r,a.state=o,a}return y(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(yd),Sd=function(t){o(n,t);var e=s(n);function n(t,i,r,o,a){var s;return m(this,n),(s=e.call(this,t,i)).urlAfterRedirects=r,s.state=o,s.shouldActivate=a,s}return y(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(yd),Cd=function(t){o(n,t);var e=s(n);function n(t,i,r,o){var a;return m(this,n),(a=e.call(this,t,i)).urlAfterRedirects=r,a.state=o,a}return y(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(yd),Id=function(t){o(n,t);var e=s(n);function n(t,i,r,o){var a;return m(this,n),(a=e.call(this,t,i)).urlAfterRedirects=r,a.state=o,a}return y(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(yd),Ad=function(){function t(e){m(this,t),this.route=e}return y(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),Pd=function(){function t(e){m(this,t),this.route=e}return y(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),Td=function(){function t(e){m(this,t),this.snapshot=e}return y(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Od=function(){function t(e){m(this,t),this.snapshot=e}return y(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Ld=function(){function t(e){m(this,t),this.snapshot=e}return y(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Md=function(){function t(e){m(this,t),this.snapshot=e}return y(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Nd=function(){function t(e,n,i){m(this,t),this.routerEvent=e,this.position=n,this.anchor=i}return y(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),Rd=function(){function t(e){m(this,t),this.params=e||{}}return y(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function Dd(t){return new Rd(t)}function zd(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Fd(t,e,n){var i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;for(var r={},o=0;o<i.length;o++){var a=i[o],s=t[o];if(a.startsWith(":"))r[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Bd(t,e){var n,i=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!i||!r||i.length!=r.length)return!1;for(var o=0;o<i.length;o++)if(!jd(t[n=i[o]],e[n]))return!1;return!0}function jd(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;var n=p(t).sort(),i=p(e).sort();return n.every(function(t,e){return i[e]===t})}return t===e}function Vd(t){return Array.prototype.concat.apply([],t)}function Ud(t){return t.length>0?t[t.length-1]:null}function qd(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Gd(t){return es(t)?t:Qa(t)?J(Promise.resolve(t)):Rp(t)}function Hd(t,e,n){return n?function(t,e){return Bd(t,e)}(t.queryParams,e.queryParams)&&Wd(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return jd(t[n],e[n])})}(t.queryParams,e.queryParams)&&Yd(t.root,e.root)}function Wd(t,e){if(!Jd(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!Wd(t.children[n],e.children[n]))return!1}return!0}function Yd(t,e){return Zd(t,e,e.segments)}function Zd(t,e,n){if(t.segments.length>n.length)return!!Jd(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Jd(t.segments,n))return!1;for(var i in e.children){if(!t.children[i])return!1;if(!Yd(t.children[i],e.children[i]))return!1}return!0}var r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!Jd(t.segments,r)&&!!t.children.primary&&Zd(t.children.primary,e,o)}var Xd=function(){function t(e,n,i){m(this,t),this.root=e,this.queryParams=n,this.fragment=i}return y(t,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Dd(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return eg.serialize(this)}}]),t}(),Kd=function(){function t(e,n){var i=this;m(this,t),this.segments=e,this.children=n,this.parent=null,qd(n,function(t,e){return t.parent=i})}return y(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return ng(this)}}]),t}(),$d=function(){function t(e,n){m(this,t),this.path=e,this.parameters=n}return y(t,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Dd(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return lg(this)}}]),t}();function Jd(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}var Qd=function t(){m(this,t)},tg=function(){function t(){m(this,t)}return y(t,[{key:"parse",value:function(t){var e=new dg(t);return new Xd(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){var e,n,i;return"/".concat(ig(t.root,!0)).concat((n=t.queryParams,i=Object.keys(n).map(function(t){var e=n[t];return Array.isArray(e)?e.map(function(e){return"".concat(og(t),"=").concat(og(e))}).join("&"):"".concat(og(t),"=").concat(og(e))}),i.length?"?".concat(i.join("&")):"")).concat("string"==typeof t.fragment?"#".concat((e=t.fragment,encodeURI(e))):"")}}]),t}(),eg=new tg;function ng(t){return t.segments.map(function(t){return lg(t)}).join("/")}function ig(t,e){if(!t.hasChildren())return ng(t);if(e){var n=t.children.primary?ig(t.children.primary,!1):"",i=[];return qd(t.children,function(t,e){"primary"!==e&&i.push("".concat(e,":").concat(ig(t,!1)))}),i.length>0?"".concat(n,"(").concat(i.join("//"),")"):n}var r=function(t,e){var n=[];return qd(t.children,function(t,i){"primary"===i&&(n=n.concat(e(t,i)))}),qd(t.children,function(t,i){"primary"!==i&&(n=n.concat(e(t,i)))}),n}(t,function(e,n){return"primary"===n?[ig(t.children.primary,!1)]:["".concat(n,":").concat(ig(e,!1))]});return 1===Object.keys(t.children).length&&null!=t.children.primary?"".concat(ng(t),"/").concat(r[0]):"".concat(ng(t),"/(").concat(r.join("//"),")")}function rg(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function og(t){return rg(t).replace(/%3B/gi,";")}function ag(t){return rg(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sg(t){return decodeURIComponent(t)}function ug(t){return sg(t.replace(/\+/g,"%20"))}function lg(t){return"".concat(ag(t.path)).concat((e=t.parameters,Object.keys(e).map(function(t){return";".concat(ag(t),"=").concat(ag(e[t]))}).join("")));var e}var cg=/^[^\/()?;=#]+/;function hg(t){var e=t.match(cg);return e?e[0]:""}var pg=/^[^=?&#]+/,fg=/^[^?&#]+/,dg=function(){function t(e){m(this,t),this.url=e,this.remaining=e}return y(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kd([],{}):new Kd([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Kd(t,e)),n}},{key:"parseSegment",value:function(){var t=hg(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new $d(sg(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=hg(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=hg(this.remaining);i&&(n=i,this.capture(n))}t[sg(e)]=sg(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(pg);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=function(t){var e=t.match(fg);return e?e[0]:""}(this.remaining);i&&(n=i,this.capture(n))}var r=ug(e),o=ug(n);if(t.hasOwnProperty(r)){var a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(o)}else t[r]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=hg(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error("Cannot parse url '".concat(this.url,"'"));var r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r="primary");var o=this.parseChildren();e[r]=1===Object.keys(o).length?o.primary:new Kd([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),gg=function(){function t(e){m(this,t),this._root=e}return y(t,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=mg(t,this._root);return e?e.children.map(function(t){return t.value}):[]}},{key:"firstChild",value:function(t){var e=mg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=_g(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})}},{key:"pathFromRoot",value:function(t){return _g(t,this._root).map(function(t){return t.value})}}]),t}();function mg(t,e){if(t===e.value)return e;var n,i=f(e.children);try{for(i.s();!(n=i.n()).done;){var r=mg(t,n.value);if(r)return r}}catch(o){i.e(o)}finally{i.f()}return null}function _g(t,e){if(t===e.value)return[e];var n,i=f(e.children);try{for(i.s();!(n=i.n()).done;){var r=_g(t,n.value);if(r.length)return r.unshift(e),r}}catch(o){i.e(o)}finally{i.f()}return[]}var yg=function(){function t(e,n){m(this,t),this.value=e,this.children=n}return y(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function vg(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var bg=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t)).snapshot=i,Cg(l(r),t),r}return y(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(gg);function wg(t,e){var n=function(t,e){var n=new Eg([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Sg("",new yg(n,[]))}(t,e),i=new Af([new $d("",{})]),r=new Af({}),o=new Af({}),a=new Af({}),s=new Af(""),u=new xg(i,r,a,s,o,"primary",e,n.root);return u.snapshot=n.root,new bg(new yg(u,[]),n)}var xg=function(){function t(e,n,i,r,o,a,s,u){m(this,t),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return y(t,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(q(function(t){return Dd(t)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(q(function(t){return Dd(t)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),t}();function kg(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,i=0;if("always"!==e)for(i=n.length-1;i>=1;){var r=n[i],o=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function(t){return t.reduce(function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(i))}var Eg=function(){function t(e,n,i,r,o,a,s,u,l,c,h){m(this,t),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=h}return y(t,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Dd(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Dd(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(t){return t.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),t}(),Sg=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this,i)).url=t,Cg(l(r),i),r}return y(n,[{key:"toString",value:function(){return Ig(this._root)}}]),n}(gg);function Cg(t,e){e.value._routerState=t,e.children.forEach(function(e){return Cg(t,e)})}function Ig(t){var e=t.children.length>0?" { ".concat(t.children.map(Ig).join(", ")," } "):"";return"".concat(t.value).concat(e)}function Ag(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Bd(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Bd(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Bd(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Bd(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Pg(t,e){var n,i;return Bd(t.params,e.params)&&Jd(n=t.url,i=e.url)&&n.every(function(t,e){return Bd(t.parameters,i[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||Pg(t.parent,e.parent))}function Tg(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var i=n.value;i._futureSnapshot=e.value;var r=function(t,e,n){return e.children.map(function(e){var i,r=f(n.children);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(t.shouldReuseRoute(e.value,o.value.snapshot))return Tg(t,e,o)}}catch(a){r.e(a)}finally{r.f()}return Tg(t,e)})}(t,e,n);return new yg(i,r)}if(t.shouldAttach(e.value)){var o=t.retrieve(e.value);if(null!==o){var a=o.route;return Og(e,a),a}}var s,u=new xg(new Af((s=e.value).url),new Af(s.params),new Af(s.queryParams),new Af(s.fragment),new Af(s.data),s.outlet,s.component,s),l=e.children.map(function(e){return Tg(t,e)});return new yg(u,l)}function Og(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)Og(t.children[n],e.children[n])}function Lg(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Mg(t){return"object"==typeof t&&null!=t&&t.outlets}function Ng(t,e,n,i,r){var o={};return i&&qd(i,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return"".concat(t)}):"".concat(t)}),new Xd(n.root===t?e:Rg(n.root,t,e),o,r)}function Rg(t,e,n){var i={};return qd(t.children,function(t,r){i[r]=t===e?n:Rg(t,e,n)}),new Kd(t.segments,i)}var Dg=function(){function t(e,n,i){if(m(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&Lg(i[0]))throw new Error("Root segment cannot have matrix parameters");var r=i.find(Mg);if(r&&r!==Ud(i))throw new Error("{outlets:{}} has to be the last command")}return y(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),zg=function t(e,n,i){m(this,t),this.segmentGroup=e,this.processChildren=n,this.index=i};function Fg(t,e,n){if(t||(t=new Kd([],{})),0===t.segments.length&&t.hasChildren())return Bg(t,e,n);var i=function(t,e,n){for(var i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};r<t.segments.length;){if(i>=n.length)return o;var a=t.segments[r],s=n[i];if(Mg(s))break;var u="".concat(s),l=i<n.length-1?n[i+1]:null;if(r>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!qg(u,l,a))return o;i+=2}else{if(!qg(u,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){var o=new Kd(t.segments.slice(0,i.pathIndex),{});return o.children.primary=new Kd(t.segments.slice(i.pathIndex),t.children),Bg(o,0,r)}return i.match&&0===r.length?new Kd(t.segments,{}):i.match&&!t.hasChildren()?jg(t,e,n):i.match?Bg(t,0,r):jg(t,e,n)}function Bg(t,e,n){if(0===n.length)return new Kd(t.segments,{});var i=function(t){return Mg(t[0])?t[0].outlets:{primary:t}}(n),r={};return qd(i,function(n,i){"string"==typeof n&&(n=[n]),null!==n&&(r[i]=Fg(t.children[i],e,n))}),qd(t.children,function(t,e){void 0===i[e]&&(r[e]=t)}),new Kd(t.segments,r)}function jg(t,e,n){for(var i=t.segments.slice(0,e),r=0;r<n.length;){var o=n[r];if(Mg(o)){var a=Vg(o.outlets);return new Kd(i,a)}if(0===r&&Lg(n[0]))i.push(new $d(t.segments[e].path,Ug(n[0]))),r++;else{var s=Mg(o)?o.outlets.primary:"".concat(o),u=r<n.length-1?n[r+1]:null;s&&u&&Lg(u)?(i.push(new $d(s,Ug(u))),r+=2):(i.push(new $d(s,{})),r++)}}return new Kd(i,{})}function Vg(t){var e={};return qd(t,function(t,n){"string"==typeof t&&(t=[t]),null!==t&&(e[n]=jg(new Kd([],{}),0,t))}),e}function Ug(t){var e={};return qd(t,function(t,n){return e[n]="".concat(t)}),e}function qg(t,e,n){return t==n.path&&Bd(e,n.parameters)}var Gg=function(){function t(e,n,i,r){m(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r}return y(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Ag(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var i=this,r=vg(e);t.children.forEach(function(t){var e=t.value.outlet;i.deactivateRoutes(t,r[e],n),delete r[e]}),qd(r,function(t,e){i.deactivateRouteAndItsChildren(t,n)})}},{key:"deactivateRoutes",value:function(t,e,n){var i=t.value,r=e?e.value:null;if(i===r)if(i.component){var o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var i=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:r})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){for(var n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,r=vg(t),o=0,a=Object.keys(r);o<a.length;o++){var s=a[o];this.deactivateRouteAndItsChildren(r[s],i)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}},{key:"activateChildRoutes",value:function(t,e,n){var i=this,r=vg(e);t.children.forEach(function(t){i.activateRoutes(t,r[t.value.outlet],n),i.forwardEvent(new Md(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Od(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var i=t.value,r=e?e.value:null;if(Ag(i),i===r)if(i.component){var o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(i.component){var a=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){var s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Hg(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),l=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=i,a.resolver=l,a.outlet&&a.outlet.activateWith(i,l),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function Hg(t){Ag(t.value),t.children.forEach(Hg)}var Wg=function t(e,n){m(this,t),this.routes=e,this.module=n};function Yg(t){return"function"==typeof t}function Zg(t){return t instanceof Xd}var Xg=Symbol("INITIAL_VALUE");function Kg(){return Vf(function(t){return Mf(t.map(function(t){return t.pipe(Hf(1),Zf(Xg))})).pipe(Xf(function(t,e){var n=!1;return e.reduce(function(t,i,r){if(t!==Xg)return t;if(i===Xg&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||Zg(i))return i}return t},t)},Xg),zp(function(t){return t!==Xg}),q(function(t){return Zg(t)?t:!0===t}),Hf(1))})}var $g,Jg=(($g=function t(){m(this,t)}).\u0275fac=function(t){return new(t||$g)},$g.\u0275cmp=ae({type:$g,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Za(0,"router-outlet")},directives:function(){return[Ym]},encapsulation:2}),$g);function Qg(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var i=t[n];tm(i,em(e,i))}}function tm(t,e){t.children&&Qg(t.children,e)}function em(t,e){return e?t||e.path?t&&!e.path?"".concat(t,"/"):!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function nm(t){var e=t.children&&t.children.map(nm),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Jg),n}function im(t){return t.outlet||"primary"}function rm(t,e){var n=t.filter(function(t){return im(t)===e});return n.push.apply(n,p(t.filter(function(t){return im(t)!==e}))),n}var om={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function am(t,e,n){var i;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},om):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var r=(e.matcher||Fd)(n,t,e);if(!r)return Object.assign({},om);var o={};qd(r.posParams,function(t,e){o[e]=t.path});var a=r.consumed.length>0?Object.assign(Object.assign({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:a,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function sm(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&function(t,e,n){return n.some(function(n){return um(t,e,n)&&"primary"!==im(n)})}(t,n,i)){var o=new Kd(e,function(t,e,n,i){var r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;var o,a=f(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==im(s)){var u=new Kd([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,r[im(s)]=u}}}catch(l){a.e(l)}finally{a.f()}return r}(t,e,i,new Kd(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(function(n){return um(t,e,n)})}(t,n,i)){var a=new Kd(t.segments,function(t,e,n,i,r,o){var a,s={},u=f(i);try{for(u.s();!(a=u.n()).done;){var l=a.value;if(um(t,n,l)&&!r[im(l)]){var c=new Kd([],{});c._sourceSegment=t,c._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[im(l)]=c}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},r),s)}(t,e,n,i,t.children,r));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new Kd(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function um(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function lm(t,e,n,i){return!!(im(t)===i||"primary"!==i&&um(e,n,t))&&("**"===t.path||am(e,t,n).matched)}function cm(t,e,n){return 0===e.length&&!t.children[n]}var hm=function t(e){m(this,t),this.segmentGroup=e||null},pm=function t(e){m(this,t),this.urlTree=e};function fm(t){return new N(function(e){return e.error(new hm(t))})}function dm(t){return new N(function(e){return e.error(new pm(t))})}function gm(t){return new N(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))})}var mm=function(){function t(e,n,i,r,o){m(this,t),this.configLoader=n,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(Fu)}return y(t,[{key:"apply",value:function(){var t=this,e=sm(this.urlTree.root,[],[],this.config).segmentGroup,n=new Kd(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,"primary").pipe(q(function(e){return t.createUrlTree(_m(e),t.urlTree.queryParams,t.urlTree.fragment)})).pipe(Jf(function(e){if(e instanceof pm)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof hm)throw t.noMatchError(e);throw e}))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(q(function(n){return e.createUrlTree(_m(n),t.queryParams,t.fragment)})).pipe(Jf(function(t){if(t instanceof hm)throw e.noMatchError(t);throw t}))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var i=t.segments.length>0?new Kd([],{primary:t}):t;return new Xd(i,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(q(function(t){return new Kd([],t)})):this.expandSegment(t,n,e,n.segments,i,!0)}},{key:"expandChildren",value:function(t,e,n){for(var i=this,r=[],o=0,a=Object.keys(n.children);o<a.length;o++){var s=a[o];"primary"===s?r.unshift(s):r.push(s)}return J(r).pipe(Dp(function(r){var o=n.children[r],a=rm(e,r);return i.expandSegmentGroup(t,a,o,r).pipe(q(function(t){return{segment:t,outlet:r}}))}),Xf(function(t,e){return t[e.outlet]=e.segment,t},{}),function(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?zp(function(e,n){return t(e,n,i)}):L,ed(1),n?ud(e):rd(function(){return new Df}))}}())}},{key:"expandSegment",value:function(t,e,n,i,r,o){var a=this;return J(n).pipe(Dp(function(s){return a.expandSegmentAgainstRoute(t,e,n,s,i,r,o).pipe(Jf(function(t){if(t instanceof hm)return Rp(null);throw t}))}),hd(function(t){return!!t}),Jf(function(t,n){if(t instanceof Df||"EmptyError"===t.name){if(cm(e,i,r))return Rp(new Kd([],{}));throw new hm(e)}throw t}))}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,i,r,o,a){return lm(i,e,r,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o):fm(e):fm(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,i,r,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,i){var r=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?dm(o):this.lineralizeSegments(n,o).pipe(nt(function(n){var o=new Kd(n,{});return r.expandSegment(t,o,e,n,i,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,i,r,o){var a=this,s=am(e,i,r),u=s.matched,l=s.consumedSegments,c=s.lastChild,h=s.positionalParamSegments;if(!u)return fm(e);var p=this.applyRedirectCommands(l,i.redirectTo,h);return i.redirectTo.startsWith("/")?dm(p):this.lineralizeSegments(i,p).pipe(nt(function(i){return a.expandSegment(t,e,n,i.concat(r.slice(c)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,i,r){var o=this;if("**"===n.path)return n.loadChildren?(n._loadedConfig?Rp(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(q(function(t){return n._loadedConfig=t,new Kd(i,{})})):Rp(new Kd(i,{}));var a=am(e,n,i),s=a.matched,u=a.consumedSegments,l=a.lastChild;if(!s)return fm(e);var c=i.slice(l);return this.getChildConfig(t,n,i).pipe(nt(function(t){var i=t.module,a=t.routes,s=sm(e,u,c,a),l=s.segmentGroup,h=s.slicedSegments,p=new Kd(l.segments,l.children);if(0===h.length&&p.hasChildren())return o.expandChildren(i,a,p).pipe(q(function(t){return new Kd(u,t)}));if(0===a.length&&0===h.length)return Rp(new Kd(u,{}));var f=im(n)===r;return o.expandSegment(i,p,a,h,f?"primary":r,!0).pipe(q(function(t){return new Kd(u.concat(t.segments),t.children)}))}))}},{key:"getChildConfig",value:function(t,e,n){var i=this;return e.children?Rp(new Wg(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Rp(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(nt(function(n){return n?i.configLoader.load(t.injector,e).pipe(q(function(t){return e._loadedConfig=t,t})):function(t){return new N(function(e){return e.error(zd("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))})}(e)})):Rp(new Wg([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var i=this,r=e.canLoad;return r&&0!==r.length?Rp(r.map(function(i){var r,o=t.get(i);if(function(t){return t&&Yg(t.canLoad)}(o))r=o.canLoad(e,n);else{if(!Yg(o))throw new Error("Invalid CanLoad guard");r=o(e,n)}return Gd(r)})).pipe(Kg(),fd(function(t){if(Zg(t)){var e=zd('Redirecting to "'.concat(i.urlSerializer.serialize(t),'"'));throw e.url=t,e}}),q(function(t){return!0===t})):Rp(!0)}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],i=e.root;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Rp(n);if(i.numberOfChildren>1||!i.children.primary)return gm(t.redirectTo);i=i.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,i){var r=this.createSegmentGroup(t,e.root,n,i);return new Xd(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return qd(t,function(t,i){if("string"==typeof t&&t.startsWith(":")){var r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}},{key:"createSegmentGroup",value:function(t,e,n,i){var r=this,o=this.createSegments(t,e.segments,n,i),a={};return qd(e.children,function(e,o){a[o]=r.createSegmentGroup(t,e,n,i)}),new Kd(o,a)}},{key:"createSegments",value:function(t,e,n,i){var r=this;return e.map(function(e){return e.path.startsWith(":")?r.findPosParam(t,e,i):r.findOrReturn(e,n)})}},{key:"findPosParam",value:function(t,e,n){var i=n[e.path.substring(1)];if(!i)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return i}},{key:"findOrReturn",value:function(t,e){var n,i=0,r=f(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(i),o;i++}}catch(a){r.e(a)}finally{r.f()}return t}}]),t}();function _m(t){for(var e={},n=0,i=Object.keys(t.children);n<i.length;n++){var r=i[n],o=_m(t.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new Kd(t.segments.concat(e.segments),e.children)}return t}(new Kd(t.segments,e))}var ym=function t(e){m(this,t),this.path=e,this.route=this.path[this.path.length-1]},vm=function t(e,n){m(this,t),this.component=e,this.route=n};function bm(t,e,n){var i=t._root;return xm(i,e?e._root:null,n,[i.value])}function wm(t,e,n){var i=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function xm(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=vg(e);return t.children.forEach(function(t){!function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Jd(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Jd(t.url,e.url)||!Bd(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Pg(t,e)||!Bd(t.queryParams,e.queryParams);case"paramsChange":default:return!Pg(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new ym(i)):(o.data=a.data,o._resolvedData=a._resolvedData),xm(t,e,o.component?s?s.children:null:n,i,r),u&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new vm(s.outlet.component,a))}else a&&km(e,s,r),r.canActivateChecks.push(new ym(i)),xm(t,null,o.component?s?s.children:null:n,i,r)}(t,o[t.value.outlet],n,i.concat([t.value]),r),delete o[t.value.outlet]}),qd(o,function(t,e){return km(t,n.getContext(e),r)}),r}function km(t,e,n){var i=vg(t),r=t.value;qd(i,function(t,i){km(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new vm(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}var Em=function t(){m(this,t)};function Sm(t){return new N(function(e){return e.error(t)})}var Cm=function(){function t(e,n,i,r,o,a){m(this,t),this.rootComponentType=e,this.config=n,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return y(t,[{key:"recognize",value:function(){var t=sm(this.urlTree.root,[],[],this.config.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;var n=new Eg([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new yg(n,e),r=new Sg(this.url,i);return this.inheritParamsAndData(r._root),r}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,i=kg(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){for(var n=[],i=0,r=Object.keys(e.children);i<r.length;i++){var o=r[i],a=e.children[o],s=rm(t,o),u=this.processSegmentGroup(s,a,o);if(null===u)return null;n.push.apply(n,p(u))}var l=Im(n);return l.sort(function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)}),l}},{key:"processSegment",value:function(t,e,n,i){var r,o=f(t);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=this.processSegmentAgainstRoute(a,e,n,i);if(null!==s)return s}}catch(u){o.e(u)}finally{o.f()}return cm(e,n,i)?[]:null}},{key:"processSegmentAgainstRoute",value:function(t,e,n,i){if(t.redirectTo||!lm(t,e,n,i))return null;var r,o=[],a=[];if("**"===t.path){var s=n.length>0?Ud(n).parameters:{};r=new Eg(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Tm(t),im(t),t.component,t,Am(e),Pm(e)+n.length,Om(t))}else{var u=am(e,t,n);if(!u.matched)return null;o=u.consumedSegments,a=n.slice(u.lastChild),r=new Eg(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Tm(t),im(t),t.component,t,Am(e),Pm(e)+o.length,Om(t))}var l=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),c=sm(e,o,a,l.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution),h=c.segmentGroup,p=c.slicedSegments;if(0===p.length&&h.hasChildren()){var f=this.processChildren(l,h);return null===f?null:[new yg(r,f)]}if(0===l.length&&0===p.length)return[new yg(r,[])];var d=im(t)===i,g=this.processSegment(l,h,p,d?"primary":i);return null===g?null:[new yg(r,g)]}}]),t}();function Im(t){var e,n=[],i=new Set,r=f(t);try{var o=function(){var t,r=e.value;if(!function(t){var e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}(r))return n.push(r),"continue";var o=n.find(function(t){return r.value.routeConfig===t.value.routeConfig});void 0!==o?((t=o.children).push.apply(t,p(r.children)),i.add(o)):n.push(r)};for(r.s();!(e=r.n()).done;)o()}catch(c){r.e(c)}finally{r.f()}var a,s=f(i);try{for(s.s();!(a=s.n()).done;){var u=a.value,l=Im(u.children);n.push(new yg(u.value,l))}}catch(c){s.e(c)}finally{s.f()}return n.filter(function(t){return!i.has(t)})}function Am(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Pm(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Tm(t){return t.data||{}}function Om(t){return t.resolve||{}}function Lm(t){return Vf(function(e){var n=t(e);return n?J(n).pipe(q(function(){return e})):Rp(e)})}var Mm=function(t){o(n,t);var e=s(n);function n(){return m(this,n),e.apply(this,arguments)}return n}(function(){function t(){m(this,t)}return y(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}()),Nm=new si("ROUTES"),Rm=function(){function t(e,n,i,r){m(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=i,this.onLoadEndListener=r}return y(t,[{key:"load",value:function(t,e){var n=this;if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);var i=this.loadModuleFactory(e.loadChildren).pipe(q(function(i){n.onLoadEndListener&&n.onLoadEndListener(e);var r=i.create(t);return new Wg(Vd(r.injector.get(Nm,void 0,Ft.Self|Ft.Optional)).map(nm),r)}),Jf(function(t){throw e._loader$=void 0,t}));return e._loader$=new pt(i,function(){return new j}).pipe(ut()),e._loader$}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?J(this.loader.load(t)):Gd(t()).pipe(nt(function(t){return t instanceof Bu?Rp(t):J(e.compiler.compileModuleAsync(t))}))}}]),t}(),Dm=function t(){m(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new zm,this.attachRef=null},zm=function(){function t(){m(this,t),this.contexts=new Map}return y(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new Dm,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),Fm=function(){function t(){m(this,t)}return y(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function Bm(t){throw t}function jm(t,e,n){return e.parse("/")}function Vm(t,e){return Rp(null)}var Um,qm,Gm,Hm,Wm=((qm=function(){function t(e,n,i,r,o,a,s,u){var l=this;m(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=i,this.location=r,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new j,this.errorHandler=Bm,this.malformedUriErrorHandler=jm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Vm,afterPreactivation:Vm},this.urlHandlingStrategy=new Fm,this.routeReuseStrategy=new Mm,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(Fu),this.console=o.get(Gl);var c=o.get(ic);this.isNgZoneEnabled=c instanceof ic&&ic.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Xd(new Kd([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Rm(a,s,function(t){return l.triggerEvent(new Ad(t))},function(t){return l.triggerEvent(new Pd(t))}),this.routerState=wg(this.currentUrlTree,this.rootComponentType),this.transitions=new Af({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return y(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(zp(function(t){return 0!==t.id}),q(function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),Vf(function(t){var i,r,o,a=!1,s=!1;return Rp(t).pipe(fd(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Vf(function(t){var i,r,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Rp(t).pipe(Vf(function(t){var i=e.transitions.getValue();return n.next(new vd(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),i!==e.transitions.getValue()?Ff:Promise.resolve(t)}),(i=e.ngModule.injector,r=e.configLoader,o=e.urlSerializer,a=e.config,Vf(function(t){return function(t,e,n,i,r){return new mm(t,e,n,i,r).apply()}(i,r,o,t.extractedUrl,a).pipe(q(function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})}))})),fd(function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,n,i,r,o){return nt(function(i){return function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var a=new Cm(t,e,n,i,r,o).recognize();return null===a?Sm(new Em):Rp(a)}catch(s){return Sm(s)}}(t,n,i.urlAfterRedirects,(a=i.urlAfterRedirects,e.serializeUrl(a)),r,o).pipe(q(function(t){return Object.assign(Object.assign({},i),{targetSnapshot:t})}));var a})}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),fd(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects);var i=new kd(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(i)}));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,l=t.extractedUrl,c=t.source,h=t.restoredState,p=t.extras,f=new vd(u,e.serializeUrl(l),c,h);n.next(f);var d=wg(l,e.rootComponentType).snapshot;return Rp(Object.assign(Object.assign({},t),{targetSnapshot:d,urlAfterRedirects:l,extras:Object.assign(Object.assign({},p),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ff}),Lm(function(t){var n=t.targetSnapshot,i=t.id,r=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),fd(function(t){var n=new Ed(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),q(function(t){return Object.assign(Object.assign({},t),{guards:bm(t.targetSnapshot,t.currentSnapshot,e.rootContexts)})}),function(t,e){return nt(function(n){var i=n.targetSnapshot,r=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Rp(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return J(t).pipe(nt(function(t){return function(t,e,n,i,r){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Rp(o.map(function(o){var a,s=wm(o,e,r);if(function(t){return t&&Yg(t.canDeactivate)}(s))a=Gd(s.canDeactivate(t,e,n,i));else{if(!Yg(s))throw new Error("Invalid CanDeactivate guard");a=Gd(s(t,e,n,i))}return a.pipe(hd())})).pipe(Kg()):Rp(!0)}(t.component,t.route,n,e,i)}),hd(function(t){return!0!==t},!0))}(s,i,r,t).pipe(nt(function(n){return n&&"boolean"==typeof n?function(t,e,n,i){return J(e).pipe(Dp(function(e){return zf(function(t,e){return null!==t&&e&&e(new Td(t)),Rp(!0)}(e.route.parent,i),function(t,e){return null!==t&&e&&e(new Ld(t)),Rp(!0)}(e.route,i),function(t,e,n){var i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return jf(function(){return Rp(e.guards.map(function(r){var o,a=wm(r,e.node,n);if(function(t){return t&&Yg(t.canActivateChild)}(a))o=Gd(a.canActivateChild(i,t));else{if(!Yg(a))throw new Error("Invalid CanActivateChild guard");o=Gd(a(i,t))}return o.pipe(hd())})).pipe(Kg())})});return Rp(r).pipe(Kg())}(t,e.path,n),function(t,e,n){var i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?Rp(i.map(function(i){return jf(function(){var r,o=wm(i,e,n);if(function(t){return t&&Yg(t.canActivate)}(o))r=Gd(o.canActivate(e,t));else{if(!Yg(o))throw new Error("Invalid CanActivate guard");r=Gd(o(e,t))}return r.pipe(hd())})})).pipe(Kg()):Rp(!0)}(t,e.route,n))}),hd(function(t){return!0!==t},!0))}(i,a,t,e):Rp(n)}),q(function(t){return Object.assign(Object.assign({},n),{guardsResult:t})}))})}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),fd(function(t){if(Zg(t.guardsResult)){var n=zd('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}var i=new Sd(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(i)}),zp(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var i=new wd(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(i),t.resolve(!1),!1}return!0}),Lm(function(t){if(t.guards.canActivateChecks.length)return Rp(t).pipe(fd(function(t){var n=new Cd(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Vf(function(t){var i,r,o=!1;return Rp(t).pipe((i=e.paramsInheritanceStrategy,r=e.ngModule.injector,nt(function(t){var e=t.targetSnapshot,n=t.guards.canActivateChecks;if(!n.length)return Rp(t);var o=0;return J(n).pipe(Dp(function(t){return function(t,e,n,i){return function(t,e,n,i){var r=Object.keys(t);if(0===r.length)return Rp({});var o={};return J(r).pipe(nt(function(r){return function(t,e,n,i){var r=wm(t,e,i);return Gd(r.resolve?r.resolve(e,n):r(e,n))}(t[r],e,n,i).pipe(fd(function(t){o[r]=t}))}),ed(1),nt(function(){return Object.keys(o).length===r.length?Rp(o):Ff}))}(t._resolve,t,e,i).pipe(q(function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),kg(t,n).resolve),null}))}(t.route,e,i,r)}),fd(function(){return o++}),ed(1),nt(function(e){return o===n.length?Rp(t):Ff}))})),fd({next:function(){return o=!0},complete:function(){if(!o){var i=new wd(t.id,e.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");n.next(i),t.resolve(!1)}}}))}),fd(function(t){var n=new Id(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}))}),Lm(function(t){var n=t.targetSnapshot,i=t.id,r=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),q(function(t){var n=function(t,e,n){var i=Tg(t,e._root,n?n._root:void 0);return new bg(i,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})}),fd(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(i=e.rootContexts,r=e.routeReuseStrategy,o=function(t){return e.triggerEvent(t)},q(function(t){return new Gg(r,t.targetRouterState,t.currentRouterState,o).activate(i),t})),fd({next:function(){a=!0},complete:function(){a=!0}}),function(t){return function(e){return e.lift(new md(t))}}(function(){if(!a&&!s){e.resetUrlToCurrentUrlTree();var i=new wd(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(i),t.resolve(!1)}e.currentNavigation=null}),Jf(function(i){if(s=!0,(u=i)&&u.ngNavigationCancelingError){var r=Zg(i.url);r||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new wd(t.id,e.serializeUrl(t.extractedUrl),i.message);n.next(o),r?setTimeout(function(){var n=e.urlHandlingStrategy.merge(i.url,e.rawUrlTree);e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new xd(t.id,e.serializeUrl(t.extractedUrl),i);n.next(a);try{t.resolve(e.errorHandler(i))}catch(l){t.reject(l)}}var u;return Ff}))}))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.extractLocationChangeInfoFromEvent(e);t.shouldScheduleNavigation(t.lastLocationChangeInfo,n)&&setTimeout(function(){var e=n.source,i=n.state,r=n.urlTree,o={replaceUrl:!0};if(i){var a=Object.assign({},i);delete a.navigationId,0!==Object.keys(a).length&&(o.state=a)}t.scheduleNavigation(r,e,i,o)},0),t.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(t,e){if(!t)return!0;var n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){Qg(t),this.config=t.map(nm),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,i=e.queryParams,r=e.fragment,o=e.queryParamsHandling,a=e.preserveFragment,s=n||this.routerState.root,u=a?this.currentUrlTree.fragment:r,l=null;switch(o){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,i,r){if(0===n.length)return Ng(e.root,e.root,e,i,r);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Dg(!0,0,t);var e=0,n=!1,i=t.reduce(function(t,i,r){if("object"==typeof i&&null!=i){if(i.outlets){var o={};return qd(i.outlets,function(t,e){o[e]="string"==typeof t?t.split("/"):t}),[].concat(p(t),[{outlets:o}])}if(i.segmentPath)return[].concat(p(t),[i.segmentPath])}return"string"!=typeof i?[].concat(p(t),[i]):0===r?(i.split("/").forEach(function(i,r){0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[].concat(p(t),[i])},[]);return new Dg(n,e,i)}(n);if(o.toRoot())return Ng(e.root,new Kd([],{}),e,i,r);var a=function(t,e,n){if(t.isAbsolute)return new zg(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var i=n.snapshot._urlSegment;return new zg(i,i===e.root,0)}var r=Lg(t.commands[0])?0:1;return function(t,e,n){for(var i=t,r=e,o=n;o>r;){if(o-=r,!(i=i.parent))throw new Error("Invalid number of '../'");r=i.segments.length}return new zg(i,!1,r-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),s=a.processChildren?Bg(a.segmentGroup,a.index,o.commands):Fg(a.segmentGroup,a.index,o.commands);return Ng(a.segmentGroup,s,e,i,r)}(s,this.currentUrlTree,t,l,u)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=Zg(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(Zg(t))return Hd(this.currentUrlTree,t,e);var n=this.parseUrl(t);return Hd(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce(function(e,n){var i=t[n];return null!=i&&(e[n]=i),e},{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new bd(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(t,e,n,i,r){if(this.disposed)return Promise.resolve(!1);var o,a,s,u=this.getTransition(),l="imperative"!==e&&"imperative"===(null==u?void 0:u.source),c=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===t.toString();if(l&&c)return Promise.resolve(!0);r?(o=r.resolve,a=r.reject,s=r.promise):s=new Promise(function(t,e){o=t,a=e});var h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(t){return Promise.reject(t)})}},{key:"setBrowserUrl",value:function(t,e,n,i){var r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),t}()).\u0275fac=function(t){return new(t||qm)(Ei(li),Ei(Qd),Ei(zm),Ei(ih),Ei(Ea),Ei(Cc),Ei(tc),Ei(void 0))},qm.\u0275prov=At({token:qm,factory:qm.\u0275fac}),qm),Ym=((Um=function(){function t(e,n,i,r,o){m(this,t),this.parentContexts=e,this.location=n,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new gl,this.deactivateEvents=new gl,this.name=r||"primary",e.onChildOutletCreated(this.name,this)}return y(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new Zm(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),t}()).\u0275fac=function(t){return new(t||Um)(qa(zm),qa(Vu),qa(Qs),oi("name"),qa(Pu))},Um.\u0275dir=pe({type:Um,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),Um),Zm=function(){function t(e,n,i){m(this,t),this.route=e,this.childContexts=n,this.parent=i}return y(t,[{key:"get",value:function(t,e){return t===xg?this.route:t===zm?this.childContexts:this.parent.get(t,e)}}]),t}(),Xm=function t(){m(this,t)},Km=function(){function t(){m(this,t)}return y(t,[{key:"preload",value:function(t,e){return Rp(null)}}]),t}(),$m=((Hm=function(){function t(e,n,i,r,o){m(this,t),this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new Rm(n,i,function(t){return e.triggerEvent(new Ad(t))},function(t){return e.triggerEvent(new Pd(t))})}return y(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(zp(function(t){return t instanceof bd}),Dp(function(){return t.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var t=this.injector.get(Fu);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,i=[],r=f(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;i.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?i.push(this.preloadConfig(t,o)):o.children&&i.push(this.processRoutes(t,o.children))}}catch(s){r.e(s)}finally{r.f()}return J(i).pipe(ot(),q(function(t){}))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return(e._loadedConfig?Rp(e._loadedConfig):n.loader.load(t.injector,e)).pipe(nt(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})}}]),t}()).\u0275fac=function(t){return new(t||Hm)(Ei(Wm),Ei(Cc),Ei(tc),Ei(Ea),Ei(Xm))},Hm.\u0275prov=At({token:Hm,factory:Hm.\u0275fac}),Hm),Jm=((Gm=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};m(this,t),this.router=e,this.viewportScroller=n,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}return y(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof vd?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof bd&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Nd&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new Nd(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||Gm)(Ei(Wm),Ei(Wh),Ei(void 0))},Gm.\u0275prov=At({token:Gm,factory:Gm.\u0275fac}),Gm),Qm=new si("ROUTER_CONFIGURATION"),t_=new si("ROUTER_FORROOT_GUARD"),e_=[ih,{provide:Qd,useClass:tg},{provide:Wm,useFactory:function(t,e,n,i,r,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,c=new Wm(null,t,e,n,i,r,o,Vd(a));if(u&&(c.urlHandlingStrategy=u),l&&(c.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(s,c),s.enableTracing){var h=Rc();c.events.subscribe(function(t){h.logGroup("Router Event: ".concat(t.constructor.name)),h.log(t.toString()),h.log(t),h.logGroupEnd()})}return c},deps:[Qd,zm,ih,Ea,Cc,tc,Nm,Qm,[function(){return function t(){m(this,t)}}(),new Oi],[function(){return function t(){m(this,t)}}(),new Oi]]},zm,{provide:xg,useFactory:function(t){return t.routerState.root},deps:[Wm]},{provide:Cc,useClass:Pc},$m,Km,function(){function t(){m(this,t)}return y(t,[{key:"preload",value:function(t,e){return e().pipe(Jf(function(){return Rp(null)}))}}]),t}(),{provide:Qm,useValue:{enableTracing:!1}}];function n_(){return new yc("Router",Wm)}var i_,r_=((i_=function(){function t(e,n){m(this,t)}return y(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[e_,u_(e),{provide:t_,useFactory:s_,deps:[[Wm,new Oi,new Li]]},{provide:Qm,useValue:n||{}},{provide:Xc,useFactory:a_,deps:[Fc,[new Ti(th),new Oi],Qm]},{provide:Jm,useFactory:o_,deps:[Wm,Wh,Qm]},{provide:Xm,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Km},{provide:yc,multi:!0,useFactory:n_},[c_,{provide:Dl,multi:!0,useFactory:h_,deps:[c_]},{provide:d_,useFactory:p_,deps:[c_]},{provide:ql,multi:!0,useExisting:d_}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[u_(e)]}}}]),t}()).\u0275fac=function(t){return new(t||i_)(Ei(t_,8),Ei(Wm,8))},i_.\u0275mod=ce({type:i_}),i_.\u0275inj=Pt({}),i_);function o_(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Jm(t,e,n)}function a_(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new nh(t,e):new eh(t,e)}function s_(t){return"guarded"}function u_(t){return[{provide:ui,multi:!0,useValue:t},{provide:Nm,multi:!0,useValue:t}]}var l_,c_=((l_=function(){function t(e){m(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new j}return y(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(Vc,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),i=t.injector.get(Wm),r=t.injector.get(Qm);return"disabled"===r.initialNavigation?(i.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(i.hooks.afterPreactivation=function(){return t.initNavigation?Rp(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},i.initialNavigation()):e(!0),n})}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(Qm),n=this.injector.get($m),i=this.injector.get(Jm),r=this.injector.get(Wm),o=this.injector.get(Ec);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||r.initialNavigation(),n.setUpPreloading(),i.init(),r.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),t}()).\u0275fac=function(t){return new(t||l_)(Ei(Ea))},l_.\u0275prov=At({token:l_,factory:l_.\u0275fac}),l_);function h_(t){return t.appInitializer.bind(t)}function p_(t){return t.bootstrapListener.bind(t)}var f_,d_=new si("Router Initializer"),g_=[{path:"**",redirectTo:"/map",pathMatch:"full"}],m_=((f_=function t(){m(this,t)}).\u0275fac=function(t){return new(t||f_)},f_.\u0275mod=ce({type:f_}),f_.\u0275inj=Pt({imports:[[r_.forRoot(g_)],r_]}),f_),__=d("6BPK"),y_=d.n(__),v_=d("uUT0"),b_=function(t,e,n,i){var r="",o="";if(n){var a=new Date;a.setTime(a.getTime()+60*n*1e3),r="; expires="+a.toGMTString()}i&&(o="; domain="+i),document.cookie=t+"="+escape(e)+r+o+"; path=/"},w_={urlPrefix:"",visitsUrl:"/ahoy/visits",eventsUrl:"/ahoy/events",page:null,platform:"Web",useBeacon:!0,startOnReady:!0,trackVisits:!0,cookies:!0,cookieDomain:null,headers:{},visitParams:{},withCredentials:!1,visitDuration:240,visitorDuration:1051200},x_=window.ahoy||window.Ahoy||{};x_.configure=function(t){for(var e in t)t.hasOwnProperty(e)&&(w_[e]=t[e])},x_.configure(x_);var k_,E_,S_,C_,I_=window.jQuery||window.Zepto||window.$,A_=!1,P_=[],T_="undefined"!=typeof JSON&&void 0!==JSON.stringify,O_=[];function L_(){return w_.urlPrefix+w_.eventsUrl}function M_(t,e,n){b_(t,e,n,w_.cookieDomain||w_.domain)}function N_(t){return function(t){var e,n,i=t+"=",r=document.cookie.split(";");for(e=0;e<r.length;e++){for(n=r[e];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(i))return unescape(n.substring(i.length,n.length))}return null}(t)}function R_(t){b_(t,"",-1)}function D_(t){N_("ahoy_debug")&&window.console.log(t)}function z_(){for(var t;t=P_.shift();)t();A_=!0}function F_(t,e){var n=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return n?n.apply(t,[e])?t:t.parentElement?F_(t.parentElement,e):null:(D_("Unable to match"),null)}function B_(t,e,n){document.addEventListener(t,function(t){var i=F_(t.target,e);i&&n.call(i,t)})}function j_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}function V_(){w_.cookies&&T_&&M_("ahoy_events",JSON.stringify(O_),1)}function U_(){var t=document.querySelector("meta[name=csrf-token]");return t&&t.content}function q_(t){var e=U_();e&&t.setRequestHeader("X-CSRF-Token",e)}function G_(t,e,n){if(T_)if(I_&&I_.ajax)I_.ajax({type:"POST",url:t,data:JSON.stringify(e),contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:q_,success:n,headers:w_.headers,xhrFields:{withCredentials:w_.withCredentials}});else{var i=new XMLHttpRequest;for(var r in i.open("POST",t,!0),i.withCredentials=w_.withCredentials,i.setRequestHeader("Content-Type","application/json"),w_.headers)w_.headers.hasOwnProperty(r)&&i.setRequestHeader(r,w_.headers[r]);i.onload=function(){200===i.status&&n()},q_(i),i.send(JSON.stringify(e))}}function H_(t){var e={events:[t]};return w_.cookies&&(e.visit_token=t.visit_token,e.visitor_token=t.visitor_token),delete t.visit_token,delete t.visitor_token,e}function W_(t){x_.ready(function(){G_(L_(),H_(t),function(){for(var e=0;e<O_.length;e++)if(O_[e].id==t.id){O_.splice(e,1);break}V_()})})}function Y_(){return w_.page||window.location.pathname}function Z_(t){return t&&t.length>0?t:null}function X_(t){return function(t){for(var e in t)t.hasOwnProperty(e)&&null===t[e]&&delete t[e];return t}({tag:this.tagName.toLowerCase(),id:Z_(this.id),class:Z_(this.className),page:Y_(),section:K_(this)})}function K_(t){for(;t&&t!==document;t=t.parentNode)if(t.hasAttribute("data-section"))return t.getAttribute("data-section");return null}function $_(){if(A_=!1,k_=x_.getVisitId(),E_=x_.getVisitorId(),S_=N_("ahoy_track"),!1===w_.cookies||!1===w_.trackVisits)D_("Visit tracking disabled"),z_();else if(k_&&E_&&!S_)D_("Active visit"),z_();else if(k_||M_("ahoy_visit",k_=j_(),w_.visitDuration),N_("ahoy_visit")){D_("Visit started"),E_||M_("ahoy_visitor",E_=j_(),w_.visitorDuration);var t={visit_token:k_,visitor_token:E_,platform:w_.platform,landing_page:window.location.href,screen_width:window.screen.width,screen_height:window.screen.height,js:!0};for(var e in document.referrer.length>0&&(t.referrer=document.referrer),w_.visitParams)w_.visitParams.hasOwnProperty(e)&&(t[e]=w_.visitParams[e]);D_(t),G_(w_.urlPrefix+w_.visitsUrl,t,function(){R_("ahoy_track"),z_()})}else D_("Cookies disabled"),z_()}x_.ready=function(t){A_?t():P_.push(t)},x_.getVisitId=x_.getVisitToken=function(){return N_("ahoy_visit")},x_.getVisitorId=x_.getVisitorToken=function(){return N_("ahoy_visitor")},x_.reset=function(){return R_("ahoy_visit"),R_("ahoy_visitor"),R_("ahoy_events"),R_("ahoy_track"),!0},x_.debug=function(t){return!1===t?R_("ahoy_debug"):M_("ahoy_debug","t",525600),!0},x_.track=function(t,e){var n={name:t,properties:e||{},time:(new Date).getTime()/1e3,id:j_(),js:!0};return x_.ready(function(){w_.cookies&&!x_.getVisitId()&&$_(),x_.ready(function(){D_(n),n.visit_token=x_.getVisitId(),n.visitor_token=x_.getVisitorId(),(w_.useBeacon||w_.trackNow)&&0===Object.keys(w_.headers).length&&T_&&void 0!==window.navigator.sendBeacon&&!w_.withCredentials?function(t){x_.ready(function(){var e,n=H_(t),i=(e=document.querySelector("meta[name=csrf-param]"))&&e.content,r=U_();i&&r&&(n[i]=r),n.events_json=JSON.stringify(n.events),delete n.events,window.navigator.sendBeacon(L_(),Object(v_.serialize)(n))})}(n):(O_.push(n),V_(),setTimeout(function(){W_(n)},1e3))})}),!0},x_.trackView=function(t){var e={url:window.location.href,title:document.title,page:Y_()};if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);x_.track("$view",e)},x_.trackClicks=function(){B_("click","a, button, input[type=submit]",function(t){var e=X_.call(this,t);e.text="input"==e.tag?this.value:(this.textContent||this.innerText||this.innerHTML).replace(/[\s\r\n]+/g," ").trim(),e.href=this.href,x_.track("$click",e)})},x_.trackSubmits=function(){B_("submit","form",function(t){var e=X_.call(this,t);x_.track("$submit",e)})},x_.trackChanges=function(){B_("change","input, textarea, select",function(t){var e=X_.call(this,t);x_.track("$change",e)})},x_.trackAll=function(){x_.trackView(),x_.trackClicks(),x_.trackSubmits(),x_.trackChanges()};try{O_=JSON.parse(N_("ahoy_events")||"[]")}catch(bD){}for(var J_=0;J_<O_.length;J_++)W_(O_[J_]);x_.start=function(){$_(),x_.start=function(){}},C_=function(){w_.startOnReady&&x_.start()},"interactive"===document.readyState||"complete"===document.readyState?setTimeout(C_,0):document.addEventListener("DOMContentLoaded",C_);var Q_,ty,ey=x_,ny=d("xBuE"),iy=((Q_=function(){function t(){m(this,t),this.showingRoute=!1,this.mapReady=!1,this.routeFoundListener=new j,this.showRouteListener=new j,this.mapReadyListener=new j,this.resetViewListener=new j}return y(t,[{key:"getRouteFoundListener",value:function(){return this.routeFoundListener.asObservable()}},{key:"getMapReadyListener",value:function(){return this.mapReadyListener.asObservable()}},{key:"getShowRouteListener",value:function(){return this.showRouteListener.asObservable()}},{key:"getResetViewListener",value:function(){return this.resetViewListener.asObservable()}}]),t}()).\u0275fac=function(t){return new(t||Q_)},Q_.\u0275prov=At({token:Q_,factory:Q_.\u0275fac,providedIn:"root"}),Q_),ry=d("jXTf"),oy=d("Jlhj"),ay=d("j5an"),sy=d.n(ay),uy=d("kw4C"),ly=((ty=function t(){m(this,t),this.state={initializing:!0,floor:new ry.FloorModel({}),floors:[],place:new oy.PlaceModel({}),places:[],style:new sy.a({}),styles:[],allFeatures:new uy.FeatureCollection({}),amenities:[],loadingRoute:!1,noPlaces:!1,options:{zoom:18,pitch:40,bearing:10},defaultLocation:{coordinates:[55.20090240716519,25.11959496138134],level:0},textNavigation:null,accessibleRoute:!1,kioskMode:!1,kiosks:[{name:"kiosk",latitude:25.11839772802756,longitude:55.20227480783245,level:0,pitch:40,bearing:10,poiId:"75698d35-0918-4a2b-a8ab-77b93a618e61:6a4d5a0d-3d74-4c51-a8d2-bf4292541181"}],startPoiId:"75698d35-0918-4a2b-a8ab-77b93a618e61:52c53790-2acf-4271-8a32-4b1c99b3227a",startPoi:null}}).\u0275prov=At({token:ty,factory:ty.\u0275fac=function(t){return new(t||ty)},providedIn:"root"}),ty);function cy(t){return null!=t&&"false"!="".concat(t)}function hy(t){return Array.isArray(t)?t:[t]}function py(t){return null==t?"":"string"==typeof t?t:"".concat(t,"px")}function fy(t){return t instanceof iu?t.nativeElement:t}function dy(t,e,n,i){return g(n)&&(i=n,n=void 0),i?dy(t,e,n).pipe(q(function(t){return x(t)?i.apply(void 0,p(t)):i(t)})):new N(function(i){gy(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,n)})}function gy(t,e,n,i,r){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var a=t;t.addEventListener(e,n,r),o=function(){return a.removeEventListener(e,n,r)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var s=t;t.on(e,n),o=function(){return s.off(e,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var u=t;t.addListener(e,n),o=function(){return u.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var l=0,c=t.length;l<c;l++)gy(t[l],e,n,i,r)}i.add(o)}var my=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r.pending=!1,r}return y(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n,i=!1;try{this.work(t)}catch(bD){i=!0,n=!!bD&&bD||new Error(bD)}if(i)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){o(n,t);var e=s(n);function n(t,i){return m(this,n),e.call(this)}return y(n,[{key:"schedule",value:function(t){return this}}]),n}(C)),_y=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r}return y(n,[{key:"requestAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?r(h(n.prototype),"requestAsyncId",this).call(this,t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))}},{key:"recycleAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return r(h(n.prototype),"recycleAsyncId",this).call(this,t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}]),n}(my),yy=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;m(this,t),this.SchedulerAction=e,this.now=n}return y(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),vy=function(t){o(n,t);var e=s(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yy.now;return m(this,n),(i=e.call(this,t,function(){return n.delegate&&n.delegate!==l(i)?n.delegate.now():r()})).actions=[],i.active=!1,i.scheduled=void 0,i}return y(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,i):r(h(n.prototype),"schedule",this).call(this,t,e,i)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(yy),by=new(function(t){o(n,t);var e=s(n);function n(){return m(this,n),e.apply(this,arguments)}return y(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,i=-1,r=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<r&&(t=n.shift()));if(this.active=!1,e){for(;++i<r&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(vy))(_y),wy=1,xy=Promise.resolve(),ky={};function Ey(t){return t in ky&&(delete ky[t],!0)}var Sy=function(t){var e=wy++;return ky[e]=!0,xy.then(function(){return Ey(e)&&t()}),e},Cy=function(t){Ey(t)},Iy=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r}return y(n,[{key:"requestAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?r(h(n.prototype),"requestAsyncId",this).call(this,t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=Sy(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return r(h(n.prototype),"recycleAsyncId",this).call(this,t,e,i);0===t.actions.length&&(Cy(e),t.scheduled=void 0)}}]),n}(my),Ay=new(function(t){o(n,t);var e=s(n);function n(){return m(this,n),e.apply(this,arguments)}return y(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,i=-1,r=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<r&&(t=n.shift()));if(this.active=!1,e){for(;++i<r&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(vy))(Iy);function Py(t){return!!t&&(t instanceof N||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var Ty=function(){function t(e,n){m(this,t),this.compare=e,this.keySelector=n}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new Oy(t,this.compare,this.keySelector))}}]),t}(),Oy=function(t){o(n,t);var e=s(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this,t)).keySelector=r,o.hasKey=!1,"function"==typeof i&&(o.compare=i),o}return y(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(r){return this.destination.error(r)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}]),n}(P),Ly=new vy(my),My=function(){function t(e){m(this,t),this.durationSelector=e}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new Ny(t,this.durationSelector))}}]),t}(),Ny=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t)).durationSelector=i,r.hasValue=!1,r}return y(n,[{key:"_next",value:function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e;try{e=(0,this.durationSelector)(t)}catch(i){return this.destination.error(i)}var n=et(e,new Q(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}},{key:"notifyNext",value:function(){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(tt);function Ry(t){return!x(t)&&t-parseFloat(t)+1>=0}function Dy(t){var e=t.index,n=t.period,i=t.subscriber;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function zy(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ly;return e=function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=-1;return Ry(e)?i=Number(e)<1?1:Number(e):U(e)&&(n=e),U(n)||(n=Ly),new N(function(e){var r=Ry(t)?t:+t-n.now();return n.schedule(Dy,r,{index:0,period:i,subscriber:e})})}(t,n)},function(t){return t.lift(new My(e))}}function Fy(t){return function(e){return e.lift(new Vy(t))}}var By,jy,Vy=function(){function t(e){m(this,t),this.notifier=e}return y(t,[{key:"call",value:function(t,e){var n=new Uy(t),i=et(this.notifier,new Q(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}]),t}(),Uy=function(t){o(n,t);var e=s(n);function n(t){var i;return m(this,n),(i=e.call(this,t)).seenValue=!1,i}return y(n,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(tt),qy=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r}return y(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?r(h(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?r(h(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0||null===i&&this.delay>0?r(h(n.prototype),"requestAsyncId",this).call(this,t,e,i):t.flush(this)}}]),n}(my),Gy=new(function(t){o(n,t);var e=s(n);function n(){return m(this,n),e.apply(this,arguments)}return n}(vy))(qy),Hy=((jy=function(){function t(e,n,i){m(this,t),this.kind=e,this.value=n,this.error=i,this.hasValue="N"===e}return y(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Rp(this.value);case"E":return t=this.error,new N(function(e){return e.error(t)});case"C":return Bf()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new jy("C"),jy.undefinedValueNotification=new jy("N",void 0),jy),Wy=function(t){o(n,t);var e=s(n);function n(t,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return m(this,n),(r=e.call(this,t)).scheduler=i,r.delay=o,r}return y(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new Yy(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(Hy.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(Hy.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(Hy.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(P),Yy=function t(e,n){m(this,t),this.notification=e,this.destination=n},Zy=function(t){o(n,t);var e=s(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return m(this,n),(t=e.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=i<1?1:i,t._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return y(n,[{key:"nextInfiniteTimeWindow",value:function(t){if(!this.isStopped){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}r(h(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this.isStopped||(this._events.push(new Xy(this._getNow(),t)),this._trimBufferThenGetEvents()),r(h(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,o=i.length;if(this.closed)throw new z;if(this.isStopped||this.hasError?e=C.EMPTY:(this.observers.push(t),e=new F(this,t)),r&&t.add(t=new Wy(t,r)),n)for(var a=0;a<o&&!t.closed;a++)t.next(i[a]);else for(var s=0;s<o&&!t.closed;s++)t.next(i[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||Gy).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length,o=0;o<r&&!(t-i[o].time<n);)o++;return r>e&&(o=Math.max(o,r-e)),o>0&&i.splice(0,o),i}}]),n}(j),Xy=function t(e,n){m(this,t),this.time=e,this.value=n};function Ky(t,e,n){var i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,i=t.bufferSize,r=void 0===i?Number.POSITIVE_INFINITY:i,o=t.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,s=t.refCount,u=t.scheduler,l=0,c=!1,h=!1;return function(t){var i;l++,!e||c?(c=!1,e=new Zy(r,a,u),i=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){c=!0,e.error(t)},complete:function(){h=!0,n=void 0,e.complete()}}),h&&(n=void 0)):i=e.subscribe(this),this.add(function(){l--,i.unsubscribe(),i=void 0,n&&!h&&s&&0===l&&(n.unsubscribe(),n=void 0,e=void 0)})}}(i))}}try{By="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(wD){By=!1}var $y,Jy,Qy,tv,ev,nv,iv=((Qy=function t(e){m(this,t),this._platformId=e,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!By)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}).\u0275fac=function(t){return new(t||Qy)(Ei(Ul))},Qy.\u0275prov=At({factory:function(){return new Qy(Ei(Ul))},token:Qy,providedIn:"root"}),Qy),rv=((Jy=function t(){m(this,t)}).\u0275fac=function(t){return new(t||Jy)},Jy.\u0275mod=ce({type:Jy}),Jy.\u0275inj=Pt({}),Jy),ov=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function av(){if($y)return $y;if("object"!=typeof document||!document)return $y=new Set(ov);var t=document.createElement("input");return $y=new Set(ov.filter(function(e){return t.setAttribute("type",e),t.type===e}))}function sv(t){return function(){if(null==tv&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return tv=!0}}))}finally{tv=tv||!1}return tv}()?t:!!t.capture}function uv(t){if(function(){if(null==nv){var t="undefined"!=typeof document?document.head:null;nv=!(!t||!t.createShadowRoot&&!t.attachShadow)}return nv}()){var e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}var lv,cv,hv,pv,fv,dv,gv,mv,_v,yv=new si("cdk-dir-doc",{providedIn:"root",factory:function(){return Si(zc)}}),vv=((gv=function(){function t(e){if(m(this,t),this.value="ltr",this.change=new gl,e){var n=e.documentElement?e.documentElement.dir:null,i=(e.body?e.body.dir:null)||n;this.value="ltr"===i||"rtl"===i?i:"ltr"}}return y(t,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),t}()).\u0275fac=function(t){return new(t||gv)(Ei(yv,8))},gv.\u0275prov=At({factory:function(){return new gv(Ei(yv,8))},token:gv,providedIn:"root"}),gv),bv=((dv=function t(){m(this,t)}).\u0275fac=function(t){return new(t||dv)},dv.\u0275mod=ce({type:dv}),dv.\u0275inj=Pt({}),dv),wv=((fv=function(){function t(){m(this,t),this._listeners=[]}return y(t,[{key:"notify",value:function(t,e){var n,i=f(this._listeners);try{for(i.s();!(n=i.n()).done;)(0,n.value)(t,e)}catch(r){i.e(r)}finally{i.f()}}},{key:"listen",value:function(t){var e=this;return this._listeners.push(t),function(){e._listeners=e._listeners.filter(function(e){return t!==e})}}},{key:"ngOnDestroy",value:function(){this._listeners=[]}}]),t}()).\u0275fac=function(t){return new(t||fv)},fv.\u0275prov=At({factory:function(){return new fv},token:fv,providedIn:"root"}),fv),xv=((pv=function(){function t(e,n,i){m(this,t),this._ngZone=e,this._platform=n,this._scrolled=new j,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}return y(t,[{key:"register",value:function(t){var e=this;this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(function(){return e._scrolled.next(t)}))}},{key:"deregister",value:function(t){var e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}},{key:"scrolled",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new N(function(n){t._globalSubscription||t._addGlobalListener();var i=e>0?t._scrolled.pipe(zy(e)).subscribe(n):t._scrolled.subscribe(n);return t._scrolledCount++,function(){i.unsubscribe(),t._scrolledCount--,t._scrolledCount||t._removeGlobalListener()}}):Rp()}},{key:"ngOnDestroy",value:function(){var t=this;this._removeGlobalListener(),this.scrollContainers.forEach(function(e,n){return t.deregister(n)}),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(t,e){var n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(zp(function(t){return!t||n.indexOf(t)>-1}))}},{key:"getAncestorScrollContainers",value:function(t){var e=this,n=[];return this.scrollContainers.forEach(function(i,r){e._scrollableContainsElement(r,t)&&n.push(r)}),n}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_scrollableContainsElement",value:function(t,e){var n=fy(e),i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var t=this;this._globalSubscription=this._ngZone.runOutsideAngular(function(){return dy(t._getWindow().document,"scroll").subscribe(function(){return t._scrolled.next()})})}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),t}()).\u0275fac=function(t){return new(t||pv)(Ei(ic),Ei(iv),Ei(zc,8))},pv.\u0275prov=At({factory:function(){return new pv(Ei(ic),Ei(iv),Ei(zc,8))},token:pv,providedIn:"root"}),pv),kv=((hv=function(){function t(e,n,i){var r=this;m(this,t),this._platform=e,this._change=new j,this._changeListener=function(t){r._change.next(t)},this._document=i,n.runOutsideAngular(function(){if(e.isBrowser){var t=r._getWindow();t.addEventListener("resize",r._changeListener),t.addEventListener("orientationchange",r._changeListener)}r.change().subscribe(function(){return r._updateViewportSize()})})}return y(t,[{key:"ngOnDestroy",value:function(){if(this._platform.isBrowser){var t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}},{key:"getViewportRect",value:function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,i=e.height;return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+n,height:i,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=this._document,e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return t>0?this._change.pipe(zy(t)):this._change}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_updateViewportSize",value:function(){var t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}]),t}()).\u0275fac=function(t){return new(t||hv)(Ei(iv),Ei(ic),Ei(zc,8))},hv.\u0275prov=At({factory:function(){return new hv(Ei(iv),Ei(ic),Ei(zc,8))},token:hv,providedIn:"root"}),hv),Ev=((cv=function t(){m(this,t)}).\u0275fac=function(t){return new(t||cv)},cv.\u0275mod=ce({type:cv}),cv.\u0275inj=Pt({}),cv),Sv=((lv=function t(){m(this,t)}).\u0275fac=function(t){return new(t||lv)},lv.\u0275mod=ce({type:lv}),lv.\u0275inj=Pt({imports:[[bv,rv,Ev],bv,Ev]}),lv),Cv=function(){function t(){m(this,t)}return y(t,[{key:"attach",value:function(t){return this._attachedHost=t,t.attach(this)}},{key:"detach",value:function(){var t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}},{key:"isAttached",get:function(){return null!=this._attachedHost}},{key:"setAttachedHost",value:function(t){this._attachedHost=t}}]),t}(),Iv=function(t){o(n,t);var e=s(n);function n(t,i,r,o){var a;return m(this,n),(a=e.call(this)).component=t,a.viewContainerRef=i,a.injector=r,a.componentFactoryResolver=o,a}return n}(Cv),Av=function(t){o(n,t);var e=s(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this)).templateRef=t,o.viewContainerRef=i,o.context=r,o}return y(n,[{key:"origin",get:function(){return this.templateRef.elementRef}},{key:"attach",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.context;return this.context=e,r(h(n.prototype),"attach",this).call(this,t)}},{key:"detach",value:function(){return this.context=void 0,r(h(n.prototype),"detach",this).call(this)}}]),n}(Cv),Pv=function(t){o(n,t);var e=s(n);function n(t){var i;return m(this,n),(i=e.call(this)).element=t instanceof iu?t.nativeElement:t,i}return n}(Cv),Tv=function(){function t(){m(this,t),this._isDisposed=!1,this.attachDomPortal=null}return y(t,[{key:"hasAttached",value:function(){return!!this._attachedPortal}},{key:"attach",value:function(t){return t instanceof Iv?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Av?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Pv?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}},{key:"detach",value:function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}},{key:"dispose",value:function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}},{key:"setDisposeFn",value:function(t){this._disposeFn=t}},{key:"_invokeDisposeFn",value:function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}]),t}(),Ov=function(t){o(n,t);var e=s(n);function n(t,i,o,a,s){var u,c;return m(this,n),(c=e.call(this)).outletElement=t,c._componentFactoryResolver=i,c._appRef=o,c._defaultInjector=a,c.attachDomPortal=function(t){var e=t.element,i=c._document.createComment("dom-portal");e.parentNode.insertBefore(i,e),c.outletElement.appendChild(e),c._attachedPortal=t,r((u=l(c),h(n.prototype)),"setDisposeFn",u).call(u,function(){i.parentNode&&i.parentNode.replaceChild(e,i)})},c._document=s,c}return y(n,[{key:"attachComponentPortal",value:function(t){var e,n=this,i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);return t.viewContainerRef?(e=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(function(){return e.destroy()})):(e=i.create(t.injector||this._defaultInjector),this._appRef.attachView(e.hostView),this.setDisposeFn(function(){n._appRef.detachView(e.hostView),e.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=t,e}},{key:"attachTemplatePortal",value:function(t){var e=this,n=t.viewContainerRef,i=n.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(function(t){return e.outletElement.appendChild(t)}),i.detectChanges(),this.setDisposeFn(function(){var t=n.indexOf(i);-1!==t&&n.remove(t)}),this._attachedPortal=t,i}},{key:"dispose",value:function(){r(h(n.prototype),"dispose",this).call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}},{key:"_getComponentRootNode",value:function(t){return t.hostView.rootNodes[0]}}]),n}(Tv),Lv=((_v=function(t){o(n,t);var e=s(n);function n(t,i,o){var a,s;return m(this,n),(s=e.call(this))._componentFactoryResolver=t,s._viewContainerRef=i,s._isInitialized=!1,s.attached=new gl,s.attachDomPortal=function(t){var e=t.element,i=s._document.createComment("dom-portal");t.setAttachedHost(l(s)),e.parentNode.insertBefore(i,e),s._getRootNode().appendChild(e),s._attachedPortal=t,r((a=l(s),h(n.prototype)),"setDisposeFn",a).call(a,function(){i.parentNode&&i.parentNode.replaceChild(e,i)})},s._document=o,s}return y(n,[{key:"portal",get:function(){return this._attachedPortal},set:function(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&r(h(n.prototype),"detach",this).call(this),t&&r(h(n.prototype),"attach",this).call(this,t),this._attachedPortal=t)}},{key:"attachedRef",get:function(){return this._attachedRef}},{key:"ngOnInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){r(h(n.prototype),"dispose",this).call(this),this._attachedPortal=null,this._attachedRef=null}},{key:"attachComponentPortal",value:function(t){t.setAttachedHost(this);var e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=e.createComponent(i,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),r(h(n.prototype),"setDisposeFn",this).call(this,function(){return o.destroy()}),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}},{key:"attachTemplatePortal",value:function(t){var e=this;t.setAttachedHost(this);var i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return r(h(n.prototype),"setDisposeFn",this).call(this,function(){return e._viewContainerRef.clear()}),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}},{key:"_getRootNode",value:function(){var t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}]),n}(Tv)).\u0275fac=function(t){return new(t||_v)(qa(Qs),qa(Vu),qa(zc))},_v.\u0275dir=pe({type:_v,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ca]}),_v),Mv=((mv=function t(){m(this,t)}).\u0275fac=function(t){return new(t||mv)},mv.\u0275mod=ce({type:mv}),mv.\u0275inj=Pt({}),mv);function Nv(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.length?n.some(function(e){return t[e]}):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var Rv=function(){if(null==ev){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ev=!1;if("scrollBehavior"in document.documentElement.style)ev=!0;else{var t=Element.prototype.scrollTo;ev=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return ev}(),Dv=function(){function t(e,n){m(this,t),this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}return y(t,[{key:"attach",value:function(){}},{key:"enable",value:function(){if(this._canBeEnabled()){var t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=py(-this._previousScrollPosition.left),t.style.top=py(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}},{key:"disable",value:function(){if(this._isEnabled){var t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Rv&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Rv&&(e.scrollBehavior=i,n.scrollBehavior=r)}}},{key:"_canBeEnabled",value:function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}]),t}(),zv=function(){function t(e,n,i,r){var o=this;m(this,t),this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=function(){o.disable(),o._overlayRef.hasAttached()&&o._ngZone.run(function(){return o._overlayRef.detach()})}}return y(t,[{key:"attach",value:function(t){this._overlayRef=t}},{key:"enable",value:function(){var t=this;if(!this._scrollSubscription){var e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(function(){var e=t._viewportRuler.getViewportScrollPosition().top;Math.abs(e-t._initialScrollPosition)>t._config.threshold?t._detach():t._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),Fv=function(){function t(){m(this,t)}return y(t,[{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"attach",value:function(){}}]),t}();function Bv(t,e){return e.some(function(e){return t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right})}function jv(t,e){return e.some(function(e){return t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right})}var Vv,Uv,qv,Gv,Hv,Wv=function(){function t(e,n,i,r){m(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this._config=r,this._scrollSubscription=null}return y(t,[{key:"attach",value:function(t){this._overlayRef=t}},{key:"enable",value:function(){var t=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(function(){if(t._overlayRef.updatePosition(),t._config&&t._config.autoClose){var e=t._overlayRef.overlayElement.getBoundingClientRect(),n=t._viewportRuler.getViewportSize(),i=n.width,r=n.height;Bv(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(t.disable(),t._ngZone.run(function(){return t._overlayRef.detach()}))}}))}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),Yv=((Vv=function t(e,n,i,r){var o=this;m(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this.noop=function(){return new Fv},this.close=function(t){return new zv(o._scrollDispatcher,o._ngZone,o._viewportRuler,t)},this.block=function(){return new Dv(o._viewportRuler,o._document)},this.reposition=function(t){return new Wv(o._scrollDispatcher,o._viewportRuler,o._ngZone,t)},this._document=r}).\u0275fac=function(t){return new(t||Vv)(Ei(xv),Ei(kv),Ei(ic),Ei(zc))},Vv.\u0275prov=At({factory:function(){return new Vv(Ei(xv),Ei(kv),Ei(ic),Ei(zc))},token:Vv,providedIn:"root"}),Vv),Zv=function t(e){if(m(this,t),this.scrollStrategy=new Fv,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e)for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];void 0!==e[r]&&(this[r]=e[r])}},Xv=function t(e,n,i,r,o){m(this,t),this.offsetX=i,this.offsetY=r,this.panelClass=o,this.originX=e.originX,this.originY=e.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY},Kv=function t(e,n){m(this,t),this.connectionPair=e,this.scrollableViewProperties=n},$v=((Gv=function(){function t(e){m(this,t),this._attachedOverlays=[],this._document=e}return y(t,[{key:"ngOnDestroy",value:function(){this.detach()}},{key:"add",value:function(t){this.remove(t),this._attachedOverlays.push(t)}},{key:"remove",value:function(t){var e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}]),t}()).\u0275fac=function(t){return new(t||Gv)(Ei(zc))},Gv.\u0275prov=At({factory:function(){return new Gv(Ei(zc))},token:Gv,providedIn:"root"}),Gv),Jv=((qv=function(t){o(n,t);var e=s(n);function n(t){var i;return m(this,n),(i=e.call(this,t))._keydownListener=function(t){for(var e=i._attachedOverlays,n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}},i}return y(n,[{key:"add",value:function(t){r(h(n.prototype),"add",this).call(this,t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}},{key:"detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}]),n}($v)).\u0275fac=function(t){return new(t||qv)(Ei(zc))},qv.\u0275prov=At({factory:function(){return new qv(Ei(zc))},token:qv,providedIn:"root"}),qv),Qv=((Uv=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t))._platform=i,r._cursorStyleIsSet=!1,r._clickListener=function(t){for(var e=t.composedPath?t.composedPath()[0]:t.target,n=r._attachedOverlays.slice(),i=n.length-1;i>-1;i--){var o=n[i];if(!(o._outsidePointerEvents.observers.length<1)&&o.hasAttached()){if(o.overlayElement.contains(e))break;o._outsidePointerEvents.next(t)}}},r}return y(n,[{key:"add",value:function(t){if(r(h(n.prototype),"add",this).call(this,t),!this._isAttached){var e=this._document.body;e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=e.style.cursor,e.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}},{key:"detach",value:function(){if(this._isAttached){var t=this._document.body;t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}]),n}($v)).\u0275fac=function(t){return new(t||Uv)(Ei(zc),Ei(iv))},Uv.\u0275prov=At({factory:function(){return new Uv(Ei(zc),Ei(iv))},token:Uv,providedIn:"root"}),Uv),tb=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine),eb=((Hv=function(){function t(e,n){m(this,t),this._platform=n,this._document=e}return y(t,[{key:"ngOnDestroy",value:function(){var t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){if(this._platform.isBrowser||tb)for(var t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]'),e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e]);var n=this._document.createElement("div");n.classList.add("cdk-overlay-container"),tb?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}]),t}()).\u0275fac=function(t){return new(t||Hv)(Ei(zc),Ei(iv))},Hv.\u0275prov=At({factory:function(){return new Hv(Ei(zc),Ei(iv))},token:Hv,providedIn:"root"}),Hv),nb=function(){function t(e,n,i,r,o,a,s,u,l){var c=this;m(this,t),this._portalOutlet=e,this._host=n,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=u,this._outsideClickDispatcher=l,this._backdropElement=null,this._backdropClick=new j,this._attachments=new j,this._detachments=new j,this._locationChanges=C.EMPTY,this._backdropClickHandler=function(t){return c._backdropClick.next(t)},this._keydownEvents=new j,this._outsidePointerEvents=new j,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}return y(t,[{key:"overlayElement",get:function(){return this._pane}},{key:"backdropElement",get:function(){return this._backdropElement}},{key:"hostElement",get:function(){return this._host}},{key:"attach",value:function(t){var e=this,n=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Hf(1)).subscribe(function(){e.hasAttached()&&e.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(function(){return e.dispose()})),this._outsideClickDispatcher.add(this),n}},{key:"detach",value:function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}}},{key:"dispose",value:function(){var t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}},{key:"hasAttached",value:function(){return this._portalOutlet.hasAttached()}},{key:"backdropClick",value:function(){return this._backdropClick}},{key:"attachments",value:function(){return this._attachments}},{key:"detachments",value:function(){return this._detachments}},{key:"keydownEvents",value:function(){return this._keydownEvents}},{key:"outsidePointerEvents",value:function(){return this._outsidePointerEvents}},{key:"getConfig",value:function(){return this._config}},{key:"updatePosition",value:function(){this._positionStrategy&&this._positionStrategy.apply()}},{key:"updatePositionStrategy",value:function(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}},{key:"updateSize",value:function(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}},{key:"setDirection",value:function(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}},{key:"addPanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!0)}},{key:"removePanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!1)}},{key:"getDirection",value:function(){var t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}},{key:"updateScrollStrategy",value:function(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}},{key:"_updateElementDirection",value:function(){this._host.setAttribute("dir",this.getDirection())}},{key:"_updateElementSize",value:function(){if(this._pane){var t=this._pane.style;t.width=py(this._config.width),t.height=py(this._config.height),t.minWidth=py(this._config.minWidth),t.minHeight=py(this._config.minHeight),t.maxWidth=py(this._config.maxWidth),t.maxHeight=py(this._config.maxHeight)}}},{key:"_togglePointerEvents",value:function(t){this._pane.style.pointerEvents=t?"":"none"}},{key:"_attachBackdrop",value:function(){var t=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){t._backdropElement&&t._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}},{key:"_updateStackingOrder",value:function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}},{key:"detachBackdrop",value:function(){var t,e=this,n=this._backdropElement;if(n){var i=function i(){n&&(n.removeEventListener("click",e._backdropClickHandler),n.removeEventListener("transitionend",i),n.parentNode&&n.parentNode.removeChild(n)),e._backdropElement==n&&(e._backdropElement=null),e._config.backdropClass&&e._toggleClasses(n,e._config.backdropClass,!1),clearTimeout(t)};n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(function(){n.addEventListener("transitionend",i)}),n.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(function(){return setTimeout(i,500)})}}},{key:"_toggleClasses",value:function(t,e,n){var i=t.classList;hy(e).forEach(function(t){t&&(n?i.add(t):i.remove(t))})}},{key:"_detachContentWhenStable",value:function(){var t=this;this._ngZone.runOutsideAngular(function(){var e=t._ngZone.onStable.pipe(Fy(st(t._attachments,t._detachments))).subscribe(function(){t._pane&&t._host&&0!==t._pane.children.length||(t._pane&&t._config.panelClass&&t._toggleClasses(t._pane,t._config.panelClass,!1),t._host&&t._host.parentElement&&(t._previousHostParent=t._host.parentElement,t._previousHostParent.removeChild(t._host)),e.unsubscribe())})})}},{key:"_disposeScrollStrategy",value:function(){var t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}]),t}(),ib=/([A-Za-z%]+)$/,rb=function(){function t(e,n,i,r,o){m(this,t),this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new j,this._resizeSubscription=C.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}return y(t,[{key:"positions",get:function(){return this._preferredPositions}},{key:"attach",value:function(t){var e=this;this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(function(){e._isInitialRender=!0,e.apply()})}},{key:"apply",value:function(){if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();var t,e,n=this._originRect,i=this._overlayRect,r=this._viewportRect,o=[],a=f(this._preferredPositions);try{for(a.s();!(e=a.n()).done;){var s=e.value,u=this._getOriginPoint(n,s),l=this._getOverlayPoint(u,i,s),c=this._getOverlayFit(l,i,r,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,u);this._canFitWithFlexibleDimensions(c,l,r)?o.push({position:s,origin:u,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(u,s)}):(!t||t.overlayFit.visibleArea<c.visibleArea)&&(t={overlayFit:c,overlayPoint:l,originPoint:u,position:s,overlayRect:i})}}catch(y){a.e(y)}finally{a.f()}if(o.length){var h,p=null,d=-1,g=f(o);try{for(g.s();!(h=g.n()).done;){var m=h.value,_=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);_>d&&(d=_,p=m)}}catch(y){g.e(y)}finally{g.f()}return this._isPushed=!1,void this._applyPosition(p.position,p.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(t.position,t.originPoint);this._applyPosition(t.position,t.originPoint)}}},{key:"detach",value:function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}},{key:"dispose",value:function(){this._isDisposed||(this._boundingBox&&ob(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}},{key:"reapplyLastPosition",value:function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}},{key:"withScrollableContainers",value:function(t){return this._scrollables=t,this}},{key:"withPositions",value:function(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}},{key:"withViewportMargin",value:function(t){return this._viewportMargin=t,this}},{key:"withFlexibleDimensions",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hasFlexibleDimensions=t,this}},{key:"withGrowAfterOpen",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._growAfterOpen=t,this}},{key:"withPush",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._canPush=t,this}},{key:"withLockedPosition",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._positionLocked=t,this}},{key:"setOrigin",value:function(t){return this._origin=t,this}},{key:"withDefaultOffsetX",value:function(t){return this._offsetX=t,this}},{key:"withDefaultOffsetY",value:function(t){return this._offsetY=t,this}},{key:"withTransformOriginOn",value:function(t){return this._transformOriginSelector=t,this}},{key:"_getOriginPoint",value:function(t,e){var n;if("center"==e.originX)n=t.left+t.width/2;else{var i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return{x:n,y:"center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}},{key:"_getOverlayPoint",value:function(t,e,n){var i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+r}}},{key:"_getOverlayFit",value:function(t,e,n,i){var r=sb(e),o=t.x,a=t.y,s=this._getOffset(i,"x"),u=this._getOffset(i,"y");s&&(o+=s),u&&(a+=u);var l=0-a,c=a+r.height-n.height,h=this._subtractOverflows(r.width,0-o,o+r.width-n.width),p=this._subtractOverflows(r.height,l,c),f=h*p;return{visibleArea:f,isCompletelyWithinViewport:r.width*r.height===f,fitsInViewportVertically:p===r.height,fitsInViewportHorizontally:h==r.width}}},{key:"_canFitWithFlexibleDimensions",value:function(t,e,n){if(this._hasFlexibleDimensions){var i=n.bottom-e.y,r=n.right-e.x,o=ab(this._overlayRef.getConfig().minHeight),a=ab(this._overlayRef.getConfig().minWidth),s=t.fitsInViewportHorizontally||null!=a&&a<=r;return(t.fitsInViewportVertically||null!=o&&o<=i)&&s}return!1}},{key:"_pushOverlayOnScreen",value:function(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};var i,r,o=sb(e),a=this._viewportRect,s=Math.max(t.x+o.width-a.width,0),u=Math.max(t.y+o.height-a.height,0),l=Math.max(a.top-n.top-t.y,0),c=Math.max(a.left-n.left-t.x,0);return i=o.width<=a.width?c||-s:t.x<this._viewportMargin?a.left-n.left-t.x:0,r=o.height<=a.height?l||-u:t.y<this._viewportMargin?a.top-n.top-t.y:0,this._previousPushAmount={x:i,y:r},{x:t.x+i,y:t.y+r}}},{key:"_applyPosition",value:function(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){var n=this._getScrollVisibility(),i=new Kv(t,n);this._positionChanges.next(i)}this._isInitialRender=!1}},{key:"_setTransformOrigin",value:function(t){if(this._transformOriginSelector){var e,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i=t.overlayY;e="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(var r=0;r<n.length;r++)n[r].style.transformOrigin="".concat(e," ").concat(i)}}},{key:"_calculateBoundingBoxRect",value:function(t,e){var n,i,r,o,a,s,u=this._viewportRect,l=this._isRtl();if("top"===e.overlayY)i=t.y,n=u.height-i+this._viewportMargin;else if("bottom"===e.overlayY)r=u.height-t.y+2*this._viewportMargin,n=u.height-r+this._viewportMargin;else{var c=Math.min(u.bottom-t.y+u.top,t.y),h=this._lastBoundingBoxSize.height;n=2*c,i=t.y-c,n>h&&!this._isInitialRender&&!this._growAfterOpen&&(i=t.y-h/2)}if("end"===e.overlayX&&!l||"start"===e.overlayX&&l)s=u.width-t.x+this._viewportMargin,o=t.x-this._viewportMargin;else if("start"===e.overlayX&&!l||"end"===e.overlayX&&l)a=t.x,o=u.right-t.x;else{var p=Math.min(u.right-t.x+u.left,t.x),f=this._lastBoundingBoxSize.width;o=2*p,a=t.x-p,o>f&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.x-f/2)}return{top:i,left:a,bottom:r,right:s,width:o,height:n}}},{key:"_setBoundingBoxStyles",value:function(t,e){var n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{var r=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=py(n.height),i.top=py(n.top),i.bottom=py(n.bottom),i.width=py(n.width),i.left=py(n.left),i.right=py(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",r&&(i.maxHeight=py(r)),o&&(i.maxWidth=py(o))}this._lastBoundingBoxSize=n,ob(this._boundingBox.style,i)}},{key:"_resetBoundingBoxStyles",value:function(){ob(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}},{key:"_resetOverlayElementStyles",value:function(){ob(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}},{key:"_setOverlayElementStyles",value:function(t,e){var n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){var a=this._viewportRuler.getViewportScrollPosition();ob(n,this._getExactOverlayY(e,t,a)),ob(n,this._getExactOverlayX(e,t,a))}else n.position="static";var s="",u=this._getOffset(e,"x"),l=this._getOffset(e,"y");u&&(s+="translateX(".concat(u,"px) ")),l&&(s+="translateY(".concat(l,"px)")),n.transform=s.trim(),o.maxHeight&&(i?n.maxHeight=py(o.maxHeight):r&&(n.maxHeight="")),o.maxWidth&&(i?n.maxWidth=py(o.maxWidth):r&&(n.maxWidth="")),ob(this._pane.style,n)}},{key:"_getExactOverlayY",value:function(t,e,n){var i={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));var o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=o,"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":i.top=py(r.y),i}},{key:"_getExactOverlayX",value:function(t,e,n){var i={left:"",right:""},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n)),"right"===(this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?i.right=this._document.documentElement.clientWidth-(r.x+this._overlayRect.width)+"px":i.left=py(r.x),i}},{key:"_getScrollVisibility",value:function(){var t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(function(t){return t.getElementRef().nativeElement.getBoundingClientRect()});return{isOriginClipped:jv(t,n),isOriginOutsideView:Bv(t,n),isOverlayClipped:jv(e,n),isOverlayOutsideView:Bv(e,n)}}},{key:"_subtractOverflows",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.reduce(function(t,e){return t-Math.max(e,0)},t)}},{key:"_getNarrowedViewportRect",value:function(){var t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}},{key:"_isRtl",value:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"_hasExactPosition",value:function(){return!this._hasFlexibleDimensions||this._isPushed}},{key:"_getOffset",value:function(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}},{key:"_validatePositions",value:function(){}},{key:"_addPanelClasses",value:function(t){var e=this;this._pane&&hy(t).forEach(function(t){""!==t&&-1===e._appliedPanelClasses.indexOf(t)&&(e._appliedPanelClasses.push(t),e._pane.classList.add(t))})}},{key:"_clearPanelClasses",value:function(){var t=this;this._pane&&(this._appliedPanelClasses.forEach(function(e){t._pane.classList.remove(e)}),this._appliedPanelClasses=[])}},{key:"_getOriginRect",value:function(){var t=this._origin;if(t instanceof iu)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();var e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}]),t}();function ob(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function ab(t){if("number"!=typeof t&&null!=t){var e=i(t.split(ib),2),n=e[0],r=e[1];return r&&"px"!==r?null:parseFloat(n)}return t||null}function sb(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}var ub,lb,cb,hb=function(){function t(e,n,i,r,o,a,s){m(this,t),this._preferredPositions=[],this._positionStrategy=new rb(i,r,o,a,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,n),this.onPositionChange=this._positionStrategy.positionChanges}return y(t,[{key:"positions",get:function(){return this._preferredPositions}},{key:"attach",value:function(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}},{key:"dispose",value:function(){this._positionStrategy.dispose()}},{key:"detach",value:function(){this._positionStrategy.detach()}},{key:"apply",value:function(){this._positionStrategy.apply()}},{key:"recalculateLastPosition",value:function(){this._positionStrategy.reapplyLastPosition()}},{key:"withScrollableContainers",value:function(t){this._positionStrategy.withScrollableContainers(t)}},{key:"withFallbackPosition",value:function(t,e,n,i){var r=new Xv(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"withDirection",value:function(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}},{key:"withOffsetX",value:function(t){return this._positionStrategy.withDefaultOffsetX(t),this}},{key:"withOffsetY",value:function(t){return this._positionStrategy.withDefaultOffsetY(t),this}},{key:"withLockedPosition",value:function(t){return this._positionStrategy.withLockedPosition(t),this}},{key:"withPositions",value:function(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"setOrigin",value:function(t){return this._positionStrategy.setOrigin(t),this}}]),t}(),pb=function(){function t(){m(this,t),this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return y(t,[{key:"attach",value:function(t){var e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}},{key:"top",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}},{key:"left",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}},{key:"bottom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}},{key:"right",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}},{key:"width",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}},{key:"height",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}},{key:"centerHorizontally",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.left(t),this._justifyContent="center",this}},{key:"centerVertically",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.top(t),this._alignItems="center",this}},{key:"apply",value:function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),i=n.width,r=n.height,o=n.maxWidth,a=n.maxHeight,s=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),u=!("100%"!==r&&"100vh"!==r||a&&"100%"!==a&&"100vh"!==a);t.position=this._cssPosition,t.marginLeft=s?"0":this._leftOffset,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,s?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}}},{key:"dispose",value:function(){if(!this._isDisposed&&this._overlayRef){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}}]),t}(),fb=((lb=function(){function t(e,n,i,r){m(this,t),this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r}return y(t,[{key:"global",value:function(){return new pb}},{key:"connectedTo",value:function(t,e,n){return new hb(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}},{key:"flexibleConnectedTo",value:function(t){return new rb(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}]),t}()).\u0275fac=function(t){return new(t||lb)(Ei(kv),Ei(zc),Ei(iv),Ei(eb))},lb.\u0275prov=At({factory:function(){return new lb(Ei(kv),Ei(zc),Ei(iv),Ei(eb))},token:lb,providedIn:"root"}),lb),db=0,gb=((ub=function(){function t(e,n,i,r,o,a,s,u,l,c,h){m(this,t),this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=i,this._positionBuilder=r,this._keyboardDispatcher=o,this._injector=a,this._ngZone=s,this._document=u,this._directionality=l,this._location=c,this._outsideClickDispatcher=h}return y(t,[{key:"create",value:function(t){var e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new Zv(t);return r.direction=r.direction||this._directionality.value,new nb(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}},{key:"position",value:function(){return this._positionBuilder}},{key:"_createPaneElement",value:function(t){var e=this._document.createElement("div");return e.id="cdk-overlay-"+db++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}},{key:"_createHostElement",value:function(){var t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}},{key:"_createPortalOutlet",value:function(t){return this._appRef||(this._appRef=this._injector.get(Ec)),new Ov(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}]),t}()).\u0275fac=function(t){return new(t||ub)(Ei(Yv),Ei(eb),Ei(Qs),Ei(fb),Ei(Jv),Ei(Ea),Ei(ic),Ei(zc),Ei(vv),Ei(ih),Ei(Qv))},ub.\u0275prov=At({token:ub,factory:ub.\u0275fac}),ub),mb={provide:new si("cdk-connected-overlay-scroll-strategy"),deps:[gb],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},_b=((cb=function t(){m(this,t)}).\u0275fac=function(t){return new(t||cb)},cb.\u0275mod=ce({type:cb}),cb.\u0275inj=Pt({providers:[gb,mb],imports:[[bv,Mv,Sv],Sv]}),cb);function yb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var i=e[0];if(x(i))return vb(i,null);if(k(i)&&Object.getPrototypeOf(i)===Object.prototype){var r=Object.keys(i);return vb(r.map(function(t){return i[t]}),r)}}if("function"==typeof e[e.length-1]){var o=e.pop();return vb(e=1===e.length&&x(e[0])?e[0]:e,null).pipe(q(function(t){return o.apply(void 0,p(t))}))}return vb(e,null)}function vb(t,e){return new N(function(n){var i=t.length;if(0!==i)for(var r=new Array(i),o=0,a=0,s=function(s){var u=J(t[s]),l=!1;n.add(u.subscribe({next:function(t){l||(l=!0,a++),r[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==i&&l||(a===i&&n.next(e?e.reduce(function(t,e,n){return t[e]=r[n],t},{}):r),n.complete())}}))},u=0;u<i;u++)s(u);else n.complete()})}var bb,wb,xb=function t(){m(this,t)},kb=((bb=function(t){o(n,t);var e=s(n);function n(){return m(this,n),e.apply(this,arguments)}return y(n,[{key:"getTranslation",value:function(t){return Rp({})}}]),n}(xb)).\u0275fac=function(t){return Eb(t||bb)},bb.\u0275prov=At({token:bb,factory:bb.\u0275fac}),bb),Eb=ii(kb),Sb=function t(){m(this,t)},Cb=((wb=function(){function t(){m(this,t)}return y(t,[{key:"handle",value:function(t){return t.key}}]),t}()).\u0275fac=function(t){return new(t||wb)},wb.\u0275prov=At({token:wb,factory:wb.\u0275fac}),wb);function Ib(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var n,i,r,o=typeof t;if(o==typeof e&&"object"==o){if(!Array.isArray(t)){if(Array.isArray(e))return!1;for(i in r=Object.create(null),t){if(!Ib(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!(i in r)&&void 0!==e[i])return!1;return!0}if(!Array.isArray(e))return!1;if((n=t.length)==e.length){for(i=0;i<n;i++)if(!Ib(t[i],e[i]))return!1;return!0}}return!1}function Ab(t){return null!=t}function Pb(t){return t&&"object"==typeof t&&!Array.isArray(t)}function Tb(e,n){var i=Object.assign({},e);return Pb(e)&&Pb(n)&&Object.keys(n).forEach(function(r){Pb(n[r])&&r in e?i[r]=Tb(e[r],n[r]):Object.assign(i,t({},r,n[r]))}),i}var Ob,Lb,Mb,Nb,Rb,Db,zb=function t(){m(this,t)},Fb=((Ob=function(t){o(n,t);var e=s(n);function n(){var t;return m(this,n),(t=e.apply(this,arguments)).templateMatcher=/{{\s?([^{}\s]*)\s?}}/g,t}return y(n,[{key:"interpolate",value:function(t,e){return"string"==typeof t?this.interpolateString(t,e):"function"==typeof t?this.interpolateFunction(t,e):t}},{key:"getValue",value:function(t,e){var n="string"==typeof e?e.split("."):[e];e="";do{e+=n.shift(),!Ab(t)||!Ab(t[e])||"object"!=typeof t[e]&&n.length?n.length?e+=".":t=void 0:(t=t[e],e="")}while(n.length);return t}},{key:"interpolateFunction",value:function(t,e){return t(e)}},{key:"interpolateString",value:function(t,e){var n=this;return e?t.replace(this.templateMatcher,function(t,i){var r=n.getValue(e,i);return Ab(r)?r:t}):t}}]),n}(zb)).\u0275fac=function(t){return Bb(t||Ob)},Ob.\u0275prov=At({token:Ob,factory:Ob.\u0275fac}),Ob),Bb=ii(Fb),jb=function t(){m(this,t)},Vb=((Lb=function(t){o(n,t);var e=s(n);function n(){return m(this,n),e.apply(this,arguments)}return y(n,[{key:"compile",value:function(t,e){return t}},{key:"compileTranslations",value:function(t,e){return t}}]),n}(jb)).\u0275fac=function(t){return Ub(t||Lb)},Lb.\u0275prov=At({token:Lb,factory:Lb.\u0275fac}),Lb),Ub=ii(Vb),qb=function t(){m(this,t),this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new gl,this.onLangChange=new gl,this.onDefaultLangChange=new gl},Gb=new si("USE_STORE"),Hb=new si("USE_DEFAULT_LANG"),Wb=new si("DEFAULT_LANGUAGE"),Yb=new si("USE_EXTEND"),Zb=((Rb=function(){function t(e,n,i,r,o){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8?arguments[8]:void 0;m(this,t),this.store=e,this.currentLoader=n,this.compiler=i,this.parser=r,this.missingTranslationHandler=o,this.useDefaultLang=a,this.isolate=s,this.extend=u,this.pending=!1,this._onTranslationChange=new gl,this._onLangChange=new gl,this._onDefaultLangChange=new gl,this._langs=[],this._translations={},this._translationRequests={},l&&this.setDefaultLang(l)}return y(t,[{key:"onTranslationChange",get:function(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}},{key:"onLangChange",get:function(){return this.isolate?this._onLangChange:this.store.onLangChange}},{key:"onDefaultLangChange",get:function(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}},{key:"defaultLang",get:function(){return this.isolate?this._defaultLang:this.store.defaultLang},set:function(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}},{key:"currentLang",get:function(){return this.isolate?this._currentLang:this.store.currentLang},set:function(t){this.isolate?this._currentLang=t:this.store.currentLang=t}},{key:"langs",get:function(){return this.isolate?this._langs:this.store.langs},set:function(t){this.isolate?this._langs=t:this.store.langs=t}},{key:"translations",get:function(){return this.isolate?this._translations:this.store.translations},set:function(t){this.isolate?this._translations=t:this.store.translations=t}},{key:"setDefaultLang",value:function(t){var e=this;if(t!==this.defaultLang){var n=this.retrieveTranslations(t);void 0!==n?(null==this.defaultLang&&(this.defaultLang=t),n.pipe(Hf(1)).subscribe(function(n){e.changeDefaultLang(t)})):this.changeDefaultLang(t)}}},{key:"getDefaultLang",value:function(){return this.defaultLang}},{key:"use",value:function(t){var e=this;if(t===this.currentLang)return Rp(this.translations[t]);var n=this.retrieveTranslations(t);return void 0!==n?(this.currentLang||(this.currentLang=t),n.pipe(Hf(1)).subscribe(function(n){e.changeLang(t)}),n):(this.changeLang(t),Rp(this.translations[t]))}},{key:"retrieveTranslations",value:function(t){var e;return(void 0===this.translations[t]||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),e=this._translationRequests[t]),e}},{key:"getTranslation",value:function(t){var e=this;this.pending=!0;var n=this.currentLoader.getTranslation(t).pipe(Ky(1),Hf(1));return this.loadingTranslations=n.pipe(q(function(n){return e.compiler.compileTranslations(n,t)}),Ky(1),Hf(1)),this.loadingTranslations.subscribe({next:function(n){e.translations[t]=e.extend&&e.translations[t]?Object.assign(Object.assign({},n),e.translations[t]):n,e.updateLangs(),e.pending=!1},error:function(t){e.pending=!1}}),n}},{key:"setTranslation",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=this.compiler.compileTranslations(e,t),this.translations[t]=(n||this.extend)&&this.translations[t]?Tb(this.translations[t],e):e,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}},{key:"getLangs",value:function(){return this.langs}},{key:"addLangs",value:function(t){var e=this;t.forEach(function(t){-1===e.langs.indexOf(t)&&e.langs.push(t)})}},{key:"updateLangs",value:function(){this.addLangs(Object.keys(this.translations))}},{key:"getParsedResult",value:function(t,e,n){var i;if(e instanceof Array){var r,o={},a=!1,s=f(e);try{for(s.s();!(r=s.n()).done;){var u=r.value;o[u]=this.getParsedResult(t,u,n),Py(o[u])&&(a=!0)}}catch(c){s.e(c)}finally{s.f()}return a?yb(e.map(function(t){return Py(o[t])?o[t]:Rp(o[t])})).pipe(q(function(t){var n={};return t.forEach(function(t,i){n[e[i]]=t}),n})):o}if(t&&(i=this.parser.interpolate(this.parser.getValue(t,e),n)),void 0===i&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(i=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],e),n)),void 0===i){var l={key:e,translateService:this};void 0!==n&&(l.interpolateParams=n),i=this.missingTranslationHandler.handle(l)}return void 0!==i?i:e}},{key:"get",value:function(t,e){var n=this;if(!Ab(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Dp(function(i){return Py(i=n.getParsedResult(i,t,e))?i:Rp(i)}));var i=this.getParsedResult(this.translations[this.currentLang],t,e);return Py(i)?i:Rp(i)}},{key:"getStreamOnTranslationChange",value:function(t,e){var n=this;if(!Ab(t)||!t.length)throw new Error('Parameter "key" required');return zf(jf(function(){return n.get(t,e)}),this.onTranslationChange.pipe(Vf(function(i){var r=n.getParsedResult(i.translations,t,e);return"function"==typeof r.subscribe?r:Rp(r)})))}},{key:"stream",value:function(t,e){var n=this;if(!Ab(t)||!t.length)throw new Error('Parameter "key" required');return zf(jf(function(){return n.get(t,e)}),this.onLangChange.pipe(Vf(function(i){var r=n.getParsedResult(i.translations,t,e);return Py(r)?r:Rp(r)})))}},{key:"instant",value:function(t,e){if(!Ab(t)||!t.length)throw new Error('Parameter "key" required');var n=this.getParsedResult(this.translations[this.currentLang],t,e);if(Py(n)){if(t instanceof Array){var i={};return t.forEach(function(e,n){i[t[n]]=t[n]}),i}return t}return n}},{key:"set",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentLang;this.translations[n][t]=this.compiler.compile(e,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}},{key:"changeLang",value:function(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}},{key:"changeDefaultLang",value:function(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}},{key:"reloadLang",value:function(t){return this.resetLang(t),this.getTranslation(t)}},{key:"resetLang",value:function(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}},{key:"getBrowserLang",value:function(){if("undefined"!=typeof window&&void 0!==window.navigator){var t=window.navigator.languages?window.navigator.languages[0]:null;return void 0!==(t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage)?(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t):void 0}}},{key:"getBrowserCultureLang",value:function(){if("undefined"!=typeof window&&void 0!==window.navigator){var t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}}}]),t}()).\u0275fac=function(t){return new(t||Rb)(Ei(qb),Ei(xb),Ei(jb),Ei(zb),Ei(Sb),Ei(Hb),Ei(Gb),Ei(Yb),Ei(Wb))},Rb.\u0275prov=At({token:Rb,factory:Rb.\u0275fac}),Rb),Xb=((Nb=function(){function t(e,n){m(this,t),this.translate=e,this._ref=n,this.value=""}return y(t,[{key:"updateValue",value:function(t,e,n){var i=this,r=function(e){i.value=void 0!==e?e:t,i.lastKey=t,i._ref.markForCheck()};if(n){var o=this.translate.getParsedResult(n,t,e);Py(o.subscribe)?o.subscribe(r):r(o)}this.translate.get(t,e).subscribe(r)}},{key:"transform",value:function(t){var e,n=this;if(!t||!t.length)return t;for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];if(Ib(t,this.lastKey)&&Ib(r,this.lastParams))return this.value;if(Ab(r[0])&&r.length)if("string"==typeof r[0]&&r[0].length){var a=r[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{e=JSON.parse(a)}catch(bD){throw new SyntaxError("Wrong parameter in TranslatePipe. Expected a valid Object, received: ".concat(r[0]))}}else"object"!=typeof r[0]||Array.isArray(r[0])||(e=r[0]);return this.lastKey=t,this.lastParams=r,this.updateValue(t,e),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(function(i){n.lastKey&&i.lang===n.translate.currentLang&&(n.lastKey=null,n.updateValue(t,e,i.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(function(i){n.lastKey&&(n.lastKey=null,n.updateValue(t,e,i.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(function(){n.lastKey&&(n.lastKey=null,n.updateValue(t,e))})),this.value}},{key:"_dispose",value:function(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}},{key:"ngOnDestroy",value:function(){this._dispose()}}]),t}()).\u0275fac=function(t){return new(t||Nb)(qa(Zb),Rl())},Nb.\u0275pipe=fe({name:"translate",type:Nb,pure:!1}),Nb.\u0275prov=At({token:Nb,factory:Nb.\u0275fac}),Nb),Kb=((Mb=function(){function t(){m(this,t)}return y(t,null,[{key:"forRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.loader||{provide:xb,useClass:kb},e.compiler||{provide:jb,useClass:Vb},e.parser||{provide:zb,useClass:Fb},e.missingTranslationHandler||{provide:Sb,useClass:Cb},qb,{provide:Gb,useValue:e.isolate},{provide:Hb,useValue:e.useDefaultLang},{provide:Yb,useValue:e.extend},{provide:Wb,useValue:e.defaultLanguage},Zb]}}},{key:"forChild",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.loader||{provide:xb,useClass:kb},e.compiler||{provide:jb,useClass:Vb},e.parser||{provide:zb,useClass:Fb},e.missingTranslationHandler||{provide:Sb,useClass:Cb},{provide:Gb,useValue:e.isolate},{provide:Hb,useValue:e.useDefaultLang},{provide:Yb,useValue:e.extend},{provide:Wb,useValue:e.defaultLanguage},Zb]}}}]),t}()).\u0275fac=function(t){return new(t||Mb)},Mb.\u0275mod=ce({type:Mb}),Mb.\u0275inj=Pt({}),Mb),$b=d("jIQF"),Jb=((Db=function(){function t(e){m(this,t),this.stateService=e,this.showRoutePicker=!1,this.showClosestAmenityPicker=!1,this.filteredShop=null,this.filteredAmenity=null,this.startPointListener=new j,this.endPointListener=new j,this.accessibleOnlyToggleListener=new j,this.amenityToggleListener=new j,this.floorChangeListener=new j,this.centerToFeatureListener=new j,this.routeToClosestAmenityListener=new j}return y(t,[{key:"getStartPointListener",value:function(){return this.startPointListener.asObservable()}},{key:"getEndPointListener",value:function(){return this.endPointListener.asObservable()}},{key:"getAccessibleOnlyToggleListener",value:function(){return this.accessibleOnlyToggleListener.asObservable()}},{key:"getAmenityToggleListener",value:function(){return this.amenityToggleListener.asObservable()}},{key:"getFloorChangeListener",value:function(){return this.floorChangeListener.asObservable()}},{key:"getCenterToFeatureListener",value:function(){return this.centerToFeatureListener.asObservable()}},{key:"getRouteToClosestAmenityListener",value:function(){return this.routeToClosestAmenityListener.asObservable()}},{key:"onSetStartPoi",value:function(t){this.selectedStartPoi=this.stateService.state.allFeatures.features.find(function(e){return e.id===(null==t?void 0:t.id)}),this.startPointListener.next(this.selectedStartPoi)}},{key:"onSetEndPoi",value:function(t){this.selectedEndPoi=this.stateService.state.allFeatures.features.find(function(e){return e.id===(null==t?void 0:t.id)}),this.endPointListener.next(this.selectedEndPoi)}},{key:"onAccessibleRouteToggle",value:function(){this.stateService.state.accessibleRoute=!this.stateService.state.accessibleRoute,this.accessibleOnlyToggleListener.next()}},{key:"onAmenityToggle",value:function(t,e){"shop"===t?this.filteredShop=this.filteredShop===e?null:e:"amenities"===t&&(this.filteredAmenity=this.filteredAmenity===e?null:e),this.amenityToggleListener.next({category:t,amenityId:e})}},{key:"onRouteToClosestAmenity",value:function(){this.routeToClosestAmenityListener.next()}},{key:"sortedPOIs",get:function(){var t=this;return this.stateService.state.allFeatures.features.filter(function(t){return"poi"===t.properties.usecase||"poi"===t.properties.type}).sort(function(t,e){return t.properties.title>e.properties.title?-1:1}).sort(function(t,e){return t.properties.level>e.properties.level?1:-1}).map(function(e){var n=Object($b.isPointWithinRadius)({lat:e.geometry.coordinates[1],lng:e.geometry.coordinates[0]},{lat:t.stateService.state.place.location.lat,lng:t.stateService.state.place.location.lng},1e4);return Object.assign(Object.assign({},e),{icon:t.stateService.state.amenities.filter(function(t){return t.id===e.properties.amenity})[0]?t.stateService.state.amenities.filter(function(t){return t.id===e.properties.amenity})[0].icon:"",category:t.stateService.state.amenities.filter(function(t){return t.id===e.properties.amenity})[0]?t.stateService.state.amenities.filter(function(t){return t.id===e.properties.amenity})[0].title:"",search_query:e.properties.title+" "+e.properties.level,coordinates:e.geometry.coordinates,isInside:n})}).filter(function(t){return t.isInside})}}]),t}()).\u0275fac=function(t){return new(t||Db)(Ei(ly))},Db.\u0275prov=At({token:Db,factory:Db.\u0275fac,providedIn:"root"}),Db),Qb=d("2CXu");function tw(t){return(tw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ew(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nw(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){ew(t,e,n[e])})}return t}function iw(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(u){r=!0,o=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var rw={},ow={};try{"undefined"!=typeof window&&(rw=window),"undefined"!=typeof document&&(ow=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(bD){}var aw=(rw.navigator||{}).userAgent,sw=void 0===aw?"":aw,uw=rw,lw=ow,cw=!!lw.documentElement&&!!lw.head&&"function"==typeof lw.addEventListener&&"function"==typeof lw.createElement,hw=(~sw.indexOf("MSIE")||sw.indexOf("Trident/"),[1,2,3,4,5,6,7,8,9,10]),pw=hw.concat([11,12,13,14,15,16,17,18,19,20]),fw={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},dw=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",fw.GROUP,fw.SWAP_OPACITY,fw.PRIMARY,fw.SECONDARY].concat(hw.map(function(t){return"".concat(t,"x")})).concat(pw.map(function(t){return"w-".concat(t)})),uw.FontAwesomeConfig||{});lw&&"function"==typeof lw.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var e=iw(t,2),n=e[1],i=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var e=lw.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=i&&(dw[n]=i)});var gw=nw({},{familyPrefix:"fa",replacementClass:"svg-inline--fa",autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},dw);gw.autoReplaceSvg||(gw.observeMutations=!1);var mw=nw({},gw);uw.FontAwesomeConfig=mw;var _w=uw||{};_w.___FONT_AWESOME___||(_w.___FONT_AWESOME___={}),_w.___FONT_AWESOME___.styles||(_w.___FONT_AWESOME___.styles={}),_w.___FONT_AWESOME___.hooks||(_w.___FONT_AWESOME___.hooks={}),_w.___FONT_AWESOME___.shims||(_w.___FONT_AWESOME___.shims=[]);var yw=_w.___FONT_AWESOME___,vw=[];cw&&((lw.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(lw.readyState)||lw.addEventListener("DOMContentLoaded",function t(){lw.removeEventListener("DOMContentLoaded",t),vw.map(function(t){return t()})}));var bw,ww=function(){},xw="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,kw="undefined"==typeof setImmediate?setTimeout:setImmediate,Ew=[];function Sw(){for(var t=0;t<Ew.length;t++)Ew[t][0](Ew[t][1]);Ew=[],bw=!1}function Cw(t,e){Ew.push([t,e]),bw||(bw=!0,kw(Sw,0))}function Iw(t){var e=t.owner,n=e._state,i=e._data,r=t[n],o=t.then;if("function"==typeof r){n="fulfilled";try{i=r(i)}catch(bD){Ow(o,bD)}}Aw(o,i)||("fulfilled"===n&&Pw(o,i),"rejected"===n&&Ow(o,i))}function Aw(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===tw(e))){var i=e.then;if("function"==typeof i)return i.call(e,function(i){n||(n=!0,e===i?Tw(t,i):Pw(t,i))},function(e){n||(n=!0,Ow(t,e))}),!0}}catch(bD){return n||Ow(t,bD),!0}return!1}function Pw(t,e){t!==e&&Aw(t,e)||Tw(t,e)}function Tw(t,e){"pending"===t._state&&(t._state="settled",t._data=e,Cw(Mw,t))}function Ow(t,e){"pending"===t._state&&(t._state="settled",t._data=e,Cw(Nw,t))}function Lw(t){t._then=t._then.forEach(Iw)}function Mw(t){t._state="fulfilled",Lw(t)}function Nw(t){t._state="rejected",Lw(t),!t._handled&&xw&&global.process.emit("unhandledRejection",t._data,t)}function Rw(t){global.process.emit("rejectionHandled",t)}function Dw(t){if("function"!=typeof t)throw new TypeError("Promise resolver "+t+" is not a function");if(this instanceof Dw==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(t,e){function n(t){Ow(e,t)}try{t(function(t){Pw(e,t)},n)}catch(bD){n(bD)}}(t,this)}Dw.prototype={constructor:Dw,_state:"pending",_then:null,_data:void 0,_handled:!1,then:function(t,e){var n={owner:this,then:new this.constructor(ww),fulfilled:t,rejected:e};return!e&&!t||this._handled||(this._handled=!0,"rejected"===this._state&&xw&&Cw(Rw,this)),"fulfilled"===this._state||"rejected"===this._state?Cw(Iw,n):this._then.push(n),n.then},catch:function(t){return this.then(null,t)}},Dw.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new Dw(function(e,n){var i=[],r=0;function o(t){return r++,function(n){i[t]=n,--r||e(i)}}for(var a,s=0;s<t.length;s++)(a=t[s])&&"function"==typeof a.then?a.then(o(s),n):i[s]=a;r||e(i)})},Dw.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new Dw(function(e,n){for(var i,r=0;r<t.length;r++)(i=t[r])&&"function"==typeof i.then?i.then(e,n):e(i)})},Dw.resolve=function(t){return t&&"object"===tw(t)&&t.constructor===Dw?t:new Dw(function(e){e(t)})},Dw.reject=function(t){return new Dw(function(e,n){n(t)})};var zw={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Fw(){for(var t=12,e="";t-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function Bw(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function jw(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n],";")},"")}function Vw(t){return t.size!==zw.size||t.x!==zw.x||t.y!==zw.y||t.rotate!==zw.rotate||t.flipX||t.flipY}function Uw(t){var e=t.transform,n=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},r="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(r," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(n/2*-1," -256)")}}}var qw={x:0,y:0,width:"100%",height:"100%"};function Gw(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function Hw(t){var e=t.icons,n=e.main,i=e.mask,r=t.prefix,o=t.iconName,a=t.transform,s=t.symbol,u=t.title,l=t.maskId,c=t.titleId,h=t.extra,p=t.watchable,f=void 0!==p&&p,d=i.found?i:n,g=d.width,m=d.height,_="fak"===r,y=_?"":"fa-w-".concat(Math.ceil(g/m*16)),v=[mw.replacementClass,o?"".concat(mw.familyPrefix,"-").concat(o):"",y].filter(function(t){return-1===h.classes.indexOf(t)}).filter(function(t){return""!==t||!!t}).concat(h.classes).join(" "),b={children:[],attributes:nw({},h.attributes,{"data-prefix":r,"data-icon":o,class:v,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(m)})},w=_&&!~h.classes.indexOf("fa-fw")?{width:"".concat(g/m*16*.0625,"em")}:{};f&&(b.attributes["data-fa-i2svg"]=""),u&&b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(c||Fw())},children:[u]});var x=nw({},b,{prefix:r,iconName:o,main:n,mask:i,maskId:l,transform:a,symbol:s,styles:nw({},w,h.styles)}),k=i.found&&n.found?function(t){var e,n=t.children,i=t.attributes,r=t.main,o=t.mask,a=t.maskId,s=r.icon,u=o.icon,l=Uw({transform:t.transform,containerWidth:o.width,iconWidth:r.width}),c={tag:"rect",attributes:nw({},qw,{fill:"white"})},h=s.children?{children:s.children.map(Gw)}:{},p={tag:"g",attributes:nw({},l.inner),children:[Gw(nw({tag:s.tag,attributes:nw({},s.attributes,l.path)},h))]},f={tag:"g",attributes:nw({},l.outer),children:[p]},d="mask-".concat(a||Fw()),g="clip-".concat(a||Fw()),m={tag:"mask",attributes:nw({},qw,{id:d,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[c,f]},_={tag:"defs",children:[{tag:"clipPath",attributes:{id:g},children:(e=u,"g"===e.tag?e.children:[e])},m]};return n.push(_,{tag:"rect",attributes:nw({fill:"currentColor","clip-path":"url(#".concat(g,")"),mask:"url(#".concat(d,")")},qw)}),{children:n,attributes:i}}(x):function(t){var e=t.children,n=t.attributes,i=t.main,r=t.transform,o=jw(t.styles);if(o.length>0&&(n.style=o),Vw(r)){var a=Uw({transform:r,containerWidth:i.width,iconWidth:i.width});e.push({tag:"g",attributes:nw({},a.outer),children:[{tag:"g",attributes:nw({},a.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:nw({},i.icon.attributes,a.path)}]}]})}else e.push(i.icon);return{children:e,attributes:n}}(x),E=k.attributes;return x.children=k.children,x.attributes=E,s?function(t){var e=t.iconName,n=t.children,i=t.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:nw({},t.attributes,{id:!0===i?"".concat(t.prefix,"-").concat(mw.familyPrefix,"-").concat(e):i}),children:n}]}]}(x):function(t){var e=t.children,n=t.main,i=t.mask,r=t.attributes,o=t.styles,a=t.transform;if(Vw(a)&&n.found&&!i.found){var s={x:n.width/n.height/2,y:.5};r.style=jw(nw({},o,{"transform-origin":"".concat(s.x+a.x/16,"em ").concat(s.y+a.y/16,"em")}))}return[{tag:"svg",attributes:r,children:e}]}(x)}var Ww=function(t,e,n,i){var r,o,a,s=Object.keys(t),u=s.length,l=void 0!==i?function(t,e){return function(n,i,r,o){return t.call(e,n,i,r,o)}}(e,i):e;for(void 0===n?(r=1,a=t[s[0]]):(r=0,a=n);r<u;r++)a=l(a,t[o=s[r]],o,t);return a};function Yw(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.skipHooks,r=void 0!==i&&i,o=Object.keys(e).reduce(function(t,n){var i=e[n];return i.icon?t[i.iconName]=i.icon:t[n]=i,t},{});"function"!=typeof yw.hooks.addPack||r?yw.styles[t]=nw({},yw.styles[t]||{},o):yw.hooks.addPack(t,o),"fas"===t&&Yw("fa",e)}var Zw=yw.styles,Xw=yw.shims,Kw=function(){var t=function(t){return Ww(Zw,function(e,n,i){return e[i]=Ww(n,t,{}),e},{})};t(function(t,e,n){return e[3]&&(t[e[3]]=n),t}),t(function(t,e,n){var i=e[2];return t[n]=n,i.forEach(function(e){t[e]=n}),t});var e="far"in Zw;Ww(Xw,function(t,n){var i=n[1];return"far"!==i||e||(i="fas"),t[n[0]]={prefix:i,iconName:n[2]},t},{})};function $w(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function Jw(t){var e=t.tag,n=t.attributes,i=void 0===n?{}:n,r=t.children,o=void 0===r?[]:r;return"string"==typeof t?Bw(t):"<".concat(e," ").concat(function(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(Bw(t[n]),'" ')},"").trim()}(i),">").concat(o.map(Jw).join(""),"</").concat(e,">")}function Qw(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}Kw(),(Qw.prototype=Object.create(Error.prototype)).constructor=Qw;var tx={fill:"currentColor"},ex={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},nx=(nw({},tx,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),nw({},ex,{attributeName:"opacity"}));function ix(t){var e=t[0],n=t[1],i=iw(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(i)?{tag:"g",attributes:{class:"".concat(mw.familyPrefix,"-").concat(fw.GROUP)},children:[{tag:"path",attributes:{class:"".concat(mw.familyPrefix,"-").concat(fw.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(mw.familyPrefix,"-").concat(fw.PRIMARY),fill:"currentColor",d:i[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:i}}}}function rx(){mw.autoAddCss&&!mx&&(function(t){if(t&&cw){var e=lw.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=lw.head.childNodes,i=null,r=n.length-1;r>-1;r--){var o=n[r],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(i=o)}lw.head.insertBefore(e,i)}}(function(){var t="svg-inline--fa",e=mw.familyPrefix,n=mw.replacementClass,i='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if("fa"!==e||n!==t){var r=new RegExp("\\.".concat("fa","\\-"),"g"),o=new RegExp("\\--".concat("fa","\\-"),"g"),a=new RegExp("\\.".concat(t),"g");i=i.replace(r,".".concat(e,"-")).replace(o,"--".concat(e,"-")).replace(a,".".concat(n))}return i}()),mx=!0)}function ox(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(t){return Jw(t)})}}),Object.defineProperty(t,"node",{get:function(){if(cw){var e=lw.createElement("div");return e.innerHTML=t.html,e.children}}}),t}function ax(t){var e=t.prefix,n=void 0===e?"fa":e,i=t.iconName;if(i)return $w(gx.definitions,n,i)||$w(yw.styles,n,i)}nw({},tx,{cx:"256",cy:"364",r:"28"}),nw({},ex,{attributeName:"r",values:"28;14;28;28;14;28;"}),nw({},nx,{values:"1;0;1;1;0;1;"}),nw({},tx,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),nw({},nx,{values:"1;0;0;0;0;1;"}),nw({},tx,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),nw({},nx,{values:"0;0;1;1;0;0;"});var sx,ux,lx,cx,hx,px,fx,dx,gx=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.definitions={}}var e;return(e=[{key:"add",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=n.reduce(this._pullDefinitions,{});Object.keys(r).forEach(function(e){t.definitions[e]=nw({},t.definitions[e]||{},r[e]),Yw(e,r[e]),Kw()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map(function(e){var i=n[e],r=i.prefix,o=i.iconName,a=i.icon;t[r]||(t[r]={}),t[r][o]=a}),t}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}()),mx=!1,_x=(sx=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,i=void 0===n?zw:n,r=e.symbol,o=void 0!==r&&r,a=e.mask,s=void 0===a?null:a,u=e.maskId,l=void 0===u?null:u,c=e.title,h=void 0===c?null:c,p=e.titleId,f=void 0===p?null:p,d=e.classes,g=void 0===d?[]:d,m=e.attributes,_=void 0===m?{}:m,y=e.styles,v=void 0===y?{}:y;if(t){var b=t.prefix,w=t.iconName,x=t.icon;return ox(nw({type:"icon"},t),function(){return rx(),mw.autoA11y&&(h?_["aria-labelledby"]="".concat(mw.replacementClass,"-title-").concat(f||Fw()):(_["aria-hidden"]="true",_.focusable="false")),Hw({icons:{main:ix(x),mask:s?ix(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:b,iconName:w,transform:nw({},zw,i),symbol:o,title:h,maskId:l,titleId:f,extra:{attributes:_,styles:v,classes:g}})})}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t||{}).icon?t:ax(t||{}),i=e.mask;return i&&(i=(i||{}).icon?i:ax(i||{})),sx(n,nw({},e,{mask:i}))}),yx=["*"],vx=((lx=function t(){m(this,t),this.defaultPrefix="fas",this.fallbackIcon=null,this.globalLibrary=!1}).\u0275fac=function(t){return new(t||lx)},lx.\u0275prov=At({factory:function(){return new lx},token:lx,providedIn:"root"}),lx),bx=((ux=function(){function t(){m(this,t),this.definitions={}}return y(t,[{key:"addIcons",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var i=0,r=e;i<r.length;i++){var o=r[i];o.prefix in this.definitions||(this.definitions[o.prefix]={}),this.definitions[o.prefix][o.iconName]=o}}},{key:"addIconPacks",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var r=function(){var e=a[o],n=Object.keys(e).map(function(t){return e[t]});t.addIcons.apply(t,p(n))},o=0,a=n;o<a.length;o++)r()}},{key:"getIconDefinition",value:function(t,e){return t in this.definitions&&e in this.definitions[t]?this.definitions[t][e]:null}}]),t}()).\u0275fac=function(t){return new(t||ux)},ux.\u0275prov=At({factory:function(){return new ux},token:ux,providedIn:"root"}),ux),wx=((fx=function(){function t(){m(this,t),this.stackItemSize="1x"}return y(t,[{key:"ngOnChanges",value:function(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}]),t}()).\u0275fac=function(t){return new(t||fx)},fx.\u0275dir=pe({type:fx,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[Se]}),fx),xx=((px=function(){function t(e,n){m(this,t),this.renderer=e,this.elementRef=n}return y(t,[{key:"ngOnInit",value:function(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}},{key:"ngOnChanges",value:function(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,"fa-".concat(t.size.currentValue)),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,"fa-".concat(t.size.previousValue)))}}]),t}()).\u0275fac=function(t){return new(t||px)(qa(au),qa(iu))},px.\u0275cmp=ae({type:px,selectors:[["fa-stack"]],inputs:{size:"size"},features:[Se],ngContentSelectors:yx,decls:1,vars:0,template:function(t,e){1&t&&(ls(),cs(0))},encapsulation:2}),px),kx=((hx=function(){function e(t,n,i,r,o){m(this,e),this.sanitizer=t,this.config=n,this.iconLibrary=i,this.stackItem=r,this.classes=[],null!=o&&null==r&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}return y(e,[{key:"ngOnChanges",value:function(t){if(null==this.icon&&null==this.config.fallbackIcon)return function(){throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")}();var e;if(e=null==this.icon?this.config.fallbackIcon:this.icon,t){var n=this.findIconDefinition(e);if(null!=n){var i=this.buildParams();this.renderIcon(n,i)}}}},{key:"render",value:function(){this.ngOnChanges({})}},{key:"findIconDefinition",value:function(t){var e=function(t,e){return void 0!==(n=t).prefix&&void 0!==n.iconName?t:Array.isArray(t)&&2===t.length?{prefix:t[0],iconName:t[1]}:"string"==typeof t?{prefix:e,iconName:t}:void 0;var n}(t,this.config.defaultPrefix);if("icon"in e)return e;var n=this.iconLibrary.getIconDefinition(e.prefix,e.iconName);if(null!=n)return n;var i=ax(e);if(null!=i){var r="Global icon library is deprecated. Consult https://github.com/FortAwesome/angular-fontawesome/blob/master/UPGRADING.md for the migration instructions.";if("unset"===this.config.globalLibrary)console.error("FontAwesome: "+r);else if(!this.config.globalLibrary)throw new Error(r);return i}return function(t){throw new Error("Could not find icon with iconName=".concat(t.iconName," and prefix=").concat(t.prefix," in the icon library."))}(e),null}},{key:"buildParams",value:function(){var e,n,i,r,o,a={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},s="string"==typeof this.transform?(e=this.transform,n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0},e?e.toLowerCase().split(" ").reduce(function(t,e){var n=e.toLowerCase().split("-"),i=n[0],r=n.slice(1).join("-");if(i&&"h"===r)return t.flipX=!0,t;if(i&&"v"===r)return t.flipY=!0,t;if(r=parseFloat(r),isNaN(r))return t;switch(i){case"grow":t.size=t.size+r;break;case"shrink":t.size=t.size-r;break;case"left":t.x=t.x-r;break;case"right":t.x=t.x+r;break;case"up":t.y=t.y-r;break;case"down":t.y=t.y+r;break;case"rotate":t.rotate=t.rotate+r}return t},n):n):this.transform;return{title:this.title,transform:s,classes:[].concat(p((i=a,t(r={"fa-spin":i.spin,"fa-pulse":i.pulse,"fa-fw":i.fixedWidth,"fa-border":i.border,"fa-inverse":i.inverse,"fa-layers-counter":i.counter,"fa-flip-horizontal":"horizontal"===i.flip||"both"===i.flip,"fa-flip-vertical":"vertical"===i.flip||"both"===i.flip},"fa-".concat(i.size),null!==i.size),t(r,"fa-rotate-".concat(i.rotate),null!==i.rotate),t(r,"fa-pull-".concat(i.pull),null!==i.pull),t(r,"fa-stack-".concat(i.stackItemSize),null!=i.stackItemSize),o=r,Object.keys(o).map(function(t){return o[t]?t:null}).filter(function(t){return t}))),p(this.classes)),mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}},{key:"renderIcon",value:function(t,e){var n=_x(t,e);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(n.html.join("\n"))}}]),e}()).\u0275fac=function(t){return new(t||hx)(qa(Tp),qa(vx),qa(bx),qa(wx,8),qa(xx,8))},hx.\u0275cmp=ae({type:hx,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,e){2&t&&(Ns("innerHTML",e.renderedIconHTML,dr),Ba("title",e.title))},inputs:{classes:"classes",icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},features:[Se],decls:0,vars:0,template:function(t,e){},encapsulation:2}),hx),Ex=((cx=function t(){m(this,t)}).\u0275fac=function(t){return new(t||cx)},cx.\u0275mod=ce({type:cx}),cx.\u0275inj=Pt({}),cx),Sx=new si("NgValueAccessor"),Cx={provide:Sx,useExisting:wt(function(){return Ax}),multi:!0},Ix=new si("CompositionEventMode"),Ax=((dx=function(){function t(e,n,i){var r;m(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=i,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=Rc()?Rc().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return y(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}()).\u0275fac=function(t){return new(t||dx)(qa(au),qa(iu),qa(Ix,8))},dx.\u0275dir=pe({type:dx,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&ns("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[Ks([Cx])]}),dx);function Px(t){return null==t||0===t.length}function Tx(t){return null!=t&&"number"==typeof t.length}var Ox=new si("NgValidators"),Lx=new si("NgAsyncValidators"),Mx=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Nx=function(){function t(){m(this,t)}return y(t,null,[{key:"min",value:function(t){return function(t){return function(e){if(Px(e.value)||Px(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}},{key:"max",value:function(t){return function(t){return function(e){if(Px(e.value)||Px(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}},{key:"required",value:function(t){return function(t){return Px(t.value)?{required:!0}:null}(t)}},{key:"requiredTrue",value:function(t){return function(t){return!0===t.value?null:{required:!0}}(t)}},{key:"email",value:function(t){return function(t){return Px(t.value)||Mx.test(t.value)?null:{email:!0}}(t)}},{key:"minLength",value:function(t){return function(t){return function(e){return Px(e.value)||!Tx(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}}(t)}},{key:"maxLength",value:function(t){return function(t){return function(e){return Tx(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}}(t)}},{key:"pattern",value:function(t){return function(t){return t?("string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),function(t){if(Px(t.value))return null;var i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}):Rx;var e,n}(t)}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){return Vx(t)}},{key:"composeAsync",value:function(t){return qx(t)}}]),t}();function Rx(t){return null}function Dx(t){return null!=t}function zx(t){var e=Qa(t)?J(t):t;return es(e),e}function Fx(t){var e={};return t.forEach(function(t){e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Bx(t,e){return e.map(function(e){return e(t)})}function jx(t){return t.map(function(t){return function(t){return!t.validate}(t)?t:function(e){return t.validate(e)}})}function Vx(t){if(!t)return null;var e=t.filter(Dx);return 0==e.length?null:function(t){return Fx(Bx(t,e))}}function Ux(t){return null!=t?Vx(jx(t)):null}function qx(t){if(!t)return null;var e=t.filter(Dx);return 0==e.length?null:function(t){return yb(Bx(t,e).map(zx)).pipe(q(Fx))}}function Gx(t){return null!=t?qx(jx(t)):null}function Hx(t,e){return null===t?[e]:Array.isArray(t)?[].concat(p(t),[e]):[t,e]}function Wx(t){return t._rawValidators}function Yx(t){return t._rawAsyncValidators}var Zx,Xx,Kx,$x,Jx=((Xx=function(){function t(){m(this,t),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return y(t,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(t){this._rawValidators=t||[],this._composedValidatorFn=Ux(this._rawValidators)}},{key:"_setAsyncValidators",value:function(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Gx(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(t){this._onDestroyCallbacks.push(t)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(t){return t()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}}]),t}()).\u0275fac=function(t){return new(t||Xx)},Xx.\u0275dir=pe({type:Xx}),Xx),Qx=((Zx=function(t){o(n,t);var e=s(n);function n(){return m(this,n),e.apply(this,arguments)}return y(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Jx)).\u0275fac=function(t){return tk(t||Zx)},Zx.\u0275dir=pe({type:Zx,features:[Ca]}),Zx),tk=ii(Qx),ek=function(t){o(n,t);var e=s(n);function n(){var t;return m(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t}return n}(Jx),nk=function(){function t(e){m(this,t),this._cd=e}return y(t,[{key:"is",value:function(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}]),t}(),ik=(($x=function(t){o(n,t);var e=s(n);function n(t){return m(this,n),e.call(this,t)}return n}(nk)).\u0275fac=function(t){return new(t||$x)(qa(ek,2))},$x.\u0275dir=pe({type:$x,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&vs("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[Ca]}),$x),rk=((Kx=function(t){o(n,t);var e=s(n);function n(t){return m(this,n),e.call(this,t)}return n}(nk)).\u0275fac=function(t){return new(t||Kx)(qa(Qx,10))},Kx.\u0275dir=pe({type:Kx,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&vs("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[Ca]}),Kx);function ok(t,e){return[].concat(p(e.path),[t])}function ak(t,e){lk(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&hk(t,e)})}(t,e),function(t,e){var n=function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(function(){t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&hk(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){var n=function(t){e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(function(){t._unregisterOnDisabledChange(n)})}}(t,e)}function sk(t,e){var n=function(){};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),ck(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(function(){}))}function uk(t,e){t.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function lk(t,e,n){var i=Wx(t);null!==e.validator?t.setValidators(Hx(i,e.validator)):"function"==typeof i&&t.setValidators([i]);var r=Yx(t);if(null!==e.asyncValidator?t.setAsyncValidators(Hx(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]),n){var o=function(){return t.updateValueAndValidity()};uk(e._rawValidators,o),uk(e._rawAsyncValidators,o)}}function ck(t,e,n){var i=!1;if(null!==t){if(null!==e.validator){var r=Wx(t);if(Array.isArray(r)&&r.length>0){var o=r.filter(function(t){return t!==e.validator});o.length!==r.length&&(i=!0,t.setValidators(o))}}if(null!==e.asyncValidator){var a=Yx(t);if(Array.isArray(a)&&a.length>0){var s=a.filter(function(t){return t!==e.asyncValidator});s.length!==a.length&&(i=!0,t.setAsyncValidators(s))}}}if(n){var u=function(){};uk(e._rawValidators,u),uk(e._rawAsyncValidators,u)}return i}function hk(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function pk(t,e){lk(t,e,!1)}function fk(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function dk(t,e){t._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function gk(t,e){return e?(Array.isArray(e),e.forEach(function(t){t.constructor===Ax?n=t:Object.getPrototypeOf(t.constructor)===function(){return function t(){m(this,t)}}()?i=t:r=t}),r||i||n||null):null;var n,i,r}function mk(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function _k(t){return(wk(t)?t.validators:t)||null}function yk(t){return Array.isArray(t)?Ux(t):t||null}function vk(t,e){return(wk(e)?e.asyncValidators:t)||null}function bk(t){return Array.isArray(t)?Gx(t):t||null}function wk(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var xk,kk,Ek,Sk,Ck,Ik,Ak,Pk,Tk,Ok,Lk=function(){function t(e,n){m(this,t),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=yk(this._rawValidators),this._composedAsyncValidatorFn=bk(this._rawAsyncValidators)}return y(t,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(t){this._rawValidators=this._composedValidatorFn=t}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(t){this._rawValidators=t,this._composedValidatorFn=yk(t)}},{key:"setAsyncValidators",value:function(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=bk(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(t){return t.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!0)})}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!1)})}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;var n=zx(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){e._hasOwnPendingAsyncValidator=!1,e.setErrors(n,{emitEvent:t})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var i=t;return e.forEach(function(t){i=i instanceof Nk?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof Rk&&i.at(t)||null}),i}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new gl,this.statusChanges=new gl}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls(function(e){return e.status===t})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(t){return t.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(t){return t.touched})}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){wk(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),t}(),Mk=function(t){o(n,t);var e=s(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return m(this,n),(t=e.call(this,_k(r),vk(o,r)))._onChange=[],t._applyFormState(i),t._setUpdateStrategy(r),t._initObservables(),t.updateValueAndValidity({onlySelf:!0,emitEvent:!!o}),t}return y(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(t){return t(e.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_unregisterOnChange",value:function(t){mk(this._onChange,t)}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_unregisterOnDisabledChange",value:function(t){mk(this._onDisabledChange,t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(Lk),Nk=function(t){o(n,t);var e=s(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this,_k(i),vk(r,i))).controls=t,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!r}),o}return y(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach(function(i){e._throwIfControlMissing(i),e.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=t&&(Object.keys(t).forEach(function(i){e.controls[i]&&e.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof Mk?e.value:e.getRawValue(),t})}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach(function(n){var i=e.controls[n];i&&t(i,n)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){for(var e=0,n=Object.keys(this.controls);e<n.length;e++){var i=n[e],r=this.controls[i];if(this.contains(i)&&t(r))return!0}return!1}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},function(e,n,i){return(n.enabled||t.disabled)&&(e[i]=n.value),e})}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild(function(t,i){n=e(n,t,i)}),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(Lk),Rk=function(t){o(n,t);var e=s(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this,_k(i),vk(r,i))).controls=t,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!r}),o}return y(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach(function(t,i){e._throwIfControlMissing(i),e.at(i).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=t&&(t.forEach(function(t,i){e.at(i)&&e.at(i).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map(function(t){return t instanceof Mk?t.value:t.getRawValue()})}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild(function(t){return t._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index ".concat(t))}},{key:"_forEachChild",value:function(t){this.controls.forEach(function(e,n){t(e,n)})}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})}},{key:"_anyControls",value:function(t){return this.controls.some(function(e){return e.enabled&&t(e)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var t,e=f(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}]),n}(Lk),Dk={provide:Qx,useExisting:wt(function(){return Fk})},zk=Promise.resolve(null),Fk=((xk=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this)).submitted=!1,r._directives=[],r.ngSubmit=new gl,r.form=new Nk({},Ux(t),Gx(i)),r}return y(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}},{key:"addControl",value:function(t){var e=this;zk.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),ak(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;zk.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),mk(e._directives,t)})}},{key:"addFormGroup",value:function(t){var e=this;zk.then(function(){var n=e._findContainer(t.path),i=new Nk({});pk(i,t),n.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}},{key:"removeFormGroup",value:function(t){var e=this;zk.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;zk.then(function(){n.form.get(t.path).setValue(e)})}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,dk(this.form,this._directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}}]),n}(Qx)).\u0275fac=function(t){return new(t||xk)(qa(Ox,10),qa(Lx,10))},xk.\u0275dir=pe({type:xk,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&ns("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ks([Dk]),Ca]}),xk),Bk={provide:ek,useExisting:wt(function(){return Vk})},jk=Promise.resolve(null),Vk=((Sk=function(t){o(n,t);var e=s(n);function n(t,i,r,o){var a;return m(this,n),(a=e.call(this)).control=new Mk,a._registered=!1,a.update=new gl,a._parent=t,a._setValidators(i),a._setAsyncValidators(r),a.valueAccessor=gk(0,o),a}return y(n,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),fk(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?ok(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){ak(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(t){var e=this;jk.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,i=""===n||n&&"false"!==n;jk.then(function(){i&&!e.control.disabled?e.control.disable():!i&&e.control.disabled&&e.control.enable()})}}]),n}(ek)).\u0275fac=function(t){return new(t||Sk)(qa(Qx,9),qa(Ox,10),qa(Lx,10),qa(Sx,10))},Sk.\u0275dir=pe({type:Sk,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ks([Bk]),Ca,Se]}),Sk),Uk=((Ek=function t(){m(this,t)}).\u0275fac=function(t){return new(t||Ek)},Ek.\u0275dir=pe({type:Ek,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Ek),qk=((kk=function t(){m(this,t)}).\u0275fac=function(t){return new(t||kk)},kk.\u0275mod=ce({type:kk}),kk.\u0275inj=Pt({}),kk),Gk=new si("NgModelWithFormControlWarning"),Hk={provide:Qx,useExisting:wt(function(){return Wk})},Wk=((Ck=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this)).validators=t,r.asyncValidators=i,r.submitted=!1,r._onCollectionChange=function(){return r._updateDomValue()},r.directives=[],r.form=null,r.ngSubmit=new gl,r._setValidators(t),r._setAsyncValidators(i),r}return y(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}},{key:"ngOnDestroy",value:function(){this.form&&(ck(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(function(){}))}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return ak(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){sk(t.control||null,t,!1),mk(this.directives,t)}},{key:"addFormGroup",value:function(t){this._setUpFormContainer(t)}},{key:"removeFormGroup",value:function(t){this._cleanUpFormContainer(t)}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){this._setUpFormContainer(t)}},{key:"removeFormArray",value:function(t){this._cleanUpFormContainer(t)}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,dk(this.form,this.directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach(function(e){var n=e.control,i=t.form.get(e.path);n!==i&&(sk(n||null,e),i instanceof Mk&&(ak(i,e),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_setUpFormContainer",value:function(t){var e=this.form.get(t.path);pk(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"_cleanUpFormContainer",value:function(t){if(this.form){var e=this.form.get(t.path);e&&function(t,e){return ck(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}},{key:"_updateRegistrations",value:function(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){})}},{key:"_updateValidators",value:function(){lk(this.form,this,!1),this._oldForm&&ck(this._oldForm,this,!1)}},{key:"_checkFormPresent",value:function(){}}]),n}(Qx)).\u0275fac=function(t){return new(t||Ck)(qa(Ox,10),qa(Lx,10))},Ck.\u0275dir=pe({type:Ck,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&ns("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ks([Hk]),Ca,Se]}),Ck),Yk={provide:ek,useExisting:wt(function(){return Zk})},Zk=((Ok=function(t){o(n,t);var e=s(n);function n(t,i,r,o,a){var s;return m(this,n),(s=e.call(this))._ngModelWarningConfig=a,s._added=!1,s.update=new gl,s._ngModelWarningSent=!1,s._parent=t,s._setValidators(i),s._setAsyncValidators(r),s.valueAccessor=gk(0,o),s}return y(n,[{key:"isDisabled",set:function(t){}},{key:"ngOnChanges",value:function(t){this._added||this._setUpControl(),fk(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"path",get:function(){return ok(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"_checkParentType",value:function(){}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}]),n}(ek)).\u0275fac=function(t){return new(t||Ok)(qa(Qx,13),qa(Ox,10),qa(Lx,10),qa(Sx,10),qa(Gk,8))},Ok.\u0275dir=pe({type:Ok,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ks([Yk]),Ca,Se]}),Ok._ngModelWarningSentOnce=!1,Ok),Xk=((Tk=function t(){m(this,t)}).\u0275fac=function(t){return new(t||Tk)},Tk.\u0275mod=ce({type:Tk}),Tk.\u0275inj=Pt({imports:[[qk]]}),Tk),Kk=((Pk=function t(){m(this,t)}).\u0275fac=function(t){return new(t||Pk)},Pk.\u0275mod=ce({type:Pk}),Pk.\u0275inj=Pt({imports:[Xk]}),Pk),$k=((Ak=function(){function t(){m(this,t)}return y(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:Gk,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}()).\u0275fac=function(t){return new(t||Ak)},Ak.\u0275mod=ce({type:Ak}),Ak.\u0275inj=Pt({imports:[Xk]}),Ak),Jk=((Ik=function(){function t(){m(this,t)}return y(t,[{key:"group",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this._reduceControls(t),r=null,o=null;return null!=n&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(n)?(r=null!=n.validators?n.validators:null,o=null!=n.asyncValidators?n.asyncValidators:null,e=null!=n.updateOn?n.updateOn:void 0):(r=null!=n.validator?n.validator:null,o=null!=n.asyncValidator?n.asyncValidator:null)),new Nk(i,{asyncValidators:o,updateOn:e,validators:r})}},{key:"control",value:function(t,e,n){return new Mk(t,e,n)}},{key:"array",value:function(t,e,n){var i=this,r=t.map(function(t){return i._createControl(t)});return new Rk(r,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach(function(i){n[i]=e._createControl(t[i])}),n}},{key:"_createControl",value:function(t){return t instanceof Mk||t instanceof Nk||t instanceof Rk?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}()).\u0275fac=function(t){return new(t||Ik)},Ik.\u0275prov=At({factory:function(){return new Ik},token:Ik,providedIn:$k}),Ik);function Qk(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ly;return function(n){return n.lift(new tE(t,e))}}var tE=function(){function t(e,n){m(this,t),this.dueTime=e,this.scheduler=n}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new eE(t,this.dueTime,this.scheduler))}}]),t}(),eE=function(t){o(n,t);var e=s(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this,t)).dueTime=i,o.scheduler=r,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return y(n,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(nE,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),n}(P);function nE(t){t.debouncedNext()}var iE=["content"],rE=["scroll"],oE=["padding"],aE=function(t){return{searchTerm:t}};function sE(t,e){if(1&t&&(Wa(0,"div",6),$a(1,7),Ya()),2&t){var n=ss();co(1),Ga("ngTemplateOutlet",n.headerTemplate)("ngTemplateOutletContext",nl(2,aE,n.filterValue))}}function uE(t,e){if(1&t&&(Wa(0,"div",8),$a(1,7),Ya()),2&t){var n=ss();co(1),Ga("ngTemplateOutlet",n.footerTemplate)("ngTemplateOutletContext",nl(2,aE,n.filterValue))}}var lE=["*"],cE=["searchInput"];function hE(t,e){if(1&t){var n=Ja();Wa(0,"span",15),ns("click",function(){Xe(n);var t=ss().$implicit;return ss(2).unselect(t)}),Ts(1,"\xd7"),Ya(),Za(2,"span",16)}if(2&t){var i=ss().$implicit,r=ss(2);co(2),Ga("ngItemLabel",i.label)("escape",r.escapeHTML)}}function pE(t,e){}var fE=function(t,e,n){return{item:t,clear:e,label:n}};function dE(t,e){if(1&t&&(Wa(0,"div",12),Va(1,hE,3,2,"ng-template",null,13,Nl),Va(3,pE,0,0,"ng-template",14),Ya()),2&t){var n=e.$implicit,i=Ua(2),r=ss(2);vs("ng-value-disabled",n.disabled),co(3),Ga("ngTemplateOutlet",r.labelTemplate||i)("ngTemplateOutletContext",(o=fE,a=n.value,s=r.clearItem,u=n.label,sl(Ye(),rn(),4,o,a,s,u,void 0)))}var o,a,s,u}function gE(t,e){if(1&t&&(Xa(0),Va(1,dE,4,8,"div",11),Ka()),2&t){var n=ss();co(1),Ga("ngForOf",n.selectedItems)("ngForTrackBy",n.trackByOption)}}function mE(t,e){}var _E=function(t,e){return{items:t,clear:e}};function yE(t,e){if(1&t&&Va(0,mE,0,0,"ng-template",14),2&t){var n=ss();Ga("ngTemplateOutlet",n.multiLabelTemplate)("ngTemplateOutletContext",il(2,_E,n.selectedValues,n.clearItem))}}function vE(t,e){1&t&&Za(0,"div",19)}function bE(t,e){}function wE(t,e){if(1&t&&(Xa(0),Va(1,vE,1,0,"ng-template",null,17,Nl),Va(3,bE,0,0,"ng-template",18),Ka()),2&t){var n=Ua(2),i=ss();co(3),Ga("ngTemplateOutlet",i.loadingSpinnerTemplate||n)}}function xE(t,e){1&t&&(Wa(0,"span",20),Wa(1,"span",21),Ts(2,"\xd7"),Ya(),Ya()),2&t&&hs("title",ss().clearAllText)}function kE(t,e){if(1&t&&Za(0,"span",27),2&t){var n=ss().$implicit,i=ss(2);Ga("ngItemLabel",n.label)("escape",i.escapeHTML)}}function EE(t,e){}var SE=function(t,e,n,i){return{item:t,item$:e,index:n,searchTerm:i}};function CE(t,e){if(1&t){var n=Ja();Wa(0,"div",25),ns("click",function(){Xe(n);var t=e.$implicit;return ss(2).toggleItem(t)})("mouseover",function(){Xe(n);var t=e.$implicit;return ss(2).onItemHover(t)}),Va(1,kE,1,2,"ng-template",null,26,Nl),Va(3,EE,0,0,"ng-template",14),Ya()}if(2&t){var i=e.$implicit,r=Ua(2),o=ss(2);vs("ng-option-disabled",i.disabled)("ng-option-selected",i.selected)("ng-optgroup",i.children)("ng-option",!i.children)("ng-option-child",!!i.parent)("ng-option-marked",i===o.itemsList.markedItem),Ba("role",i.children?"group":"option")("aria-selected",i.selected)("id",null==i?null:i.htmlId),co(3),Ga("ngTemplateOutlet",i.children?o.optgroupTemplate||r:o.optionTemplate||r)("ngTemplateOutletContext",(17,a=SE,s=i.value,u=i,l=i.index,c=o.searchTerm,function(t,e,n,i,r,o,a,s,u){var l=e+17;return function(t,e,n,i,r,o){var a=Fa(t,e,n,i);return Fa(t,e+2,r,o)||a}(t,l,r,o,a,s)?Da(t,l+4,i(r,o,a,s)):rl(t,l+4)}(Ye(),rn(),0,a,s,u,l,c)))}var a,s,u,l,c}function IE(t,e){if(1&t&&(Wa(0,"span"),Wa(1,"span",30),Ts(2),Ya(),Ts(3),Ya()),2&t){var n=ss(3);co(2),Os(n.addTagText),co(1),Ls('"',n.searchTerm,'"')}}function AE(t,e){}function PE(t,e){if(1&t){var n=Ja();Wa(0,"div",28),ns("mouseover",function(){return Xe(n),ss(2).itemsList.unmarkItem()})("click",function(){return Xe(n),ss(2).selectTag()}),Va(1,IE,4,2,"ng-template",null,29,Nl),Va(3,AE,0,0,"ng-template",14),Ya()}if(2&t){var i=Ua(2),r=ss(2);vs("ng-option-marked",!r.itemsList.markedItem),co(3),Ga("ngTemplateOutlet",r.tagTemplate||i)("ngTemplateOutletContext",nl(4,aE,r.searchTerm))}}function TE(t,e){if(1&t&&(Wa(0,"div",32),Ts(1),Ya()),2&t){var n=ss(3);co(1),Os(n.notFoundText)}}function OE(t,e){}function LE(t,e){if(1&t&&(Xa(0),Va(1,TE,2,1,"ng-template",null,31,Nl),Va(3,OE,0,0,"ng-template",14),Ka()),2&t){var n=Ua(2),i=ss(2);co(3),Ga("ngTemplateOutlet",i.notFoundTemplate||n)("ngTemplateOutletContext",nl(2,aE,i.searchTerm))}}function ME(t,e){if(1&t&&(Wa(0,"div",32),Ts(1),Ya()),2&t){var n=ss(3);co(1),Os(n.typeToSearchText)}}function NE(t,e){}function RE(t,e){if(1&t&&(Xa(0),Va(1,ME,2,1,"ng-template",null,33,Nl),Va(3,NE,0,0,"ng-template",18),Ka()),2&t){var n=Ua(2),i=ss(2);co(3),Ga("ngTemplateOutlet",i.typeToSearchTemplate||n)}}function DE(t,e){if(1&t&&(Wa(0,"div",32),Ts(1),Ya()),2&t){var n=ss(3);co(1),Os(n.loadingText)}}function zE(t,e){}function FE(t,e){if(1&t&&(Xa(0),Va(1,DE,2,1,"ng-template",null,34,Nl),Va(3,zE,0,0,"ng-template",14),Ka()),2&t){var n=Ua(2),i=ss(2);co(3),Ga("ngTemplateOutlet",i.loadingTextTemplate||n)("ngTemplateOutletContext",nl(2,aE,i.searchTerm))}}function BE(t,e){if(1&t){var n=Ja();Wa(0,"ng-dropdown-panel",22),ns("update",function(t){return Xe(n),ss().viewPortItems=t})("scroll",function(t){return Xe(n),ss().scroll.emit(t)})("scrollToEnd",function(t){return Xe(n),ss().scrollToEnd.emit(t)})("outsideClick",function(){return Xe(n),ss().close()}),Xa(1),Va(2,CE,4,22,"div",23),Va(3,PE,4,6,"div",24),Ka(),Va(4,LE,4,4,"ng-container",3),Va(5,RE,4,1,"ng-container",3),Va(6,FE,4,4,"ng-container",3),Ya()}if(2&t){var i=ss();vs("ng-select-multiple",i.multiple),Ga("virtualScroll",i.virtualScroll)("bufferAmount",i.bufferAmount)("appendTo",i.appendTo)("position",i.dropdownPosition)("headerTemplate",i.headerTemplate)("footerTemplate",i.footerTemplate)("filterValue",i.searchTerm)("items",i.itemsList.filteredItems)("markedItem",i.itemsList.markedItem)("ngClass",i.appendTo?i.classes:null)("id",i.dropdownId),co(2),Ga("ngForOf",i.viewPortItems)("ngForTrackBy",i.trackByOption),co(1),Ga("ngIf",i.showAddTag),co(1),Ga("ngIf",i.showNoItemsFound()),co(1),Ga("ngIf",i.showTypeToSearch()),co(1),Ga("ngIf",i.loading&&0===i.itemsList.filteredItems.length)}}var jE=/[&<>"']/g,VE=RegExp(jE.source),UE={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function qE(t){return null!=t}function GE(t){return"object"==typeof t&&qE(t)}function HE(t){return t instanceof Function}var WE,YE,ZE,XE,KE,$E,JE,QE,tS,eS,nS,iS,rS,oS=((rS=function(){function t(e){m(this,t),this.element=e,this.escape=!0}return y(t,[{key:"ngOnChanges",value:function(t){var e;this.element.nativeElement.innerHTML=this.escape?(e=this.ngItemLabel)&&VE.test(e)?e.replace(jE,function(t){return UE[t]}):e:this.ngItemLabel}}]),t}()).\u0275fac=function(t){return new(t||rS)(qa(iu))},rS.\u0275dir=pe({type:rS,selectors:[["","ngItemLabel",""]],inputs:{escape:"escape",ngItemLabel:"ngItemLabel"},features:[Se]}),rS),aS=((iS=function t(e){m(this,t),this.template=e}).\u0275fac=function(t){return new(t||iS)(qa(Ru))},iS.\u0275dir=pe({type:iS,selectors:[["","ng-option-tmp",""]]}),iS),sS=((nS=function t(e){m(this,t),this.template=e}).\u0275fac=function(t){return new(t||nS)(qa(Ru))},nS.\u0275dir=pe({type:nS,selectors:[["","ng-optgroup-tmp",""]]}),nS),uS=((eS=function t(e){m(this,t),this.template=e}).\u0275fac=function(t){return new(t||eS)(qa(Ru))},eS.\u0275dir=pe({type:eS,selectors:[["","ng-label-tmp",""]]}),eS),lS=((tS=function t(e){m(this,t),this.template=e}).\u0275fac=function(t){return new(t||tS)(qa(Ru))},tS.\u0275dir=pe({type:tS,selectors:[["","ng-multi-label-tmp",""]]}),tS),cS=((QE=function t(e){m(this,t),this.template=e}).\u0275fac=function(t){return new(t||QE)(qa(Ru))},QE.\u0275dir=pe({type:QE,selectors:[["","ng-header-tmp",""]]}),QE),hS=((JE=function t(e){m(this,t),this.template=e}).\u0275fac=function(t){return new(t||JE)(qa(Ru))},JE.\u0275dir=pe({type:JE,selectors:[["","ng-footer-tmp",""]]}),JE),pS=(($E=function t(e){m(this,t),this.template=e}).\u0275fac=function(t){return new(t||$E)(qa(Ru))},$E.\u0275dir=pe({type:$E,selectors:[["","ng-notfound-tmp",""]]}),$E),fS=((KE=function t(e){m(this,t),this.template=e}).\u0275fac=function(t){return new(t||KE)(qa(Ru))},KE.\u0275dir=pe({type:KE,selectors:[["","ng-typetosearch-tmp",""]]}),KE),dS=((XE=function t(e){m(this,t),this.template=e}).\u0275fac=function(t){return new(t||XE)(qa(Ru))},XE.\u0275dir=pe({type:XE,selectors:[["","ng-loadingtext-tmp",""]]}),XE),gS=((ZE=function t(e){m(this,t),this.template=e}).\u0275fac=function(t){return new(t||ZE)(qa(Ru))},ZE.\u0275dir=pe({type:ZE,selectors:[["","ng-tag-tmp",""]]}),ZE),mS=((YE=function t(e){m(this,t),this.template=e}).\u0275fac=function(t){return new(t||YE)(qa(Ru))},YE.\u0275dir=pe({type:YE,selectors:[["","ng-loadingspinner-tmp",""]]}),YE),_S=((WE=function(){function t(){m(this,t)}return y(t,[{key:"warn",value:function(t){console.warn(t)}}]),t}()).\u0275fac=function(t){return new(t||WE)},WE.\u0275prov=At({factory:function(){return new WE},token:WE,providedIn:"root"}),WE);function yS(){return"axxxxxxxxxxx".replace(/[x]/g,function(t){return(16*Math.random()|0).toString(16)})}var vS={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"};function bS(t){return t.replace(/[^\u0000-\u007E]/g,function(t){return vS[t]||t})}var wS,xS,kS,ES,SS,CS,IS,AS,PS,TS,OS,LS=function(){function e(t,n){m(this,e),this._ngSelect=t,this._selectionModel=n,this._items=[],this._filteredItems=[],this._markedIndex=-1}return y(e,[{key:"items",get:function(){return this._items}},{key:"filteredItems",get:function(){return this._filteredItems}},{key:"markedIndex",get:function(){return this._markedIndex}},{key:"selectedItems",get:function(){return this._selectionModel.value}},{key:"markedItem",get:function(){return this._filteredItems[this._markedIndex]}},{key:"noItemsToSelect",get:function(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}},{key:"maxItemsSelected",get:function(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}},{key:"lastSelectedItem",get:function(){for(var t=this.selectedItems.length-1;t>=0;t--){var e=this.selectedItems[t];if(!e.disabled)return e}return null}},{key:"setItems",value:function(t){var e=this;this._items=t.map(function(t,n){return e.mapItem(t,n)}),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=p(this._items)}},{key:"select",value:function(t){if(!t.selected&&!this.maxItemsSelected){var e=this._ngSelect.multiple;e||this.clearSelected(),this._selectionModel.select(t,e,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(t)}}},{key:"unselect",value:function(t){t.selected&&(this._selectionModel.unselect(t,this._ngSelect.multiple),this._ngSelect.hideSelected&&qE(t.index)&&this._ngSelect.multiple&&this._showSelected(t))}},{key:"findItem",value:function(t){var e,n=this;return e=this._ngSelect.compareWith?function(e){return n._ngSelect.compareWith(e.value,t)}:this._ngSelect.bindValue?function(e){return!e.children&&n.resolveNested(e.value,n._ngSelect.bindValue)===t}:function(e){return e.value===t||!e.children&&e.label&&e.label===n.resolveNested(t,n._ngSelect.bindLabel)},this._items.find(function(t){return e(t)})}},{key:"addItem",value:function(t){var e=this.mapItem(t,this._items.length);return this._items.push(e),this._filteredItems.push(e),e}},{key:"clearSelected",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._selectionModel.clear(t),this._items.forEach(function(e){e.selected=t&&e.selected&&e.disabled,e.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}},{key:"findByLabel",value:function(t){return t=bS(t).toLocaleLowerCase(),this.filteredItems.find(function(e){return bS(e.label).toLocaleLowerCase().substr(0,t.length)===t})}},{key:"filter",value:function(t){var e=this;if(t){this._filteredItems=[],t=this._ngSelect.searchFn?t:bS(t).toLocaleLowerCase();for(var n=this._ngSelect.searchFn||this._defaultSearchFn,r=this._ngSelect.hideSelected,o=0,a=Array.from(this._groups.keys());o<a.length;o++){var s,u=a[o],l=[],c=f(this._groups.get(u));try{for(c.s();!(s=c.n()).done;){var h=s.value;r&&(h.parent&&h.parent.selected||h.selected)||n(t,this._ngSelect.searchFn?h.value:h)&&l.push(h)}}catch(p){c.e(p)}finally{c.f()}l.length>0&&function(){var t,n=i(l.slice(-1),1)[0];if(n.parent){var r=e._items.find(function(t){return t===n.parent});e._filteredItems.push(r)}(t=e._filteredItems).push.apply(t,l)}()}}else this.resetFilteredItems()}},{key:"resetFilteredItems",value:function(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(function(t){return!t.selected}):this._items)}},{key:"unmarkItem",value:function(){this._markedIndex=-1}},{key:"markNextItem",value:function(){this._stepToItem(1)}},{key:"markPreviousItem",value:function(){this._stepToItem(-1)}},{key:"markItem",value:function(t){this._markedIndex=this._filteredItems.indexOf(t)}},{key:"markSelectedOrDefault",value:function(t){if(0!==this._filteredItems.length){var e=this._getLastMarkedIndex();this._markedIndex=e>-1?e:t?this.filteredItems.findIndex(function(t){return!t.disabled}):-1}}},{key:"resolveNested",value:function(t,e){if(!GE(t))return t;if(-1===e.indexOf("."))return t[e];for(var n=e.split("."),i=t,r=0,o=n.length;r<o;++r){if(null==i)return null;i=i[n[r]]}return i}},{key:"mapItem",value:function(t,e){var n=qE(t.$ngOptionLabel)?t.$ngOptionLabel:this.resolveNested(t,this._ngSelect.bindLabel),i=qE(t.$ngOptionValue)?t.$ngOptionValue:t;return{index:e,label:qE(n)?n.toString():"",value:i,disabled:t.disabled,htmlId:"".concat(this._ngSelect.dropdownId,"-").concat(e)}}},{key:"mapSelectedItems",value:function(){var t,e=this,n=this._ngSelect.multiple,i=f(this.selectedItems);try{for(i.s();!(t=i.n()).done;){var r=t.value,o=this._ngSelect.bindValue?this.resolveNested(r.value,this._ngSelect.bindValue):r.value,a=qE(o)?this.findItem(o):null;this._selectionModel.unselect(r,n),this._selectionModel.select(a||r,n,this._ngSelect.selectableGroupAsModel)}}catch(s){i.e(s)}finally{i.f()}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(function(t){return-1===e.selectedItems.indexOf(t)}))}},{key:"_showSelected",value:function(t){if(this._filteredItems.push(t),t.parent){var e=t.parent;this._filteredItems.find(function(t){return t===e})||this._filteredItems.push(e)}else if(t.children){var n,i=f(t.children);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.selected=!1,this._filteredItems.push(r)}}catch(o){i.e(o)}finally{i.f()}}this._filteredItems=p(this._filteredItems.sort(function(t,e){return t.index-e.index}))}},{key:"_hideSelected",value:function(t){this._filteredItems=this._filteredItems.filter(function(e){return e!==t}),t.parent?t.parent.children.every(function(t){return t.selected})&&(this._filteredItems=this._filteredItems.filter(function(e){return e!==t.parent})):t.children&&(this._filteredItems=this.filteredItems.filter(function(e){return e.parent!==t}))}},{key:"_defaultSearchFn",value:function(t,e){return bS(e.label).toLocaleLowerCase().indexOf(t)>-1}},{key:"_getNextItemIndex",value:function(t){return t>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}},{key:"_stepToItem",value:function(t){0===this._filteredItems.length||this._filteredItems.every(function(t){return t.disabled})||(this._markedIndex=this._getNextItemIndex(t),this.markedItem.disabled&&this._stepToItem(t))}},{key:"_getLastMarkedIndex",value:function(){if(this._ngSelect.hideSelected)return-1;if(this._markedIndex>-1&&void 0===this.markedItem)return-1;var t=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&t<0?-1:Math.max(this.markedIndex,t)}},{key:"_groupBy",value:function(t,e){var n=this,i=new Map;if(0===t.length)return i;if(Array.isArray(t[0].value[e])){var r,o=f(t);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=(a.value[e]||[]).map(function(t,e){return n.mapItem(t,e)});i.set(a,s)}}catch(m){o.e(m)}finally{o.f()}return i}var u,l=HE(this._ngSelect.groupBy),c=function(t){var n=l?e(t.value):t.value[e];return qE(n)?n:void 0},h=f(t);try{for(h.s();!(u=h.n()).done;){var p=u.value,d=c(p),g=i.get(d);g?g.push(p):i.set(d,[p])}}catch(m){h.e(m)}finally{h.f()}return i}},{key:"_flatten",value:function(e){for(var n=this,i=HE(this._ngSelect.groupBy),r=[],o=function(){var o=s[a],u=r.length;if(void 0===o){var l=e.get(void 0)||[];return r.push.apply(r,p(l.map(function(t){return t.index=u++,t}))),"continue"}var c=GE(o),h={label:c?"":String(o),children:void 0,parent:null,index:u++,disabled:!n._ngSelect.selectableGroup,htmlId:yS()},f=i?n._ngSelect.bindLabel:n._ngSelect.groupBy,d=n._ngSelect.groupValue||function(){return c?o.value:t({},f,o)},g=e.get(o).map(function(t){return t.parent=h,t.children=void 0,t.index=u++,t});h.children=g,h.value=d(o,g.map(function(t){return t.value})),r.push(h),r.push.apply(r,p(g))},a=0,s=Array.from(e.keys());a<s.length;a++)o();return r}}]),e}(),MS=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Esc=27]="Esc",t[t.Space=32]="Space",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowDown=40]="ArrowDown",t[t.Backspace=8]="Backspace",t}({}),NS=((wS=function(){function t(){m(this,t),this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}return y(t,[{key:"dimensions",get:function(){return this._dimensions}},{key:"calculateItems",value:function(t,e,n){var i=this._dimensions,r=i.itemHeight*e,o=Math.max(0,t)/r*e,a=Math.min(e,Math.ceil(o)+(i.itemsPerViewport+1)),s=Math.max(0,a-i.itemsPerViewport),u=Math.min(s,Math.floor(o)),l=i.itemHeight*Math.ceil(u)-i.itemHeight*Math.min(u,n);return l=isNaN(l)?0:l,u=isNaN(u)?-1:u,a=isNaN(a)?-1:a,u-=n,a+=n,{topPadding:l,scrollHeight:r,start:u=Math.max(0,u),end:a=Math.min(e,a)}}},{key:"setDimensions",value:function(t,e){var n=Math.max(1,Math.floor(e/t));this._dimensions={itemHeight:t,panelHeight:e,itemsPerViewport:n}}},{key:"getScrollTo",value:function(t,e,n){var i=this.dimensions.panelHeight,r=t+e,o=n+i;return i>=r&&n===t?null:r>o?n+r-o:t<=n?t:null}}]),t}()).\u0275fac=function(t){return new(t||wS)},wS.\u0275prov=At({token:wS,factory:wS.\u0275fac}),wS),RS="undefined"!=typeof requestAnimationFrame?by:Ay,DS=((ES=function(){function t(e,n,i,r,o){m(this,t),this._renderer=e,this._zone=n,this._panelService=i,this._document=o,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new gl,this.scroll=new gl,this.scrollToEnd=new gl,this.outsideClick=new gl,this._destroy$=new j,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=r.nativeElement}return y(t,[{key:"currentPosition",get:function(){return this._currentPosition}},{key:"itemsLength",get:function(){return this._itemsLength},set:function(t){t!==this._itemsLength&&(this._itemsLength=t,this._onItemsLengthChanged())}},{key:"_startOffset",get:function(){if(this.markedItem){var t=this._panelService.dimensions,e=t.itemHeight,n=t.panelHeight,i=this.markedItem.index*e;return n>i?0:i}return 0}},{key:"handleMousedown",value:function(t){"INPUT"!==t.target.tagName&&t.preventDefault()}},{key:"ngOnInit",value:function(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown()}},{key:"ngOnChanges",value:function(t){if(t.items){var e=t.items;this._onItemsChange(e.currentValue,e.firstChange)}}},{key:"ngOnDestroy",value:function(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}},{key:"scrollTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){var n=this.items.indexOf(t);if(!(n<0||n>=this.itemsLength)){var i;if(this.virtualScroll){var r=this._panelService.dimensions.itemHeight;i=this._panelService.getScrollTo(n*r,r,this._lastScrollPosition)}else{var o=this._dropdown.querySelector("#".concat(t.htmlId));i=this._panelService.getScrollTo(o.offsetTop,o.clientHeight,e?o.offsetTop:this._lastScrollPosition)}qE(i)&&(this._scrollablePanel.scrollTop=i)}}}},{key:"scrollToTag",value:function(){var t=this._scrollablePanel;t.scrollTop=t.scrollHeight-t.clientHeight}},{key:"adjustPosition",value:function(){this._updateYPosition()}},{key:"_handleDropdownPosition",value:function(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),"top"===this._currentPosition?(this._renderer.addClass(this._dropdown,"ng-select-top"),this._renderer.removeClass(this._dropdown,"ng-select-bottom"),this._renderer.addClass(this._select,"ng-select-top"),this._renderer.removeClass(this._select,"ng-select-bottom")):(this._renderer.addClass(this._dropdown,"ng-select-bottom"),this._renderer.removeClass(this._dropdown,"ng-select-top"),this._renderer.addClass(this._select,"ng-select-bottom"),this._renderer.removeClass(this._select,"ng-select-top")),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}},{key:"_handleScroll",value:function(){var t=this;this._zone.runOutsideAngular(function(){dy(t.scrollElementRef.nativeElement,"scroll").pipe(Fy(t._destroy$),zy(0,RS)).subscribe(function(e){var n=e.path||e.composedPath&&e.composedPath();t._onContentScrolled(n&&0!==n.length?n[0].scrollTop:e.target.scrollTop)})})}},{key:"_handleOutsideClick",value:function(){var t=this;this._document&&this._zone.runOutsideAngular(function(){st(dy(t._document,"touchstart",{capture:!0}),dy(t._document,"mousedown",{capture:!0})).pipe(Fy(t._destroy$)).subscribe(function(e){return t._checkToClose(e)})})}},{key:"_checkToClose",value:function(t){var e=this;if(!this._select.contains(t.target)&&!this._dropdown.contains(t.target)){var n=t.path||t.composedPath&&t.composedPath();t.target&&t.target.shadowRoot&&n&&n[0]&&this._select.contains(n[0])||this._zone.run(function(){return e.outsideClick.emit()})}}},{key:"_onItemsChange",value:function(t,e){this.items=t||[],this._scrollToEndFired=!1,this.itemsLength=t.length,this.virtualScroll?this._updateItemsRange(e):(this._setVirtualHeight(),this._updateItems(e))}},{key:"_updateItems",value:function(t){var e=this;this.update.emit(this.items),!1!==t&&this._zone.runOutsideAngular(function(){Promise.resolve().then(function(){e._panelService.setDimensions(0,e._scrollablePanel.clientHeight),e._handleDropdownPosition(),e.scrollTo(e.markedItem,t)})})}},{key:"_updateItemsRange",value:function(t){var e=this;this._zone.runOutsideAngular(function(){e._measureDimensions().then(function(){t?(e._renderItemsRange(e._startOffset),e._handleDropdownPosition()):e._renderItemsRange()})})}},{key:"_onContentScrolled",value:function(t){this.virtualScroll&&this._renderItemsRange(t),this._lastScrollPosition=t,this._fireScrollToEnd(t)}},{key:"_updateVirtualHeight",value:function(t){this._updateScrollHeight&&(this._virtualPadding.style.height="".concat(t,"px"),this._updateScrollHeight=!1)}},{key:"_setVirtualHeight",value:function(){this._virtualPadding&&(this._virtualPadding.style.height="0px")}},{key:"_onItemsLengthChanged",value:function(){this._updateScrollHeight=!0}},{key:"_renderItemsRange",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e||this._lastScrollPosition!==e){var n=this._panelService.calculateItems(e=e||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(n.scrollHeight),this._contentPanel.style.transform="translateY(".concat(n.topPadding,"px)"),this._zone.run(function(){t.update.emit(t.items.slice(n.start,n.end)),t.scroll.emit({start:n.start,end:n.end})}),qE(e)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=e,this._lastScrollPosition=e)}}},{key:"_measureDimensions",value:function(){var t=this;if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);var e=i(this.items,1)[0];return this.update.emit([e]),Promise.resolve().then(function(){var n=t._dropdown.querySelector("#".concat(e.htmlId)).clientHeight;return t._virtualPadding.style.height=n*t.itemsLength+"px",t._panelService.setDimensions(n,t._scrollablePanel.clientHeight),t._panelService.dimensions})}},{key:"_fireScrollToEnd",value:function(t){var e=this;this._scrollToEndFired||0===t||t+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight&&(this._zone.run(function(){return e.scrollToEnd.emit()}),this._scrollToEndFired=!0)}},{key:"_calculateCurrentPosition",value:function(t){if("auto"!==this.position)return this.position;var e=this._select.getBoundingClientRect(),n=document.documentElement.scrollTop||document.body.scrollTop;return e.top+window.pageYOffset+e.height+t.getBoundingClientRect().height>n+document.documentElement.clientHeight?"top":"bottom"}},{key:"_appendDropdown",value:function(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error("appendTo selector ".concat(this.appendTo," did not found any parent element"));this._updateXPosition(),this._parent.appendChild(this._dropdown)}}},{key:"_updateXPosition",value:function(){var t=this._select.getBoundingClientRect(),e=this._parent.getBoundingClientRect();this._dropdown.style.left=t.left-e.left+"px",this._dropdown.style.width=t.width+"px",this._dropdown.style.minWidth=t.width+"px"}},{key:"_updateYPosition",value:function(){var t=this._select.getBoundingClientRect(),e=this._parent.getBoundingClientRect(),n=t.height;"top"===this._currentPosition?(this._dropdown.style.bottom=e.bottom-t.bottom+n+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=t.top-e.top+n+"px",this._dropdown.style.bottom="auto")}}]),t}()).\u0275fac=function(t){return new(t||ES)(qa(au),qa(ic),qa(NS),qa(iu),qa(zc,8))},ES.\u0275cmp=ae({type:ES,selectors:[["ng-dropdown-panel"]],viewQuery:function(t,e){var n;1&t&&(Al(iE,3,iu),Al(rE,3,iu),Al(oE,3,iu)),2&t&&(Il(n=Tl())&&(e.contentElementRef=n.first),Il(n=Tl())&&(e.scrollElementRef=n.first),Il(n=Tl())&&(e.paddingElementRef=n.first))},hostBindings:function(t,e){1&t&&ns("mousedown",function(t){return e.handleMousedown(t)})},inputs:{items:"items",position:"position",virtualScroll:"virtualScroll",filterValue:"filterValue",markedItem:"markedItem",appendTo:"appendTo",bufferAmount:"bufferAmount",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[Se],ngContentSelectors:lE,decls:9,vars:6,consts:[["class","ng-dropdown-header",4,"ngIf"],[1,"ng-dropdown-panel-items","scroll-host"],["scroll",""],["padding",""],["content",""],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(t,e){1&t&&(ls(),Va(0,sE,2,4,"div",0),Wa(1,"div",1,2),Za(3,"div",null,3),Wa(5,"div",null,4),cs(7),Ya(),Ya(),Va(8,uE,2,4,"div",5)),2&t&&(Ga("ngIf",e.headerTemplate),co(3),vs("total-padding",e.virtualScroll),co(2),vs("scrollable-content",e.virtualScroll&&e.items.length),co(3),Ga("ngIf",e.footerTemplate))},directives:[kh,Lh],encapsulation:2,changeDetection:0}),ES),zS=((kS=function(){function t(e){m(this,t),this.elementRef=e,this.stateChange$=new j,this._disabled=!1}return y(t,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=this._isDisabled(t)}},{key:"label",get:function(){return(this.elementRef.nativeElement.textContent||"").trim()}},{key:"ngOnChanges",value:function(t){t.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}},{key:"ngAfterViewChecked",value:function(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}},{key:"ngOnDestroy",value:function(){this.stateChange$.complete()}},{key:"_isDisabled",value:function(t){return null!=t&&"false"!="".concat(t)}}]),t}()).\u0275fac=function(t){return new(t||kS)(qa(iu))},kS.\u0275cmp=ae({type:kS,selectors:[["ng-option"]],inputs:{disabled:"disabled",value:"value"},features:[Se],ngContentSelectors:lE,decls:1,vars:0,template:function(t,e){1&t&&(ls(),cs(0))},encapsulation:2,changeDetection:0}),kS),FS=((xS=function t(){m(this,t),this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}).\u0275fac=function(t){return new(t||xS)},xS.\u0275prov=At({factory:function(){return new xS},token:xS,providedIn:"root"}),xS),BS=new si("ng-select-selection-model"),jS=((SS=function(){function e(t,n,i,r,o,a,s){var u=this;m(this,e),this.classes=t,this.autoFocus=n,this._cd=a,this._console=s,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=function(t){return!0},this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new gl,this.focusEvent=new gl,this.changeEvent=new gl,this.openEvent=new gl,this.closeEvent=new gl,this.searchEvent=new gl,this.clearEvent=new gl,this.addEvent=new gl,this.removeEvent=new gl,this.scroll=new gl,this.scrollToEnd=new gl,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=yS(),this.escapeHTML=!0,this.useDefaultClass=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new j,this._keyPress$=new j,this._onChange=function(t){},this._onTouched=function(){},this.clearItem=function(t){var e=u.selectedItems.find(function(e){return e.value===t});u.unselect(e)},this.trackByOption=function(t,e){return u.trackByFn?u.trackByFn(e.value):e},this._mergeGlobalConfig(i),this.itemsList=new LS(this,r()),this.element=o.nativeElement}return y(e,[{key:"items",get:function(){return this._items},set:function(t){this._itemsAreUsed=!0,this._items=t}},{key:"compareWith",get:function(){return this._compareWith},set:function(t){if(null!=t&&!HE(t))throw Error("`compareWith` must be a function.");this._compareWith=t}},{key:"clearSearchOnAdd",get:function(){return qE(this._clearSearchOnAdd)?this._clearSearchOnAdd:this.closeOnSelect},set:function(t){this._clearSearchOnAdd=t}},{key:"disabled",get:function(){return this.readonly||this._disabled}},{key:"filtered",get:function(){return!!this.searchTerm&&this.searchable||this._isComposing}},{key:"_editableSearchTerm",get:function(){return this.editableSearchTerm&&!this.multiple}},{key:"selectedItems",get:function(){return this.itemsList.selectedItems}},{key:"selectedValues",get:function(){return this.selectedItems.map(function(t){return t.value})}},{key:"hasValue",get:function(){return this.selectedItems.length>0}},{key:"currentPanelPosition",get:function(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}},{key:"ngOnInit",value:function(){this._handleKeyPresses(),this._setInputAttributes()}},{key:"ngOnChanges",value:function(t){t.multiple&&this.itemsList.clearSelected(),t.items&&this._setItems(t.items.currentValue||[]),t.isOpen&&(this._manualOpen=qE(t.isOpen.currentValue))}},{key:"ngAfterViewInit",value:function(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),qE(this.autoFocus)&&this.focus()}},{key:"ngOnDestroy",value:function(){this._destroy$.next(),this._destroy$.complete()}},{key:"handleKeyDown",value:function(t){if(MS[t.which]){if(!1===this.keyDownFn(t))return;this.handleKeyCode(t)}else t.key&&1===t.key.length&&this._keyPress$.next(t.key.toLocaleLowerCase())}},{key:"handleKeyCode",value:function(t){switch(t.which){case MS.ArrowDown:this._handleArrowDown(t);break;case MS.ArrowUp:this._handleArrowUp(t);break;case MS.Space:this._handleSpace(t);break;case MS.Enter:this._handleEnter(t);break;case MS.Tab:this._handleTab(t);break;case MS.Esc:this.close(),t.preventDefault();break;case MS.Backspace:this._handleBackspace()}}},{key:"handleMousedown",value:function(t){var e=t.target;"INPUT"!==e.tagName&&t.preventDefault(),e.classList.contains("ng-clear-wrapper")?this.handleClearClick():e.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():e.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}},{key:"handleArrowClick",value:function(){this.isOpen?this.close():this.open()}},{key:"handleClearClick",value:function(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}},{key:"clearModel",value:function(){this.clearable&&(this.itemsList.clearSelected(),this._updateNgModel())}},{key:"writeValue",value:function(t){this.itemsList.clearSelected(),this._handleWriteValue(t),this._cd.markForCheck()}},{key:"registerOnChange",value:function(t){this._onChange=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"setDisabledState",value:function(t){this._disabled=t,this._cd.markForCheck()}},{key:"toggle",value:function(){this.isOpen?this.close():this.open()}},{key:"open",value:function(){this.disabled||this.isOpen||this.itemsList.maxItemsSelected||this._manualOpen||(this._isTypeahead||this.addTag||!this.itemsList.noItemsToSelect)&&(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}},{key:"close",value:function(){this.isOpen&&!this._manualOpen&&(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}},{key:"toggleItem",value:function(t){!t||t.disabled||this.disabled||(this.multiple&&t.selected?this.unselect(t):this.select(t),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}},{key:"select",value:function(t){t.selected||(this.itemsList.select(t),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(t.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}},{key:"focus",value:function(){this.searchInput.nativeElement.focus()}},{key:"blur",value:function(){this.searchInput.nativeElement.blur()}},{key:"unselect",value:function(t){t&&(this.itemsList.unselect(t),this.focus(),this._updateNgModel(),this.removeEvent.emit(t))}},{key:"selectTag",value:function(){var e,n=this;e=HE(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:t({},this.bindLabel,this.searchTerm);var i=function(t){return n._isTypeahead||!n.isOpen?n.itemsList.mapItem(t,null):n.itemsList.addItem(t)};e instanceof Promise?e.then(function(t){return n.select(i(t))}).catch(function(){}):e&&this.select(i(e))}},{key:"showClear",value:function(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}},{key:"showAddTag",get:function(){if(!this._validTerm)return!1;var t=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(function(e){return e.label.toLowerCase()===t})&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(function(e){return e.label.toLowerCase()===t}))&&!this.loading}},{key:"showNoItemsFound",value:function(){var t=0===this.itemsList.filteredItems.length;return(t&&!this._isTypeahead&&!this.loading||t&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}},{key:"showTypeToSearch",value:function(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}},{key:"onCompositionStart",value:function(){this._isComposing=!0}},{key:"onCompositionEnd",value:function(t){this._isComposing=!1,this.searchWhileComposing||this.filter(t)}},{key:"filter",value:function(t){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=t,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(t),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:t,items:this.itemsList.filteredItems.map(function(t){return t.value})}),this.open())}},{key:"onInputFocus",value:function(t){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(t),this.focused=!0)}},{key:"onInputBlur",value:function(t){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(t),this.isOpen||this.disabled||this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}},{key:"onItemHover",value:function(t){t.disabled||this.itemsList.markItem(t)}},{key:"detectChanges",value:function(){this._cd.destroyed||this._cd.detectChanges()}},{key:"_setSearchTermFromItems",value:function(){var t=this.selectedItems&&this.selectedItems[0];this.searchTerm=t&&t.label||null}},{key:"_setItems",value:function(t){var e=t[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=qE(e)?!GE(e):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(t),t.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&qE(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}},{key:"_setItemsFromNgOptions",value:function(){var t=this;this.ngOptions.changes.pipe(Zf(this.ngOptions),Fy(this._destroy$)).subscribe(function(e){var n;t.bindLabel=t._defaultLabel,function(e){t.items=e.map(function(t){return{$ngOptionValue:t.value,$ngOptionLabel:t.elementRef.nativeElement.innerHTML,disabled:t.disabled}}),t.itemsList.setItems(t.items),t.hasValue&&t.itemsList.mapSelectedItems(),t.detectChanges()}(e),n=st(t.ngOptions.changes,t._destroy$),st.apply(void 0,p(t.ngOptions.map(function(t){return t.stateChange$}))).pipe(Fy(n)).subscribe(function(e){var n=t.itemsList.findItem(e.value);n.disabled=e.disabled,n.label=e.label||n.label,t._cd.detectChanges()})})}},{key:"_isValidWriteValue",value:function(t){var e=this;if(!qE(t)||this.multiple&&""===t||Array.isArray(t)&&0===t.length)return!1;var n=function(t){return!(!qE(e.compareWith)&&GE(t)&&e.bindValue&&(e._console.warn("Setting object(".concat(JSON.stringify(t),") as your model with bindValue is not allowed unless [compareWith] is used.")),1))};return this.multiple?Array.isArray(t)?t.every(function(t){return n(t)}):(this._console.warn("Multiple select ngModel should be array."),!1):n(t)}},{key:"_handleWriteValue",value:function(e){var n=this;if(this._isValidWriteValue(e)){var i=function(e){var i=n.itemsList.findItem(e);if(i)n.itemsList.select(i);else{var r,o=GE(e),a=!o&&!n.bindValue;o||a?n.itemsList.select(n.itemsList.mapItem(e,null)):n.bindValue&&(t(r={},n.bindLabel,null),t(r,n.bindValue,e),i=r,n.itemsList.select(n.itemsList.mapItem(i,null)))}};this.multiple?e.forEach(function(t){return i(t)}):i(e)}}},{key:"_handleKeyPresses",value:function(){var t=this;this.searchable||this._keyPress$.pipe(Fy(this._destroy$),fd(function(e){return t._pressedKeys.push(e)}),Qk(200),zp(function(){return t._pressedKeys.length>0}),q(function(){return t._pressedKeys.join("")})).subscribe(function(e){var n=t.itemsList.findByLabel(e);n&&(t.isOpen?(t.itemsList.markItem(n),t._scrollToMarked(),t._cd.markForCheck()):t.select(n)),t._pressedKeys=[]})}},{key:"_setInputAttributes",value:function(){for(var t=this.searchInput.nativeElement,e=Object.assign({type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId},this.inputAttrs),n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];t.setAttribute(r,e[r])}}},{key:"_updateNgModel",value:function(){var t,e=[],n=f(this.selectedItems);try{for(n.s();!(t=n.n()).done;){var i,r=t.value;if(this.bindValue)i=r.children?r.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(r.value,this.bindValue),e.push(i);else e.push(r.value)}}catch(a){n.e(a)}finally{n.f()}var o=this.selectedItems.map(function(t){return t.value});this.multiple?(this._onChange(e),this.changeEvent.emit(o)):(this._onChange(qE(e[0])?e[0]:null),this.changeEvent.emit(o[0])),this._cd.markForCheck()}},{key:"_clearSearch",value:function(){this.searchTerm&&(this._changeSearch(null),this.itemsList.resetFilteredItems())}},{key:"_changeSearch",value:function(t){this.searchTerm=t,this._isTypeahead&&this.typeahead.next(t)}},{key:"_scrollToMarked",value:function(){this.isOpen&&this.dropdownPanel&&this.dropdownPanel.scrollTo(this.itemsList.markedItem)}},{key:"_scrollToTag",value:function(){this.isOpen&&this.dropdownPanel&&this.dropdownPanel.scrollToTag()}},{key:"_onSelectionChanged",value:function(){this.isOpen&&this.multiple&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}},{key:"_handleTab",value:function(t){(!1!==this.isOpen||this.addTag)&&(this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),t.preventDefault()):this.showAddTag?(this.selectTag(),t.preventDefault()):this.close():this.close())}},{key:"_handleEnter",value:function(t){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}t.preventDefault()}},{key:"_handleSpace",value:function(t){this.isOpen||this._manualOpen||(this.open(),t.preventDefault())}},{key:"_handleArrowDown",value:function(t){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),t.preventDefault()}},{key:"_handleArrowUp",value:function(t){this.isOpen&&(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),t.preventDefault())}},{key:"_nextItemIsTag",value:function(t){var e=this.itemsList.markedIndex+t;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(e<0||e===this.itemsList.filteredItems.length)}},{key:"_handleBackspace",value:function(){!this.searchTerm&&this.clearable&&this.clearOnBackspace&&this.hasValue&&(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}},{key:"_isTypeahead",get:function(){return this.typeahead&&this.typeahead.observers.length>0}},{key:"_validTerm",get:function(){var t=this.searchTerm&&this.searchTerm.trim();return t&&t.length>=this.minTermLength}},{key:"_mergeGlobalConfig",value:function(t){this.placeholder=this.placeholder||t.placeholder,this.notFoundText=this.notFoundText||t.notFoundText,this.typeToSearchText=this.typeToSearchText||t.typeToSearchText,this.addTagText=this.addTagText||t.addTagText,this.loadingText=this.loadingText||t.loadingText,this.clearAllText=this.clearAllText||t.clearAllText,this.virtualScroll=qE(this.virtualScroll)?this.virtualScroll:!!qE(t.disableVirtualScroll)&&!t.disableVirtualScroll,this.openOnEnter=qE(this.openOnEnter)?this.openOnEnter:t.openOnEnter,this.appendTo=this.appendTo||t.appendTo,this.bindValue=this.bindValue||t.bindValue,this.bindLabel=this.bindLabel||t.bindLabel,this.appearance=this.appearance||t.appearance}}]),e}()).\u0275fac=function(t){return new(t||SS)(oi("class"),oi("autofocus"),qa(FS),qa(BS),qa(iu),qa(Pu),qa(_S))},SS.\u0275cmp=ae({type:SS,selectors:[["ng-select"]],contentQueries:function(t,e,n){var i;1&t&&(Pl(n,aS,1,Ru),Pl(n,sS,1,Ru),Pl(n,uS,1,Ru),Pl(n,lS,1,Ru),Pl(n,cS,1,Ru),Pl(n,hS,1,Ru),Pl(n,pS,1,Ru),Pl(n,fS,1,Ru),Pl(n,dS,1,Ru),Pl(n,gS,1,Ru),Pl(n,mS,1,Ru),Pl(n,zS,1)),2&t&&(Il(i=Tl())&&(e.optionTemplate=i.first),Il(i=Tl())&&(e.optgroupTemplate=i.first),Il(i=Tl())&&(e.labelTemplate=i.first),Il(i=Tl())&&(e.multiLabelTemplate=i.first),Il(i=Tl())&&(e.headerTemplate=i.first),Il(i=Tl())&&(e.footerTemplate=i.first),Il(i=Tl())&&(e.notFoundTemplate=i.first),Il(i=Tl())&&(e.typeToSearchTemplate=i.first),Il(i=Tl())&&(e.loadingTextTemplate=i.first),Il(i=Tl())&&(e.tagTemplate=i.first),Il(i=Tl())&&(e.loadingSpinnerTemplate=i.first),Il(i=Tl())&&(e.ngOptions=i))},viewQuery:function(t,e){var n;1&t&&(Al(DS,1),Al(cE,3)),2&t&&(Il(n=Tl())&&(e.dropdownPanel=n.first),Il(n=Tl())&&(e.searchInput=n.first))},hostVars:20,hostBindings:function(t,e){1&t&&ns("keydown",function(t){return e.handleKeyDown(t)}),2&t&&vs("ng-select",e.useDefaultClass)("ng-select-single",!e.multiple)("ng-select-multiple",e.multiple)("ng-select-taggable",e.addTag)("ng-select-searchable",e.searchable)("ng-select-clearable",e.clearable)("ng-select-opened",e.isOpen)("ng-select-disabled",e.disabled)("ng-select-filtered",e.filtered)("ng-select-typeahead",e.typeahead)},inputs:{markFirst:"markFirst",dropdownPosition:"dropdownPosition",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",bufferAmount:"bufferAmount",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd",bindLabel:"bindLabel",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",virtualScroll:"virtualScroll",openOnEnter:"openOnEnter",appendTo:"appendTo",bindValue:"bindValue",appearance:"appearance",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",tabIndex:"tabIndex",typeahead:"typeahead"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[Ks([{provide:Sx,useExisting:wt(function(){return SS}),multi:!0},NS]),Se],decls:14,vars:19,consts:[[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"readOnly","disabled","value","input","compositionstart","compositionend","focus","blur","change"],["searchInput",""],["class","ng-clear-wrapper",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel","role","listbox","aria-label","Options list",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],["defaultLabelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],["defaultLoadingSpinnerTemplate",""],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],[1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","update","scroll","scrollToEnd","outsideClick"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],["defaultOptionTemplate",""],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],["defaultTagTemplate",""],[1,"ng-tag-label"],["defaultNotFoundTemplate",""],[1,"ng-option","ng-option-disabled"],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""]],template:function(t,e){if(1&t){var n=Ja();Wa(0,"div",0),ns("mousedown",function(t){return e.handleMousedown(t)}),Wa(1,"div",1),Wa(2,"div",2),Ts(3),Ya(),Va(4,gE,2,2,"ng-container",3),Va(5,yE,1,5,void 0,3),Wa(6,"div",4),Wa(7,"input",5,6),ns("input",function(){Xe(n);var t=Ua(8);return e.filter(t.value)})("compositionstart",function(){return e.onCompositionStart()})("compositionend",function(){Xe(n);var t=Ua(8);return e.onCompositionEnd(t.value)})("focus",function(t){return e.onInputFocus(t)})("blur",function(t){return e.onInputBlur(t)})("change",function(t){return t.stopPropagation()}),Ya(),Ya(),Ya(),Va(9,wE,4,1,"ng-container",3),Va(10,xE,3,1,"span",7),Wa(11,"span",8),Za(12,"span",9),Ya(),Ya(),Va(13,BE,7,19,"ng-dropdown-panel",10)}2&t&&(vs("ng-appearance-outline","outline"===e.appearance)("ng-has-value",e.hasValue),co(3),Os(e.placeholder),co(1),Ga("ngIf",(!e.multiLabelTemplate||!e.multiple)&&e.selectedItems.length>0),co(1),Ga("ngIf",e.multiple&&e.multiLabelTemplate&&e.selectedValues.length>0),co(1),Ba("aria-expanded",e.isOpen)("aria-owns",e.isOpen?e.dropdownId:null),co(1),Ga("readOnly",!e.searchable||e.itemsList.maxItemsSelected)("disabled",e.disabled)("value",e.searchTerm?e.searchTerm:""),Ba("id",e.labelForId)("tabindex",e.tabIndex)("aria-activedescendant",e.isOpen?null==e.itemsList||null==e.itemsList.markedItem?null:e.itemsList.markedItem.htmlId:null)("aria-controls",e.isOpen?e.dropdownId:null),co(2),Ga("ngIf",e.loading),co(1),Ga("ngIf",e.showClear()),co(3),Ga("ngIf",e.isOpen))},directives:[kh,wh,Lh,oS,DS,vh],styles:['.ng-select{display:block;position:relative}.ng-select,.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;cursor:default;user-select:none}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{background:none transparent;border:0;box-shadow:none;box-sizing:content-box;cursor:default;outline:none;padding:0;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;padding:0;user-select:none;width:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{left:0;position:absolute;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;cursor:pointer;position:relative;user-select:none;width:17px}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{-webkit-animation:load8 .8s linear infinite;animation:load8 .8s linear infinite;border:2px solid rgba(66,66,66,.2);border-left-color:#424242;border-radius:50%;font-size:10px;height:17px;margin-right:5px;position:relative;text-indent:-9999em;transform:translateZ(0);width:17px}.ng-select .ng-spinner-loader:after{border-radius:50%;height:17px;width:17px}@-webkit-keyframes load8{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes load8{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ng-select .ng-arrow-wrapper{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;cursor:pointer;position:relative;text-align:center;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{display:inline-block;height:0;pointer-events:none;position:relative;width:0}.ng-dropdown-panel{-webkit-overflow-scrolling:touch;box-sizing:border-box;opacity:0;position:absolute;width:100%;z-index:1050}.ng-dropdown-panel .ng-dropdown-panel-items{box-sizing:border-box;display:block;height:auto;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup,.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{-webkit-overflow-scrolling:touch;display:block;overflow:hidden;overflow-y:auto;position:relative}.ng-dropdown-panel .scrollable-content{height:100%;left:0;position:absolute;top:0;width:100%}.ng-dropdown-panel .total-padding{opacity:0;width:1px}'],encapsulation:2,changeDetection:0}),SS),VS=function(){function t(){m(this,t),this._selected=[]}return y(t,[{key:"value",get:function(){return this._selected}},{key:"select",value:function(t,e,n){if(t.selected=!0,(!t.children||!e&&n)&&this._selected.push(t),e)if(t.parent){var i=t.parent.children.length,r=t.parent.children.filter(function(t){return t.selected}).length;t.parent.selected=i===r}else t.children&&(this._setChildrenSelectedState(t.children,!0),this._removeChildren(t),this._selected=n&&this._activeChildren(t)?[].concat(p(this._selected.filter(function(e){return e.parent!==t})),[t]):[].concat(p(this._selected),p(t.children.filter(function(t){return!t.disabled}))))}},{key:"unselect",value:function(t,e){if(this._selected=this._selected.filter(function(e){return e!==t}),t.selected=!1,e)if(t.parent&&t.parent.selected){var n,i=t.parent.children;this._removeParent(t.parent),this._removeChildren(t.parent),(n=this._selected).push.apply(n,p(i.filter(function(e){return e!==t&&!e.disabled}))),t.parent.selected=!1}else t.children&&(this._setChildrenSelectedState(t.children,!1),this._removeChildren(t))}},{key:"clear",value:function(t){this._selected=t?this._selected.filter(function(t){return t.disabled}):[]}},{key:"_setChildrenSelectedState",value:function(t,e){var n,i=f(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.disabled||(r.selected=e)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_removeChildren",value:function(t){this._selected=[].concat(p(this._selected.filter(function(e){return e.parent!==t})),p(t.children.filter(function(e){return e.parent===t&&e.disabled&&e.selected})))}},{key:"_removeParent",value:function(t){this._selected=this._selected.filter(function(e){return e!==t})}},{key:"_activeChildren",value:function(t){return t.children.every(function(t){return!t.disabled||t.selected})}}]),t}(),US=function(){return new VS},qS=((TS=function t(){m(this,t)}).\u0275fac=function(t){return new(t||TS)},TS.\u0275mod=ce({type:TS}),TS.\u0275inj=Pt({providers:[{provide:BS,useValue:US}],imports:[[Hh]]}),TS),GS=((PS=function(){function t(){m(this,t)}return y(t,[{key:"create",value:function(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}]),t}()).\u0275fac=function(t){return new(t||PS)},PS.\u0275prov=At({factory:function(){return new PS},token:PS,providedIn:"root"}),PS),HS=((AS=function(){function t(e){m(this,t),this._mutationObserverFactory=e,this._observedElements=new Map}return y(t,[{key:"ngOnDestroy",value:function(){var t=this;this._observedElements.forEach(function(e,n){return t._cleanupObserver(n)})}},{key:"observe",value:function(t){var e=this,n=fy(t);return new N(function(t){var i=e._observeElement(n).subscribe(t);return function(){i.unsubscribe(),e._unobserveElement(n)}})}},{key:"_observeElement",value:function(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{var e=new j,n=this._mutationObserverFactory.create(function(t){return e.next(t)});n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}},{key:"_unobserveElement",value:function(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}},{key:"_cleanupObserver",value:function(t){if(this._observedElements.has(t)){var e=this._observedElements.get(t),n=e.observer,i=e.stream;n&&n.disconnect(),i.complete(),this._observedElements.delete(t)}}}]),t}()).\u0275fac=function(t){return new(t||AS)(Ei(GS))},AS.\u0275prov=At({factory:function(){return new AS(Ei(GS))},token:AS,providedIn:"root"}),AS),WS=((IS=function(){function t(e,n,i){m(this,t),this._contentObserver=e,this._elementRef=n,this._ngZone=i,this.event=new gl,this._disabled=!1,this._currentSubscription=null}return y(t,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=cy(t),this._disabled?this._unsubscribe():this._subscribe()}},{key:"debounce",get:function(){return this._debounce},set:function(t){this._debounce=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}(t),this._subscribe()}},{key:"ngAfterContentInit",value:function(){this._currentSubscription||this.disabled||this._subscribe()}},{key:"ngOnDestroy",value:function(){this._unsubscribe()}},{key:"_subscribe",value:function(){var t=this;this._unsubscribe();var e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(function(){t._currentSubscription=(t.debounce?e.pipe(Qk(t.debounce)):e).subscribe(t.event)})}},{key:"_unsubscribe",value:function(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||IS)(qa(HS),qa(iu),qa(ic))},IS.\u0275dir=pe({type:IS,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),IS),YS=((CS=function t(){m(this,t)}).\u0275fac=function(t){return new(t||CS)},CS.\u0275mod=ce({type:CS}),CS.\u0275inj=Pt({providers:[GS]}),CS),ZS=function(t){o(n,t);var e=s(n);function n(){return m(this,n),e.apply(this,arguments)}return y(n,[{key:"setActiveItem",value:function(t){this.activeItem&&this.activeItem.setInactiveStyles(),r(h(n.prototype),"setActiveItem",this).call(this,t),this.activeItem&&this.activeItem.setActiveStyles()}}]),n}(function(){function t(e){var n=this;m(this,t),this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new j,this._typeaheadSubscription=C.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=function(t){return t.disabled},this._pressedLetters=[],this.tabOut=new j,this.change=new j,e instanceof _l&&e.changes.subscribe(function(t){if(n._activeItem){var e=t.toArray().indexOf(n._activeItem);e>-1&&e!==n._activeItemIndex&&(n._activeItemIndex=e)}})}return y(t,[{key:"skipPredicate",value:function(t){return this._skipPredicateFn=t,this}},{key:"withWrap",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._wrap=t,this}},{key:"withVerticalOrientation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._vertical=t,this}},{key:"withHorizontalOrientation",value:function(t){return this._horizontal=t,this}},{key:"withAllowedModifierKeys",value:function(t){return this._allowedModifierKeys=t,this}},{key:"withTypeAhead",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(fd(function(e){return t._pressedLetters.push(e)}),Qk(e),zp(function(){return t._pressedLetters.length>0}),q(function(){return t._pressedLetters.join("")})).subscribe(function(e){for(var n=t._getItemsArray(),i=1;i<n.length+1;i++){var r=(t._activeItemIndex+i)%n.length,o=n[r];if(!t._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(e)){t.setActiveItem(r);break}}t._pressedLetters=[]}),this}},{key:"withHomeAndEnd",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._homeAndEnd=t,this}},{key:"setActiveItem",value:function(t){var e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}},{key:"onKeydown",value:function(t){var e=this,n=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(function(n){return!t[n]||e._allowedModifierKeys.indexOf(n)>-1});switch(n){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||Nv(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))))}this._pressedLetters=[],t.preventDefault()}},{key:"activeItemIndex",get:function(){return this._activeItemIndex}},{key:"activeItem",get:function(){return this._activeItem}},{key:"isTyping",value:function(){return this._pressedLetters.length>0}},{key:"setFirstItemActive",value:function(){this._setActiveItemByIndex(0,1)}},{key:"setLastItemActive",value:function(){this._setActiveItemByIndex(this._items.length-1,-1)}},{key:"setNextItemActive",value:function(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}},{key:"setPreviousItemActive",value:function(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}},{key:"updateActiveItem",value:function(t){var e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}},{key:"_setActiveItemByDelta",value:function(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}},{key:"_setActiveInWrapMode",value:function(t){for(var e=this._getItemsArray(),n=1;n<=e.length;n++){var i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}},{key:"_setActiveInDefaultMode",value:function(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}},{key:"_setActiveItemByIndex",value:function(t,e){var n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}},{key:"_getItemsArray",value:function(){return this._items instanceof _l?this._items.toArray():this._items}}]),t}()),XS=((OS=function(){function t(e){m(this,t),this._platform=e}return y(t,[{key:"isDisabled",value:function(t){return t.hasAttribute("disabled")}},{key:"isVisible",value:function(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}},{key:"isTabbable",value:function(t){if(!this._platform.isBrowser)return!1;var e,n=function(t){try{return t.frameElement}catch(wD){return null}}((e=t).ownerDocument&&e.ownerDocument.defaultView||window);if(n){if(-1===$S(n))return!1;if(!this.isVisible(n))return!1}var i=t.nodeName.toLowerCase(),r=$S(t);return t.hasAttribute("contenteditable")?-1!==r:"iframe"!==i&&"object"!==i&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){var e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==r:"video"===i?-1!==r&&(null!==r||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}},{key:"isFocusable",value:function(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){var e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||KS(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}]),t}()).\u0275fac=function(t){return new(t||OS)(Ei(iv))},OS.\u0275prov=At({factory:function(){return new OS(Ei(iv))},token:OS,providedIn:"root"}),OS);function KS(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;var e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function $S(t){if(!KS(t))return null;var e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}var JS,QS=function(){function t(e,n,i,r){var o=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];m(this,t),this._element=e,this._checker=n,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=function(){return o.focusLastTabbableElement()},this.endAnchorListener=function(){return o.focusFirstTabbableElement()},this._enabled=!0,a||this.attachAnchors()}return y(t,[{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}},{key:"destroy",value:function(){var t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}},{key:"attachAnchors",value:function(){var t=this;return!!this._hasAttached||(this._ngZone.runOutsideAngular(function(){t._startAnchor||(t._startAnchor=t._createAnchor(),t._startAnchor.addEventListener("focus",t.startAnchorListener)),t._endAnchor||(t._endAnchor=t._createAnchor(),t._endAnchor.addEventListener("focus",t.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}},{key:"focusInitialElementWhenReady",value:function(){var t=this;return new Promise(function(e){t._executeOnStable(function(){return e(t.focusInitialElement())})})}},{key:"focusFirstTabbableElementWhenReady",value:function(){var t=this;return new Promise(function(e){t._executeOnStable(function(){return e(t.focusFirstTabbableElement())})})}},{key:"focusLastTabbableElementWhenReady",value:function(){var t=this;return new Promise(function(e){t._executeOnStable(function(){return e(t.focusLastTabbableElement())})})}},{key:"_getRegionBoundary",value:function(t){for(var e=this._element.querySelectorAll("[cdk-focus-region-".concat(t,"], [cdkFocusRegion").concat(t,"], [cdk-focus-").concat(t,"]")),n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-".concat(t))?console.warn("Found use of deprecated attribute 'cdk-focus-".concat(t,"', use 'cdkFocusRegion").concat(t,"' instead. The deprecated attribute will be removed in 8.0.0."),e[n]):e[n].hasAttribute("cdk-focus-region-".concat(t))&&console.warn("Found use of deprecated attribute 'cdk-focus-region-".concat(t,"', use 'cdkFocusRegion").concat(t,"' instead. The deprecated attribute will be removed in 8.0.0."),e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}},{key:"focusInitialElement",value:function(){var t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){var e=this._getFirstTabbableElement(t);return null==e||e.focus(),!!e}return t.focus(),!0}return this.focusFirstTabbableElement()}},{key:"focusFirstTabbableElement",value:function(){var t=this._getRegionBoundary("start");return t&&t.focus(),!!t}},{key:"focusLastTabbableElement",value:function(){var t=this._getRegionBoundary("end");return t&&t.focus(),!!t}},{key:"hasAttached",value:function(){return this._hasAttached}},{key:"_getFirstTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=0;n<e.length;n++){var i=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(i)return i}return null}},{key:"_getLastTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=e.length-1;n>=0;n--){var i=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(i)return i}return null}},{key:"_createAnchor",value:function(){var t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}},{key:"_toggleAnchorTabIndex",value:function(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}},{key:"toggleAnchors",value:function(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}},{key:"_executeOnStable",value:function(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Hf(1)).subscribe(t)}}]),t}(),tC=((JS=function(){function t(e,n,i){m(this,t),this._checker=e,this._ngZone=n,this._document=i}return y(t,[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new QS(t,this._checker,this._ngZone,this._document,e)}}]),t}()).\u0275fac=function(t){return new(t||JS)(Ei(XS),Ei(ic),Ei(zc))},JS.\u0275prov=At({factory:function(){return new JS(Ei(XS),Ei(ic),Ei(zc))},token:JS,providedIn:"root"}),JS);function eC(t){return 0===t.buttons}function nC(t){var e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}"undefined"!=typeof Element&&Element;var iC,rC=new si("cdk-focus-monitor-default-options"),oC=sv({passive:!0,capture:!0}),aC=((iC=function(){function t(e,n,i,r){var o=this;m(this,t),this._ngZone=e,this._platform=n,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=function(){o._lastTouchTarget=null,o._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(t){if(!o._lastTouchTarget){var e=eC(t)?"keyboard":"mouse";o._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=function(t){nC(t)?o._lastTouchTarget||o._setOriginForCurrentEventQueue("keyboard"):(null!=o._touchTimeoutId&&clearTimeout(o._touchTimeoutId),o._lastTouchTarget=sC(t),o._touchTimeoutId=setTimeout(function(){return o._lastTouchTarget=null},650))},this._windowFocusListener=function(){o._windowFocused=!0,o._windowFocusTimeoutId=setTimeout(function(){return o._windowFocused=!1})},this._rootNodeFocusAndBlurListener=function(t){for(var e=sC(t),n="focus"===t.type?o._onFocus:o._onBlur,i=e;i;i=i.parentElement)n.call(o,t,i)},this._document=i,this._detectionMode=(null==r?void 0:r.detectionMode)||0}return y(t,[{key:"monitor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=fy(t);if(!this._platform.isBrowser||1!==n.nodeType)return Rp(null);var i=uv(n)||this._getDocument(),r=this._elementInfo.get(n);if(r)return e&&(r.checkChildren=!0),r.subject;var o={checkChildren:e,subject:new j,rootNode:i};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}},{key:"stopMonitoring",value:function(t){var e=fy(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}},{key:"focusVia",value:function(t,e,n){var r=this,o=fy(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(function(t){var n=i(t,2),o=n[0],a=n[1];return r._originChanged(o,e,a)}):(this._setOriginForCurrentEventQueue(e),"function"==typeof o.focus&&o.focus(n))}},{key:"ngOnDestroy",value:function(){var t=this;this._elementInfo.forEach(function(e,n){return t.stopMonitoring(n)})}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_toggleClass",value:function(t,e,n){n?t.classList.add(e):t.classList.remove(e)}},{key:"_getFocusOrigin",value:function(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}},{key:"_setClasses",value:function(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}},{key:"_setOriginForCurrentEventQueue",value:function(t){var e=this;this._ngZone.runOutsideAngular(function(){e._origin=t,0===e._detectionMode&&(e._originTimeoutId=setTimeout(function(){return e._origin=null},1))})}},{key:"_wasCausedByTouch",value:function(t){var e=sC(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}},{key:"_onFocus",value:function(t,e){var n=this._elementInfo.get(e);n&&(n.checkChildren||e===sC(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}},{key:"_onBlur",value:function(t,e){var n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}},{key:"_emitOrigin",value:function(t,e){this._ngZone.run(function(){return t.next(e)})}},{key:"_registerGlobalListeners",value:function(t){var e=this;if(this._platform.isBrowser){var n=t.rootNode,i=this._rootNodeFocusListenerCount.get(n)||0;i||this._ngZone.runOutsideAngular(function(){n.addEventListener("focus",e._rootNodeFocusAndBlurListener,oC),n.addEventListener("blur",e._rootNodeFocusAndBlurListener,oC)}),this._rootNodeFocusListenerCount.set(n,i+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(function(){var t=e._getDocument(),n=e._getWindow();t.addEventListener("keydown",e._documentKeydownListener,oC),t.addEventListener("mousedown",e._documentMousedownListener,oC),t.addEventListener("touchstart",e._documentTouchstartListener,oC),n.addEventListener("focus",e._windowFocusListener)})}}},{key:"_removeGlobalListeners",value:function(t){var e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){var n=this._rootNodeFocusListenerCount.get(e);n>1?this._rootNodeFocusListenerCount.set(e,n-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,oC),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,oC),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){var i=this._getDocument(),r=this._getWindow();i.removeEventListener("keydown",this._documentKeydownListener,oC),i.removeEventListener("mousedown",this._documentMousedownListener,oC),i.removeEventListener("touchstart",this._documentTouchstartListener,oC),r.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}},{key:"_originChanged",value:function(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}},{key:"_getClosestElementsInfo",value:function(t){var e=[];return this._elementInfo.forEach(function(n,i){(i===t||n.checkChildren&&i.contains(t))&&e.push([i,n])}),e}}]),t}()).\u0275fac=function(t){return new(t||iC)(Ei(ic),Ei(iv),Ei(zc,8),Ei(rC,8))},iC.\u0275prov=At({factory:function(){return new iC(Ei(ic),Ei(iv),Ei(zc,8),Ei(rC,8))},token:iC,providedIn:"root"}),iC);function sC(t){return t.composedPath?t.composedPath()[0]:t.target}var uC,lC,cC=((lC=function(){function t(e,n){m(this,t),this._platform=e,this._document=n}return y(t,[{key:"getHighContrastMode",value:function(){if(!this._platform.isBrowser)return 0;var t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);var e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}},{key:"_applyBodyHighContrastModeCssClasses",value:function(){if(this._platform.isBrowser&&this._document.body){var t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");var e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}]),t}()).\u0275fac=function(t){return new(t||lC)(Ei(iv),Ei(zc))},lC.\u0275prov=At({factory:function(){return new lC(Ei(iv),Ei(zc))},token:lC,providedIn:"root"}),lC),hC=((uC=function t(e){m(this,t),e._applyBodyHighContrastModeCssClasses()}).\u0275fac=function(t){return new(t||uC)(Ei(cC))},uC.\u0275mod=ce({type:uC}),uC.\u0275inj=Pt({imports:[[rv,YS]]}),uC),pC=new lu("11.2.13"),fC=function t(){m(this,t)};function dC(t,e){return{type:7,name:t,definitions:e,options:{}}}function gC(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:e,timings:t}}function mC(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function _C(t){return{type:6,styles:t,offset:null}}function yC(t,e,n){return{type:0,name:t,styles:e,options:n}}function vC(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:t,animation:e,options:n}}function bC(t){Promise.resolve(null).then(t)}var wC=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;m(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}return y(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;bC(function(){return t._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(t){this._position=this.totalTime?t*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}(),xC=function(){function t(e){var n=this;m(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var i=0,r=0,o=0,a=this.players.length;0==a?bC(function(){return n._onFinish()}):this.players.forEach(function(t){t.onDone(function(){++i==a&&n._onFinish()}),t.onDestroy(function(){++r==a&&n._onDestroy()}),t.onStart(function(){++o==a&&n._onStart()})}),this.totalTime=this.players.reduce(function(t,e){return Math.max(t,e.totalTime)},0)}return y(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(t){return t.init()})}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(t){return t.play()})}},{key:"pause",value:function(){this.players.forEach(function(t){return t.pause()})}},{key:"restart",value:function(){this.players.forEach(function(t){return t.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(t){return t.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(t){return t.destroy()}),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(t){return t.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach(function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}},{key:"getPosition",value:function(){var t=this.players.reduce(function(t,e){return null===t||e.totalTime>t.totalTime?e:t},null);return null!=t?t.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(t){t.beforeDestroy&&t.beforeDestroy()})}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}();function kC(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function EC(t){switch(t.length){case 0:return new wC;case 1:return t[0];default:return new xC(t)}}function SC(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],u=-1,l=null;if(i.forEach(function(t){var n=t.offset,i=n==u,c=i&&l||{};Object.keys(t).forEach(function(n){var i=n,s=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,a),s){case"!":s=r[n];break;case"*":s=o[n];break;default:s=e.normalizeStyleValue(n,i,s,a)}c[i]=s}),i||s.push(c),l=c,u=n}),a.length){var c="\n - ";throw new Error("Unable to animate due to the following errors:".concat(c).concat(a.join(c)))}return s}function CC(t,e,n,i){switch(e){case"start":t.onStart(function(){return i(n&&IC(n,"start",t))});break;case"done":t.onDone(function(){return i(n&&IC(n,"done",t))});break;case"destroy":t.onDestroy(function(){return i(n&&IC(n,"destroy",t))})}}function IC(t,e,n){var i=n.totalTime,r=AC(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),o=t._data;return null!=o&&(r._data=o),r}function AC(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function PC(t,e,n){var i;return t instanceof Map?(i=t.get(e))||t.set(e,i=n):(i=t[e])||(i=t[e]=n),i}function TC(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var OC=function(t,e){return!1},LC=function(t,e){return!1},MC=function(t,e,n){return[]},NC=kC();(NC||"undefined"!=typeof Element)&&(OC=function(t,e){return t.contains(e)},LC=function(){if(NC||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:LC}(),MC=function(t,e,n){var i=[];if(n)for(var r=t.querySelectorAll(e),o=0;o<r.length;o++)i.push(r[o]);else{var a=t.querySelector(e);a&&i.push(a)}return i});var RC=null,DC=!1;function zC(t){RC||(RC=("undefined"!=typeof document?document.body:null)||{},DC=!!RC.style&&"WebkitAppearance"in RC.style);var e=!0;return RC.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(!(e=t in RC.style)&&DC)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in RC.style),e}var FC=LC,BC=OC,jC=MC;function VC(t){var e={};return Object.keys(t).forEach(function(n){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}var UC,qC=((UC=function(){function t(){m(this,t)}return y(t,[{key:"validateStyleProperty",value:function(t){return zC(t)}},{key:"matchesElement",value:function(t,e){return FC(t,e)}},{key:"containsElement",value:function(t,e){return BC(t,e)}},{key:"query",value:function(t,e,n){return jC(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,i,r){return new wC(n,i)}}]),t}()).\u0275fac=function(t){return new(t||UC)},UC.\u0275prov=At({token:UC,factory:UC.\u0275fac}),UC),GC=function(){var t=function t(){m(this,t)};return t.NOOP=new qC,t}();function HC(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:WC(parseFloat(e[1]),e[2])}function WC(t,e){switch(e){case"s":return 1e3*t;default:return t}}function YC(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var i,r=0,o="";if("string"==typeof t){var a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};i=WC(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(r=WC(parseFloat(s),a[4]));var u=a[5];u&&(o=u)}else i=t;if(!n){var l=!1,c=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),l=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&e.splice(c,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:i,delay:r,easing:o}}(t,e,n)}function ZC(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function XC(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var i in t)n[i]=t[i];else ZC(t,n);return n}function KC(t,e,n){return n?e+":"+n+";":""}function $C(t){for(var e="",n=0;n<t.style.length;n++){var i=t.style.item(n);e+=KC(0,i,t.style.getPropertyValue(i))}for(var r in t.style)t.style.hasOwnProperty(r)&&!r.startsWith("_")&&(e+=KC(0,r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[r]));t.setAttribute("style",e)}function JC(t,e,n){t.style&&(Object.keys(e).forEach(function(i){var r=aI(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),kC()&&$C(t))}function QC(t,e){t.style&&(Object.keys(e).forEach(function(e){var n=aI(e);t.style[n]=""}),kC()&&$C(t))}function tI(t){return Array.isArray(t)?1==t.length?t[0]:mC(t):t}var eI=new RegExp("{{\\s*(.+?)\\s*}}","g");function nI(t){var e=[];if("string"==typeof t){for(var n;n=eI.exec(t);)e.push(n[1]);eI.lastIndex=0}return e}function iI(t,e,n){var i=t.toString(),r=i.replace(eI,function(t,i){var r=e[i];return e.hasOwnProperty(i)||(n.push("Please provide a value for the animation param ".concat(i)),r=""),r.toString()});return r==i?t:r}function rI(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var oI=/-+([a-z0-9])/g;function aI(t){return t.replace(oI,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()})}function sI(t,e){return 0===t||0===e}function uI(t,e,n){var i=Object.keys(n);if(i.length&&e.length){var r=e[0],o=[];if(i.forEach(function(t){r.hasOwnProperty(t)||o.push(t),r[t]=n[t]}),o.length)for(var a=function(){var n=e[s];o.forEach(function(e){n[e]=cI(t,e)})},s=1;s<e.length;s++)a()}return e}function lI(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #".concat(e.type))}}function cI(t,e){return window.getComputedStyle(t)[e]}var hI=new Set(["true","1"]),pI=new Set(["false","0"]);function fI(t,e){var n=hI.has(t)||pI.has(t),i=hI.has(e)||pI.has(e);return function(r,o){var a="*"==t||t==r,s="*"==e||e==o;return!a&&n&&"boolean"==typeof r&&(a=r?hI.has(t):pI.has(t)),!s&&i&&"boolean"==typeof o&&(s=o?hI.has(e):pI.has(e)),a&&s}}var dI=new RegExp("s*:selfs*,?","g");function gI(t,e,n){return new mI(t).build(e,n)}var mI=function(){function t(e){m(this,t),this._driver=e}return y(t,[{key:"build",value:function(t,e){var n=new _I(e);return this._resetContextStyleTimingState(n),lI(this,tI(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,i=e.queryCount=0,r=e.depCount=0,o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,u=s.name;u.toString().split(/\s*,\s*/).forEach(function(t){s.name=t,o.push(n.visitState(s,e))}),s.name=u}else if(1==t.type){var l=n.visitTransition(t,e);i+=l.queryCount,r+=l.depCount,a.push(l)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){var r=new Set,o=i||{};if(n.styles.forEach(function(t){if(yI(t)){var e=t;Object.keys(e).forEach(function(t){nI(e[t]).forEach(function(t){o.hasOwnProperty(t)||r.add(t)})})}}),r.size){var a=rI(r.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n,i,r,o=lI(this,tI(t.animation),e);return{type:1,matchers:(n=t.expr,i=e.errors,r=[],"string"==typeof n?n.split(/\s*,\s*/).forEach(function(t){return function(t,e,n){if(":"==t[0]){var i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}var r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var o=r[1],a=r[2],s=r[3];e.push(fI(o,s)),"<"!=a[0]||"*"==o&&"*"==s||e.push(fI(s,o))}(t,r,i)}):r.push(n),r),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:vI(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map(function(t){return lI(n,t,e)}),options:vI(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,i=e.currentTime,r=0,o=t.steps.map(function(t){e.currentTime=i;var o=lI(n,t,e);return r=Math.max(r,e.currentTime),o});return e.currentTime=r,{type:3,steps:o,options:vI(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,i=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return bI(YC(t,e).duration,0,"");var i=t;if(i.split(/\s+/).some(function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)})){var r=bI(0,0,"");return r.dynamic=!0,r.strValue=i,r}return bI((n=n||YC(i,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;var r=t.styles?t.styles:_C({});if(5==r.type)n=this.visitKeyframes(r,e);else{var o=t.styles,a=!1;if(!o){a=!0;var s={};i.easing&&(s.easing=i.easing),o=_C(s)}e.currentTime+=i.duration+i.delay;var u=this.visitStyle(o,e);u.isEmptyStep=a,n=u}return e.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach(function(t){"string"==typeof t?"*"==t?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)}):n.push(t.styles);var i=!1,r=null;return n.forEach(function(t){if(yI(t)){var e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(var o in e)if(e[o].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,i=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(function(t){"string"!=typeof t&&Object.keys(t).forEach(function(i){if(n._driver.validateStyleProperty(i)){var a,s,u,l,c,h=e.collectedStyles[e.currentQuerySelector],p=h[i],f=!0;p&&(o!=r&&o>=p.startTime&&r<=p.endTime&&(e.errors.push('The CSS property "'.concat(i,'" that exists between the times of "').concat(p.startTime,'ms" and "').concat(p.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(r,'ms"')),f=!1),o=p.startTime),f&&(h[i]={startTime:o,endTime:r}),e.options&&(a=t[i],s=e.options,u=e.errors,l=s.params||{},(c=nI(a)).length&&c.forEach(function(t){l.hasOwnProperty(t)||u.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))}))}else e.errors.push('The provided animation property "'.concat(i,'" is not a supported CSS property for animations'))})})}},{key:"visitKeyframes",value:function(t,e){var n=this,i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;var r=0,o=[],a=!1,s=!1,u=0,l=t.steps.map(function(t){var i=n._makeStyleAst(t,e),l=null!=i.offset?i.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach(function(t){if(yI(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}});else if(yI(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(i.styles),c=0;return null!=l&&(r++,c=i.offset=l),s=s||c<0||c>1,a=a||c<u,u=c,o.push(c),i});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");var c=t.steps.length,h=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(h=1/(c-1));var p=c-1,f=e.currentTime,d=e.currentAnimateTimings,g=d.duration;return l.forEach(function(t,r){var a=h>0?r==p?1:h*r:o[r],s=a*g;e.currentTime=f+d.delay+s,d.duration=s,n._validateStyleAst(t,e),t.offset=a,i.styles.push(t)}),i}},{key:"visitReference",value:function(t,e){return{type:8,animation:lI(this,tI(t.animation),e),options:vI(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:vI(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:vI(t.options)}}},{key:"visitQuery",value:function(t,e){var n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;var o=i(function(t){var e=!!t.split(/\s*,\s*/).find(function(t){return":self"==t});return e&&(t=t.replace(dI,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,function(t){return".ng-trigger-"+t.substr(1)}).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),a=o[0],s=o[1];e.currentQuerySelector=n.length?n+" "+a:a,PC(e.collectedStyles,e.currentQuerySelector,{});var u=lI(this,tI(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:u,originalSelector:t.selector,options:vI(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:YC(t.timings,e.errors,!0);return{type:12,animation:lI(this,tI(t.animation),e),timings:n,options:null}}}]),t}(),_I=function t(e){m(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function yI(t){return!Array.isArray(t)&&"object"==typeof t}function vI(t){var e;return t?(t=ZC(t)).params&&(t.params=(e=t.params)?ZC(e):null):t={},t}function bI(t,e,n){return{duration:t,delay:e,easing:n}}function wI(t,e,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:s}}var xI=function(){function t(){m(this,t),this._map=new Map}return y(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var n,i=this._map.get(t);i||this._map.set(t,i=[]),(n=i).push.apply(n,p(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),kI=new RegExp(":enter","g"),EI=new RegExp(":leave","g");function SI(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new CI).buildKeyframes(t,e,n,i,r,o,a,s,u,l)}var CI=function(){function t(){m(this,t)}return y(t,[{key:"buildKeyframes",value:function(t,e,n,i,r,o,a,s,u){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new xI;var c=new AI(t,e,u,i,r,l,[]);c.options=s,c.currentTimeline.setStyles([o],null,c.errors,s),lI(this,n,c);var h=c.timelines.filter(function(t){return t.containsAnimation()});if(h.length&&Object.keys(a).length){var p=h[h.length-1];p.allowOnlyTimelineStyles()||p.setStyles([a],null,c.errors,s)}return h.length?h.map(function(t){return t.buildKeyframes()}):[wI(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var i=e.currentTimeline.currentTime,r=null!=n.duration?HC(n.duration):null,o=null!=n.delay?HC(n.delay):null;return 0!==r&&t.forEach(function(t){var n=e.appendInstructionToTimeline(t,r,o);i=Math.max(i,n.duration+n.delay)}),i}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),lI(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,i=e.subContextCount,r=e,o=t.options;if(o&&(o.params||o.delay)&&((r=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=II);var a=HC(o.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(function(t){return lI(n,t,r)}),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,i=[],r=e.currentTimeline.currentTime,o=t.options&&t.options.delay?HC(t.options.delay):0;t.steps.forEach(function(a){var s=e.createSubContext(t.options);o&&s.delayNextStep(o),lI(n,a,s),r=Math.max(r,s.currentTimeline.currentTime),i.push(s.currentTimeline)}),i.forEach(function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)}),e.transformIntoNewTimeline(r),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return YC(e.params?iI(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());var r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();var r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(function(t){o.forwardTime((t.offset||0)*r),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(i+r),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?HC(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=II);var a=i,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;var u=null;s.forEach(function(i,r){e.currentQueryIndex=r;var s=e.createSubContext(t.options,i);o&&s.delayNextStep(o),i===e.element&&(u=s.currentTimeline),lI(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,i=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),a=o*(e.currentQueryTotal-1),s=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=e.currentTimeline;s&&u.delayNextStep(s);var l=u.currentTime;lI(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-l+(i.startTime-n.currentTimeline.startTime)}}]),t}(),II={},AI=function(){function t(e,n,i,r,o,a,s,u){m(this,t),this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=II,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new PI(this._driver,n,0),s.push(this.currentTimeline)}return y(t,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(t,e){var n=this;if(t){var i=t,r=this.options;null!=i.duration&&(r.duration=HC(i.duration)),null!=i.delay&&(r.delay=HC(i.delay));var o=i.params;if(o){var a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(function(t){e&&a.hasOwnProperty(t)||(a[t]=iI(o[t],a,n.errors))})}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach(function(t){n[t]=e[t]})}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,r=n||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=II,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new TI(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,n,i,r,o){var a=[];if(i&&a.push(this.element),t.length>0){t=(t=t.replace(kI,"."+this._enterClassName)).replace(EI,"."+this._leaveClassName);var s=this._driver.query(this.element,t,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),a.push.apply(a,p(s))}return r||0!=a.length||o.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),a}}]),t}(),PI=function(){function t(e,n,i,r){m(this,t),this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return y(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(function(t){e._backFill[t]=e._globalTimelineStyles[t]||"*",e._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,i){var r=this;e&&(this._previousKeyframe.easing=e);var o=i&&i.params||{},a=function(t,e){var n,i={};return t.forEach(function(t){"*"===t?(n=n||Object.keys(e)).forEach(function(t){i[t]="*"}):XC(t,!1,i)}),i}(t,this._globalTimelineStyles);Object.keys(a).forEach(function(t){var e=iI(a[t],o,n);r._pendingStyles[t]=e,r._localTimelineStyles.hasOwnProperty(t)||(r._backFill[t]=r._globalTimelineStyles.hasOwnProperty(t)?r._globalTimelineStyles[t]:"*"),r._updateStyle(t,e)})}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){t._currentKeyframe[n]=e[n]}),Object.keys(this._localTimelineStyles).forEach(function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])}))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach(function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach(function(n){var i=e._styleSummary[n],r=t._styleSummary[n];(!i||r.time>i.time)&&e._updateStyle(n,r.value)})}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration,r=[];this._keyframes.forEach(function(o,a){var s=XC(o,!0);Object.keys(s).forEach(function(t){var i=s[t];"!"==i?e.add(t):"*"==i&&n.add(t)}),i||(s.offset=a/t.duration),r.push(s)});var o=e.size?rI(e.values()):[],a=n.size?rI(n.values()):[];if(i){var s=r[0],u=ZC(s);s.offset=0,u.offset=1,r=[s,u]}return wI(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}}]),t}(),TI=function(t){o(n,t);var e=s(n);function n(t,i,r,o,a,s){var u,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return m(this,n),(u=e.call(this,t,i,s.delay)).element=i,u.keyframes=r,u.preStyleProps=o,u.postStyleProps=a,u._stretchStartingKeyframe=l,u.timings={duration:s.duration,delay:s.delay,easing:s.easing},u}return y(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,i=e.duration,r=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=i+n,s=n/a,u=XC(t[0],!1);u.offset=0,o.push(u);var l=XC(t[0],!1);l.offset=OI(s),o.push(l);for(var c=t.length-1,h=1;h<=c;h++){var p=XC(t[h],!1);p.offset=OI((n+p.offset*i)/a),o.push(p)}i=a,n=0,r="",t=o}return wI(this.element,t,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}]),n}(PI);function OI(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var LI=function t(){m(this,t)},MI=function(t){o(n,t);var e=s(n);function n(){return m(this,n),e.apply(this,arguments)}return y(n,[{key:"normalizePropertyName",value:function(t,e){return aI(t)}},{key:"normalizeStyleValue",value:function(t,e,n,i){var r="",o=n.toString().trim();if(NI[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return o+r}}]),n}(LI),NI=function(t){var e={};return t.forEach(function(t){return e[t]=!0}),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function RI(t,e,n,i,r,o,a,s,u,l,c,h,p){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:a,timelines:s,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:h,errors:p}}var DI={},zI=function(){function t(e,n,i){m(this,t),this._triggerName=e,this.ast=n,this._stateStyles=i}return y(t,[{key:"match",value:function(t,e,n,i){return function(t,e,n,i,r){return t.some(function(t){return t(e,n,i,r)})}(this.ast.matchers,t,e,n,i)}},{key:"buildStyles",value:function(t,e,n){var i=this._stateStyles["*"],r=this._stateStyles[t],o=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):o}},{key:"build",value:function(t,e,n,i,r,o,a,s,u,l){var c=[],h=this.ast.options&&this.ast.options.params||DI,p=this.buildStyles(n,a&&a.params||DI,c),f=s&&s.params||DI,d=this.buildStyles(i,f,c),g=new Set,m=new Map,_=new Map,y="void"===i,v={params:Object.assign(Object.assign({},h),f)},b=l?[]:SI(t,e,this.ast.animation,r,o,p,d,v,u,c),w=0;if(b.forEach(function(t){w=Math.max(t.duration+t.delay,w)}),c.length)return RI(e,this._triggerName,n,i,y,p,d,[],[],m,_,w,c);b.forEach(function(t){var n=t.element,i=PC(m,n,{});t.preStyleProps.forEach(function(t){return i[t]=!0});var r=PC(_,n,{});t.postStyleProps.forEach(function(t){return r[t]=!0}),n!==e&&g.add(n)});var x=rI(g.values());return RI(e,this._triggerName,n,i,y,p,d,b,x,m,_,w)}}]),t}(),FI=function(){function t(e,n){m(this,t),this.styles=e,this.defaultParams=n}return y(t,[{key:"buildStyles",value:function(t,e){var n={},i=ZC(this.defaultParams);return Object.keys(t).forEach(function(e){var n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(function(t){if("string"!=typeof t){var r=t;Object.keys(r).forEach(function(t){var o=r[t];o.length>1&&(o=iI(o,i,e)),n[t]=o})}}),n}}]),t}(),BI=function(){function t(e,n){var i=this;m(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach(function(t){i.states[t.name]=new FI(t.style,t.options&&t.options.params||{})}),jI(this.states,"true","1"),jI(this.states,"false","0"),n.transitions.forEach(function(t){i.transitionFactories.push(new zI(e,t,i.states))}),this.fallbackTransition=new zI(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return y(t,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(t,e,n,i){return this.transitionFactories.find(function(r){return r.match(t,e,n,i)})||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}]),t}();function jI(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var VI=new xI,UI=function(){function t(e,n,i){m(this,t),this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}return y(t,[{key:"register",value:function(t,e){var n=[],i=gI(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[t]=i}},{key:"_buildPlayer",value:function(t,e,n){var i=t.element,r=SC(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[t],s=new Map;if(a?(n=SI(this._driver,e,a,"ng-enter","ng-leave",{},{},r,VI,o)).forEach(function(t){var e=PC(s,t.element,{});t.postStyleProps.forEach(function(t){return e[t]=null})}):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: ".concat(o.join("\n")));s.forEach(function(t,e){Object.keys(t).forEach(function(n){t[n]=i._driver.computeStyle(e,n,"*")})});var u=EC(n.map(function(t){var e=s.get(t.element);return i._buildPlayer(t,{},e)}));return this._playersById[t]=u,u.onDestroy(function(){return i.destroy(t)}),this.players.push(u),u}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by ".concat(t));return e}},{key:"listen",value:function(t,e,n,i){var r=AC(e,"","","");return CC(this._getPlayer(t),n,r,i),function(){}}},{key:"command",value:function(t,e,n,i){if("register"!=n)if("create"!=n){var r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,i[0]||{});else this.register(t,i[0])}}]),t}(),qI=[],GI={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},HI={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},WI=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";m(this,t),this.namespaceId=n;var i,r=e&&e.hasOwnProperty("value");if(this.value=null!=(i=r?e.value:e)?i:null,r){var o=ZC(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return y(t,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach(function(t){null==n[t]&&(n[t]=e[t])})}}}]),t}(),YI=new WI("void"),ZI=function(){function t(e,n,i){m(this,t),this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,eA(n,this._hostClassName)}return y(t,[{key:"listen",value:function(t,e,n,i){var r,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(r=n)&&"done"!=r)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var a=PC(this._elementListeners,t,[]),s={name:e,phase:n,callback:i};a.push(s);var u=PC(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||(eA(t,"ng-trigger"),eA(t,"ng-trigger-"+e),u[e]=YI),function(){o._engine.afterFlush(function(){var t=a.indexOf(s);t>=0&&a.splice(t,1),o._triggers[e]||delete u[e]})}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var i=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(e),a=new KI(this.id,e,t),s=this._engine.statesByElement.get(t);s||(eA(t,"ng-trigger"),eA(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));var u=s[e],l=new WI(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),s[e]=l,u||(u=YI),"void"===l.value||u.value!==l.value){var c=PC(this._engine.playersByElement,t,[]);c.forEach(function(t){t.namespaceId==i.id&&t.triggerName==e&&t.queued&&t.destroy()});var h=o.matchTransition(u.value,l.value,t,l.params),p=!1;if(!h){if(!r)return;h=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:u,toState:l,player:a,isFallbackTransition:p}),p||(eA(t,"ng-animate-queued"),a.onStart(function(){nA(t,"ng-animate-queued")})),a.onDone(function(){var e=i.players.indexOf(a);e>=0&&i.players.splice(e,1);var n=i._engine.playersByElement.get(t);if(n){var r=n.indexOf(a);r>=0&&n.splice(r,1)}}),this.players.push(a),c.push(a),a}if(!function(t,e){var n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(var r=0;r<n.length;r++){var o=n[r];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,l.params)){var f=[],d=o.matchStyles(u.value,u.params,f),g=o.matchStyles(l.value,l.params,f);f.length?this._engine.reportError(f):this._engine.afterFlush(function(){QC(t,d),JC(t,g)})}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach(function(e,n){delete e[t]}),this._elementListeners.forEach(function(n,i){e._elementListeners.set(i,n.filter(function(e){return e.name!=t}))})}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach(function(t){return t.destroy()}),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this,i=this._engine.driver.query(t,".ng-trigger",!0);i.forEach(function(t){if(!t.__ng_removed){var i=n._engine.fetchNamespacesByElement(t);i.size?i.forEach(function(n){return n.triggerLeaveAnimation(t,e,!1,!0)}):n.clearElementCache(t)}}),this._engine.afterFlushAnimationsDone(function(){return i.forEach(function(t){return n.clearElementCache(t)})})}},{key:"triggerLeaveAnimation",value:function(t,e,n,i){var r=this,o=this._engine.statesByElement.get(t);if(o){var a=[];if(Object.keys(o).forEach(function(e){if(r._triggers[e]){var n=r.trigger(t,e,"void",i);n&&a.push(n)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&EC(a).onDone(function(){return r._engine.processLeaveNode(t)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(n&&i){var r=new Set;n.forEach(function(n){var o=n.name;if(!r.has(o)){r.add(o);var a=e._triggers[o].fallbackTransition,s=i[o]||YI,u=new WI("void"),l=new KI(e.id,o,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:o,transition:a,fromState:s,toState:u,player:l,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(t,e){var n=this,i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),!this.triggerLeaveAnimation(t,e,!0)){var r=!1;if(i.totalAnimations){var o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else for(var a=t;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{var s=t.__ng_removed;s&&s!==GI||(i.afterFlush(function(){return n.clearElementCache(t)}),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}}},{key:"insertNode",value:function(t,e){eA(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach(function(i){var r=i.player;if(!r.destroyed){var o=i.element,a=e._elementListeners.get(o);a&&a.forEach(function(e){if(e.name==i.triggerName){var n=AC(o,i.triggerName,i.fromState.value,i.toState.value);n._data=t,CC(i.player,e.phase,n,e.callback)}}),r.markedForDestroy?e._engine.afterFlush(function(){r.destroy()}):n.push(i)}}),this._queue=[],n.sort(function(t,n){var i=t.transition.ast.depCount,r=n.transition.ast.depCount;return 0==i||0==r?i-r:e._engine.driver.containsElement(t.element,n.element)?1:-1})}},{key:"destroy",value:function(t){this.players.forEach(function(t){return t.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(function(e){return e.element===t})||e}}]),t}(),XI=function(){function t(e,n,i){m(this,t),this.bodyNode=e,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return y(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach(function(e){e.players.forEach(function(e){e.queued&&t.push(e)})}),t}},{key:"createNamespace",value:function(t,e){var n=new ZI(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var i=!1,r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var i=this._fetchNamespace(t);this.afterFlush(function(){n.namespacesByHostElement.delete(i.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(i);e>=0&&n._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(function(){return i.destroy(e)})}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var i=Object.keys(n),r=0;r<i.length;r++){var o=n[i[r]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&e.add(a)}}return e}},{key:"trigger",value:function(t,e,n,i){if($I(e)){var r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}},{key:"insertNode",value:function(t,e,n,i){if($I(e)){var r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var a=this._fetchNamespace(t);a&&a.insertNode(e,n)}i&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),eA(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),nA(t,"ng-animate-disabled"))}},{key:"removeNode",value:function(t,e,n,i){if($I(e)){var r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){var o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}}else this._onRemovalComplete(e,i)}},{key:"markElementAsRemoved",value:function(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,i,r){return $I(e)?this._fetchNamespace(t).listen(e,n,i,r):function(){}}},{key:"_buildInstruction",value:function(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach(function(t){return e.destroyActiveAnimationsForElement(t)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach(function(t){return e.finishActiveQueriedAnimationOnElement(t)})}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach(function(t){t.queued?t.markedForDestroy=!0:t.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach(function(t){return t.finish()})}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise(function(e){if(t.players.length)return EC(t.players).onDone(function(){return e()});e()})}},{key:"processLeaveNode",value:function(t){var e=this,n=t.__ng_removed;if(n&&n.setForRemoval){if(t.__ng_removed=GI,n.namespaceId){this.destroyInnerAnimations(t);var i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(function(t){e.markElementAsDisabled(t,!1)})}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(e,n){return t._balanceNamespaceList(e,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var i=0;i<this.collectedEnterElements.length;i++)eA(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var r=[];try{n=this._flushAnimations(r,e)}finally{for(var o=0;o<r.length;o++)r[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(t){return t()}),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?EC(n).onDone(function(){s.forEach(function(t){return t()})}):s.forEach(function(t){return t()})}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(t.join("\n")))}},{key:"_flushAnimations",value:function(t,e){var n=this,i=new xI,r=[],o=new Map,a=[],s=new Map,u=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(function(t){c.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),i=0;i<e.length;i++)c.add(e[i])});var h=this.bodyNode,f=Array.from(this.statesByElement.keys()),d=tA(f,this.collectedEnterElements),g=new Map,m=0;d.forEach(function(t,e){var n="ng-enter"+m++;g.set(e,n),t.forEach(function(t){return eA(t,n)})});for(var _=[],y=new Set,v=new Set,b=0;b<this.collectedLeaveElements.length;b++){var w=this.collectedLeaveElements[b],x=w.__ng_removed;x&&x.setForRemoval&&(_.push(w),y.add(w),x.hasAnimation?this.driver.query(w,".ng-star-inserted",!0).forEach(function(t){return y.add(t)}):v.add(w))}var k=new Map,E=tA(f,Array.from(y));E.forEach(function(t,e){var n="ng-leave"+m++;k.set(e,n),t.forEach(function(t){return eA(t,n)})}),t.push(function(){d.forEach(function(t,e){var n=g.get(e);t.forEach(function(t){return nA(t,n)})}),E.forEach(function(t,e){var n=k.get(e);t.forEach(function(t){return nA(t,n)})}),_.forEach(function(t){n.processLeaveNode(t)})});for(var S=[],C=[],I=this._namespaceList.length-1;I>=0;I--)this._namespaceList[I].drainQueuedTransitions(e).forEach(function(t){var e=t.player,o=t.element;if(S.push(e),n.collectedEnterElements.length){var c=o.__ng_removed;if(c&&c.setForMove)return void e.destroy()}var p=!h||!n.driver.containsElement(h,o),f=k.get(o),d=g.get(o),m=n._buildInstruction(t,i,d,f,p);if(m.errors&&m.errors.length)C.push(m);else{if(p)return e.onStart(function(){return QC(o,m.fromStyles)}),e.onDestroy(function(){return JC(o,m.toStyles)}),void r.push(e);if(t.isFallbackTransition)return e.onStart(function(){return QC(o,m.fromStyles)}),e.onDestroy(function(){return JC(o,m.toStyles)}),void r.push(e);m.timelines.forEach(function(t){return t.stretchStartingKeyframe=!0}),i.append(o,m.timelines),a.push({instruction:m,player:e,element:o}),m.queriedElements.forEach(function(t){return PC(s,t,[]).push(e)}),m.preStyleProps.forEach(function(t,e){var n=Object.keys(t);if(n.length){var i=u.get(e);i||u.set(e,i=new Set),n.forEach(function(t){return i.add(t)})}}),m.postStyleProps.forEach(function(t,e){var n=Object.keys(t),i=l.get(e);i||l.set(e,i=new Set),n.forEach(function(t){return i.add(t)})})}});if(C.length){var A=[];C.forEach(function(t){A.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach(function(t){return A.push("- ".concat(t,"\n"))})}),S.forEach(function(t){return t.destroy()}),this.reportError(A)}var P=new Map,T=new Map;a.forEach(function(t){var e=t.element;i.has(e)&&(T.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,P))}),r.forEach(function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(function(t){PC(P,e,[]).push(t),t.destroy()})});var O=_.filter(function(t){return oA(t,u,l)}),L=new Map;QI(L,this.driver,v,l,"*").forEach(function(t){oA(t,u,l)&&O.push(t)});var M=new Map;d.forEach(function(t,e){QI(M,n.driver,new Set(t),u,"!")}),O.forEach(function(t){var e=L.get(t),n=M.get(t);L.set(t,Object.assign(Object.assign({},e),n))});var N=[],R=[],D={};a.forEach(function(t){var e=t.element,a=t.player,s=t.instruction;if(i.has(e)){if(c.has(e))return a.onDestroy(function(){return JC(e,s.toStyles)}),a.disabled=!0,a.overrideTotalTime(s.totalTime),void r.push(a);var u=D;if(T.size>1){for(var l=e,h=[];l=l.parentNode;){var p=T.get(l);if(p){u=p;break}h.push(l)}h.forEach(function(t){return T.set(t,u)})}var f=n._buildAnimation(a.namespaceId,s,P,o,M,L);if(a.setRealPlayer(f),u===D)N.push(a);else{var d=n.playersByElement.get(u);d&&d.length&&(a.parentPlayer=EC(d)),r.push(a)}}else QC(e,s.fromStyles),a.onDestroy(function(){return JC(e,s.toStyles)}),R.push(a),c.has(e)&&r.push(a)}),R.forEach(function(t){var e=o.get(t.element);if(e&&e.length){var n=EC(e);t.setRealPlayer(n)}}),r.forEach(function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(var z=0;z<_.length;z++){var F=_[z],B=F.__ng_removed;if(nA(F,"ng-leave"),!B||!B.hasAnimation){var j=[];if(s.size){var V=s.get(F);V&&V.length&&j.push.apply(j,p(V));for(var U=this.driver.query(F,".ng-animating",!0),q=0;q<U.length;q++){var G=s.get(U[q]);G&&G.length&&j.push.apply(j,p(G))}}var H=j.filter(function(t){return!t.destroyed});H.length?iA(this,F,H):this.processLeaveNode(F)}}return _.length=0,N.forEach(function(t){n.players.push(t),t.onDone(function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)}),t.play()}),N}},{key:"elementContainsData",value:function(t,e){var n=!1,i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,i,r){var o=[];if(e){var a=this.playersByQueriedElement.get(t);a&&(o=a)}else{var s=this.playersByElement.get(t);if(s){var u=!r||"void"==r;s.forEach(function(t){t.queued||(u||t.triggerName==i)&&o.push(t)})}}return(n||i)&&(o=o.filter(function(t){return!(n&&n!=t.namespaceId||i&&i!=t.triggerName)})),o}},{key:"_beforeAnimationBuild",value:function(t,e,n){var i,r=this,o=e.element,a=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName,u=f(e.timelines);try{var l=function(){var t=i.value.element,u=t!==o,l=PC(n,t,[]);r._getPreviousPlayers(t,u,a,s,e.toState).forEach(function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})};for(u.s();!(i=u.n()).done;)l()}catch(c){u.e(c)}finally{u.f()}QC(o,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,i,r,o){var a=this,s=e.triggerName,u=e.element,l=[],c=new Set,h=new Set,p=e.timelines.map(function(e){var p=e.element;c.add(p);var f=p.__ng_removed;if(f&&f.removedBeforeQueried)return new wC(e.duration,e.delay);var d,g,m=p!==u,_=(d=(n.get(p)||qI).map(function(t){return t.getRealPlayer()}),g=[],rA(d,g),g).filter(function(t){return!!t.element&&t.element===p}),y=r.get(p),v=o.get(p),b=SC(0,a._normalizer,0,e.keyframes,y,v),w=a._buildPlayer(e,b,_);if(e.subTimeline&&i&&h.add(p),m){var x=new KI(t,s,p);x.setRealPlayer(w),l.push(x)}return w});l.forEach(function(t){PC(a.playersByQueriedElement,t.element,[]).push(t),t.onDone(function(){return function(t,e,n){var i;if(t instanceof Map){if(i=t.get(e)){if(i.length){var r=i.indexOf(n);i.splice(r,1)}0==i.length&&t.delete(e)}}else if(i=t[e]){if(i.length){var o=i.indexOf(n);i.splice(o,1)}0==i.length&&delete t[e]}return i}(a.playersByQueriedElement,t.element,t)})}),c.forEach(function(t){return eA(t,"ng-animating")});var f=EC(p);return f.onDestroy(function(){c.forEach(function(t){return nA(t,"ng-animating")}),JC(u,e.toStyles)}),h.forEach(function(t){PC(i,t,[]).push(f)}),f}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new wC(t.duration,t.delay)}}]),t}(),KI=function(){function t(e,n,i){m(this,t),this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new wC,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return y(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(function(n){e._queuedCallbacks[n].forEach(function(e){return CC(t,n,void 0,e)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart(function(){return n.triggerCallback("start")}),t.onDone(function(){return e.finish()}),t.onDestroy(function(){return e.destroy()})}},{key:"_queueEvent",value:function(t,e){PC(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function $I(t){return t&&1===t.nodeType}function JI(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function QI(t,e,n,i,r){var o=[];n.forEach(function(t){return o.push(JI(t))});var a=[];i.forEach(function(n,i){var o={};n.forEach(function(t){var n=o[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=HI,a.push(i))}),t.set(i,o)});var s=0;return n.forEach(function(t){return JI(t,o[s++])}),a}function tA(t,e){var n=new Map;if(t.forEach(function(t){return n.set(t,[])}),0==e.length)return n;var i=new Set(e),r=new Map;function o(t){if(!t)return 1;var e=r.get(t);if(e)return e;var a=t.parentNode;return e=n.has(a)?a:i.has(a)?1:o(a),r.set(t,e),e}return e.forEach(function(t){var e=o(t);1!==e&&n.get(e).push(t)}),n}function eA(t,e){if(t.classList)t.classList.add(e);else{var n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function nA(t,e){if(t.classList)t.classList.remove(e);else{var n=t.$$classes;n&&delete n[e]}}function iA(t,e,n){EC(n).onDone(function(){return t.processLeaveNode(e)})}function rA(t,e){for(var n=0;n<t.length;n++){var i=t[n];i instanceof xC?rA(i.players,e):e.push(i)}}function oA(t,e,n){var i=n.get(t);if(!i)return!1;var r=e.get(t);return r?i.forEach(function(t){return r.add(t)}):e.set(t,i),n.delete(t),!0}var aA=function(){function t(e,n,i){var r=this;m(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new XI(e,n,i),this._timelineEngine=new UI(e,n,i),this._transitionEngine.onRemovalComplete=function(t,e){return r.onRemovalComplete(t,e)}}return y(t,[{key:"registerTrigger",value:function(t,e,n,i,r){var o=t+"-"+i,a=this._triggerCache[o];if(!a){var s=[],u=gI(this._driver,r,s);if(s.length)throw new Error('The animation trigger "'.concat(i,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(t,e){return new BI(t,e)}(i,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,i,a)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}},{key:"onRemove",value:function(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,e,n,r){if("@"==n.charAt(0)){var o=i(TC(n),2),a=o[0],s=o[1];this._timelineEngine.command(a,e,s,r)}else this._transitionEngine.trigger(t,e,n,r)}},{key:"listen",value:function(t,e,n,r,o){if("@"==n.charAt(0)){var a=i(TC(n),2),s=a[0],u=a[1];return this._timelineEngine.listen(s,e,u,o)}return this._transitionEngine.listen(t,e,n,r,o)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),t}();function sA(t,e){var n=null,i=null;return Array.isArray(e)&&e.length?(n=lA(e[0]),e.length>1&&(i=lA(e[e.length-1]))):e&&(n=lA(e)),n||i?new uA(t,n,i):null}var uA=function(){var t=function(){function t(e,n,i){m(this,t),this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;var r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}return y(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&JC(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(JC(this._element,this._initialStyles),this._endStyles&&(JC(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(QC(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(QC(this._element,this._endStyles),this._endStyles=null),JC(this._element,this._initialStyles),this._state=3)}}]),t}();return t.initialStylesByElement=new WeakMap,t}();function lA(t){for(var e=null,n=Object.keys(t),i=0;i<n.length;i++){var r=n[i];cA(r)&&((e=e||{})[r]=t[r])}return e}function cA(t){return"display"===t||"position"===t}var hA=function(){function t(e,n,i,r,o,a,s){var u=this;m(this,t),this._element=e,this._name=n,this._duration=i,this._delay=r,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return u._handleCallback(t)}}return y(t,[{key:"apply",value:function(){var t,e,n;t=this._element,e="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=_A(t,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)t.charAt(n)}(n),e="".concat(n,", ").concat(e)),mA(t,"",e),gA(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){pA(this._element,this._name,"paused")}},{key:"resume",value:function(){pA(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=fA(this._element,this._name);this._position=t*this._duration,mA(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),gA(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var t,e,n,i;this._destroyed||(this._destroyed=!0,this.finish(),t=this._element,e=this._name,n=_A(t,"").split(","),(i=dA(n,e))>=0&&(n.splice(i,1),mA(t,"",n.join(","))))}}]),t}();function pA(t,e,n){mA(t,"PlayState",n,fA(t,e))}function fA(t,e){var n=_A(t,"");return n.indexOf(",")>0?dA(n.split(","),e):dA([n],e)}function dA(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function gA(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function mA(t,e,n,i){var r="animation"+e;if(null!=i){var o=t.style[r];if(o.length){var a=o.split(",");a[i]=n,n=a.join(",")}}t.style[r]=n}function _A(t,e){return t.style["animation"+e]||""}var yA=function(){function t(e,n,i,r,o,a,s,u){m(this,t),this.element=e,this.keyframes=n,this.animationName=i,this._duration=r,this._delay=o,this._finalStyles=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=r+o,this._buildStyler()}return y(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new hA(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return t.finish()})}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach(function(i){"offset"!=i&&(e[i]=n?t._finalStyles[i]:cI(t.element,i))})}this.currentSnapshot=e}}]),t}(),vA=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this)).element=t,r._startingStyles={},r.__initialized=!1,r._styles=VC(i),r}return y(n,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(function(e){t._startingStyles[e]=t.element.style[e]}),r(h(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(function(e){return t.element.style.setProperty(e,t._styles[e])}),r(h(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach(function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)}),this._startingStyles=null,r(h(n.prototype),"destroy",this).call(this))}}]),n}(wC),bA=function(){function t(){m(this,t),this._count=0,this._head=document.querySelector("head")}return y(t,[{key:"validateStyleProperty",value:function(t){return zC(t)}},{key:"matchesElement",value:function(t,e){return FC(t,e)}},{key:"containsElement",value:function(t,e){return BC(t,e)}},{key:"query",value:function(t,e,n){return jC(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map(function(t){return VC(t)});var i="@keyframes ".concat(e," {\n"),r="";n.forEach(function(t){r=" ";var e=parseFloat(t.offset);i+="".concat(r).concat(100*e,"% {\n"),r+=" ",Object.keys(t).forEach(function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+="".concat(r,"animation-timing-function: ").concat(n,";\n")));default:return void(i+="".concat(r).concat(e,": ").concat(n,";\n"))}}),i+="".concat(r,"}\n")}),i+="}\n";var o=document.createElement("style");return o.textContent=i,o}},{key:"animate",value:function(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=o.filter(function(t){return t instanceof yA}),s={};sI(n,i)&&a.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return s[t]=e[t]})});var u=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach(function(t){Object.keys(t).forEach(function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=uI(t,e,s));if(0==n)return new vA(t,u);var l="gen_css_kf_"+this._count++,c=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(c);var h=sA(t,e),p=new yA(t,e,l,n,i,r,u,h);return p.onDestroy(function(){var t;(t=c).parentNode.removeChild(t)}),p}}]),t}(),wA=function(){function t(e,n,i,r){m(this,t),this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}return y(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",function(){return t._onFinish()})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:cI(t.element,n))}),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}(),xA=function(){function t(){m(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(kA().toString()),this._cssKeyframesDriver=new bA}return y(t,[{key:"validateStyleProperty",value:function(t){return zC(t)}},{key:"matchesElement",value:function(t,e){return FC(t,e)}},{key:"containsElement",value:function(t,e){return BC(t,e)}},{key:"query",value:function(t,e,n){return jC(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,o);var s={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(s.easing=r);var u={},l=o.filter(function(t){return t instanceof wA});sI(n,i)&&l.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return u[t]=e[t]})});var c=sA(t,e=uI(t,e=e.map(function(t){return XC(t,!1)}),u));return new wA(t,e,s,c)}}]),t}();function kA(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var EA,SA=((EA=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this))._nextAnimationId=0,r._renderer=t.createRenderer(i.body,{id:"0",encapsulation:qt.None,styles:[],data:{animation:[]}}),r}return y(n,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?mC(t):t;return AA(this._renderer,null,e,"register",[n]),new CA(e,this._renderer)}}]),n}(fC)).\u0275fac=function(t){return new(t||EA)(Ei(ou),Ei(zc))},EA.\u0275prov=At({token:EA,factory:EA.\u0275fac}),EA),CA=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this))._id=t,r._renderer=i,r}return y(n,[{key:"create",value:function(t,e){return new IA(this._id,t,e||{},this._renderer)}}]),n}(function(){return function t(){m(this,t)}}()),IA=function(){function t(e,n,i,r){m(this,t),this.id=e,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}return y(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return AA(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}]),t}();function AA(t,e,n,i,r){return t.setProperty(e,"@@".concat(n,":").concat(i),r)}var PA,TA,OA,LA=((PA=function(){function t(e,n,i){m(this,t),this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return y(t,[{key:"createRenderer",value:function(t,e){var n=this,i=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var r=this._rendererCache.get(i);return r||(r=new MA("",i,this.engine),this._rendererCache.set(i,r)),r}var o=e.id,a=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,t),e.data.animation.forEach(function e(i){Array.isArray(i)?i.forEach(e):n.engine.registerTrigger(o,a,t,i.name,i)}),new NA(this,a,i,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then(function(){t._microtaskId++})}},{key:"scheduleListenerCallback",value:function(t,e,n){var r=this;t>=0&&t<this._microtaskId?this._zone.run(function(){return e(n)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){r._zone.run(function(){r._animationCallbacksBuffer.forEach(function(t){var e=i(t,2);(0,e[0])(e[1])}),r._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}()).\u0275fac=function(t){return new(t||PA)(Ei(ou),Ei(aA),Ei(ic))},PA.\u0275prov=At({token:PA,factory:PA.\u0275fac}),PA),MA=function(){function t(e,n,i){m(this,t),this.namespaceId=e,this.delegate=n,this.engine=i,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return y(t,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,i){this.delegate.setStyle(t,e,n,i)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}}]),t}(),NA=function(t){o(n,t);var e=s(n);function n(t,i,r,o){var a;return m(this,n),(a=e.call(this,i,r,o)).factory=t,a.namespaceId=i,a}return y(n,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,e,n){var r,o,a=this;if("@"==e.charAt(0)){var s,u=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),l=e.substr(1),c="";return"@"!=l.charAt(0)&&(o=(r=l).indexOf("."),l=(s=i([r.substring(0,o),r.substr(o+1)],2))[0],c=s[1]),this.engine.listen(this.namespaceId,u,l,c,function(t){a.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}]),n}(MA),RA=((TA=function(t){o(n,t);var e=s(n);function n(t,i,r){return m(this,n),e.call(this,t.body,i,r)}return n}(aA)).\u0275fac=function(t){return new(t||TA)(Ei(zc),Ei(GC),Ei(LI))},TA.\u0275prov=At({token:TA,factory:TA.\u0275fac}),TA),DA=new si("AnimationModuleType"),zA=[{provide:GC,useFactory:function(){return"function"==typeof kA()?new xA:new bA}},{provide:DA,useValue:"BrowserAnimations"},{provide:fC,useClass:SA},{provide:LI,useFactory:function(){return new MI}},{provide:aA,useClass:RA},{provide:ou,useFactory:function(t,e,n){return new LA(t,e,n)},deps:[bp,aA,ic]}],FA=((OA=function t(){m(this,t)}).\u0275fac=function(t){return new(t||OA)},OA.\u0275mod=ce({type:OA}),OA.\u0275inj=Pt({providers:zA,imports:[Np]}),OA);function BA(t,e){if(1&t&&Za(0,"mat-pseudo-checkbox",4),2&t){var n=ss();Ga("state",n.selected?"checked":"unchecked")("disabled",n.disabled)}}function jA(t,e){if(1&t&&(Wa(0,"span",5),Ts(1),Ya()),2&t){var n=ss();co(1),Ls("(",n.group.label,")")}}var VA,UA=["*"],qA=new lu("11.2.13"),GA=new si("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),HA=((VA=function(){function t(e,n,i){m(this,t),this._hasDoneGlobalChecks=!1,this._document=i,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=n,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return y(t,[{key:"_getWindow",value:function(){var t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}},{key:"_checksAreEnabled",value:function(){return mc()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var t=this._getWindow();return t&&(t.__karma__||t.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){if(this._checksAreEnabled()&&!1!==this._sanityChecks&&this._sanityChecks.theme&&this._document.body&&"function"==typeof getComputedStyle){var t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);var e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}}},{key:"_checkCdkVersionMatch",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&qA.full!==pC.full&&console.warn("The Angular Material version ("+qA.full+") does not match the Angular CDK version ("+pC.full+").\nPlease ensure the versions of these two packages exactly match.")}}]),t}()).\u0275fac=function(t){return new(t||VA)(Ei(cC),Ei(GA,8),Ei(zc))},VA.\u0275mod=ce({type:VA}),VA.\u0275inj=Pt({imports:[[bv],bv]}),VA);function WA(t){return function(t){o(n,t);var e=s(n);function n(){var t;m(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r)))._disabled=!1,t}return y(n,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=cy(t)}}]),n}(t)}function YA(t){return function(t){o(n,t);var e=s(n);function n(){var t;m(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r)))._disableRipple=!1,t}return y(n,[{key:"disableRipple",get:function(){return this._disableRipple},set:function(t){this._disableRipple=cy(t)}}]),n}(t)}try{"undefined"!=typeof Intl}catch(wD){!1}var ZA,XA,KA=((XA=function(){function t(){m(this,t)}return y(t,[{key:"isErrorState",value:function(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}]),t}()).\u0275fac=function(t){return new(t||XA)},XA.\u0275prov=At({factory:function(){return new XA},token:XA,providedIn:"root"}),XA),$A=((ZA=function t(){m(this,t)}).\u0275fac=function(t){return new(t||ZA)},ZA.\u0275dir=pe({type:ZA,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),ZA);function JA(t,e,n){var i=t.nativeElement.classList;n?i.add(e):i.remove(e)}var QA,tP,eP,nP,iP,rP,oP,aP,sP,uP=((QA=function t(){m(this,t)}).\u0275fac=function(t){return new(t||QA)},QA.\u0275mod=ce({type:QA}),QA.\u0275inj=Pt({imports:[[HA],HA]}),QA),lP=function(){function t(e,n,i){m(this,t),this._renderer=e,this.element=n,this.config=i,this.state=3}return y(t,[{key:"fadeOut",value:function(){this._renderer.fadeOutRipple(this)}}]),t}(),cP={enterDuration:450,exitDuration:400},hP=sv({passive:!0}),pP=["mousedown","touchstart"],fP=["mouseup","mouseleave","touchend","touchcancel"],dP=function(){function t(e,n,i,r){m(this,t),this._target=e,this._ngZone=n,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=fy(i))}return y(t,[{key:"fadeInRipple",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},cP),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);var a=i.radius||function(t,e,n){var i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),s=t-r.left,u=e-r.top,l=o.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=s-a+"px",c.style.top=u-a+"px",c.style.height=2*a+"px",c.style.width=2*a+"px",null!=i.color&&(c.style.backgroundColor=i.color),c.style.transitionDuration="".concat(l,"ms"),this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";var h=new lP(this,c,i);return h.state=0,this._activeRipples.add(h),i.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone(function(){var t=h===n._mostRecentTransientRipple;h.state=1,i.persistent||t&&n._isPointerDown||h.fadeOut()},l),h}},{key:"fadeOutRipple",value:function(t){var e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),e){var n=t.element,i=Object.assign(Object.assign({},cP),t.config.animation);n.style.transitionDuration="".concat(i.exitDuration,"ms"),n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(function(){t.state=3,n.parentNode.removeChild(n)},i.exitDuration)}}},{key:"fadeOutAll",value:function(){this._activeRipples.forEach(function(t){return t.fadeOut()})}},{key:"fadeOutAllNonPersistent",value:function(){this._activeRipples.forEach(function(t){t.config.persistent||t.fadeOut()})}},{key:"setupTriggerEvents",value:function(t){var e=fy(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(pP))}},{key:"handleEvent",value:function(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(fP),this._pointerUpEventsRegistered=!0)}},{key:"_onMousedown",value:function(t){var e=eC(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}},{key:"_onTouchStart",value:function(t){if(!this._target.rippleDisabled&&!nC(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;for(var e=t.changedTouches,n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}},{key:"_onPointerUp",value:function(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(function(t){!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}},{key:"_runTimeoutOutsideZone",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._ngZone.runOutsideAngular(function(){return setTimeout(t,e)})}},{key:"_registerEvents",value:function(t){var e=this;this._ngZone.runOutsideAngular(function(){t.forEach(function(t){e._triggerElement.addEventListener(t,e,hP)})})}},{key:"_removeTriggerEvents",value:function(){var t=this;this._triggerElement&&(pP.forEach(function(e){t._triggerElement.removeEventListener(e,t,hP)}),this._pointerUpEventsRegistered&&fP.forEach(function(e){t._triggerElement.removeEventListener(e,t,hP)}))}}]),t}(),gP=new si("mat-ripple-global-options"),mP=((iP=function(){function t(e,n,i,r,o){m(this,t),this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new dP(this,n,e,i)}return y(t,[{key:"disabled",get:function(){return this._disabled},set:function(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}},{key:"trigger",get:function(){return this._trigger||this._elementRef.nativeElement},set:function(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}},{key:"ngOnInit",value:function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}},{key:"ngOnDestroy",value:function(){this._rippleRenderer._removeTriggerEvents()}},{key:"fadeOutAll",value:function(){this._rippleRenderer.fadeOutAll()}},{key:"fadeOutAllNonPersistent",value:function(){this._rippleRenderer.fadeOutAllNonPersistent()}},{key:"rippleConfig",get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}},{key:"rippleDisabled",get:function(){return this.disabled||!!this._globalOptions.disabled}},{key:"_setupTriggerEventsIfEnabled",value:function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}},{key:"launch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}]),t}()).\u0275fac=function(t){return new(t||iP)(qa(iu),qa(ic),qa(iv),qa(gP,8),qa(DA,8))},iP.\u0275dir=pe({type:iP,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&vs("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),iP),_P=((nP=function t(){m(this,t)}).\u0275fac=function(t){return new(t||nP)},nP.\u0275mod=ce({type:nP}),nP.\u0275inj=Pt({imports:[[HA,rv],HA]}),nP),yP=((eP=function t(e){m(this,t),this._animationMode=e,this.state="unchecked",this.disabled=!1}).\u0275fac=function(t){return new(t||eP)(qa(DA,8))},eP.\u0275cmp=ae({type:eP,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&vs("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),eP),vP=((tP=function t(){m(this,t)}).\u0275fac=function(t){return new(t||tP)},tP.\u0275mod=ce({type:tP}),tP.\u0275inj=Pt({imports:[[HA]]}),tP),bP=new si("MAT_OPTION_PARENT_COMPONENT"),wP=WA(function t(){m(this,t)}),xP=0,kP=((rP=function(t){o(n,t);var e=s(n);function n(t){var i,r;return m(this,n),(i=e.call(this))._labelId="mat-optgroup-label-"+xP++,i._inert=null!==(r=null==t?void 0:t.inertGroups)&&void 0!==r&&r,i}return n}(wP)).\u0275fac=function(t){return new(t||rP)(qa(bP,8))},rP.\u0275dir=pe({type:rP,inputs:{label:"label"},features:[Ca]}),rP),EP=new si("MatOptgroup"),SP=0,CP=function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];m(this,t),this.source=e,this.isUserInput=n},IP=((sP=function(){function t(e,n,i,r){m(this,t),this._element=e,this._changeDetectorRef=n,this._parent=i,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+SP++,this.onSelectionChange=new gl,this._stateChanges=new j}return y(t,[{key:"multiple",get:function(){return this._parent&&this._parent.multiple}},{key:"selected",get:function(){return this._selected}},{key:"disabled",get:function(){return this.group&&this.group.disabled||this._disabled},set:function(t){this._disabled=cy(t)}},{key:"disableRipple",get:function(){return this._parent&&this._parent.disableRipple}},{key:"active",get:function(){return this._active}},{key:"viewValue",get:function(){return(this._getHostElement().textContent||"").trim()}},{key:"select",value:function(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}},{key:"deselect",value:function(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}},{key:"focus",value:function(t,e){var n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}},{key:"setActiveStyles",value:function(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}},{key:"setInactiveStyles",value:function(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}},{key:"getLabel",value:function(){return this.viewValue}},{key:"_handleKeydown",value:function(t){13!==t.keyCode&&32!==t.keyCode||Nv(t)||(this._selectViaInteraction(),t.preventDefault())}},{key:"_selectViaInteraction",value:function(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}},{key:"_getAriaSelected",value:function(){return this.selected||!this.multiple&&null}},{key:"_getTabIndex",value:function(){return this.disabled?"-1":"0"}},{key:"_getHostElement",value:function(){return this._element.nativeElement}},{key:"ngAfterViewChecked",value:function(){if(this._selected){var t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"_emitSelectionChangeEvent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.onSelectionChange.emit(new CP(this,t))}}]),t}()).\u0275fac=function(t){return new(t||sP)(qa(iu),qa(Pu),qa(void 0),qa(kP))},sP.\u0275dir=pe({type:sP,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),sP),AP=((aP=function(t){o(n,t);var e=s(n);function n(t,i,r,o){return m(this,n),e.call(this,t,i,r,o)}return n}(IP)).\u0275fac=function(t){return new(t||aP)(qa(iu),qa(Pu),qa(bP,8),qa(EP,8))},aP.\u0275cmp=ae({type:aP,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&ns("click",function(){return e._selectViaInteraction()})("keydown",function(t){return e._handleKeydown(t)}),2&t&&(Ns("id",e.id),Ba("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),vs("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},exportAs:["matOption"],features:[Ca],ngContentSelectors:UA,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,e){1&t&&(ls(),Va(0,BA,1,2,"mat-pseudo-checkbox",0),Wa(1,"span",1),cs(2),Ya(),Va(3,jA,2,1,"span",2),Za(4,"div",3)),2&t&&(Ga("ngIf",e.multiple),co(3),Ga("ngIf",e.group&&e.group._inert),co(1),Ga("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[kh,mP,yP],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),aP),PP=((oP=function t(){m(this,t)}).\u0275fac=function(t){return new(t||oP)},oP.\u0275mod=ce({type:oP}),oP.\u0275inj=Pt({imports:[[_P,Hh,HA,vP]]}),oP),TP=["underline"],OP=["connectionContainer"],LP=["inputContainer"],MP=["label"];function NP(t,e){1&t&&(Xa(0),Wa(1,"div",14),Za(2,"div",15),Za(3,"div",16),Za(4,"div",17),Ya(),Wa(5,"div",18),Za(6,"div",15),Za(7,"div",16),Za(8,"div",17),Ya(),Ka())}function RP(t,e){1&t&&(Wa(0,"div",19),cs(1,1),Ya())}function DP(t,e){if(1&t&&(Xa(0),cs(1,2),Wa(2,"span"),Ts(3),Ya(),Ka()),2&t){var n=ss(2);co(3),Os(n._control.placeholder)}}function zP(t,e){1&t&&cs(0,3,["*ngSwitchCase","true"])}function FP(t,e){1&t&&(Wa(0,"span",23),Ts(1," *"),Ya())}function BP(t,e){if(1&t){var n=Ja();Wa(0,"label",20,21),ns("cdkObserveContent",function(){return Xe(n),ss().updateOutlineGap()}),Va(2,DP,4,1,"ng-container",12),Va(3,zP,1,0,"ng-content",12),Va(4,FP,2,0,"span",22),Ya()}if(2&t){var i=ss();vs("mat-empty",i._control.empty&&!i._shouldAlwaysFloat())("mat-form-field-empty",i._control.empty&&!i._shouldAlwaysFloat())("mat-accent","accent"==i.color)("mat-warn","warn"==i.color),Ga("cdkObserveContentDisabled","outline"!=i.appearance)("id",i._labelId)("ngSwitch",i._hasLabel()),Ba("for",i._control.id)("aria-owns",i._control.id),co(2),Ga("ngSwitchCase",!1),co(1),Ga("ngSwitchCase",!0),co(1),Ga("ngIf",!i.hideRequiredMarker&&i._control.required&&!i._control.disabled)}}function jP(t,e){1&t&&(Wa(0,"div",24),cs(1,4),Ya())}function VP(t,e){if(1&t&&(Wa(0,"div",25,26),Za(2,"span",27),Ya()),2&t){var n=ss();co(2),vs("mat-accent","accent"==n.color)("mat-warn","warn"==n.color)}}function UP(t,e){1&t&&(Wa(0,"div"),cs(1,5),Ya()),2&t&&Ga("@transitionMessages",ss()._subscriptAnimationState)}function qP(t,e){if(1&t&&(Wa(0,"div",31),Ts(1),Ya()),2&t){var n=ss(2);Ga("id",n._hintLabelId),co(1),Os(n.hintLabel)}}function GP(t,e){if(1&t&&(Wa(0,"div",28),Va(1,qP,2,2,"div",29),cs(2,6),Za(3,"div",30),cs(4,7),Ya()),2&t){var n=ss();Ga("@transitionMessages",n._subscriptAnimationState),co(1),Ga("ngIf",n.hintLabel)}}var HP,WP,YP,ZP,XP,KP,$P,JP=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],QP=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],tT=0,eT=new si("MatError"),nT=((HP=function t(){m(this,t),this.id="mat-error-"+tT++}).\u0275fac=function(t){return new(t||HP)},HP.\u0275dir=pe({type:HP,selectors:[["mat-error"]],hostAttrs:["role","alert",1,"mat-error"],hostVars:1,hostBindings:function(t,e){2&t&&Ba("id",e.id)},inputs:{id:"id"},features:[Ks([{provide:eT,useExisting:HP}])]}),HP),iT={transitionMessages:dC("transitionMessages",[yC("enter",_C({opacity:1,transform:"translateY(0%)"})),vC("void => enter",[_C({opacity:0,transform:"translateY(-5px)"}),gC("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},rT=((WP=function t(){m(this,t)}).\u0275fac=function(t){return new(t||WP)},WP.\u0275dir=pe({type:WP}),WP),oT=new si("MatHint"),aT=((ZP=function t(){m(this,t)}).\u0275fac=function(t){return new(t||ZP)},ZP.\u0275dir=pe({type:ZP,selectors:[["mat-label"]]}),ZP),sT=((YP=function t(){m(this,t)}).\u0275fac=function(t){return new(t||YP)},YP.\u0275dir=pe({type:YP,selectors:[["mat-placeholder"]]}),YP),uT=new si("MatPrefix"),lT=new si("MatSuffix"),cT=0,hT=(XP="primary",function(t){o(n,t);var e=s(n);function n(){var t;m(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).defaultColor=XP,t.color=XP,t}return y(n,[{key:"color",get:function(){return this._color},set:function(t){var e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-".concat(this._color)),e&&this._elementRef.nativeElement.classList.add("mat-".concat(e)),this._color=e)}}]),n}(function t(e){m(this,t),this._elementRef=e})),pT=new si("MAT_FORM_FIELD_DEFAULT_OPTIONS"),fT=new si("MatFormField"),dT=(($P=function(t){o(n,t);var e=s(n);function n(t,i,r,o,a,s,u,l){var c;return m(this,n),(c=e.call(this,t))._elementRef=t,c._changeDetectorRef=i,c._dir=o,c._defaults=a,c._platform=s,c._ngZone=u,c._outlineGapCalculationNeededImmediately=!1,c._outlineGapCalculationNeededOnStable=!1,c._destroyed=new j,c._showAlwaysAnimate=!1,c._subscriptAnimationState="",c._hintLabel="",c._hintLabelId="mat-hint-"+cT++,c._labelId="mat-form-field-label-"+cT++,c.floatLabel=c._getDefaultFloatLabelState(),c._animationsEnabled="NoopAnimations"!==l,c.appearance=a&&a.appearance?a.appearance:"legacy",c._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker,c}return y(n,[{key:"appearance",get:function(){return this._appearance},set:function(t){var e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}},{key:"hideRequiredMarker",get:function(){return this._hideRequiredMarker},set:function(t){this._hideRequiredMarker=cy(t)}},{key:"_shouldAlwaysFloat",value:function(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}},{key:"_canLabelFloat",value:function(){return"never"!==this.floatLabel}},{key:"hintLabel",get:function(){return this._hintLabel},set:function(t){this._hintLabel=t,this._processHints()}},{key:"floatLabel",get:function(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel},set:function(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}},{key:"_control",get:function(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic},set:function(t){this._explicitFormFieldControl=t}},{key:"getLabelId",value:function(){return this._hasFloatingLabel()?this._labelId:null}},{key:"getConnectedOverlayOrigin",value:function(){return this._connectionContainerRef||this._elementRef}},{key:"ngAfterContentInit",value:function(){var t=this;this._validateControlChild();var e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-".concat(e.controlType)),e.stateChanges.pipe(Zf(null)).subscribe(function(){t._validatePlaceholders(),t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Fy(this._destroyed)).subscribe(function(){return t._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.pipe(Fy(t._destroyed)).subscribe(function(){t._outlineGapCalculationNeededOnStable&&t.updateOutlineGap()})}),st(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(function(){t._outlineGapCalculationNeededOnStable=!0,t._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Zf(null)).subscribe(function(){t._processHints(),t._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Zf(null)).subscribe(function(){t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Fy(this._destroyed)).subscribe(function(){"function"==typeof requestAnimationFrame?t._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){return t.updateOutlineGap()})}):t.updateOutlineGap()})}},{key:"ngAfterContentChecked",value:function(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}},{key:"ngAfterViewInit",value:function(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_shouldForward",value:function(t){var e=this._control?this._control.ngControl:null;return e&&e[t]}},{key:"_hasPlaceholder",value:function(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}},{key:"_hasLabel",value:function(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}},{key:"_shouldLabelFloat",value:function(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}},{key:"_hideControlPlaceholder",value:function(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}},{key:"_hasFloatingLabel",value:function(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}},{key:"_getDisplayedMessages",value:function(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}},{key:"_animateAndLockLabel",value:function(){var t=this;this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,dy(this._label.nativeElement,"transitionend").pipe(Hf(1)).subscribe(function(){t._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}},{key:"_validatePlaceholders",value:function(){}},{key:"_processHints",value:function(){this._validateHints(),this._syncDescribedByIds()}},{key:"_validateHints",value:function(){}},{key:"_getDefaultFloatLabelState",value:function(){return this._defaults&&this._defaults.floatLabel||"auto"}},{key:"_syncDescribedByIds",value:function(){if(this._control){var t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push.apply(t,p(this._control.userAriaDescribedBy.split(" "))),"hint"===this._getDisplayedMessages()){var e=this._hintChildren?this._hintChildren.find(function(t){return"start"===t.align}):null,n=this._hintChildren?this._hintChildren.find(function(t){return"end"===t.align}):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push.apply(t,p(this._errorChildren.map(function(t){return t.id})));this._control.setDescribedByIds(t)}}},{key:"_validateControlChild",value:function(){}},{key:"updateOutlineGap",value:function(){var t=this._label?this._label.nativeElement:null;if("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser)if(this._isAttachedToDOM()){var e=0,n=0,i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),o=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){var a=i.getBoundingClientRect();if(0===a.width&&0===a.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);for(var s=this._getStartEnd(a),u=t.children,l=this._getStartEnd(u[0].getBoundingClientRect()),c=0,h=0;h<u.length;h++)c+=u[h].offsetWidth;e=Math.abs(l-s)-5,n=c>0?.75*c+10:0}for(var p=0;p<r.length;p++)r[p].style.width="".concat(e,"px");for(var f=0;f<o.length;f++)o[f].style.width="".concat(n,"px");this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}else this._outlineGapCalculationNeededImmediately=!0}},{key:"_getStartEnd",value:function(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}},{key:"_isAttachedToDOM",value:function(){var t=this._elementRef.nativeElement;if(t.getRootNode){var e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}]),n}(hT)).\u0275fac=function(t){return new(t||$P)(qa(iu),qa(Pu),qa(iu),qa(vv,8),qa(pT,8),qa(iv),qa(ic),qa(DA,8))},$P.\u0275cmp=ae({type:$P,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){var i;1&t&&(Pl(n,rT,1),Pl(n,rT,3),Pl(n,aT,1),Pl(n,aT,3),Pl(n,sT,1),Pl(n,eT,1),Pl(n,oT,1),Pl(n,uT,1),Pl(n,lT,1)),2&t&&(Il(i=Tl())&&(e._controlNonStatic=i.first),Il(i=Tl())&&(e._controlStatic=i.first),Il(i=Tl())&&(e._labelChildNonStatic=i.first),Il(i=Tl())&&(e._labelChildStatic=i.first),Il(i=Tl())&&(e._placeholderChild=i.first),Il(i=Tl())&&(e._errorChildren=i),Il(i=Tl())&&(e._hintChildren=i),Il(i=Tl())&&(e._prefixChildren=i),Il(i=Tl())&&(e._suffixChildren=i))},viewQuery:function(t,e){var n;1&t&&(Al(TP,1),Al(OP,3),Al(LP,1),Al(MP,1)),2&t&&(Il(n=Tl())&&(e.underlineRef=n.first),Il(n=Tl())&&(e._connectionContainerRef=n.first),Il(n=Tl())&&(e._inputContainerRef=n.first),Il(n=Tl())&&(e._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,e){2&t&&vs("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Ks([{provide:fT,useExisting:$P}]),Ca],ngContentSelectors:QP,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(ls(JP),Wa(0,"div",0),Wa(1,"div",1,2),ns("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),Va(3,NP,9,0,"ng-container",3),Va(4,RP,2,0,"div",4),Wa(5,"div",5,6),cs(7),Wa(8,"span",7),Va(9,BP,5,16,"label",8),Ya(),Ya(),Va(10,jP,2,0,"div",9),Ya(),Va(11,VP,3,4,"div",10),Wa(12,"div",11),Va(13,UP,2,1,"div",12),Va(14,GP,5,2,"div",13),Ya(),Ya()),2&t&&(co(3),Ga("ngIf","outline"==e.appearance),co(1),Ga("ngIf",e._prefixChildren.length),co(5),Ga("ngIf",e._hasFloatingLabel()),co(1),Ga("ngIf",e._suffixChildren.length),co(1),Ga("ngIf","outline"!=e.appearance),co(1),Ga("ngSwitch",e._getDisplayedMessages()),co(1),Ga("ngSwitchCase","error"),co(1),Ga("ngSwitchCase","hint"))},directives:[kh,Th,Oh,WS],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[iT.transitionMessages]},changeDetection:0}),$P),gT=((KP=function t(){m(this,t)}).\u0275fac=function(t){return new(t||KP)},KP.\u0275mod=ce({type:KP}),KP.\u0275inj=Pt({imports:[[Hh,HA,YS],HA]}),KP);function mT(t){return"function"==typeof t}var _T,yT=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ngOnDestroy";return function(n){var i=t[e];if(!1===mT(i))throw new Error("".concat(t.constructor.name," is using untilDestroyed but doesn't implement ").concat(e));return t.__takeUntilDestroy||(t.__takeUntilDestroy=new j,t[e]=function(){mT(i)&&i.apply(this,arguments),t.__takeUntilDestroy.next(!0),t.__takeUntilDestroy.complete()}),n.pipe(Fy(t.__takeUntilDestroy))}},vT=function(){function t(e){m(this,t),this.ngSelect=e}return y(t,[{key:"isErrorState",value:function(t,e){return t?!!(t&&t.invalid&&(t.touched||e&&e.submitted)):this.ngSelect.required&&this.ngSelect.empty}}]),t}(),bT=((_T=function(){function t(e,n,i,r){var o=this;m(this,t),this.host=e,this.ngControl=n,this._parentForm=i,this._parentFormGroup=r,this.id="ng-select-"+t.nextId++,this.describedBy="",this.errorState=!1,this._defaultErrorStateMatcher=new vT(this),this.stateChanges=new j,this.focused=!1,this._required=!1,this._disabled=!1,e.focusEvent.asObservable().pipe(yT(this)).subscribe(function(t){o.focused=!0,o.stateChanges.next()}),e.blurEvent.asObservable().pipe(yT(this)).subscribe(function(t){o.focused=!1,o.stateChanges.next()})}return y(t,[{key:"empty",get:function(){return null==this._value}},{key:"shouldLabelFloat",get:function(){return this.focused||!this.empty}},{key:"placeholder",get:function(){return this._placeholder},set:function(t){this._placeholder=t,this.stateChanges.next()}},{key:"required",get:function(){return this._required},set:function(t){this._required=cy(t),this.stateChanges.next()}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=cy(t),this.stateChanges.next()}},{key:"value",get:function(){return this._value},set:function(t){this._value=t,this.stateChanges.next()}},{key:"ngOnInit",value:function(){var t=this;this.ngControl?(this._value=this.ngControl.value,this._disabled=this.ngControl.disabled,this.ngControl.statusChanges.pipe(yT(this)).subscribe(function(e){var n="DISABLED"===e;n!==t._disabled&&(t.disabled=n)}),this.ngControl.valueChanges.pipe(yT(this)).subscribe(function(e){t._value=e,t.host.detectChanges(),t.stateChanges.next()})):this.host.changeEvent.asObservable().pipe(yT(this)).subscribe(function(e){t._value=e,t.host.detectChanges(),t.stateChanges.next()})}},{key:"ngOnDestroy",value:function(){}},{key:"ngDoCheck",value:function(){this.updateErrorState()}},{key:"updateErrorState",value:function(){var t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}},{key:"setDescribedByIds",value:function(t){this.describedBy=t.join(" ")}},{key:"onContainerClick",value:function(t){t.target.classList.contains("mat-form-field-infix")&&(this.host.focus(),this.host.open())}}]),t}()).nextId=0,_T.\u0275fac=function(t){return new(t||_T)(qa(jS),qa(ek,10),qa(Fk,8),qa(Wk,8))},_T.\u0275dir=pe({type:_T,selectors:[["","ngSelectMat",""]],hostVars:2,hostBindings:function(t,e){2&t&&(Ns("id",e.id),Ba("aria-describedby",e.describedBy))},inputs:{id:"id",errorStateMatcher:"errorStateMatcher",placeholder:"placeholder",required:"required",disabled:"disabled",value:"value"},features:[Ks([{provide:rT,useExisting:_T}])]}),_T),wT=function(){return["fal","times"]};function xT(t,e){if(1&t){var n=Ja();Wa(0,"fa-icon",7),ns("click",function(){Xe(n);var t=ss(),e=Ua(5);return t.onClose(e)}),Ya()}2&t&&Ga("icon",el(1,wT))}function kT(t,e){if(1&t&&(Wa(0,"ng-option",8),Ts(1),Ya()),2&t){var n=e.$implicit;Ga("value",n),co(1),Os(n.properties.title)}}var ET,ST=function(t){return{"search-opened":t}},CT=function(){return["fal","search"]},IT="en",AT=((ET=function(){function t(e,n,i,r){m(this,t),this.sidebarService=e,this.elRef=n,this.mapService=i,this.translateService=r,this.searchOpen=!1,this.optionsOpen=!1,IT=this.translateService.currentLang}return y(t,[{key:"ngOnInit",value:function(){var t=this.elRef.nativeElement.children[0].children[2].children[0].children[0].children[1].children[0];this.elRef.nativeElement.children[0].children[2].children[0].children[0].children[0].id="inputLabel",t.title="Search",t.setAttribute("aria-labelledby","inputLabel")}},{key:"onSearchOpen",value:function(){this.mapService.mapReady&&(this.pois=this.sidebarService.sortedPOIs,this.searchOpen=!0)}},{key:"onSearch",value:function(t){this.optionsOpen=t.term.length>0}},{key:"onSelect",value:function(t,e){var n=this;this.sidebarService.onSetEndPoi(t),setTimeout(function(){n.selectedPoi=null,n.searchOpen=!1,n.optionsOpen=!1,e.blur()})}},{key:"customSearchFn",value:function(t,e){var n,i=e.properties.description_i18n&&e.properties.description_i18n[IT]?e.properties.description_i18n[IT]:null===(n=e.properties.description_i18n)||void 0===n?void 0:n.en;return t=Qb(t.toLowerCase()),Qb(e.properties.title).toLowerCase().indexOf(t)>-1||(null==i?void 0:i.toLowerCase().indexOf(t))>-1}},{key:"onClose",value:function(t){t.close(),t.blur(),t.searchTerm=null,this.searchOpen=!1,this.optionsOpen=!1}}]),t}()).\u0275fac=function(t){return new(t||ET)(qa(Jb),qa(iu),qa(iy),qa(Zb))},ET.\u0275cmp=ae({type:ET,selectors:[["app-search"]],decls:8,vars:17,consts:[[1,"container",3,"ngClass"],[1,"overlay"],[1,"search-icon",3,"icon","size"],["size","2x","class","close-icon",3,"icon","click",4,"ngIf"],["ngSelectMat","","dropdownPosition","bottom",1,"custom",3,"placeholder","ngModel","isOpen","closeOnSelect","clearSearchOnAdd","searchFn","disabled","ngModelChange","click","search","change"],["select",""],[3,"value",4,"ngFor","ngForOf"],["size","2x",1,"close-icon",3,"icon","click"],[3,"value"]],template:function(t,e){if(1&t){var n=Ja();Wa(0,"div",0),Za(1,"div",1),Za(2,"fa-icon",2),Va(3,xT,1,2,"fa-icon",3),Wa(4,"ng-select",4,5),ns("ngModelChange",function(t){return e.selectedPoi=t})("click",function(){return e.onSearchOpen()})("search",function(t){return e.onSearch(t)})("change",function(t){Xe(n);var i=Ua(5);return e.onSelect(t,i)}),ul(6,"translate"),Va(7,kT,2,2,"ng-option",6),Ya(),Ya()}2&t&&(Ga("ngClass",nl(14,ST,e.searchOpen)),co(2),Ga("icon",el(16,CT))("size",e.searchOpen?"2x":"lg"),co(1),Ga("ngIf",e.searchOpen),co(1),Ga("placeholder",ll(6,12,"searchPlaceholder"))("ngModel",e.selectedPoi)("isOpen",e.optionsOpen)("closeOnSelect",!0)("clearSearchOnAdd",!0)("searchFn",e.customSearchFn)("disabled",!e.mapService.mapReady),co(3),Ga("ngForOf",e.pois))},directives:[vh,kx,kh,jS,bT,ik,Vk,wh,zS],pipes:[Xb],styles:[".container[_ngcontent-%COMP%]{position:absolute;top:2rem;left:1rem}.container[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;background-color:hsla(0,0%,100%,0);transition:all .2s linear;z-index:10}.container[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#da291c;position:absolute;z-index:13;top:12px;transition:all .3s linear}.container[_ngcontent-%COMP%]   fa-icon.search-icon[_ngcontent-%COMP%]{left:15px}.container[_ngcontent-%COMP%]   fa-icon.close-icon[_ngcontent-%COMP%]{right:85px;top:55px;position:fixed;opacity:0;cursor:pointer}.container[_ngcontent-%COMP%]   fa-icon.close-icon[_ngcontent-%COMP%]:hover{color:#e7265b}.container[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]    {min-width:428px}.container[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]     .ng-select-container{cursor:pointer;width:428px;min-height:0;border-radius:50px;height:46px;background-color:hsla(0,0%,100%,.9);border:2px solid rgba(0,0,0,.15);box-shadow:0 5px 10px rgba(0,0,0,.05);transition:all .3s linear}.container[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]     .ng-select-container:hover{border:2px solid rgba(0,0,0,.25);box-shadow:0 5px 10px rgba(0,0,0,.08)}.container[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]     .ng-select-container .ng-value-container{cursor:pointer;padding-left:50px}.container[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]     .ng-select-container .ng-value-container .ng-input input, .container[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]     .ng-select-container .ng-value-container .ng-placeholder{cursor:pointer;color:#da291c}.container[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]     .ng-select-container .ng-value-container .ng-input{transition:all .3s linear}.container[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]     .ng-select-container .ng-value-container .ng-input input{padding-left:65px}.container[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]     .ng-select-container .ng-arrow-wrapper, .container[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]     .ng-select-container .ng-clear-wrapper{display:none}.container[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]     .ng-dropdown-panel{border:0;border-radius:0;background-color:transparent;box-shadow:none}.container[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]     .ng-dropdown-panel .ng-dropdown-panel-items{max-height:420px;overflow:hidden}.container[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]     .ng-dropdown-panel .ng-dropdown-panel-items .ng-option{background-color:transparent;color:#da291c;padding-left:65px;font-size:28px}.container[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]     .ng-dropdown-panel .ng-dropdown-panel-items .ng-option.ng-option-marked{font-weight:700}.container.search-opened[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{display:block;background-color:hsla(0,0%,100%,.75);bottom:0}.container.search-opened[_ngcontent-%COMP%]   fa-icon.search-icon[_ngcontent-%COMP%]{top:23px;left:40px}.container.search-opened[_ngcontent-%COMP%]   fa-icon.close-icon[_ngcontent-%COMP%]{opacity:1}.container.search-opened[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]    {position:fixed;left:2rem;right:2rem;z-index:12}.container.search-opened[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]     .ng-select-container{width:100%;border-radius:80px;height:80px;border-width:3px}.container.search-opened[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]     .ng-select-container .ng-value-container{padding-left:75px}.container.search-opened[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]     .ng-select-container .ng-value-container .ng-input input, .container.search-opened[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]     .ng-select-container .ng-value-container .ng-placeholder{font-size:28px}.container.search-opened[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]     .ng-select-container .ng-value-container .ng-input{top:20px}@media only screen and (max-width:959.98px){.container[_ngcontent-%COMP%]{position:static;height:42px}.container[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:12px;top:28px;z-index:13}.container[_ngcontent-%COMP%]   fa-icon.close-icon[_ngcontent-%COMP%]{right:50px;top:37px}.container[_ngcontent-%COMP%]   fa-icon.search-icon[_ngcontent-%COMP%]{left:38px}.container[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]    {top:1rem;left:1.5rem;right:1.5rem;position:fixed;min-width:260px}.container[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]     .ng-select-container{width:100%;height:40px}.container[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]     .ng-select-container .ng-value-container{padding-left:35px}.container[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]     .ng-select-container .ng-value-container .ng-input input{padding-left:35px}.container[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]     .ng-dropdown-panel .ng-dropdown-panel-items .ng-option{padding-left:35px;font-size:18px}.container.search-opened[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:10px;top:30px}.container.search-opened[_ngcontent-%COMP%]   fa-icon.search-icon[_ngcontent-%COMP%]{top:30px;left:42px}.container.search-opened[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]    {left:1.5rem;right:1.5rem}.container.search-opened[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]     .ng-select-container{height:46px;border-width:2px}.container.search-opened[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]     .ng-select-container .ng-value-container{padding-left:50px}.container.search-opened[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]     .ng-select-container .ng-value-container .ng-input input, .container.search-opened[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]     .ng-select-container .ng-value-container .ng-placeholder{font-size:18px}.container.search-opened[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]     .ng-select-container .ng-value-container .ng-placeholder{margin-top:2px}.container.search-opened[_ngcontent-%COMP%]   .ng-select.custom[_ngcontent-%COMP%]     .ng-select-container .ng-value-container .ng-input{top:10px}}"]}),ET),PT=function(t){return{active:t}};function TT(t,e){if(1&t){var n=Ja();Wa(0,"button",3),ns("click",function(){Xe(n);var t=e.$implicit;return ss().onFloorPick(t)}),Ts(1),Ya()}if(2&t){var i=e.$implicit,r=ss();Ga("ngClass",nl(2,PT,i.level===r.stateService.state.floor.level)),co(1),Ls(" ",1===i.name.length?"L"+i.name:i.name," ")}}var OT,LT=((OT=function(){function t(e,n){m(this,t),this.sidebarService=e,this.stateService=n}return y(t,[{key:"ngOnInit",value:function(){}},{key:"onFloorPick",value:function(t){this.sidebarService.floorChangeListener.next(t)}}]),t}()).\u0275fac=function(t){return new(t||OT)(qa(Jb),qa(ly))},OT.\u0275cmp=ae({type:OT,selectors:[["app-floor-picker"]],decls:3,vars:1,consts:[[1,"container"],[1,"picker"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"]],template:function(t,e){1&t&&(Wa(0,"div",0),Wa(1,"div",1),Va(2,TT,2,4,"button",2),Ya(),Ya()),2&t&&(co(2),Ga("ngForOf",e.stateService.state.floors))},directives:[wh,vh],styles:[".container[_ngcontent-%COMP%]{position:absolute;left:calc(50% - 140px);top:85px;z-index:2}.container[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]{display:flex;justify-content:center;width:280px}.container[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:22px;font-weight:700;background-color:#da291c;border-radius:10px;border:0;color:#fff;cursor:pointer;transition:all .25s linear;margin-right:5px}.container[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#000}.container[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(.active){background-color:#b62217}@media only screen and (max-width:959.98px){.container[_ngcontent-%COMP%]{top:210px}.container[_ngcontent-%COMP%]   .picker[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px;font-size:16px;font-weight:400;border-radius:5px}}"]}),OT);function MT(t,e){1&t&&Za(0,"fa-icon",8),2&t&&Ga("icon",ss().$implicit.icon)}function NT(t,e){if(1&t&&(Za(0,"img",9),ul(1,"translate")),2&t){var n=ss().$implicit;Ga("src",n.iconImage,gr)("alt",ll(1,2,n.title))}}function RT(t,e){if(1&t){var n=Ja();Wa(0,"li",4),ns("click",function(){Xe(n);var t=e.$implicit;return ss().onFilterClick(t)}),Wa(1,"div",5),Va(2,MT,1,1,"fa-icon",6),Va(3,NT,2,4,"img",7),Ya(),Wa(4,"p"),Ts(5),ul(6,"translate"),Ya(),Ya()}if(2&t){var i=e.$implicit;vs("active",i.active),co(2),Ga("ngIf",i.icon),co(1),Ga("ngIf",i.iconImage),co(2),Os(ll(6,5,i.title))}}var DT,zT=((DT=function(){function t(e){var n=this;m(this,t),this.sidebarService=e,this.sidebarOpened=!0,this.data=[{title:"fashion",iconImage:"assets/images/icons8-dress-front-view.svg",id:"75698d35-0918-4a2b-a8ab-77b93a618e61:935570c1-cd4e-4c70-8e9d-87e63a0e061b",active:!0},{title:"grocery",iconImage:"assets/images/icons8-ingredients.svg",id:"75698d35-0918-4a2b-a8ab-77b93a618e61:2ee8fe09-6b1f-4ff7-999b-fd6c53802b04",active:!0},{title:"health",iconImage:"assets/images/icons8-caduceus.svg",id:"75698d35-0918-4a2b-a8ab-77b93a618e61:04dd218a-adf1-4947-866d-b679badb895a",active:!0},{title:"eyewear",iconImage:"assets/images/icons8-glasses.svg",id:"75698d35-0918-4a2b-a8ab-77b93a618e61:576270da-2592-439f-9082-74f198c8bf6c",active:!0},{title:"fitness",iconImage:"assets/images/icons8-weightlifting.svg",id:"75698d35-0918-4a2b-a8ab-77b93a618e61:15120502-00af-47e6-b9ec-53fc35d042c8",active:!0},{title:"travel",iconImage:"assets/images/icons8-carry-on-luggage.svg",id:"75698d35-0918-4a2b-a8ab-77b93a618e61:76f90c15-b759-43b4-aa96-457568adbfd4",active:!0},{title:"books",iconImage:"assets/images/icon-books.svg",id:"75698d35-0918-4a2b-a8ab-77b93a618e61:fe68247a-5c8c-427f-b276-b94b1c39e5da",active:!0},{title:"luxury",iconImage:"assets/images/icons8-jewel.svg",id:"75698d35-0918-4a2b-a8ab-77b93a618e61:ed0c8e0b-f28b-462b-bd24-3e1f9d1720f1",active:!0},{title:"electronics",iconImage:"assets/images/icon-electronics.svg",id:"75698d35-0918-4a2b-a8ab-77b93a618e61:4987b765-0c5e-4bcb-979b-fdbe2adb7979",active:!0},{title:"home",iconImage:"assets/images/icons8-lounge.svg",id:"75698d35-0918-4a2b-a8ab-77b93a618e61:9f3ec695-2fe2-44a6-8390-547d50487f0c",active:!0},{title:"beauty",iconImage:"assets/images/icons8-perfume.svg",id:"75698d35-0918-4a2b-a8ab-77b93a618e61:105ffbf7-a639-443c-ad48-36239fb822dd",active:!0},{title:"jewellery",iconImage:"assets/images/icon-jewellery.svg",id:"75698d35-0918-4a2b-a8ab-77b93a618e61:79f78a36-2f7b-442c-989a-48a83d76d422",active:!0},{title:"bank",iconImage:"assets/images/icons8-bank-building.svg",id:"75698d35-0918-4a2b-a8ab-77b93a618e61:e23ab7ec-7a87-4f17-be9a-a5f579d49ee1",active:!0},{title:"cafe",iconImage:"assets/images/icons8-coffee-beans.svg",id:"75698d35-0918-4a2b-a8ab-77b93a618e61:875d9cfb-8289-4307-9c1c-34b4f52198cb",active:!0},{title:"fast-food",iconImage:"assets/images/icons8-hamburger.svg",id:"75698d35-0918-4a2b-a8ab-77b93a618e61:028b17c6-2f82-4ce1-af3d-9fc9ca061972",active:!0},{title:"restaurant",iconImage:"assets/images/icons8-tableware.svg",id:"75698d35-0918-4a2b-a8ab-77b93a618e61:bda780fb-0f4a-4e76-b74c-a11f1975f1b5",active:!0},{title:"deli",iconImage:"assets/images/icons8-chocolate.svg",id:"75698d35-0918-4a2b-a8ab-77b93a618e61:6e75e80a-583b-4302-b410-f03f2431dc47",active:!0},{title:"fun",iconImage:"assets/images/icons8-smiling.svg",id:"75698d35-0918-4a2b-a8ab-77b93a618e61:cad88ce9-92d8-4137-ae61-82ac1fb5cf22",active:!0}],this.subs=[],this.subs.push(this.sidebarService.getAmenityToggleListener().subscribe(function(t){if(t){var e=n.data.find(function(e){return e.id===t.amenityId});e&&(n.data=n.data.map(function(t){return t.active=!(!e.active||n.sidebarService.filteredShop)||e.id===t.id,t}))}}))}return y(t,[{key:"ngOnInit",value:function(){}},{key:"onFilterClick",value:function(t){this.sidebarService.onAmenityToggle("shop",t.id),this.sidebarService.activeListItem=t}},{key:"ngOnDestroy",value:function(){this.subs.forEach(function(t){return t.unsubscribe()})}}]),t}()).\u0275fac=function(t){return new(t||DT)(qa(Jb))},DT.\u0275cmp=ae({type:DT,selectors:[["app-shop-picker"]],decls:6,vars:4,consts:[[1,"container"],[1,"title"],[1,"categories"],[3,"active","click",4,"ngFor","ngForOf"],[3,"click"],[1,"icon"],[3,"icon",4,"ngIf"],[3,"src","alt",4,"ngIf"],[3,"icon"],[3,"src","alt"]],template:function(t,e){1&t&&(Wa(0,"div",0),Wa(1,"h3",1),Ts(2),ul(3,"translate"),Ya(),Wa(4,"ul",2),Va(5,RT,7,7,"li",3),Ya(),Ya()),2&t&&(co(2),Os(ll(3,2,"shops")),co(3),Ga("ngForOf",e.data))},directives:[wh,kh,kx],pipes:[Xb],styles:[".container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:relative;color:#da291c;transition:all .25s linear}.container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}.container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:inline-block;text-align:center;margin-right:10px;width:60px;vertical-align:top;cursor:pointer}.container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background-color:#868686;color:#fff;font-size:22px;border-radius:10px;width:60px;height:60px;line-height:60px}.container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:10px;width:40px}.container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{background-color:#6d6d6d}.container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%] > li.active[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background-color:#da291c;color:#fff}.container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%] > li.active[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{background-color:#ad2116}.container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;margin-top:4px}@media only screen and (max-width:959.98px){.container[_ngcontent-%COMP%]{display:inline-block}.container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{width:44px}.container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:44px;height:44px;line-height:44px;font-size:16px}.container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:7px;width:30px}.container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}}"]}),DT);function FT(t,e){1&t&&Za(0,"fa-icon",8),2&t&&Ga("icon",ss().$implicit.icon)}function BT(t,e){if(1&t&&(Za(0,"img",9),ul(1,"translate")),2&t){var n=ss().$implicit;Ga("src",n.iconImage,gr)("alt",ll(1,2,n.title))}}function jT(t,e){if(1&t){var n=Ja();Wa(0,"li",4),ns("click",function(){Xe(n);var t=e.$implicit;return ss().onFilterClick(t)}),Wa(1,"div",5),Va(2,FT,1,1,"fa-icon",6),Va(3,BT,2,4,"img",7),Ya(),Wa(4,"p"),Ts(5),ul(6,"translate"),Ya(),Ya()}if(2&t){var i=e.$implicit;vs("active",i.active),co(2),Ga("ngIf",i.icon),co(1),Ga("ngIf",i.iconImage),co(2),Os(ll(6,5,i.title))}}var VT,UT,qT,GT,HT,WT=[{title:"toilet-men",iconImage:"assets/images/icons8-man.svg",id:"75698d35-0918-4a2b-a8ab-77b93a618e61:2a5b339e-30da-4186-9749-06906731b8c9",active:!0},{title:"toilet-woman",iconImage:"assets/images/icons8-woman.svg",id:"75698d35-0918-4a2b-a8ab-77b93a618e61:3574e57c-1ecf-47d5-b8f3-b9de1c39cf1b",active:!0},{title:"prayer-room",iconImage:"assets/images/icons8-mosque.svg",id:"75698d35-0918-4a2b-a8ab-77b93a618e61:8001844d-c059-4644-9275-6b3e66e8dd3c",active:!0},{title:"atm",iconImage:"assets/images/icons-atm.svg",id:"75698d35-0918-4a2b-a8ab-77b93a618e61:9c925821-744a-41c4-92cb-0342ab4c2ef9",active:!0},{title:"taxi",iconImage:"assets/images/icons-taxi.svg",id:"75698d35-0918-4a2b-a8ab-77b93a618e61:e835e573-36a6-47e2-9687-4ac05c6cd717",active:!0},{title:"metro",iconImage:"assets/images/icons-metro.svg",id:"75698d35-0918-4a2b-a8ab-77b93a618e61:e284a98b-f0b8-4bdc-9945-04219d3ef857",active:!0}],YT=((VT=function(){function t(e){var n=this;m(this,t),this.sidebarService=e,this.sidebarOpened=!0,this.data=WT,this.subs=[],this.subs.push(this.sidebarService.getAmenityToggleListener().subscribe(function(t){if(t){var e=n.data.find(function(e){return e.id===t.amenityId});e&&(n.data=n.data.map(function(t){return t.active=!(!e.active||n.sidebarService.filteredAmenity)||e.id===t.id,t}))}}))}return y(t,[{key:"ngOnInit",value:function(){}},{key:"onFilterClick",value:function(t){this.sidebarService.onAmenityToggle("amenities",t.id),this.sidebarService.activeListItem=t}},{key:"ngOnDestroy",value:function(){this.subs.forEach(function(t){return t.unsubscribe()})}}]),t}()).\u0275fac=function(t){return new(t||VT)(qa(Jb))},VT.\u0275cmp=ae({type:VT,selectors:[["app-amenity-picker"]],decls:6,vars:4,consts:[[1,"container"],[1,"title"],[1,"categories"],[3,"active","click",4,"ngFor","ngForOf"],[3,"click"],[1,"icon"],[3,"icon",4,"ngIf"],[3,"src","alt",4,"ngIf"],[3,"icon"],[3,"src","alt"]],template:function(t,e){1&t&&(Wa(0,"div",0),Wa(1,"h3",1),Ts(2),ul(3,"translate"),Ya(),Wa(4,"ul",2),Va(5,jT,7,7,"li",3),Ya(),Ya()),2&t&&(co(2),Os(ll(3,2,"showTheClosest")),co(3),Ga("ngForOf",e.data))},directives:[wh,kh,kx],pipes:[Xb],styles:[".container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:relative;color:#202020;transition:all .25s linear}.container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}.container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:inline-block;text-align:center;margin-right:10px;width:60px;vertical-align:top;cursor:pointer}.container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background-color:#868686;color:#fff;font-size:22px;border-radius:10px;width:60px;height:60px;line-height:60px}.container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:10px;width:40px}.container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{background-color:#6d6d6d}.container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%] > li.active[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background-color:#202020;color:#fff}.container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%] > li.active[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{background-color:#070707}.container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;margin-top:4px}@media only screen and (max-width:959.98px){.container[_ngcontent-%COMP%]{display:inline-block}.container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{width:44px}.container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:44px;height:44px;line-height:44px;font-size:16px}.container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:7px;width:30px}.container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}}"]}),VT),ZT=d("jxQj"),XT=d("WVt+"),KT=d("0FX9"),$T=["qrcElement"],JT=((qT=function(){function t(e){m(this,t),this.renderer=e,this.colordark="",this.colorlight="",this.level="",this.hidetitle=!1,this.size=0,this.usesvg=!1,this.allowEmptyString=!1,this.qrdata="",this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.scale=4,this.width=10,""!==this.colordark&&console.warn("[angularx-qrcode] colordark is deprecated, use colorDark."),""!==this.colorlight&&console.warn("[angularx-qrcode] colorlight is deprecated, use colorLight."),""!==this.level&&console.warn("[angularx-qrcode] level is deprecated, use errorCorrectionLevel."),!1!==this.hidetitle&&console.warn("[angularx-qrcode] hidetitle is deprecated."),0!==this.size&&console.warn("[angularx-qrcode] size is deprecated, use `width`. Defaults to 10."),!1!==this.usesvg&&console.warn("[angularx-qrcode] usesvg is deprecated, use [elementType]=\"'svg'\".")}return y(t,[{key:"ngOnChanges",value:function(){this.createQRCode()}},{key:"isValidQrCodeText",value:function(t){return!1===this.allowEmptyString?!(void 0===t||""===t||"null"===t||null===t):!(void 0===t)}},{key:"toDataURL",value:function(){var t=this;return new Promise(function(e,n){Object(KT.toDataURL)(t.qrdata,{color:{dark:t.colorDark,light:t.colorLight},errorCorrectionLevel:t.errorCorrectionLevel,margin:t.margin,scale:t.scale,version:t.version,width:t.width},function(t,i){t?n(t):e(i)})})}},{key:"toCanvas",value:function(t){var e=this;return new Promise(function(n,i){Object(KT.toCanvas)(t,e.qrdata,{color:{dark:e.colorDark,light:e.colorLight},errorCorrectionLevel:e.errorCorrectionLevel,margin:e.margin,scale:e.scale,version:e.version,width:e.width},function(t){t?i(t):n("success")})})}},{key:"toSVG",value:function(){var t=this;return new Promise(function(e,n){Object(KT.toString)(t.qrdata,{color:{dark:t.colorDark,light:t.colorLight},errorCorrectionLevel:t.errorCorrectionLevel,margin:t.margin,scale:t.scale,type:"svg",version:t.version,width:t.width},function(t,i){t?n(t):e(i)})})}},{key:"renderElement",value:function(t){var e,n=f(this.qrcElement.nativeElement.childNodes);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.renderer.removeChild(this.qrcElement.nativeElement,i)}}catch(r){n.e(r)}finally{n.f()}this.renderer.appendChild(this.qrcElement.nativeElement,t)}},{key:"createQRCode",value:function(){var t=this;this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):void 0!==this.version&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error('[angularx-qrcode] Field `qrdata` is empty, set`allowEmptyString="true"` to overwrite this behaviour.');var e;switch(this.elementType){case"canvas":e=this.renderer.createElement("canvas"),this.toCanvas(e).then(function(){t.renderElement(e)}).catch(function(t){console.error("[angularx-qrcode] canvas error: ",t)});break;case"svg":e=this.renderer.createElement("div"),this.toSVG().then(function(n){t.renderer.setProperty(e,"innerHTML",n);var i=e.firstChild;t.renderer.setAttribute(i,"height","".concat(t.width)),t.renderer.setAttribute(i,"width","".concat(t.width)),t.renderElement(i)}).catch(function(t){console.error("[angularx-qrcode] svg error: ",t)});break;case"url":case"img":default:e=this.renderer.createElement("img"),this.toDataURL().then(function(n){e.setAttribute("src",n),t.renderElement(e)}).catch(function(t){console.error("[angularx-qrcode] img/url error: ",t)})}}catch(bD){console.error("[angularx-qrcode] Error generating QR Code: ",bD.message)}}}]),t}()).\u0275fac=function(t){return new(t||qT)(qa(au))},qT.\u0275cmp=ae({type:qT,selectors:[["qrcode"]],viewQuery:function(t,e){var n;1&t&&Al($T,3),2&t&&Il(n=Tl())&&(e.qrcElement=n.first)},inputs:{colordark:"colordark",colorlight:"colorlight",level:"level",hidetitle:"hidetitle",size:"size",usesvg:"usesvg",allowEmptyString:"allowEmptyString",qrdata:"qrdata",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",margin:"margin",scale:"scale",width:"width",version:"version"},features:[Se],decls:2,vars:2,consts:[["qrcElement",""]],template:function(t,e){1&t&&Za(0,"div",null,0),2&t&&bs(e.cssClass)},encapsulation:2,changeDetection:0}),qT),QT=((UT=function t(){m(this,t)}).\u0275fac=function(t){return new(t||UT)},UT.\u0275mod=ce({type:UT}),UT.\u0275inj=Pt({providers:[]}),UT),tO=new si("CdkAccordion"),eO=0,nO=((HT=function(){function t(e,n,i){var r=this;m(this,t),this.accordion=e,this._changeDetectorRef=n,this._expansionDispatcher=i,this._openCloseAllSubscription=C.EMPTY,this.closed=new gl,this.opened=new gl,this.destroyed=new gl,this.expandedChange=new gl,this.id="cdk-accordion-child-"+eO++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=function(){},this._removeUniqueSelectionListener=i.listen(function(t,e){r.accordion&&!r.accordion.multi&&r.accordion.id===e&&r.id!==t&&(r.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}return y(t,[{key:"expanded",get:function(){return this._expanded},set:function(t){t=cy(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=cy(t)}},{key:"ngOnDestroy",value:function(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}},{key:"toggle",value:function(){this.disabled||(this.expanded=!this.expanded)}},{key:"close",value:function(){this.disabled||(this.expanded=!1)}},{key:"open",value:function(){this.disabled||(this.expanded=!0)}},{key:"_subscribeToOpenCloseAllActions",value:function(){var t=this;return this.accordion._openCloseAllActions.subscribe(function(e){t.disabled||(t.expanded=e)})}}]),t}()).\u0275fac=function(t){return new(t||HT)(qa(tO,12),qa(Pu),qa(wv))},HT.\u0275dir=pe({type:HT,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Ks([{provide:tO,useValue:void 0}])]}),HT),iO=((GT=function t(){m(this,t)}).\u0275fac=function(t){return new(t||GT)},GT.\u0275mod=ce({type:GT}),GT.\u0275inj=Pt({}),GT),rO=["body"];function oO(t,e){}var aO,sO,uO,lO,cO,hO,pO,fO,dO,gO,mO,_O=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],yO=["mat-expansion-panel-header","*","mat-action-row"],vO=new si("MAT_ACCORDION"),bO={indicatorRotate:dC("indicatorRotate",[yC("collapsed, void",_C({transform:"rotate(0deg)"})),yC("expanded",_C({transform:"rotate(180deg)"})),vC("expanded <=> collapsed, void => collapsed",gC("225ms cubic-bezier(0.4,0.0,0.2,1)"))]),bodyExpansion:dC("bodyExpansion",[yC("collapsed, void",_C({height:"0px",visibility:"hidden"})),yC("expanded",_C({height:"*",visibility:"visible"})),vC("expanded <=> collapsed, void => collapsed",gC("225ms cubic-bezier(0.4,0.0,0.2,1)"))])},wO=((aO=function t(e){m(this,t),this._template=e}).\u0275fac=function(t){return new(t||aO)(qa(Ru))},aO.\u0275dir=pe({type:aO,selectors:[["ng-template","matExpansionPanelContent",""]]}),aO),xO=0,kO=new si("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),EO=((cO=function(t){o(n,t);var e=s(n);function n(t,i,r,o,a,s,u){var l;return m(this,n),(l=e.call(this,t,i,r))._viewContainerRef=o,l._animationMode=s,l._hideToggle=!1,l.afterExpand=new gl,l.afterCollapse=new gl,l._inputChanges=new j,l._headerId="mat-expansion-panel-header-"+xO++,l._bodyAnimationDone=new j,l.accordion=t,l._document=a,l._bodyAnimationDone.pipe(function(t,e){return function(e){return e.lift(new Ty(t,void 0))}}(function(t,e){return t.fromState===e.fromState&&t.toState===e.toState})).subscribe(function(t){"void"!==t.fromState&&("expanded"===t.toState?l.afterExpand.emit():"collapsed"===t.toState&&l.afterCollapse.emit())}),u&&(l.hideToggle=u.hideToggle),l}return y(n,[{key:"hideToggle",get:function(){return this._hideToggle||this.accordion&&this.accordion.hideToggle},set:function(t){this._hideToggle=cy(t)}},{key:"togglePosition",get:function(){return this._togglePosition||this.accordion&&this.accordion.togglePosition},set:function(t){this._togglePosition=t}},{key:"_hasSpacing",value:function(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}},{key:"_getExpandedState",value:function(){return this.expanded?"expanded":"collapsed"}},{key:"toggle",value:function(){this.expanded=!this.expanded}},{key:"close",value:function(){this.expanded=!1}},{key:"open",value:function(){this.expanded=!0}},{key:"ngAfterContentInit",value:function(){var t=this;this._lazyContent&&this.opened.pipe(Zf(null),zp(function(){return t.expanded&&!t._portal}),Hf(1)).subscribe(function(){t._portal=new Av(t._lazyContent._template,t._viewContainerRef)})}},{key:"ngOnChanges",value:function(t){this._inputChanges.next(t)}},{key:"ngOnDestroy",value:function(){r(h(n.prototype),"ngOnDestroy",this).call(this),this._bodyAnimationDone.complete(),this._inputChanges.complete()}},{key:"_containsFocus",value:function(){if(this._body){var t=this._document.activeElement,e=this._body.nativeElement;return t===e||e.contains(t)}return!1}}]),n}(nO)).\u0275fac=function(t){return new(t||cO)(qa(vO,12),qa(Pu),qa(wv),qa(Vu),qa(zc),qa(DA,8),qa(kO,8))},cO.\u0275cmp=ae({type:cO,selectors:[["mat-expansion-panel"]],contentQueries:function(t,e,n){var i;1&t&&Pl(n,wO,1),2&t&&Il(i=Tl())&&(e._lazyContent=i.first)},viewQuery:function(t,e){var n;1&t&&Al(rO,1),2&t&&Il(n=Tl())&&(e._body=n.first)},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,e){2&t&&vs("mat-expanded",e.expanded)("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-expansion-panel-spacing",e._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Ks([{provide:vO,useValue:void 0}]),Ca,Se],ngContentSelectors:yO,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,e){1&t&&(ls(_O),cs(0),Wa(1,"div",0,1),ns("@bodyExpansion.done",function(t){return e._bodyAnimationDone.next(t)}),Wa(3,"div",2),cs(4,1),Va(5,oO,0,0,"ng-template",3),Ya(),cs(6,2),Ya()),2&t&&(co(1),Ga("@bodyExpansion",e._getExpandedState())("id",e.id),Ba("aria-labelledby",e._headerId),co(4),Ga("cdkPortalOutlet",e._portal))},directives:[Lv],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[bO.bodyExpansion]},changeDetection:0}),cO),SO=((lO=function t(){m(this,t)}).\u0275fac=function(t){return new(t||lO)},lO.\u0275dir=pe({type:lO,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),lO),CO=((uO=function t(){m(this,t)}).\u0275fac=function(t){return new(t||uO)},uO.\u0275mod=ce({type:uO}),uO.\u0275inj=Pt({imports:[[Hh,HA,iO,Mv]]}),uO),IO=((sO=function t(){m(this,t)}).\u0275fac=function(t){return new(t||sO)},sO.\u0275mod=ce({type:sO}),sO.\u0275inj=Pt({imports:[[HA],HA]}),sO),AO=["*"],PO=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],TO=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],OO=WA(YA(function t(){m(this,t)})),LO=YA(function t(){m(this,t)}),MO=new si("MatList"),NO=new si("MatNavList"),RO=((gO=function(t){o(n,t);var e=s(n);function n(t){var i;return m(this,n),(i=e.call(this))._elementRef=t,i._stateChanges=new j,"action-list"===i._getListType()&&t.nativeElement.classList.add("mat-action-list"),i}return y(n,[{key:"_getListType",value:function(){var t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}},{key:"ngOnChanges",value:function(){this._stateChanges.next()}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}}]),n}(OO)).\u0275fac=function(t){return new(t||gO)(qa(iu))},gO.\u0275cmp=ae({type:gO,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[Ks([{provide:MO,useExisting:gO}]),Ca,Se],ngContentSelectors:AO,decls:1,vars:0,template:function(t,e){1&t&&(ls(),cs(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),gO),DO=((dO=function t(){m(this,t)}).\u0275fac=function(t){return new(t||dO)},dO.\u0275dir=pe({type:dO,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),dO),zO=((fO=function t(){m(this,t)}).\u0275fac=function(t){return new(t||fO)},fO.\u0275dir=pe({type:fO,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),fO),FO=((pO=function(t){o(n,t);var e=s(n);function n(t,i,r,o){var a;m(this,n),(a=e.call(this))._element=t,a._isInteractiveList=!1,a._destroyed=new j,a._disabled=!1,a._isInteractiveList=!!(r||o&&"action-list"===o._getListType()),a._list=r||o;var s=a._getHostElement();return"button"!==s.nodeName.toLowerCase()||s.hasAttribute("type")||s.setAttribute("type","button"),a._list&&a._list._stateChanges.pipe(Fy(a._destroyed)).subscribe(function(){i.markForCheck()}),a}return y(n,[{key:"disabled",get:function(){return this._disabled||!(!this._list||!this._list.disabled)},set:function(t){this._disabled=cy(t)}},{key:"ngAfterContentInit",value:function(){!function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mat";t.changes.pipe(Zf(t)).subscribe(function(t){var i=t.length;JA(e,"".concat(n,"-2-line"),!1),JA(e,"".concat(n,"-3-line"),!1),JA(e,"".concat(n,"-multi-line"),!1),2===i||3===i?JA(e,"".concat(n,"-").concat(i,"-line"),!0):i>3&&JA(e,"".concat(n,"-multi-line"),!0)})}(this._lines,this._element)}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_isRippleDisabled",value:function(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}},{key:"_getHostElement",value:function(){return this._element.nativeElement}}]),n}(LO)).\u0275fac=function(t){return new(t||pO)(qa(iu),qa(Pu),qa(NO,8),qa(MO,8))},pO.\u0275cmp=ae({type:pO,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,e,n){var i;1&t&&(Pl(n,DO,1),Pl(n,zO,1),Pl(n,$A,1)),2&t&&(Il(i=Tl())&&(e._avatar=i.first),Il(i=Tl())&&(e._icon=i.first),Il(i=Tl())&&(e._lines=i))},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,e){2&t&&vs("mat-list-item-disabled",e.disabled)("mat-list-item-avatar",e._avatar||e._icon)("mat-list-item-with-avatar",e._avatar||e._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[Ca],ngContentSelectors:TO,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,e){1&t&&(ls(PO),Wa(0,"div",0),Za(1,"div",1),cs(2),Wa(3,"div",2),cs(4,1),Ya(),cs(5,2),Ya()),2&t&&(co(1),Ga("matRippleTrigger",e._getHostElement())("matRippleDisabled",e._isRippleDisabled()))},directives:[mP],encapsulation:2,changeDetection:0}),pO),BO=((hO=function t(){m(this,t)}).\u0275fac=function(t){return new(t||hO)},hO.\u0275mod=ce({type:hO}),hO.\u0275inj=Pt({imports:[[uP,_P,HA,vP,Hh],uP,HA,vP,IO]}),hO),jO=["th","st","nd","rd"],VO=((mO=function(){function t(){m(this,t)}return y(t,[{key:"transform",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t%100;return(e?t:"")+(jO[(n-20)%10]||jO[n]||jO[0])}}]),t}()).\u0275fac=function(t){return new(t||mO)},mO.\u0275pipe=fe({name:"ordinal",type:mO,pure:!0}),mO);function UO(t,e){if(1&t&&(Wa(0,"div",18),Za(1,"img",19),Ya()),2&t){var n=ss(2);co(1),Ga("src",n.poi.properties.images[0]?n.getImageUrl():"https://picsum.photos/500/300",gr)("alt",n.poi.properties.title)}}function qO(t,e){if(1&t&&(Wa(0,"div",20),Za(1,"qrcode",21),Wa(2,"p"),Ts(3,"Scan QR code to open on your phone."),Ya(),Ya()),2&t){var n=ss(2);co(1),Ga("qrdata",n.qrCodeUrl)("width",120)("errorCorrectionLevel","M")("allowEmptyString",!0)}}function GO(t,e){if(1&t&&(Wa(0,"h4",22),Ts(1),Ya()),2&t){var n=ss(2);co(1),Os(n.getOpenHours())}}var HO=function(){return["fal","angle-down"]};function WO(t,e){if(1&t){var n=Ja();Wa(0,"a",24),ns("click",function(){Xe(n);var t=ss(3);return t.limit=t.details.length,t.showingMore=!0}),Ts(1),ul(2,"translate"),Za(3,"fa-icon",3),Ya()}2&t&&(co(1),Ls("",ll(2,2,"showMore")," "),co(2),Ga("icon",el(4,HO)))}var YO=function(){return["fal","angle-up"]};function ZO(t,e){if(1&t){var n=Ja();Wa(0,"a",24),ns("click",function(){Xe(n);var t=ss(3);return t.limit=200,t.showingMore=!1}),Ts(1),ul(2,"translate"),Za(3,"fa-icon",3),Ya()}2&t&&(co(1),Ls("",ll(2,2,"showLess")," "),co(2),Ga("icon",el(4,YO)))}function XO(t,e){if(1&t&&(Wa(0,"p"),Ts(1),ul(2,"slice"),Va(3,WO,4,5,"a",23),Va(4,ZO,4,5,"a",23),Ya()),2&t){var n=ss(2);co(1),Ms(" ",hl(2,4,n.details,0,n.limit)," ",n.details.length>n.limit?"...":""," "),co(2),Ga("ngIf",n.details.length>n.limit),co(1),Ga("ngIf",n.showingMore)}}function KO(t,e){if(1&t&&(Wa(0,"p"),Ts(1," Link: "),Wa(2,"a",25),Ts(3),Ya(),Ya()),2&t){var n=ss(2);co(2),Ga("href",n.linkUrl,gr),co(1),Os(n.poi.properties.metadata.url)}}function $O(t,e){if(1&t&&(Wa(0,"p",26),Wa(1,"strong"),Ts(2),ul(3,"translate"),Ya(),Ts(4),ul(5,"number"),Ya()),2&t){var n=ss(2);co(2),Os(ll(3,3,"distance")),co(2),Ms(": ",cl(5,5,n.distanceInMeters,"1.0-0"),"m / ",n.distanceInMinutes," ")}}var JO=function(){return["fal","walking"]};function QO(t,e){if(1&t){var n=Ja();Wa(0,"button",27),ns("click",function(){return Xe(n),ss(2).onShowRoute()}),Za(1,"fa-icon",3),Ts(2),ul(3,"translate"),Ya()}2&t&&(co(1),Ga("icon",el(4,JO)),co(1),Ls(" ",ll(3,2,"takeMeThere")," "))}function tL(t,e){if(1&t&&(Wa(0,"mat-list-item"),Wa(1,"p",32),Za(2,"fa-icon",3),Za(3,"fa-icon",3),Ya(),Wa(4,"p",32),Ts(5),Ya(),Ya()),2&t){var n=e.$implicit;co(2),Ga("icon",n.directionIcon),co(1),Ga("icon",n.stepIcon),co(2),Os(n.description)}}var eL=function(){return["fal","wheelchair"]},nL=function(){return["fal","route"]};function iL(t,e){if(1&t){var n=Ja();Wa(0,"div"),Wa(1,"button",28),ns("click",function(){return Xe(n),ss(2).toggleInstructions()}),Za(2,"fa-icon",3),Ts(3),ul(4,"translate"),Ya(),Wa(5,"button",29),ns("click",function(){return Xe(n),ss(2).toggleAccessibleRoute()}),Za(6,"fa-icon",3),Ts(7),ul(8,"translate"),Ya(),Wa(9,"mat-expansion-panel",30),Wa(10,"mat-panel-description"),Wa(11,"mat-list"),Va(12,tL,6,3,"mat-list-item",31),Ya(),Ya(),Ya(),Ya()}if(2&t){var i=ss(2);co(2),Ga("icon",i.showInstructions?el(11,HO):i.stateService.state.accessibleRoute?el(12,eL):el(13,nL)),co(1),Ls(" ",ll(4,7,i.showInstructions?"hideInstructions":"showInstructions")," "),co(3),Ga("icon",i.stateService.state.accessibleRoute?el(14,JO):el(15,eL)),co(1),Ls(" ",ll(8,9,i.stateService.state.accessibleRoute?"showFastestRoute":"showAccessibleRoute")," "),co(2),Ga("disabled",!0)("expanded",i.showInstructions),co(3),Ga("ngForOf",i.steps)}}function rL(t,e){if(1&t){var n=Ja();Wa(0,"a",24),ns("click",function(){Xe(n);var t=ss(3);return t.limit=t.details.length,t.showingMore=!0}),Ts(1),ul(2,"translate"),Za(3,"fa-icon",3),Ya()}2&t&&(co(1),Ls("",ll(2,2,"showMore")," "),co(2),Ga("icon",el(4,HO)))}function oL(t,e){if(1&t){var n=Ja();Wa(0,"a",24),ns("click",function(){Xe(n);var t=ss(3);return t.limit=200,t.showingMore=!1}),Ts(1),ul(2,"translate"),Za(3,"fa-icon",3),Ya()}2&t&&(co(1),Ls("",ll(2,2,"showLess")," "),co(2),Ga("icon",el(4,YO)))}function aL(t,e){if(1&t&&(Wa(0,"p"),Ts(1),ul(2,"slice"),Va(3,rL,4,5,"a",23),Va(4,oL,4,5,"a",23),Ya()),2&t){var n=ss(2);co(1),Ms(" ",hl(2,4,n.details,0,n.limit)," ",n.details.length>n.limit?"...":""," "),co(2),Ga("ngIf",n.details.length>n.limit),co(1),Ga("ngIf",n.showingMore)}}function sL(t,e){if(1&t&&(Wa(0,"p"),Ts(1," Link: "),Wa(2,"a",25),Ts(3),Ya(),Ya()),2&t){var n=ss(2);co(2),Ga("href",n.linkUrl,gr),co(1),Os(n.poi.properties.metadata.url)}}function uL(t,e){if(1&t){var n=Ja();Wa(0,"button",27),ns("click",function(){return Xe(n),ss(2).onShowRoute()}),Za(1,"fa-icon",3),Ts(2),ul(3,"translate"),Ya()}2&t&&(co(1),Ga("icon",el(4,JO)),co(1),Ls(" ",ll(3,2,"takeMeThere")," "))}function lL(t,e){if(1&t){var n=Ja();Wa(0,"button",29),ns("click",function(){return Xe(n),ss(2).toggleAccessibleRoute()}),Za(1,"fa-icon",3),Ts(2),ul(3,"translate"),Ya()}if(2&t){var i=ss(2);co(1),Ga("icon",i.stateService.state.accessibleRoute?el(4,JO):el(5,eL)),co(1),Ls(" ",ll(3,2,i.stateService.state.accessibleRoute?"showFastestRoute":"showAccessibleRoute")," ")}}function cL(t,e){if(1&t&&(Wa(0,"p",26),Wa(1,"strong"),Ts(2),ul(3,"translate"),Ya(),Ts(4),ul(5,"number"),Ya()),2&t){var n=ss(2);co(2),Os(ll(3,3,"distance")),co(2),Ms(": ",cl(5,5,n.distanceInMeters,"1.0-0"),"m / ",n.distanceInMinutes," ")}}function hL(t,e){if(1&t&&(Wa(0,"mat-list-item"),Wa(1,"p",32),Za(2,"fa-icon",3),Za(3,"fa-icon",3),Ya(),Wa(4,"p",32),Ts(5),Ya(),Ya()),2&t){var n=e.$implicit;co(2),Ga("icon",n.directionIcon),co(1),Ga("icon",n.stepIcon),co(2),Os(n.description)}}function pL(t,e){if(1&t&&(Wa(0,"div"),Wa(1,"p"),Wa(2,"strong"),Ts(3),ul(4,"translate"),Ya(),Ya(),Wa(5,"mat-expansion-panel",30),Wa(6,"mat-panel-description"),Wa(7,"mat-list"),Va(8,hL,6,3,"mat-list-item",31),Ya(),Ya(),Ya(),Ya()),2&t){var n=ss(2);co(3),Ls("",ll(4,4,"instructions"),":"),co(2),Ga("disabled",!0)("expanded",!0),co(3),Ga("ngForOf",n.steps)}}function fL(t,e){if(1&t){var n=Ja();Wa(0,"p",40),ns("click",function(){return Xe(n),ss(3).onCenterToParking()}),Wa(1,"strong"),Ts(2,"Closest parking:"),Ya(),Ts(3),Ya()}if(2&t){var i=ss(3);co(3),Ls(" ",i.closestParkingFeature.properties.title," ")}}function dL(t,e){if(1&t){var n=Ja();Wa(0,"div",33),Va(1,fL,4,1,"p",34),Wa(2,"div",35),Wa(3,"button",36),ns("click",function(){return Xe(n),ss(2).onRouteFromParking()}),Za(4,"img",37),Ts(5," Route from parking "),Ya(),Wa(6,"button",36),ns("click",function(){return Xe(n),ss(2).onRouteFromEntrance()}),Za(7,"img",38),Ts(8," Route from entrance "),Ya(),Wa(9,"button",36),ns("click",function(){return Xe(n),ss(2).onOtherRoute()}),Za(10,"img",39),Ts(11," Other Route "),Ya(),Ya(),Ya()}if(2&t){var i=ss(2);co(1),Ga("ngIf",i.closestParkingFeature)}}var gL=function(t,e){return{haveRoute:t,open:e}},mL=function(){return["fal","chevron-left"]},_L=function(){return["fal","chevron-right"]},yL=function(){return["fal","times"]},vL=function(t){return{accessibleOnly:t}};function bL(t,e){if(1&t){var n=Ja();Wa(0,"div",1),Wa(1,"div",2),ns("click",function(){Xe(n);var t=ss();return t.sidebarOpened=!t.sidebarOpened}),Za(2,"fa-icon",3),Ya(),Wa(3,"button",4),ns("click",function(){return Xe(n),ss().onDetailsClose()}),Za(4,"fa-icon",3),Ya(),Va(5,UO,2,2,"div",5),Wa(6,"div",6),Wa(7,"h2",7),Ts(8),Ya(),Va(9,qO,4,4,"div",8),Va(10,GO,2,1,"h4",9),Wa(11,"h4",10),Ts(12),ul(13,"translate"),ul(14,"ordinal"),Ya(),Ya(),Wa(15,"div",11),Va(16,XO,5,8,"p",12),Va(17,KO,4,2,"p",12),Va(18,$O,6,8,"p",13),Va(19,QO,4,5,"button",14),Va(20,iL,13,16,"div",12),Ya(),Wa(21,"div",15),Va(22,aL,5,8,"p",12),Va(23,sL,4,2,"p",12),Va(24,uL,4,5,"button",14),Va(25,lL,4,6,"button",16),Va(26,cL,6,8,"p",13),Va(27,pL,9,6,"div",12),Ya(),Va(28,dL,12,1,"div",17),Ya()}if(2&t){var i=ss();Ga("ngClass",il(27,gL,i.haveRouteDetails,i.sidebarOpened)),co(2),Ga("icon",i.sidebarOpened?el(30,mL):el(31,_L)),co(2),Ga("icon",el(32,yL)),co(1),Ga("ngIf",!i.sidebarService.filteredAmenity),co(3),Os(i.poi.properties.title),co(1),Ga("ngIf",i.haveRouteDetails),co(1),Ga("ngIf",!i.sidebarService.filteredAmenity),co(2),Ms(" ",ll(13,23,"level"),": ",null!=i.poi.properties._dynamic.floor&&i.poi.properties._dynamic.floor.name?i.poi.properties._dynamic.floor.name:ll(14,25,i.poi.properties.level+1)," "),co(3),Ga("ngClass",nl(33,vL,i.stateService.state.accessibleRoute)),co(1),Ga("ngIf",i.details&&!i.sidebarService.filteredAmenity),co(1),Ga("ngIf",i.linkUrl),co(1),Ga("ngIf",i.haveRouteDetails),co(1),Ga("ngIf",i.stateService.state.kioskMode),co(1),Ga("ngIf",i.haveRouteDetails),co(1),Ga("ngClass",nl(35,vL,i.stateService.state.accessibleRoute)),co(1),Ga("ngIf",i.details&&!i.sidebarService.filteredAmenity),co(1),Ga("ngIf",i.linkUrl),co(1),Ga("ngIf",i.stateService.state.kioskMode),co(1),Ga("ngIf",i.haveRouteDetails),co(1),Ga("ngIf",i.haveRouteDetails),co(1),Ga("ngIf",i.haveRouteDetails),co(1),Ga("ngIf",!i.stateService.state.kioskMode&&!i.sidebarService.filteredAmenity)}}var wL,xL="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",kL=((wL=function(){function t(e,n,i,r,o){m(this,t),this.sidebarService=e,this.mapService=n,this.stateService=i,this.translateService=r,this.fb=o,this.sidebarOpened=!1,this.showInstructions=!1,this.steps=[],this.details=xL,this.limit=200,this.showingMore=!1,this.averageWalkSpeed=4.5,this.haveRouteDetails=!1,this.options=[],this.startPoiForm=this.fb.group({startPoi:[this.stateService.state.startPoi,Nx.required]}),this.parkingAmenityId="75698d35-0918-4a2b-a8ab-77b93a618e61:21a6d59b-fe0d-46ff-890e-477577d592f7",this.entrancePoiId="75698d35-0918-4a2b-a8ab-77b93a618e61:52c53790-2acf-4271-8a32-4b1c99b3227a",this.destinationFromUrl=!1,this.subs=[];var a=new URLSearchParams(window.location.search).get("destinationFeature");this.poi=this.sidebarService.selectedEndPoi,this.currentLanguage=this.translateService.currentLang,a&&(this.destinationFromUrl=!0)}return y(t,[{key:"ngOnInit",value:function(){var t=this;this.subs.push(this.sidebarService.getEndPointListener().subscribe(function(e){t.haveRouteDetails=!!t.stateService.state.kioskMode&&t.destinationFromUrl,t.mapService.showingRoute=t.haveRouteDetails,t.details=xL,t.linkUrl=null,t.steps=t.stateService.state.kioskMode&&t.destinationFromUrl?t.steps:[],e&&t.definePoi(e),t.destinationFromUrl=!1}),this.mapService.getRouteFoundListener().subscribe(function(e){e&&t.stateService.state.textNavigation&&(t.poi||t.definePoi(t.stateService.state.textNavigation.destination),t.buildNavigationSteps(t.stateService.state.textNavigation.steps),t.distanceInMeters=t.stateService.state.textNavigation.distanceMeters,t.distanceInMinutes=ZT(t.distanceInMeters/1e3/t.averageWalkSpeed*36e5,{delimiter:" and ",round:!0,language:t.currentLanguage}),t.haveRouteDetails=!0,t.mapService.showingRoute=t.haveRouteDetails,t.generateQrCode(t.sidebarService.selectedEndPoi,t.sidebarService.selectedStartPoi))}),this.mapService.getMapReadyListener().subscribe(function(e){e&&(t.filteredOptions=t.startPoiForm.get("startPoi").valueChanges.pipe(Zf(""),q(function(t){return"string"==typeof t?t:t.properties.title}),q(function(e){return e?t._filter(e):t.options.slice()})),t.options=t.sidebarService.sortedPOIs,t.setStartPoi())}))}},{key:"onDetailsClose",value:function(){this.sidebarService.onSetEndPoi(null),this.poi=null,this.details=xL,this.sidebarService.filteredAmenity&&(this.sidebarService.onAmenityToggle("amenities",this.sidebarService.filteredAmenity),this.sidebarService.showClosestAmenityPicker=!1,this.sidebarService.activeListItem=null,this.startPoiId=null,this.setStartPoi(),this.sidebarService.onSetEndPoi(null))}},{key:"toggleInstructions",value:function(){this.showInstructions=!this.showInstructions}},{key:"toggleAccessibleRoute",value:function(){this.sidebarService.onAccessibleRouteToggle()}},{key:"getImageUrl",value:function(){return"https://api.proximi.fi/v5/geo/".concat(this.poi.properties.images[0],"?token=").concat(ny.token)}},{key:"getOpenHours",value:function(){var t=(new Date).getDay();return this.poi.properties.metadata&&this.poi.properties.metadata.openHours&&this.poi.properties.metadata.openHours[t].en?this.poi.properties.metadata.openHours[t][this.currentLanguage]?this.poi.properties.metadata.openHours[t][this.currentLanguage]:this.poi.properties.metadata.openHours[t].en:this.translateService.instant("noOpenHours")}},{key:"buildNavigationSteps",value:function(t){t=t.filter(function(t){return t.instruction}),this.steps=t.map(function(t){var e,n;switch(t.direction){case"LEFT":case"SLIGHT_LEFT":e="arrow-left",n="shoe-prints";break;case"RIGHT":case"SLIGHT_RIGHT":e="arrow-right",n="shoe-prints";break;case"UP_ESCALATOR":e="arrow-up",n="caret-square-up";break;case"DOWN_ESCALATOR":e="arrow-up",n="caret-square-down";break;case"FINISH":e="arrow-up",n="pennant";break;default:e="compass",n="shoe-prints"}return{description:t.instruction.join(""),directionIcon:["fal",e],stepIcon:["fal",n]}})}},{key:"onStartPoiSelect",value:function(t){this.startPoiId=t.option.value.id,this.stateService.state=Object.assign(Object.assign({},this.stateService.state),{startPoiId:this.startPoiId}),this.setStartPoi()}},{key:"setStartPoi",value:function(){var t=this;if(!this.stateService.state.kioskMode){var e=this.sidebarService.sortedPOIs.find(function(e){return e.id===t.stateService.state.startPoiId});e&&(this.startPoiForm.get("startPoi").setValue(e),this.stateService.state=Object.assign(Object.assign({},this.stateService.state),{startPoi:e}),this.stateService.state.defaultLocation.coordinates=e.coordinates,this.stateService.state.defaultLocation.level=e.properties.level,this.sidebarService.onSetStartPoi(e))}}},{key:"displayFn",value:function(t){return t&&t.properties&&t.properties.title?"".concat(t.properties.title," - Floor: ").concat(t.properties.level):""}},{key:"_filter",value:function(t){var e=t.toLowerCase();return this.options.filter(function(t){return t.properties.title.toLowerCase().includes(e)})}},{key:"onShowRoute",value:function(){this.mapService.showRouteListener.next()}},{key:"definePoi",value:function(t){var e=this;this.poi=t,this.poi.properties._dynamic||(this.poi.properties._dynamic={}),this.poi.geometry.type||(this.poi.geometry.type="Point"),this.poi.properties.title=this.poi.properties.title_i18n&&this.poi.properties.title_i18n[this.currentLanguage]?this.poi.properties.title_i18n[this.currentLanguage]:this.poi.properties.title,this.poi.properties._dynamic.floor=this.poi.properties.floor_id?this.stateService.state.floors.find(function(t){return t.id===e.poi.properties.floor_id}):null,this.poi.properties.description_i18n&&(this.details=this.poi.properties.description_i18n[this.currentLanguage]?this.poi.properties.description_i18n[this.currentLanguage]:this.poi.properties.description_i18n.en),this.getClosestParking(),this.getUrl()}},{key:"getClosestParking",value:function(){var t=this,e={type:"FeatureCollection",features:this.stateService.state.allFeatures.features.filter(function(e){return e.properties.amenity===t.parkingAmenityId&&"Point"===e.geometry.type})},n=XT.point(this.poi.geometry.coordinates);this.closestParkingFeature=XT.nearestPoint(n,e),this.closestParkingFeature.properties.title=this.closestParkingFeature.properties.title_i18n&&this.closestParkingFeature.properties.title_i18n[this.currentLanguage]?this.closestParkingFeature.properties.title_i18n[this.currentLanguage]:this.closestParkingFeature.properties.title}},{key:"onRouteFromParking",value:function(){this.sidebarService.onSetStartPoi(this.closestParkingFeature)}},{key:"onRouteFromEntrance",value:function(){var t=this;this.sidebarService.onSetStartPoi(this.stateService.state.allFeatures.features.find(function(e){return e.id===t.entrancePoiId}))}},{key:"onOtherRoute",value:function(){this.sidebarService.showRoutePicker=!0}},{key:"onCenterToParking",value:function(){this.sidebarService.centerToFeatureListener.next(this.closestParkingFeature)}},{key:"generateQrCode",value:function(t,e){var n=new URL(window.location.href),i=n.searchParams;!e&&t&&i.set("destinationFeature",t.properties.id),t&&e&&(i.set("destinationFeature",t.properties.id),i.set("startFeature",e.properties.id)),this.qrCodeUrl=n.href}},{key:"getUrl",value:function(){var t=this.poi.properties.metadata.url;if(t){var e=t.startsWith("http://")?1:0;0===e&&(e=t.startsWith("https://")?2:0),this.linkUrl=0===e?"http://".concat(t):t}}},{key:"ngOnDestroy",value:function(){this.subs.forEach(function(t){return t.unsubscribe()})}}]),t}()).\u0275fac=function(t){return new(t||wL)(qa(Jb),qa(iy),qa(ly),qa(Zb),qa(Jk))},wL.\u0275cmp=ae({type:wL,selectors:[["app-details"]],decls:1,vars:1,consts:[["class","container",3,"ngClass",4,"ngIf"],[1,"container",3,"ngClass"],[1,"toggle",3,"click"],[3,"icon"],[1,"close",3,"click"],["class","img-holder",4,"ngIf"],[1,"content","header"],[1,"title"],["class","qr-code",4,"ngIf"],["class","open-hours",4,"ngIf"],[1,"level"],[1,"content","large-viewport-only",3,"ngClass"],[4,"ngIf"],["class","distance",4,"ngIf"],["class","show-route",3,"click",4,"ngIf"],[1,"content","small-viewport-only",3,"ngClass"],["class","accessible-toggle",3,"click",4,"ngIf"],["class","start-box",4,"ngIf"],[1,"img-holder"],[3,"src","alt"],[1,"qr-code"],[3,"qrdata","width","errorCorrectionLevel","allowEmptyString"],[1,"open-hours"],["href","javascript:;",3,"click",4,"ngIf"],["href","javascript:;",3,"click"],["target","_blank",2,"display","inline",3,"href"],[1,"distance"],[1,"show-route",3,"click"],[1,"instructions-toggle",3,"click"],[1,"accessible-toggle",3,"click"],[3,"disabled","expanded"],[4,"ngFor","ngForOf"],["matLine",""],[1,"start-box"],["class","closest-parking",3,"click",4,"ngIf"],[1,"buttons"],["type","button",3,"click"],["src","https://img.icons8.com/ios-filled/50/ffffff/people-in-car.png"],["src","https://img.icons8.com/ios/50/ffffff/walking--v1.png"],["src","https://img.icons8.com/external-kiranshastry-lineal-kiranshastry/64/ffffff/external-route-interface-kiranshastry-lineal-kiranshastry.png"],[1,"closest-parking",3,"click"]],template:function(t,e){1&t&&Va(0,bL,29,37,"div",0),2&t&&Ga("ngIf",e.poi)},directives:[kh,vh,kx,JT,EO,SO,RO,wh,FO,$A],pipes:[Xb,VO,Gh,qh],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 0 15px rgba(0,0,0,.1);border-radius:0 10px 10px 0;margin-bottom:1rem;position:absolute;left:0;top:110px;transition:all .25s linear;min-height:143px;z-index:4;max-height:calc(100vh - 110px);overflow-x:hidden;overflow-y:auto;width:451px}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.container[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;color:#fff;background:#da291c;border:0;border-radius:15px;padding:.5rem .8rem;font-size:20px;z-index:4}.container[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{background:#cc261a}.container[_ngcontent-%COMP%]   .img-holder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:1rem 2rem;background:#fff;position:relative;top:-20px;border-radius:0 20px 0 0}.container[_ngcontent-%COMP%]   .content.small-viewport-only[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]   .content.header[_ngcontent-%COMP%]{padding-bottom:0}.container[_ngcontent-%COMP%]   .content.header[_ngcontent-%COMP%]   .qr-code[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]   .content.header[_ngcontent-%COMP%]   .qr-code[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#da291c;font-weight:600;font-size:20px;padding-left:1.5rem}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#da291c;margin-bottom:5px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   a.url[_ngcontent-%COMP%]{display:inline-block;background:#fff;border:2px solid #da291c;text-align:center;border-radius:50px;font-weight:500;transition:all .25s linear;color:#da291c;text-decoration:none;font-size:18px;width:36px;height:36px;line-height:39px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   a.url[_ngcontent-%COMP%]:hover{background:#da291c;border-color:#da291c;color:#fff}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .open-hours[_ngcontent-%COMP%]{color:#da291c;margin-bottom:0;font-weight:400}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0;font-size:14px;margin-bottom:0}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:300;font-size:14px;letter-spacing:.5px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;font-weight:500;color:#222;margin-top:10px;text-decoration:none}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#da291c}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .accessible-toggle[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .instructions-toggle[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .show-route[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:.5rem;cursor:pointer;background:#fff;text-align:center;border-radius:5px;font-weight:500;padding:.5rem;outline:0;transition:all .25s linear}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .accessible-toggle[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .instructions-toggle[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .show-route[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{margin-right:.5rem}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .accessible-toggle[_ngcontent-%COMP%]:hover, .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .instructions-toggle[_ngcontent-%COMP%]:hover, .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .show-route[_ngcontent-%COMP%]:hover{opacity:.7;transform:scale(1.05)}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .instructions-toggle[_ngcontent-%COMP%]{border:2px solid #da291c;color:#da291c}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .accessible-toggle[_ngcontent-%COMP%]{border:0;color:#202020}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .show-route[_ngcontent-%COMP%]{border:2px solid #da291c;background-color:#da291c;color:#fff}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]    {box-shadow:none;background:#fff}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding:0}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]     .mat-list-item{border-top:1px dashed #da291c;color:#222}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]     .mat-list-item .mat-list-item-content{padding:0}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]     .mat-list-item .mat-list-item-content .mat-list-text p:first-child{color:#da291c}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]     .mat-list-item .mat-list-item-content .mat-list-text p:first-child fa-icon{margin-right:5px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]     .mat-list-item .mat-list-item-content .mat-list-text p:last-child{margin-top:5px}.container[_ngcontent-%COMP%]   .content.accessibleOnly[_ngcontent-%COMP%]   .instructions-toggle[_ngcontent-%COMP%]{border-color:#202020;color:#202020}.container[_ngcontent-%COMP%]   .content.accessibleOnly[_ngcontent-%COMP%]   .accessible-toggle[_ngcontent-%COMP%]{color:#da291c}.container[_ngcontent-%COMP%]   .content.accessibleOnly[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]     .mat-list-item{border-color:#202020}.container[_ngcontent-%COMP%]   .content.accessibleOnly[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]     .mat-list-item .mat-list-text p:first-child{color:#202020}.container[_ngcontent-%COMP%]   .content.small-viewport-only[_ngcontent-%COMP%]   .accessible-toggle[_ngcontent-%COMP%]{border:2px solid #202020;color:#202020}.container[_ngcontent-%COMP%]   .content.small-viewport-only.accessibleOnly[_ngcontent-%COMP%]   .accessible-toggle[_ngcontent-%COMP%]{border:2px solid #da291c;color:#da291c}.container[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{position:absolute;display:none;font-size:30px;color:#da291c;padding:.5rem;cursor:pointer;transform:rotate(-90deg);z-index:6}.container[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]:hover{color:#cc261a}.container[_ngcontent-%COMP%]   .start-box[_ngcontent-%COMP%]{margin-top:-3rem;padding:0 2rem 1rem;position:relative}.container[_ngcontent-%COMP%]   .start-box[_ngcontent-%COMP%]   .closest-parking[_ngcontent-%COMP%]{display:inline-block;cursor:pointer;color:#da291c}.container[_ngcontent-%COMP%]   .start-box[_ngcontent-%COMP%]   .closest-parking[_ngcontent-%COMP%]:hover{color:#961c13}.container[_ngcontent-%COMP%]   .start-box[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:1rem}.container[_ngcontent-%COMP%]   .start-box[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{flex:auto;text-align:center;background-color:#da291c;color:#fff;border-radius:6px;max-width:120px;border:0;padding:.5rem}.container[_ngcontent-%COMP%]   .start-box[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{background-color:#961c13}.container[_ngcontent-%COMP%]   .start-box[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 auto;display:block;width:30px}.container[_ngcontent-%COMP%]   .start-box[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   .start-box[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}@media only screen and (max-width:959.98px){.container[_ngcontent-%COMP%]{bottom:0;top:auto;left:0;right:0;position:fixed;width:100%;margin-bottom:0;border-radius:10px 10px 0 0;max-height:100%;z-index:16}.container[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{display:block;left:calc(50% - 18px)}.container[_ngcontent-%COMP%]   .img-holder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:0}.container[_ngcontent-%COMP%]   .content.large-viewport-only[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]   .content.small-viewport-only[_ngcontent-%COMP%]{display:block}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .open-hours[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{display:none}.container.open[_ngcontent-%COMP%]{max-height:100%}.container.open[_ngcontent-%COMP%]   .img-holder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:auto}.container.open[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{display:block}.container.open[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .open-hours[_ngcontent-%COMP%]{display:none}.container.haveRoute[_ngcontent-%COMP%]{max-height:245px}.container.haveRoute[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .distance[_ngcontent-%COMP%]{display:block}.container.haveRoute[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .qr-code[_ngcontent-%COMP%], .container.haveRoute[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .show-route[_ngcontent-%COMP%]{display:none}.container.haveRoute.open[_ngcontent-%COMP%]{max-height:100%}.container.haveRoute.open[_ngcontent-%COMP%]   .img-holder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:auto}.container.haveRoute.open[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .qr-code[_ngcontent-%COMP%]{right:.5rem}.container[_ngcontent-%COMP%]   .start-box[_ngcontent-%COMP%]{font-size:12px}.container[_ngcontent-%COMP%]   .start-box[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{font-size:12px;max-width:80px}.container[_ngcontent-%COMP%]   .start-box[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px}}"]}),wL);function EL(t,e){if(1&t){var n=Ja();Wa(0,"li",7),ns("click",function(){Xe(n);var t=e.$implicit;return ss().onSelect(t)}),Wa(1,"span",2),Ts(2),Ya(),Wa(3,"span",8),Ts(4),Ya(),Ya()}if(2&t){var i=e.$implicit;co(2),Os(i.properties.title),co(2),Os(i.properties.floor_name)}}var SL,CL,IL,AL,PL,TL=function(){return["fal","times"]},OL=((SL=function(){function t(e,n,i){var r=this;m(this,t),this.sidebarService=e,this.stateService=n,this.translateService=i,this.subs=[],this.currentLanguage=this.translateService.currentLang,this.subs.push(this.sidebarService.getAmenityToggleListener().subscribe(function(t){t&&"shop"===t.category&&(r.data=r.stateService.state.allFeatures.features.filter(function(e){return e.properties.amenity===t.amenityId&&"poi"===e.properties.type&&"e905bda5-4900-48f5-a6b0-d8e39c05050f"===e.properties.place_id}).sort(function(t,e){return t.properties.title>e.properties.title?1:-1}).map(function(t){var e;return t.properties.title=t.properties.title_i18n&&t.properties.title_i18n[r.currentLanguage]?t.properties.title_i18n[r.currentLanguage]:t.properties.title,t.properties.floor_name=null===(e=r.stateService.state.floors.find(function(e){return e.id===t.properties.floor_id}))||void 0===e?void 0:e.name,t}))}))}return y(t,[{key:"ngOnInit",value:function(){}},{key:"onClose",value:function(){this.sidebarService.onAmenityToggle("shop",this.sidebarService.filteredShop),this.sidebarService.activeListItem=null}},{key:"onSelect",value:function(t){this.sidebarService.onSetEndPoi(t)}},{key:"ngOnDestroy",value:function(){this.subs.forEach(function(t){return t.unsubscribe()})}}]),t}()).\u0275fac=function(t){return new(t||SL)(qa(Jb),qa(ly),qa(Zb))},SL.\u0275cmp=ae({type:SL,selectors:[["app-list-view"]],decls:9,vars:6,consts:[[1,"container"],[1,"content"],[1,"title"],[1,"close",3,"click"],[3,"icon"],[1,"list"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"floor"]],template:function(t,e){1&t&&(Wa(0,"div",0),Wa(1,"div",1),Wa(2,"h3",2),Ts(3),ul(4,"translate"),Ya(),Wa(5,"button",3),ns("click",function(){return e.onClose()}),Za(6,"fa-icon",4),Ya(),Wa(7,"ul",5),Va(8,EL,5,2,"li",6),Ya(),Ya(),Ya()),2&t&&(co(3),Os(ll(4,3,null==e.sidebarService.activeListItem?null:e.sidebarService.activeListItem.title)),co(3),Ga("icon",el(5,TL)),co(2),Ga("ngForOf",e.data))},directives:[kx,wh],pipes:[Xb],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 0 15px rgba(0,0,0,.1);border-radius:0 10px 10px 0;margin-bottom:1rem;position:absolute;left:0;top:110px;transition:all .25s linear;z-index:3;max-height:calc(100vh - 110px);overflow-x:hidden;overflow-y:auto;width:451px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:1rem 2rem}.container[_ngcontent-%COMP%]   h3.title[_ngcontent-%COMP%]{position:relative;color:#da291c;transition:all .25s linear}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer}.container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid rgba(0,0,0,.4);padding:.8rem .2rem;cursor:pointer;align-items:center}.container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:auto}.container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .floor[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.75);color:#fff;width:26px;height:26px;line-height:27px;border-radius:4px;text-align:center}.container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{color:#da291c;border-color:#da291c}.container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   .floor[_ngcontent-%COMP%]{background-color:#da291c}.container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:last-child{border:0}.container[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;color:#fff;background:#da291c;border:0;border-radius:15px;padding:.5rem .8rem;font-size:20px;z-index:4}.container[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{background:#cc261a}@media only screen and (max-width:959.98px){.container[_ngcontent-%COMP%]{bottom:0;top:auto;left:0;right:0;position:fixed;width:100%;margin-bottom:0;border-radius:10px 10px 0 0;max-height:100%;z-index:15}}"]}),SL),LL=sv({passive:!0}),ML=((IL=function(){function t(e,n){m(this,t),this._platform=e,this._ngZone=n,this._monitoredElements=new Map}return y(t,[{key:"monitor",value:function(t){var e=this;if(!this._platform.isBrowser)return Ff;var n=fy(t),i=this._monitoredElements.get(n);if(i)return i.subject;var r=new j,o="cdk-text-field-autofilled",a=function(t){"cdk-text-field-autofill-start"!==t.animationName||n.classList.contains(o)?"cdk-text-field-autofill-end"===t.animationName&&n.classList.contains(o)&&(n.classList.remove(o),e._ngZone.run(function(){return r.next({target:t.target,isAutofilled:!1})})):(n.classList.add(o),e._ngZone.run(function(){return r.next({target:t.target,isAutofilled:!0})}))};return this._ngZone.runOutsideAngular(function(){n.addEventListener("animationstart",a,LL),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:r,unlisten:function(){n.removeEventListener("animationstart",a,LL)}}),r}},{key:"stopMonitoring",value:function(t){var e=fy(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}},{key:"ngOnDestroy",value:function(){var t=this;this._monitoredElements.forEach(function(e,n){return t.stopMonitoring(n)})}}]),t}()).\u0275fac=function(t){return new(t||IL)(Ei(iv),Ei(ic))},IL.\u0275prov=At({factory:function(){return new IL(Ei(iv),Ei(ic))},token:IL,providedIn:"root"}),IL),NL=((CL=function t(){m(this,t)}).\u0275fac=function(t){return new(t||CL)},CL.\u0275mod=ce({type:CL}),CL.\u0275inj=Pt({imports:[[rv]]}),CL),RL=new si("MAT_INPUT_VALUE_ACCESSOR"),DL=["button","checkbox","file","hidden","image","radio","range","reset","submit"],zL=0,FL=function(t){return function(t){o(n,t);var e=s(n);function n(){var t;m(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).errorState=!1,t.stateChanges=new j,t}return y(n,[{key:"updateErrorState",value:function(){var t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}]),n}(t)}(function t(e,n,i,r){m(this,t),this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r}),BL=((PL=function(t){o(n,t);var e=s(n);function n(t,i,r,o,a,s,u,l,c,h){var p;m(this,n),(p=e.call(this,s,o,a,r))._elementRef=t,p._platform=i,p.ngControl=r,p._autofillMonitor=l,p._formField=h,p._uid="mat-input-"+zL++,p.focused=!1,p.stateChanges=new j,p.controlType="mat-input",p.autofilled=!1,p._disabled=!1,p._required=!1,p._type="text",p._readonly=!1,p._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(function(t){return av().has(t)});var f=p._elementRef.nativeElement,d=f.nodeName.toLowerCase();return p._inputValueAccessor=u||f,p._previousNativeValue=p.value,p.id=p.id,i.IOS&&c.runOutsideAngular(function(){t.nativeElement.addEventListener("keyup",function(t){var e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),p._isServer=!p._platform.isBrowser,p._isNativeSelect="select"===d,p._isTextarea="textarea"===d,p._isNativeSelect&&(p.controlType=f.multiple?"mat-native-select-multiple":"mat-native-select"),p}return y(n,[{key:"disabled",get:function(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled},set:function(t){this._disabled=cy(t),this.focused&&(this.focused=!1,this.stateChanges.next())}},{key:"id",get:function(){return this._id},set:function(t){this._id=t||this._uid}},{key:"required",get:function(){return this._required},set:function(t){this._required=cy(t)}},{key:"type",get:function(){return this._type},set:function(t){this._type=t||"text",this._validateType(),!this._isTextarea&&av().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}},{key:"value",get:function(){return this._inputValueAccessor.value},set:function(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}},{key:"readonly",get:function(){return this._readonly},set:function(t){this._readonly=cy(t)}},{key:"ngAfterViewInit",value:function(){var t=this;this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(function(e){t.autofilled=e.isAutofilled,t.stateChanges.next()})}},{key:"ngOnChanges",value:function(){this.stateChanges.next()}},{key:"ngOnDestroy",value:function(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}},{key:"ngDoCheck",value:function(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}},{key:"focus",value:function(t){this._elementRef.nativeElement.focus(t)}},{key:"_focusChanged",value:function(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}},{key:"_onInput",value:function(){}},{key:"_dirtyCheckPlaceholder",value:function(){var t,e,n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){var i=this._elementRef.nativeElement;this._previousPlaceholder=n,n?i.setAttribute("placeholder",n):i.removeAttribute("placeholder")}}},{key:"_dirtyCheckNativeValue",value:function(){var t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}},{key:"_validateType",value:function(){DL.indexOf(this._type)}},{key:"_isNeverEmpty",value:function(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}},{key:"_isBadInput",value:function(){var t=this._elementRef.nativeElement.validity;return t&&t.badInput}},{key:"empty",get:function(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}},{key:"shouldLabelFloat",get:function(){if(this._isNativeSelect){var t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}},{key:"setDescribedByIds",value:function(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}},{key:"onContainerClick",value:function(){this.focused||this.focus()}}]),n}(FL)).\u0275fac=function(t){return new(t||PL)(qa(iu),qa(iv),qa(ek,10),qa(Fk,8),qa(Wk,8),qa(KA),qa(RL,10),qa(ML),qa(ic),qa(fT,8))},PL.\u0275dir=pe({type:PL,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&ns("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(Ns("disabled",e.disabled)("required",e.required),Ba("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState&&!e.empty)("aria-required",e.required),vs("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[Ks([{provide:rT,useExisting:PL}]),Ca,Se]}),PL),jL=((AL=function t(){m(this,t)}).\u0275fac=function(t){return new(t||AL)},AL.\u0275mod=ce({type:AL}),AL.\u0275inj=Pt({providers:[KA],imports:[[NL,gT,HA],NL,gT]}),AL),VL=function(){function t(e,n){m(this,t),this.delay=e,this.scheduler=n}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new UL(t,this.delay,this.scheduler))}}]),t}(),UL=function(t){o(n,t);var e=s(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this,t)).delay=i,o.scheduler=r,o.queue=[],o.active=!1,o.errored=!1,o}return y(n,[{key:"_schedule",value:function(t){this.active=!0,this.destination.add(t.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}},{key:"scheduleNotification",value:function(t){if(!0!==this.errored){var e=this.scheduler,n=new qL(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}}},{key:"_next",value:function(t){this.scheduleNotification(Hy.createNext(t))}},{key:"_error",value:function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(Hy.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){for(var e=t.source,n=e.queue,i=t.scheduler,r=t.destination;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){var o=Math.max(0,n[0].time-i.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1}}]),n}(P),qL=function t(e,n){m(this,t),this.time=e,this.notification=n},GL=["panel"];function HL(t,e){if(1&t&&(Wa(0,"div",0,1),cs(2),Ya()),2&t){var n=e.id,i=ss();Ga("id",i.id)("ngClass",i._classList),Ba("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby(n))}}var WL,YL,ZL,XL,KL,$L=["*"],JL=0,QL=function t(e,n){m(this,t),this.source=e,this.option=n},tM=YA(function t(){m(this,t)}),eM=new si("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}}),nM=((YL=function(t){o(n,t);var e=s(n);function n(t,i,r,o){var a;return m(this,n),(a=e.call(this))._changeDetectorRef=t,a._elementRef=i,a._activeOptionChanges=C.EMPTY,a.showPanel=!1,a._isOpen=!1,a.displayWith=null,a.optionSelected=new gl,a.opened=new gl,a.closed=new gl,a.optionActivated=new gl,a._classList={},a.id="mat-autocomplete-"+JL++,a.inertGroups=(null==o?void 0:o.SAFARI)||!1,a._autoActiveFirstOption=!!r.autoActiveFirstOption,a}return y(n,[{key:"isOpen",get:function(){return this._isOpen&&this.showPanel}},{key:"autoActiveFirstOption",get:function(){return this._autoActiveFirstOption},set:function(t){this._autoActiveFirstOption=cy(t)}},{key:"classList",set:function(t){this._classList=t&&t.length?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\s+/,n=[];if(null!=t){var i,r=Array.isArray(t)?t:"".concat(t).split(e),o=f(r);try{for(o.s();!(i=o.n()).done;){var a=i.value,s="".concat(a).trim();s&&n.push(s)}}catch(u){o.e(u)}finally{o.f()}}return n}(t).reduce(function(t,e){return t[e]=!0,t},{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}},{key:"ngAfterContentInit",value:function(){var t=this;this._keyManager=new ZS(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(function(e){t.optionActivated.emit({source:t,option:t.options.toArray()[e]||null})}),this._setVisibility()}},{key:"ngOnDestroy",value:function(){this._activeOptionChanges.unsubscribe()}},{key:"_setScrollTop",value:function(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}},{key:"_getScrollTop",value:function(){return this.panel?this.panel.nativeElement.scrollTop:0}},{key:"_setVisibility",value:function(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}},{key:"_emitSelectEvent",value:function(t){var e=new QL(this,t);this.optionSelected.emit(e)}},{key:"_getPanelAriaLabelledby",value:function(t){return this.ariaLabel?null:this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}},{key:"_setVisibilityClasses",value:function(t){t[this._visibleClass]=this.showPanel,t[this._hiddenClass]=!this.showPanel}}]),n}(tM)).\u0275fac=function(t){return new(t||YL)(qa(Pu),qa(iu),qa(eM),qa(iv))},YL.\u0275dir=pe({type:YL,viewQuery:function(t,e){var n;1&t&&(Al(Ru,3),Al(GL,1)),2&t&&(Il(n=Tl())&&(e.template=n.first),Il(n=Tl())&&(e.panel=n.first))},inputs:{displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",classList:["class","classList"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],panelWidth:"panelWidth"},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[Ca]}),YL),iM=((WL=function(t){o(n,t);var e=s(n);function n(){var t;return m(this,n),(t=e.apply(this,arguments))._visibleClass="mat-autocomplete-visible",t._hiddenClass="mat-autocomplete-hidden",t}return n}(nM)).\u0275fac=function(t){return rM(t||WL)},WL.\u0275cmp=ae({type:WL,selectors:[["mat-autocomplete"]],contentQueries:function(t,e,n){var i;1&t&&(Pl(n,EP,1),Pl(n,AP,1)),2&t&&(Il(i=Tl())&&(e.optionGroups=i),Il(i=Tl())&&(e.options=i))},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[Ks([{provide:bP,useExisting:WL}]),Ca],ngContentSelectors:$L,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(t,e){1&t&&(ls(),Va(0,HL,3,4,"ng-template"))},directives:[vh],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}\n"],encapsulation:2,changeDetection:0}),WL),rM=ii(iM),oM=new si("mat-autocomplete-scroll-strategy"),aM={provide:oM,deps:[gb],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},sM={provide:Sx,useExisting:wt(function(){return lM}),multi:!0},uM=((XL=function(){function t(e,n,i,r,o,a,s,u,l,c,h){var f=this;m(this,t),this._element=e,this._overlay=n,this._viewContainerRef=i,this._zone=r,this._changeDetectorRef=o,this._dir=s,this._formField=u,this._document=l,this._viewportRuler=c,this._defaults=h,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=C.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new j,this._windowBlurHandler=function(){f._canOpenOnNextFocus=f._document.activeElement!==f._element.nativeElement||f.panelOpen},this._onChange=function(){},this._onTouched=function(){},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=jf(function(){return f.autocomplete&&f.autocomplete.options?st.apply(void 0,p(f.autocomplete.options.map(function(t){return t.onSelectionChange}))):f._zone.onStable.pipe(Hf(1),Vf(function(){return f.optionSelections}))}),this._scrollStrategy=a}return y(t,[{key:"autocompleteDisabled",get:function(){return this._autocompleteDisabled},set:function(t){this._autocompleteDisabled=cy(t)}},{key:"ngAfterViewInit",value:function(){var t=this,e=this._getWindow();void 0!==e&&this._zone.runOutsideAngular(function(){return e.addEventListener("blur",t._windowBlurHandler)})}},{key:"ngOnChanges",value:function(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}},{key:"ngOnDestroy",value:function(){var t=this._getWindow();void 0!==t&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}},{key:"panelOpen",get:function(){return this._overlayAttached&&this.autocomplete.showPanel}},{key:"openPanel",value:function(){this._attachOverlay(),this._floatLabel()}},{key:"closePanel",value:function(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}},{key:"updatePosition",value:function(){this._overlayAttached&&this._overlayRef.updatePosition()}},{key:"panelClosingActions",get:function(){var t=this;return st(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(zp(function(){return t._overlayAttached})),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(zp(function(){return t._overlayAttached})):Rp()).pipe(q(function(t){return t instanceof CP?t:null}))}},{key:"activeOption",get:function(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}},{key:"_getOutsideClickStream",value:function(){var t=this;return st(dy(this._document,"click"),dy(this._document,"auxclick"),dy(this._document,"touchend")).pipe(zp(function(e){var n=t._isInsideShadowRoot&&e.composedPath?e.composedPath()[0]:e.target,i=t._formField?t._formField._elementRef.nativeElement:null,r=t.connectedTo?t.connectedTo.elementRef.nativeElement:null;return t._overlayAttached&&n!==t._element.nativeElement&&(!i||!i.contains(n))&&(!r||!r.contains(n))&&!!t._overlayRef&&!t._overlayRef.overlayElement.contains(n)}))}},{key:"writeValue",value:function(t){var e=this;Promise.resolve(null).then(function(){return e._setTriggerValue(t)})}},{key:"registerOnChange",value:function(t){this._onChange=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"setDisabledState",value:function(t){this._element.nativeElement.disabled=t}},{key:"_handleKeydown",value:function(t){var e=t.keyCode;if(27!==e||Nv(t)||t.preventDefault(),this.activeOption&&13===e&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){var n=this.autocomplete._keyManager.activeItem,i=38===e||40===e;this.panelOpen||9===e?this.autocomplete._keyManager.onKeydown(t):i&&this._canOpen()&&this.openPanel(),(i||this.autocomplete._keyManager.activeItem!==n)&&this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0)}}},{key:"_handleInput",value:function(t){var e=t.target,n=e.value;"number"===e.type&&(n=""==n?null:parseFloat(n)),this._previousValue!==n&&(this._previousValue=n,this._onChange(n),this._canOpen()&&this._document.activeElement===t.target&&this.openPanel())}},{key:"_handleFocus",value:function(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}},{key:"_floatLabel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}},{key:"_resetLabel",value:function(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}},{key:"_subscribeToClosingActions",value:function(){var t=this;return st(this._zone.onStable.pipe(Hf(1)),this.autocomplete.options.changes.pipe(fd(function(){return t._positionStrategy.reapplyLastPosition()}),function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ly,i=(e=t)instanceof Date&&!isNaN(+e)?+t-n.now():Math.abs(t);return function(t){return t.lift(new VL(i,n))}}(0))).pipe(Vf(function(){var e=t.panelOpen;return t._resetActiveItem(),t.autocomplete._setVisibility(),t.panelOpen&&(t._overlayRef.updatePosition(),e!==t.panelOpen&&t.autocomplete.opened.emit()),t.panelClosingActions}),Hf(1)).subscribe(function(e){return t._setValueAndClose(e)})}},{key:"_destroyPanel",value:function(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}},{key:"_setTriggerValue",value:function(t){var e=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t,n=null!=e?e:"";this._formField?this._formField._control.value=n:this._element.nativeElement.value=n,this._previousValue=n}},{key:"_setValueAndClose",value:function(t){t&&t.source&&(this._clearPreviousSelectedOption(t.source),this._setTriggerValue(t.source.value),this._onChange(t.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(t.source)),this.closePanel()}},{key:"_clearPreviousSelectedOption",value:function(t){this.autocomplete.options.forEach(function(e){e!==t&&e.selected&&e.deselect()})}},{key:"_attachOverlay",value:function(){var t,e=this;null==this._isInsideShadowRoot&&(this._isInsideShadowRoot=!!uv(this._element.nativeElement));var n=this._overlayRef;n?(this._positionStrategy.setOrigin(this._getConnectedElement()),n.updateSize({width:this._getPanelWidth()})):(this._portal=new Av(this.autocomplete.template,this._viewContainerRef,{id:null===(t=this._formField)||void 0===t?void 0:t.getLabelId()}),n=this._overlay.create(this._getOverlayConfig()),this._overlayRef=n,n.keydownEvents().subscribe(function(t){(27===t.keyCode&&!Nv(t)||38===t.keyCode&&Nv(t,"altKey"))&&(e._resetActiveItem(),e._closeKeyEventStream.next(),t.stopPropagation(),t.preventDefault())}),this._viewportSubscription=this._viewportRuler.change().subscribe(function(){e.panelOpen&&n&&n.updateSize({width:e._getPanelWidth()})})),n&&!n.hasAttached()&&(n.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());var i=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&i!==this.panelOpen&&this.autocomplete.opened.emit()}},{key:"_getOverlayConfig",value:function(){var t;return new Zv({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:null===(t=this._defaults)||void 0===t?void 0:t.overlayPanelClass})}},{key:"_getOverlayPosition",value:function(){var t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}},{key:"_setStrategyPositions",value:function(t){var e,n=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],i=this._aboveClass,r=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:i},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:i}];e="above"===this.position?r:"below"===this.position?n:[].concat(n,r),t.withPositions(e)}},{key:"_getConnectedElement",value:function(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}},{key:"_getPanelWidth",value:function(){return this.autocomplete.panelWidth||this._getHostWidth()}},{key:"_getHostWidth",value:function(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}},{key:"_resetActiveItem",value:function(){var t=this.autocomplete;t.autoActiveFirstOption?t._keyManager.setFirstItemActive():t._keyManager.setActiveItem(-1)}},{key:"_canOpen",value:function(){var t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}},{key:"_getWindow",value:function(){var t;return(null===(t=this._document)||void 0===t?void 0:t.defaultView)||window}},{key:"_scrollToOption",value:function(t){var e,n,i,r,o=this.autocomplete,a=function(t,e,n){if(n.length){for(var i=e.toArray(),r=n.toArray(),o=0,a=0;a<t+1;a++)i[a].group&&i[a].group===r[o]&&o++;return o}return 0}(t,o.options,o.optionGroups);if(0===t&&1===a)o._setScrollTop(0);else if(o.panel){var s=o.options.toArray()[t];if(s){var u=s._getHostElement(),l=(e=u.offsetTop,n=u.offsetHeight,i=o._getScrollTop(),r=o.panel.nativeElement.offsetHeight,e<i?e:e+n>i+r?Math.max(0,e-r+n):i);o._setScrollTop(l)}}}}]),t}()).\u0275fac=function(t){return new(t||XL)(qa(iu),qa(gb),qa(Vu),qa(ic),qa(Pu),qa(oM),qa(vv,8),qa(fT,9),qa(zc,8),qa(kv),qa(eM,8))},XL.\u0275dir=pe({type:XL,inputs:{position:["matAutocompletePosition","position"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"],autocomplete:["matAutocomplete","autocomplete"],connectedTo:["matAutocompleteConnectedTo","connectedTo"]},features:[Se]}),XL),lM=((ZL=function(t){o(n,t);var e=s(n);function n(){var t;return m(this,n),(t=e.apply(this,arguments))._aboveClass="mat-autocomplete-panel-above",t}return n}(uM)).\u0275fac=function(t){return cM(t||ZL)},ZL.\u0275dir=pe({type:ZL,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(t,e){1&t&&ns("focusin",function(){return e._handleFocus()})("blur",function(){return e._onTouched()})("input",function(t){return e._handleInput(t)})("keydown",function(t){return e._handleKeydown(t)}),2&t&&Ba("autocomplete",e.autocompleteAttribute)("role",e.autocompleteDisabled?null:"combobox")("aria-autocomplete",e.autocompleteDisabled?null:"list")("aria-activedescendant",e.panelOpen&&e.activeOption?e.activeOption.id:null)("aria-expanded",e.autocompleteDisabled?null:e.panelOpen.toString())("aria-owns",e.autocompleteDisabled||!e.panelOpen||null==e.autocomplete?null:e.autocomplete.id)("aria-haspopup",!e.autocompleteDisabled)},exportAs:["matAutocompleteTrigger"],features:[Ks([sM]),Ca]}),ZL),cM=ii(lM),hM=((KL=function t(){m(this,t)}).\u0275fac=function(t){return new(t||KL)},KL.\u0275mod=ce({type:KL}),KL.\u0275inj=Pt({providers:[aM],imports:[[_b,PP,HA,Hh],Ev,PP,HA]}),KL);function pM(t,e){if(1&t&&(Wa(0,"mat-option",16),Ts(1),Ya()),2&t){var n=e.$implicit;Ga("value",n),co(1),Ls(" ",n.properties.title+" - Floor: "+n.properties.level," ")}}function fM(t,e){1&t&&(Wa(0,"mat-error"),Ts(1,"Please enter a valid start poi."),Ya())}function dM(t,e){if(1&t&&(Wa(0,"mat-option",16),Ts(1),ul(2,"translate"),Ya()),2&t){var n=e.$implicit;Ga("value",n),co(1),Ls(" ","Closest "+ll(2,2,n.title)," ")}}function gM(t,e){1&t&&(Wa(0,"mat-error"),Ts(1,"Please enter a valid destination poi."),Ya())}var mM,_M=function(){return["fal","times"]},yM=((mM=function(){function t(e,n,i,r,o){var a=this;m(this,t),this.sidebarService=e,this.stateService=n,this.translateService=i,this.mapService=r,this.fb=o,this.options=[],this.amenityOptions=WT,this.routeForm=this.fb.group({startPoi:[this.stateService.state.startPoi,Nx.required],destinationPoi:[null,Nx.required]}),this.subs=[],this.displayAmenity=function(t){return t&&t.title?"Closest ".concat(a.translateService.instant(t.title)):""},this.currentLanguage=this.translateService.currentLang,this.subs.push(this.sidebarService.getAmenityToggleListener().subscribe(function(t){t&&"amenities"===t.category&&!a.stateService.state.kioskMode&&(a.destinationAmenityId=t.amenityId,a.sidebarService.showClosestAmenityPicker=!0,a.routeForm.get("destinationPoi").setValue(a.amenityOptions.find(function(e){return e.id===t.amenityId})))}),this.mapService.getMapReadyListener().subscribe(function(t){t&&(a.filteredPois=a.routeForm.get("startPoi").valueChanges.pipe(Zf(""),q(function(t){return"string"==typeof t?t:t.properties.title}),q(function(t){return t?a._filter(t,"pois"):a.options.slice()})),a.options=a.sidebarService.sortedPOIs,a.setStartPoi())}))}return y(t,[{key:"ngOnInit",value:function(){var t=this;this.filteredAmenities=this.routeForm.get("destinationPoi").valueChanges.pipe(Zf(""),q(function(t){return"string"==typeof t?t:t.title}),q(function(e){return e?t._filter(e,"amenities"):t.amenityOptions.slice()}))}},{key:"onClose",value:function(){this.sidebarService.onAmenityToggle("amenities",this.sidebarService.filteredAmenity),this.sidebarService.showClosestAmenityPicker=!1,this.sidebarService.activeListItem=null,this.startPoiId=null,this.setStartPoi(),this.sidebarService.onSetEndPoi(null)}},{key:"onStartPoiSelect",value:function(t){this.startPoiId=t.option.value.id,this.setStartPoi()}},{key:"setStartPoi",value:function(){var t=this;if(!this.stateService.state.kioskMode){var e=this.sidebarService.sortedPOIs.find(function(e){return e.id===(t.startPoiId?t.startPoiId:t.stateService.state.startPoiId)});e&&(this.routeForm.get("startPoi").setValue(e),this.sidebarService.onSetStartPoi(e))}}},{key:"onDestinationSelect",value:function(t){this.destinationAmenityId=t.option.value.id,this.sidebarService.filteredAmenity!==this.destinationAmenityId&&(this.sidebarService.onAmenityToggle("amenities",this.destinationAmenityId),this.sidebarService.activeListItem=t.option.value)}},{key:"displayPoi",value:function(t){return t&&t.properties&&t.properties.title?"".concat(t.properties.title," - Floor: ").concat(t.properties.level):""}},{key:"onSubmit",value:function(){this.sidebarService.onRouteToClosestAmenity()}},{key:"_filter",value:function(t,e){var n=this,i=t.toLowerCase();return"pois"===e?this.options.filter(function(t){return Qb(t.properties.title).toLowerCase().includes(Qb(i))}):"amenities"===e?this.amenityOptions.filter(function(t){return"Closest ".concat(n.translateService.instant(t.title)).toLowerCase().includes(i)}):void 0}},{key:"ngOnDestroy",value:function(){this.subs.forEach(function(t){return t.unsubscribe()})}}]),t}()).\u0275fac=function(t){return new(t||mM)(qa(Jb),qa(ly),qa(Zb),qa(iy),qa(Jk))},mM.\u0275cmp=ae({type:mM,selectors:[["app-closest-amenity"]],decls:34,vars:34,consts:[[1,"container"],[1,"content"],[1,"title"],[1,"close",3,"click"],[3,"icon"],[3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","type","text","formControlName","startPoi",3,"placeholder","matAutocomplete"],[3,"displayWith","optionSelected"],["start","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","type","text","formControlName","destinationPoi",3,"placeholder","matAutocomplete"],["destination","matAutocomplete"],["type","submit",3,"disabled"],["src","https://img.icons8.com/ios/50/ffffff/walking--v1.png"],[3,"value"]],template:function(t,e){if(1&t&&(Wa(0,"div",0),Wa(1,"div",1),Wa(2,"h3",2),Ts(3),ul(4,"translate"),Ya(),Wa(5,"button",3),ns("click",function(){return e.onClose()}),Za(6,"fa-icon",4),Ya(),Wa(7,"form",5),ns("ngSubmit",function(){return e.onSubmit()}),Wa(8,"mat-form-field",6),Wa(9,"mat-label"),Ts(10),ul(11,"translate"),Ya(),Za(12,"input",7),ul(13,"translate"),Wa(14,"mat-autocomplete",8,9),ns("optionSelected",function(t){return e.onStartPoiSelect(t)}),Va(16,pM,2,2,"mat-option",10),ul(17,"async"),Ya(),Va(18,fM,2,0,"mat-error",11),Ya(),Wa(19,"mat-form-field",6),Wa(20,"mat-label"),Ts(21),ul(22,"translate"),Ya(),Za(23,"input",12),ul(24,"translate"),Wa(25,"mat-autocomplete",8,13),ns("optionSelected",function(t){return e.onDestinationSelect(t)}),Va(27,dM,3,4,"mat-option",10),ul(28,"async"),Ya(),Va(29,gM,2,0,"mat-error",11),Ya(),Wa(30,"button",14),Za(31,"img",15),Ts(32),ul(33,"translate"),Ya(),Ya(),Ya(),Ya()),2&t){var n=Ua(15),i=Ua(26);co(3),Ls(" ",ll(4,17,null==e.sidebarService.activeListItem?null:e.sidebarService.activeListItem.title)," "),co(3),Ga("icon",el(33,_M)),co(1),Ga("formGroup",e.routeForm),co(3),Os(ll(11,19,"startingPoint")),co(2),Ga("placeholder",ll(13,21,"startingPoint"))("matAutocomplete",n),co(2),Ga("displayWith",e.displayPoi),co(2),Ga("ngForOf",ll(17,23,e.filteredPois)),co(2),Ga("ngIf",e.routeForm.get("startPoi").invalid),co(3),Os(ll(22,25,"destination")),co(2),Ga("placeholder",ll(24,27,"destination"))("matAutocomplete",i),co(2),Ga("displayWith",e.displayAmenity),co(2),Ga("ngForOf",ll(28,29,e.filteredAmenities)),co(2),Ga("ngIf",e.routeForm.get("destinationPoi").invalid),co(1),Ga("disabled",e.routeForm.invalid),co(2),Ls(" ",ll(33,31,"takeMeThere")," ")}},directives:[kx,Uk,rk,Wk,dT,aT,BL,Ax,lM,ik,Zk,iM,wh,kh,AP,nT],pipes:[Xb,Uh],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 0 15px rgba(0,0,0,.1);border-radius:0 10px 10px 0;margin-bottom:1rem;position:absolute;left:0;top:110px;transition:all .25s linear;z-index:3;max-height:calc(100vh - 110px);overflow-x:hidden;overflow-y:auto;width:451px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:1rem 2rem}.container[_ngcontent-%COMP%]   h3.title[_ngcontent-%COMP%]{position:relative;color:#da291c;transition:all .25s linear}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;display:block}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;margin-bottom:.5rem;cursor:pointer;border:0;background-color:#da291c;color:#fff;text-align:center;border-radius:5px;font-weight:500;padding:.5rem;outline:0;transition:all .25s linear}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:26px;vertical-align:middle}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.7;transform:scale(1.05)}.container[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:10px;top:10px;color:#fff;background:#da291c;border:0;border-radius:15px;padding:.5rem .8rem;font-size:20px;z-index:4}.container[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{background:#cc261a}@media only screen and (max-width:959.98px){.container[_ngcontent-%COMP%]{bottom:0;top:auto;left:0;right:0;position:fixed;width:100%;margin-bottom:0;border-radius:10px 10px 0 0;max-height:100%;z-index:15}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:auto}}"]}),mM);function vM(t,e){if(1&t&&(Wa(0,"mat-option",16),Ts(1),Ya()),2&t){var n=e.$implicit;Ga("value",n),co(1),Ls(" ",n.properties.title+" - Floor: "+n.properties.level," ")}}function bM(t,e){1&t&&(Wa(0,"mat-error"),Ts(1,"Please enter a valid start poi."),Ya())}function wM(t,e){if(1&t&&(Wa(0,"mat-option",16),Ts(1),Ya()),2&t){var n=e.$implicit;Ga("value",n),co(1),Ls(" ",n.properties.title+" - Floor: "+n.properties.level," ")}}function xM(t,e){1&t&&(Wa(0,"mat-error"),Ts(1,"Please enter a valid destination poi."),Ya())}var kM,EM,SM,CM,IM=function(){return["fal","times"]},AM=((kM=function(){function t(e,n,i,r,o){var a=this;m(this,t),this.sidebarService=e,this.stateService=n,this.translateService=i,this.mapService=r,this.fb=o,this.options=[],this.routeForm=this.fb.group({startPoi:[this.stateService.state.startPoi,Nx.required],destinationPoi:[null,Nx.required]}),this.subs=[],this.currentLanguage=this.translateService.currentLang,this.subs.push(this.sidebarService.getEndPointListener().subscribe(function(t){t&&!a.stateService.state.kioskMode&&(a.destinationPoiId=t.id,a.routeForm.get("destinationPoi").setValue(t))}),this.mapService.getMapReadyListener().subscribe(function(t){t&&(a.filteredStartPois=a.routeForm.get("startPoi").valueChanges.pipe(Zf(""),q(function(t){return"string"==typeof t?t:t.properties.title}),q(function(t){return t?a._filter(t):a.options.slice()})),a.options=a.sidebarService.sortedPOIs,a.setStartPoi())}))}return y(t,[{key:"ngOnInit",value:function(){var t=this;this.filteredDestinationPois=this.routeForm.get("destinationPoi").valueChanges.pipe(Zf(""),q(function(t){return"string"==typeof t?t:t.properties.title}),q(function(e){return e?t._filter(e):t.options.slice()}))}},{key:"onClose",value:function(){this.sidebarService.showRoutePicker=!1,this.startPoiId=null,this.setStartPoi()}},{key:"onStartPoiSelect",value:function(t){this.startPoiId=t.option.value.id,this.setStartPoi()}},{key:"setStartPoi",value:function(){var t=this;this.stateService.state.kioskMode||(this.startPoi=this.sidebarService.sortedPOIs.find(function(e){return e.id===(t.startPoiId?t.startPoiId:t.stateService.state.startPoiId)}),this.startPoi&&this.routeForm.get("startPoi").setValue(this.startPoi))}},{key:"onDestinationSelect",value:function(t){var e=t.option.value;this.destinationPoiId=e.id,this.sidebarService.onSetEndPoi(e)}},{key:"displayPoi",value:function(t){return t&&t.properties&&t.properties.title?"".concat(t.properties.title," - Floor: ").concat(t.properties.level):""}},{key:"onSubmit",value:function(){this.sidebarService.onSetStartPoi(this.startPoi),this.sidebarService.showRoutePicker=!1}},{key:"_filter",value:function(t){var e=Qb(t.toLowerCase());return this.options.filter(function(t){return Qb(t.properties.title).toLowerCase().includes(e)})}},{key:"ngOnDestroy",value:function(){this.subs.forEach(function(t){return t.unsubscribe()})}}]),t}()).\u0275fac=function(t){return new(t||kM)(qa(Jb),qa(ly),qa(Zb),qa(iy),qa(Jk))},kM.\u0275cmp=ae({type:kM,selectors:[["app-route-picker"]],decls:34,vars:34,consts:[[1,"container"],[1,"content"],[1,"title"],[1,"close",3,"click"],[3,"icon"],[3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","type","text","formControlName","startPoi",3,"placeholder","matAutocomplete"],[3,"displayWith","optionSelected"],["start","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","type","text","formControlName","destinationPoi",3,"placeholder","matAutocomplete"],["destination","matAutocomplete"],["type","submit",3,"disabled"],["src","https://img.icons8.com/ios/50/ffffff/walking--v1.png"],[3,"value"]],template:function(t,e){if(1&t&&(Wa(0,"div",0),Wa(1,"div",1),Wa(2,"h3",2),Ts(3),ul(4,"translate"),Ya(),Wa(5,"button",3),ns("click",function(){return e.onClose()}),Za(6,"fa-icon",4),Ya(),Wa(7,"form",5),ns("ngSubmit",function(){return e.onSubmit()}),Wa(8,"mat-form-field",6),Wa(9,"mat-label"),Ts(10),ul(11,"translate"),Ya(),Za(12,"input",7),ul(13,"translate"),Wa(14,"mat-autocomplete",8,9),ns("optionSelected",function(t){return e.onStartPoiSelect(t)}),Va(16,vM,2,2,"mat-option",10),ul(17,"async"),Ya(),Va(18,bM,2,0,"mat-error",11),Ya(),Wa(19,"mat-form-field",6),Wa(20,"mat-label"),Ts(21),ul(22,"translate"),Ya(),Za(23,"input",12),ul(24,"translate"),Wa(25,"mat-autocomplete",8,13),ns("optionSelected",function(t){return e.onDestinationSelect(t)}),Va(27,wM,2,2,"mat-option",10),ul(28,"async"),Ya(),Va(29,xM,2,0,"mat-error",11),Ya(),Wa(30,"button",14),Za(31,"img",15),Ts(32),ul(33,"translate"),Ya(),Ya(),Ya(),Ya()),2&t){var n=Ua(15),i=Ua(26);co(3),Ls(" ",ll(4,17,null==e.sidebarService.selectedEndPoi?null:e.sidebarService.selectedEndPoi.properties.title)," "),co(3),Ga("icon",el(33,IM)),co(1),Ga("formGroup",e.routeForm),co(3),Os(ll(11,19,"startingPoint")),co(2),Ga("placeholder",ll(13,21,"startingPoint"))("matAutocomplete",n),co(2),Ga("displayWith",e.displayPoi),co(2),Ga("ngForOf",ll(17,23,e.filteredStartPois)),co(2),Ga("ngIf",e.routeForm.get("startPoi").invalid),co(3),Os(ll(22,25,"destination")),co(2),Ga("placeholder",ll(24,27,"destination"))("matAutocomplete",i),co(2),Ga("displayWith",e.displayPoi),co(2),Ga("ngForOf",ll(28,29,e.filteredDestinationPois)),co(2),Ga("ngIf",e.routeForm.get("destinationPoi").invalid),co(1),Ga("disabled",e.routeForm.invalid),co(2),Ls(" ",ll(33,31,"takeMeThere")," ")}},directives:[kx,Uk,rk,Wk,dT,aT,BL,Ax,lM,ik,Zk,iM,wh,kh,AP,nT],pipes:[Xb,Uh],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 0 15px rgba(0,0,0,.1);border-radius:0 10px 10px 0;margin-bottom:1rem;position:absolute;left:0;top:110px;transition:all .25s linear;z-index:3;max-height:calc(100vh - 110px);overflow-x:hidden;overflow-y:auto;width:451px}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:1rem 2rem}.container[_ngcontent-%COMP%]   h3.title[_ngcontent-%COMP%]{position:relative;color:#da291c;transition:all .25s linear}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;display:block}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;margin-bottom:.5rem;cursor:pointer;border:0;background-color:#da291c;color:#fff;text-align:center;border-radius:5px;font-weight:500;padding:.5rem;outline:0;transition:all .25s linear}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:26px;vertical-align:middle}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.7;transform:scale(1.05)}.container[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:10px;top:10px;color:#fff;background:#da291c;border:0;border-radius:15px;padding:.5rem .8rem;font-size:20px;z-index:4}.container[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{background:#cc261a}@media only screen and (max-width:959.98px){.container[_ngcontent-%COMP%]{bottom:0;top:auto;left:0;right:0;position:fixed;width:100%;margin-bottom:0;border-radius:10px 10px 0 0;max-height:100%;z-index:15}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:auto}}"]}),kM),PM=function(t,e){return{open:t,haveRoute:e}},TM=function(t){return{open:t}},OM=function(){return["fal","chevron-double-left"]},LM=function(){return["fal","chevron-double-right"]},MM=((EM=function(){function t(e,n){m(this,t),this.sidebarService=e,this.mapService=n,this.filtersOpened=!0}return y(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||EM)(qa(Jb),qa(iy))},EM.\u0275cmp=ae({type:EM,selectors:[["app-sidebar"]],decls:27,vars:21,consts:[[1,"container",3,"ngClass"],[1,"brand"],["src","assets/images/MOE_logo_triangle.png","alt","Mall of Emirates"],[1,"menu-section"],[3,"ngClass"],[1,"filters",3,"hidden","ngClass"],[1,"inner"],[1,"toggle",3,"click"],[3,"icon"],[3,"hidden"]],template:function(t,e){1&t&&(Wa(0,"main",0),Wa(1,"div",1),Za(2,"img",2),Ya(),Wa(3,"nav"),Za(4,"app-search"),Wa(5,"div",3),Za(6,"app-floor-picker",4),Ya(),Wa(7,"div",5),Wa(8,"div",6),Za(9,"app-shop-picker"),Za(10,"app-amenity-picker"),Wa(11,"div",7),ns("click",function(){return e.filtersOpened=!e.filtersOpened}),Za(12,"fa-icon",8),Ya(),Ya(),Ya(),Wa(13,"div",7),ns("click",function(){return e.filtersOpened=!e.filtersOpened}),Za(14,"fa-icon",8),Ya(),Ya(),Xa(15),Wa(16,"nav",9),Za(17,"app-details"),Ya(),Ka(),Xa(18),Wa(19,"nav",9),Za(20,"app-list-view"),Ya(),Ka(),Xa(21),Wa(22,"nav",9),Za(23,"app-closest-amenity"),Ya(),Ka(),Xa(24),Wa(25,"nav",9),Za(26,"app-route-picker"),Ya(),Ka(),Ya()),2&t&&(Ga("ngClass",il(10,PM,e.filtersOpened,e.mapService.showingRoute)),co(6),Ga("ngClass",nl(13,TM,e.filtersOpened)),co(1),Ga("hidden",e.sidebarService.selectedEndPoi||e.sidebarService.filteredShop||e.sidebarService.showRoutePicker||e.sidebarService.showClosestAmenityPicker||e.mapService.showingRoute)("ngClass",nl(15,TM,e.filtersOpened)),co(5),Ga("icon",e.filtersOpened?el(17,OM):el(18,LM)),co(2),Ga("icon",e.filtersOpened?el(19,OM):el(20,LM)),co(2),Ga("hidden",!e.mapService.showingRoute&&!e.sidebarService.selectedEndPoi||e.sidebarService.showRoutePicker),co(3),Ga("hidden",!e.sidebarService.filteredShop||e.sidebarService.selectedEndPoi),co(3),Ga("hidden",!e.sidebarService.showClosestAmenityPicker),co(3),Ga("hidden",!e.sidebarService.showRoutePicker))},directives:[vh,AT,LT,zT,YT,kx,kL,OL,yM,AM],styles:[".container[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{position:absolute;right:.5rem;top:calc(50% - 20px);font-size:26px;color:#da291c;padding:.5rem;cursor:pointer}.container[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]:hover{color:#cc261a}.container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%] > .toggle[_ngcontent-%COMP%]{display:none}.filters[_ngcontent-%COMP%]{padding:1rem 4rem 1rem 2rem;background-color:hsla(0,0%,100%,.9);box-shadow:0 0 15px rgba(0,0,0,.1);border-radius:0 10px 10px 0;margin-bottom:1rem;position:absolute;left:0;top:110px;transition:all .25s linear;min-height:143px;z-index:2;width:355px}.filters[_ngcontent-%COMP%]:not(.open){left:-400px}.menu-dropdown[_ngcontent-%COMP%]{display:none;position:absolute;right:.5rem;top:210px;gap:5px}.menu-dropdown[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{background:#000;font-size:16px;line-height:35px;color:#fff}.brand[_ngcontent-%COMP%]{position:fixed;top:0;right:80px;width:320px;z-index:1}.brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}@media only screen and (max-width:959.98px){.container[_ngcontent-%COMP%]{position:fixed;padding:1.5rem;border-radius:0 0 10px 10px;margin-bottom:1rem;left:0;top:0;right:0;min-height:70px;z-index:1;width:auto;background-color:hsla(0,0%,100%,.9);box-shadow:0 0 15px rgba(0,0,0,.1)}.container[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%] > .toggle[_ngcontent-%COMP%]{display:block;top:auto;bottom:0;right:calc(50% - 18px);padding:.5rem;transform:rotate(-90deg);font-size:18px}.container[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{overflow:auto;white-space:nowrap;margin-bottom:1.5rem;-ms-overflow-style:none;scrollbar-width:none}.container[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:3px;background:#ccc}.container[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#202020}.container[_ngcontent-%COMP%]     app-floor-picker:not(.open) .container{top:105px}.container[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{display:none;top:188px;right:calc(50% - 155px)}.container[_ngcontent-%COMP%]:not(.open){padding-bottom:0}.container[_ngcontent-%COMP%]:not(.open)   .menu-dropdown[_ngcontent-%COMP%]{top:110px}.container[_ngcontent-%COMP%]:not(.open)   .brand[_ngcontent-%COMP%]{top:94px}.container.haveRoute[_ngcontent-%COMP%]{padding:0;min-height:0}.container.haveRoute[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%], .container.haveRoute[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%], .container.haveRoute[_ngcontent-%COMP%]   app-search[_ngcontent-%COMP%]{display:none!important}.container.haveRoute[_ngcontent-%COMP%]     app-floor-picker .container{top:20px}.filters[_ngcontent-%COMP%]{position:static;background:none;box-shadow:none;border-radius:0;min-height:auto;width:auto;padding:0;display:block!important}.filters[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]:not(.open)   app-amenity-picker[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]:not(.open)   app-shop-picker[_ngcontent-%COMP%]{display:none}}"]}),EM),NM=d("m9Uw"),RM=d.n(NM),DM=d("4ZJM"),zM=function(){function t(e){m(this,t),this.total=e}return y(t,[{key:"call",value:function(t,e){return e.subscribe(new FM(t,this.total))}}]),t}(),FM=function(t){o(n,t);var e=s(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t)).total=i,r.count=0,r}return y(n,[{key:"_next",value:function(t){++this.count>this.total&&this.destination.next(t)}}]),n}(P),BM=new Set,jM=((CM=function(){function t(e){m(this,t),this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):VM}return y(t,[{key:"matchMedia",value:function(t){return this._platform.WEBKIT&&function(t){if(!BM.has(t))try{SM||((SM=document.createElement("style")).setAttribute("type","text/css"),document.head.appendChild(SM)),SM.sheet&&(SM.sheet.insertRule("@media ".concat(t," {.fx-query-test{ }}"),0),BM.add(t))}catch(bD){console.error(bD)}}(t),this._matchMedia(t)}}]),t}()).\u0275fac=function(t){return new(t||CM)(Ei(iv))},CM.\u0275prov=At({factory:function(){return new CM(Ei(iv))},token:CM,providedIn:"root"}),CM);function VM(t){return{matches:"all"===t||""===t,media:t,addListener:function(){},removeListener:function(){}}}var UM,qM=((UM=function(){function t(e,n){m(this,t),this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new j}return y(t,[{key:"ngOnDestroy",value:function(){this._destroySubject.next(),this._destroySubject.complete()}},{key:"isMatched",value:function(t){var e=this;return GM(hy(t)).some(function(t){return e._registerQuery(t).mql.matches})}},{key:"observe",value:function(t){var e=this,n=Mf(GM(hy(t)).map(function(t){return e._registerQuery(t).observable}));return(n=zf(n.pipe(Hf(1)),n.pipe(function(t){return t.lift(new zM(1))},Qk(0)))).pipe(q(function(t){var e={matches:!1,breakpoints:{}};return t.forEach(function(t){var n=t.matches,i=t.query;e.matches=e.matches||n,e.breakpoints[i]=n}),e}))}},{key:"_registerQuery",value:function(t){var e=this;if(this._queries.has(t))return this._queries.get(t);var n=this._mediaMatcher.matchMedia(t),i={observable:new N(function(t){var i=function(n){return e._zone.run(function(){return t.next(n)})};return n.addListener(i),function(){n.removeListener(i)}}).pipe(Zf(n),q(function(e){var n=e.matches;return{query:t,matches:n}}),Fy(this._destroySubject)),mql:n};return this._queries.set(t,i),i}}]),t}()).\u0275fac=function(t){return new(t||UM)(Ei(jM),Ei(ic))},UM.\u0275prov=At({factory:function(){return new UM(Ei(jM),Ei(ic))},token:UM,providedIn:"root"}),UM);function GM(t){return t.map(function(t){return t.split(",")}).reduce(function(t,e){return t.concat(e)}).map(function(t){return t.trim()})}function HM(t,e){}var WM,YM,ZM=function t(){m(this,t),this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0},XM={dialogContainer:dC("dialogContainer",[yC("void, exit",_C({opacity:0,transform:"scale(0.7)"})),yC("enter",_C({transform:"none"})),vC("* => enter",gC("150ms cubic-bezier(0, 0, 0.2, 1)",_C({transform:"none",opacity:1}))),vC("* => void, * => exit",gC("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",_C({opacity:0})))])},KM=((YM=function(t){o(n,t);var e=s(n);function n(t,i,r,o,a,s){var u;return m(this,n),(u=e.call(this))._elementRef=t,u._focusTrapFactory=i,u._changeDetectorRef=r,u._config=a,u._focusMonitor=s,u._animationStateChanged=new gl,u._elementFocusedBeforeDialogWasOpened=null,u._closeInteractionType=null,u.attachDomPortal=function(t){return u._portalOutlet.hasAttached(),u._portalOutlet.attachDomPortal(t)},u._ariaLabelledBy=a.ariaLabelledBy||null,u._document=o,u}return y(n,[{key:"_initializeWithAttachedContent",value:function(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}},{key:"attachComponentPortal",value:function(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}},{key:"attachTemplatePortal",value:function(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}},{key:"_recaptureFocus",value:function(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}},{key:"_trapFocus",value:function(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}},{key:"_restoreFocus",value:function(){var t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){var e=this._getActiveElement(),n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}},{key:"_setupFocusTrap",value:function(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}},{key:"_capturePreviouslyFocusedElement",value:function(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._getActiveElement())}},{key:"_focusDialogContainer",value:function(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}},{key:"_containsFocus",value:function(){var t=this._elementRef.nativeElement,e=this._getActiveElement();return t===e||t.contains(e)}},{key:"_getActiveElement",value:function(){var t,e=this._document.activeElement;return(null===(t=null==e?void 0:e.shadowRoot)||void 0===t?void 0:t.activeElement)||e}}]),n}(Tv)).\u0275fac=function(t){return new(t||YM)(qa(iu),qa(tC),qa(Pu),qa(zc,8),qa(ZM),qa(aC))},YM.\u0275dir=pe({type:YM,viewQuery:function(t,e){var n;1&t&&Al(Lv,3),2&t&&Il(n=Tl())&&(e._portalOutlet=n.first)},features:[Ca]}),YM),$M=((WM=function(t){o(n,t);var e=s(n);function n(){var t;return m(this,n),(t=e.apply(this,arguments))._state="enter",t}return y(n,[{key:"_onAnimationDone",value:function(t){var e=t.toState,n=t.totalTime;"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:n}))}},{key:"_onAnimationStart",value:function(t){var e=t.toState,n=t.totalTime;"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:n}):"exit"!==e&&"void"!==e||this._animationStateChanged.next({state:"closing",totalTime:n})}},{key:"_startExitAnimation",value:function(){this._state="exit",this._changeDetectorRef.markForCheck()}}]),n}(KM)).\u0275fac=function(t){return JM(t||WM)},WM.\u0275cmp=ae({type:WM,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&is("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(Ns("id",e._id),Ba("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),Rs("@dialogContainer",e._state))},features:[Ca],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&Va(0,HM,0,0,"ng-template",0)},directives:[Lv],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[XM.dialogContainer]}}),WM),JM=ii($M),QM=0,tN=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mat-dialog-"+QM++;m(this,t),this._overlayRef=e,this._containerInstance=n,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new j,this._afterClosed=new j,this._beforeClosed=new j,this._state=0,n._id=r,n._animationStateChanged.pipe(zp(function(t){return"opened"===t.state}),Hf(1)).subscribe(function(){i._afterOpened.next(),i._afterOpened.complete()}),n._animationStateChanged.pipe(zp(function(t){return"closed"===t.state}),Hf(1)).subscribe(function(){clearTimeout(i._closeFallbackTimeout),i._finishDialogClose()}),e.detachments().subscribe(function(){i._beforeClosed.next(i._result),i._beforeClosed.complete(),i._afterClosed.next(i._result),i._afterClosed.complete(),i.componentInstance=null,i._overlayRef.dispose()}),e.keydownEvents().pipe(zp(function(t){return 27===t.keyCode&&!i.disableClose&&!Nv(t)})).subscribe(function(t){t.preventDefault(),eN(i,"keyboard")}),e.backdropClick().subscribe(function(){i.disableClose?i._containerInstance._recaptureFocus():eN(i,"mouse")})}return y(t,[{key:"close",value:function(t){var e=this;this._result=t,this._containerInstance._animationStateChanged.pipe(zp(function(t){return"closing"===t.state}),Hf(1)).subscribe(function(n){e._beforeClosed.next(t),e._beforeClosed.complete(),e._overlayRef.detachBackdrop(),e._closeFallbackTimeout=setTimeout(function(){return e._finishDialogClose()},n.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}},{key:"afterOpened",value:function(){return this._afterOpened}},{key:"afterClosed",value:function(){return this._afterClosed}},{key:"beforeClosed",value:function(){return this._beforeClosed}},{key:"backdropClick",value:function(){return this._overlayRef.backdropClick()}},{key:"keydownEvents",value:function(){return this._overlayRef.keydownEvents()}},{key:"updatePosition",value:function(t){var e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}},{key:"updateSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}},{key:"addPanelClass",value:function(t){return this._overlayRef.addPanelClass(t),this}},{key:"removePanelClass",value:function(t){return this._overlayRef.removePanelClass(t),this}},{key:"getState",value:function(){return this._state}},{key:"_finishDialogClose",value:function(){this._state=2,this._overlayRef.dispose()}},{key:"_getPositionStrategy",value:function(){return this._overlayRef.getConfig().positionStrategy}}]),t}();function eN(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}var nN,iN,rN,oN=new si("MatDialogData"),aN=new si("mat-dialog-default-options"),sN=new si("mat-dialog-scroll-strategy"),uN={provide:sN,deps:[gb],useFactory:function(t){return function(){return t.scrollStrategies.block()}}},lN=((rN=function(){function t(e,n,i,r,o,a,s,u,l){var c=this;m(this,t),this._overlay=e,this._injector=n,this._defaultOptions=i,this._parentDialog=r,this._overlayContainer=o,this._dialogRefConstructor=s,this._dialogContainerType=u,this._dialogDataToken=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new j,this._afterOpenedAtThisLevel=new j,this._ariaHiddenElements=new Map,this.afterAllClosed=jf(function(){return c.openDialogs.length?c._getAfterAllClosed():c._getAfterAllClosed().pipe(Zf(void 0))}),this._scrollStrategy=a}return y(t,[{key:"openDialogs",get:function(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}},{key:"afterOpened",get:function(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}},{key:"_getAfterAllClosed",value:function(){var t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}},{key:"open",value:function(t,e){var n=this;(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new ZM)).id&&this.getDialogById(e.id);var i=this._createOverlay(e),r=this._attachDialogContainer(i,e),o=this._attachDialogContent(t,r,i,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(function(){return n._removeOpenDialog(o)}),this.afterOpened.next(o),r._initializeWithAttachedContent(),o}},{key:"closeAll",value:function(){this._closeDialogs(this.openDialogs)}},{key:"getDialogById",value:function(t){return this.openDialogs.find(function(e){return e.id===t})}},{key:"ngOnDestroy",value:function(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}},{key:"_createOverlay",value:function(t){var e=this._getOverlayConfig(t);return this._overlay.create(e)}},{key:"_getOverlayConfig",value:function(t){var e=new Zv({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}},{key:"_attachDialogContainer",value:function(t,e){var n=Ea.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:ZM,useValue:e}]}),i=new Iv(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}},{key:"_attachDialogContent",value:function(t,e,n,i){var r=new this._dialogRefConstructor(n,e,i.id);if(t instanceof Ru)e.attachTemplatePortal(new Av(t,null,{$implicit:i.data,dialogRef:r}));else{var o=this._createInjector(i,r,e),a=e.attachComponentPortal(new Iv(t,i.viewContainerRef,o));r.componentInstance=a.instance}return r.updateSize(i.width,i.height).updatePosition(i.position),r}},{key:"_createInjector",value:function(t,e,n){var i=t&&t.viewContainerRef&&t.viewContainerRef.injector,r=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||i&&i.get(vv,null)||r.push({provide:vv,useValue:{value:t.direction,change:Rp()}}),Ea.create({parent:i||this._injector,providers:r})}},{key:"_removeOpenDialog",value:function(t){var e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach(function(t,e){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}},{key:"_hideNonDialogContentFromAssistiveTechnology",value:function(){var t=this._overlayContainer.getContainerElement();if(t.parentElement)for(var e=t.parentElement.children,n=e.length-1;n>-1;n--){var i=e[n];i===t||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}},{key:"_closeDialogs",value:function(t){for(var e=t.length;e--;)t[e].close()}}]),t}()).\u0275fac=function(t){return new(t||rN)(qa(gb),qa(Ea),qa(void 0),qa(void 0),qa(eb),qa(void 0),qa(li),qa(li),qa(si))},rN.\u0275dir=pe({type:rN}),rN),cN=((iN=function(t){o(n,t);var e=s(n);function n(t,i,r,o,a,s,u){return m(this,n),e.call(this,t,i,o,s,u,a,tN,$M,oN)}return n}(lN)).\u0275fac=function(t){return new(t||iN)(Ei(gb),Ei(Ea),Ei(ih,8),Ei(aN,8),Ei(sN),Ei(iN,12),Ei(eb))},iN.\u0275prov=At({token:iN,factory:iN.\u0275fac}),iN),hN=((nN=function t(){m(this,t)}).\u0275fac=function(t){return new(t||nN)},nN.\u0275mod=ce({type:nN}),nN.\u0275inj=Pt({providers:[cN,uN],imports:[[_b,Mv,HA],HA]}),nN);function pN(t,e){1&t&&(Wa(0,"main",4),Za(1,"img",5),Wa(2,"h1"),Ts(3),ul(4,"translate"),Ya(),Ya()),2&t&&(co(3),Os(ll(4,1,"welcomeMessage")))}var fN,dN,gN,mN=((dN=function(){function t(e,n,i,r,o,a){var s=this;m(this,t),this.mapService=e,this.sidebarService=n,this.stateService=i,this.dialog=r,this.breakpointObserver=o,this.translateService=a,this.mapLoaded=!1,this.destinationFromUrl=!1,this.mapPadding={top:250,bottom:250,left:500,right:250},this.subs=[];var u=new URLSearchParams(window.location.search);this.destinationParam=u.get("destinationFeature"),this.placeParam=u.get("defaultPlace"),this.destinationParam&&(this.destinationFromUrl=!0),this.kiosk=this.stateService.state.kiosks.find(function(t){return t.name===u.get("kiosk")}),this.subs.push(this.sidebarService.getStartPointListener().subscribe(function(t){s.mapLoaded&&s.map.getMapboxInstance().resize(),s.setStartPoi(t)}),this.sidebarService.getEndPointListener().subscribe(function(t){s.endPoi=t,s.map&&(t&&!s.destinationFromUrl?(s.map.getMapboxInstance().flyTo({center:t.geometry.coordinates,zoom:19}),s.map.setFloorByLevel(t.properties.level),s.map.setFeaturesHighlight([t.id],"#9200c7",46,.4),s.map.handlePolygonSelection(t)):t||(s.map.cancelRoute(),s.map.setFeaturesHighlight([])))}),this.sidebarService.getFloorChangeListener().subscribe(function(t){t.id?s.map.setFloorById(t.id):s.map.setFloorByWay(t)}),this.sidebarService.getAccessibleOnlyToggleListener().subscribe(function(){var t=s.endPoi?s.endPoi:s.stateService.state.textNavigation.destination;t&&s.map.findRouteByIds(t.id,s.stateService.state.kioskMode?null:s.startPoiId,s.stateService.state.accessibleRoute)}),this.sidebarService.getAmenityToggleListener().subscribe(function(t){t&&("shop"===t.category&&!s.sidebarService.filteredShop||"amenities"===t.category&&!s.sidebarService.filteredAmenity?(s.map.removeAmenityFilter(t.amenityId,t.category),"amenities"===t.category&&s.stateService.state.kioskMode&&(s.map.cancelRoute(),s.onMyLocation())):(s.map.setAmenityFilter(t.amenityId,t.category),"amenities"===t.category&&s.stateService.state.kioskMode&&s.map.findRouteToNearestFeature(t.amenityId)))}),this.mapService.getShowRouteListener().subscribe(function(){s.onShowRoute()}),this.mapService.getResetViewListener().subscribe(function(){s.onResetView()}),this.sidebarService.getCenterToFeatureListener().subscribe(function(t){s.map&&s.map.centerToFeature(t.id)}),this.sidebarService.getRouteToClosestAmenityListener().subscribe(function(){s.map&&s.map.findRouteToNearestFeature(s.sidebarService.activeListItem.id,s.startPoiId)})),this.breakpointObserver.observe(["(max-width: 599.98px)"]).subscribe(function(t){t.matches?(s.mapPadding={top:0,bottom:100,left:0,right:0},s.map&&s.map.setBoundsPadding(s.mapPadding)):(s.mapPadding={top:250,bottom:250,left:450,right:250},s.map&&s.map.setBoundsPadding(s.mapPadding))})}return y(t,[{key:"ngOnInit",value:function(){var t=this;RM.a.Auth.loginWithToken(ny.token).then(function(){t.map=new RM.a.Map({mapboxOptions:{zoom:t.stateService.state.options.zoom,pitch:t.stateService.state.options.pitch,bearing:t.stateService.state.options.bearing},defaultPlaceId:"e905bda5-4900-48f5-a6b0-d8e39c05050f",isKiosk:t.stateService.state.kioskMode,kioskSettings:{coordinates:t.stateService.state.defaultLocation.coordinates,level:t.stateService.state.defaultLocation.level},fitBoundsPadding:t.mapPadding,handleUrlParams:!0,language:t.translateService.currentLang,showLevelDirectionIcon:!0,animatedRoute:!0,initPolygons:!0,polygonsOptions:{defaultPolygonColor:"#202020",hoverPolygonColor:"#da291c",selectedPolygonColor:"#da291c",defaultLabelColor:"#fff",defaultPolygonHeight:1.5,hoverPolygonHeight:3,selectedPolygonHeight:4,removeOriginalPolygonsLayer:!0,minZoom:15},blockFeatureClickWhileRouting:!0}),t.map.getMapReadyListener().subscribe(function(e){if(t.mapService.mapReadyListener.next(!0),t.mapLoaded=!0,t.mapService.mapReady=!0,t.map.getMapboxInstance().addControl(new DM.NavigationControl({showZoom:!1})),t.kiosk){var n=t.kiosk.poiId?t.stateService.state.allFeatures.features.find(function(e){return e.id===t.kiosk.poiId}):null;t.stateService.state.options.bearing=t.kiosk.bearing,t.stateService.state.options.pitch=t.kiosk.pitch,t.stateService.state.defaultLocation.coordinates=n?n.geometry.coordinates:[t.kiosk.longitude,t.kiosk.latitude],t.stateService.state.defaultLocation.level=n?n.properties.level:t.kiosk.level,t.kiosk.bounds&&t.map.getMapboxInstance().setMaxBounds(t.kiosk.bounds),t.map.setKiosk(t.stateService.state.defaultLocation.coordinates[1],t.stateService.state.defaultLocation.coordinates[0],t.stateService.state.defaultLocation.level)}if(t.hideAmenityFeatures(),t.map.setAmenitiesCategory("shop",["75698d35-0918-4a2b-a8ab-77b93a618e61:935570c1-cd4e-4c70-8e9d-87e63a0e061b","75698d35-0918-4a2b-a8ab-77b93a618e61:2ee8fe09-6b1f-4ff7-999b-fd6c53802b04","75698d35-0918-4a2b-a8ab-77b93a618e61:04dd218a-adf1-4947-866d-b679badb895a","75698d35-0918-4a2b-a8ab-77b93a618e61:576270da-2592-439f-9082-74f198c8bf6c","75698d35-0918-4a2b-a8ab-77b93a618e61:15120502-00af-47e6-b9ec-53fc35d042c8","75698d35-0918-4a2b-a8ab-77b93a618e61:76f90c15-b759-43b4-aa96-457568adbfd4","75698d35-0918-4a2b-a8ab-77b93a618e61:fe68247a-5c8c-427f-b276-b94b1c39e5da","75698d35-0918-4a2b-a8ab-77b93a618e61:ed0c8e0b-f28b-462b-bd24-3e1f9d1720f1","75698d35-0918-4a2b-a8ab-77b93a618e61:4987b765-0c5e-4bcb-979b-fdbe2adb7979","75698d35-0918-4a2b-a8ab-77b93a618e61:9f3ec695-2fe2-44a6-8390-547d50487f0c","75698d35-0918-4a2b-a8ab-77b93a618e61:105ffbf7-a639-443c-ad48-36239fb822dd","75698d35-0918-4a2b-a8ab-77b93a618e61:79f78a36-2f7b-442c-989a-48a83d76d422","75698d35-0918-4a2b-a8ab-77b93a618e61:e23ab7ec-7a87-4f17-be9a-a5f579d49ee1","75698d35-0918-4a2b-a8ab-77b93a618e61:875d9cfb-8289-4307-9c1c-34b4f52198cb","75698d35-0918-4a2b-a8ab-77b93a618e61:028b17c6-2f82-4ce1-af3d-9fc9ca061972","75698d35-0918-4a2b-a8ab-77b93a618e61:bda780fb-0f4a-4e76-b74c-a11f1975f1b5","75698d35-0918-4a2b-a8ab-77b93a618e61:6e75e80a-583b-4302-b410-f03f2431dc47","75698d35-0918-4a2b-a8ab-77b93a618e61:cad88ce9-92d8-4137-ae61-82ac1fb5cf22"]),t.map.setAmenitiesCategory("amenities",["75698d35-0918-4a2b-a8ab-77b93a618e61:2a5b339e-30da-4186-9749-06906731b8c9","75698d35-0918-4a2b-a8ab-77b93a618e61:3574e57c-1ecf-47d5-b8f3-b9de1c39cf1b","75698d35-0918-4a2b-a8ab-77b93a618e61:8001844d-c059-4644-9275-6b3e66e8dd3c","75698d35-0918-4a2b-a8ab-77b93a618e61:9c925821-744a-41c4-92cb-0342ab4c2ef9","75698d35-0918-4a2b-a8ab-77b93a618e61:e835e573-36a6-47e2-9687-4ac05c6cd717","75698d35-0918-4a2b-a8ab-77b93a618e61:e284a98b-f0b8-4bdc-9945-04219d3ef857"]),t.destinationFromUrl){var i=t.placeParam?t.stateService.state.places.find(function(e){return e.id===t.placeParam||e.name===t.placeParam}):t.stateService.state.place,r=t.stateService.state.allFeatures.features.find(function(e){return e.properties.title&&e.properties.place_id===i.id&&(e.id===t.destinationParam||e.properties.id===t.destinationParam||e.properties.title===t.destinationParam)});t.sidebarService.onSetEndPoi(r),t.map.handlePolygonSelection(r)}}),t.map.getRouteFoundListener().subscribe(function(e){t.stateService.state=Object.assign(Object.assign({},t.stateService.state),{textNavigation:e.TBTNav}),t.mapService.routeFoundListener.next(!0),t.destinationFromUrl&&(t.sidebarService.onSetEndPoi(e.end),setTimeout(function(){t.map.centerToRoute()},1e3),t.destinationFromUrl=!1),t.map.setFeaturesHighlight([e.start.id,e.end.id],"#000",70)}),t.map.getPolygonClickListener().subscribe(function(e){t.map.state.textNavigation&&t.map.cancelRoute(),t.sidebarService.onSetEndPoi(e)}),t.map.getPlaceSelectListener().subscribe(function(e){var n=t.map.state;t.stateService.state=Object.assign(Object.assign({},t.stateService.state),{place:n.place,floors:n.floors,floor:n.floor,allFeatures:n.allFeatures,amenities:n.amenities})}),t.map.getFloorSelectListener().subscribe(function(e){var n=t.map.state;t.stateService.state=Object.assign(Object.assign({},t.stateService.state),{place:n.place,floors:n.floors,floor:n.floor,allFeatures:n.allFeatures,amenities:n.amenities})})})}},{key:"setStartPoi",value:function(t){if(!this.stateService.state.kioskMode){var e=t;this.startPoiId=t.id,this.map.getMapboxInstance().flyTo({center:e.geometry.coordinates,bearing:this.stateService.state.options.bearing,pitch:this.stateService.state.options.pitch,zoom:this.stateService.state.options.zoom}),this.map.setFloorByLevel(e.properties.level),this.endPoi&&this.map.findRouteByIds(this.endPoi.id,this.startPoiId,this.stateService.state.accessibleRoute)}}},{key:"onMyLocation",value:function(){this.map&&(this.map.getMapboxInstance().flyTo({center:this.stateService.state.defaultLocation.coordinates,bearing:this.stateService.state.options.bearing,pitch:this.stateService.state.options.pitch,zoom:this.stateService.state.options.zoom}),this.map.setFloorByLevel(this.stateService.state.defaultLocation.level))}},{key:"onShowRoute",value:function(){this.map&&this.map.findRouteByIds(this.endPoi.id,this.stateService.state.kioskMode?null:this.startPoiId,this.stateService.state.accessibleRoute)}},{key:"onResetView",value:function(){this.map&&(this.sidebarService.onSetEndPoi(null),this.sidebarService.filteredAmenity&&(this.sidebarService.onAmenityToggle("amenities",this.sidebarService.filteredAmenity),this.sidebarService.showClosestAmenityPicker=!1,this.sidebarService.activeListItem=null),this.map.refetch())}},{key:"hideAmenityFeatures",value:function(){var t=this,e=["75698d35-0918-4a2b-a8ab-77b93a618e61:c302b098-4c76-4a70-ae7c-5a0349e86fda","75698d35-0918-4a2b-a8ab-77b93a618e61:632f91c3-ce20-4466-b5f5-96da4e0905bc","75698d35-0918-4a2b-a8ab-77b93a618e61:69d2e19b-fb17-4cd6-966f-1f86f4930122","75698d35-0918-4a2b-a8ab-77b93a618e61:28d180c2-1d18-4b07-bf4d-3646314b7c80","75698d35-0918-4a2b-a8ab-77b93a618e61:ee26e3bc-4911-4843-803b-d109e6f57742","75698d35-0918-4a2b-a8ab-77b93a618e61:109fe182-045f-4db7-bfd8-fd2937a5fc87","75698d35-0918-4a2b-a8ab-77b93a618e61:b87bc5ce-def9-4a62-a78a-a38b7ac787a6","75698d35-0918-4a2b-a8ab-77b93a618e61:53590614-9aa0-4afa-8b8b-cfa3136b316e","75698d35-0918-4a2b-a8ab-77b93a618e61:022da10b-611a-4933-9929-4c4a9e2151f6","75698d35-0918-4a2b-a8ab-77b93a618e61:39a12b78-31a1-4d54-92b9-b117e6d7ab38","75698d35-0918-4a2b-a8ab-77b93a618e61:d812b45f-5257-4a50-ac08-1e2b4d269116","75698d35-0918-4a2b-a8ab-77b93a618e61:7c7a6e4d-9a5c-44d6-b9ac-298d606ce126","75698d35-0918-4a2b-a8ab-77b93a618e61:d460413e-857a-4d91-b5dd-43ca0937228b","75698d35-0918-4a2b-a8ab-77b93a618e61:091f4137-6ca6-436c-ab04-20a5e964568f","75698d35-0918-4a2b-a8ab-77b93a618e61:276391e6-6dfa-413a-8e6a-3276bfa673d0","75698d35-0918-4a2b-a8ab-77b93a618e61:15b182b8-9307-4185-8403-37858c557c63","75698d35-0918-4a2b-a8ab-77b93a618e61:a5286ad2-527f-4bfd-a1c1-3cb13161fe69","75698d35-0918-4a2b-a8ab-77b93a618e61:1b20689d-8db3-41bf-b42e-6a4c69a06c71"],n=this.map.getMapboxInstance().getSource("main");if(n){var i=n._data.features.map(function(t){return e.includes(t.properties.amenity)&&(t.properties.hideIcon="hide"),t});n.setData({type:"FeatureCollection",features:i})}["proximiio-pois-icons","pois-icons","poi-custom-icons","proximiio-pois-labels","pois-labels"].forEach(function(e){if(t.map.getMapboxInstance().getLayer(e)){var n=p(t.map.getMapboxInstance().getLayer(e).filter);n.push(["!=",["get","hideIcon"],"hide"]),t.map.state.style.getLayer(e).filter=n,t.map.getMapboxInstance().setFilter(e,n)}})}},{key:"ngOnDestroy",value:function(){this.subs.forEach(function(t){return t.unsubscribe()})}}]),t}()).\u0275fac=function(t){return new(t||dN)(qa(iy),qa(Jb),qa(ly),qa(cN),qa(qM),qa(Zb))},dN.\u0275cmp=ae({type:dN,selectors:[["app-map"]],decls:5,vars:1,consts:[["aria-label","My Location","title","My Location",1,"my-location",3,"click"],["aria-hidden","true",1,"icon"],["id","proximiioMap"],["class","loading",4,"ngIf"],[1,"loading"],["src","assets/images/MAF_gif.gif","alt","Mall of Emirates"]],template:function(t,e){1&t&&(Wa(0,"main"),Wa(1,"button",0),ns("click",function(){return e.onMyLocation()}),Za(2,"span",1),Ya(),Za(3,"div",2),Ya(),Va(4,pN,5,3,"main",3)),2&t&&(co(4),Ga("ngIf",!e.mapLoaded))},directives:[kh],pipes:[Xb],styles:["[_nghost-%COMP%]{position:relative;display:block;width:100vw;height:calc(100vh - calc(100vh - 100%));min-height:320px;z-index:0}[_nghost-%COMP%] > main[_ngcontent-%COMP%]{height:calc(100vh - calc(100vh - 100%))}#proximiioMap[_ngcontent-%COMP%]{width:100vw;height:calc(100vh - calc(100vh - 100%));min-height:320px}#proximiioMap[_ngcontent-%COMP%]     .mapboxgl-ctrl-top-right{top:100px;right:20px}#proximiioMap[_ngcontent-%COMP%]     .mapboxgl-ctrl-group{background-color:#da291c;color:#fff;box-shadow:none;border-radius:48px}#proximiioMap[_ngcontent-%COMP%]     .mapboxgl-ctrl-group>button{width:48px!important;height:48px!important;padding:.8rem;border-radius:48px!important}#proximiioMap[_ngcontent-%COMP%]     .mapboxgl-ctrl-group>button.mapboxgl-ctrl-compass, #proximiioMap[_ngcontent-%COMP%]     .mapboxgl-ctrl-group>button.mapboxgl-ctrl-geolocate{margin:.1em 2px!important}#proximiioMap[_ngcontent-%COMP%]     .mapboxgl-ctrl-group>button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(compass-regular.3aa0d2bcfd6e46847931.svg)}.my-location[_ngcontent-%COMP%], .settings[_ngcontent-%COMP%]{background-color:#da291c;color:#fff;box-shadow:none;border-radius:48px;border:0;position:fixed;right:30px;top:45px;z-index:5;width:52px;height:52px;padding:.9rem;cursor:pointer;outline:none}.my-location[_ngcontent-%COMP%]:hover, .settings[_ngcontent-%COMP%]:hover{background-color:#cc261a}.my-location[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background-image:url(location-regular.f62593a8f04f0b99c43c.svg);background-repeat:no-repeat;display:block;height:48px;width:48px;background-size:24px}.settings[_ngcontent-%COMP%]{top:auto;bottom:45px}.map-floors[_ngcontent-%COMP%]{position:fixed;z-index:9;right:10px;top:10px}.map-floors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.map-floors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}.map-floors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{position:absolute;background-color:#fff;display:block;width:20px;height:20px;line-height:20px;font-size:12px;text-align:center;border-radius:50%;left:-5px;top:-5px;font-weight:700;color:#222}.map-floors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.current-floor[_ngcontent-%COMP%], .map-floors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:block;width:45px;height:45px;line-height:45px;background-color:#10283f;border-radius:50%;color:#fff;text-align:center}.map-floors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.current-floor[_ngcontent-%COMP%]{margin:10px 0;font-size:26px;font-weight:300;background-color:rgba(16,40,63,.63)}.map-floors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{background-color:#183c5e}.map-floors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a.blinking[_ngcontent-%COMP%]{-webkit-animation-name:anim;animation-name:anim;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-direction:alternate;animation-direction:alternate;-webkit-animation-timing-function:linear;animation-timing-function:linear}.map-floors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:last-child > a[_ngcontent-%COMP%]{line-height:48px}@-webkit-keyframes anim{to{background-color:#3daa55}}@keyframes anim{to{background-color:#3daa55}}.toggle-sidebar[_ngcontent-%COMP%]{position:absolute;z-index:9;left:10px;top:10px;display:block;width:45px;height:45px;line-height:45px;background-color:#10283f;border-radius:50%;color:hsla(0,0%,100%,.87);text-align:center}.toggle-sidebar[_ngcontent-%COMP%]:hover{background-color:#183c5e;color:#fff}.loading[_ngcontent-%COMP%]{text-align:center;position:fixed;right:0;left:0;top:0;bottom:0;padding-top:20%;background-color:#fff}.loading[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin:2rem auto}@media only screen and (max-width:959.98px){#proximiioMap[_ngcontent-%COMP%]     .mapboxgl-ctrl-top-right{display:none}.my-location[_ngcontent-%COMP%], .settings[_ngcontent-%COMP%]{right:.5rem;width:36px;height:36px;padding:.6rem}.my-location[_ngcontent-%COMP%]{top:auto;bottom:4.25rem}.my-location[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:32px;width:32px;background-size:17px}.settings[_ngcontent-%COMP%]{bottom:1.5rem}.loading[_ngcontent-%COMP%]{padding-top:50%}}"]}),dN),_N=((fN=function(){function t(e,n,i,r){m(this,t),this.translate=n,this.mapService=i,this.stateService=r,this.isLoading=!1,this.theme$="custom-theme",this.sendAnalytics=!0;var o=new URLSearchParams(window.location.search);e.getContainerElement().classList.add(this.theme$),this.stateService.state.kioskMode=!!o.get("kiosk");var a=window.document.URL.split("/").pop();"en"!==a&&"fi"!==a&&"ar"!==a&&(a=null),n.addLangs(["en","fi","ar"]),n.setDefaultLang(a||"en"),n.use(a||"en")}return y(t,[{key:"ngOnInit",value:function(){this.startAhoyTracking(),this.stateService.state.kioskMode&&this.idleTime()}},{key:"idleTime",value:function(){var t,e=this,n=function(){e.mapService.resetViewListener.next(!0)},i=function(){clearTimeout(t),t=setTimeout(n,6e4)};window.onload=i,window.onmousemove=i,window.onmousedown=i,window.ontouchstart=i,window.ontouchmove=i,window.onclick=i,window.onkeydown=i,window.addEventListener("scroll",i,!0)}},{key:"startAhoyTracking",value:function(){var t=this;this.sendAnalytics&&y_.a.get({excludes:{canvas:!0,webgl:!0}},function(e){t.fingerprint=e,ey.configure({urlPrefix:"",visitsUrl:"/moe/analytics/ahoy/visits",eventsUrl:"/moe/analytics/ahoy/events",page:null,platform:"Web",useBeacon:!0,startOnReady:!0,trackVisits:!0,cookies:!0,cookieDomain:null,headers:{Authorization:"Bearer ".concat(ny.token)},visitParams:{fingerprint:e},withCredentials:!1}),ey.trackAll()})}}]),t}()).\u0275fac=function(t){return new(t||fN)(qa(eb),qa(Zb),qa(iy),qa(ly))},fN.\u0275cmp=ae({type:fN,selectors:[["app-root"]],decls:4,vars:2,consts:[[1,"content"]],template:function(t,e){1&t&&(Wa(0,"div"),Wa(1,"main",0),Za(2,"app-sidebar"),Za(3,"app-map"),Ya(),Ya()),2&t&&bs("theme-wrapper "+e.theme$+" "+e.translate.currentLang)},directives:[MM,mN],styles:["app-sidebar[_ngcontent-%COMP%]{position:absolute;left:0;top:0;right:0;z-index:1}.content[_ngcontent-%COMP%]{height:calc(100vh - calc(100vh - 100%));position:static}"]}),fN),yN=[{path:"",redirectTo:"/map",pathMatch:"full"},{path:"map",component:mN,data:{breadcrumb:"Map"},pathMatch:"full"}],vN=((gN=function t(){m(this,t)}).\u0275fac=function(t){return new(t||gN)},gN.\u0275mod=ce({type:gN}),gN.\u0275inj=Pt({imports:[[r_.forChild(yN)],r_]}),gN);d("mrSG"),d("iFvi");var bN,wN,xN,kN,EN,SN,CN,IN,AN,PN,TN,ON,LN,MN,NN,RN,DN,zN,FN,BN,jN,VN,UN,qN,GN,HN=new si("MapboxApiKey"),WN=new si("MapboxApiKey"),YN=((kN=function(){function t(){m(this,t)}return y(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:HN,useValue:e.accessToken},{provide:WN,useValue:e.geocoderAccessToken||e.accessToken}]}}}]),t}()).\u0275fac=function(t){return new(t||kN)},kN.\u0275mod=ce({type:kN}),kN.\u0275inj=Pt({imports:[[Hh]]}),kN),ZN=((xN=function t(){m(this,t)}).\u0275fac=function(t){return new(t||xN)},xN.\u0275mod=ce({type:xN}),xN.\u0275inj=Pt({imports:[[_P,HA],HA]}),xN),XN=((wN=function t(){m(this,t)}).\u0275fac=function(t){return new(t||wN)},wN.\u0275mod=ce({type:wN}),wN.\u0275inj=Pt({imports:[[HA],HA]}),wN),KN=((bN=function t(){m(this,t)}).\u0275fac=function(t){return new(t||bN)},bN.\u0275mod=ce({type:bN}),bN.\u0275inj=Pt({imports:[[HA],HA]}),bN),$N={provide:new si("mat-menu-scroll-strategy"),deps:[gb],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},JN=((SN=function t(){m(this,t)}).\u0275fac=function(t){return new(t||SN)},SN.\u0275mod=ce({type:SN}),SN.\u0275inj=Pt({providers:[$N],imports:[HA]}),SN),QN=((EN=function t(){m(this,t)}).\u0275fac=function(t){return new(t||EN)},EN.\u0275mod=ce({type:EN}),EN.\u0275inj=Pt({providers:[$N],imports:[[Hh,HA,_P,_b,JN],Ev,HA,JN]}),EN),tR={provide:new si("mat-select-scroll-strategy"),deps:[gb],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},eR=((CN=function t(){m(this,t)}).\u0275fac=function(t){return new(t||CN)},CN.\u0275mod=ce({type:CN}),CN.\u0275inj=Pt({providers:[tR],imports:[[Hh,_b,PP,HA],Ev,gT,PP,HA]}),CN),nR={provide:new si("mat-tooltip-scroll-strategy"),deps:[gb],useFactory:function(t){return function(){return t.scrollStrategies.reposition({scrollThrottle:20})}}},iR=((AN=function t(){m(this,t)}).\u0275fac=function(t){return new(t||AN)},AN.\u0275mod=ce({type:AN}),AN.\u0275inj=Pt({providers:[nR],imports:[[hC,Hh,_b,HA],HA,Ev]}),AN),rR=((IN=function t(){m(this,t),this.changes=new j,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=function(t,e,n){if(0==n||0==e)return"0 of ".concat(n);var i=t*e;return"".concat(i+1," \u2013 ").concat(i<(n=Math.max(n,0))?Math.min(i+e,n):i+e," of ").concat(n)}}).\u0275fac=function(t){return new(t||IN)},IN.\u0275prov=At({factory:function(){return new IN},token:IN,providedIn:"root"}),IN),oR={provide:rR,deps:[[new Oi,new Li,rR]],useFactory:function(t){return t||new rR}},aR=((RN=function t(){m(this,t)}).\u0275fac=function(t){return new(t||RN)},RN.\u0275mod=ce({type:RN}),RN.\u0275inj=Pt({providers:[oR],imports:[[Hh,ZN,eR,iR,HA]]}),RN),sR=((NN=function t(){m(this,t)}).\u0275fac=function(t){return new(t||NN)},NN.\u0275mod=ce({type:NN}),NN.\u0275inj=Pt({imports:[[HA,Hh],HA]}),NN),uR=((MN=function t(){m(this,t)}).\u0275fac=function(t){return new(t||MN)},MN.\u0275mod=ce({type:MN}),MN.\u0275inj=Pt({imports:[[Hh,HA,rv,Ev],Ev,HA]}),MN),lR=((LN=function t(){m(this,t)}).\u0275fac=function(t){return new(t||LN)},LN.\u0275mod=ce({type:LN}),LN.\u0275inj=Pt({}),LN),cR=((ON=function t(){m(this,t)}).\u0275fac=function(t){return new(t||ON)},ON.\u0275mod=ce({type:ON}),ON.\u0275inj=Pt({imports:[[lR,_P,HA,YS],lR,HA]}),ON),hR=((TN=function t(){m(this,t)}).\u0275fac=function(t){return new(t||TN)},TN.\u0275mod=ce({type:TN}),TN.\u0275inj=Pt({imports:[[_b,Mv,Hh,ZN,HA],HA]}),TN),pR=((PN=function t(){m(this,t),this.changes=new j,this.sortButtonLabel=function(t){return"Change sorting for ".concat(t)}}).\u0275fac=function(t){return new(t||PN)},PN.\u0275prov=At({factory:function(){return new PN},token:PN,providedIn:"root"}),PN),fR={provide:pR,deps:[[new Oi,new Li,pR]],useFactory:function(t){return t||new pR}},dR=((jN=function t(){m(this,t)}).\u0275fac=function(t){return new(t||jN)},jN.\u0275mod=ce({type:jN}),jN.\u0275inj=Pt({providers:[fR],imports:[[Hh,HA]]}),jN),gR=((BN=function t(){m(this,t)}).\u0275fac=function(t){return new(t||BN)},BN.\u0275mod=ce({type:BN}),BN.\u0275inj=Pt({imports:[[Sv]]}),BN),mR=((FN=function t(){m(this,t)}).\u0275fac=function(t){return new(t||FN)},FN.\u0275mod=ce({type:FN}),FN.\u0275inj=Pt({imports:[[gR,HA],HA]}),FN),_R=((zN=function t(){m(this,t)}).\u0275fac=function(t){return new(t||zN)},zN.\u0275mod=ce({type:zN}),zN.\u0275inj=Pt({imports:[[HA],HA]}),zN),yR=((DN=function t(){m(this,t)}).\u0275fac=function(t){return new(t||DN)},DN.\u0275mod=ce({type:DN}),DN.\u0275inj=Pt({imports:[uR,_R,BO,KN,ZN,QN,sR,jL,XN,mR,aR,iR,dR,eR,hR,hN,cR,hM]}),DN),vR={prefix:"fal",iconName:"angle-double-left",icon:[320,512,[],"f100","M153.1 247.5l117.8-116c4.7-4.7 12.3-4.7 17 0l7.1 7.1c4.7 4.7 4.7 12.3 0 17L192.7 256l102.2 100.4c4.7 4.7 4.7 12.3 0 17l-7.1 7.1c-4.7 4.7-12.3 4.7-17 0L153 264.5c-4.6-4.7-4.6-12.3.1-17zm-128 17l117.8 116c4.7 4.7 12.3 4.7 17 0l7.1-7.1c4.7-4.7 4.7-12.3 0-17L64.7 256l102.2-100.4c4.7-4.7 4.7-12.3 0-17l-7.1-7.1c-4.7-4.7-12.3-4.7-17 0L25 247.5c-4.6 4.7-4.6 12.3.1 17z"]},bR={prefix:"fal",iconName:"angle-double-right",icon:[320,512,[],"f101","M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17zm128-17l-117.8-116c-4.7-4.7-12.3-4.7-17 0l-7.1 7.1c-4.7 4.7-4.7 12.3 0 17L255.3 256 153.1 356.4c-4.7 4.7-4.7 12.3 0 17l7.1 7.1c4.7 4.7 12.3 4.7 17 0l117.8-116c4.6-4.7 4.6-12.3-.1-17z"]},wR={prefix:"fal",iconName:"angle-down",icon:[256,512,[],"f107","M119.5 326.9L3.5 209.1c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0L128 287.3l100.4-102.2c4.7-4.7 12.3-4.7 17 0l7.1 7.1c4.7 4.7 4.7 12.3 0 17L136.5 327c-4.7 4.6-12.3 4.6-17-.1z"]},xR={prefix:"fal",iconName:"angle-left",icon:[192,512,[],"f104","M25.1 247.5l117.8-116c4.7-4.7 12.3-4.7 17 0l7.1 7.1c4.7 4.7 4.7 12.3 0 17L64.7 256l102.2 100.4c4.7 4.7 4.7 12.3 0 17l-7.1 7.1c-4.7 4.7-12.3 4.7-17 0L25 264.5c-4.6-4.7-4.6-12.3.1-17z"]},kR={prefix:"fal",iconName:"angle-right",icon:[192,512,[],"f105","M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17z"]},ER={prefix:"fal",iconName:"angle-up",icon:[256,512,[],"f106","M136.5 185.1l116 117.8c4.7 4.7 4.7 12.3 0 17l-7.1 7.1c-4.7 4.7-12.3 4.7-17 0L128 224.7 27.6 326.9c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17l116-117.8c4.7-4.6 12.3-4.6 17 .1z"]},SR={prefix:"fal",iconName:"arrow-down",icon:[448,512,[],"f063","M443.5 248.5l-7.1-7.1c-4.7-4.7-12.3-4.7-17 0L241 419.9V44c0-6.6-5.4-12-12-12h-10c-6.6 0-12 5.4-12 12v375.9L28.5 241.4c-4.7-4.7-12.3-4.7-17 0l-7.1 7.1c-4.7 4.7-4.7 12.3 0 17l211 211.1c4.7 4.7 12.3 4.7 17 0l211-211.1c4.8-4.8 4.8-12.3.1-17z"]},CR={prefix:"fal",iconName:"arrow-left",icon:[448,512,[],"f060","M231.536 475.535l7.071-7.07c4.686-4.686 4.686-12.284 0-16.971L60.113 273H436c6.627 0 12-5.373 12-12v-10c0-6.627-5.373-12-12-12H60.113L238.607 60.506c4.686-4.686 4.686-12.284 0-16.971l-7.071-7.07c-4.686-4.686-12.284-4.686-16.97 0L3.515 247.515c-4.686 4.686-4.686 12.284 0 16.971l211.051 211.05c4.686 4.686 12.284 4.686 16.97-.001z"]},IR={prefix:"fal",iconName:"arrow-right",icon:[448,512,[],"f061","M216.464 36.465l-7.071 7.07c-4.686 4.686-4.686 12.284 0 16.971L387.887 239H12c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h375.887L209.393 451.494c-4.686 4.686-4.686 12.284 0 16.971l7.071 7.07c4.686 4.686 12.284 4.686 16.97 0l211.051-211.05c4.686-4.686 4.686-12.284 0-16.971L233.434 36.465c-4.686-4.687-12.284-4.687-16.97 0z"]},AR={prefix:"fal",iconName:"arrow-up",icon:[448,512,[],"f062","M4.465 263.536l7.07 7.071c4.686 4.686 12.284 4.686 16.971 0L207 92.113V468c0 6.627 5.373 12 12 12h10c6.627 0 12-5.373 12-12V92.113l178.494 178.493c4.686 4.686 12.284 4.686 16.971 0l7.07-7.071c4.686-4.686 4.686-12.284 0-16.97l-211.05-211.05c-4.686-4.686-12.284-4.686-16.971 0L4.465 246.566c-4.687 4.686-4.687 12.284 0 16.97z"]},PR={prefix:"fal",iconName:"baby",icon:[384,512,[],"f77c","M374.2 160.3c-17.4-25.2-52-32.1-77.9-14.5l-36.4 25c-29.4 20.2-86 34.3-135.9 0l-36.4-25C61.9 128.2 27.2 135 9.8 160.3c-17.5 25.5-11 60.4 14.4 77.9l36.4 24.9c10.9 7.5 22.8 14.1 35.4 19.8v22.6l-54.3 56.2c-19.2 17.8-23.5 46.4-10 69.3L70 487.1c10.3 15.4 27.9 24.9 46.6 24.9 10 0 19.8-2.7 28.4-7.8 13-7.7 52.3-40.5 2-96.5l18.4-11.6c15.1 5.3 37.9 5.3 53.1 0l18.4 11.6c-50.3 56-11 88.8 2 96.5 8.6 5.1 18.4 7.8 28.4 7.8 18.7 0 36.2-9.5 46.6-24.9l38.3-56.1c13.5-22.9 9.1-51.5-10-69.3L288 305.5v-22.6c12.6-5.6 24.4-12.3 35.4-19.8l36.4-24.9c25.4-17.5 31.9-52.5 14.4-77.9zm-237 283.5c6.7 11.4 2.9 26.1-8.5 32.9-3.8 2.3-8 3.3-12.2 3.3-8.2 0-16.2-4.2-20.7-11.8l-36.6-53.4c-6-10.2-3.7-23.3 5.5-30.8l38.8-41.2c.7.8 1 1.8 1.7 2.6l35.2 35.2-29.4 27.7 26.2 35.5zm82.9-85.2c-13.2 13.2-43.5 12.8-56.2 0L128 322.7V312h128v10.7l-35.9 35.9zm99.1 25.4c9.2 7.5 11.5 20.6 5.5 30.8l-36.6 53.4c-4.5 7.6-12.5 11.8-20.7 11.8-4.1 0-8.3-1.1-12.2-3.3-11.4-6.7-15.2-21.5-8.5-32.9l26.1-35.6-29.4-27.7 35.2-35.2c.7-.7 1.1-1.8 1.7-2.6l38.9 41.3zm22.4-172.2l-36.3 24.9c-15.4 10.5-32 18.5-49.3 24.4V280H128v-18.9c-17.3-5.9-33.9-13.8-49.3-24.4l-36.3-24.9c-26.4-18.2 1.2-57.3 27.2-39.6l36.3 24.9c47.2 32.4 117.3 37.7 172.1 0l36.3-24.9c26.1-17.7 53.7 21.4 27.3 39.6zM192 160c44.2 0 80-35.8 80-80S236.2 0 192 0s-80 35.8-80 80 35.8 80 80 80zm0-128c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48z"]},TR={prefix:"fal",iconName:"bars",icon:[448,512,[],"f0c9","M442 114H6a6 6 0 0 1-6-6V84a6 6 0 0 1 6-6h436a6 6 0 0 1 6 6v24a6 6 0 0 1-6 6zm0 160H6a6 6 0 0 1-6-6v-24a6 6 0 0 1 6-6h436a6 6 0 0 1 6 6v24a6 6 0 0 1-6 6zm0 160H6a6 6 0 0 1-6-6v-24a6 6 0 0 1 6-6h436a6 6 0 0 1 6 6v24a6 6 0 0 1-6 6z"]},OR={prefix:"fal",iconName:"boot",icon:[512,512,[],"f782","M415 247.8L352 232V128c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H32C14.3 0 0 14.3 0 32v434.7c0 8.5 3.4 16.6 9.4 22.6l13.3 13.3c6 6 14.1 9.4 22.6 9.4h37.5c8.5 0 16.6-3.4 22.6-9.4L128 480l22.6 22.6c6 6 14.1 9.4 22.6 9.4h37.5c8.5 0 16.6-3.4 22.6-9.4L256 480l22.6 22.6c6 6 14.1 9.4 22.6 9.4h37.5c8.5 0 16.6-3.4 22.6-9.4L384 480l22.6 22.6c6 6 14.1 9.4 22.6 9.4h37.5c8.5 0 16.6-3.4 22.6-9.4l13.3-13.3c6-6 9.4-14.1 9.4-22.6v-94.8c0-58.7-40-109.9-97-124.1zM32 32h320v64H32V32zm448 434.7L466.7 480h-37.5l-22.6-22.6c-6-6-14.1-9.4-22.6-9.4s-16.6 3.4-22.6 9.4L338.7 480h-37.5l-22.6-22.6c-6-6-14.1-9.4-22.6-9.4s-16.6 3.4-22.6 9.4L210.7 480h-37.5l-22.6-22.6c-6-6-14.1-9.4-22.6-9.4s-16.6 3.4-22.6 9.4L82.7 480H45.3L32 466.7V416h448v50.7zm0-82.7H32V128h288v32h-88c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h88v32h-88c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h88l87.3 22.8c42.8 10.7 72.7 49 72.7 93.1V384z"]},LR={prefix:"fal",iconName:"caret-square-down",icon:[448,512,[],"f150","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm16 400c0 8.8-7.2 16-16 16H48c-8.8 0-16-7.2-16-16V80c0-8.8 7.2-16 16-16h352c8.8 0 16 7.2 16 16v352zm-96-208l-96 96-96-96h192m-192-32c-28.4 0-42.8 34.5-22.6 54.6l96 96c12.5 12.5 32.8 12.5 45.3 0l96-96c20.1-20.1 5.9-54.6-22.6-54.6H128z"]},MR={prefix:"fal",iconName:"caret-square-up",icon:[448,512,[],"f151","M48 480h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48zM32 80c0-8.8 7.2-16 16-16h352c8.8 0 16 7.2 16 16v352c0 8.8-7.2 16-16 16H48c-8.8 0-16-7.2-16-16V80zm96 208l96-96 96 96H128m192 32c28.4 0 42.8-34.5 22.6-54.6l-96-96c-12.5-12.5-32.8-12.5-45.3 0l-96 96c-20 20.1-5.8 54.6 22.7 54.6h192z"]},NR={prefix:"fal",iconName:"chevron-double-left",icon:[384,512,[],"f323","M349.5 475.5l-211.1-211c-4.7-4.7-4.7-12.3 0-17l211.1-211c4.7-4.7 12.3-4.7 17 0l7.1 7.1c4.7 4.7 4.7 12.3 0 17L178.1 256l195.5 195.5c4.7 4.7 4.7 12.3 0 17l-7.1 7.1c-4.7 4.6-12.3 4.6-17-.1zm-111 0l7.1-7.1c4.7-4.7 4.7-12.3 0-17L50.1 256 245.5 60.5c4.7-4.7 4.7-12.3 0-17l-7.1-7.1c-4.7-4.7-12.3-4.7-17 0l-211.1 211c-4.7 4.7-4.7 12.3 0 17l211.1 211c4.8 4.8 12.4 4.8 17.1.1z"]},RR={prefix:"fal",iconName:"chevron-double-right",icon:[384,512,[],"f324","M34.5 36.5l211.1 211c4.7 4.7 4.7 12.3 0 17l-211.1 211c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L205.9 256 10.5 60.5c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.6-4.6 12.2-4.6 16.9.1zm111 0l-7.1 7.1c-4.7 4.7-4.7 12.3 0 17L333.9 256 138.5 451.5c-4.7 4.7-4.7 12.3 0 17l7.1 7.1c4.7 4.7 12.3 4.7 17 0l211.1-211c4.7-4.7 4.7-12.3 0-17l-211.1-211c-4.8-4.8-12.4-4.8-17.1-.1z"]},DR={prefix:"fal",iconName:"chevron-down",icon:[448,512,[],"f078","M443.5 162.6l-7.1-7.1c-4.7-4.7-12.3-4.7-17 0L224 351 28.5 155.5c-4.7-4.7-12.3-4.7-17 0l-7.1 7.1c-4.7 4.7-4.7 12.3 0 17l211 211.1c4.7 4.7 12.3 4.7 17 0l211-211.1c4.8-4.7 4.8-12.3.1-17z"]},zR={prefix:"fal",iconName:"chevron-left",icon:[256,512,[],"f053","M238.475 475.535l7.071-7.07c4.686-4.686 4.686-12.284 0-16.971L50.053 256 245.546 60.506c4.686-4.686 4.686-12.284 0-16.971l-7.071-7.07c-4.686-4.686-12.284-4.686-16.97 0L10.454 247.515c-4.686 4.686-4.686 12.284 0 16.971l211.051 211.05c4.686 4.686 12.284 4.686 16.97-.001z"]},FR={prefix:"fal",iconName:"chevron-right",icon:[256,512,[],"f054","M17.525 36.465l-7.071 7.07c-4.686 4.686-4.686 12.284 0 16.971L205.947 256 10.454 451.494c-4.686 4.686-4.686 12.284 0 16.971l7.071 7.07c4.686 4.686 12.284 4.686 16.97 0l211.051-211.05c4.686-4.686 4.686-12.284 0-16.971L34.495 36.465c-4.686-4.687-12.284-4.687-16.97 0z"]},BR={prefix:"fal",iconName:"chevron-up",icon:[448,512,[],"f077","M4.465 366.475l7.07 7.071c4.686 4.686 12.284 4.686 16.971 0L224 178.053l195.494 195.493c4.686 4.686 12.284 4.686 16.971 0l7.07-7.071c4.686-4.686 4.686-12.284 0-16.97l-211.05-211.051c-4.686-4.686-12.284-4.686-16.971 0L4.465 349.505c-4.687 4.686-4.687 12.284 0 16.97z"]},jR={prefix:"fal",iconName:"coffee",icon:[576,512,[],"f0f4","M517.9 448H26.1c-24.5 0-33.1-32-20-32h531.8c13.1 0 4.5 32-20 32zM576 159.1c.5 53.4-42.7 96.9-96 96.9h-32v32c0 53-43 96-96 96H160c-53 0-96-43-96-96V76c0-6.6 5.4-12 12-12h402.8c52.8 0 96.7 42.2 97.2 95.1zM416 96H96v192c0 35.3 28.7 64 64 64h192c35.3 0 64-28.7 64-64V96zm128 64c0-35.3-28.7-64-64-64h-32v128h32c35.3 0 64-28.7 64-64z"]},VR={prefix:"fal",iconName:"cog",icon:[512,512,[],"f013","M482.696 299.276l-32.61-18.827a195.168 195.168 0 0 0 0-48.899l32.61-18.827c9.576-5.528 14.195-16.902 11.046-27.501-11.214-37.749-31.175-71.728-57.535-99.595-7.634-8.07-19.817-9.836-29.437-4.282l-32.562 18.798a194.125 194.125 0 0 0-42.339-24.48V38.049c0-11.13-7.652-20.804-18.484-23.367-37.644-8.909-77.118-8.91-114.77 0-10.831 2.563-18.484 12.236-18.484 23.367v37.614a194.101 194.101 0 0 0-42.339 24.48L105.23 81.345c-9.621-5.554-21.804-3.788-29.437 4.282-26.36 27.867-46.321 61.847-57.535 99.595-3.149 10.599 1.47 21.972 11.046 27.501l32.61 18.827a195.168 195.168 0 0 0 0 48.899l-32.61 18.827c-9.576 5.528-14.195 16.902-11.046 27.501 11.214 37.748 31.175 71.728 57.535 99.595 7.634 8.07 19.817 9.836 29.437 4.283l32.562-18.798a194.08 194.08 0 0 0 42.339 24.479v37.614c0 11.13 7.652 20.804 18.484 23.367 37.645 8.909 77.118 8.91 114.77 0 10.831-2.563 18.484-12.236 18.484-23.367v-37.614a194.138 194.138 0 0 0 42.339-24.479l32.562 18.798c9.62 5.554 21.803 3.788 29.437-4.283 26.36-27.867 46.321-61.847 57.535-99.595 3.149-10.599-1.47-21.972-11.046-27.501zm-65.479 100.461l-46.309-26.74c-26.988 23.071-36.559 28.876-71.039 41.059v53.479a217.145 217.145 0 0 1-87.738 0v-53.479c-33.621-11.879-43.355-17.395-71.039-41.059l-46.309 26.74c-19.71-22.09-34.689-47.989-43.929-75.958l46.329-26.74c-6.535-35.417-6.538-46.644 0-82.079l-46.329-26.74c9.24-27.969 24.22-53.869 43.929-75.969l46.309 26.76c27.377-23.434 37.063-29.065 71.039-41.069V44.464a216.79 216.79 0 0 1 87.738 0v53.479c33.978 12.005 43.665 17.637 71.039 41.069l46.309-26.76c19.709 22.099 34.689 47.999 43.929 75.969l-46.329 26.74c6.536 35.426 6.538 46.644 0 82.079l46.329 26.74c-9.24 27.968-24.219 53.868-43.929 75.957zM256 160c-52.935 0-96 43.065-96 96s43.065 96 96 96 96-43.065 96-96-43.065-96-96-96zm0 160c-35.29 0-64-28.71-64-64s28.71-64 64-64 64 28.71 64 64-28.71 64-64 64z"]},UR={prefix:"fal",iconName:"compass",icon:[496,512,[],"f14e","M264.97 272.97c9.38-9.37 9.38-24.57 0-33.94-9.37-9.37-24.57-9.37-33.94 0-9.38 9.37-9.38 24.57 0 33.94 9.37 9.37 24.57 9.37 33.94 0zM351.44 125c-2.26 0-4.51.37-6.71 1.16l-154.9 55.85c-7.49 2.7-13.1 8.31-15.8 15.8l-55.85 154.91c-5.65 15.67 10.33 34.27 26.4 34.27 2.26 0 4.51-.37 6.71-1.16l154.9-55.85c7.49-2.7 13.1-8.31 15.8-15.8l55.85-154.9c5.64-15.67-10.33-34.28-26.4-34.28zm-58.65 175.79l-140.1 50.51 50.51-140.11 140.11-50.51-50.52 140.11zM248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 464c-119.1 0-216-96.9-216-216S128.9 40 248 40s216 96.9 216 216-96.9 216-216 216z"]},qR={prefix:"fal",iconName:"dot-circle",icon:[512,512,[],"f192","M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 464c-118.663 0-216-96.055-216-216 0-118.663 96.055-216 216-216 118.663 0 216 96.055 216 216 0 118.663-96.055 216-216 216zm0-296c-44.183 0-80 35.817-80 80s35.817 80 80 80 80-35.817 80-80-35.817-80-80-80zm0 128c-26.467 0-48-21.533-48-48s21.533-48 48-48 48 21.533 48 48-21.533 48-48 48z"]},GR={prefix:"fal",iconName:"ellipsis-h",icon:[320,512,[],"f141","M192 256c0 17.7-14.3 32-32 32s-32-14.3-32-32 14.3-32 32-32 32 14.3 32 32zm88-32c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm-240 0c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32z"]},HR={prefix:"fal",iconName:"ellipsis-v",icon:[64,512,[],"f142","M32 224c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zM0 136c0 17.7 14.3 32 32 32s32-14.3 32-32-14.3-32-32-32-32 14.3-32 32zm0 240c0 17.7 14.3 32 32 32s32-14.3 32-32-14.3-32-32-32-32 14.3-32 32z"]},WR={prefix:"fal",iconName:"ellipsis-v-alt",icon:[192,512,[],"f39c","M96 152c39.8 0 72-32.2 72-72S135.8 8 96 8 24 40.2 24 80s32.2 72 72 72zm0-112c22.1 0 40 17.9 40 40s-17.9 40-40 40-40-17.9-40-40 17.9-40 40-40zm0 144c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm0 112c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40zm0 64c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm0 112c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40z"]},YR={prefix:"fal",iconName:"map-marker-alt",icon:[384,512,[],"f3c5","M192 96c-52.935 0-96 43.065-96 96s43.065 96 96 96 96-43.065 96-96-43.065-96-96-96zm0 160c-35.29 0-64-28.71-64-64s28.71-64 64-64 64 28.71 64 64-28.71 64-64 64zm0-256C85.961 0 0 85.961 0 192c0 77.413 26.97 99.031 172.268 309.67 9.534 13.772 29.929 13.774 39.465 0C357.03 291.031 384 269.413 384 192 384 85.961 298.039 0 192 0zm0 473.931C52.705 272.488 32 256.494 32 192c0-42.738 16.643-82.917 46.863-113.137S149.262 32 192 32s82.917 16.643 113.137 46.863S352 149.262 352 192c0 64.49-20.692 80.47-160 281.931z"]},ZR={prefix:"fal",iconName:"money-bill",icon:[640,512,[],"f0d6","M320 144c-53 0-96 50.1-96 112 0 61.8 43 112 96 112s96-50.1 96-112-43-112-96-112zm0 192c-35.3 0-64-35.9-64-80s28.7-80 64-80 64 35.9 64 80-28.7 80-64 80zM608 64H32C14.3 64 0 78.3 0 96v320c0 17.7 14.3 32 32 32h576c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zM32 96h64c0 35.3-28.7 64-64 64V96zm0 320v-64c35.3 0 64 28.7 64 64H32zm576 0h-64c0-35.3 28.7-64 64-64v64zm0-96c-52.9 0-96 43.1-96 96H128c0-52.9-43.1-96-96-96V192c52.9 0 96-43.1 96-96h384c0 52.9 43.1 96 96 96v128zm0-160c-35.3 0-64-28.7-64-64h64v64z"]},XR={prefix:"fal",iconName:"pennant",icon:[576,512,[],"f456","M552 191.3c-30 6.2-115.6 12.5-260.7-63.6-87-45.7-158.1-51.8-210-45.2 9-8.8 14.7-21 14.7-34.5C96 21.5 74.5 0 48 0S0 21.5 0 48c0 20.8 13.4 38.4 32 45.1V504c0 4.4 3.6 8 8 8h16c4.4 0 8-3.6 8-8v-79.6c40.2-27.2 102-56.4 179.5-60.2 28.7-1.4 76-5.8 137.9-18.8 4.4-.9 109.4-23.8 190-121.7 11.8-14.3-.7-36.2-19.4-32.4zM48 32c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm326.9 282.1c-59.9 12.5-105.4 16.8-133 18.2-84.8 4.2-145.3 35.1-177.9 54.2V117.7c47.2-10.6 119.5-10.5 212.4 38.3 118.9 62.4 202.3 72.4 249.5 70.4-69.5 69.7-150.1 87.5-151 87.7z"]},KR={prefix:"fal",iconName:"route",icon:[512,512,[],"f4d7","M432 352H320c-26.5 0-48-21.5-48-48s21.5-48 48-48h96s96-107 96-160-43-96-96-96-96 43-96 96c0 34.6 40.9 92.2 69.3 128H320c-44.1 0-80 35.9-80 80s35.9 80 80 80h112c26.5 0 48 21.5 48 48s-21.5 48-48 48H122.7c28.4-35.8 69.3-93.4 69.3-128 0-53-43-96-96-96S0 299 0 352s96 160 96 160h336c44.1 0 80-35.9 80-80s-35.9-80-80-80zM352 96c0-35.3 28.7-64 64-64s64 28.7 64 64c0 20.4-30.1 68-64 110.4-34-42.6-64-90.6-64-110.4zM32 352c0-35.3 28.7-64 64-64s64 28.7 64 64c0 20.4-30.1 68-64 110.4-34-42.6-64-90.6-64-110.4zm64-16c-21.2 0-21.1 32 0 32 21.2 0 21.1-32 0-32zM416 80c-21.2 0-21.1 32 0 32 21.2 0 21.1-32 0-32z"]},$R={prefix:"fal",iconName:"search",icon:[512,512,[],"f002","M508.5 481.6l-129-129c-2.3-2.3-5.3-3.5-8.5-3.5h-10.3C395 312 416 262.5 416 208 416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c54.5 0 104-21 141.1-55.2V371c0 3.2 1.3 6.2 3.5 8.5l129 129c4.7 4.7 12.3 4.7 17 0l9.9-9.9c4.7-4.7 4.7-12.3 0-17zM208 384c-97.3 0-176-78.7-176-176S110.7 32 208 32s176 78.7 176 176-78.7 176-176 176z"]},JR={prefix:"fal",iconName:"search-location",icon:[512,512,[],"f689","M208 96c-49.53 0-89.81 40.3-89.81 89.83 0 34.66 38.34 87.2 70.53 125.2 4.81 5.7 11.84 8.97 19.28 8.97s14.47-3.27 19.31-8.97c32.16-38 70.5-90.55 70.5-125.2C297.81 136.3 257.53 96 208 96zm0 188.23c-35.31-42.7-57.81-80.89-57.81-98.41 0-31.89 25.94-57.83 57.81-57.83s57.81 25.94 57.81 57.83c0 17.52-22.5 55.71-57.81 98.41zM208 160c-13.25 0-24 10.74-24 24 0 13.25 10.75 24 24 24s24-10.75 24-24c0-13.26-10.75-24-24-24zm300.47 321.58l-128.99-129c-2.3-2.3-5.3-3.5-8.5-3.5h-10.3c34.3-37.1 55.3-86.6 55.3-141.09C415.98 93.1 322.88 0 207.99 0S0 93.1 0 207.99c0 114.89 93.1 207.99 207.99 207.99 54.5 0 103.99-21 141.09-55.2v10.2c0 3.2 1.3 6.2 3.5 8.5l128.99 128.99c4.7 4.7 12.3 4.7 17 0l9.9-9.9c4.71-4.69 4.71-12.29 0-16.99zm-300.48-97.6C110.7 383.98 32 305.29 32 207.99 32 110.69 110.7 32 207.99 32s175.99 78.7 175.99 175.99c0 97.3-78.69 175.99-175.99 175.99z"]},QR={prefix:"fal",iconName:"shoe-prints",icon:[640,512,[],"f54b","M337.46 272c-34.91 0-76.16 14.06-104.73 34.29-24.79 17.55-44.52 34.29-104.73 34.29H64c-35.35 0-64 30.7-64 68.57S28.65 480 64 480h64l57.53 14.82C217.42 504.3 250.17 512 293.3 512 403.84 512 512 456.84 512 374.86 512 306.29 427.82 272 337.46 272zM112 448H64c-17.05 0-32-18.16-32-38.86 0-20.17 14.36-36.57 32-36.57h48V448zm81.51 15.84L144 451.08v-79.11c55.33-2.95 80.75-20.66 103.08-36.62C338.33 270.38 480 316.73 480 374.86c0 62.15-121.49 137.92-286.49 88.98zM421.29 0c-43.42 0-76.17 7.78-107.77 17.17L256 32h-64c-35.35 0-64 32.98-64 70.86 0 37.87 28.65 68.57 64 68.57h64c60.2 0 79.94 16.73 104.73 34.29C389.3 225.94 430.54 240 465.46 240 555.82 240 640 205.71 640 137.14 640 55.84 533.12 0 421.29 0zM240 139.43h-48c-17.64 0-32-16.4-32-36.57C160 82.16 174.95 64 192 64h48v75.43zM465.46 208c-27.58 0-62.24-11.41-86.24-28.4-23.71-16.89-48.76-36.45-107.22-39.56V60.92l50.65-13.07C352.05 39.1 381.72 32 421.29 32 473.38 32 608 58.02 608 137.14c0 46.52-71.71 70.86-142.54 70.86z"]},tD={prefix:"fal",iconName:"shopping-cart",icon:[576,512,[],"f07a","M551.991 64H129.28l-8.329-44.423C118.822 8.226 108.911 0 97.362 0H12C5.373 0 0 5.373 0 12v8c0 6.627 5.373 12 12 12h78.72l69.927 372.946C150.305 416.314 144 431.42 144 448c0 35.346 28.654 64 64 64s64-28.654 64-64a63.681 63.681 0 0 0-8.583-32h145.167a63.681 63.681 0 0 0-8.583 32c0 35.346 28.654 64 64 64 35.346 0 64-28.654 64-64 0-17.993-7.435-34.24-19.388-45.868C506.022 391.891 496.76 384 485.328 384H189.28l-12-64h331.381c11.368 0 21.177-7.976 23.496-19.105l43.331-208C578.592 77.991 567.215 64 551.991 64zM240 448c0 17.645-14.355 32-32 32s-32-14.355-32-32 14.355-32 32-32 32 14.355 32 32zm224 32c-17.645 0-32-14.355-32-32s14.355-32 32-32 32 14.355 32 32-14.355 32-32 32zm38.156-192H171.28l-36-192h406.876l-40 192z"]},eD={prefix:"fal",iconName:"sort",icon:[320,512,[],"f0dc","M288 288H32c-28.4 0-42.8 34.5-22.6 54.6l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c20-20.1 5.7-54.6-22.7-54.6zM160 448L32 320h256L160 448zM32 224h256c28.4 0 42.8-34.5 22.6-54.6l-128-128c-12.5-12.5-32.8-12.5-45.3 0l-128 128C-10.7 189.5 3.6 224 32 224zM160 64l128 128H32L160 64z"]},nD={prefix:"fal",iconName:"stethoscope",icon:[512,512,[],"f0f1","M430.1 96.5c-43.6 1-78.7 37.5-78.1 81.1.5 38.2 27.8 69.9 64 77.2v105.6c0 65.9-57.4 119.5-128 119.5s-128-53.6-128-119.5v-8.9c71.9-8 128-69.1 128-143.1V25.8c0-5.5-3.7-10.3-9.1-11.6L223.5.4c-6.4-1.6-12.9 2.3-14.6 8.7l-1.9 7.8c-1.6 6.4 2.3 12.9 8.7 14.6l40.3 10v165.8c0 61.8-49.5 112.9-111.3 113.2-62.1.4-112.7-50-112.7-112v-167l40.2-10.1c6.4-1.6 10.3-8.1 8.7-14.6L79 9.1C77.4 2.7 70.9-1.2 64.4.4L9.1 14.2C3.7 15.5 0 20.3 0 25.8v182.6c0 74 56.1 135.1 128 143.1v8.9C128 444 199.8 512 288 512s160-68 160-151.5V254.9c36.5-7.4 64-39.7 64-78.4 0-44.9-36.9-81.1-81.9-80zm1.9 128c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm23.5-48c0 13-10.5 23.5-23.5 23.5s-23.5-10.5-23.5-23.5S419 153 432 153s23.5 10.5 23.5 23.5z"]},iD={prefix:"fal",iconName:"times",icon:[320,512,[],"f00d","M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z"]},rD={prefix:"fal",iconName:"times-circle",icon:[512,512,[],"f057","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 464c-118.7 0-216-96.1-216-216 0-118.7 96.1-216 216-216 118.7 0 216 96.1 216 216 0 118.7-96.1 216-216 216zm94.8-285.3L281.5 256l69.3 69.3c4.7 4.7 4.7 12.3 0 17l-8.5 8.5c-4.7 4.7-12.3 4.7-17 0L256 281.5l-69.3 69.3c-4.7 4.7-12.3 4.7-17 0l-8.5-8.5c-4.7-4.7-4.7-12.3 0-17l69.3-69.3-69.3-69.3c-4.7-4.7-4.7-12.3 0-17l8.5-8.5c4.7-4.7 12.3-4.7 17 0l69.3 69.3 69.3-69.3c4.7-4.7 12.3-4.7 17 0l8.5 8.5c4.6 4.7 4.6 12.3 0 17z"]},oD={prefix:"fal",iconName:"toggle-off",icon:[576,512,[],"f204","M384 96c42.738 0 82.917 16.643 113.137 46.863S544 213.262 544 256s-16.643 82.917-46.863 113.137S426.738 416 384 416H192c-42.738 0-82.917-16.643-113.137-46.863S32 298.738 32 256s16.643-82.917 46.863-113.137S149.262 96 192 96h192m0-32H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zm-192 96c52.935 0 96 43.065 96 96s-43.065 96-96 96-96-43.065-96-96 43.065-96 96-96m0-32c-70.692 0-128 57.307-128 128s57.308 128 128 128 128-57.307 128-128-57.308-128-128-128z"]},aD={prefix:"fal",iconName:"toggle-on",icon:[576,512,[],"f205","M384 96c88.426 0 160 71.561 160 160 0 88.426-71.561 160-160 160H192c-88.426 0-160-71.561-160-160 0-88.425 71.561-160 160-160h192m0-32H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zm0 304c61.856 0 112-50.144 112-112s-50.144-112-112-112-112 50.144-112 112c0 28.404 10.574 54.339 27.999 74.082C320.522 353.335 350.548 368 384 368z"]},sD={prefix:"fal",iconName:"toilet",icon:[384,512,[],"f7d8","M376 32c4.4 0 8-3.6 8-8V8c0-4.4-3.6-8-8-8H8C3.6 0 0 3.6 0 8v16c0 4.4 3.6 8 8 8h24v172.7C11.8 214.8 0 226.9 0 240c0 67.2 34.6 126.2 86.8 160.5l-21.4 70.2C59.1 491.2 74.5 512 96 512h192c21.5 0 36.9-20.8 30.6-41.3l-21.4-70.2C349.4 366.2 384 307.2 384 240c0-13.1-11.8-25.2-32-35.3V32h24zM64 32h256v160.4c-34-10.2-78.8-16.4-128-16.4s-94 6.2-128 16.4V32zm128 176c83.9 0 152 14.3 152 32s-68.1 32-152 32-152-14.3-152-32 68.1-32 152-32zM96 480l19.5-63.9C139 426.3 164.8 432 192 432s53-5.7 76.5-15.9L288 480H96zm96-80c-75.2 0-138.1-52.3-155.1-122.4 34.9 16 91.3 26.4 155.1 26.4s120.2-10.4 155.1-26.4C330.1 347.7 267.2 400 192 400zM152 64h-48c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V72c0-4.4-3.6-8-8-8z"]},uD={prefix:"fal",iconName:"tshirt",icon:[608,512,[],"f553","M606.4 111.6c-2.6-7.8-8-14.1-15.2-17.8L403.8 0l-7.9 11.1c-15.7 22-51.8 36.2-91.9 36.2s-76.2-14.2-91.9-36.2L204.2 0 16.8 93.8c-7.3 3.7-12.7 10-15.2 17.8-2.6 7.8-2 16.1 1.7 23.4l51.5 104c3.6 7.4 9.8 12.9 17.5 15.4 7.7 2.7 16 2 23.2-1.6l48.6-24v237.8c0 25 20.1 45.3 44.8 45.3h230.4c24.7 0 44.8-20.3 44.8-45.3V228.9l48.5 24c7.2 3.7 15.5 4.3 23.3 1.6 7.7-2.6 13.9-8.1 17.5-15.4L604.9 135c3.5-7.3 4.1-15.6 1.5-23.4zm-79.7 112.3L432 177.1v289.7c0 7.1-5.7 12.9-12.8 12.9H188.8c-7.1 0-12.8-5.8-12.8-12.9V177.1l-92.6 47.6-52.3-101.9 164.1-82.2c24 24.3 64.2 39 108.9 39S389 64.9 413 40.6L575.5 122l-48.8 101.9z"]},lD={prefix:"fal",iconName:"utensils",icon:[480,512,[],"f2e7","M344.1 470.3l14.2-164.8c-42.1-33.1-70.4-77-70.4-129.5C288 81.7 376.1 0 440 0c22.1 0 40 17.3 40 38.5v435c0 21.2-17.9 38.5-40 38.5h-56c-22.8 0-41.8-18.7-39.9-41.7zM320 176c0 51 32.2 85.5 71.8 114.5L376 473.1c-.3 3.7 3.4 6.9 8 6.9h56c4.3 0 8-3 8-6.5v-435c0-3.5-3.7-6.5-8-6.5-44.6 0-120 65.8-120 144zM240.7 33.8C237.4 14.3 219.5 0 194.6 0c-11.9 0-24.1 3.4-33.3 11.2C152.9 4.1 141.3 0 128 0s-24.9 4.1-33.3 11.2C85.5 3.4 73.3 0 61.4 0 36.2 0 18.6 14.5 15.3 33.8 13.5 43.2 0 118.4 0 149.9c0 50.9 26.7 91.6 71 110.7L59.6 471.4C58.4 493.4 75.9 512 98 512h60c22 0 39.6-18.5 38.4-40.6L185 260.6c44.2-19.1 71-59.8 71-110.7 0-31.5-13.5-106.7-15.3-116.1zM152.3 240l12.2 233.1c.2 3.7-2.7 6.9-6.5 6.9H98c-3.7 0-6.7-3.1-6.5-6.9L103.7 240C61.3 231.2 32 197 32 149.9c0-29.7 14.8-110.6 14.8-110.6 1.6-9.9 28.3-9.7 29.5.2V162c.9 11.5 28.2 11.7 29.5.2l7.4-122.9c1.6-9.7 27.9-9.7 29.5 0l7.4 122.9c1.3 11.4 28.6 11.2 29.5-.2V39.6c1.2-9.9 27.9-10.1 29.5-.2 0 0 14.8 80.9 14.8 110.6.1 46.8-29 81.2-71.6 90z"]},cD={prefix:"fal",iconName:"walking",icon:[320,512,[],"f554","M305.5 247.3l-19.6-21.1-8.7-28.5c-7.9-26.1-23.3-47.8-43.2-62.8 19.3-13.4 32-35.7 32-60.9 0-40.8-33.2-74-74-74s-74 33.2-74 74c0 15.7 4.9 30.3 13.3 42.3-14.7 3.8-28.4 9.8-45.3 17.4l-8.6 3.8c-24 10.5-43.4 30.1-54.9 55.2l-11.8 28c-7.3 17.2-5.7 35.7 4.2 50.7C24.6 286 41.2 295 58.4 295c12.5 0 24-4.7 32.9-12.9.2 1.4.4 2.7.6 4.1l-14.2 38.9-16.3 44.6L14 422.1c-18.7 20.4-18.7 52.4 0 72.9 9.6 10.5 23.2 16.6 37.2 16.6 14 0 27.6-6 37.2-16.6l46.7-51.2c9.6-10.6 17-22.9 22-36.5l8.7-23.9 10.6 10.7c.5.5.8 1.3.9 1.9l15.6 74.2C198 494.5 219 512 242.8 512c4 0 8.1-.5 12.1-1.5 27.4-6.9 44-34.6 38-62.9l-15.6-74.1c-2.8-13.2-7.8-25.6-14.7-36.7 1.8.2 3.6.3 5.5.3 20.3 0 38.9-12.6 47.4-32.2 8.6-19.5 4.7-41.6-10-57.6zM192 32c23.2 0 42 18.8 42 42s-18.8 42-42 42-42-18.8-42-42 18.8-42 42-42zm-65 364.3c-3.5 9.7-8.8 18.4-15.6 25.9l-46.7 51.2c-3.7 4.1-8.6 6.2-13.6 6.2-4.9 0-9.8-2.1-13.6-6.2-7.5-8.2-7.5-21.5 0-29.7l46.7-51.2c3.1-3.4 5.5-7.4 7.1-11.8l16.3-44.6.1.1 1 1.2 29 29.3-10.7 29.6zm141.1-91.1c-4.4 0-9-1.8-13-6.2l-23.5-25.3c-5-5.4-8.8-12.1-11-19.4-11.4-37.5-11.5-39.9-17.5-48.5l-20.9 91.7 43 43.4c10.4 10.6 17.7 24.2 20.8 39.3l15.6 74.1c2.4 11.3-4 22.6-14.4 25.2-1.5.4-3 .5-4.4.5-9.4 0-16.7-7.6-18.6-16.3l-15.6-74.2c-1.4-6.9-4.7-13-9.5-17.8L136 307.8c-11.6-13.8-15.7-31.2-11.9-47.7l15.8-69.3c-9 3.2-18.1 7.3-35.4 15-8 3.5-14.5 10-18.3 18.4L75 250.8c-3.7 8.7-10.1 12.3-16.6 12.3-12.5 0-25.2-13.4-18.2-29.9L51.7 206c8.3-18.2 21.9-31.9 38.6-39.2 34.2-15.1 48.7-22.8 76.6-22.8 36.3 0 68.3 25.3 79.8 63l10.3 33.9c.3 1 .8 2 1.6 2.8L282 269c14.1 15.3.9 36.2-13.9 36.2z"]},hD={prefix:"fal",iconName:"wheelchair",icon:[448,512,[],"f193","M443.875 396.323l3.151 7.353c2.611 6.092-.211 13.146-6.303 15.757l-42.421 19.273c-7.658 3.284-17.345.3-21.175-8.797L317.376 288H176a16 16 0 0 1-15.839-13.737C125.779 33.586 128.211 51.165 128 48c0-27.13 22.508-49.003 49.87-47.964 24.878.945 45.15 21.216 46.095 46.094C225.004 73.491 203.131 96 176 96c-3.115 0-6.156-.307-9.105-.874L176.162 160H308c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12H180.734l9.143 64H328a16 16 0 0 1 14.746 9.791l57.752 137.159 27.621-12.929c6.091-2.611 13.146.211 15.756 6.302zm-127.488-28.211C301.755 432.107 244.366 480 176 480c-79.401 0-144-64.599-144-144 0-58.714 35.326-109.325 85.836-131.717l-4.671-32.679C47.059 196.957 0 261.081 0 336c0 97.047 78.953 176 176 176 69.906 0 130.418-40.969 158.801-100.155l-18.414-43.733z"]},pD=((GN=function t(e){m(this,t),e.addIcons(BR,DR,FR,zR,NR,RR,$R,qR,WR,GR,HR,rD,iD,JR,YR,hD,oD,aD,jR,uD,tD,lD,OR,sD,PR,nD,ZR,AR,SR,CR,IR,xR,kR,vR,bR,LR,MR,QR,eD,XR,KR,wR,ER,cD,VR,UR,FR,TR)}).\u0275fac=function(t){return new(t||GN)(Ei(bx))},GN.\u0275mod=ce({type:GN}),GN.\u0275inj=Pt({imports:[Ex]}),GN),fD=((qN=function t(){m(this,t)}).\u0275fac=function(t){return new(t||qN)},qN.\u0275mod=ce({type:qN}),qN.\u0275inj=Pt({imports:[[Hh,FA,Kk,$k,qS,r_,pD,yR,QT],Kb,$k,QT]}),qN),dD=((UN=function t(){m(this,t)}).\u0275fac=function(t){return new(t||UN)},UN.\u0275mod=ce({type:UN}),UN.\u0275inj=Pt({imports:[[Hh,fD,pD,vN,yR,YN]]}),UN),gD=((VN=function t(){m(this,t)}).\u0275fac=function(t){return new(t||VN)},VN.\u0275mod=ce({type:VN}),VN.\u0275inj=Pt({imports:[[Hh,qS,yR,Kk,Ex,fD,CO]]}),VN),mD=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/assets/i18n/",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".json";m(this,t),this.http=e,this.prefix=n,this.suffix=i}return y(t,[{key:"getTranslation",value:function(t){return this.http.get("".concat(this.prefix).concat(t).concat(this.suffix))}}]),t}();function _D(t){return new mD(t,"./assets/i18n/")}var yD,vD=((yD=function t(){m(this,t)}).\u0275fac=function(t){return new(t||yD)},yD.\u0275mod=ce({type:yD,bootstrap:[_N]}),yD.\u0275inj=Pt({providers:[],imports:[[Np,If,Kb.forRoot({loader:{provide:xb,useFactory:_D,deps:[pf]}}),pD,yR,fD,gD,dD,m_,$k]]}),yD);(function(){if(gc)throw new Error("Cannot enable prod mode after platform setup.");dc=!1})(),Lp().bootstrapModule(vD).catch(function(t){return console.error(t)})},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zuR4:function(t,e,n){"use strict";var i=n("xTJ+"),r=n("HSsa"),o=n("CgaS"),a=n("SntB");function s(t){var e=new o(t),n=r(o.prototype.request,e);return i.extend(n,o.prototype,e),i.extend(n,e),n}var u=s(n("JEQr"));u.Axios=o,u.create=function(t){return s(a(u.defaults,t))},u.Cancel=n("endd"),u.CancelToken=n("jfS+"),u.isCancel=n("Lmem"),u.all=function(t){return Promise.all(t)},u.spread=n("DfZB"),u.isAxiosError=n("XwJu"),t.exports=u,t.exports.default=u}},[[0,0]]])}();